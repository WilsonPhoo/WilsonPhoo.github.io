(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{1113:function(e,t,r){"use strict";r.r(t);var n=r(45),a=r(48),o=r(47),i=r(46),s=r(49),c=r(114),u=(r(12),r(5)),l=r.n(u),m=r(1),p=r.n(m),f=r(226),d=r(56),h=r(293),y=r(65),v=r(306),b=r(11),g=r.n(b),O=r(50),S=r(40),E=r(13),A=r(32),T=r(8),C=r(398),w=g()({loader:function(){return Promise.all([r.e(0),r.e(2),r.e(51)]).then(r.bind(null,499))},loading:function(){return null},modules:["StepProgressBar"]}),I=g()({loader:function(){return Promise.all([r.e(0),r.e(1),r.e(3),r.e(2),r.e(38)]).then(r.bind(null,1094))},loading:function(){return null},modules:["MotorMainContainer"]}),R=g()({loader:function(){return Promise.all([r.e(0),r.e(1),r.e(2),r.e(39)]).then(r.bind(null,1095))},loading:function(){return null},modules:["MotorMoreContainer"]}),j=g()({loader:function(){return Promise.all([r.e(0),r.e(1),r.e(3),r.e(2),r.e(36)]).then(r.bind(null,1087))},loading:function(){return null},modules:["MotorCompanyContainer"]}),P=g()({loader:function(){return Promise.all([r.e(0),r.e(1),r.e(3),r.e(2),r.e(35)]).then(r.bind(null,1086))},loading:function(){return null},modules:["MotorChoosePlanContainer"]}),_=g()({loader:function(){return Promise.all([r.e(0),r.e(1),r.e(2),r.e(10),r.e(37)]).then(r.bind(null,1096))},loading:function(){return null},modules:["MotorDetailContainer"]}),k=function(e){function t(e){var r;Object(n.a)(this,t),(r=Object(a.a)(this,Object(o.a)(t).call(this,e))).state={formIndex:0,isInitialLoad:!0};var i=r.props,s=i.resetStoreForm,u=i.motorPromoGiveAway,l=i.clearData;i.history;return void 0===u&&r.props.getPromoGiveaways(),l(),r.props.resetCompare(),r.props.resetInsuranceForm(),s("motor"),s("motor-more"),s("motor-detail"),r.renderStepProgress=r.renderStepProgress.bind(Object(c.a)(Object(c.a)(r))),r.renderMotorForms=r.renderMotorForms.bind(Object(c.a)(Object(c.a)(r))),r.setInitialFormState=r.setInitialFormState.bind(Object(c.a)(Object(c.a)(r))),r.changeUserDetails=r.changeUserDetails.bind(Object(c.a)(Object(c.a)(r))),r}return Object(s.a)(t,e),Object(i.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var r=t.formIndex,n=t.isMounted,a=e.formState,o=e.match,i=e.history;if(n){var s=Object(T.n)("motor",a,r,o,i);if(s&&null!==s.formIndex)return{formIndex:s.formIndex}}return null}}]),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setInitialFormState(),this.setState({isMounted:!0})}},{key:"componentDidUpdate",value:function(e){var t=this.state.isInitialLoad,r=this.props.userDetails;t&&l.a.isEqual(r,e.userDetails)&&this.changeUserDetails()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearData,r=e.resetStoreForm;t(),this.props.resetCompare(),this.props.resetInsuranceForm(),r("motor"),r("motor-more"),r("motor-detail")}},{key:"setInitialFormState",value:function(){var e=this.props.changeForm;e("motor","vehicle_make","AUDI"),setTimeout(function(){return e("motor","vehicle_model","A3 1.0")},2),e("motor","year_registered",2018),e("motor-detail","vehicle_make","AUDI"),e("motor-detail","vehicle_model","A3 1.0"),e("motor-detail","reg_year",2018),e("motor-more","year_born",1990),e("motor-more","years_driving","One"),e("motor-more","number_of_claims",0),this.changeUserDetails()}},{key:"changeUserDetails",value:function(){var e=this.state.isInitialLoad,t=this.props,r=t.userDetails,n=t.changeForm;if(r){var a=r.dateOfBirth&&r.dateOfBirth.length>=4?parseInt(r.dateOfBirth.slice(r.dateOfBirth.length-4),10):null,o=l.a.startCase(r.marital_status),i=l.a.startCase(r.gender),s=r.surname?r.surname:"",c=r.firstName?" ".concat(r.firstName):"";n("motor-more","year_born",a),n("motor-more","marital_status",o),n("motor-more","gender",i),n("motor-detail","email",r.email),n("motor-detail","name","".concat(s).concat(c)),n("motor-detail","nric",r.nric),n("motor-detail","birth_date",r.dateOfBirth),n("motor-detail","gender",i),n("motor-detail","marital_status",o),n("motor-detail","postal",r.postal_code),n("motor-detail","mobile_number",r.contact),e&&this.setState({isInitialLoad:!1})}}},{key:"renderStepProgress",value:function(){var e=this.state.formIndex,t=this.props.charged;return p.a.createElement(w,{maxWidth:"556px",formState:e,inputList:["About yourself","Choose Company","Choose Plan","Details"],form:"motor",stateList:[E.b.MORE,E.b.CHOOSECOMPANY,E.b.CHOOSEPLAN,E.b.DETAILFORM],stateDescriptions:[{main:"Tell us more about yourself"},{main:" "},{main:" "},{main:"Details"}],charged:t})}},{key:"renderMotorForms",value:function(){var e=this.state.formIndex,t=this.props.userDetails,r=!l.a.isEmpty(t);switch(e){case E.b.MORE.index:return p.a.createElement(R,{isLoggedIn:r});case E.b.CHOOSECOMPANY.index:return p.a.createElement(j,{isLoggedIn:r});case E.b.CHOOSEPLAN.index:return p.a.createElement(P,{isLoggedIn:r});case E.b.DETAILFORM.index:return p.a.createElement(_,{isLoggedIn:r,piggyCallback:this.changeUserDetails});default:return p.a.createElement(I,{isLoggedIn:r})}}},{key:"render",value:function(){var e=this,t=this.props,r=t.constants,n=t.charged,a=t.motorPromoGiveAway;if(!r||void 0===a)return null;var o=A.e?"car insurance, motor insurance, auto insurance, vehicle insurance, car insurance quotes, compare car insurance, cheapest car insurance, car insurance quotes online":"";return p.a.createElement(v.a,{id:"motor"},p.a.createElement(f.Helmet,null,p.a.createElement("meta",{name:"keywords",content:o}),p.a.createElement("title",null,"PolicyPal 2.0 - Motor Insurance"),p.a.createElement("meta",{name:"title",content:"PolicyPal 2.0 - Motor Insurance"}),p.a.createElement("meta",{name:"description",content:"Browse products for motor insurance."})),n?null:this.renderStepProgress(),this.renderMotorForms(),p.a.createElement(C.a,{ref:function(t){e.refresher||t.invokeNewTimer(),e.refresher=t}}))}}]),t}(m.Component);k.defaultProps={constants:null,charged:null,motorPromoGiveAway:void 0,userDetails:null};t.default=Object(y.a)(Object(d.connect)(function(e){return{formState:e.insurance.formState,constants:e.insurance.constants,charged:e.insurance.charged,userDetails:e.userDetails.data,motorPromoGiveAway:e.insurance.promoGiveaways.motor}},function(e){return{resetStoreForm:function(t){return e(Object(h.b)(t))},resetInsuranceForm:function(){return e(Object(E.H)())},getConstantsData:function(){e(Object(E.w)())},changeForm:function(t,r,n){return e(Object(h.a)(t,r,n))},getPromoGiveaways:function(){e(Object(E.A)("motor"))},resetCompare:function(){e(Object(S.g)())},clearData:function(){e(Object(O.f)())}}})(k))},293:function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return o});var n=r(327),a=(r(10),n.a.arrayInsert,n.a.arrayMove,n.a.arrayPop,n.a.arrayPush,n.a.arrayRemove,n.a.arrayRemoveAll,n.a.arrayShift,n.a.arraySplice,n.a.arraySwap,n.a.arrayUnshift,n.a.autofill,n.a.blur,n.a.change),o=(n.a.clearAsyncError,n.a.clearFields,n.a.clearSubmitErrors,n.a.destroy,n.a.focus,n.a.initialize,n.a.registerField,n.a.reset);n.a.resetSection,n.a.setSubmitFailed,n.a.setSubmitSucceeded,n.a.startAsyncValidation,n.a.startSubmit,n.a.stopAsyncValidation,n.a.stopSubmit,n.a.submit,n.a.touch,n.a.unregisterField,n.a.untouch,n.a.updateSyncWarnings},306:function(e,t,r){"use strict";var n=r(308),a=r(45),o=r(46),i=r(48),s=r(47),c=r(49),u=r(1),l=r.n(u),m=r(65),p=r(226),f=r.n(p),d=r(307),h=r.n(d),y="https://web.policypal.com",v="".concat(y).concat(h.a),b=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"getMetaTags",value:function(e,t){var r=e.title,n=e.description,a=e.image,o=e.contentType,i=e.twitter,s=e.noCrawl,c=e.published,u=e.updated,l=e.category,m=e.tags,p=r?(r+" | My Website").substring(0,60):"My Website",f=n?n.substring(0,155):"This is a really awesome website where we can render on the server. Supa cool.",d=a?"".concat(y).concat(a):v,h=[{itemprop:"name",content:p},{itemprop:"description",content:f},{itemprop:"image",content:d},{name:"description",content:f},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:site",content:"@cereallarceny"},{name:"twitter:title",content:p},{name:"twitter:description",content:f},{name:"twitter:creator",content:i||"@cereallarceny"},{name:"twitter:image:src",content:d},{property:"og:title",content:p},{property:"og:type",content:o||"website"},{property:"og:url",content:y+t},{property:"og:image",content:d},{property:"og:description",content:f},{property:"og:site_name",content:"My Website"},{property:"fb:app_id",content:"XXXXXXXXX"}];return s&&h.push({name:"robots",content:"noindex, nofollow"}),c&&h.push({name:"article:published_time",content:c}),u&&h.push({name:"article:modified_time",content:u}),l&&h.push({name:"article:section",content:l}),m&&h.push({name:"article:tag",content:m}),h}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.id,a=e.className,o=Object(n.a)(e,["children","id","className"]);return l.a.createElement("div",{id:r,className:a},l.a.createElement(f.a,{htmlAttributes:{lang:"en",itemscope:void 0,itemtype:"http://schema.org/".concat(o.schema||"WebPage")},title:o.title?o.title+" | My Website":"My Website",link:[{rel:"canonical",href:y+this.props.location.pathname}],meta:this.getMetaTags(o,this.props.location.pathname)}),t)}}]),t}(u.Component);t.a=Object(m.a)(b)},307:function(e,t,r){e.exports=r.p+"static/media/logo.f0988bd7.png"},308:function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}r.d(t,"a",function(){return n})},327:function(e,t,r){"use strict";var n=r(10),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o={arrayInsert:function(e,t,r,a){return{type:n.ARRAY_INSERT,meta:{form:e,field:t,index:r},payload:a}},arrayMove:function(e,t,r,a){return{type:n.ARRAY_MOVE,meta:{form:e,field:t,from:r,to:a}}},arrayPop:function(e,t){return{type:n.ARRAY_POP,meta:{form:e,field:t}}},arrayPush:function(e,t,r){return{type:n.ARRAY_PUSH,meta:{form:e,field:t},payload:r}},arrayRemove:function(e,t,r){return{type:n.ARRAY_REMOVE,meta:{form:e,field:t,index:r}}},arrayRemoveAll:function(e,t){return{type:n.ARRAY_REMOVE_ALL,meta:{form:e,field:t}}},arrayShift:function(e,t){return{type:n.ARRAY_SHIFT,meta:{form:e,field:t}}},arraySplice:function(e,t,r,a,o){var i={type:n.ARRAY_SPLICE,meta:{form:e,field:t,index:r,removeNum:a}};return void 0!==o&&(i.payload=o),i},arraySwap:function(e,t,r,a){if(r===a)throw new Error("Swap indices cannot be equal");if(r<0||a<0)throw new Error("Swap indices cannot be negative");return{type:n.ARRAY_SWAP,meta:{form:e,field:t,indexA:r,indexB:a}}},arrayUnshift:function(e,t,r){return{type:n.ARRAY_UNSHIFT,meta:{form:e,field:t},payload:r}},autofill:function(e,t,r){return{type:n.AUTOFILL,meta:{form:e,field:t},payload:r}},blur:function(e,t,r,a){return{type:n.BLUR,meta:{form:e,field:t,touch:a},payload:r}},change:function(e,t,r,a,o){return{type:n.CHANGE,meta:{form:e,field:t,touch:a,persistentSubmitErrors:o},payload:r}},clearFields:function(e,t,r){for(var a=arguments.length,o=Array(a>3?a-3:0),i=3;i<a;i++)o[i-3]=arguments[i];return{type:n.CLEAR_FIELDS,meta:{form:e,keepTouched:t,persistentSubmitErrors:r,fields:o}}},clearSubmit:function(e){return{type:n.CLEAR_SUBMIT,meta:{form:e}}},clearSubmitErrors:function(e){return{type:n.CLEAR_SUBMIT_ERRORS,meta:{form:e}}},clearAsyncError:function(e,t){return{type:n.CLEAR_ASYNC_ERROR,meta:{form:e,field:t}}},destroy:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return{type:n.DESTROY,meta:{form:t}}},focus:function(e,t){return{type:n.FOCUS,meta:{form:e,field:t}}},initialize:function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return r instanceof Object&&(o=r,r=!1),{type:n.INITIALIZE,meta:a({form:e,keepDirty:r},o),payload:t}},registerField:function(e,t,r){return{type:n.REGISTER_FIELD,meta:{form:e},payload:{name:t,type:r}}},reset:function(e){return{type:n.RESET,meta:{form:e}}},resetSection:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return{type:n.RESET_SECTION,meta:{form:e,sections:r}}},startAsyncValidation:function(e,t){return{type:n.START_ASYNC_VALIDATION,meta:{form:e,field:t}}},startSubmit:function(e){return{type:n.START_SUBMIT,meta:{form:e}}},stopAsyncValidation:function(e,t){return{type:n.STOP_ASYNC_VALIDATION,meta:{form:e},payload:t,error:!(!t||!Object.keys(t).length)}},stopSubmit:function(e,t){return{type:n.STOP_SUBMIT,meta:{form:e},payload:t,error:!(!t||!Object.keys(t).length)}},submit:function(e){return{type:n.SUBMIT,meta:{form:e}}},setSubmitFailed:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return{type:n.SET_SUBMIT_FAILED,meta:{form:e,fields:r},error:!0}},setSubmitSucceeded:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return{type:n.SET_SUBMIT_SUCCEEDED,meta:{form:e,fields:r},error:!1}},touch:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return{type:n.TOUCH,meta:{form:e,fields:r}}},unregisterField:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return{type:n.UNREGISTER_FIELD,meta:{form:e},payload:{name:t,destroyOnUnmount:r}}},untouch:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return{type:n.UNTOUCH,meta:{form:e,fields:r}}},updateSyncErrors:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2];return{type:n.UPDATE_SYNC_ERRORS,meta:{form:e},payload:{syncErrors:t,error:r}}},updateSyncWarnings:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2];return{type:n.UPDATE_SYNC_WARNINGS,meta:{form:e},payload:{syncWarnings:t,warning:r}}}};t.a=o},374:function(e,t,r){"use strict";var n=r(45),a=r(46),o=r(48),i=r(47),s=r(49),c=r(114),u=r(1),l=r.n(u),m=r(299),p=r(310),f=(r(389),function(e){function t(e){var r;Object(n.a)(this,t);var a=(r=Object(o.a)(this,Object(i.a)(t).call(this,e))).props.onConfirm;return r.state={text:"",jsx:null,useConfirm:!0,onConfirm:a},r.openPopupWithText=r.openPopupWithText.bind(Object(c.a)(Object(c.a)(r))),r}return Object(s.a)(t,e),Object(a.a)(t,[{key:"openPopupWithText",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.setState({text:e,useConfirm:t}),r&&this.setState({onConfirm:r}),setTimeout(this.popupRef.openPopup,10)}},{key:"openPopupWithJSX",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.setState({jsx:e,useConfirm:t}),r&&this.setState({onConfirm:r}),setTimeout(this.popupRef.openPopup,10)}},{key:"render",value:function(){var e=this,t=this.state,r=t.text,n=t.jsx,a=t.useConfirm,o=t.onConfirm,i=this.props,s=i.showCancelButton,c=i.hideCloseButton;return l.a.createElement("div",{className:"popup-with-text"},l.a.createElement(p.a,{hideCloseButton:c,ref:function(t){e.popupRef=t}},l.a.createElement(u.Fragment,null,l.a.createElement("div",{className:"check-out-popup"},l.a.createElement("div",{className:"upper-container upper-margin-down"},n||l.a.createElement("p",null,l.a.createElement("span",{className:"focus-text"},r))),l.a.createElement("div",{className:"button-container"},s?l.a.createElement(m.a,{className:"checkout-button",variant:"medium-flat",width:166,height:72,onClick:function(){e.popupRef.closePopup()}},l.a.createElement("p",null,"Cancel")):null,l.a.createElement(m.a,{className:"checkout-button",variant:"medium-flat-green",width:166,height:72,onClick:function(){a&&o(),e.popupRef.closePopup()}},l.a.createElement("p",null,"Confirm")))))))}}]),t}(u.Component));f.defaultProps={onConfirm:function(){},showCancelButton:!1,hideCloseButton:!1},t.a=f},389:function(e,t,r){},398:function(e,t,r){"use strict";var n=r(45),a=r(46),o=r(48),i=r(47),s=r(49),c=r(114),u=r(12),l=r.n(u),m=r(1),p=r.n(m),f=r(374),d=function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(o.a)(this,Object(i.a)(t).call(this,e))).oldTime=new Date,r.timeout=null,r.invokeNewTimer=r.invokeNewTimer.bind(Object(c.a)(Object(c.a)(r))),r.setTimer=r.setTimer.bind(Object(c.a)(Object(c.a)(r))),r}return Object(s.a)(t,e),Object(a.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.interval=l.a.setInterval(function(){l.a.addEventListener&&(l.a.addEventListener("mousemove",e.invokeNewTimer),l.a.addEventListener("keypress",e.invokeNewTimer),clearInterval(e.interval))},100)}},{key:"componentWillUnmount",value:function(){this.timeout&&clearTimeout(this.timeout),l.a.removeEventListener("mousemove",this.invokeNewTimer),l.a.removeEventListener("keypress",this.invokeNewTimer)}},{key:"setTimer",value:function(){var e=this,t=this.props,r=t.popupTimer,n=t.refreshTimer;this.timeout=setTimeout(function(){var t=l.a.confirm("Your session will expire due inactivity. Please click \u201cOK\u201d within ".concat(n/1e3/60," mins to continue, or \u201cCancel\u201d, if you wish to leave the page.")),a=new Date-e.oldTime;t&&a<r+n?e.invokeNewTimer():l.a.location.assign("/")},r),this.oldTime=new Date}},{key:"invokeNewTimer",value:function(){this.timeout&&clearTimeout(this.timeout),this.setTimer()}},{key:"render",value:function(){var e=this;return p.a.createElement(m.Fragment,null,p.a.createElement(f.a,{hideCloseButton:!0,ref:function(t){return e.popup=t}}))}}]),t}(m.Component);d.defaultProps={popupTimer:6e5,refreshTimer:12e4},t.a=d}}]);
//# sourceMappingURL=motor.253f51c4.chunk.js.map