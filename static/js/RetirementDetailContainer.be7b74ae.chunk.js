(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{1107:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(45),i=n(46),l=n(48),o=n(47),c=n(49),s=n(1),u=n.n(s),m=n(298),p=n(56),d=n(305),h=n(78),f=n(114),b=n(35),g=n.n(b),v=n(12),O=n.n(v),y=n(5),E=n.n(y),S=n(329),j=n(115),k=n(497),F=n(395),C=n(324),D=n(360),P=n(374),x=n(13),N=n(80),R=n(79),w=n(32),T=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(o.a)(t).call(this,e))).state={sessionId:null,errorStringData:{},errorArray:[]},n.handleSubmit=n.handleSubmit.bind(Object(f.a)(Object(f.a)(n))),n.validateForm=n.validateForm.bind(Object(f.a)(Object(f.a)(n))),n}return Object(c.a)(t,e),Object(i.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.sessionId;return n!==t.sessionId?{sessionId:n}:null}}]),Object(i.a)(t,[{key:"componentDidUpdate",value:function(){var e=this,t=this.state.sessionId,n=this.props.loadingEnd;t&&(n(),setTimeout(function(){e.checkoutComplete.openCheckoutComplete(),Object(w.a)("RetireConfirmationS")},300))}},{key:"validateForm",value:function(e){var t=Object(N.b)(e,["email","name","birth_date","mobile_number"]);this.setState({errorStringData:t});var n=[];return E.a.isEmpty(t)||(n=[u.a.createElement("p",{className:"error-string",key:"error-1"},"Fields are not properly filled, please check again.")]),this.setState({errorArray:n}),t}},{key:"handleSubmit",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=this.props,r=a.checkOutOthers,i=a.loading,l=a.storeForm,o=this.validateForm(n?e:l),c=E.a.isEmpty(o);Object(N.a)(c,n,o,function(e){return t.setState({errorStringData:e,errorArray:null})},function(){return t.handleSubmit(l,!1)})||(c&&(Object(w.a)("RetireConfirm1A"),Object(w.a)("RetireNoticeS"),this.popup.openPopupWithJSX(Object(x.C)(),!0,function(){setTimeout(function(){i(),r(e),Object(w.b)("PPS2 - ButtonClick - Retirement - DetailForm_Checkout",{Product:"Retirement",Click_Text:"Checkout"}),Object(w.c)("Retirement - DetailForm - Checkout",{event_category:"Retirement",event_label:"Retirement - DetailForm - Checkout"}),Object(w.a)("RetireConfirm2A")},350)})),O.a.scrollTo(0,g.a.body.scrollHeight))}},{key:"render",value:function(){var e=this,t=this.state,n=t.errorStringData,a=t.errorArray,r=this.props,i=r.form,l=r.change,o=r.planDetails,c=r.isLoggedIn,m=r.piggyCallback,p=r.changePlan,d=r.storeForm;return u.a.createElement(s.Fragment,null,u.a.createElement(k.a,{category:"retirement",changePlan:p,handleSubmit:this.props.handleSubmit,onSubmit:this.handleSubmit,change:l,form:i,planDetails:o,isLoggedIn:c,piggyCallback:m,errorArray:a,checkoutButtonDesc:"Confirm"},u.a.createElement(j.y,{className:"main-form",noGutters:!0},u.a.createElement(j.f,{xs:12},u.a.createElement(F.a,{form:i,change:l,name:"email",placeholderString:"",size:"medium",zIndex:99,desc:"Email Address",errorString:n.email,validateForm:function(){return e.validateForm(d)}})),u.a.createElement(j.f,{className:"right-padding",xs:12,sm:6},u.a.createElement(F.a,{form:i,change:l,name:"name",placeholderString:"",size:"medium",zIndex:98,desc:"Full Name",errorString:n.name,validateForm:function(){return e.validateForm(d)}})),u.a.createElement(j.f,{className:"left-padding",xs:12,sm:6},u.a.createElement(C.a,{form:i,change:l,name:"birth_date",size:"medium",zIndex:97,desc:"Date of Birth",errorString:n.birth_date,validateForm:function(){return e.validateForm(d)},endDate:new Date})),u.a.createElement(j.f,{className:"right-padding",xs:12,sm:6},u.a.createElement(F.a,{form:i,change:l,name:"mobile_number",placeholderString:"",size:"medium",zIndex:96,desc:"Mobile Number",errorString:n.mobile_number,validateForm:function(){return e.validateForm(d)}})))),u.a.createElement(P.a,{ref:function(t){return e.popup=t},showCancelButton:!0}),u.a.createElement(D.a,{isQuoteOnly:!0,isSellLeads:!0,wrappedComponentRef:function(t){return e.checkoutComplete=t}}))}}]),t}(s.Component);T.defaultProps={storeForm:null};var I=Object(S.a)({form:"retirement-detail",destroyOnUnmount:!1})(Object(p.connect)(function(e){return{storeForm:Object(d.a)("retirement-detail")(e),constants:e.insurance.constants}},function(e){return{loading:function(t,n,a){e(Object(R.d)(t,n,a))},loadingEnd:function(){e(Object(R.c)())}}})(T)),_=n(43),A=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.setFormState)(x.b.DETAILFORM.index),Object(w.b)("PPS2 - Pageview - Retirement - DetailForm",{Product:"Retirement"}),Object(w.d)({page_title:"Retirement - Detail Form",page_path:"/retirement/detailform"}),Object(w.a)("RetireDetailsS")}},{key:"render",value:function(){var e=this.props,t=e.plansData,n=e.isLoggedIn,a=e.profileValues,r=e.piggyCallback,i=e.retirementFields,l=e.checkOutOthers,o=e.sessionId,c=e.history;if(!t)return null;var s=t,m={logo:h.a.others,logoDesc:"",planName:"",planTotal:null};try{m={logo:h.a[s.info.insurer_slug],logoDesc:"".concat(s.info.insurer_name,".svg"),planName:s.info.product_name,planTotal:"$".concat(s.policyInfo[s.planType].net_price.toFixed(2))}}catch(p){console.log("Get plan details failed")}return u.a.createElement(I,{checkOutOthers:l,retirementFields:i,sessionId:o,selectedData:s,planDetails:m,isLoggedIn:n,piggyCallback:r,changePlan:function(){c.goBack(),Object(w.b)("PPS2 - ButtonClick - Retirement - DetailForm_ChangePlan",{Product:"Retirement",Click_Text:"ChangePlan"}),Object(w.c)("Retirement - DetailForm - ChangePlan",{event_category:"Retirement",event_label:"Retirement - DetailForm - ChangePlan"})},profileValues:a})}}]),t}(s.Component);A.defaultProps={sessionId:null,plansData:null};t.default=Object(m.a)(Object(p.connect)(function(e){return{retirementForm:Object(d.a)("retirement")(e),retirementFields:e.retirement.retirementFields,profileValues:e.userDetails,plansData:e.retirement.selectedPlanData,sessionId:e.insurance.sessionId}},function(e){return{setFormState:function(t){e(Object(x.K)(t))},getAnonymousSession:function(t){e(Object(x.v)(t,!0))}}},function(e,t,n){return Object(a.a)({},n,e,t,{checkOutOthers:function(n){t.getAnonymousSession(Object(_.j)(e.retirementForm,n,e.plansData),!0)}})})(A))},301:function(e,t,n){e.exports=n.p+"static/media/arrow.bf1f0d90.svg"},303:function(e,t,n){"use strict";var a=n(45),r=n(48),i=n(47),l=n(46),o=n(49),c=n(114),s=n(1),u=n.n(s),m=(n(388),function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(r.a)(this,Object(i.a)(t).call(this,e))).state={errorString:null},n.setErrorString=n.setErrorString.bind(Object(c.a)(Object(c.a)(n))),n.clearErrorString=n.clearErrorString.bind(Object(c.a)(Object(c.a)(n))),n}return Object(o.a)(t,e),Object(l.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return t.errorString!==e.errorString?{errorString:e.errorString,refValue:e.refValue}:e.validateForm&&t.errorString&&t.refValue!==e.refValue?(e.validateForm(),{errorString:null}):null}}]),Object(l.a)(t,[{key:"setErrorString",value:function(e){this.setState({errorString:e})}},{key:"clearErrorString",value:function(){this.setState({errorString:null})}},{key:"render",value:function(){var e=this.state.errorString,t=this.props,n=t.desc,a=t.extraInfo;return u.a.createElement("div",{className:"input-wrapper-main input-wrapper-error"},null!==n?u.a.createElement("p",{className:"input-wrapper-desc"},n):null,this.props.children,null!==a?u.a.createElement("div",{className:"extra-info-container"},a):null,null!==e?u.a.createElement("p",{className:"input-wrapper-error-text"},e):null)}}]),t}(s.Component));m.defaultProps={desc:null,extraInfo:null},t.a=m},314:function(e,t,n){e.exports=n.p+"static/media/magnifyGlass.eedb8132.svg"},355:function(e,t,n){e.exports=n.p+"static/media/CheckoutComplete.7a48570a.svg"},356:function(e,t,n){},360:function(e,t,n){"use strict";var a=n(45),r=n(46),i=n(48),l=n(47),o=n(49),c=n(114),s=n(1),u=n.n(s),m=n(298),p=n(355),d=n.n(p),h=n(299),f=n(310),b=(n(356),function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={animateStyle:""},n.openCheckoutComplete=n.openCheckoutComplete.bind(Object(c.a)(Object(c.a)(n))),n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"openCheckoutComplete",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.setState({animateStyle:"bounce-in",userName:t}),setTimeout(function(){e.popupRef.openPopup()},10)}},{key:"renderUpperText",value:function(){var e=this.state.userName,t=this.props,n=t.isQuoteOnly,a=t.upperText;return n?u.a.createElement("p",null,a||"Success"):u.a.createElement(s.Fragment,null,u.a.createElement("p",null,"Thank you for your"),u.a.createElement("p",null,u.a.createElement("span",null,"purchase, "),u.a.createElement("span",{className:"focus-text"},e)))}},{key:"renderMidText",value:function(){var e=this.props,t=e.isQuoteOnly,n=e.midText;return t?null!==n?u.a.createElement(s.Fragment,null,u.a.createElement("p",null,n)):u.a.createElement(s.Fragment,null,u.a.createElement("p",null,"Thanks for submitting your request."),u.a.createElement("p",null,"The insurer\u2019s representative will contact you within 2 business days to share with you more about the selected product.")):u.a.createElement(s.Fragment,null,u.a.createElement("p",null,"A copy of the receipt has been sent to"),u.a.createElement("p",null,"your inbox."),u.a.createElement("p",null,"The policy will be reflected in PolicyPal's APP once approved."))}},{key:"renderButton",value:function(){var e=this,t=this.props,n=t.history,a=t.isQuoteOnly,r=t.buttonText,i=t.callback;return a?u.a.createElement(h.a,{className:"checkout-button",variant:"medium-flat-green",width:166,height:72,onClick:function(){if(i)return i(),void e.popupRef.togglePopup(!1);n.push("/")}},u.a.createElement("p",null,r||"OK")):u.a.createElement(s.Fragment,null,u.a.createElement(h.a,{className:"checkout-button",variant:"medium-flat",width:166,height:72,onClick:function(){return n.push("/gotoappstore")}},u.a.createElement("p",null,"Download APP")),u.a.createElement(h.a,{className:"checkout-button",variant:"medium-flat-green",width:166,height:72,onClick:function(){return e.popupRef.closePopup()}},u.a.createElement("p",null,"Details")))}},{key:"render",value:function(){var e=this,t=this.state.animateStyle,n=this.props,a=n.isSellLeads,r=n.className,i=a?"In the event that you purchase a plan through our partner, PolicyPal receives a referral fee.":"";return u.a.createElement(f.a,{className:r,hideCloseButton:!0,ref:function(t){e.popupRef=t}},u.a.createElement(s.Fragment,null,u.a.createElement("div",{className:"check-out-popup"},u.a.createElement("img",{className:t,src:d.a,alt:"CheckoutComplete.svg"}),u.a.createElement("div",{className:"upper-container upper-margin-up"},this.renderUpperText()),u.a.createElement("div",{className:"mid-container"},this.renderMidText()),u.a.createElement("div",{className:"button-container"},this.renderButton()),u.a.createElement("div",{className:"extra-text"},u.a.createElement("p",null,i)))))}}]),t}(s.Component));b.defaultProps={isQuoteOnly:!1,isSellLeads:!1,upperText:null,midText:null,buttonText:null,callback:null,className:""},t.a=Object(m.a)(b,{withRef:!0})},373:function(e,t,n){},388:function(e,t,n){}}]);
//# sourceMappingURL=RetirementDetailContainer.be7b74ae.chunk.js.map