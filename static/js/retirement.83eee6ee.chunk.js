(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{1002:function(e,t,n){e.exports=n.p+"static/media/policypal-retirement-insurance-1.b644b32e.svg"},1003:function(e,t,n){e.exports=n.p+"static/media/policypal-retirement-insurance-2.d77ad36d.svg"},1004:function(e,t,n){e.exports=n.p+"static/media/policypal-retirement-insurance-3.9b87e248.svg"},1005:function(e,t,n){},1147:function(e,t,n){"use strict";n.r(t);var r=n(12),a=n(14),i=n(13),s=n(11),o=n(15),l=n(3),c=n(5),u=n.n(c),m=n(1),d=n.n(m),p=n(186),b=n(22),f=n(60),h=n(477),g=n(69),v=n(23),y=n(72),O=n(51),j=n(524),F=n(508),D=n(1002),I=n.n(D),S=n(1003),E=n.n(S),k=n(1004),_=n.n(k),x=n(134),P=n(213),C=n(6),T=n(521),A=n.n(T),R=n(560),N=n.n(R),L=n(561),w=n.n(L),G=n(35),z=n(489),U=n(497),B=n(586),M=n(183),V=n(514),H=n(143),Q=n(141),Y=n(140),J=n(18),K=n(16),W=function(e){function t(e){var n;Object(r.a)(this,t);var s=(n=Object(a.a)(this,Object(i.a)(t).call(this,e))).props.retirementFields;return n.state={errorStringData:{},birthDate:null,data:Object(K.m)(s.form_fields)},n.handleSubmit=n.handleSubmit.bind(Object(l.a)(Object(l.a)(n))),n.handleCloseEdit=n.handleCloseEdit.bind(Object(l.a)(Object(l.a)(n))),n.handleRevert=n.handleRevert.bind(Object(l.a)(Object(l.a)(n))),n.validateForm=n.validateForm.bind(Object(l.a)(Object(l.a)(n))),n}return Object(o.a)(t,e),Object(s.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.storeForm;return n&&n.birth_date!==t.birthDate?{birthDate:n.birth_date}:null}}]),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.storeForm,n=e.setCloseCallBack;this.originalValues=t,n&&n(this.handleRevert)}},{key:"getAge",value:function(e){var t="";return e&&-1!==e&&(t=Object(J.f)(e)),t}},{key:"validateForm",value:function(e){var t=this.state.data,n=Object(Y.b)(e,["gender","smoker","birth_date","retirement_monthly_sum","retirement_age","premium_term","payout_term"],{smoker:{type:"ARRAY",data:t.smoker.options},birth_date:{type:"DATE",start:Object(J.i)(t.birth_date.min_date),end:Object(J.i)(t.birth_date.max_date)},retirement_monthly_sum:{type:"ARRAY",data:t.retirement_monthly_sum.options},retirement_age:{type:"ARRAY",data:t.retirement_age.options},premium_term:{type:"ARRAY",data:t.premium_term.options},payout_term:{type:"ARRAY",data:t.payout_term.options}});return this.setState({errorStringData:n}),n}},{key:"handleSubmit",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.state.birthDate,a=this.props,i=a.closePopUp,s=a.setInsurFormState,o=a.setSubmit,l=a.storeForm,c=a.submitCallback,m=a.history,d=this.validateForm(n?e:l),p=u.a.isEmpty(d);if(!Object(Y.a)(p,n,d,function(e){return t.setState({errorStringData:e})},function(){return t.handleSubmit(l,!1)})&&p){if(o(),this.originalValues=l,c)c();else{Object(O.b)("Retirement - Get Quote",{event_category:"Retirement",event_label:"Button - Retirement - Get Quote"});var b=Object(J.j)(r),f=this.getAge(b);Object(O.a)("RetireGetQuoteA",{gender:e.gender,smoker:e.smoker,age:f,amount:e.retirement_monthly_sum,"start-from":e.retirement_age,term:e.premium_term,period:e.payout_term})}s(v.b.CHOOSEPLAN.index),m.push("/retirement".concat(v.b.CHOOSEPLAN.path)),i&&i()}}},{key:"handleRevert",value:function(){var e=this,t=this.props,n=t.change;(0,t.resetForm)(),Object.keys(this.originalValues).forEach(function(t){n(t,e.originalValues[t])})}},{key:"handleCloseEdit",value:function(){(0,this.props.closePopUp)(this.handleRevert)}},{key:"renderBirthDate",value:function(){var e=this,t=this.state,n=t.errorStringData,r=t.birthDate,a=t.data,i=this.props,s=i.form,o=i.change,l=i.storeForm,c=Object(J.j)(r),u=c?"active":"inactive",m=this.getAge(c);return d.a.createElement(C.f,{className:"birth-date-container",xs:12,sm:10},d.a.createElement("p",{className:"age"},d.a.createElement("span",{className:u},"Age"),d.a.createElement("span",{className:"age-value"},m)),d.a.createElement(U.a,{form:s,change:o,name:"birth_date",size:"medium",zIndex:97,desc:a.birth_date.display_name,startDate:Object(J.i)(a.birth_date.min_date),endDate:Object(J.i)(a.birth_date.max_date),currDate:Object(J.i)(a.birth_date.default_date),errorString:n.birth_date,validateForm:function(){return e.validateForm(l)}}))}},{key:"renderFields",value:function(){var e=this,t=this.state,n=t.errorStringData,r=t.data,a=this.props,i=a.form,s=a.change,o=a.storeForm;return d.a.createElement(C.z,{noGutters:!0},d.a.createElement(C.f,{className:"justify-content-center icon icon-car d-none d-sm-flex",sm:2},d.a.createElement("img",{src:A.a,alt:"Avatar.svg"})),d.a.createElement(C.f,{className:"input-padding-right",xs:12,sm:5},d.a.createElement(z.a,{form:i,change:s,name:"gender",type:"text-selection",noEmptyTextSelection:!0,options:u.a.map(r.gender.options,function(e){return{key:e,description:e}}),sizeInSM:6,desc:r.gender.display_name,zIndex:99,errorString:n.gender,validateForm:function(){return e.validateForm(o)}})),d.a.createElement(C.f,{className:"input-padding-left",xs:12,sm:5},d.a.createElement(z.a,{form:i,change:s,name:"smoker",type:"text-selection",noEmptyTextSelection:!0,options:u.a.map(r.smoker.options,function(e){return{key:e,description:e}}),sizeInSM:6,zIndex:98,desc:r.smoker.display_name,errorString:n.smoker,validateForm:function(){return e.validateForm(o)}})),d.a.createElement(C.f,{className:"justify-content-center icon d-none d-sm-flex",sm:2}),this.renderBirthDate(),d.a.createElement(C.f,{className:"justify-content-center icon icon-car d-none d-sm-flex",sm:2},d.a.createElement("img",{style:{marginTop:32},src:N.a,alt:"Dollar.svg"})),d.a.createElement(C.f,{xs:12,sm:10},d.a.createElement(B.a,{form:i,change:s,name:"retirement_monthly_sum",desc:r.retirement_monthly_sum.display_name,zIndex:96,hideWidth:576,inputList:r.retirement_monthly_sum.options,displayList:Object(K.p)(r.retirement_monthly_sum.options),suffix:"monthly retirement",errorString:n.retirement_monthly_sum,validateForm:function(){return e.validateForm(o)}})),d.a.createElement(C.f,{className:"justify-content-center icon icon-car d-none d-sm-flex",sm:2},d.a.createElement("img",{src:w.a,alt:"Umbrella.svg"})),d.a.createElement(C.f,{className:"input-padding-right",xs:12,sm:5},d.a.createElement(M.a,{form:i,change:s,name:"retirement_age",placeholderString:"Age",dropList:r.retirement_age.options,size:"medium",zIndex:95,desc:r.retirement_age.display_name,errorString:n.retirement_age,validateForm:function(){return e.validateForm(o)}})),d.a.createElement(C.f,{className:"input-padding-left",xs:12,sm:5},d.a.createElement(M.a,{form:i,change:s,name:"premium_term",placeholderString:"Term",dropList:r.premium_term.options,size:"medium",zIndex:94,desc:r.premium_term.display_name,errorString:n.premium_term,validateForm:function(){return e.validateForm(o)}})),d.a.createElement(C.f,{className:"justify-content-center icon d-none d-sm-flex",sm:2}),d.a.createElement(C.f,{className:"input-padding-right",xs:12,sm:5},d.a.createElement(M.a,{form:i,change:s,name:"payout_term",placeholderString:"Payout",dropList:r.payout_term.options,size:"medium",zIndex:93,desc:r.payout_term.display_name,errorString:n.payout_term,validateForm:function(){return e.validateForm(o)}})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.handleSubmit,r=t.isPopUp;t.form;return d.a.createElement("div",{className:"landing-form-container"},r?d.a.createElement("p",{className:"edit-header"},"Edit Retirement Insurance Details"):null,d.a.createElement("form",{onSubmit:n(this.handleSubmit)},d.a.createElement(C.z,{className:"input-offset",noGutters:!0},this.renderFields()),d.a.createElement(C.z,{className:"align-items-center button-container",noGutters:!0},r?d.a.createElement(C.f,{className:"justify-content-center button",xs:12},d.a.createElement(C.z,{noGutters:!0},d.a.createElement(C.f,{className:"button-container-inner",xs:12,sm:6},d.a.createElement(G.a,{className:"button-left",variant:"medium-flat",width:165,height:72,onClick:function(){return e.handleCloseEdit()}},d.a.createElement("p",null,"Cancel"))),d.a.createElement(C.f,{className:"button-container-inner",xs:12,sm:6},d.a.createElement(G.a,{type:"submit",variant:"medium-flat-green",width:165,height:72},d.a.createElement("p",null,"Save"))))):d.a.createElement(C.f,{className:"justify-content-center button",xs:12},d.a.createElement(G.a,{type:"submit",variant:"medium-flat-green",width:165,height:72},d.a.createElement("p",null,"Get Quote"))))),d.a.createElement(V.a,{ref:function(t){return e.resPopup=t}}))}}]),t}(m.Component);W.defaultProps={isPopUp:!1,setCloseCallBack:null,storeForm:null,closePopUp:null,submitCallback:null};var q=Object(h.a)(Object(P.a)({form:"retirement",destroyOnUnmount:!1})(Object(b.b)(function(e){return{storeForm:Object(x.a)("retirement")(e),isRevert:e.editForm.isRevert}},function(e){return{resetForm:function(){e(Object(f.b)("retirement"))},setInsurFormState:function(t){e(Object(v.K)(t))},setSubmit:function(){e(Object(H.c)())},setRestrictionPopup:function(t){e(Object(Q.d)(t))}}})(W))),$=n(525),X=(n(1005),function(e){function t(){return Object(r.a)(this,t),Object(a.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.retirementFields,n=e.retirementPromoGiveAway;return d.a.createElement("div",{className:"retirement-container"},d.a.createElement($.a,{img1:I.a,img2:E.a,img3:_.a,imgAlt:"PolicyPal Retirement Insurance",promo:n,desc:d.a.createElement(m.Fragment,null,d.a.createElement("p",null,"Get your Retirement Quotation"),d.a.createElement("p",null,"in minutes!"))},d.a.createElement(q,{retirementFields:t})))}}]),t}(m.Component));X.defaultProps={retirementPromoGiveAway:null};var Z=X,ee=n(97),te=function(e){function t(e){var n;Object(r.a)(this,t);var s=(n=Object(a.a)(this,Object(i.a)(t).call(this,e))).props,o=s.loading,l=s.retirementFields,c=s.history;return(0,s.clearData)(),l||(o(function(){return c.push("/")}),n.props.getRetirementFields()),n}return Object(o.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setFormState,n=e.history;t(v.b.MAIN.index),window.scrollTo(0,0),Object(O.c)({page_title:"Retirement",page_path:"/retirement".concat(n.location.search)}),Object(O.a)("RetireFormS")}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.retirementFields,r=t.loadingEnd;!e.retirementFields&&n&&r()}},{key:"render",value:function(){var e=this.props,t=e.retirementFields,n=e.retirementPromoGiveAway;return t?d.a.createElement(Z,{retirementFields:t,retirementPromoGiveAway:n}):null}}]),t}(m.Component);te.defaultProps={retirementFields:null,retirementPromoGiveAway:null};var ne=Object(h.a)(Object(b.b)(function(e){return{retirementFields:e.retirement.retirementFields,retirementPromoGiveAway:e.insurance.promoGiveaways.retirement}},function(e){return{getRetirementFields:function(){e(Object(y.h)())},loading:function(t,n,r){e(Object(ee.d)(t,n,r))},loadingEnd:function(){e(Object(ee.c)())},clearData:function(){e(Object(y.g)())},setFormState:function(t){e(Object(v.K)(t))}}})(te)),re=n(522),ae=function(e){function t(){return Object(r.a)(this,t),Object(a.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"getAmpTags",value:function(e,t){try{return{partner:e.info.insurer_slug,price:e.policyInfo[t].net_price}}catch(n){console.log("Retirement choose plan Buy now Amp tag failed: ".concat(n.message))}return{}}},{key:"render",value:function(){var e=this,t=this.props.retirementFields;return d.a.createElement(re.a,Object.assign({},this.props,{category:"retirement",form:"retirement",editForm:{valuesToListen:[{value:"gender",desc:"Gender"},{value:"smoker",desc:"S.Status"},{value:"birth_date",desc:"Age"},{value:"retirement_monthly_sum",desc:"R. Sum",extra:"cost_simplify"},{value:"retirement_age",desc:"R. Age"},{value:"premium_term",desc:"Period"},{value:"payout_term",desc:"Pay for"}],editDetail:d.a.createElement(q,{retirementFields:t,isPopUp:!0})},buttonDesc:"Select",forceFixedOnDesktop:!0,trackingTags:{default:function(t){Object(O.a)("RetireSelectA",e.getAmpTags(t,"default"))}}}))}}]),t}(m.Component);ae.defaultProps={};var ie=ae,se=function(e){function t(){return Object(r.a)(this,t),Object(a.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.setFormState)(v.b.CHOOSEPLAN.index),Object(O.c)({page_title:"Retirement - Choose Plan",page_path:"/retirement/chooseplan"}),Object(O.a)("RetireResultsS")}},{key:"render",value:function(){var e=this.props,t=e.retirementForm,n=e.getPlans,r=e.getInsurersList,a=e.clearData,i=e.setFormState,s=e.plansData,o=e.validInsurersList,l=e.retirementFields,c=e.history;return d.a.createElement(ie,{mainForm:t,retirementFields:l,parseForm:y.l,getPlans:n,getInsurersList:r,clearData:a,setSelectedPlanData:this.props.setSelectedPlanData,setFormState:function(){i(v.b.DETAILFORM.index),c.push("/retirement".concat(v.b.DETAILFORM.path))},loadingFailBackState:function(){c.goBack()},plansData:s,validInsurersList:o})}}]),t}(m.Component);se.defaultProps={plansData:null,validInsurersList:null};var oe=Object(h.a)(Object(b.b)(function(e){return{retirementForm:Object(x.a)("retirement")(e),retirementFields:e.retirement.retirementFields,plansData:e.retirement.plansData,validInsurersList:e.retirement.validInsurersList}},function(e){return{setFormState:function(t){e(Object(v.K)(t))},getPlans:function(t){e(Object(y.i)(t))},getInsurersList:function(t){e(Object(y.k)(t))},clearData:function(){e(Object(y.g)())},setSelectedPlanData:function(t){e(Object(y.m)(t))}}})(se)),le=n(2),ce=n(77),ue=n(529),me=n(57),de=n(487),pe=n(512),be=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(a.a)(this,Object(i.a)(t).call(this,e))).state={sessionId:null,errorStringData:{},errorArray:[]},n.handleSubmit=n.handleSubmit.bind(Object(l.a)(Object(l.a)(n))),n.validateForm=n.validateForm.bind(Object(l.a)(Object(l.a)(n))),n}return Object(o.a)(t,e),Object(s.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.sessionId;return n!==t.sessionId?{sessionId:n}:null}}]),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){var e=this,t=this.state.sessionId,n=this.props.loadingEnd;t&&(n(),setTimeout(function(){e.checkoutComplete.openCheckoutComplete(),Object(O.a)("RetireConfirmationS")},300))}},{key:"validateForm",value:function(e){var t=Object(Y.b)(e,["email","name","birth_date","mobile_number"]);this.setState({errorStringData:t});var n=[];return u.a.isEmpty(t)||(n=[d.a.createElement("p",{className:"error-string",key:"error-1"},"Fields are not properly filled, please check again.")]),this.setState({errorArray:n}),t}},{key:"handleSubmit",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.props,a=r.checkOutOthers,i=r.loading,s=r.storeForm,o=this.validateForm(n?e:s),l=u.a.isEmpty(o);Object(Y.a)(l,n,o,function(e){return t.setState({errorStringData:e,errorArray:null})},function(){return t.handleSubmit(s,!1)})||(l&&(Object(O.a)("RetireConfirm1A"),Object(O.a)("RetireNoticeS"),this.popup.openPopupWithJSX(Object(v.C)(),!0,function(){setTimeout(function(){i(),a(e),Object(O.b)("Retirement - DetailForm - Checkout",{event_category:"Retirement",event_label:"Retirement - DetailForm - Checkout"}),Object(O.a)("RetireConfirm2A")},350)})),window.scrollTo(0,document.body.scrollHeight))}},{key:"render",value:function(){var e=this,t=this.state,n=t.errorStringData,r=t.errorArray,a=this.props,i=a.form,s=a.change,o=a.planDetails,l=a.isLoggedIn,c=a.piggyCallback,u=a.changePlan,p=a.storeForm;return d.a.createElement(m.Fragment,null,d.a.createElement(ue.a,{category:"retirement",changePlan:u,handleSubmit:this.props.handleSubmit,onSubmit:this.handleSubmit,change:s,form:i,planDetails:o,isLoggedIn:l,piggyCallback:c,errorArray:r,checkoutButtonDesc:"Confirm"},d.a.createElement(C.z,{className:"main-form",noGutters:!0},d.a.createElement(C.f,{xs:12},d.a.createElement(me.a,{form:i,change:s,name:"email",placeholderString:"",size:"medium",zIndex:99,desc:"Email Address",errorString:n.email,validateForm:function(){return e.validateForm(p)}})),d.a.createElement(C.f,{className:"right-padding",xs:12,sm:6},d.a.createElement(me.a,{form:i,change:s,name:"name",placeholderString:"",size:"medium",zIndex:98,desc:"Full Name",errorString:n.name,validateForm:function(){return e.validateForm(p)}})),d.a.createElement(C.f,{className:"left-padding",xs:12,sm:6},d.a.createElement(U.a,{form:i,change:s,name:"birth_date",size:"medium",zIndex:97,desc:"Date of Birth",errorString:n.birth_date,validateForm:function(){return e.validateForm(p)},endDate:new Date})),d.a.createElement(C.f,{className:"right-padding",xs:12,sm:6},d.a.createElement(me.a,{form:i,change:s,name:"mobile_number",placeholderString:"",size:"medium",zIndex:96,desc:"Mobile Number",errorString:n.mobile_number,validateForm:function(){return e.validateForm(p)}})))),d.a.createElement(pe.a,{ref:function(t){return e.popup=t},showCancelButton:!0}),d.a.createElement(de.a,{isQuoteOnly:!0,isSellLeads:!0,wrappedComponentRef:function(t){return e.checkoutComplete=t}}))}}]),t}(m.Component);be.defaultProps={storeForm:null};var fe=Object(P.a)({form:"retirement-detail",destroyOnUnmount:!1})(Object(b.b)(function(e){return{storeForm:Object(x.a)("retirement-detail")(e),constants:e.insurance.constants}},function(e){return{loading:function(t,n,r){e(Object(ee.d)(t,n,r))},loadingEnd:function(){e(Object(ee.c)())}}})(be)),he=function(e){function t(){return Object(r.a)(this,t),Object(a.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.setFormState)(v.b.DETAILFORM.index),Object(O.c)({page_title:"Retirement - Detail Form",page_path:"/retirement/detailform"}),Object(O.a)("RetireDetailsS")}},{key:"render",value:function(){var e=this.props,t=e.plansData,n=e.isLoggedIn,r=e.profileValues,a=e.piggyCallback,i=e.retirementFields,s=e.checkOutOthers,o=e.sessionId,l=e.history;if(!t)return null;var c=t,u={logo:ce.a.others,logoDesc:"",planName:"",planTotal:null};try{u={logo:ce.a[c.info.insurer_slug],logoDesc:"".concat(c.info.insurer_name,".svg"),planName:c.info.product_name,planTotal:"$".concat(c.policyInfo[c.planType].net_price.toFixed(2))}}catch(m){console.log("Get plan details failed")}return d.a.createElement(fe,{checkOutOthers:s,retirementFields:i,sessionId:o,selectedData:c,planDetails:u,isLoggedIn:n,piggyCallback:a,changePlan:function(){l.goBack(),Object(O.b)("Retirement - DetailForm - ChangePlan",{event_category:"Retirement",event_label:"Retirement - DetailForm - ChangePlan"})},profileValues:r})}}]),t}(m.Component);he.defaultProps={sessionId:null,plansData:null};var ge=Object(h.a)(Object(b.b)(function(e){return{retirementForm:Object(x.a)("retirement")(e),retirementFields:e.retirement.retirementFields,profileValues:e.userDetails,plansData:e.retirement.selectedPlanData,sessionId:e.insurance.sessionId}},function(e){return{setFormState:function(t){e(Object(v.K)(t))},getAnonymousSession:function(t){e(Object(v.v)(t,!0))}}},function(e,t,n){return Object(le.a)({},n,e,t,{checkOutOthers:function(n){t.getAnonymousSession(Object(y.j)(e.retirementForm,n,e.plansData),!0)}})})(he)),ve=function(e){function t(e){var n;Object(r.a)(this,t),(n=Object(a.a)(this,Object(i.a)(t).call(this,e))).state={formIndex:0,isInitialLoad:!0};var s=n.props,o=s.resetStoreForm,c=s.retirementPromoGiveAway,u=s.clearData,m=s.history;return m.replace("/retirement".concat(m.location.search)),u(),n.props.resetCompare(),n.props.resetInsuranceForm(),o("retirement"),o("retirement-detail"),void 0===c&&n.props.getPromoGiveaways(),n.setInitialFormState=n.setInitialFormState.bind(Object(l.a)(Object(l.a)(n))),n.renderStepProgress=n.renderStepProgress.bind(Object(l.a)(Object(l.a)(n))),n.renderLifeForms=n.renderLifeForms.bind(Object(l.a)(Object(l.a)(n))),n.changeUserDetails=n.changeUserDetails.bind(Object(l.a)(Object(l.a)(n))),n}return Object(o.a)(t,e),Object(s.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.formIndex,r=t.isMounted,a=e.formState,i=e.match,s=e.history;if(r){var o=Object(K.n)("retirement",a,n,i,s);if(o&&null!==o.formIndex)return{formIndex:o.formIndex}}return null}}]),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setInitialFormState(),this.setState({isMounted:!0})}},{key:"componentDidUpdate",value:function(e){var t=this.state.isInitialLoad,n=this.props.userDetails;t&&u.a.isEqual(n,e.userDetails)&&this.changeUserDetails()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearData,n=e.resetStoreForm;t(),this.props.resetCompare(),this.props.resetInsuranceForm(),n("retirement"),n("retirement-detail")}},{key:"setInitialFormState",value:function(){var e=this.props.changeForm;e("retirement","birth_date","01 Jan 1990"),e("retirement","retirement_age","60"),e("retirement","premium_term","15 years"),e("retirement","payout_term","15 years"),this.changeUserDetails()}},{key:"changeUserDetails",value:function(){var e=this.state.isInitialLoad,t=this.props,n=t.userDetails,r=t.changeForm;if(n){var a=n&&n.surname?n.surname:"",i=n&&n.firstName?" ".concat(n.firstName):"";r("retirement-detail","email",n.email),r("retirement-detail","name","".concat(a).concat(i)),r("retirement-detail","birth_date",n.dateOfBirth),r("retirement-detail","mobile_number",n.contact),e&&this.setState({isInitialLoad:!1})}}},{key:"renderStepProgress",value:function(){var e=this.state.formIndex;return d.a.createElement(j.a,{maxWidth:"556px",formState:e,inputList:["Choose Plan","Details"],form:"life",stateList:[v.b.CHOOSEPLAN,v.b.DETAILFORM],stateDescriptions:[{main:""},{main:"Fill in your details - Get $5 Credits"}],charged:!1})}},{key:"renderLifeForms",value:function(){var e=this.state.formIndex,t=this.props.userDetails,n=!u.a.isEmpty(t);switch(e){case v.b.CHOOSEPLAN.index:return d.a.createElement(oe,{isLoggedIn:n});case v.b.DETAILFORM.index:return d.a.createElement(ge,{isLoggedIn:n,piggyCallback:this.changeUserDetails});default:return d.a.createElement(ne,{isLoggedIn:n})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.retirementPromoGiveAway;if(!t.constants||void 0===n)return null;var r=O.d?"PolicyPal, retirement insurance, singapore retirement insurance, retirement planning, retirement, CPF, annuity, financial planning, pension, 401k, retirement calculator, retiree, retirement accounts, retirement quotes, best retirement plans, retirement fund, insured retirement plan, retirement planning singapore, 401k plan, early retirement, pension plan":"";return d.a.createElement(m.Fragment,null,d.a.createElement(p.Helmet,null,d.a.createElement("meta",{name:"keywords",content:r}),d.a.createElement("title",null,"PolicyPal 2.0 - Retirement Insurance"),d.a.createElement("meta",{name:"title",content:"PolicyPal 2.0 - Retirement Insurance"}),d.a.createElement("meta",{name:"description",content:"Browse products for retirement insurance."})),this.renderStepProgress(),this.renderLifeForms(),d.a.createElement(F.a,{ref:function(t){e.refresher||t.invokeNewTimer(),e.refresher=t}}))}}]),t}(m.Component);ve.defaultProps={userDetails:null,retirementPromoGiveAway:void 0,constants:null};t.default=Object(h.a)(Object(b.b)(function(e){return{retirementPromoGiveAway:e.insurance.promoGiveaways.retirement,formState:e.insurance.formState,constants:e.insurance.constants,userDetails:e.userDetails.data}},function(e){return{changeForm:function(t,n,r){return e(Object(f.a)(t,n,r))},resetInsuranceForm:function(){return e(Object(v.H)())},resetStoreForm:function(t){return e(Object(f.b)(t))},getPromoGiveaways:function(){e(Object(v.A)("retirement"))},resetCompare:function(){e(Object(g.g)())},clearData:function(){e(Object(y.g)())}}})(ve))},521:function(e,t,n){e.exports=n.p+"static/media/Avatar.b01356d4.svg"},522:function(e,t,n){"use strict";var r=n(12),a=n(14),i=n(13),s=n(11),o=n(15),l=n(3),c=n(5),u=n.n(c),m=n(1),d=n.n(m),p=n(22),b=n(23),f=n(69),h=n(97),g=n(141),v=n(2),y=n(6),O=n(184),j=n(528),F=n(513),D=n(505),I=["basic","essential","elite","default"],S=function(e){function t(e){var n;Object(r.a)(this,t);var s=(n=Object(a.a)(this,Object(i.a)(t).call(this,e))).props.data;return n.state={tabIndex:0,currentTab:null,tabs:null,policyTypes:s.policyTypes},n.handleTabClick=n.handleTabClick.bind(Object(l.a)(Object(l.a)(n))),n.renderTabs=n.renderTabs.bind(Object(l.a)(Object(l.a)(n))),n}return Object(o.a)(t,e),Object(s.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return e.data.policyTypes!==t.policyTypes?{policyTypes:e.data.policyTypes}:null}}]),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.renderTabs(null,!0);this.props.setPlanType(u.a.lowerCase(e.currentTab))}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.state,r=n.policyTypes,a=n.tabs,i=n.currentTab,s=this.props.data;return u.a.isEqual(r,t.policyTypes)||this.renderTabs(t.policyTypes),a!==t.tabs||i!==t.currentTab||s!==e.data}},{key:"componentDidUpdate",value:function(e,t){var n=this.state,r=n.tabs,a=n.tabIndex,i=this.props,s=i.selectedIndex,o=i.initialIndex;if(r!==t.tabs&&this.categoryTab&&this.categoryTab.wrappedInstance){var l=s&&s!==a;if(l||null===s&&o){var c=l?s:o,u=c<r.length?c:0;return this.categoryTab.wrappedInstance.goToIndex(u,!0),this.setState({tabIndex:u}),void this.props.setSelectedIndex(u)}this.categoryTab.wrappedInstance.goToIndex(a)}}},{key:"handleTabClick",value:function(e,t){this.setState({currentTab:e}),this.props.setPlanType(e),this.props.setSelectedIndex(t)}},{key:"renderTabs",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.state,a=r.policyTypes,i=r.currentTab,s=this.props.planImages,o=t||a,l=0,c=u.a.reduce(I,function(t,n){if(-1!==u.a.findIndex(o,function(e){return e===n})){var r=l,a=s?s[n]:null;t.push({desc:u.a.startCase(n),img:a,onClick:function(){e.handleTabClick(n,r)}}),l+=1}return t},[]),m={currentTab:u.a.lowerCase(c[0].desc)};if(!n){var d=u.a.findIndex(c,function(e){return u.a.lowerCase(e.desc)===i}),p=-1!==d?d:0,b=u.a.lowerCase(c[p].desc);m={tabIndex:p,currentTab:b},this.props.setPlanType(b),this.props.setSelectedIndex(p)}var f=Object(v.a)({},m,{tabs:c});return this.setState(f),f}},{key:"render",value:function(){var e=this,t=this.state,n=t.currentTab,r=t.tabs,a=this.props,i=a.data,s=a.scrollPopUpCallback,o=a.submitCallback,l=a.editForm,c=a.form,u=a.buttonDesc,p=a.forceFixedOnDesktop,b=a.category;if(!i||!r||!n)return null;var f="default"===n?"inner-form-no-tabs":"";return d.a.createElement(m.Fragment,null,d.a.createElement(y.z,{className:"inner-form-container ".concat(f," inner-form-extra-padding"),noGutters:!0},d.a.createElement(O.a,{tabs:r,isDataFadeOnly:!0,isDisableDropdown:!0,big:!0,name:"".concat(c,"-tab"),ref:function(t){return e.categoryTab=t}},[d.a.createElement(j.a,{category:b,key:"overview",className:"overview-container-padding",notAccordion:!0,data:i,currentTab:n,scrollPopUpCallback:s,productChangable:!0,editForm:d.a.createElement(F.a,{submitCallback:o,form:c,headerValue:l.headerValue,valuesToListen:l.valuesToListen,conditions:l.conditions},l.editDetail),buttonDesc:u,forceFixedOnDesktop:p})]),d.a.createElement(D.a,null)))}}]),t}(m.Component);S.defaultProps={initialIndex:0,selectedIndex:null,data:null,planImages:null,buttonDesc:null,forceFixedOnDesktop:!1,category:null};var E=Object(p.b)(function(e){return{selectedIndex:e.compare.selectedIndex}},function(e){return{setSelectedIndex:function(t){e(Object(f.i)(t))},setPlanType:function(t){e(Object(f.h)(t))}}})(S),k=function(e){function t(e){var n;Object(r.a)(this,t);var s=(n=Object(a.a)(this,Object(i.a)(t).call(this,e))).props,o=s.mainForm,c=s.parseForm,u=s.getPlans,m=s.getInsurersList,d=s.loading,p=s.defaultInsurers,f=s.plansData,h=s.validInsurersList,g=s.selectedInsurers,v=s.setSelectedPlanData,y=s.loadingEnd,O=s.setFormState,j=s.loadingFailBackState,F=s.clearData,D=s.trackingTags;try{if(f&&h)n.state={currentInsurers:g,parsedData:Object(b.E)(f,h,g,o.trip_type,function(){return O()},v,y,n.props.setRestrictionPopup,null,D)};else{var I=c(o,p);d(function(){F(),j()},"No available plans found.",3e4,""),u(I),m(I),n.props.setSelectedInsurers(p),n.state={currentInsurers:p,parsedData:null}}}catch(S){}return n.getNewData=n.getNewData.bind(Object(l.a)(Object(l.a)(n))),n.onInsurerClick=n.onInsurerClick.bind(Object(l.a)(Object(l.a)(n))),n}return Object(o.a)(t,e),Object(s.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){try{var n=t.currentInsurers,r=e.plansData,a=e.validInsurersList,i=e.setFormState,s=e.loadingEnd,o=e.mainForm,l=e.setSelectedPlanData,c=e.trackingTags;if(r&&"INVALID"===r[0])return null;if(a&&r){var m=n||{};return!n&&r&&(m=(m=u.a.map(r,function(e){return e.info.insurer_slug})).slice(0,3),e.setSelectedInsurers(m)),{parsedData:Object(b.E)(r,a,m,o.trip_type,function(){i()},l,s,e.setRestrictionPopup,null,c),currentInsurers:m}}}catch(d){return null}return null}}]),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){var e=this,t=this.props,n=t.plansData,r=t.loadingEnd,a=t.loading,i=t.clearData,s=t.loadingFailBackState;n&&"INVALID"===n[0]&&(r(),this.isLoading||(this.isLoading=!0,setTimeout(function(){return a(function(){i(),s(),e.isLoading=!1},"No available plans found.",50,"")},500)))}},{key:"onInsurerClick",value:function(e,t){var n=this.state.parsedData,r=u.a.reduce(n.selectedInsurers,function(e,t){return t&&e.push(t.insurerSlug),e},[]);r[t]=e.insurer_slug,this.setState({currentInsurers:r}),this.props.setSelectedInsurers(r),this.getNewData(r)}},{key:"getNewData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.state.currentInsurers,n=this.props,r=n.loading,a=n.getPlans,i=n.getInsurersList,s=n.clearData,o=n.mainForm,l=n.parseForm,c=n.loadingFailBackState,u=l(o,e||t);s(),r(function(){s(),c()},"No available plans found.",3e4,""),a(u),i(u)}},{key:"render",value:function(){try{var e=this.state.parsedData,t=this.props,n=t.editForm,r=t.form,a=t.planImages,i=t.initialIndex,s=t.buttonDesc,o=t.forceFixedOnDesktop,l=t.category;return e?d.a.createElement(E,{category:l,initialIndex:i,planImages:a,data:e,form:r,editForm:n,scrollPopUpCallback:this.onInsurerClick,submitCallback:this.getNewData,buttonDesc:s,forceFixedOnDesktop:o}):null}catch(c){return null}}}]),t}(m.Component);k.defaultProps={initialIndex:0,plansData:null,validInsurersList:null,selectedInsurers:null,trackingTags:null,planImages:null,defaultInsurers:null,buttonDesc:null,forceFixedOnDesktop:!1,category:null};t.a=Object(p.b)(function(e){return{selectedInsurers:e.compare.selectedInsurers}},function(e){return{loading:function(t,n,r,a){e(Object(h.d)(t,n,r,a))},loadingEnd:function(){e(Object(h.c)())},setRestrictionPopup:function(t){e(Object(g.d)(t))},setSelectedInsurers:function(t){e(Object(f.j)(t))}}})(k)},560:function(e,t,n){e.exports=n.p+"static/media/Dollar.69451f59.svg"},561:function(e,t,n){e.exports=n.p+"static/media/Umbrella.6617735b.svg"}}]);
//# sourceMappingURL=retirement.83eee6ee.chunk.js.map