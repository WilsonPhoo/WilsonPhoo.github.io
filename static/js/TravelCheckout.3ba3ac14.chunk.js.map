{"version":3,"sources":["components/Templates/InsurerFormHeader/HeaderDescWithTypeDateNew.js","components/Templates/CheckoutV1/CheckoutDetailsTable/CheckoutDetailsTable.js","components/Templates/CheckoutV1/CheckoutPriceSummary/CheckoutPriceSummary.js","components/Templates/CashbackBalance/CashbackBalanceNew.js","components/Templates/CheckoutV1/CheckoutCashback/CheckoutCashback.js","components/Templates/CheckoutV1/CheckoutTotal/CheckoutTotal.js","components/Templates/CheckoutV1/CheckoutDisclaimer/CheckoutDisclaimer.js","components/Templates/CheckoutV1/CheckoutPayment/CheckoutPayment.js","components/Templates/CheckoutV1/Checkout.js","containers/Travel/TravelCheckoutContainer.js","components/Templates/CheckoutPopup/CheckoutComplete.js","assets/images/common/CheckoutComplete.svg","assets/images/common/CashbackLogo.svg","components/FormsV3/Checkbox/Checkbox.js","assets/images/common/CreditCards.png","components/Templates/CheckoutPopup/CheckoutUsingCashback.js","components/FormsV3/PromoCode/PromoCode.js","components/Templates/StripePayment/StripePayment.js"],"names":["HeaderDescWithTypeDateNew","_this$props","this","props","logo","logoName","insurerDesc","data1","data1Value","data2","data2Value","react_default","a","createElement","reactstrap_es","className","noGutters","src","alt","Component","defaultProps","CheckoutDetailsTable","subDetails","_","reduce","result","data","push","desc","key","details","isFullWidth","isMain","arguments","length","undefined","transactionData","smLeftWidth","smRightWidth","coverageData","title","description","find","transaction","policy_info","toUpperCase","error","attributes","concat","Object","toConsumableArray","infoList","map","info","index","xs","sm","mainDetails","isEmpty","renderDetails","_this","charged","isArray","leftDetail","rightDetail","TabViewNew","style","marginTop","marginLeft","marginRight","tabs","generateTabs","maxTabWidthPx","autoHeight","name","scrollTabs","react","renderMainDetails","renderSubDetails","CheckoutPriceSummary","getPromo","isAdHoc","promoCode","handleOnChange","PromoCode","value","placeholderString","postCheckout","_ref","asyncToGenerator","regenerator_default","mark","_callee","promo","promoResult","wrap","_context","prev","next","sent","code","abrupt","stop","_x","apply","_this$props2","isRenderPromo","price","priceData","JSX","noTitle","isPromo","extraCol","promoStyle","subTotalExtra","element","sub_title","renderPromoCodeButton","CashbackBalanceNew","cashbackBalance","CashbackLogo","CheckoutCashback","isLoggedIn","rewardPoints","values","errors","cashbackData","cashbackUsed","replace","toFixed","chargedBalanceStyle","Checkbox","cashback","onChange","type","_x2","_x3","errorString","isRequired","Templates_CashbackBalance_CashbackBalanceNew","CheckoutTotal","totalData","CheckoutDisclaimer","wordings","wording","CheckoutPayment","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","markup","handlePaymentCallback","bind","assertThisInitialized","handleOnCheckout","handleOnCheckoutZero","renderCashBackEarned","setError","$","get","submit","checkout","sessionId","id","handleAPI","trackingTags","category","setCharged","checkoutResult","receipt","user","userData","users","familyName","d","givenName","console","log","setTimeout","_this2","checkoutComplete","openCheckoutComplete","range","document","createRange","gaReceipt","appendChild","createContextualFragment","useCashback","getStripe","setErrors","isTnCChecked","each","getFormValue","validatedTnC","validateForm","w","slug","is_required","setState","_callee2","_context2","_this3","stripePayment","invokeClick","payment","window","goog_report_conversion","LabelImg","_this4","CreditCards","Button","onClick","variant","height","StripePayment","replacementIDString","ref","node","paymentCallback","zeroPaymentCallback","checkoutUsingCashback","openCheckoutUsingCashback","CheckoutUsingCashback","onConfirm","CheckoutComplete","wrappedComponentRef","Checkout","errorMsg","renderHeader","renderDetailsTable","renderPriceSummary","renderTotal","renderCashBack","renderDisclaimer","renderBackToDetail","renderSignUp","renderPayment","params","verifyParams","userDetails","getAnonymousSession","newSessionId","token","promo_code","scrollTo","hide","gaCheckOut","show","newErrors","Promise","resolve","objectSpread","newError","defineProperty","headerData","Templates_InsurerFormHeader_HeaderDescWithTypeDateNew","_this$props4","CheckoutV1_CheckoutDetailsTable_CheckoutDetailsTable","_this$state3","_this$props5","promoErrorString","CheckoutV1_CheckoutPriceSummary_CheckoutPriceSummary","CheckoutV1_CheckoutTotal_CheckoutTotal","_this$state4","_this$props6","CheckoutV1_CheckoutCashback_CheckoutCashback","reward_points","_this$state5","_this$props7","CheckoutV1_CheckoutDisclaimer_CheckoutDisclaimer","_this$props8","backToDetails","width","_this$props9","login","PiggyFillFormNew","popup","openPopup","loginContainer","setInitialIndex","_this$state6","_this$props10","CheckoutV1_CheckoutPayment_CheckoutPayment","getTransactionStripeSession","_this5","lg","renderChargedHeader","renderWarning","connect","ownProps","adHocCharged","adHocData","status","isCharged","insurance","propsFromState","propsFromDispatch","getReceipt","userToken","promocode","useReward","getPromoCode","TravelCheckoutContainer","detailValues","selectedPlanData","planType","paramsWording","getCheckoutParamsWordingNew","getSessionParams","headerCoverage","getCheckoutHeaderDataCoverageNew","sessionParamsToUse","session_params","sessionParams","tripType","trip_type","travelDate","getTravelDate","travellingString","getTravellingString","getTravellersDetails","countries","countryName","country","compactCheckoutAttributes","destination","href","target","setFormState","doSetCategoryNavBar","FORMSTATES","CHECKOUT","fbTag","Product","gaTag","page_title","page_path","ampTag","body","backgroundColor","whoTravelling","plan_type","num_adult","num_children","start_date","end_date","mainAdultDetail","adultsDetail","childrenDetail","blkNo","blk_no","getCompactSubDetails","email","family_name","given_name","id_type","nric","birth_date","gender","race","citizenship","marital_status","occupation","mobile_number","address","unit_no","postal","arrayName","count","i","relationship","startIndex","_this$state","_this$props3","history","Templates_CheckoutV1_Checkout","assign","goBack","Click_Text","gaEvent","event_category","event_label","SUBMITTED","path","withRouter","dispatch","setInsuranceFormState","isCategory","setCategoryNavBar","_Users_wilson_policypal_web_reactjs_2_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_Users_wilson_policypal_web_reactjs_2_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_wilson_policypal_web_reactjs_2_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","animateStyle","_Users_wilson_policypal_web_reactjs_2_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","userName","popupRef","isQuoteOnly","upperText","react__WEBPACK_IMPORTED_MODULE_6___default","react__WEBPACK_IMPORTED_MODULE_6__","midText","buttonText","callback","components_FormsV3_Button_Button__WEBPACK_IMPORTED_MODULE_9__","togglePopup","closePopup","isSellLeads","extraText","_Popup_Popup__WEBPACK_IMPORTED_MODULE_10__","hideCloseButton","r","CheckoutCompleteSVG","renderUpperText","renderMidText","renderButton","withRef","module","exports","__webpack_require__","p","extraInfo","react__WEBPACK_IMPORTED_MODULE_5___default","_FormInputWrapper_FormInputWrapper__WEBPACK_IMPORTED_MODULE_7__","smallMargin","reactstrap__WEBPACK_IMPORTED_MODULE_6__","checked","_Popup_Popup__WEBPACK_IMPORTED_MODULE_9__","components_FormsV3_Button_Button__WEBPACK_IMPORTED_MODULE_8__","_Users_wilson_policypal_web_reactjs_2_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","_Users_wilson_policypal_web_reactjs_2_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_Users_wilson_policypal_web_reactjs_2_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","oldValue","nextProps","prevState","isComMounted","propsValue","react__WEBPACK_IMPORTED_MODULE_7___default","_FormInputWrapper_FormInputWrapper__WEBPACK_IMPORTED_MODULE_10__","reactstrap__WEBPACK_IMPORTED_MODULE_8__","placeholder","disabled","e","_Users_wilson_policypal_web_reactjs_2_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_wilson_policypal_web_reactjs_2_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","t0","currMarkup","extraData","isLoading","isLoadingError","cleanCheckoutButtonContainer","setNewMarkup","showLoading","showLoadingError","checkoutButton","serializeArray","firstChild","removeChild","failCallback","doTag","failCallTimeout","ele","getElementsByName","parentNode","setInterval","getElementsByClassName","dataset","amount","clearInterval","clearTimeout","button","trigger","react__WEBPACK_IMPORTED_MODULE_10___default","react__WEBPACK_IMPORTED_MODULE_10__","components_Templates_LoadingScreenV2_LoadingScreenV2__WEBPACK_IMPORTED_MODULE_11__","message","noLogos"],"mappings":"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","file":"static/js/TravelCheckout.3ba3ac14.chunk.js","sourcesContent":["/**\n * HeaderDescWithTypeDate.js\n * Product summary with type and date\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport React, { Component } from 'react';\nimport { Row } from 'reactstrap';\n\nimport PropTypes from 'prop-types';\n\nimport './HeaderDescWithTypeDateNew.scss';\n\nclass HeaderDescWithTypeDateNew extends Component {\n  render() {\n    const {\n      logo,\n      logoName,\n      insurerDesc,\n      data1,\n      data1Value,\n      data2,\n      data2Value,\n    } = this.props;\n\n    return (\n      <Row className=\"header-desc-with-type-date-container-new\" noGutters>\n        <div className=\"insurer-left-container\">\n          <div className=\"insurer-logo-container\">\n            <div className=\"company-logo-container\">\n              <img className=\"company-logo\" src={logo} alt={logoName} />\n            </div>\n          </div>\n          <div>\n            <div className=\"insurer-desc-container\">\n              <p className=\"insurer-desc\">{insurerDesc}</p>\n            </div>\n          </div>\n        </div>\n        <div className=\"insurer-right-container\">\n          <div className=\"data-container\">\n            <div className=\"data\">\n              <p className=\"data-name\">{data1}</p>\n              <p className=\"data-val\">{data1Value}</p>\n            </div>\n            <div className=\"data\">\n              <p className=\"data-name\">{data2}</p>\n              <p className=\"data-val\">{data2Value}</p>\n            </div>\n          </div>\n        </div>\n      </Row>\n    );\n  }\n}\n\nHeaderDescWithTypeDateNew.defaultProps = {\n};\n\nHeaderDescWithTypeDateNew.propTypes = {\n  logo: PropTypes.string.isRequired,\n  logoName: PropTypes.string.isRequired,\n  insurerDesc: PropTypes.string.isRequired,\n  data1: PropTypes.string.isRequired,\n  data1Value: PropTypes.string.isRequired,\n  data2: PropTypes.string.isRequired,\n  data2Value: PropTypes.string.isRequired,\n};\n\nexport default HeaderDescWithTypeDateNew;\n","/**\n * Checkout.js\n * This is the checkout view that will render the summary\n * of details and handle all the promo, cashback and stripe\n * APIs.\n *\n * There is 2 state to this view. Checkout or receipt. It will\n * toggle accordingly if charged/ahHocCharged.\n *\n * Upon successful payment, it will update the user data again\n * to check if any cashback is used.\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Row, Col } from 'reactstrap';\n\nimport TabView from 'components/Templates/TabView/TabViewNew';\n\nimport './CheckoutDetailsTable.scss';\n\nclass CheckoutDetailsTable extends Component {\n  generateTabs() {\n    const { subDetails } = this.props;\n    return _.reduce(subDetails, (result, data) => {\n      result.push({\n        desc: data.key,\n      });\n\n      return result;\n    }, []);\n  }\n\n  renderDetails(details, isFullWidth, isMain = false) {\n    const { transactionData } = this.props;\n    if (!details) {\n      return null;\n    }\n\n    let smLeftWidth = 5;\n    let smRightWidth = 7;\n    smLeftWidth = isFullWidth ? 12 : smLeftWidth;\n    smRightWidth = isFullWidth ? 12 : smRightWidth;\n\n    // let paddingStyle = isLeftSide ? 'detail-padding-right' : 'detail-padding-left';\n    // paddingStyle = isFullWidth ? '' : paddingStyle;\n\n    let coverageData = {};\n\n    if (isMain) {\n      try {\n        coverageData = {\n          title: 'Coverage',\n          description: _.find(transactionData.transaction.policy_info, data => data.title.toUpperCase() === 'COVERAGE').description,\n        };\n      } catch (error) {\n        // No coverage found\n      }\n    }\n\n    const attributes = [...details.attributes, coverageData];\n    const infoList = _.map(attributes, (info, index) => (\n      <Col\n        xs={12}\n        className=\"detail-group\"\n        key={`${info.title}-${index}`}\n      >\n        <Row noGutters>\n          <Col className=\"detail-desc\" xs={12} sm={smLeftWidth}>{info.title}</Col>\n          <Col className=\"detail-value\" xs={12} sm={smRightWidth}>{info.description}</Col>\n        </Row>\n      </Col>\n    ));\n\n    return (\n      <Col className=\"detail-column\" xs={12} sm={6}>\n        <Row noGutters>\n          <Col className=\"detail-header\" xs={12}>{details.title}</Col>\n          {infoList}\n        </Row>\n      </Col>\n    );\n  }\n\n  renderMainDetails() {\n    const { mainDetails } = this.props;\n    if (_.isEmpty(mainDetails.attributes)) {\n      return null;\n    }\n    return this.renderDetails(mainDetails, false, true);\n  }\n\n  renderSubDetails() {\n    const { subDetails, charged } = this.props;\n\n    if (_.isArray(subDetails)) {\n      if (subDetails.length === 1) {\n        return (\n          <Row className=\"checkout-detail-container\" noGutters>\n            {this.renderDetails(subDetails[0].leftDetail, false)}\n            {this.renderDetails(subDetails[0].rightDetail, false)}\n          </Row>\n        );\n      }\n\n      if (subDetails.length > 1) {\n        return (\n          <TabView\n            style={{ marginTop: 44, marginLeft: 30, marginRight: 30 }}\n            tabs={this.generateTabs()}\n            maxTabWidthPx={128}\n            autoHeight\n            name=\"travel-checkout-tab\"\n            charged={charged}\n            scrollTabs\n          >\n            {\n              _.map(subDetails, data => (\n                <Fragment key={data.key}>\n                  <Row className=\"checkout-detail-container\" noGutters>\n                    {this.renderDetails(data.leftDetail, false)}\n                    {this.renderDetails(data.rightDetail, false)}\n                  </Row>\n                </Fragment>\n              ))\n            }\n          </TabView>\n        );\n      }\n    }\n\n    return null;\n  }\n\n  render() {\n    const innerJSX = (\n      <Col className=\"no-padding\"xs={12}>\n        <Row className=\"checkout-detail-container main-details\" noGutters>\n          {this.renderMainDetails()}\n        </Row>\n        {this.renderSubDetails()}\n      </Col>\n    );\n\n    return innerJSX;\n  }\n}\n\nCheckoutDetailsTable.defaultProps = {\n  charged: false,\n};\n\nCheckoutDetailsTable.propTypes = {\n  subDetails: PropTypes.array.isRequired,\n  mainDetails: PropTypes.object.isRequired,\n  charged: PropTypes.bool,\n  transactionData: PropTypes.object.isRequired,\n};\n\nexport default CheckoutDetailsTable;\n","/**\n * Checkout.js\n * This is the checkout view that will render the summary\n * of details and handle all the promo, cashback and stripe\n * APIs.\n *\n * There is 2 state to this view. Checkout or receipt. It will\n * toggle accordingly if charged/ahHocCharged.\n *\n * Upon successful payment, it will update the user data again\n * to check if any cashback is used.\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Col } from 'reactstrap';\n\nimport PromoCode from 'components/FormsV3/PromoCode/PromoCode';\n\nimport './CheckoutPriceSummary.scss';\n\nclass CheckoutPriceSummary extends Component {\n  renderPromoCodeButton() {\n    const {\n      getPromo,\n      isAdHoc,\n      charged,\n      promoCode,\n      handleOnChange,\n    } = this.props;\n\n    if (charged || isAdHoc) {\n      return (\n        <Fragment>\n          <Col xs={12} sm={7} />\n          <Col xs={4} sm={7} className=\"d-block d-sm-none\" />\n        </Fragment>\n      );\n    }\n\n    // if (isAdHoc) {\n    //   return <div className=\"promo\" />;\n    // }\n\n    return (\n      <Fragment>\n        <Col xs={12} sm={7} className=\"promo\">\n          <PromoCode\n            value={promoCode}\n            name=\"promo_code\"\n            placeholderString=\"Promo Code\"\n            postCheckout={async (promo) => {\n              await handleOnChange('text', 'promo_code', promo);\n              const promoResult = await getPromo();\n              const actualPromo = promoResult && promoResult.promo && promoResult.promo.code;\n              if (actualPromo !== promo) {\n                await handleOnChange('text', 'promo_code', null);\n                return false;\n              }\n\n              return true;\n            }}\n          />\n        </Col>\n        <Col xs={4} sm={7} className=\"d-block d-sm-none\" />\n      </Fragment>\n    );\n  }\n\n  render() {\n    const {\n      transactionData,\n      charged,\n      isRenderPromo,\n      isAdHoc,\n    } = this.props;\n\n    if (\n      !transactionData ||\n      !transactionData.transaction ||\n      !transactionData.transaction.price\n    ) {\n      return null;\n    }\n\n    const priceData = transactionData.transaction.price;\n    const JSX = _.reduce(priceData, (result, price, index) => {\n      if (index === priceData.length - 1 || price.title === 'P$ Cashback') {\n        return result;\n      }\n      const noTitle = !price.title || price.title === '';\n      const isPromo = price.title !== 'Subtotal' &&\n                      price.title !== 'Discount' &&\n                      !noTitle;\n\n      if ((isPromo && !isRenderPromo) || (!isPromo && isRenderPromo)) {\n        return result;\n      }\n\n      const extraCol = isPromo ? null : <Col xs={4} sm={7} />;\n      const promoStyle = isPromo ? 'promo-item' : '';\n      const subTotalExtra = price.title === 'Subtotal' ? 'GST 7% included' : '';\n\n      const element = (\n        <Fragment key={`price-data-${index}`}>\n          {extraCol}\n          <Col className={`summary-item-container ${promoStyle}`} xs={8} sm={5}>\n            {\n              noTitle ?\n                <span className=\"summary-item-desc\">{price.sub_title}</span>\n              :\n                <div className=\"summary-left\">\n                  <span className=\"summary-item-desc\">{price.title} {price.sub_title}</span>\n                  <span className=\"summary-item-sub-desc\">{subTotalExtra}</span>\n                </div>\n            }\n            <span className=\"summary-item-value\">{price.description}</span>\n          </Col>\n        </Fragment>\n      );\n\n      result.push(element);\n      return result;\n    }, []);\n\n    if (!isRenderPromo) {\n      return JSX;\n    }\n\n    if ((charged || isAdHoc) && _.isEmpty(JSX)) {\n      return null;\n    }\n\n    return (\n      <Fragment>\n        <Col xs={12} className=\"summary-seperator\" />\n        {this.renderPromoCodeButton()}\n        {JSX}\n      </Fragment>\n    );\n  }\n}\n\nCheckoutPriceSummary.defaultProps = {\n  isAdHoc: false,\n  charged: false,\n  promoCode: null,\n};\n\nCheckoutPriceSummary.propTypes = {\n  isAdHoc: PropTypes.bool,\n  isRenderPromo: PropTypes.bool.isRequired,\n  charged: PropTypes.bool,\n  transactionData: PropTypes.object.isRequired,\n  getPromo: PropTypes.func.isRequired,\n  promoCode: PropTypes.string,\n  handleOnChange: PropTypes.func.isRequired,\n};\n\nexport default CheckoutPriceSummary;\n","/**\n * CashbackBalance.js\n * Component that displays the user's cashback balance\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport CashbackLogo from 'assets/images/common/CashbackLogo.svg';\n\nimport './CashbackBalanceNew.scss';\n\n/**\n * Custom Form Dropdown class\n */\nclass CashbackBalanceNew extends Component {\n  render() {\n    const { cashbackBalance } = this.props;\n\n    return (\n      <div className=\"cashback-summary-new\">\n        <img src={CashbackLogo} alt=\"CashbackLogo.svg\" />\n        <p>${cashbackBalance}</p>\n      </div>\n    );\n  }\n}\n\nCashbackBalanceNew.defaultProps = {\n};\n\nCashbackBalanceNew.propTypes = {\n  cashbackBalance: PropTypes.string.isRequired,\n};\n\nexport default CashbackBalanceNew;\n","/**\n * Checkout.js\n * This is the checkout view that will render the summary\n * of details and handle all the promo, cashback and stripe\n * APIs.\n *\n * There is 2 state to this view. Checkout or receipt. It will\n * toggle accordingly if charged/ahHocCharged.\n *\n * Upon successful payment, it will update the user data again\n * to check if any cashback is used.\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Row, Col } from 'reactstrap';\n\nimport CashbackBalance from 'components/Templates/CashbackBalance/CashbackBalanceNew';\nimport Checkbox from 'components/FormsV3/Checkbox/Checkbox';\n\nimport './CheckoutCashback.scss';\n\nclass CheckoutCashback extends Component {\n  render() {\n    const {\n      isLoggedIn,\n      rewardPoints,\n      charged,\n      transactionData,\n      values,\n      errors,\n      handleOnChange,\n      getPromo,\n    } = this.props;\n\n    if (\n      (!isLoggedIn && !charged) ||\n      !transactionData ||\n      !transactionData.transaction ||\n      !transactionData.transaction.price\n    ) {\n      return null;\n    }\n\n    const priceData = transactionData.transaction.price;\n    const cashbackData = _.find(priceData, data => data.title === 'P$ Cashback');\n\n    const cashbackUsed = cashbackData ? cashbackData.description : '$0';\n\n    let cashbackBalance = '';\n    try {\n      cashbackBalance = cashbackData && !charged ?\n        rewardPoints - _.replace(cashbackUsed, '-$', '') :\n        rewardPoints;\n    } catch (error) {\n      cashbackBalance = rewardPoints;\n    }\n\n    // In case null\n    cashbackBalance = cashbackBalance || 0;\n    cashbackBalance = `${cashbackBalance.toFixed(2)}`;\n\n    const chargedBalanceStyle = charged ? 'cashback-balance-charged' : '';\n\n    return (\n      <Fragment>\n        <Col xs={12} className=\"summary-seperator\" />\n        <Col xs={12}>\n          <Row className=\"cashback\" noGutters>\n            {\n              isLoggedIn ?\n                <Col xs={12} sm={7}>\n                  <div className=\"cashback-inner\">\n                    {\n                      charged ?\n                        <span className=\"cashback-text\">Cashback Balance</span>\n                      :\n                        <div className=\"cashback-checkbox\">\n                          <Checkbox\n                            value={values.cashback && values.cashback.value}\n                            name=\"cashback\"\n                            desc={<span>Use Cashback Balance</span>}\n                            onChange={async (type, name, value) => {\n                              await handleOnChange(type, name, value);\n                              getPromo();\n                            }}\n                            errorString={errors.cashback}\n                            isRequired\n                          />\n                        </div>\n                    }\n                  </div>\n                  {\n                    isLoggedIn ?\n                      <div className={`cashback-balance ${chargedBalanceStyle}`}>\n                        <div className=\"cashback-balance-display\">\n                          <CashbackBalance cashbackBalance={cashbackBalance} />\n                        </div>\n                      </div>\n                    :\n                      null\n                  }\n                </Col>\n              : <Col xs={12} sm={7} />\n            }\n            <Col xs={4} sm={7} className=\"d-block d-sm-none\" />\n            <Col xs={8} sm={5}>\n              <div className=\"summary-item-container\">\n                <span className=\"summary-item-desc\">Cashback Used</span>\n                <span className=\"summary-item-value\">{cashbackUsed}</span>\n              </div>\n            </Col>\n          </Row>\n        </Col>\n      </Fragment>\n    );\n  }\n}\n\nCheckoutCashback.defaultProps = {\n  rewardPoints: null,\n  charged: false,\n};\n\nCheckoutCashback.propTypes = {\n  transactionData: PropTypes.object.isRequired,\n  isLoggedIn: PropTypes.bool.isRequired,\n  rewardPoints: PropTypes.number,\n  values: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired,\n  charged: PropTypes.bool,\n  handleOnChange: PropTypes.func.isRequired,\n  getPromo: PropTypes.func.isRequired,\n};\n\nexport default CheckoutCashback;\n","/**\n * Checkout.js\n * This is the checkout view that will render the summary\n * of details and handle all the promo, cashback and stripe\n * APIs.\n *\n * There is 2 state to this view. Checkout or receipt. It will\n * toggle accordingly if charged/ahHocCharged.\n *\n * Upon successful payment, it will update the user data again\n * to check if any cashback is used.\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Col } from 'reactstrap';\n\nimport './CheckoutTotal.scss';\n\nclass CheckoutTotal extends Component {\n  render() {\n    const { transactionData } = this.props;\n\n    if (\n      !transactionData ||\n      !transactionData.transaction ||\n      !transactionData.transaction.price\n    ) {\n      return null;\n    }\n\n    const priceData = transactionData.transaction.price;\n    const totalData = _.find(priceData, price => price.title === 'Total');\n\n    if (!totalData) {\n      return null;\n    }\n\n    return (\n      <Fragment>\n        <Col xs={4} sm={7} />\n        <Col className=\"summary-item-container\" xs={8} sm={5}>\n          <span className=\"summary-item-desc\">{totalData.title}</span>\n          <span className=\"summary-item-value final-amount\">{totalData.description}</span>\n        </Col>\n      </Fragment>\n    );\n  }\n}\n\nCheckoutTotal.defaultProps = {\n};\n\nCheckoutTotal.propTypes = {\n  transactionData: PropTypes.object.isRequired,\n};\n\nexport default CheckoutTotal;\n","/**\n * Checkout.js\n * This is the checkout view that will render the summary\n * of details and handle all the promo, cashback and stripe\n * APIs.\n *\n * There is 2 state to this view. Checkout or receipt. It will\n * toggle accordingly if charged/ahHocCharged.\n *\n * Upon successful payment, it will update the user data again\n * to check if any cashback is used.\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Col } from 'reactstrap';\n\nimport Checkbox from 'components/FormsV3/Checkbox/Checkbox';\n\nimport './CheckoutDisclaimer.scss';\n\nclass CheckoutDisclaimer extends Component {\n  render() {\n    const {\n      wordings,\n      charged,\n      values,\n      errors,\n      handleOnChange,\n    } = this.props;\n\n    if (charged) {\n      return null;\n    }\n\n    return (\n      <Fragment>\n        {\n          _.map(wordings, (wording, index) => {\n            const name = `tnc_${index}`;\n            return (\n              <Col key={name} xs={12}>\n                <div className=\"disclaimer\">\n                  <Checkbox\n                    key={name}\n                    value={values[name] && values[name].value}\n                    name={name}\n                    desc={wording}\n                    onChange={handleOnChange}\n                    errorString={errors[name]}\n                    isRequired\n                  />\n                </div>\n              </Col>\n            );\n          })\n        }\n      </Fragment>\n    );\n  }\n}\n\nCheckoutDisclaimer.defaultProps = {\n  wordings: [],\n  charged: false,\n};\n\nCheckoutDisclaimer.propTypes = {\n  values: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired,\n  wordings: PropTypes.array,\n  charged: PropTypes.bool,\n  handleOnChange: PropTypes.func.isRequired,\n};\n\nexport default CheckoutDisclaimer;\n","/**\n * Checkout.js\n * This is the checkout view that will render the summary\n * of details and handle all the promo, cashback and stripe\n * APIs.\n *\n * There is 2 state to this view. Checkout or receipt. It will\n * toggle accordingly if charged/ahHocCharged.\n *\n * Upon successful payment, it will update the user data again\n * to check if any cashback is used.\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport $ from 'jquery';\nimport document from 'global/document';\nimport window from 'global/window';\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Col } from 'reactstrap';\n\nimport CreditCards from 'assets/images/common/CreditCards.png';\nimport LabelImg from 'assets/images/forms/Label.svg';\n\nimport Button from 'components/FormsV3/Button/Button';\n\nimport StripePayment from 'components/Templates/StripePayment/StripePayment';\nimport CheckoutUsingCashback from 'components/Templates/CheckoutPopup/CheckoutUsingCashback';\nimport CheckoutComplete from 'components/Templates/CheckoutPopup/CheckoutComplete';\n\nimport { getFormValue } from 'lib/helperFunctions';\nimport { validateForm } from 'lib/validatorsV2';\n\n\nimport './CheckoutPayment.scss';\n\n// const termsError = 'Please agree to all the terms to proceed.';\nconst transactionError = 'Transaction error. Please try again.';\n\nclass CheckoutPayment extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      markup: null,\n    };\n\n    this.handlePaymentCallback = this.handlePaymentCallback.bind(this);\n    this.handleOnCheckout = this.handleOnCheckout.bind(this);\n    this.handleOnCheckoutZero = this.handleOnCheckoutZero.bind(this);\n    this.renderCashBackEarned = this.renderCashBackEarned.bind(this);\n  }\n\n  handleOnCheckoutZero() {\n    const { setError } = this.props;\n    try {\n      $('#checkout_form').get(0).submit();\n    } catch (error) {\n      setError('Payment failed! Please try again!');\n    }\n  }\n\n  async handlePaymentCallback(data) {\n    const {\n      checkout,\n      sessionId,\n      id,\n      handleAPI,\n      trackingTags,\n      transactionData,\n      category,\n      setCharged,\n      getPromo,\n    } = this.props;\n\n    const checkoutResult = await handleAPI(() => checkout(sessionId, data, id)());\n    if (checkoutResult && checkoutResult.charged) {\n      await setCharged(checkoutResult.charged);\n      await getPromo();\n      if (trackingTags && trackingTags.receipt) {\n        trackingTags.receipt();\n      }\n      let user = 'User';\n      try {\n        const userData = transactionData.transaction.users[0].details;\n        const familyName = _.find(userData, d => d.title === 'Family Name');\n        const givenName = _.find(userData, d => d.title === 'Given Name');\n        user = `${givenName ? `${givenName.description} ` : ' '}${familyName ? familyName.description : ''}`;\n      } catch (error) {\n        console.log('Name not found in checkout.');\n      }\n\n      setTimeout(() => this.checkoutComplete.openCheckoutComplete(user), 300);\n\n      if (category === 'travel') {\n        const range = document.createRange();\n        this.gaReceipt.appendChild(range.createContextualFragment(`\n        <!-- Google Code for PPS - Travel - Receipt page Conversion Page -->\n        <script type=\"text/javascript\">\n        /* <![CDATA[ */\n        var google_conversion_id = 865122565;\n        var google_conversion_label = \"3xCyCO-P54QBEIXywpwD\";\n        var google_remarketing_only = false;\n        /* ]]> */\n        </script>\n        <script type=\"text/javascript\" src=\"//www.googleadservices.com/pagead/conversion.js\">\n        </script>\n        <noscript>\n        <div style=\"display:inline;\">\n        <img height=\"1\" width=\"1\" style=\"border-style:none;\" alt=\"\" src=\"//www.googleadservices.com/pagead/conversion/865122565/?label=3xCyCO-P54QBEIXywpwD&amp;guid=ON&amp;script=0\"/>\n        </div>\n        </noscript>\n        `));\n      }\n    }\n  }\n\n  async handleOnCheckout() {\n    const {\n      useCashback,\n      promoCode,\n      values,\n      getStripe,\n      sessionId,\n      wordings,\n      trackingTags,\n      setError,\n      id,\n      setErrors,\n    } = this.props;\n\n    let isTnCChecked = true;\n    _.each(wordings, (wording, index) => {\n      isTnCChecked = isTnCChecked && getFormValue(values[`tnc_${index}`]);\n    });\n\n    const validatedTnC = validateForm(values, null, _.map(wordings, (w, index) => ({\n      type: 'checkbox',\n      slug: `tnc_${index}`,\n      is_required: true,\n    })));\n\n    if (!_.isEmpty(validatedTnC)) {\n      setErrors(validatedTnC);\n      return;\n    }\n\n    if (isTnCChecked) {\n      this.setState({\n        markup: null,\n      }, async () => {\n        const result = await getStripe(sessionId, promoCode, useCashback && id)();\n        if (result) {\n          this.setState({\n            markup: result,\n          }, () => {\n            try {\n              this.stripePayment.invokeClick(() => setError(transactionError), result, () => {\n                if (trackingTags && trackingTags.payment) {\n                  trackingTags.payment({\n                    useCashback,\n                    promoCode,\n                  });\n                }\n                if (window.goog_report_conversion) {\n                  window.goog_report_conversion();\n                }\n              });\n            } catch (error) {\n              // esline-disable-next-line\n            }\n          });\n        }\n      });\n    }\n  }\n\n  renderCashBackEarned() {\n    const { transactionData } = this.props;\n\n    if (\n      !transactionData ||\n      !transactionData.transaction ||\n      !transactionData.transaction.cashback\n    ) {\n      return null;\n    }\n\n    const { cashback } = transactionData.transaction;\n\n    return (\n      cashback ?\n        <div className=\"cashback-earned-container\">\n          <img src={LabelImg} alt=\"Label.svg\" />\n          <span>Earn ${cashback.toFixed(2)} Cashback</span>\n        </div>\n        :\n        null\n    );\n  }\n\n  render() {\n    const { markup } = this.state;\n    const { charged } = this.props;\n\n    return (\n      <Fragment>\n        {\n          !charged &&\n          <Fragment>\n            <Col xs={12} className=\"mt-3\" />\n            <Col className=\"credit-card-container\" xs={6}>\n              <img src={CreditCards} alt=\"CreditCard.png\" />\n            </Col>\n            <Col className=\"checkout-button-container\" xs={6}>\n              <Button\n                onClick={this.handleOnCheckout}\n                className=\"checkout-button\"\n                type=\"submit\"\n                variant=\"medium-flat-green\"\n                height={48}\n              >\n                <p>Proceed to Payment</p>\n              </Button>\n              {this.renderCashBackEarned()}\n            </Col>\n          </Fragment>\n        }\n        <StripePayment\n          replacementIDString={'action=\"CALLBACK_URL\" method=\"post\"'}\n          ref={(node) => { this.stripePayment = node; }}\n          markup={markup}\n          paymentCallback={this.handlePaymentCallback}\n          zeroPaymentCallback={this.checkoutUsingCashback ? this.checkoutUsingCashback.openCheckoutUsingCashback : null}\n        />\n        <CheckoutUsingCashback\n          ref={node => this.checkoutUsingCashback = node}\n          onConfirm={this.handleOnCheckoutZero}\n        />\n        <CheckoutComplete\n          className=\"blue-popup-backdrop\"\n          wrappedComponentRef={node => this.checkoutComplete = node}\n        />\n        <div ref={node => this.gaReceipt = node} />\n      </Fragment>\n    );\n  }\n}\n\nCheckoutPayment.defaultProps = {\n  wordings: [],\n  trackingTags: null,\n  charged: false,\n  promoCode: null,\n  useCashback: null,\n  id: null,\n};\n\nCheckoutPayment.propTypes = {\n  getStripe: PropTypes.func.isRequired,\n  sessionId: PropTypes.string.isRequired,\n  checkout: PropTypes.func.isRequired,\n  wordings: PropTypes.array,\n  trackingTags: PropTypes.object,\n  setError: PropTypes.func.isRequired,\n  charged: PropTypes.bool,\n  transactionData: PropTypes.object.isRequired,\n  values: PropTypes.object.isRequired,\n  useCashback: PropTypes.bool,\n  promoCode: PropTypes.string,\n  category: PropTypes.string.isRequired,\n  getPromo: PropTypes.func.isRequired,\n  id: PropTypes.number,\n  setErrors: PropTypes.func.isRequired,\n};\n\nexport default CheckoutPayment;\n","/**\n * Checkout.js\n * This is the checkout view that will render the summary\n * of details and handle all the promo, cashback and stripe\n * APIs.\n *\n * There is 2 state to this view. Checkout or receipt. It will\n * toggle accordingly if charged/ahHocCharged.\n *\n * Upon successful payment, it will update the user data again\n * to check if any cashback is used.\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport $ from 'jquery';\nimport document from 'global/document';\nimport window from 'global/window';\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Row, Col } from 'reactstrap';\n\nimport Button from 'components/FormsV3/Button/Button';\n\nimport PiggyFillForm from 'components/Templates/PiggySignUp/PiggyFillFormNew';\nimport HeaderDescWithTypeDate from 'components/Templates/InsurerFormHeader/HeaderDescWithTypeDateNew';\n\nimport { getFormValue } from 'lib/helperFunctions';\nimport {\n  getAnonymousSession,\n  getPromoCode,\n  getReceipt,\n  getTransactionStripeSession,\n  postCheckout,\n} from '../../../actions/insuranceActions';\n\nimport CheckoutDetailsTable from './CheckoutDetailsTable/CheckoutDetailsTable';\nimport CheckoutPriceSummary from './CheckoutPriceSummary/CheckoutPriceSummary';\nimport CheckoutCashback from './CheckoutCashback/CheckoutCashback';\nimport CheckoutTotal from './CheckoutTotal/CheckoutTotal';\nimport CheckoutDisclaimer from './CheckoutDisclaimer/CheckoutDisclaimer';\nimport CheckoutPayment from './CheckoutPayment/CheckoutPayment';\n\nimport './Checkout.scss';\n\nclass Checkout extends Component {\n  constructor(props) {\n    super(props);\n\n    const {\n      charged,\n      trackingTags,\n    } = this.props;\n\n    this.state = {\n      transactionData: null,\n      errorMsg: null,\n      values: {},\n      errors: {},\n      sessionId: null,\n    };\n\n    if (charged && trackingTags && trackingTags.receipt) {\n      trackingTags.receipt();\n    }\n\n\n    this.getPromo = this.getPromo.bind(this);\n    this.setErrors = this.setErrors.bind(this);\n    this.handleOnChange = this.handleOnChange.bind(this);\n    this.renderHeader = this.renderHeader.bind(this);\n    this.renderDetailsTable = this.renderDetailsTable.bind(this);\n    this.renderPriceSummary = this.renderPriceSummary.bind(this);\n    this.renderTotal = this.renderTotal.bind(this);\n    this.renderCashBack = this.renderCashBack.bind(this);\n    this.renderDisclaimer = this.renderDisclaimer.bind(this);\n    this.renderBackToDetail = this.renderBackToDetail.bind(this);\n    this.renderSignUp = this.renderSignUp.bind(this);\n    this.renderPayment = this.renderPayment.bind(this);\n  }\n\n  async componentDidMount() {\n    const { values } = this.state;\n\n    const {\n      isAdHoc,\n      params,\n      verifyParams,\n      category,\n      userDetails,\n      getPromo,\n      handleAPI,\n      sessionId,\n      charged,\n    } = this.props;\n\n    const newSessionId = isAdHoc ? sessionId : await getAnonymousSession(params, false, verifyParams)();\n    const transactionData = await handleAPI(() => getPromo(newSessionId, userDetails && userDetails.token, getFormValue(values.promo_code), getFormValue(values.cashback)));\n\n    this.setState({\n      sessionId: newSessionId,\n      transactionData: charged ? { transaction: transactionData } : transactionData,\n    });\n\n    window.scrollTo(0, 0);\n\n    if ($('#intercom-container')) {\n      $('#intercom-container').hide();\n    }\n\n    if (this.gaCheckOut && category === 'travel') {\n      const range = document.createRange();\n      this.gaCheckOut.appendChild(range.createContextualFragment(`\n      <!-- Google Code for PPS2 - Travel - CheckoutPage_ProceedPayment Conversion Page\n      In your html page, add the snippet and call\n      goog_report_conversion when someone clicks on the\n      chosen link or button. -->\n      <script type=\"text/javascript\">\n        /* <![CDATA[ */\n        goog_snippet_vars = function() {\n          var w = window;\n          w.google_conversion_id = 865122565;\n          w.google_conversion_label = \"rJn8CLL_5oQBEIXywpwD\";\n          w.google_remarketing_only = false;\n        }\n        // DO NOT CHANGE THE CODE BELOW.\n        goog_report_conversion = function(url) {\n          goog_snippet_vars();\n          window.google_conversion_format = \"3\";\n          var opt = new Object();\n          opt.onload_callback = function() {\n          if (typeof(url) != 'undefined') {\n            window.location = url;\n          }\n        }\n        var conv_handler = window['google_trackConversion'];\n        if (typeof(conv_handler) == 'function') {\n          conv_handler(opt);\n        }\n      }\n      /* ]]> */\n      </script>\n      <script type=\"text/javascript\"\n        src=\"//www.googleadservices.com/pagead/conversion_async.js\">\n      </script>\n      `));\n    }\n  }\n\n  componentWillUnmount() {\n    if ($('#intercom-container')) {\n      $('#intercom-container').show();\n    }\n\n    if (window.goog_report_conversion) {\n      delete window.goog_report_conversion;\n    }\n  }\n\n  async getPromo() {\n    const {\n      values,\n      sessionId,\n    } = this.state;\n\n    const {\n      getPromo,\n      userDetails,\n      handleAPI,\n      charged,\n    } = this.props;\n\n    const transactionData = await handleAPI(() => getPromo(sessionId, userDetails && userDetails.token, getFormValue(values.promo_code), getFormValue(values.cashback)));\n    this.setState({\n      transactionData: charged ? { transaction: transactionData } : transactionData,\n    });\n    return transactionData;\n  }\n\n  async setErrors(newErrors) {\n    const { errors } = this.state;\n    return new Promise((resolve) => {\n      this.setState({\n        errors: {\n          ...errors,\n          ...newErrors,\n        },\n      }, resolve);\n    });\n  }\n\n  async handleOnChange(type, name, value) {\n    const { values, errors } = this.state;\n    let newError = {};\n    if (value) {\n      newError = { [name]: null };\n    }\n\n    return new Promise((resolve) => {\n      this.setState({\n        values: {\n          ...values,\n          [name]: { type, value },\n        },\n        errors: { ...errors, ...newError },\n      }, resolve);\n    });\n  }\n\n  renderHeader() {\n    const { headerData } = this.props;\n    return (\n      <HeaderDescWithTypeDate\n        logo={headerData.logo}\n        logoName={headerData.logoName}\n        insurerDesc={headerData.insurerDesc}\n        data1={headerData.data1}\n        data1Value={headerData.data1Value}\n        data2={headerData.data2}\n        data2Value={headerData.data2Value}\n      />\n    );\n  }\n\n  renderDetailsTable() {\n    const { transactionData } = this.state;\n    const { mainDetails, subDetails, charged } = this.props;\n\n    return (\n      <CheckoutDetailsTable\n        mainDetails={mainDetails}\n        subDetails={subDetails}\n        charged={charged}\n        transactionData={transactionData}\n      />\n    );\n  }\n\n  renderPriceSummary(isRenderPromo = false) {\n    const {\n      transactionData,\n      values,\n    } = this.state;\n\n    const {\n      promoErrorString,\n      isAdHoc,\n      charged,\n    } = this.props;\n\n    return (\n      <CheckoutPriceSummary\n        charged={charged}\n        isAdHoc={isAdHoc}\n        isRenderPromo={isRenderPromo}\n        transactionData={transactionData}\n        getPromo={this.getPromo}\n        promoErrorString={promoErrorString}\n        promoCode={getFormValue(values.promo_code)}\n        handleOnChange={this.handleOnChange}\n      />\n    );\n  }\n\n  renderTotal() {\n    const { transactionData } = this.state;\n\n    return (\n      <CheckoutTotal\n        transactionData={transactionData}\n      />\n    );\n  }\n\n  renderCashBack() {\n    const {\n      transactionData,\n      values,\n      errors,\n    } = this.state;\n\n    const {\n      isLoggedIn,\n      userDetails,\n      charged,\n    } = this.props;\n\n    return (\n      <CheckoutCashback\n        charged={charged}\n        transactionData={transactionData}\n        values={values}\n        errors={errors}\n        isLoggedIn={isLoggedIn}\n        rewardPoints={userDetails && userDetails.reward_points}\n        handleOnChange={this.handleOnChange}\n        getPromo={this.getPromo}\n      />\n    );\n  }\n\n  renderDisclaimer() {\n    const {\n      values,\n      errors,\n      errorMsg,\n    } = this.state;\n    const { wordings, charged } = this.props;\n\n    return (\n      <CheckoutDisclaimer\n        charged={charged}\n        values={values}\n        errors={errors}\n        wordings={wordings}\n        handleOnChange={this.handleOnChange}\n        errorMsg={errorMsg}\n      />\n    );\n  }\n\n  renderBackToDetail() {\n    const { backToDetails, isAdHoc } = this.props;\n    if (!isAdHoc && backToDetails) {\n      return (\n        <Button\n          className=\"checkout-button\"\n          variant=\"medium-grey\"\n          width={300}\n          height={72}\n          onClick={backToDetails}\n        >\n          <p>Back to Edit Details</p>\n        </Button>\n      );\n    }\n\n    return null;\n  }\n\n  renderChargedHeader() {\n    const { charged } = this.props;\n\n    if (charged) {\n      return (\n        <Col className=\"charged-header\" xs={12}>\n          <p>Receipt</p>\n        </Col>\n      );\n    }\n\n    return null;\n  }\n\n  renderSignUp() {\n    const {\n      isLoggedIn,\n      category,\n      login,\n      charged,\n    } = this.props;\n\n    if (!charged && !isLoggedIn) {\n      return (\n        <div className=\"piggy\">\n          <PiggyFillForm\n            category={category}\n            onClick={() => login.popup.openPopup(login.loginContainer.setInitialIndex(1))}\n          />\n        </div>\n      );\n    }\n\n    return null;\n  }\n\n  renderWarning() {\n    const { errorMsg } = this.state;\n\n    if (!errorMsg) {\n      return null;\n    }\n\n    return (\n      <Col xs={12}>\n        <p className=\"disclaimer-warning\">{errorMsg}</p>\n      </Col>\n    );\n  }\n\n  renderPayment() {\n    const {\n      transactionData,\n      values,\n      sessionId,\n    } = this.state;\n\n    const {\n      wordings,\n      trackingTags,\n      handleAPI,\n      category,\n      setCharged,\n      charged,\n      userDetails,\n    } = this.props;\n\n    return (\n      <CheckoutPayment\n        getStripe={getTransactionStripeSession}\n        sessionId={sessionId}\n        checkout={postCheckout}\n        wordings={wordings}\n        trackingTags={trackingTags}\n        setError={errorMsg => this.setState({ errorMsg })}\n        charged={charged}\n        transactionData={transactionData}\n        values={values}\n        promoCode={getFormValue(values.promo_code)}\n        useCashback={getFormValue(values.cashback)}\n        handleAPI={handleAPI}\n        setCharged={setCharged}\n        category={category}\n        getPromo={this.getPromo}\n        id={userDetails && userDetails.id}\n        setErrors={this.setErrors}\n      />\n    );\n  }\n\n  render() {\n    const { transactionData } = this.state;\n\n    return (\n      <Row className=\"detail-main-container-new checkout-container\" noGutters>\n        {\n          transactionData &&\n          <Fragment>\n            <Col xs={12} lg={7}>\n              {/* <div className=\"d-block d-lg-none\">\n                {this.renderSignUp()}\n              </div> */}\n              <Row className=\"detail-left-container\" noGutters>\n                {this.renderChargedHeader()}\n                <Col className=\"company-product-container\" xs={12}>\n                  {this.renderHeader()}\n                </Col>\n                {this.renderDetailsTable()}\n              </Row>\n            </Col>\n            <Col lg={5}>\n              {this.renderSignUp()}\n              <Row className=\"detail-right-container summary-container\" noGutters>\n                <Col xs={12} className=\"summary-seperator\" />\n                {this.renderPriceSummary(false)}\n                {this.renderPriceSummary(true)}\n                {this.renderCashBack()}\n                <Col xs={12} className=\"summary-seperator\" />\n                {this.renderTotal()}\n                {this.renderDisclaimer()}\n                {this.renderWarning()}\n                {this.renderPayment()}\n              </Row>\n            </Col>\n          </Fragment>\n        }\n        <div ref={node => this.gaCheckOut = node} />\n      </Row>\n    );\n  }\n}\n\nCheckout.defaultProps = {\n  promoErrorString: null,\n  wordings: [],\n  backToDetails: null,\n  isAdHoc: false,\n  trackingTags: null,\n  charged: false,\n  userDetails: null,\n};\n\nCheckout.propTypes = {\n  userDetails: PropTypes.object,\n  getPromo: PropTypes.func.isRequired,\n  subDetails: PropTypes.array.isRequired,\n  headerData: PropTypes.object.isRequired,\n  mainDetails: PropTypes.object.isRequired,\n  promoErrorString: PropTypes.string,\n  isLoggedIn: PropTypes.bool.isRequired,\n  login: PropTypes.object.isRequired,\n  wordings: PropTypes.array,\n  backToDetails: PropTypes.func,\n  isAdHoc: PropTypes.bool,\n  trackingTags: PropTypes.object,\n  charged: PropTypes.bool,\n  category: PropTypes.string.isRequired,\n  handleAPI: PropTypes.func.isRequired,\n  setCharged: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  const adHocCharged = ownProps.isAdHoc && ownProps.adHocData && ownProps.adHocData.status === 'paid' ? true : null;\n  const isCharged = ownProps.charged || adHocCharged;\n  return ({\n    login: state.login,\n    transactionData: state.insurance.transactionData,\n    promoErrorString: state.insurance.promoErrorString,\n    userDetails: state.userDetails && state.userDetails.data,\n    adHocCharged: ownProps.isAdHoc && ownProps.adHocData && ownProps.adHocData.status === 'paid' ? true : null,\n    isCharged,\n  });\n};\n\n// const mapDispatchToProps = dispatch => ({\n// });\n\nconst mergeProps = (propsFromState, propsFromDispatch, ownProps) => {\n  const getPromo = propsFromState.isCharged ?\n    sessionId => getReceipt(sessionId)() :\n    (sessionId, userToken, promocode, useReward) => getPromoCode(userToken, sessionId, promocode, useReward)();\n\n  return ({\n    ...ownProps,\n    ...propsFromState,\n    // ...propsFromDispatch,\n    getPromo,\n  });\n};\n\nexport default connect(mapStateToProps, null, mergeProps)(Checkout);\n","/**\n * TravelCheckoutContainer.js\n * The Checkout container for travel\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport document from 'global/document';\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport { setCategoryNavBar } from '../../actions/navActions';\nimport { getSessionParams } from '../../actions/travelActions';\nimport { setInsuranceFormState, FORMSTATES } from '../../actions/insuranceActions';\nimport Checkout from '../../components/Templates/CheckoutV1/Checkout';\nimport { fbTag, gaTag, gaEvent, ampTag } from '../../lib/tagFunctions';\n\nimport {\n  compactCheckoutAttributes,\n  getCheckoutParamsWordingNew,\n  getCheckoutHeaderDataCoverageNew,\n  getCompactSubDetails,\n} from '../../lib/helperFunctions';\n\nclass TravelCheckoutContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    const {\n      values,\n      detailValues,\n      selectedPlanData,\n      isAdHoc,\n      adHocData,\n      planType,\n    } = this.props;\n\n    const paramsWording = getCheckoutParamsWordingNew(\n      planType,\n      isAdHoc,\n      adHocData,\n      selectedPlanData,\n      () => getSessionParams(values, detailValues, selectedPlanData, planType),\n    );\n\n    const headerCoverage = getCheckoutHeaderDataCoverageNew('Travel Insurance', isAdHoc, adHocData, selectedPlanData, paramsWording.params);\n    const sessionParamsToUse = isAdHoc ? adHocData.data.session_params : paramsWording.params.sessionParams.session_params;\n    const tripType = isAdHoc ? adHocData.data.session_params.trip_type : values.trip_type.value;\n    const travelDate = this.getTravelDate(sessionParamsToUse, isAdHoc);\n    const travellingString = this.getTravellingString(sessionParamsToUse);\n    const subDetails = this.getTravellersDetails(sessionParamsToUse);\n    let countries = null;\n    let countryName = 'Country';\n\n    try {\n      countryName = sessionParamsToUse.countries.length > 1 ? 'Countries' : countryName;\n      countries = _.reduce(sessionParamsToUse.countries, (result, country, index) => {\n        const newStr = index === 0 ? `${country}` : `${result}, ${country}`;\n        return newStr;\n      }, '');\n    } catch (error) {\n      // eslint-disable-next-line\n    }\n\n    this.state = {\n      headerData: headerCoverage.headerData,\n      mainDetails: {\n        title: 'Insurance',\n        attributes: compactCheckoutAttributes([\n          { title: 'Trip type', description: tripType },\n          ...travelDate,\n          { title: 'Who is travelling', description: travellingString },\n          { title: countryName, description: countries },\n          { title: 'Region', description: sessionParamsToUse.destination },\n          // { title: 'Coverage', description: headerCoverage.coverage },\n        ]),\n      },\n      subDetails,\n      ...paramsWording,\n      wordings: [\n        ...(paramsWording.wording ? [<span>I have read and agree to abide by the <a href={paramsWording.wording} target=\"__blank\">Policy Wording.</a></span>] : []),\n        <Fragment>\n          <span>I agree to store this policy in my PolicyPal account after purchase, in accordance with the Personal Data Protection Act.</span>\n          <span className=\"disclaimer-cashback-text\">*Cashback <a href=\"/cashback\" target=\"_blank\">Terms & Conditions</a></span>\n        </Fragment>,\n      ],\n    };\n  }\n\n  componentDidMount() {\n    const { setFormState, doSetCategoryNavBar } = this.props;\n    setFormState(FORMSTATES.CHECKOUT.index);\n\n    fbTag('PPS2 - Pageview - Travel - CheckoutPage', { Product: 'Travel' });\n    gaTag({\n      page_title: 'Travel - Checkout',\n      page_path: '/travel/checkout',\n    });\n    ampTag('TravelReviewS');\n    document.body.style.backgroundColor = '#F9FAFF';\n    doSetCategoryNavBar(true);\n  }\n\n  componentWillUnmount() {\n    const { doSetCategoryNavBar } = this.props;\n    document.body.style.backgroundColor = '#FFFFFF';\n    doSetCategoryNavBar(false);\n  }\n\n  getTravellingString(data) {\n    let whoTravelling = null;\n    if (data.plan_type === 'Family') {\n      whoTravelling = `Family, ${data.num_adult} adults, ${data.num_children} children`;\n    } else if (data.plan_type === 'Group') {\n      whoTravelling = `Group, ${data.num_adult} persons`;\n    } else if (data.plan_type === 'Individual') {\n      whoTravelling = 'Myself';\n    }\n\n    return whoTravelling;\n  }\n\n  getTravelDate(data, isAdHoc) {\n    if (data.trip_type === 'Single Trip' || (isAdHoc && data.trip_type !== 'Annual Multi-Trip')) {\n      return ([\n        { title: 'Start date', description: data.start_date },\n        { title: 'End date', description: data.end_date },\n      ]);\n    }\n\n    return ([\n      { title: 'Start date', description: data.start_date },\n    ]);\n  }\n\n  getTravellersDetails(data) {\n    if (data.plan_type === 'Individual') {\n      return ([this.mainAdultDetail(data)]);\n    }\n\n    if (data.plan_type === 'Group') {\n      return (\n        [\n          this.mainAdultDetail(data),\n          ...this.adultsDetail(data),\n        ]\n      );\n    }\n\n    return (\n      [\n        this.mainAdultDetail(data),\n        ...this.adultsDetail(data),\n        ...this.childrenDetail(data),\n      ]\n    );\n  }\n\n  mainAdultDetail(data) {\n    const name = data.plan_type === 'Group' ? 'Person' : 'Adult';\n    const blkNo = data.blk_no ? `${data.blk_no} ` : '';\n\n    return (getCompactSubDetails({\n      key: `${name} 1`,\n      leftDetail: {\n        title: 'Details',\n        attributes: compactCheckoutAttributes([\n          { title: 'Email', description: data.email || '' },\n          { title: 'Last name', description: data.family_name || '' },\n          { title: 'First name', description: data.given_name || '' },\n          { title: 'ID type', description: data.id_type || '' },\n          { title: 'ID number', description: data.nric || '' },\n          { title: 'Date of birth', description: data.birth_date || '' },\n          { title: 'Gender', description: data.gender || '' },\n          { title: 'Race', description: data.race || '' },\n          { title: 'Nationality', description: data.citizenship || '' },\n          { title: 'Marital Status', description: data.marital_status || '' },\n          { title: 'Occupation', description: data.occupation || '' },\n          { title: 'Mobile number', description: data.mobile_number || '' },\n        ]),\n      },\n      rightDetail: {\n        title: 'Address',\n        attributes: compactCheckoutAttributes([\n          { title: 'Address', description: `${blkNo}${data.address || ''}` },\n          { title: 'Unit no', description: data.unit_no || '' },\n          { title: 'Postcode', description: data.postal || '' },\n        ]),\n      },\n    }));\n  }\n\n  adultsDetail(data) {\n    const result = [];\n    const arrayName = data.plan_type === 'Group' ? 'group' : 'family';\n    const name = data.plan_type === 'Group' ? 'Person' : 'Adult';\n    const count = data.num_adult - 1;\n\n    for (let i = 0; i < count; ++i) {\n      result.push({\n        key: `${name} ${i + 2}`,\n        leftDetail: {\n          title: 'Details',\n          attributes: compactCheckoutAttributes([\n            { title: 'Name', description: data[arrayName][i].name || '' },\n            { title: 'ID type', description: data[arrayName][i].id_type || '' },\n            { title: 'ID number', description: data[arrayName][i].nric || '' },\n            { title: 'Nationality', description: data[arrayName][i].citizenship || '' },\n            { title: 'Date of Birth', description: data[arrayName][i].birth_date || '' },\n            { title: 'Gender', description: data[arrayName][i].gender || '' },\n            { title: 'Mobile number', description: data[arrayName][i].mobile_number || '' },\n            { title: 'Relationship', description: data[arrayName][i].relationship || '' },\n          ]),\n        },\n      });\n    }\n\n    return result;\n  }\n\n  childrenDetail(data) {\n    const result = [];\n    const startIndex = data.num_adult - 1;\n    const arrayName = data.plan_type === 'Group' ? 'group' : 'family';\n\n    for (let i = 0; i < data.num_children; ++i) {\n      const index = startIndex + i;\n      result.push({\n        key: `Child ${i + 1}`,\n        leftDetail: {\n          title: 'Details',\n          attributes: compactCheckoutAttributes([\n            { title: 'Name', description: data[arrayName][index].name || '' },\n            { title: 'ID type', description: data[arrayName][index].id_type || '' },\n            { title: 'ID number', description: data[arrayName][index].nric || '' },\n            { title: 'Nationality', description: data[arrayName][index].citizenship || '' },\n            { title: 'Date of Birth', description: data[arrayName][index].birth_date || '' },\n            { title: 'Gender', description: data[arrayName][index].gender || '' },\n            { title: 'Relationship', description: data[arrayName][index].relationship || '' },\n          ]),\n        },\n      });\n    }\n\n    return result;\n  }\n\n  render() {\n    const {\n      headerData,\n      mainDetails,\n      subDetails,\n      params,\n      wordings,\n    } = this.state;\n\n    const {\n      isAdHoc,\n      setFormState,\n      history,\n    } = this.props;\n\n    return (\n      <div className=\"travel-checkout-container\">\n        <Checkout\n          {...this.props}\n          verifyParams={['quote_reference']}\n          headerData={headerData}\n          mainDetails={mainDetails}\n          subDetails={subDetails}\n          backToDetails={() => {\n            history.goBack();\n          }}\n          wordings={wordings}\n          params={params}\n          category=\"travel\"\n          trackingTags={{\n            payment: (data) => {\n              fbTag('PPS2 - ButtonClick - Travel - CheckoutPage_ProceedPayment', { Product: 'Travel', Click_Text: 'ProceedPayment' });\n              gaEvent('Travel - CheckoutPage_ProceedPayment', {\n                event_category: 'Travel',\n                event_label: 'Travel - CheckoutPage_ProceedPayment',\n              });\n              ampTag('TravelProceedPayA', {\n                cashback: data.useCashback !== null,\n                promo: data.promoCode !== null && data.promoCode !== '',\n              });\n            },\n            receipt: () => {\n              if (!isAdHoc) {\n                setFormState(FORMSTATES.SUBMITTED.index);\n                history.push(`/travel${FORMSTATES.SUBMITTED.path}`);\n              }\n              fbTag('PPS2 - Pageview - Travel - Receipt', { Product: 'Travel' });\n              gaTag({\n                page_title: 'Travel - Receipt',\n                page_path: '/travel/Receipt',\n              });\n              ampTag('TravelConfirmationS');\n            },\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nTravelCheckoutContainer.defaultProps = {\n  charged: null,\n  sessionId: null,\n  adHocData: null,\n  isAdHoc: false,\n  isLoggedIn: false,\n  selectedPlanData: null,\n  values: null,\n  detailValues: null,\n};\n\nTravelCheckoutContainer.propTypes = {\n  charged: PropTypes.bool,\n  sessionId: PropTypes.string,\n  values: PropTypes.object,\n  detailValues: PropTypes.object,\n  selectedPlanData: PropTypes.object,\n  isLoggedIn: PropTypes.bool,\n  adHocData: PropTypes.object,\n  isAdHoc: PropTypes.bool,\n  setFormState: PropTypes.func.isRequired,\n  history: PropTypes.object.isRequired,\n  doSetCategoryNavBar: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  sessionId: ownProps.isAdHoc ? ownProps.sessionId : state.insurance.sessionId,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setFormState: (state) => {\n    dispatch(setInsuranceFormState(state));\n  },\n  doSetCategoryNavBar: (isCategory) => {\n    dispatch(setCategoryNavBar(isCategory));\n  },\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(TravelCheckoutContainer));\n","/**\n * CheckoutComplete.js\n * Shows this when checkout is complete\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport React, { Component, Fragment } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport CheckoutCompleteSVG from 'assets/images/common/CheckoutComplete.svg';\nimport Button from 'components/FormsV3/Button/Button';\nimport Popup from '../Popup/Popup';\n\nimport './CheckoutPopup.scss';\n\nclass CheckoutComplete extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      animateStyle: '',\n    };\n\n    this.openCheckoutComplete = this.openCheckoutComplete.bind(this);\n  }\n\n  openCheckoutComplete(userName = null) {\n    this.setState({\n      animateStyle: 'bounce-in',\n      userName,\n    });\n\n    setTimeout(() => {\n      this.popupRef.openPopup();\n    }, 10);\n  }\n\n  renderUpperText() {\n    const { userName } = this.state;\n    const { isQuoteOnly, upperText } = this.props;\n\n    if (!isQuoteOnly) {\n      return (\n        <Fragment>\n          <p>Thank you for your</p>\n          <p><span>purchase, </span><span className=\"focus-text\">{userName}</span></p>\n        </Fragment>\n      );\n    }\n\n    return (\n      <p>{upperText || 'Success'}</p>\n    );\n  }\n\n  renderMidText() {\n    const { isQuoteOnly, midText } = this.props;\n\n    const message = 'The insurer’s representative will contact you within 2 business days to share with you more about the selected product.';\n\n    // Our partnered FA representative from Synergy Financial Advisers Pte Ltd will contact you within 48 hours to share with you more about the selected product.\n    if (!isQuoteOnly) {\n      return (\n        <Fragment>\n          <p>A copy of the receipt has been sent to</p>\n          <p>your inbox.</p>\n          <p>{'The policy will be reflected in PolicyPal\\'s APP once approved.'}</p>\n        </Fragment>\n      );\n    }\n\n    if (midText !== null) {\n      return (\n        <Fragment>\n          <p>{midText}</p>\n        </Fragment>\n      );\n    }\n\n    return (\n      <Fragment>\n        <p>Thanks for submitting your request.</p>\n        <p>{message}</p>\n      </Fragment>\n    );\n  }\n\n  renderButton() {\n    const {\n      history,\n      isQuoteOnly,\n      buttonText,\n      callback,\n    } = this.props;\n\n    if (!isQuoteOnly) {\n      return (\n        <Fragment>\n          <Button\n            className=\"checkout-button\"\n            variant=\"medium-flat\"\n            width={166}\n            height={72}\n            onClick={() => history.push('/gotoappstore')}\n          >\n            <p>Download APP</p>\n          </Button>\n          <Button\n            className=\"checkout-button\"\n            variant=\"medium-flat-green\"\n            width={166}\n            height={72}\n            onClick={() => this.popupRef.closePopup()}\n          >\n            <p>Details</p>\n          </Button>\n        </Fragment>\n      );\n    }\n\n    return (\n      <Button\n        className=\"checkout-button\"\n        variant=\"medium-flat-green\"\n        width={166}\n        height={72}\n        onClick={() => {\n          if (callback) {\n            callback();\n            this.popupRef.togglePopup(false);\n            return;\n          }\n          history.push('/');\n        }}\n      >\n        <p>{buttonText || 'OK'}</p>\n      </Button>\n    );\n  }\n\n  render() {\n    const { animateStyle } = this.state;\n    const { isSellLeads, className } = this.props;\n\n    const extraText = !isSellLeads ? '' : 'In the event that you purchase a plan through our partner, PolicyPal receives a referral fee.';\n\n    return (\n      <Popup\n        className={className}\n        hideCloseButton ref={(r) => { this.popupRef = r; }}\n      >\n        <Fragment>\n          <div className=\"check-out-popup\">\n            <img className={animateStyle} src={CheckoutCompleteSVG} alt=\"CheckoutComplete.svg\" />\n            <div className=\"upper-container upper-margin-up\">\n              {this.renderUpperText()}\n            </div>\n            <div className=\"mid-container\">\n              {this.renderMidText()}\n            </div>\n            <div className=\"button-container\">\n              {this.renderButton()}\n            </div>\n            <div className=\"extra-text\"><p>{extraText}</p></div>\n          </div>\n        </Fragment>\n      </Popup>\n    );\n  }\n}\n\nCheckoutComplete.defaultProps = {\n  isQuoteOnly: false,\n  isSellLeads: false,\n  upperText: null,\n  midText: null,\n  buttonText: null,\n  callback: null,\n  className: '',\n};\n\nCheckoutComplete.propTypes = {\n  history: PropTypes.object.isRequired,\n  isQuoteOnly: PropTypes.bool,\n  isSellLeads: PropTypes.bool,\n  upperText: PropTypes.string,\n  midText: PropTypes.string,\n  buttonText: PropTypes.string,\n  callback: PropTypes.func,\n  className: PropTypes.string,\n};\n\nexport default withRouter(CheckoutComplete, { withRef: true });\n","module.exports = __webpack_public_path__ + \"static/media/CheckoutComplete.7a48570a.svg\";","module.exports = __webpack_public_path__ + \"static/media/CashbackLogo.47f3e5e5.svg\";","import React, { Component } from 'react';\nimport { CustomInput } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\n\nimport './Checkbox.scss';\n\nexport default class Checkbox extends Component {\n  render() {\n    const {\n      name,\n      value,\n      desc,\n      onChange,\n      errorString,\n      extraInfo,\n    } = this.props;\n\n    return (\n      <FormInputWrapper\n        errorString={errorString}\n        extraInfo={extraInfo}\n        smallMargin\n      >\n        <div className=\"checkbox-container-v3\">\n          <CustomInput\n            id={name}\n            className=\"checkbox-input\"\n            type=\"checkbox\"\n            onChange={() => onChange('checkbox', name, !value)}\n            checked={!!value}\n          />\n          {/* eslint-disable-next-line */}\n          <p\n            className=\"checkbox-input-desc\"\n            // onClick={() => onChange('checkbox', name, !value)}\n          >\n            {desc}\n          </p>\n        </div>\n      </FormInputWrapper>\n    );\n  }\n}\n\nCheckbox.defaultProps = {\n  value: null,\n  errorString: null,\n  extraInfo: null,\n};\n\nCheckbox.propTypes = {\n  value: PropTypes.bool,\n  name: PropTypes.string.isRequired,\n  desc: PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.array]).isRequired,\n  onChange: PropTypes.func.isRequired,\n  errorString: PropTypes.string,\n  extraInfo: PropTypes.object,\n};\n","module.exports = \"data:image/png;base64,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\"","/**\n * CheckoutUsingCashback.js\n * Show this view when payment amount is 0.\n * Shoule be from cashback reduction to 0.\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\n\nimport CashbackLogo from 'assets/images/common/CashbackLogo.svg';\nimport Button from 'components/FormsV3/Button/Button';\nimport Popup from '../Popup/Popup';\n\nimport './CheckoutPopup.scss';\n\nclass CheckoutUsingCashback extends Component {\n  constructor(props) {\n    super(props);\n\n    this.openCheckoutUsingCashback = this.openCheckoutUsingCashback.bind(this);\n  }\n\n  openCheckoutUsingCashback() {\n    this.popupRef.openPopup();\n  }\n\n  render() {\n    const { onConfirm } = this.props;\n    return (\n      <Popup ref={(r) => { this.popupRef = r; }}>\n        <Fragment>\n          <div className=\"check-out-popup\">\n            <div className=\"upper-container upper-margin-down\">\n              <p>\n                <span>Purchase using </span>\n                <img src={CashbackLogo} alt=\"CashbackLogo.svg\" />\n                <span className=\"focus-text\"> Cashback</span>\n              </p>\n            </div>\n            <div className=\"mid-container\">\n              <p>No payment is needed</p>\n            </div>\n            <div className=\"button-container\">\n              <Button\n                className=\"checkout-button\"\n                variant=\"medium-flat\"\n                width={166}\n                height={72}\n                onClick={() => this.popupRef.closePopup()}\n              >\n                <p>Cancel</p>\n              </Button>\n              <Button\n                className=\"checkout-button\"\n                variant=\"medium-color\"\n                width={166}\n                height={72}\n                onClick={() => {\n                  onConfirm();\n                  this.popupRef.closePopup();\n                }}\n              >\n                <p>Confirm</p>\n              </Button>\n            </div>\n          </div>\n        </Fragment>\n      </Popup>\n    );\n  }\n}\n\nCheckoutUsingCashback.defaultProps = {\n};\n\nCheckoutUsingCashback.propTypes = {\n  onConfirm: PropTypes.func.isRequired,\n};\n\nexport default CheckoutUsingCashback;\n","/**\n * PromoCode.js\n * PromoCode field that takes in a callback\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport React, { Component } from 'react';\nimport { Input } from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nimport Button from 'components/FormsV3/Button/Button';\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\n\nimport '../TextInput/TextInput.scss';\nimport './PromoCode.scss';\n\nconst defaultHeight = 48;\n\n/**\n * Custom Form Dropdown class\n */\nclass PromoCode extends Component {\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const { value } = nextProps;\n    const { oldValue } = prevState;\n\n    if (value !== oldValue) {\n      return {\n        value,\n        oldValue: value,\n      };\n    }\n\n    return null;\n  }\n\n  constructor(props) {\n    super(props);\n\n    const { value } = this.props;\n\n    this.state = {\n      value,\n      oldValue: value,\n      errorString: null,\n    };\n  }\n\n  componentDidMount() {\n    this.isComMounted = true;\n  }\n\n  componentWillUnmount() {\n    this.isComMounted = false;\n  }\n\n  render() {\n    const { value, errorString, oldValue } = this.state;\n    const { value: propsValue } = this.props;\n\n    const {\n      name,\n      placeholderString,\n      extraInfo,\n      postCheckout,\n    } = this.props;\n\n    const buttonText = propsValue ? 'Remove' : 'Apply';\n\n    return (\n      <FormInputWrapper\n        extraInfo={extraInfo}\n        errorString={errorString}\n      >\n        <div\n          className=\"text-input-container-v3 promo-container-v3\"\n          style={{ height: defaultHeight }}\n        >\n          <div className=\"text-input \">\n            <Input\n              className=\"text\"\n              placeholder={placeholderString}\n              name={name}\n              disabled={propsValue}\n              value={value || ''}\n              onChange={e => this.setState({ value: e.target.value })}\n            />\n            <div className=\"promo-button\">\n              <Button\n                variant=\"medium-outline-edit\"\n                height={32}\n                width={88}\n                onClick={async () => {\n                  try {\n                    if (propsValue) {\n                      await postCheckout(null);\n\n                      if (this.isComMounted) {\n                        this.setState({\n                          errorString: null,\n                        });\n                      }\n                      return;\n                    }\n\n                    if (value) {\n                      const result = await postCheckout(value);\n                      if (this.isComMounted) {\n                        // Promo code will not be set\n                        if (!result) {\n                          this.setState({\n                            errorString: 'Invalid promo code!',\n                            value: oldValue,\n                          });\n                        } else {\n                          this.setState({\n                            errorString: null,\n                          });\n                        }\n                      }\n                    }\n                  } catch (error) {\n                    // eslint-disable-next-line\n                  }\n                }}\n              >\n                <p>{buttonText}</p>\n              </Button>\n            </div>\n          </div>\n        </div>\n      </FormInputWrapper>\n    );\n  }\n}\n\nPromoCode.defaultProps = {\n  extraInfo: null,\n  value: '',\n};\n\n\nPromoCode.propTypes = {\n  placeholderString: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  postCheckout: PropTypes.func.isRequired,\n  extraInfo: PropTypes.object,\n  value: PropTypes.string,\n};\n\nexport default PromoCode;\n","// @flow\nimport $ from 'jquery';\nimport document from 'global/document';\nimport window from 'global/window';\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport LoadingScreenV2 from 'components/Templates/LoadingScreenV2/LoadingScreenV2';\n\nclass StripePayment extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currMarkup: null,\n      extraData: null,\n      isLoading: false,\n      isLoadingError: false,\n    };\n\n    this.cleanCheckoutButtonContainer = this.cleanCheckoutButtonContainer.bind(this);\n    this.setNewMarkup = this.setNewMarkup.bind(this);\n    this.invokeClick = this.invokeClick.bind(this);\n\n    this.showLoading = this.showLoading.bind(this);\n    this.showLoadingError = this.showLoadingError.bind(this);\n  }\n\n  componentDidMount() {\n    const { markup } = this.props;\n    this.setNewMarkup(markup);\n  }\n\n  componentDidUpdate() {\n    const { currMarkup } = this.state;\n    const { markup } = this.props;\n\n    if (currMarkup !== markup) {\n      if (markup) {\n        this.setNewMarkup(markup);\n      } else if (!markup) {\n        this.setState({\n          currMarkup: null,\n        });\n      }\n    }\n  }\n\n  setNewMarkup(markup) {\n    const { paymentCallback, replacementIDString } = this.props;\n\n    if (!markup) {\n      return;\n    }\n\n    this.cleanCheckoutButtonContainer();\n\n    const range = document.createRange();\n    if (replacementIDString) {\n      this.checkoutButton.appendChild(range.createContextualFragment(_.replace(markup, replacementIDString, 'id=\"checkout_form\"')));\n    } else {\n      this.checkoutButton.appendChild(range.createContextualFragment(markup));\n    }\n\n    $('#checkout_form').get(0).submit = () => {\n      const { extraData } = this.state;\n      const data = $('#checkout_form').serializeArray();\n\n\n      paymentCallback(data, extraData);\n\n      this.setState({\n        extraData: null,\n      });\n\n      // Prevent form submit.\n      return false;\n    };\n\n    // eslint-disable-next-line\n    this.setState({\n      currMarkup: markup,\n    });\n  }\n\n  showLoading(isLoading) {\n    this.setState({ isLoading });\n  }\n\n  showLoadingError(isLoadingError) {\n    this.setState({ isLoadingError });\n  }\n\n  cleanCheckoutButtonContainer() {\n    while (this.checkoutButton.firstChild) {\n      this.checkoutButton.removeChild(this.checkoutButton.firstChild);\n    }\n  }\n\n  invokeClick(failCallback, extraData, doTag = null) {\n    const { zeroPaymentCallback } = this.props;\n\n    let failCallTimeout = null;\n\n    this.setState({\n      extraData,\n    });\n\n    this.showLoading(true);\n\n    const ele = document.getElementsByName('stripe_checkout_app');\n    for (let i = ele.length - 1; i >= 0; i--) {\n      ele[i].parentNode.removeChild(ele[i]);\n    }\n\n    const invokeClick = setInterval(() => {\n      try {\n        const { amount } = $('#checkout_form')[0].getElementsByClassName('stripe-button')[0].dataset;\n        if (amount === '0') {\n          this.showLoading(false);\n          if (doTag) {\n            doTag();\n          }\n          if (zeroPaymentCallback) {\n            zeroPaymentCallback();\n          }\n          clearInterval(invokeClick);\n          clearTimeout(failCallTimeout);\n          return;\n        }\n      } catch (error) {\n        console.log('Get new payable failed');\n        clearInterval(invokeClick);\n        clearTimeout(failCallTimeout);\n        this.showLoadingError(true);\n        failCallback();\n      }\n\n      try {\n        const button = $('#checkout_form')[0].getElementsByClassName('stripe-button-el')[0];\n        if (button) {\n          $(button).trigger('click');\n          if (doTag) {\n            doTag();\n          }\n          clearInterval(invokeClick);\n          clearTimeout(failCallTimeout);\n          setTimeout(() => this.showLoading(false), 5000);\n        }\n      } catch (error) {\n        console.log('Button not yet generated!');\n        clearInterval(invokeClick);\n        clearTimeout(failCallTimeout);\n        this.showLoadingError(true);\n        failCallback();\n      }\n    }, 10);\n\n    failCallTimeout = setTimeout(() => {\n      clearInterval(invokeClick);\n      this.showLoadingError(true);\n      failCallback();\n    }, 10000);\n  }\n\n  render() {\n    const { isLoading, isLoadingError } = this.state;\n\n    return (\n      <Fragment>\n        <div className=\"d-none\" ref={(node) => { this.checkoutButton = node; }} />\n        <LoadingScreenV2\n          isLoading={isLoading}\n          isLoadingError={isLoadingError}\n          message={<h5>Please try again.</h5>}\n          showLoading={this.showLoading}\n          showLoadingError={this.showLoadingError}\n          noLogos\n        />\n      </Fragment>\n    );\n  }\n}\n\nStripePayment.defaultProps = {\n  markup: null,\n  replacementIDString: null,\n  zeroPaymentCallback: null,\n};\n\nStripePayment.propTypes = {\n  markup: PropTypes.string,\n  // doLoadStripeState: PropTypes.func.isRequired,\n  paymentCallback: PropTypes.func.isRequired,\n  zeroPaymentCallback: PropTypes.func,\n  replacementIDString: PropTypes.string,\n};\n\nexport default StripePayment;\n"],"sourceRoot":""}