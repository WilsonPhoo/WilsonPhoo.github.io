{"version":3,"sources":["components/Retirement/RetirementDetail.js","containers/Retirement/RetirementDetailContainer.js","assets/images/forms/arrow.svg","components/Forms/FormInputWrapper/FormInputWrapper.js","assets/images/forms/magnifyGlass.svg","assets/images/common/CheckoutComplete.svg","components/Templates/CheckoutPopup/CheckoutComplete.js"],"names":["RetirementDetail","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","sessionId","errorStringData","errorArray","handleSubmit","bind","assertThisInitialized","validateForm","nextProps","prevState","_this2","loadingEnd","setTimeout","checkoutComplete","openCheckoutComplete","ampTag","e","error","setState","_","isEmpty","react_default","a","createElement","className","key","_this3","isFirstValidate","arguments","length","undefined","_this$props","checkOutOthers","loading","storeForm","errorResult","isEmptyResult","dateReValidate","popup","openPopupWithJSX","getSynergyJSX","fbTag","Product","Click_Text","gaEvent","event_category","event_label","window","scrollTo","document","body","scrollHeight","_this4","_this$state","_this$props2","form","change","planDetails","isLoggedIn","piggyCallback","changePlan","react","DetailForm","category","onSubmit","checkoutButtonDesc","reactstrap_es","noGutters","xs","TextInput","name","placeholderString","size","zIndex","desc","errorString","email","sm","DatePickerV2","birth_date","endDate","Date","mobile_number","PopupWithText","ref","node","showCancelButton","CheckoutComplete","isQuoteOnly","isSellLeads","wrappedComponentRef","Component","defaultProps","reduxForm","destroyOnUnmount","connect","getFormValues","constants","insurance","dispatch","callBack","errorMsg","time","setLoading","clearLoading","RetirementDetailContainer","setFormState","FORMSTATES","DETAILFORM","index","gaTag","page_title","page_path","plansData","profileValues","retirementFields","history","selectedData","logo","Logos","others","logoDesc","planName","planTotal","info","insurer_slug","concat","insurer_name","product_name","policyInfo","planType","net_price","toFixed","console","log","Retirement_RetirementDetail","goBack","withRouter","retirementForm","retirement","userDetails","selectedPlanData","setInsuranceFormState","getAnonymousSession","params","propsFromState","propsFromDispatch","ownProps","objectSpread","detailForm","getSessionParams","module","exports","__webpack_require__","p","FormInputWrapper","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__","setErrorString","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","clearErrorString","refValue","message","extraInfo","react__WEBPACK_IMPORTED_MODULE_6___default","children","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","animateStyle","userName","popupRef","openPopup","upperText","react__WEBPACK_IMPORTED_MODULE_6__","midText","_this$props3","buttonText","callback","components_FormsV3_Button_Button__WEBPACK_IMPORTED_MODULE_9__","variant","width","height","onClick","togglePopup","push","closePopup","_this$props4","extraText","_Popup_Popup__WEBPACK_IMPORTED_MODULE_10__","hideCloseButton","r","src","CheckoutCompleteSVG","alt","renderUpperText","renderMidText","renderButton","withRef"],"mappings":"kWA+BMA,cAeJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAEDQ,MAAQ,CACXC,UAAW,KACXC,gBAAiB,GACjBC,WAAY,IAGdV,EAAKW,aAAeX,EAAKW,aAAaC,KAAlBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KACpBA,EAAKc,aAAed,EAAKc,aAAaF,KAAlBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KAVHA,6FAdae,EAAWC,GAAW,IAElDR,EACEO,EADFP,UAGF,OAAIA,IAAcQ,EAAUR,UAClB,CACNA,aAIG,mEAgBY,IAAAS,EAAAd,KACXK,EAAcL,KAAKI,MAAnBC,UACAU,EAAef,KAAKJ,MAApBmB,WAEJV,IACFU,IACAC,WAAW,WACTF,EAAKG,iBAAiBC,uBACtBC,YAAO,wBACN,2CAIMC,GACX,IAOMC,EAAQV,YAAaS,EAPL,CACpB,QACA,OACA,aACA,kBAKFpB,KAAKsB,SAAS,CACZhB,gBAAiBe,IAGnB,IAAId,EAAa,GASjB,OARKgB,IAAEC,QAAQH,KACbd,EAAa,CAACkB,EAAAC,EAAAC,cAAA,KAAGC,UAAU,eAAeC,IAAI,WAAhC,yDAGhB7B,KAAKsB,SAAS,CACZf,eAGKc,uCAGID,GAA2B,IAAAU,EAAA9B,KAAxB+B,IAAwBC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,KAAAA,UAAA,GAAAG,EAESnC,KAAKJ,MAA5CwC,EAF8BD,EAE9BC,eAAgBC,EAFcF,EAEdE,QAASC,EAFKH,EAELG,UAC3BC,EAAcvC,KAAKW,aAAaoB,EAAkBX,EAAIkB,GACtDE,EAAgBjB,IAAEC,QAAQe,GAE5BE,YACFD,EACAT,EACAQ,EACA,SAAAlB,GAAK,OAAIS,EAAKR,SAAS,CAAEhB,gBAAiBe,EAAOd,WAAY,QAC7D,kBAAMuB,EAAKtB,aAAa8B,GAAW,OAKjCE,IACFrB,YAAO,mBACPA,YAAO,iBACPnB,KAAK0C,MAAMC,iBAAiBC,eAAiB,EAAM,WACjD5B,WAAW,WACTqB,IACAD,EAAehB,GAEfyB,YAAM,wDAAyD,CAAEC,QAAS,aAAcC,WAAY,aACpGC,YAAQ,qCAAsC,CAC5CC,eAAgB,aAChBC,YAAa,uCAEf/B,YAAO,oBACN,QAGPgC,IAAOC,SAAS,EAAGC,IAASC,KAAKC,gDAG1B,IAAAC,EAAAxD,KAAAyD,EACiCzD,KAAKI,MAArCE,EADDmD,EACCnD,gBAAiBC,EADlBkD,EACkBlD,WADlBmD,EAUH1D,KAAKJ,MAPP+D,EAHKD,EAGLC,KACAC,EAJKF,EAILE,OACAC,EALKH,EAKLG,YACAC,EANKJ,EAMLI,WACAC,EAPKL,EAOLK,cACAC,EARKN,EAQLM,WACA1B,EATKoB,EASLpB,UAIF,OACEb,EAAAC,EAAAC,cAACsC,EAAA,SAAD,KACExC,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CACEC,SAAS,aACTH,WAAYA,EACZxD,aAAcR,KAAKJ,MAAMY,aACzB4D,SAAUpE,KAAKQ,aACfoD,OAAQA,EACRD,KAAMA,EACNE,YAAaA,EACbC,WAAYA,EACZC,cAAeA,EACfxD,WAAYA,EACZ8D,mBAAmB,WAEnB5C,EAAAC,EAAAC,cAAC2C,EAAA,EAAD,CAAK1C,UAAU,YAAY2C,WAAS,GAClC9C,EAAAC,EAAAC,cAAC2C,EAAA,EAAD,CAAKE,GAAI,IACP/C,EAAAC,EAAAC,cAAC8C,EAAA,EAAD,CACEd,KAAMA,EACNC,OAAQA,EACRc,KAAK,QACLC,kBAAkB,GAClBC,KAAK,SACLC,OAAQ,GACRC,KAAK,gBACLC,YAAazE,EAAgB0E,MAC7BrE,aAAc,kBAAM6C,EAAK7C,aAAa2B,OAG1Cb,EAAAC,EAAAC,cAAC2C,EAAA,EAAD,CAAK1C,UAAU,gBAAgB4C,GAAI,GAAIS,GAAI,GACzCxD,EAAAC,EAAAC,cAAC8C,EAAA,EAAD,CACEd,KAAMA,EACNC,OAAQA,EACRc,KAAK,OACLC,kBAAkB,GAClBC,KAAK,SACLC,OAAQ,GACRC,KAAK,YACLC,YAAazE,EAAgBoE,KAC7B/D,aAAc,kBAAM6C,EAAK7C,aAAa2B,OAG1Cb,EAAAC,EAAAC,cAAC2C,EAAA,EAAD,CAAK1C,UAAU,eAAe4C,GAAI,GAAIS,GAAI,GACxCxD,EAAAC,EAAAC,cAACuD,EAAA,EAAD,CACEvB,KAAMA,EACNC,OAAQA,EACRc,KAAK,aACLE,KAAK,SACLC,OAAQ,GACRC,KAAK,gBACLC,YAAazE,EAAgB6E,WAC7BxE,aAAc,kBAAM6C,EAAK7C,aAAa2B,IACtC8C,QAAS,IAAIC,QAGjB5D,EAAAC,EAAAC,cAAC2C,EAAA,EAAD,CAAK1C,UAAU,gBAAgB4C,GAAI,GAAIS,GAAI,GACzCxD,EAAAC,EAAAC,cAAC8C,EAAA,EAAD,CACEd,KAAMA,EACNC,OAAQA,EACRc,KAAK,gBACLC,kBAAkB,GAClBC,KAAK,SACLC,OAAQ,GACRC,KAAK,gBACLC,YAAazE,EAAgBgF,cAC7B3E,aAAc,kBAAM6C,EAAK7C,aAAa2B,SAK9Cb,EAAAC,EAAAC,cAAC4D,EAAA,EAAD,CACEC,IAAK,SAAAC,GAAI,OAAIjC,EAAKd,MAAQ+C,GAC1BC,kBAAgB,IAElBjE,EAAAC,EAAAC,cAACgE,EAAA,EAAD,CACEC,aAAW,EACXC,aAAW,EACXC,oBAAqB,SAAAL,GAAI,OAAIjC,EAAKvC,iBAAmBwE,aAjMhCM,aAwM/BpG,EAAiBqG,aAAe,CAC9B1D,UAAW,MAiBb,IAce2D,cAAU,CACvBtC,KA3Oe,oBA4OfuC,kBAAkB,GAFLD,CAGZE,kBAjBqB,SAAA/F,GAAK,MAAK,CAChCkC,UAAW8D,YA7NI,oBA6NJA,CAAwBhG,GACnCiG,UAAWjG,EAAMkG,UAAUD,YAGF,SAAAE,GAAQ,MAAK,CACtClE,QAAS,SAACmE,EAAUC,EAAUC,GAC5BH,EAASI,YAAWH,EAAUC,EAAUC,KAE1C3F,WAAY,WACVwF,EAASK,kBAOVT,CAA6CxG,YCrP1CkH,+LAGFC,EADyB9G,KAAKJ,MAAtBkH,cACKC,IAAWC,WAAWC,OACnCpE,YAAM,4CAA6C,CAAEC,QAAS,eAC9DoE,YAAM,CACJC,WAAY,2BACZC,UAAW,2BAEbjG,YAAO,mDAGA,IAAAgB,EAUHnC,KAAKJ,MARPyH,EAFKlF,EAELkF,UACAvD,EAHK3B,EAGL2B,WACAwD,EAJKnF,EAILmF,cACAvD,EALK5B,EAKL4B,cACAwD,EANKpF,EAMLoF,iBACAnF,EAPKD,EAOLC,eACA/B,EARK8B,EAQL9B,UACAmH,EATKrF,EASLqF,QAGF,IAAKH,EACH,OAAO,KAGT,IAAMI,EAAeJ,EAEjBxD,EAAc,CAChB6D,KAAMC,IAAMC,OACZC,SAAU,GACVC,SAAU,GACVC,UAAW,MAGb,IACElE,EAAc,CACZ6D,KAAMC,IAAMF,EAAaO,KAAKC,cAC9BJ,SAAQ,GAAAK,OAAKT,EAAaO,KAAKG,aAAvB,QACRL,SAAUL,EAAaO,KAAKI,aAC5BL,UAAS,IAAAG,OAAMT,EAAaY,WAAWZ,EAAaa,UAAUC,UAAUC,QAAQ,KAElF,MAAOnH,GACPoH,QAAQC,IAAI,2BAGd,OACEjH,EAAAC,EAAAC,cAACgH,EAAD,CACEvG,eAAgBA,EAChBmF,iBAAkBA,EAClBlH,UAAWA,EACXoH,aAAcA,EACd5D,YAAaA,EACbC,WAAYA,EACZC,cAAeA,EACfC,WAAY,WACVwD,EAAQoB,SACR/F,YAAM,0DAA2D,CAAEC,QAAS,aAAcC,WAAY,eACtGC,YAAQ,uCAAwC,CAC9CC,eAAgB,aAChBC,YAAa,0CAGjBoE,cAAeA,WAjEiBvB,aAwExCc,EAA0Bb,aAAe,CACvC3F,UAAW,KACXgH,UAAW,MA8CEwB,sBAAW1C,kBA9BF,SAAA/F,GAAK,MAAK,CAChC0I,eAAgB1C,YAAc,aAAdA,CAA4BhG,GAC5CmH,iBAAkBnH,EAAM2I,WAAWxB,iBACnCD,cAAelH,EAAM4I,YACrB3B,UAAWjH,EAAM2I,WAAWE,iBAC5B5I,UAAWD,EAAMkG,UAAUjG,YAGF,SAAAkG,GAAQ,MAAK,CACtCO,aAAc,SAAC1G,GACbmG,EAAS2C,YAAsB9I,KAEjC+I,oBAAqB,SAACC,GACpB7C,EAAS4C,YAAoBC,GAAQ,OAItB,SAACC,EAAgBC,EAAmBC,GAApC,OAAAzJ,OAAA0J,EAAA,EAAA1J,CAAA,GACdyJ,EACAF,EACAC,EAHc,CAIjBlH,eAAgB,SAACqH,GACfH,EAAkBH,oBAAoBO,YACpCL,EAAeP,eACfW,EACAJ,EAAehC,YACd,OAImBlB,CAAyDU,yBC7InF8C,EAAAC,QAAiBC,EAAAC,EAAuB,yICelCC,sBAsBJ,SAAAA,EAAYnK,GAAO,IAAAC,EAAA,OAAAC,OAAAkK,EAAA,EAAAlK,CAAAE,KAAA+J,IACjBlK,EAAAC,OAAAmK,EAAA,EAAAnK,CAAAE,KAAAF,OAAAoK,EAAA,EAAApK,CAAAiK,GAAA5J,KAAAH,KAAMJ,KAEDQ,MAAQ,CACX2E,YAAa,MAGflF,EAAKsK,eAAiBtK,EAAKsK,eAAe1J,KAApBX,OAAAsK,EAAA,EAAAtK,QAAAsK,EAAA,EAAAtK,CAAAD,KACtBA,EAAKwK,iBAAmBxK,EAAKwK,iBAAiB5J,KAAtBX,OAAAsK,EAAA,EAAAtK,QAAAsK,EAAA,EAAAtK,CAAAD,KARPA,6FArBae,EAAWC,GACzC,OAAIA,EAAUkE,cAAgBnE,EAAUmE,YAC/B,CACLA,YAAanE,EAAUmE,YACvBuF,SAAU1J,EAAU0J,UAIpB1J,EAAUD,cAAgBE,EAAUkE,aAAelE,EAAUyJ,WAAa1J,EAAU0J,UACtF1J,EAAUD,eACH,CACLoE,YAAa,OAGV,6DAkBMwF,GACbvK,KAAKsB,SAAS,CACZyD,YAAawF,+CAKfvK,KAAKsB,SAAS,CACZyD,YAAa,wCAIR,IAELA,EACE/E,KAAKI,MADP2E,YAFK5C,EAQHnC,KAAKJ,MAFPkF,EANK3C,EAML2C,KACA0F,EAPKrI,EAOLqI,UAGF,OACEC,EAAA/I,EAAAC,cAAA,OAAKC,UAAU,0CAEF,OAATkD,EACE2F,EAAA/I,EAAAC,cAAA,KAAGC,UAAU,sBAAsBkD,GAEnC,KAEH9E,KAAKJ,MAAM8K,SAEI,OAAdF,EACEC,EAAA/I,EAAAC,cAAA,OAAKC,UAAU,wBACZ4I,GAGH,KAGc,OAAhBzF,EACE0F,EAAA/I,EAAAC,cAAA,KAAGC,UAAU,4BACVmD,GAGH,aA9EmBgB,cAqF/BgE,EAAiB/D,aAAe,CAC9BlB,KAAM,KACN0F,UAAW,MASET,2BC/GfJ,EAAAC,QAAiBC,EAAAC,EAAuB,8DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uNCiBlCnE,sBACJ,SAAAA,EAAY/F,GAAO,IAAAC,EAAA,OAAAC,OAAAkK,EAAA,EAAAlK,CAAAE,KAAA2F,IACjB9F,EAAAC,OAAA6K,EAAA,EAAA7K,CAAAE,KAAAF,OAAA8K,EAAA,EAAA9K,CAAA6F,GAAAxF,KAAAH,KAAMJ,KAEDQ,MAAQ,CACXyK,aAAc,IAGhBhL,EAAKqB,qBAAuBrB,EAAKqB,qBAAqBT,KAA1BX,OAAAsK,EAAA,EAAAtK,QAAAsK,EAAA,EAAAtK,CAAAD,KAPXA,sFAUmB,IAAAiB,EAAAd,KAAjB8K,EAAiB9I,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAN,KAC9BhC,KAAKsB,SAAS,CACZuJ,aAAc,YACdC,aAGF9J,WAAW,WACTF,EAAKiK,SAASC,aACb,8CAGa,IACRF,EAAa9K,KAAKI,MAAlB0K,SADQ3I,EAEmBnC,KAAKJ,MAAhCgG,EAFQzD,EAERyD,YAAaqF,EAFL9I,EAEK8I,UAErB,OAAKrF,EAUH6E,EAAA/I,EAAAC,cAAA,SAAIsJ,GAAa,WARfR,EAAA/I,EAAAC,cAACuJ,EAAA,SAAD,KACET,EAAA/I,EAAAC,cAAA,+BACA8I,EAAA/I,EAAAC,cAAA,SAAG8I,EAAA/I,EAAAC,cAAA,0BAAuB8I,EAAA/I,EAAAC,cAAA,QAAMC,UAAU,cAAckJ,6CAUhD,IAAApH,EACmB1D,KAAKJ,MAA9BgG,EADMlC,EACNkC,YAAauF,EADPzH,EACOyH,QAKrB,OAAKvF,EAUW,OAAZuF,EAEAV,EAAA/I,EAAAC,cAACuJ,EAAA,SAAD,KACET,EAAA/I,EAAAC,cAAA,SAAIwJ,IAMRV,EAAA/I,EAAAC,cAACuJ,EAAA,SAAD,KACET,EAAA/I,EAAAC,cAAA,gDACA8I,EAAA/I,EAAAC,cAAA,SAxBY,iIAKZ8I,EAAA/I,EAAAC,cAACuJ,EAAA,SAAD,KACET,EAAA/I,EAAAC,cAAA,mDACA8I,EAAA/I,EAAAC,cAAA,wBACA8I,EAAA/I,EAAAC,cAAA,SAAI,0GAqBG,IAAAG,EAAA9B,KAAAoL,EAMTpL,KAAKJ,MAJP4H,EAFW4D,EAEX5D,QACA5B,EAHWwF,EAGXxF,YACAyF,EAJWD,EAIXC,WACAC,EALWF,EAKXE,SAGF,OAAK1F,EA0BH6E,EAAA/I,EAAAC,cAAC4J,EAAA,EAAD,CACE3J,UAAU,kBACV4J,QAAQ,oBACRC,MAAO,IACPC,OAAQ,GACRC,QAAS,WACP,GAAIL,EAGF,OAFAA,SACAxJ,EAAKiJ,SAASa,aAAY,GAG5BpE,EAAQqE,KAAK,OAGfpB,EAAA/I,EAAAC,cAAA,SAAI0J,GAAc,OAtClBZ,EAAA/I,EAAAC,cAACuJ,EAAA,SAAD,KACET,EAAA/I,EAAAC,cAAC4J,EAAA,EAAD,CACE3J,UAAU,kBACV4J,QAAQ,cACRC,MAAO,IACPC,OAAQ,GACRC,QAAS,kBAAMnE,EAAQqE,KAAK,mBAE5BpB,EAAA/I,EAAAC,cAAA,0BAEF8I,EAAA/I,EAAAC,cAAC4J,EAAA,EAAD,CACE3J,UAAU,kBACV4J,QAAQ,oBACRC,MAAO,IACPC,OAAQ,GACRC,QAAS,kBAAM7J,EAAKiJ,SAASe,eAE7BrB,EAAA/I,EAAAC,cAAA,uDA0BD,IAAA6B,EAAAxD,KACC6K,EAAiB7K,KAAKI,MAAtByK,aADDkB,EAE4B/L,KAAKJ,MAAhCiG,EAFDkG,EAEClG,YAAajE,EAFdmK,EAEcnK,UAEfoK,EAAanG,EAAmB,gGAAL,GAEjC,OACE4E,EAAA/I,EAAAC,cAACsK,EAAA,EAAD,CACErK,UAAWA,EACXsK,iBAAe,EAAC1G,IAAK,SAAC2G,GAAQ3I,EAAKuH,SAAWoB,IAE9C1B,EAAA/I,EAAAC,cAACuJ,EAAA,SAAD,KACET,EAAA/I,EAAAC,cAAA,OAAKC,UAAU,mBACb6I,EAAA/I,EAAAC,cAAA,OAAKC,UAAWiJ,EAAcuB,IAAKC,IAAqBC,IAAI,yBAC5D7B,EAAA/I,EAAAC,cAAA,OAAKC,UAAU,mCACZ5B,KAAKuM,mBAER9B,EAAA/I,EAAAC,cAAA,OAAKC,UAAU,iBACZ5B,KAAKwM,iBAER/B,EAAA/I,EAAAC,cAAA,OAAKC,UAAU,oBACZ5B,KAAKyM,gBAERhC,EAAA/I,EAAAC,cAAA,OAAKC,UAAU,cAAa6I,EAAA/I,EAAAC,cAAA,SAAIqK,cApJbjG,cA4J/BJ,EAAiBK,aAAe,CAC9BJ,aAAa,EACbC,aAAa,EACboF,UAAW,KACXE,QAAS,KACTE,WAAY,KACZC,SAAU,KACV1J,UAAW,IAcEiH,gBAAWlD,EAAkB,CAAE+G,SAAS","file":"static/js/RetirementDetailContainer.4422eb32.chunk.js","sourcesContent":["/**\r\n * RetirementDetail.js\r\n * Detail view for Retirement\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport document from 'global/document';\r\nimport window from 'global/window';\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { reduxForm, getFormValues } from 'redux-form';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\n// Import Insurer Logos\r\nimport DetailForm from '../Templates/DetailForm/DetailForm';\r\n\r\nimport TextInput from '../Forms/TextInput/TextInput';\r\nimport DatePickerV2 from '../Forms/DatePicker/DatePickerV2';\r\nimport CheckoutComplete from '../Templates/CheckoutPopup/CheckoutComplete';\r\nimport PopupWithText from '../Templates/PopupWithText/PopupWithText';\r\n\r\nimport { getSynergyJSX } from '../../actions/insuranceActions';\r\nimport { validateForm, dateReValidate } from '../../lib/validators';\r\nimport { setLoading, clearLoading } from '../../actions/loadingScreenActions';\r\nimport { fbTag, gaEvent, ampTag } from '../../lib/tagFunctions';\r\n\r\nconst formName = 'retirement-detail';\r\n\r\nclass RetirementDetail extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const {\r\n      sessionId,\r\n    } = nextProps;\r\n\r\n    if (sessionId !== prevState.sessionId) {\r\n      return ({\r\n        sessionId,\r\n      });\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      sessionId: null,\r\n      errorStringData: {},\r\n      errorArray: [],\r\n    };\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.validateForm = this.validateForm.bind(this);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { sessionId } = this.state;\r\n    const { loadingEnd } = this.props;\r\n\r\n    if (sessionId) {\r\n      loadingEnd();\r\n      setTimeout(() => {\r\n        this.checkoutComplete.openCheckoutComplete();\r\n        ampTag('RetireConfirmationS');\r\n      }, 300);\r\n    }\r\n  }\r\n\r\n  validateForm(e) {\r\n    const fieldsToCheck = [\r\n      'email',\r\n      'name',\r\n      'birth_date',\r\n      'mobile_number',\r\n    ];\r\n\r\n    const error = validateForm(e, fieldsToCheck);\r\n\r\n    this.setState({\r\n      errorStringData: error,\r\n    });\r\n\r\n    let errorArray = [];\r\n    if (!_.isEmpty(error)) {\r\n      errorArray = [<p className=\"error-string\" key=\"error-1\">Fields are not properly filled, please check again.</p>];\r\n    }\r\n\r\n    this.setState({\r\n      errorArray,\r\n    });\r\n\r\n    return error;\r\n  }\r\n\r\n  handleSubmit(e, isFirstValidate = true) {\r\n    // console.log(e);\r\n    const { checkOutOthers, loading, storeForm } = this.props;\r\n    const errorResult = this.validateForm(isFirstValidate ? e : storeForm);\r\n    const isEmptyResult = _.isEmpty(errorResult);\r\n\r\n    if (dateReValidate(\r\n      isEmptyResult,\r\n      isFirstValidate,\r\n      errorResult,\r\n      error => this.setState({ errorStringData: error, errorArray: null }),\r\n      () => this.handleSubmit(storeForm, false),\r\n    )) {\r\n      return;\r\n    }\r\n\r\n    if (isEmptyResult) {\r\n      ampTag('RetireConfirm1A');\r\n      ampTag('RetireNoticeS');\r\n      this.popup.openPopupWithJSX(getSynergyJSX(), true, () => {\r\n        setTimeout(() => {\r\n          loading();\r\n          checkOutOthers(e);\r\n\r\n          fbTag('PPS2 - ButtonClick - Retirement - DetailForm_Checkout', { Product: 'Retirement', Click_Text: 'Checkout' });\r\n          gaEvent('Retirement - DetailForm - Checkout', {\r\n            event_category: 'Retirement',\r\n            event_label: 'Retirement - DetailForm - Checkout',\r\n          });\r\n          ampTag('RetireConfirm2A');\r\n        }, 350);\r\n      });\r\n    }\r\n    window.scrollTo(0, document.body.scrollHeight);\r\n  }\r\n\r\n  render() {\r\n    const { errorStringData, errorArray } = this.state;\r\n    const {\r\n      form,\r\n      change,\r\n      planDetails,\r\n      isLoggedIn,\r\n      piggyCallback,\r\n      changePlan,\r\n      storeForm,\r\n    } = this.props;\r\n\r\n    // console.log(petMinDate, petMaxDate);\r\n    return (\r\n      <Fragment>\r\n        <DetailForm\r\n          category=\"retirement\"\r\n          changePlan={changePlan}\r\n          handleSubmit={this.props.handleSubmit}\r\n          onSubmit={this.handleSubmit}\r\n          change={change}\r\n          form={form}\r\n          planDetails={planDetails}\r\n          isLoggedIn={isLoggedIn}\r\n          piggyCallback={piggyCallback}\r\n          errorArray={errorArray}\r\n          checkoutButtonDesc=\"Confirm\"\r\n        >\r\n          <Row className=\"main-form\" noGutters>\r\n            <Col xs={12}>\r\n              <TextInput\r\n                form={form}\r\n                change={change}\r\n                name=\"email\"\r\n                placeholderString=\"\"\r\n                size=\"medium\"\r\n                zIndex={99}\r\n                desc=\"Email Address\"\r\n                errorString={errorStringData.email}\r\n                validateForm={() => this.validateForm(storeForm)}\r\n              />\r\n            </Col>\r\n            <Col className=\"right-padding\" xs={12} sm={6}>\r\n              <TextInput\r\n                form={form}\r\n                change={change}\r\n                name=\"name\"\r\n                placeholderString=\"\"\r\n                size=\"medium\"\r\n                zIndex={98}\r\n                desc=\"Full Name\"\r\n                errorString={errorStringData.name}\r\n                validateForm={() => this.validateForm(storeForm)}\r\n              />\r\n            </Col>\r\n            <Col className=\"left-padding\" xs={12} sm={6}>\r\n              <DatePickerV2\r\n                form={form}\r\n                change={change}\r\n                name=\"birth_date\"\r\n                size=\"medium\"\r\n                zIndex={97}\r\n                desc=\"Date of Birth\"\r\n                errorString={errorStringData.birth_date}\r\n                validateForm={() => this.validateForm(storeForm)}\r\n                endDate={new Date()}\r\n              />\r\n            </Col>\r\n            <Col className=\"right-padding\" xs={12} sm={6}>\r\n              <TextInput\r\n                form={form}\r\n                change={change}\r\n                name=\"mobile_number\"\r\n                placeholderString=\"\"\r\n                size=\"medium\"\r\n                zIndex={96}\r\n                desc=\"Mobile Number\"\r\n                errorString={errorStringData.mobile_number}\r\n                validateForm={() => this.validateForm(storeForm)}\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </DetailForm>\r\n        <PopupWithText\r\n          ref={node => this.popup = node}\r\n          showCancelButton\r\n        />\r\n        <CheckoutComplete\r\n          isQuoteOnly\r\n          isSellLeads\r\n          wrappedComponentRef={node => this.checkoutComplete = node}\r\n        />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nRetirementDetail.defaultProps = {\r\n  storeForm: null,\r\n};\r\n\r\nRetirementDetail.propTypes = {\r\n  handleSubmit: PropTypes.func.isRequired,\r\n  checkOutOthers: PropTypes.func.isRequired,\r\n  form: PropTypes.string.isRequired,\r\n  change: PropTypes.func.isRequired,\r\n  planDetails: PropTypes.object.isRequired,\r\n  isLoggedIn: PropTypes.bool.isRequired,\r\n  piggyCallback: PropTypes.func.isRequired,\r\n  changePlan: PropTypes.func.isRequired,\r\n  storeForm: PropTypes.object,\r\n  loading: PropTypes.func.isRequired,\r\n  loadingEnd: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  storeForm: getFormValues(formName)(state),\r\n  constants: state.insurance.constants,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  loading: (callBack, errorMsg, time) => {\r\n    dispatch(setLoading(callBack, errorMsg, time));\r\n  },\r\n  loadingEnd: () => {\r\n    dispatch(clearLoading());\r\n  },\r\n});\r\n\r\nexport default reduxForm({\r\n  form: formName,\r\n  destroyOnUnmount: false,\r\n})(connect(mapStateToProps, mapDispatchToProps)(RetirementDetail));\r\n","/**\r\n * RetirementDetailContainer.js\r\n * The detail container for retirement\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { getFormValues } from 'redux-form';\r\nimport PropTypes from 'prop-types';\r\n\r\n// Import Insurer Logos\r\nimport Logos from 'assets/images/InsurerLogos';\r\n\r\nimport RetirementDetail from '../../components/Retirement/RetirementDetail';\r\nimport { setInsuranceFormState, getAnonymousSession, FORMSTATES } from '../../actions/insuranceActions';\r\nimport { getSessionParams } from '../../actions/retirementActions';\r\nimport { fbTag, gaTag, gaEvent, ampTag } from '../../lib/tagFunctions';\r\n\r\nclass RetirementDetailContainer extends Component {\r\n  componentDidMount() {\r\n    const { setFormState } = this.props;\r\n    setFormState(FORMSTATES.DETAILFORM.index);\r\n    fbTag('PPS2 - Pageview - Retirement - DetailForm', { Product: 'Retirement' });\r\n    gaTag({\r\n      page_title: 'Retirement - Detail Form',\r\n      page_path: '/retirement/detailform',\r\n    });\r\n    ampTag('RetireDetailsS');\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      plansData,\r\n      isLoggedIn,\r\n      profileValues,\r\n      piggyCallback,\r\n      retirementFields,\r\n      checkOutOthers,\r\n      sessionId,\r\n      history,\r\n    } = this.props;\r\n\r\n    if (!plansData) {\r\n      return null;\r\n    }\r\n\r\n    const selectedData = plansData;\r\n\r\n    let planDetails = {\r\n      logo: Logos.others,\r\n      logoDesc: '',\r\n      planName: '',\r\n      planTotal: null,\r\n    };\r\n\r\n    try {\r\n      planDetails = {\r\n        logo: Logos[selectedData.info.insurer_slug],\r\n        logoDesc: `${selectedData.info.insurer_name}.svg`,\r\n        planName: selectedData.info.product_name,\r\n        planTotal: `$${selectedData.policyInfo[selectedData.planType].net_price.toFixed(2)}`,\r\n      };\r\n    } catch (error) {\r\n      console.log('Get plan details failed');\r\n    }\r\n\r\n    return (\r\n      <RetirementDetail\r\n        checkOutOthers={checkOutOthers}\r\n        retirementFields={retirementFields}\r\n        sessionId={sessionId}\r\n        selectedData={selectedData}\r\n        planDetails={planDetails}\r\n        isLoggedIn={isLoggedIn}\r\n        piggyCallback={piggyCallback}\r\n        changePlan={() => {\r\n          history.goBack();\r\n          fbTag('PPS2 - ButtonClick - Retirement - DetailForm_ChangePlan', { Product: 'Retirement', Click_Text: 'ChangePlan' });\r\n          gaEvent('Retirement - DetailForm - ChangePlan', {\r\n            event_category: 'Retirement',\r\n            event_label: 'Retirement - DetailForm - ChangePlan',\r\n          });\r\n        }}\r\n        profileValues={profileValues}\r\n        // submitCallback={() => { setFormState(FORMSTATES.CHECKOUT); }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nRetirementDetailContainer.defaultProps = {\r\n  sessionId: null,\r\n  plansData: null,\r\n};\r\n\r\nRetirementDetailContainer.propTypes = {\r\n  plansData: PropTypes.object,\r\n  piggyCallback: PropTypes.func.isRequired,\r\n  isLoggedIn: PropTypes.bool.isRequired,\r\n  setFormState: PropTypes.func.isRequired,\r\n  profileValues: PropTypes.object.isRequired,\r\n  retirementFields: PropTypes.object.isRequired,\r\n  checkOutOthers: PropTypes.func.isRequired,\r\n  sessionId: PropTypes.string,\r\n  history: PropTypes.object.isRequired,\r\n};\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n  retirementForm: getFormValues('retirement')(state),\r\n  retirementFields: state.retirement.retirementFields,\r\n  profileValues: state.userDetails,\r\n  plansData: state.retirement.selectedPlanData,\r\n  sessionId: state.insurance.sessionId,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setFormState: (state) => {\r\n    dispatch(setInsuranceFormState(state));\r\n  },\r\n  getAnonymousSession: (params) => {\r\n    dispatch(getAnonymousSession(params, true));\r\n  },\r\n});\r\n\r\nconst mergeProps = (propsFromState, propsFromDispatch, ownProps) => ({\r\n  ...ownProps,\r\n  ...propsFromState,\r\n  ...propsFromDispatch,\r\n  checkOutOthers: (detailForm) => {\r\n    propsFromDispatch.getAnonymousSession(getSessionParams(\r\n      propsFromState.retirementForm,\r\n      detailForm,\r\n      propsFromState.plansData,\r\n    ), true);\r\n  },\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps, mergeProps)(RetirementDetailContainer));\r\n","module.exports = __webpack_public_path__ + \"static/media/arrow.6b6008ba.svg\";","/**\r\n * FormInputWrapper.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './FormInputWrapper.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass FormInputWrapper extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    if (prevState.errorString !== nextProps.errorString) {\r\n      return {\r\n        errorString: nextProps.errorString,\r\n        refValue: nextProps.refValue,\r\n      };\r\n    }\r\n\r\n    if (nextProps.validateForm && prevState.errorString && prevState.refValue !== nextProps.refValue) {\r\n      nextProps.validateForm();\r\n      return {\r\n        errorString: null,\r\n      };\r\n    }\r\n    return null;\r\n  }\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {object} props Component props\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      errorString: null,\r\n    };\r\n\r\n    this.setErrorString = this.setErrorString.bind(this);\r\n    this.clearErrorString = this.clearErrorString.bind(this);\r\n  }\r\n\r\n  setErrorString(message) {\r\n    this.setState({\r\n      errorString: message,\r\n    });\r\n  }\r\n\r\n  clearErrorString() {\r\n    this.setState({\r\n      errorString: null,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      errorString,\r\n    } = this.state;\r\n\r\n    const {\r\n      desc,\r\n      extraInfo,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className=\"input-wrapper-main input-wrapper-error\">\r\n        {\r\n          desc !== null ?\r\n            <p className=\"input-wrapper-desc\">{desc}</p>\r\n          :\r\n            null\r\n        }\r\n        {this.props.children}\r\n        {\r\n          extraInfo !== null ?\r\n            <div className=\"extra-info-container\">\r\n              {extraInfo}\r\n            </div>\r\n          :\r\n            null\r\n        }\r\n        {\r\n          errorString !== null ?\r\n            <p className=\"input-wrapper-error-text\">\r\n              {errorString}\r\n            </p>\r\n          :\r\n            null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nFormInputWrapper.defaultProps = {\r\n  desc: null,\r\n  extraInfo: null,\r\n};\r\n\r\n\r\nFormInputWrapper.propTypes = {\r\n  desc: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n};\r\n\r\nexport default FormInputWrapper;\r\n","module.exports = __webpack_public_path__ + \"static/media/magnifyGlass.4cd15637.svg\";","module.exports = __webpack_public_path__ + \"static/media/CheckoutComplete.0dec4895.svg\";","/**\r\n * CheckoutComplete.js\r\n * Shows this when checkout is complete\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component, Fragment } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport CheckoutCompleteSVG from 'assets/images/common/CheckoutComplete.svg';\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport Popup from '../Popup/Popup';\r\n\r\nimport './CheckoutPopup.scss';\r\n\r\nclass CheckoutComplete extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      animateStyle: '',\r\n    };\r\n\r\n    this.openCheckoutComplete = this.openCheckoutComplete.bind(this);\r\n  }\r\n\r\n  openCheckoutComplete(userName = null) {\r\n    this.setState({\r\n      animateStyle: 'bounce-in',\r\n      userName,\r\n    });\r\n\r\n    setTimeout(() => {\r\n      this.popupRef.openPopup();\r\n    }, 10);\r\n  }\r\n\r\n  renderUpperText() {\r\n    const { userName } = this.state;\r\n    const { isQuoteOnly, upperText } = this.props;\r\n\r\n    if (!isQuoteOnly) {\r\n      return (\r\n        <Fragment>\r\n          <p>Thank you for your</p>\r\n          <p><span>purchase, </span><span className=\"focus-text\">{userName}</span></p>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <p>{upperText || 'Success'}</p>\r\n    );\r\n  }\r\n\r\n  renderMidText() {\r\n    const { isQuoteOnly, midText } = this.props;\r\n\r\n    const message = 'The insurer’s representative will contact you within 2 business days to share with you more about the selected product.';\r\n\r\n    // Our partnered FA representative from Synergy Financial Advisers Pte Ltd will contact you within 48 hours to share with you more about the selected product.\r\n    if (!isQuoteOnly) {\r\n      return (\r\n        <Fragment>\r\n          <p>A copy of the receipt has been sent to</p>\r\n          <p>your inbox.</p>\r\n          <p>{'The policy will be reflected in PolicyPal\\'s APP once approved.'}</p>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    if (midText !== null) {\r\n      return (\r\n        <Fragment>\r\n          <p>{midText}</p>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        <p>Thanks for submitting your request.</p>\r\n        <p>{message}</p>\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderButton() {\r\n    const {\r\n      history,\r\n      isQuoteOnly,\r\n      buttonText,\r\n      callback,\r\n    } = this.props;\r\n\r\n    if (!isQuoteOnly) {\r\n      return (\r\n        <Fragment>\r\n          <Button\r\n            className=\"checkout-button\"\r\n            variant=\"medium-flat\"\r\n            width={166}\r\n            height={72}\r\n            onClick={() => history.push('/gotoappstore')}\r\n          >\r\n            <p>Download APP</p>\r\n          </Button>\r\n          <Button\r\n            className=\"checkout-button\"\r\n            variant=\"medium-flat-green\"\r\n            width={166}\r\n            height={72}\r\n            onClick={() => this.popupRef.closePopup()}\r\n          >\r\n            <p>Details</p>\r\n          </Button>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Button\r\n        className=\"checkout-button\"\r\n        variant=\"medium-flat-green\"\r\n        width={166}\r\n        height={72}\r\n        onClick={() => {\r\n          if (callback) {\r\n            callback();\r\n            this.popupRef.togglePopup(false);\r\n            return;\r\n          }\r\n          history.push('/');\r\n        }}\r\n      >\r\n        <p>{buttonText || 'OK'}</p>\r\n      </Button>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { animateStyle } = this.state;\r\n    const { isSellLeads, className } = this.props;\r\n\r\n    const extraText = !isSellLeads ? '' : 'In the event that you purchase a plan through our partner, PolicyPal receives a referral fee.';\r\n\r\n    return (\r\n      <Popup\r\n        className={className}\r\n        hideCloseButton ref={(r) => { this.popupRef = r; }}\r\n      >\r\n        <Fragment>\r\n          <div className=\"check-out-popup\">\r\n            <img className={animateStyle} src={CheckoutCompleteSVG} alt=\"CheckoutComplete.svg\" />\r\n            <div className=\"upper-container upper-margin-up\">\r\n              {this.renderUpperText()}\r\n            </div>\r\n            <div className=\"mid-container\">\r\n              {this.renderMidText()}\r\n            </div>\r\n            <div className=\"button-container\">\r\n              {this.renderButton()}\r\n            </div>\r\n            <div className=\"extra-text\"><p>{extraText}</p></div>\r\n          </div>\r\n        </Fragment>\r\n      </Popup>\r\n    );\r\n  }\r\n}\r\n\r\nCheckoutComplete.defaultProps = {\r\n  isQuoteOnly: false,\r\n  isSellLeads: false,\r\n  upperText: null,\r\n  midText: null,\r\n  buttonText: null,\r\n  callback: null,\r\n  className: '',\r\n};\r\n\r\nCheckoutComplete.propTypes = {\r\n  history: PropTypes.object.isRequired,\r\n  isQuoteOnly: PropTypes.bool,\r\n  isSellLeads: PropTypes.bool,\r\n  upperText: PropTypes.string,\r\n  midText: PropTypes.string,\r\n  buttonText: PropTypes.string,\r\n  callback: PropTypes.func,\r\n  className: PropTypes.string,\r\n};\r\n\r\nexport default withRouter(CheckoutComplete, { withRef: true });\r\n"],"sourceRoot":""}