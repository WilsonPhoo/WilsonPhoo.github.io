(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{1116:function(e,t,n){"use strict";n.r(t);var r=n(45),a=n(48),i=n(47),o=n(46),s=n(49),c=n(114),u=(n(12),n(5)),l=n.n(u),m=n(1),p=n.n(m),f=n(226),d=n(56),h=n(293),y=n(298),v=n(306),b=n(11),g=n.n(b),S=n(57),E=n(13),O=n(40),T=n(32),A=n(398),P=n(9),w=n(8),C=g()({loader:function(){return Promise.all([n.e(0),n.e(2),n.e(51)]).then(n.bind(null,501))},loading:function(){return null},modules:["StepProgressBar"]}),I=g()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(2),n.e(47)]).then(n.bind(null,1100))},loading:function(){return null},modules:["PetMainContainer"]}),j=g()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(2),n.e(45)]).then(n.bind(null,1101))},loading:function(){return null},modules:["PetChoosePlanContainer"]}),R=g()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(10),n.e(46)]).then(n.bind(null,1102))},loading:function(){return null},modules:["PetDetailContainer"]}),k=g()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(2),n.e(44)]).then(n.bind(null,608))},loading:function(){return null},modules:["PetCheckoutContainer"]}),_=function(e){function t(e){var n;Object(r.a)(this,t),(n=Object(a.a)(this,Object(i.a)(t).call(this,e))).state={formIndex:0,isInitialLoad:!0};var o=n.props,s=o.resetStoreForm,u=o.clearData,l=o.petPromoGiveAway;o.history;return void 0===l&&n.props.getPromoGiveaways(),u(),n.props.resetInsuranceForm(),n.props.resetCompare(),s("pet"),s("pet-detail"),n.setInitialFormState=n.setInitialFormState.bind(Object(c.a)(Object(c.a)(n))),n.renderStepProgress=n.renderStepProgress.bind(Object(c.a)(Object(c.a)(n))),n.renderPetForms=n.renderPetForms.bind(Object(c.a)(Object(c.a)(n))),n.changeUserDetails=n.changeUserDetails.bind(Object(c.a)(Object(c.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.formIndex,r=t.isMounted,a=e.formState,i=e.match,o=e.history;if(r){var s=Object(w.n)("pet",a,n,i,o);if(s&&null!==s.formIndex)return{formIndex:s.formIndex}}return null}}]),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setInitialFormState(),this.setState({isMounted:!0})}},{key:"componentDidUpdate",value:function(e){var t=this.state.isInitialLoad,n=this.props.userDetails;t&&l.a.isEqual(n,e.userDetails)&&this.changeUserDetails()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearData,n=e.resetStoreForm;t(),this.props.resetCompare(),this.props.resetInsuranceForm(),n("pet"),n("pet-detail")}},{key:"setInitialFormState",value:function(){var e=this.props.changeForm,t=new Date;t.setDate(t.getDate()+1),e("pet","start_date",Object(P.b)(t)),this.changeUserDetails()}},{key:"changeUserDetails",value:function(){var e=this.state.isInitialLoad,t=this.props,n=t.userDetails,r=t.changeForm;n&&(r("pet-detail","email",n.email),r("pet-detail","given_name",n.firstName),r("pet-detail","family_name",n.surname),r("pet-detail","id_type",n.id_type),r("pet-detail","nric",n.nric),r("pet-detail","mobile_number",n.contact),r("pet-detail","address",n.address),r("pet-detail","unit_no",n.unit_no),r("pet-detail","postal",n.postal_code),e&&this.setState({isInitialLoad:!1}))}},{key:"renderStepProgress",value:function(){var e=this.state.formIndex,t=this.props.charged;return p.a.createElement(C,{maxWidth:"556px",formState:e,inputList:["Choose Plan","Details","Checkout"],form:"pet",stateList:[E.b.CHOOSEPLAN,E.b.DETAILFORM,E.b.CHECKOUT],stateDescriptions:[{main:""},{main:"Details"},{main:"Checkout"}],charged:t})}},{key:"renderPetForms",value:function(){var e=this.state.formIndex,t=this.props,n=t.userDetails,r=t.charged,a=!l.a.isEmpty(n);switch(e){case E.b.CHOOSEPLAN.index:return p.a.createElement(j,{isLoggedIn:a});case E.b.DETAILFORM.index:return p.a.createElement(R,{isLoggedIn:a,piggyCallback:this.changeUserDetails});case E.b.CHECKOUT.index:case E.b.SUBMITTED.index:return p.a.createElement(k,{isLoggedIn:a,charged:r});default:return p.a.createElement(I,{isLoggedIn:a})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.petPromoGiveAway;if(!t.constants||void 0===n)return null;var r=T.e?"PolicyPal, pet insurance, dog insurance, cat insurance, pet insurance singapore, dog insurance singapore, cat insurance singapore, PetCare":"";return p.a.createElement(v.a,{id:"pet"},p.a.createElement(f.Helmet,null,p.a.createElement("meta",{name:"keywords",content:r}),p.a.createElement("title",null,"PolicyPal 2.0 - Pet Insurance"),p.a.createElement("meta",{name:"title",content:"PolicyPal 2.0 - Pet Insurance"}),p.a.createElement("meta",{name:"description",content:"Browse products for pet insurance."})),this.renderStepProgress(),this.renderPetForms(),p.a.createElement(A.a,{ref:function(t){e.refresher||t.invokeNewTimer(),e.refresher=t}}))}}]),t}(m.Component);_.defaultProps={userDetails:null,charged:null,constants:null,petPromoGiveAway:void 0};t.default=Object(y.a)(Object(d.connect)(function(e){return{formState:e.insurance.formState,constants:e.insurance.constants,charged:e.insurance.charged,userDetails:e.userDetails.data,petPromoGiveAway:e.insurance.promoGiveaways.pet}},function(e){return{changeForm:function(t,n,r){return e(Object(h.a)(t,n,r))},resetInsuranceForm:function(){return e(Object(E.H)())},resetStoreForm:function(t){return e(Object(h.b)(t))},resetCompare:function(){e(Object(O.g)())},clearData:function(){e(Object(S.e)())},getPromoGiveaways:function(){e(Object(E.A)("pet"))}}})(_))},293:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var r=n(327),a=(n(10),r.a.arrayInsert,r.a.arrayMove,r.a.arrayPop,r.a.arrayPush,r.a.arrayRemove,r.a.arrayRemoveAll,r.a.arrayShift,r.a.arraySplice,r.a.arraySwap,r.a.arrayUnshift,r.a.autofill,r.a.blur,r.a.change),i=(r.a.clearAsyncError,r.a.clearFields,r.a.clearSubmitErrors,r.a.destroy,r.a.focus,r.a.initialize,r.a.registerField,r.a.reset);r.a.resetSection,r.a.setSubmitFailed,r.a.setSubmitSucceeded,r.a.startAsyncValidation,r.a.startSubmit,r.a.stopAsyncValidation,r.a.stopSubmit,r.a.submit,r.a.touch,r.a.unregisterField,r.a.untouch,r.a.updateSyncWarnings},306:function(e,t,n){"use strict";var r=n(308),a=n(45),i=n(46),o=n(48),s=n(47),c=n(49),u=n(1),l=n.n(u),m=n(65),p=n(226),f=n.n(p),d=n(307),h=n.n(d),y="https://web.policypal.com",v="".concat(y).concat(h.a),b=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"getMetaTags",value:function(e,t){var n=e.title,r=e.description,a=e.image,i=e.contentType,o=e.twitter,s=e.noCrawl,c=e.published,u=e.updated,l=e.category,m=e.tags,p=n?(n+" | My Website").substring(0,60):"My Website",f=r?r.substring(0,155):"This is a really awesome website where we can render on the server. Supa cool.",d=a?"".concat(y).concat(a):v,h=[{itemprop:"name",content:p},{itemprop:"description",content:f},{itemprop:"image",content:d},{name:"description",content:f},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:site",content:"@cereallarceny"},{name:"twitter:title",content:p},{name:"twitter:description",content:f},{name:"twitter:creator",content:o||"@cereallarceny"},{name:"twitter:image:src",content:d},{property:"og:title",content:p},{property:"og:type",content:i||"website"},{property:"og:url",content:y+t},{property:"og:image",content:d},{property:"og:description",content:f},{property:"og:site_name",content:"My Website"},{property:"fb:app_id",content:"XXXXXXXXX"}];return s&&h.push({name:"robots",content:"noindex, nofollow"}),c&&h.push({name:"article:published_time",content:c}),u&&h.push({name:"article:modified_time",content:u}),l&&h.push({name:"article:section",content:l}),m&&h.push({name:"article:tag",content:m}),h}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.id,a=e.className,i=Object(r.a)(e,["children","id","className"]);return l.a.createElement("div",{id:n,className:a},l.a.createElement(f.a,{htmlAttributes:{lang:"en",itemscope:void 0,itemtype:"http://schema.org/".concat(i.schema||"WebPage")},title:i.title?i.title+" | My Website":"My Website",link:[{rel:"canonical",href:y+this.props.location.pathname}],meta:this.getMetaTags(i,this.props.location.pathname)}),t)}}]),t}(u.Component);t.a=Object(m.a)(b)},307:function(e,t,n){e.exports=n.p+"static/media/logo.f0988bd7.png"},308:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.d(t,"a",function(){return r})},327:function(e,t,n){"use strict";var r=n(10),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i={arrayInsert:function(e,t,n,a){return{type:r.ARRAY_INSERT,meta:{form:e,field:t,index:n},payload:a}},arrayMove:function(e,t,n,a){return{type:r.ARRAY_MOVE,meta:{form:e,field:t,from:n,to:a}}},arrayPop:function(e,t){return{type:r.ARRAY_POP,meta:{form:e,field:t}}},arrayPush:function(e,t,n){return{type:r.ARRAY_PUSH,meta:{form:e,field:t},payload:n}},arrayRemove:function(e,t,n){return{type:r.ARRAY_REMOVE,meta:{form:e,field:t,index:n}}},arrayRemoveAll:function(e,t){return{type:r.ARRAY_REMOVE_ALL,meta:{form:e,field:t}}},arrayShift:function(e,t){return{type:r.ARRAY_SHIFT,meta:{form:e,field:t}}},arraySplice:function(e,t,n,a,i){var o={type:r.ARRAY_SPLICE,meta:{form:e,field:t,index:n,removeNum:a}};return void 0!==i&&(o.payload=i),o},arraySwap:function(e,t,n,a){if(n===a)throw new Error("Swap indices cannot be equal");if(n<0||a<0)throw new Error("Swap indices cannot be negative");return{type:r.ARRAY_SWAP,meta:{form:e,field:t,indexA:n,indexB:a}}},arrayUnshift:function(e,t,n){return{type:r.ARRAY_UNSHIFT,meta:{form:e,field:t},payload:n}},autofill:function(e,t,n){return{type:r.AUTOFILL,meta:{form:e,field:t},payload:n}},blur:function(e,t,n,a){return{type:r.BLUR,meta:{form:e,field:t,touch:a},payload:n}},change:function(e,t,n,a,i){return{type:r.CHANGE,meta:{form:e,field:t,touch:a,persistentSubmitErrors:i},payload:n}},clearFields:function(e,t,n){for(var a=arguments.length,i=Array(a>3?a-3:0),o=3;o<a;o++)i[o-3]=arguments[o];return{type:r.CLEAR_FIELDS,meta:{form:e,keepTouched:t,persistentSubmitErrors:n,fields:i}}},clearSubmit:function(e){return{type:r.CLEAR_SUBMIT,meta:{form:e}}},clearSubmitErrors:function(e){return{type:r.CLEAR_SUBMIT_ERRORS,meta:{form:e}}},clearAsyncError:function(e,t){return{type:r.CLEAR_ASYNC_ERROR,meta:{form:e,field:t}}},destroy:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{type:r.DESTROY,meta:{form:t}}},focus:function(e,t){return{type:r.FOCUS,meta:{form:e,field:t}}},initialize:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return n instanceof Object&&(i=n,n=!1),{type:r.INITIALIZE,meta:a({form:e,keepDirty:n},i),payload:t}},registerField:function(e,t,n){return{type:r.REGISTER_FIELD,meta:{form:e},payload:{name:t,type:n}}},reset:function(e){return{type:r.RESET,meta:{form:e}}},resetSection:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return{type:r.RESET_SECTION,meta:{form:e,sections:n}}},startAsyncValidation:function(e,t){return{type:r.START_ASYNC_VALIDATION,meta:{form:e,field:t}}},startSubmit:function(e){return{type:r.START_SUBMIT,meta:{form:e}}},stopAsyncValidation:function(e,t){return{type:r.STOP_ASYNC_VALIDATION,meta:{form:e},payload:t,error:!(!t||!Object.keys(t).length)}},stopSubmit:function(e,t){return{type:r.STOP_SUBMIT,meta:{form:e},payload:t,error:!(!t||!Object.keys(t).length)}},submit:function(e){return{type:r.SUBMIT,meta:{form:e}}},setSubmitFailed:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return{type:r.SET_SUBMIT_FAILED,meta:{form:e,fields:n},error:!0}},setSubmitSucceeded:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return{type:r.SET_SUBMIT_SUCCEEDED,meta:{form:e,fields:n},error:!1}},touch:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return{type:r.TOUCH,meta:{form:e,fields:n}}},unregisterField:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return{type:r.UNREGISTER_FIELD,meta:{form:e},payload:{name:t,destroyOnUnmount:n}}},untouch:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return{type:r.UNTOUCH,meta:{form:e,fields:n}}},updateSyncErrors:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];return{type:r.UPDATE_SYNC_ERRORS,meta:{form:e},payload:{syncErrors:t,error:n}}},updateSyncWarnings:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];return{type:r.UPDATE_SYNC_WARNINGS,meta:{form:e},payload:{syncWarnings:t,warning:n}}}};t.a=i},374:function(e,t,n){"use strict";var r=n(45),a=n(46),i=n(48),o=n(47),s=n(49),c=n(114),u=n(1),l=n.n(u),m=n(299),p=n(310),f=(n(389),function(e){function t(e){var n;Object(r.a)(this,t);var a=(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).props.onConfirm;return n.state={text:"",jsx:null,useConfirm:!0,onConfirm:a},n.openPopupWithText=n.openPopupWithText.bind(Object(c.a)(Object(c.a)(n))),n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"openPopupWithText",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.setState({text:e,useConfirm:t}),n&&this.setState({onConfirm:n}),setTimeout(this.popupRef.openPopup,10)}},{key:"openPopupWithJSX",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.setState({jsx:e,useConfirm:t}),n&&this.setState({onConfirm:n}),setTimeout(this.popupRef.openPopup,10)}},{key:"render",value:function(){var e=this,t=this.state,n=t.text,r=t.jsx,a=t.useConfirm,i=t.onConfirm,o=this.props,s=o.showCancelButton,c=o.hideCloseButton;return l.a.createElement("div",{className:"popup-with-text"},l.a.createElement(p.a,{hideCloseButton:c,ref:function(t){e.popupRef=t}},l.a.createElement(u.Fragment,null,l.a.createElement("div",{className:"check-out-popup"},l.a.createElement("div",{className:"upper-container upper-margin-down"},r||l.a.createElement("p",null,l.a.createElement("span",{className:"focus-text"},n))),l.a.createElement("div",{className:"button-container"},s?l.a.createElement(m.a,{className:"checkout-button",variant:"medium-flat",width:166,height:72,onClick:function(){e.popupRef.closePopup()}},l.a.createElement("p",null,"Cancel")):null,l.a.createElement(m.a,{className:"checkout-button",variant:"medium-flat-green",width:166,height:72,onClick:function(){a&&i(),e.popupRef.closePopup()}},l.a.createElement("p",null,"Confirm")))))))}}]),t}(u.Component));f.defaultProps={onConfirm:function(){},showCancelButton:!1,hideCloseButton:!1},t.a=f},389:function(e,t,n){},398:function(e,t,n){"use strict";var r=n(45),a=n(46),i=n(48),o=n(47),s=n(49),c=n(114),u=n(12),l=n.n(u),m=n(1),p=n.n(m),f=n(374),d=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).oldTime=new Date,n.timeout=null,n.invokeNewTimer=n.invokeNewTimer.bind(Object(c.a)(Object(c.a)(n))),n.setTimer=n.setTimer.bind(Object(c.a)(Object(c.a)(n))),n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.interval=l.a.setInterval(function(){l.a.addEventListener&&(l.a.addEventListener("mousemove",e.invokeNewTimer),l.a.addEventListener("keypress",e.invokeNewTimer),clearInterval(e.interval))},100)}},{key:"componentWillUnmount",value:function(){this.timeout&&clearTimeout(this.timeout),l.a.removeEventListener("mousemove",this.invokeNewTimer),l.a.removeEventListener("keypress",this.invokeNewTimer)}},{key:"setTimer",value:function(){var e=this,t=this.props,n=t.popupTimer,r=t.refreshTimer;this.timeout=setTimeout(function(){var t=l.a.confirm("Your session will expire due inactivity. Please click \u201cOK\u201d within ".concat(r/1e3/60," mins to continue, or \u201cCancel\u201d, if you wish to leave the page.")),a=new Date-e.oldTime;t&&a<n+r?e.invokeNewTimer():l.a.location.assign("/")},n),this.oldTime=new Date}},{key:"invokeNewTimer",value:function(){this.timeout&&clearTimeout(this.timeout),this.setTimer()}},{key:"render",value:function(){var e=this;return p.a.createElement(m.Fragment,null,p.a.createElement(f.a,{hideCloseButton:!0,ref:function(t){return e.popup=t}}))}}]),t}(m.Component);d.defaultProps={popupTimer:6e5,refreshTimer:12e4},t.a=d}}]);
//# sourceMappingURL=pet.ddec78ba.chunk.js.map