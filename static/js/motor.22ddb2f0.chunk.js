(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{1146:function(e,t,a){"use strict";a.r(t);var r=a(12),n=a(14),o=a(13),i=a(11),s=a(15),c=a(2),l=a(5),m=a.n(l),u=a(1),d=a.n(u),p=a(186),f=a(22),h=a(60),g=a(312),b=a(142),v=a.n(b),y=a(77),_=a(69),O=a(23),E=a(52),j=a(16),F=a(528),S=a(512),k=a(481),x=a(838),N=a.n(x),D=a(839),I=a.n(D),C=a(840),M=a.n(C),P=a(134),A=a(213),w=a(6),R=a(841),z=a.n(R),L=a(635),T=a.n(L),Y=a(183),G=a(35),U=a(143),V=a(140),B=function(e){function t(e){var a;Object(r.a)(this,t);var i=(a=Object(n.a)(this,Object(o.a)(t).call(this,e))).props,s=i.storeForm,l=i.motorFields;return a.state={selectedVehicleMake:s?s.vehicle_make:null,selectedVehicleModels:s&&s.vehicle_make?l.car_models.options[s.vehicle_make]:null,regYears:m.a.range(l.reg_year.min,l.reg_year.max+1,1),errorStringData:{}},a.handleSubmit=a.handleSubmit.bind(Object(c.a)(Object(c.a)(a))),a.handleCloseEdit=a.handleCloseEdit.bind(Object(c.a)(Object(c.a)(a))),a.handleRevert=a.handleRevert.bind(Object(c.a)(Object(c.a)(a))),a.validateForm=a.validateForm.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(t,e),Object(i.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.storeForm,r=e.motorFields;if(a&&a.vehicle_make!==t.selectedVehicleMake){var n=r.car_models.options[a.vehicle_make];if(n)return e.change("vehicle_model",null),{selectedVehicleMake:a.vehicle_make,selectedVehicleModels:n}}return null}}]),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.storeForm,a=e.setCloseCallBack;this.originalValues=t,a&&a(this.handleRevert)}},{key:"shouldComponentUpdate",value:function(e,t){var a=this.state,r=a.selectedVehicleModels,n=a.errorStringData,o=this.props.storeForm;return r!==t.selectedVehicleModels||n!==t.errorStringData||o!==e.storeForm}},{key:"validateForm",value:function(e){var t=this.state,a=t.selectedVehicleModels,r=t.regYears,n=this.props.motorFields,o=Object(V.b)(e,["vehicle_make","vehicle_model","year_registered"],{vehicle_make:{type:"ARRAY",data:n.car_brand.options},vehicle_model:{type:"ARRAY",data:a},year_registered:{type:"ARRAY",data:r}});return this.setState({errorStringData:o}),o}},{key:"handleSubmit",value:function(e){var t=this.props,a=t.closePopUp,r=t.setSubmit,n=t.storeForm,o=t.setInsurFormState,i=t.isPopUp,s=t.changeDetailForm,c=t.submitCallback,l=t.history;this.originalValues=n;var u=this.validateForm(e);m.a.isEmpty(u)&&(r(),s("vehicle_make",e.vehicle_make),s("vehicle_model",e.vehicle_model),s("reg_year",e.year_registered),a&&a(),c?c():(Object(E.b)("event","Motor - Get Quote",{event_category:"Motor",event_label:"Button - Motor - Get Quote"}),Object(E.a)("MotorGetQuoteA",{make:e.vehicle_make,model:e.vehicle_model,registered:e.year_registered})),i||(o(O.b.MORE.index),l.push("/motor".concat(O.b.MORE.path))))}},{key:"handleRevert",value:function(){var e=this;(0,this.props.resetForm)(),Object.keys(this.originalValues).forEach(function(t){e.props.change(t,e.originalValues[t])})}},{key:"handleCloseEdit",value:function(){var e=this;(0,this.props.closePopUp)(function(){return e.handleRevert()})}},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedVehicleModels,r=t.errorStringData,n=t.regYears,o=this.props,i=o.handleSubmit,s=o.isPopUp,c=o.form,l=o.motorFields,m=o.storeForm;return d.a.createElement("div",{className:"landing-form-container"},s?d.a.createElement("p",{className:"edit-header"},"Edit Motor Insurance Details"):null,d.a.createElement("form",{onSubmit:i(this.handleSubmit)},d.a.createElement(w.z,{className:"input-offset",noGutters:!0},d.a.createElement(w.f,{className:"justify-content-center icon icon-car d-none d-sm-flex",sm:2},d.a.createElement("img",{src:z.a,alt:"Car.svg"})),d.a.createElement(w.f,{className:"input-padding-right",xs:12,sm:5},d.a.createElement(Y.a,{form:c,change:this.props.change,name:"vehicle_make",placeholderString:"Car brand",dropList:l.car_brand.options,size:"medium",zIndex:99,numItemsDisplay:7,desc:l.car_brand.display_name,errorString:r.vehicle_make,validateForm:function(){return e.validateForm(m)}})),d.a.createElement(w.f,{className:"input-padding-left",xs:12,sm:5},d.a.createElement(Y.a,{form:c,change:this.props.change,name:"vehicle_model",placeholderString:"Car Model",dropList:a,size:"medium",zIndex:98,numItemsDisplay:7,desc:l.car_models.display_name||"",errorString:r.vehicle_model,validateForm:function(){return e.validateForm(m)}}))),d.a.createElement(w.z,{className:"align-items-end row-margin",noGutters:!0},d.a.createElement(w.f,{className:"justify-content-center icon icon-chest d-none d-sm-flex",xs:12,sm:2},d.a.createElement("img",{src:T.a,alt:"Chest.svg"})),d.a.createElement(w.f,{className:"input-padding-right",xs:12,sm:5},d.a.createElement(Y.a,{form:c,change:this.props.change,name:"year_registered",placeholderString:"Select Year",dropList:n,size:"medium",zIndex:97,numItemsDisplay:7,desc:l.reg_year.display_name,errorString:r.year_registered,validateForm:function(){return e.validateForm(m)}}))),d.a.createElement(w.z,{className:"align-items-center button-container",noGutters:!0},s?d.a.createElement(w.f,{className:"justify-content-center button",xs:12},d.a.createElement(w.z,{noGutters:!0},d.a.createElement(w.f,{className:"button-container-inner",xs:12,sm:6},d.a.createElement(G.a,{className:"button-left",variant:"medium-flat",width:165,height:72,onClick:function(){return e.handleCloseEdit()}},d.a.createElement("p",null,"Cancel"))),d.a.createElement(w.f,{className:"button-container-inner",xs:12,sm:6},d.a.createElement(G.a,{type:"submit",variant:"medium-flat-green",width:165,height:72},d.a.createElement("p",null,"Save"))))):d.a.createElement(w.f,{className:"justify-content-center button",xs:12},d.a.createElement(G.a,{type:"submit",variant:"medium-flat-green",width:165,height:72},d.a.createElement("p",null,"Get Quote"))))))}}]),t}(u.Component);B.defaultProps={storeForm:null,isPopUp:!1,closePopUp:null,setCloseCallBack:null,submitCallback:null};var H=Object(k.a)(Object(A.a)({form:"motor",destroyOnUnmount:!1})(Object(f.b)(function(e){return{storeForm:Object(P.a)("motor")(e),isRevert:e.editForm.isRevert,constants:e.insurance.constants}},function(e){return{setSubmit:function(){e(Object(U.c)())},resetForm:function(){e(Object(h.b)("motor"))},getMotorPlans:function(t){e(Object(y.h)(t))},setInsurFormState:function(t){e(Object(O.K)(t))},changeDetailForm:function(t,a){e(Object(h.a)("motor-detail",t,a))}}})(B))),K=a(529),W=function(e){function t(){return Object(r.a)(this,t),Object(n.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.motorFields,a=e.promo;return d.a.createElement("div",{className:"motor-container"},d.a.createElement(K.a,{img1:N.a,img2:I.a,img3:M.a,imgAlt:"PolicyPal Car Insurance",promo:a,desc:d.a.createElement(u.Fragment,null,d.a.createElement("p",null,"Get 5% Cashback "),d.a.createElement("p",null,"upon purchase of Motor Insurance!"))},d.a.createElement(H,{motorFields:t})))}}]),t}(u.Component);W.defaultProps={promo:null};var q=W,Q=a(97),J=function(e){function t(e){var a;Object(r.a)(this,t);var i=(a=Object(n.a)(this,Object(o.a)(t).call(this,e))).props,s=i.loading,c=i.motorFields,l=i.history;return c||(s(function(){return l.push("/")}),a.props.getMotorFields()),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setFormState,a=e.history;t(O.b.MAIN.index),window.scrollTo(0,0),Object(E.c)({page_title:"Motor",page_path:"/motor".concat(a.location.search)}),Object(E.a)("MotorFormS")}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.motorFields,r=t.loadingEnd;!e.motorFields&&a&&r()}},{key:"render",value:function(){var e=this.props,t=e.motorFields,a=e.motorPromoGiveAway;return t?d.a.createElement(q,{motorFields:t,promo:a}):null}}]),t}(u.Component);J.defaultProps={motorFields:null,motorPromoGiveAway:null};var $=Object(k.a)(Object(f.b)(function(e){return{motorFields:e.motor.motorFields,motorPromoGiveAway:e.insurance.promoGiveaways.motor}},function(e){return{getMotorFields:function(){e(Object(y.g)())},loading:function(t,a,r){e(Object(Q.d)(t,a,r))},loadingEnd:function(){e(Object(Q.c)())},setFormState:function(t){e(Object(O.K)(t))}}})(J)),X=a(493),Z=a(591),ee=a(517),te=(a(845),function(e){function t(e){var a;Object(r.a)(this,t);var i=(a=Object(n.a)(this,Object(o.a)(t).call(this,e))).props.motorFields;return a.state={errorStringData:{},yearBornRange:m.a.range(i.year_born.min,i.year_born.max+1,1),claimsRange:m.a.range(0,i.num_claims_made.max+1,1),errorArray:[]},a.handleSubmit=a.handleSubmit.bind(Object(c.a)(Object(c.a)(a))),a.validateForm=a.validateForm.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"validateForm",value:function(e){var t=this.state,a=t.yearBornRange,r=t.claimsRange,n=this.props.motorFields,o=Object(V.b)(e,["year_born","marital_status","gender","years_driving","number_of_claims","ncd","demerit_status"],{year_born:{type:"ARRAY",data:a},years_driving:{type:"ARRAY",data:n.years_driven.options},number_of_claims:{type:"ARRAY",data:r},ncd:{type:"ARRAY",data:m.a.range(0,n.ncd.max+1,10)}});this.setState({errorStringData:o});var i=[];return m.a.isEmpty(o)||(i=[d.a.createElement("p",{className:"error-string",key:"error-1"},"Fields are not properly filled, please check again.")]),this.setState({errorArray:i}),o}},{key:"handleSubmit",value:function(e){var t=this.props,a=t.changeDetailForm,r=t.setInsurFormState,n=t.history,o=this.validateForm(e);m.a.isEmpty(o)&&(a("marital_status",e.marital_status),a("gender",e.gender),a("years_of_experience",e.years_driving),a("num_claims",e.number_of_claims),a("ncd",e.ncd),a("offence_free",e.demerit_status),Object(E.a)("MotorNextA",{born:e.year_born,marital:e.marital_status,gender:e.gender,"driving-years":e.years_driving,claims:e.number_of_claims,ncd:"".concat(e.ncd||0,"%"),demerit:"not demerit points free"===e.demerit_status}),r(O.b.CHOOSECOMPANY.index),n.push("/motor".concat(O.b.CHOOSECOMPANY.path))),window.scrollTo(0,document.body.scrollHeight)}},{key:"render",value:function(){var e=this,t=this.state,a=t.errorStringData,r=t.yearBornRange,n=t.claimsRange,o=t.errorArray,i=this.props,s=i.handleSubmit,c=i.form,l=i.motorFields,m=i.storeForm;return d.a.createElement(u.Fragment,null,d.a.createElement(w.z,{className:"motor-more",noGutters:!0},d.a.createElement(w.f,{xs:12,className:"landing-form-outer-width"},d.a.createElement(ee.a,{submitCallback:this.submitCallback,form:"motor",valuesToListen:[{value:"vehicle_make",desc:"Brand"},{value:"vehicle_model",desc:"Model"},{value:"year_registered",desc:"Registered"}]},d.a.createElement(H,{isPopUp:!0,motorFields:l}))),d.a.createElement(w.f,{xs:12},d.a.createElement("div",{className:"landing-form-outer-container",style:{paddingTop:0}},d.a.createElement("div",{className:"landing-form-container"},d.a.createElement("form",{onSubmit:s(this.handleSubmit)},d.a.createElement(w.z,{className:"input-offset",noGutters:!0},d.a.createElement(w.f,{className:"form-right-padding",xs:12,sm:6},d.a.createElement(Y.a,{form:c,change:this.props.change,name:"year_born",placeholderString:"Year Born",dropList:r,size:"medium",zIndex:99,numItemsDisplay:7,desc:l.year_born.display_name,errorString:a.year_born,validateForm:function(){return e.validateForm(m)}})),d.a.createElement(w.f,{className:"d-none d-sm-flex",sm:6}),d.a.createElement(w.f,{className:"form-right-padding",xs:12,sm:6},d.a.createElement(X.a,{form:c,change:this.props.change,name:"marital_status",type:"text-selection",noEmptyTextSelection:!0,options:[{key:"Single",description:"Single"},{key:"Married",description:"Married"}],sizeInSM:6,desc:"Marital Status",errorString:a.marital_status,validateForm:function(){return e.validateForm(m)}})),d.a.createElement(w.f,{className:"form-left-padding",xs:12,sm:6},d.a.createElement(X.a,{form:c,change:this.props.change,name:"gender",type:"text-selection",noEmptyTextSelection:!0,options:[{key:"Male",description:"Male"},{key:"Female",description:"Female"}],sizeInSM:6,desc:"Gender",errorString:a.gender,validateForm:function(){return e.validateForm(m)}})),d.a.createElement(w.f,{xs:12},d.a.createElement("hr",{className:"hr-margin"})),d.a.createElement(w.f,{xs:12,className:"header"},d.a.createElement("p",null,"Driving experience")),d.a.createElement(w.f,{className:"form-right-padding",xs:12,sm:6},d.a.createElement(Y.a,{form:c,change:this.props.change,name:"years_driving",placeholderString:"Years Driving",dropList:l.years_driven.options,size:"medium",zIndex:98,numItemsDisplay:7,desc:l.years_driven.display_name,errorString:a.years_driving,validateForm:function(){return e.validateForm(m)}})),d.a.createElement(w.f,{className:"form-left-padding",xs:12,sm:6},d.a.createElement(Y.a,{form:c,change:this.props.change,name:"number_of_claims",placeholderString:"No of Claims",dropList:n,size:"medium",zIndex:97,numItemsDisplay:7,desc:l.num_claims_made.display_name,errorString:a.number_of_claims,validateForm:function(){return e.validateForm(m)}})),d.a.createElement(w.f,{className:"form-right-padding",xs:12,sm:6},d.a.createElement(Z.a,{form:c,change:this.props.change,disableTyping:!0,name:"ncd",unit:"%",min:0,max:l.ncd.max,increment:10,initial:0,desc:"I have a no-claim discount of",errorString:a.ncd,validateForm:function(){return e.validateForm(m)}})),d.a.createElement(w.f,{className:"d-none d-sm-flex",sm:6}),d.a.createElement(w.f,{className:"demerit-selection",xs:12},d.a.createElement(X.a,{form:c,change:this.props.change,name:"demerit_status",type:"text-selection",noEmptyTextSelection:!0,options:[{key:"demerit points free",description:"demerit points free"},{key:"not demerit points free",description:"not demerit points free"}],sizeInSM:6,desc:l.demerit_status.display_name,errorString:a.demerit_status,validateForm:function(){return e.validateForm(m)}})),o),d.a.createElement(w.z,{className:"align-items-center button-container",noGutters:!0},d.a.createElement(w.f,{className:"justify-content-center button",xs:12},d.a.createElement(G.a,{type:"submit",variant:"medium-flat-green",width:165,height:72},d.a.createElement("p",null,"Next"))))))))))}}]),t}(u.Component));te.defaultProps={storeForm:null};var ae=Object(k.a)(Object(A.a)({form:"motor-more",destroyOnUnmount:!1})(Object(f.b)(function(e){return{storeForm:Object(P.a)("motor-more")(e)}},function(e){return{setInsurFormState:function(t){e(Object(O.K)(t))},changeDetailForm:function(t,a){e(Object(h.a)("motor-detail",t,a))}}})(te))),re=function(e){function t(){return Object(r.a)(this,t),Object(n.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.setFormState)(O.b.MORE.index),(0,this.props.clearData)(),window.scrollTo(0,0),Object(E.a)("MotorAboutS")}},{key:"render",value:function(){var e=this.props.motorFields;return e?d.a.createElement(ae,{motorFields:e}):null}}]),t}(u.Component);re.defaultProps={motorFields:null};var ne=Object(f.b)(function(e){return{motorFields:e.motor.motorFields}},function(e){return{clearData:function(){e(Object(y.f)())},setFormState:function(t){e(Object(O.K)(t))}}})(re),oe=a(3),ie=a(76),se=a(641),ce=a(184),le=(a(846),function(e){function t(){return Object(r.a)(this,t),Object(n.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.logo,a=e.logoDesc,r=e.cost,n=e.unit,o=e.tabs,i=e.onClick,s=e.name,c=e.buttonSubText,l=e.teaser;return d.a.createElement(w.f,{className:"header-desc-with-tabview-container",xs:12},d.a.createElement(w.z,{className:"full-height",noGutters:!0},d.a.createElement(w.f,{className:"left-container d-none d-sm-flex"},d.a.createElement("div",{className:"motor-company-container"},d.a.createElement("div",{className:"company-logo-container"},d.a.createElement("img",{className:"company-logo",src:t,alt:"".concat(a,".png")})))),d.a.createElement(w.z,{className:"right-main",noGutters:!0},d.a.createElement(w.f,{xs:12,className:"top-container"},d.a.createElement("div",{className:"name-container"},d.a.createElement("div",{className:"name-logo"},d.a.createElement("div",{className:"company-logo-container d-flex d-sm-none"},d.a.createElement("img",{className:"company-logo",src:t,alt:"".concat(a,".png")})),d.a.createElement("p",{className:"desc"},a)),d.a.createElement(se.a,{teaser:l,className:"tag-label"})),d.a.createElement("div",{className:"price-container"},d.a.createElement("p",null,d.a.createElement("span",{className:"cost"},r),d.a.createElement("span",{className:"unit"},n)))),d.a.createElement(w.f,{className:"mid-container"},d.a.createElement(ce.a,{name:s,maxTabWidthPx:128,hideWidth:768,tabs:o,isDisableDropdown:!0,isConstantHeight:!0},this.props.children)),d.a.createElement(w.f,{className:"right-container align-self-center"},d.a.createElement(G.a,{type:"submit",variant:"medium-flat-green",width:165,height:72,onClick:i},d.a.createElement("p",null,"Choose Plan")),c?d.a.createElement("p",{className:"button-sub-text"},c):null))))}}]),t}(u.Component));le.defaultProps={cost:null,unit:null,onClick:function(){},buttonSubText:null,teaser:null};var me=le,ue=a(509),de=(a(847),a(848),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(n.a)(this,Object(o.a)(t).call(this,e))).renderCompany=a.renderCompany.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"renderCompany",value:function(){var e=this.props,t=e.plansData,a=e.setInsurFormState,r=e.setInsurerIndex,n=e.history,o=m.a.find(t,function(e){return e.info&&"fwd"===e.info.insurer_slug}),i=o?[o]:[];return m.a.each(t,function(e){e.info&&"fwd"!==e.info.insurer_slug&&i.push(e)}),m.a.map(i,function(e,o){var i=null,s=null;e.policy_details&&(e.policy_details.benefits&&(i=d.a.createElement(u.Fragment,{key:"company-ul-".concat(o)},d.a.createElement("ul",null,m.a.reduce(e.policy_details.benefits,function(t,a,r){if(r>1)return t;var n=r>1?"d-none d-sm-flex":"",o=d.a.createElement("div",{className:n,key:"".concat(e.info.insurer_name,"-benefit-").concat(r)},d.a.createElement("li",null,d.a.createElement("p",null,a)));return t.push(o),t},[])))),e.policy_details.about&&(s=d.a.createElement(u.Fragment,{key:"company-about-".concat(o)},d.a.createElement("div",{className:"d-none d-sm-flex"},d.a.createElement("p",null,e.policy_details.about)))));var c=null,l=null;return e.policy_info&&e.policy_info.classic&&e.policy_info.classic.premium&&(c="$".concat(Object(j.m)(e.policy_info.classic.premium.net_price)),l="per annum"===e.policy_info.classic.premium.frequency?"/year":"/month"),d.a.createElement(me,{name:"company-tab-".concat(e.info.insurer_name),key:"".concat(e.info.insurer_name,"-tab-").concat(o),logo:ie.a[e.info.insurer_slug],logoDesc:e.info.insurer_name,tabs:["Benefits","About ".concat(e.info.insurer_name)],cost:c,unit:l,onClick:function(){r(m.a.findIndex(t,function(t){return t.info&&t.info.insurer_slug===e.info.insurer_slug})),a(O.b.CHOOSEPLAN.index),n.push("/motor".concat(O.b.CHOOSEPLAN.path)),Object(E.a)("MotorChoosePlanA",{partner:e.info.insurer_slug})},buttonSubText:"Get 5% Cashback",teaser:e.info.teaser},m.a.compact([i,s]))})}},{key:"render",value:function(){var e=this.props,t=e.motorFields,a=e.submitCallback;return d.a.createElement(u.Fragment,null,d.a.createElement(w.z,{className:"inner-form-container",noGutters:!0},d.a.createElement(w.f,{xs:12},d.a.createElement(ee.a,{form:"motor",valuesToListen:[{value:"vehicle_make",desc:"Brand"},{value:"vehicle_model",desc:"Model"},{value:"year_registered",desc:"Registered"}],submitCallback:a},d.a.createElement(H,{isPopUp:!0,motorFields:t}))),this.renderCompany(),d.a.createElement(ue.a,null)))}}]),t}(u.Component));de.defaultProps={};var pe=Object(k.a)(Object(f.b)(null,function(e){return{setInsurFormState:function(t){e(Object(O.K)(t))}}})(de)),fe=function(e){function t(e){var a;Object(r.a)(this,t);var i=(a=Object(n.a)(this,Object(o.a)(t).call(this,e))).props.plansData;return a.getNewData=a.getNewData.bind(Object(c.a)(Object(c.a)(a))),i||a.getNewData(),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.setFormState)(O.b.CHOOSECOMPANY.index),v.a.track("Search"),window.scrollTo(0,0),Object(E.a)("MotorCompanyS")}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.plansData,r=t.loadingEnd;!e.plansData&&a&&r()}},{key:"getNewData",value:function(){var e=this.props,t=e.motorForm,a=e.motorMoreForm,r=e.loading,n=e.clearData,o=e.history,i=Object(oe.a)({},t,{fwd_motor_quote_request:Object(oe.a)({plan_code:"",marital_status:a.marital_status,gender:a.gender,year_born:a.year_born.toString(),years_driving:a.years_driving,ncd:a.ncd.toString(),demerit_status:a.demerit_status,number_of_claims:a.number_of_claims},t,{year_registered:t.year_registered.toString(),referral:"",promo_code:""})});n(),this.props.getMotorPlans(i),r(function(){n(),o.goBack()},"No available plans found.",3e4)}},{key:"render",value:function(){var e=this.props,t=e.plansData,a=e.motorFields,r=e.setInsurerIndex;return t?d.a.createElement(pe,{plansData:t,motorFields:a,setInsurerIndex:r,submitCallback:this.getNewData}):null}}]),t}(u.Component);fe.defaultProps={plansData:null};var he=Object(k.a)(Object(f.b)(function(e){return{plansData:e.motor.plansData,motorFields:e.motor.motorFields,motorForm:Object(P.a)("motor")(e),motorMoreForm:Object(P.a)("motor-more")(e)}},function(e){return{setFormState:function(t){e(Object(O.K)(t))},getMotorPlans:function(t){e(Object(y.h)(t))},setInsurerIndex:function(t){e(Object(y.k)(t))},loading:function(t,a,r){e(Object(Q.d)(t,a,r))},loadingEnd:function(){e(Object(Q.c)())},clearData:function(){e(Object(y.f)())}}})(fe)),ge=a(532),be=(a(851),function(e){function t(){return Object(r.a)(this,t),Object(n.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.logo,a=e.logoName,r=e.insurerName,n=e.insurerDesc,o=e.cost,i=e.year,s=o&&i;return d.a.createElement(w.z,{className:"header-desc-with-price-container",noGutters:!0},d.a.createElement(w.f,{className:"insurer-logo-container"},d.a.createElement("div",{className:"company-logo-container"},d.a.createElement("img",{className:"company-logo",src:t,alt:a}))),d.a.createElement(w.f,{className:"insurer-desc-container"},d.a.createElement("div",{className:"insurer-desc-top"},d.a.createElement("span",{className:"insurer-name"},r),d.a.createElement("div",{className:"resp-price"},d.a.createElement("span",{className:"cost"},o),d.a.createElement("span",{className:"unit"},i))),d.a.createElement("p",{className:"desc"},n)),s?d.a.createElement(w.f,{className:"price-container align-self-center"},d.a.createElement("p",null,d.a.createElement("span",{className:"cost"},o),d.a.createElement("span",{className:"unit"},i))):null)}}]),t}(u.Component));be.defaultProps={cost:null,year:null};var ve=be,ye=a(647),_e=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(n.a)(this,Object(o.a)(t).call(this,e))).setSelectedPolicy=a.setSelectedPolicy.bind(Object(c.a)(Object(c.a)(a))),a.doAmpTags=a.doAmpTags.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"setSelectedPolicy",value:function(e,t,a){var r=this.props,n=r.setFormState;(0,r.othersSetSelection)(e,t,a),n()}},{key:"doAmpTags",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;try{var t=this.props,a=t.plansData,r=t.isFWD,n={"plan-name":a.selectedInsurers[0].productSlug};if(r){var o=a.plans.default.premium[e];n.discount="".concat(((o.price||0)-(o.net_price||0))/(o.price||0)*100,"%"),n.price=o.net_price||0}Object(E.a)("MotorBuyNowA",n)}catch(i){console.log("Motor choose plan Buy now Amp tag failed: ".concat(i.message))}}},{key:"render",value:function(){var e=this,t=this.props,a=t.plansData,r=t.isFWD,n=t.setInsurFormState,o=t.history;try{if(r)for(var i=function(t){a.plans.default.premium[t].doTag=function(){return e.doAmpTags(t)}},s=0;s<a.plans.default.premium.length;++s)i(s)}catch(c){console.log("Overwrite tags failed")}return d.a.createElement(u.Fragment,null,d.a.createElement(w.z,{className:"inner-form-container",noGutters:!0},d.a.createElement(w.f,{className:"company-product-container",xs:12},r?d.a.createElement(ve,{logo:ie.a[a.selectedInsurers[0].insurerSlug],logoName:"".concat(a.selectedInsurers[0].insurerSlug,".svg"),insurerName:a.selectedInsurers[0].insurerName,insurerDesc:a.policyDetails.about}):d.a.createElement(ye.a,{logo:ie.a[a.selectedInsurers[0].insurerSlug],logoName:"".concat(a.selectedInsurers[0].insurerSlug,".svg"),insurerName:a.selectedInsurers[0].insurerName,insurerDesc:a.policyDetails.about,onClick:function(){e.setSelectedPolicy(a.selectedInsurers[0].insurerSlug,a.selectedInsurers[0].insurerName,a.selectedInsurers[0].productName),e.doAmpTags(),n(O.b.DETAILFORM.index),o.push("/motor".concat(O.b.DETAILFORM.path))}}),d.a.createElement(w.z,{className:"content-container"},d.a.createElement(w.f,{xs:12},d.a.createElement("p",{className:"why"},"Why ".concat(a.selectedInsurers[0].insurerName,"?")),d.a.createElement("ul",null,m.a.map(a.policyDetails.benefits,function(e,t){return d.a.createElement("li",{key:"benefit-".concat(t)},d.a.createElement("p",null,e))}))),r?d.a.createElement(ge.a,{category:"motor",key:"overview",className:"overview-container-padding",data:a,currentTab:"default",editForm:d.a.createElement(ee.a,{form:"motor",valuesToListen:[{value:"brand",desc:"Brand"},{value:"model",desc:"Model"},{value:"year",desc:"Year"}]},d.a.createElement(H,{isPopUp:!0,ref:function(t){return e.editForm=t}}))}):null)),d.a.createElement(ue.a,null)))}}]),t}(u.Component);_e.defaultProps={isFWD:!1};var Oe=Object(k.a)(Object(f.b)(null,function(e){return{setInsurFormState:function(t){e(Object(O.K)(t))}}})(_e)),Ee=a(583),je=a(141),Fe=function(e){function t(e){var a;Object(r.a)(this,t);var i=(a=Object(n.a)(this,Object(o.a)(t).call(this,e))).props,s=i.setFormState,l=i.loadingEnd,m=i.plansData,u=i.selectedIndex,d=!1;try{d="fwd"===m[u].info.insurer_slug}catch(f){console.log("Unable to get FWD")}var p=Object(O.E)(m,null,null,null,function(e,t){if(d)return a.RedirectPop.openRedirectPopup(t),void Object(E.a)("MotorRedirectS");s(O.b.DETAILFORM.index)},a.props.setSelectedPlanData,l,a.props.setRestrictionPopup,u);return a.state={parsedData:p,isFWD:d},a.fwdCheckout=a.fwdCheckout.bind(Object(c.a)(Object(c.a)(a))),a.othersSetSelection=a.othersSetSelection.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.setFormState)(O.b.CHOOSEPLAN.index),window.scrollTo(0,0),Object(E.c)({page_title:"Motor - Choose Plan",page_path:"/motor/chooseplan"}),Object(E.a)("MotorPlanS")}},{key:"othersSetSelection",value:function(e,t,a){this.props.setSelectedPlanData({clientSlug:e,clientName:t,policyName:a})}},{key:"fwdCheckout",value:function(e){var t=this.props,a=t.motorForm,r=t.motorMoreForm;Object(y.j)(e,a,r),Object(E.a)("MotorConfirmA")}},{key:"render",value:function(){var e=this,t=this.state,a=t.parsedData,r=t.isFWD,n=this.props.setFormState;return a?d.a.createElement(u.Fragment,null,d.a.createElement(Oe,{plansData:a,isFWD:r,setFormState:function(){return n(O.b.DETAILFORM.index)},othersSetSelection:this.othersSetSelection}),d.a.createElement(Ee.a,{ref:function(t){return e.RedirectPop=t},onConfirm:this.fwdCheckout})):null}}]),t}(u.Component);Fe.defaultProps={};var Se=Object(f.b)(function(e){return{motorForm:Object(P.a)("motor")(e),motorMoreForm:Object(P.a)("motor-more")(e),plansData:e.motor.plansData,selectedIndex:e.motor.selectedIndex}},function(e){return{setFormState:function(t){e(Object(O.K)(t))},loading:function(){e(Object(Q.d)())},loadingEnd:function(){e(Object(Q.c)())},setPlanType:function(t,a){e(Object(_.h)(t,a))},setSelectedPlanData:function(t){e(Object(y.l)(t))},setRestrictionPopup:function(t){e(Object(je.d)(t))}}})(Fe),ke=a(519),xe=a(4),Ne=a.n(xe),De=a(8),Ie=a(533),Ce=a(57),Me=a(501),Pe=a(491),Ae=a(18),we=function(e){function t(e){var a;Object(r.a)(this,t);var i=(a=Object(n.a)(this,Object(o.a)(t).call(this,e))).props,s=i.storeForm,l=i.motorFields;return a.state={sessionId:null,selectedVehicleMake:s?s.vehicle_make:null,selectedVehicleModels:s&&s.vehicle_make?l.car_models.options[s.vehicle_make]:null,commencementDate:Object(Ae.i)(l.commencement_date.min_date),regYears:m.a.range(l.reg_year.min,l.reg_year.max+1,1),manufactureYears:m.a.range(l.manufacture_year.max+1,l.manufacture_year.min,-1),claimsRange:m.a.range(0,l.num_claims.max+1,1),passStartDate:Object(Ae.i)(l.pass_date.min_date),passEndDate:Object(Ae.i)(l.pass_date.max_date),errorStringData:{},errorArray:[]},a.handleSubmit=a.handleSubmit.bind(Object(c.a)(Object(c.a)(a))),a.validateForm=a.validateForm.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(t,e),Object(i.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.storeForm,r=e.motorFields,n=e.sessionId;if(a&&a.vehicle_make!==t.selectedVehicleMake){var o=r.car_models.options[a.vehicle_make];if(o)return e.change("vehicle_model",null),{selectedVehicleMake:a.vehicle_make,selectedVehicleModels:o}}return n!==t.sessionId?{sessionId:n}:null}}]),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this,a=this.state.sessionId,r=this.props,n=r.storeForm,o=r.changeMotorForm,i=r.changeMotorMoreForm,s=r.loadingEnd;a&&(s(),setTimeout(function(){t.checkoutComplete.openCheckoutComplete(),Object(E.a)("MotorConfirmationS")},300)),n!==e.storeForm&&(o("vehicle_make",n.vehicle_make),o("vehicle_model",n.vehicle_model),o("year_registered",n.reg_year),i("marital_status",n.marital_status),i("gender",n.gender),i("years_driving",n.years_of_experience),i("number_of_claims",n.num_claims),i("ncd",n.ncd),i("demerit_status",n.offence_free))}},{key:"validateForm",value:function(){var e=Object(De.a)(Ne.a.mark(function e(t){var a,r,n,o,i,s,c,l,u,p,f,h=arguments;return Ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>1&&void 0!==h[1]&&h[1],a=this.state,r=a.selectedVehicleModels,n=a.regYears,o=a.manufactureYears,i=a.claimsRange,s=a.passStartDate,c=a.passEndDate,l=a.commencementDate,u=this.props.motorFields,p=Object(V.b)(t,["email","name","nric","gender","postal","marital_status","birth_date","pass_date","years_of_experience","ncd","offence_free","num_claims","vehicle_number","vehicle_usage","vehicle_make","vehicle_model","num_seats","reg_year","manufacture_year","off_peak","commencement_date","mobile_number"],{pass_date:{type:"DATE",start:s,end:c},years_of_experience:{type:"ARRAY",data:u.years_of_experience.options},ncd:{type:"ARRAY",data:m.a.range(0,u.ncd.max+1,10)},offence_free:{type:"ARRAY",data:u.offence_free.options},num_claims:{type:"ARRAY",data:i},vehicle_usage:{type:"ARRAY",data:u.vehicle_usage.options},vehicle_make:{type:"ARRAY",data:u.car_brand.options},vehicle_model:{type:"ARRAY",data:r},num_seats:{type:"ARRAY",data:u.num_seats.options},reg_year:{type:"ARRAY",data:n},manufacture_year:{type:"ARRAY",data:o},off_peak:{type:"ARRAY",data:u.off_peak_car.options},commencement_date:{type:"DATE",start:l}}),this.setState({errorStringData:p}),f=[],m.a.isEmpty(p)||(f=[d.a.createElement("p",{className:"error-string",key:"error-1"},"Fields are not properly filled, please check again.")]),this.setState({errorArray:f}),e.abrupt("return",p);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(De.a)(Ne.a.mark(function e(t){var a,r,n,o,i,s,c,l=this,u=arguments;return Ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(u.length>1&&void 0!==u[1])||u[1],r=this.props,n=r.checkOutOthers,o=r.loading,i=r.storeForm,e.next=4,this.validateForm(a?t:i,!0);case 4:if(s=e.sent,c=m.a.isEmpty(s),!Object(V.a)(c,a,s,function(e){return l.setState({errorStringData:e,errorArray:null})},function(){return l.handleSubmit(i,!1)})){e.next=8;break}return e.abrupt("return");case 8:c&&(Object(E.b)("Motor - DetailForm - Checkout",{event_category:"Motor",event_label:"Motor - DetailForm - Checkout"}),Object(E.a)("MotorCheckoutA",{"vehicle-type":t.vehicle_usage,manufacture:t.manufacture_year,"off-peak":t.off_peak}),v.a.track("Purchase"),o(),n(t)),window.scrollTo(0,document.body.scrollHeight);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedVehicleModels,r=t.regYears,n=t.manufactureYears,o=t.claimsRange,i=t.passStartDate,s=t.passEndDate,c=t.errorStringData,l=t.commencementDate,m=t.errorArray,p=this.props,f=p.motorFields,g=p.form,b=p.planDetails,v=p.handleSubmit,y=p.isLoggedIn,_=p.piggyCallback,O=p.changePlan,E=p.storeForm;return d.a.createElement(u.Fragment,null,d.a.createElement(Ie.a,{category:"motor",isLoggedIn:y,changePlan:O,handleSubmit:v,onSubmit:this.handleSubmit,change:this.props.change,form:g,planDetails:b,piggyCallback:_,errorArray:m},d.a.createElement(w.z,{className:"main-form",noGutters:!0},d.a.createElement(w.f,{xs:12},d.a.createElement(Ce.a,{form:g,change:this.props.change,name:"email",placeholderString:"",size:"medium",zIndex:99,desc:"Email Address",errorString:c.email,validateForm:function(){return e.validateForm(E)}})),d.a.createElement(w.f,{className:"right-padding",xs:12,sm:6},d.a.createElement(Ce.a,{form:g,change:this.props.change,name:"name",placeholderString:"",size:"medium",zIndex:98,desc:"Full Name",errorString:c.name,validateForm:function(){return e.validateForm(E)}})),d.a.createElement(w.f,{className:"left-padding",xs:12,sm:6},d.a.createElement(Ce.a,{form:g,change:this.props.change,name:"nric",placeholderString:"",size:"medium",zIndex:97,desc:"ID Number",errorString:c.nric,validateForm:function(){return e.validateForm(E)},toUpper:!0})),d.a.createElement(w.f,{className:"right-padding",xs:12,sm:6},d.a.createElement(X.a,{form:g,change:this.props.change,name:"gender",type:"text-selection",noEmptyTextSelection:!0,options:[{key:"Male",description:"Male"},{key:"Female",description:"Female"}],sizeInSM:6,desc:"Gender",errorString:c.gender,validateForm:function(){return e.validateForm(E)}})),d.a.createElement(w.f,{className:"left-padding",xs:12,sm:6},d.a.createElement(Ce.a,{form:g,change:this.props.change,name:"postal",placeholderString:"",size:"medium",zIndex:96,desc:"Postal Code",errorString:c.postal,validateForm:function(){return e.validateForm(E)}})),d.a.createElement(w.f,{className:"right-padding",xs:12,sm:6},d.a.createElement(X.a,{form:g,change:this.props.change,name:"marital_status",type:"text-selection",noEmptyTextSelection:!0,options:[{key:"Single",description:"Single"},{key:"Married",description:"Married"}],sizeInSM:6,desc:"Marital Status",errorString:c.marital_status,validateForm:function(){return e.validateForm(E)}})),d.a.createElement(w.f,{className:"left-padding",xs:12,sm:6},d.a.createElement(Me.a,{form:g,change:this.props.change,name:"birth_date",size:"medium",zIndex:95,desc:"Date of birth",errorString:c.birth_date,validateForm:function(){return e.validateForm(E)},endDate:new Date})),d.a.createElement(w.f,{className:"right-padding",xs:12,sm:6},d.a.createElement(Ce.a,{form:g,change:h.a,name:"mobile_number",errorString:c.mobile_number,validateForm:function(){return e.validateForm(E)},placeholderString:"",size:"medium",zIndex:94,desc:"Mobile Number"})),d.a.createElement(w.f,{xs:12},d.a.createElement("hr",{className:"hr-margin"})),d.a.createElement(w.f,{xs:12,className:"header"},d.a.createElement("p",null,"Driving License")),d.a.createElement(w.f,{className:"right-padding",xs:12,sm:6},d.a.createElement(Me.a,{form:g,change:this.props.change,name:"pass_date",size:"medium",zIndex:93,desc:f.pass_date.display_name,startDate:i,endDate:s,errorString:c.pass_date,validateForm:function(){return e.validateForm(E)}})),d.a.createElement(w.f,{className:"left-padding",xs:12,sm:6},d.a.createElement(Y.a,{form:g,change:this.props.change,name:"years_of_experience",placeholderString:"Years ...",dropList:f.years_of_experience.options,size:"medium",zIndex:92,desc:f.years_of_experience.display_name,errorString:c.years_of_experience,validateForm:function(){return e.validateForm(E)}})),d.a.createElement(w.f,{className:"right-padding",xs:12,sm:6},d.a.createElement(Z.a,{form:g,change:this.props.change,name:"ncd",unit:"%",min:0,max:f.ncd.max,increment:10,initial:0,desc:f.ncd.display_name,errorString:c.ncd,validateForm:function(){return e.validateForm(E)}})),d.a.createElement(w.f,{className:"left-padding",xs:12,sm:6},d.a.createElement(Y.a,{form:g,change:this.props.change,name:"offence_free",placeholderString:"Offence Free",dropList:f.offence_free.options,size:"medium",zIndex:91,desc:f.offence_free.display_name,errorString:c.offence_free,validateForm:function(){return e.validateForm(E)}})),d.a.createElement(w.f,{className:"right-padding",xs:12,sm:6},d.a.createElement(Y.a,{form:g,change:this.props.change,name:"num_claims",placeholderString:"No of claims",dropList:o,size:"medium",zIndex:90,desc:f.num_claims.display_name,errorString:c.num_claims,validateForm:function(){return e.validateForm(E)}})),d.a.createElement(w.f,{xs:12},d.a.createElement("hr",{className:"hr-margin"})),d.a.createElement(w.f,{xs:12,className:"header"},d.a.createElement("p",null,"Vehicle")),d.a.createElement(w.f,{className:"right-padding",xs:12,sm:6},d.a.createElement(Ce.a,{form:g,change:this.props.change,name:"vehicle_number",placeholderString:"",size:"medium",zIndex:89,desc:"Vehicle number",errorString:c.vehicle_number,validateForm:function(){return e.validateForm(E)}})),d.a.createElement(w.f,{className:"left-padding",xs:12,sm:6},d.a.createElement(Y.a,{form:g,change:this.props.change,name:"vehicle_usage",placeholderString:"Vehicle usage",dropList:f.vehicle_usage.options,size:"medium",zIndex:88,desc:f.vehicle_usage.display_name,errorString:c.vehicle_usage,validateForm:function(){return e.validateForm(E)}})),d.a.createElement(w.f,{className:"right-padding",xs:12,sm:6},d.a.createElement(Y.a,{form:g,change:this.props.change,name:"vehicle_make",placeholderString:"Brand",dropList:f.car_brand.options,size:"medium",zIndex:87,desc:"Brand",errorString:c.vehicle_make,validateForm:function(){return e.validateForm(E)}})),d.a.createElement(w.f,{className:"left-padding",xs:12,sm:6},d.a.createElement(Y.a,{form:g,change:this.props.change,name:"vehicle_model",placeholderString:"Model",dropList:a,size:"medium",zIndex:86,desc:"Model",errorString:c.vehicle_model,validateForm:function(){return e.validateForm(E)}})),d.a.createElement(w.f,{className:"right-padding",xs:12,sm:6},d.a.createElement(Y.a,{form:g,change:this.props.change,name:"num_seats",placeholderString:"No of seats",dropList:f.num_seats.options,size:"medium",zIndex:85,desc:f.num_seats.display_name,errorString:c.num_seats,validateForm:function(){return e.validateForm(E)}})),d.a.createElement(w.f,{className:"left-padding",xs:12,sm:6},d.a.createElement(Y.a,{form:g,change:this.props.change,name:"reg_year",placeholderString:"Year of registration",dropList:r,size:"medium",zIndex:84,desc:"Year of registration",errorString:c.reg_year,validateForm:function(){return e.validateForm(E)}})),d.a.createElement(w.f,{className:"right-padding",xs:12,sm:6},d.a.createElement(Y.a,{form:g,change:this.props.change,name:"manufacture_year",placeholderString:"Year of manufacture",dropList:n,size:"medium",zIndex:83,desc:f.manufacture_year.display_name,errorString:c.manufacture_year,validateForm:function(){return e.validateForm(E)}})),d.a.createElement(w.f,{className:"left-padding",xs:12,sm:6},d.a.createElement(Y.a,{form:g,change:this.props.change,name:"off_peak",placeholderString:"Off-peak car",dropList:f.off_peak_car.options,size:"medium",zIndex:82,desc:f.off_peak_car.display_name,errorString:c.off_peak,validateForm:function(){return e.validateForm(E)}})),d.a.createElement(w.f,{className:"right-padding",xs:12,sm:6},d.a.createElement(Me.a,{form:g,change:this.props.change,name:"commencement_date",size:"medium",zIndex:81,startDate:l,desc:f.commencement_date.display_name,errorString:c.commencement_date,validateForm:function(){return e.validateForm(E)}})),d.a.createElement(w.f,{xs:12},d.a.createElement("hr",{className:"hr-margin"})))),d.a.createElement(Pe.a,{isQuoteOnly:!0,wrappedComponentRef:function(t){return e.checkoutComplete=t}}))}}]),t}(u.Component);we.defaultProps={storeForm:null};var Re=Object(A.a)({form:"motor-detail",destroyOnUnmount:!1})(Object(f.b)(function(e){return{storeForm:Object(P.a)("motor-detail")(e)}},function(e){return{changeMotorForm:function(t,a){e(Object(h.a)("motor",t,a))},changeMotorMoreForm:function(t,a){e(Object(h.a)("motor-more",t,a))},loading:function(t,a,r){e(Object(Q.d)(t,a,r))},loadingEnd:function(){e(Object(Q.c)())}}})(we)),ze=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(n.a)(this,Object(o.a)(t).call(this,e))).sendFbq=a.sendFbq.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.setFormState)(O.b.DETAILFORM.index),this.sendFbq(),Object(E.c)({page_title:"Motor - Detail Form",page_path:"/motor/detailform"}),Object(E.a)("MotorDetailsS")}},{key:"sendFbq",value:function(){var e=this.props,t=e.plansData,a=e.selectedIndex,r=e.motorForm,n=e.motorMoreForm,o=t[a].info,i=Object(ke.a)(Object(oe.a)({},m.a.pick(o,["insurer_slug","insurer_name","product_slug","product_name"]),{values:Object(oe.a)({},r,n)}));v.a.track("AddToCart",i),v.a.track("InitiateCheckout")}},{key:"render",value:function(){var e=this.props,t=e.motorFields,a=e.plansData,r=e.selectedIndex,n=e.sessionId,o=e.checkOutOthers,i=e.isLoggedIn,s=e.piggyCallback,c=e.history;if(!a)return null;var l=a[r],m={logo:ie.a.others,logoDesc:"",planName:"",planTotal:null};try{m={logo:ie.a[l.info.insurer_slug],logoDesc:"".concat(l.info.insurer_name,".svg"),planName:l.info.product_name}}catch(u){console.log("Get plan details failed")}return d.a.createElement(Re,{motorFields:t,selectedData:l,planDetails:m,sessionId:n,checkOutOthers:o,isLoggedIn:i,piggyCallback:s,changePlan:function(){c.goBack(),Object(E.b)("Motor - DetailForm - ChangePlan",{event_category:"Motor",event_label:"Motor - DetailForm - ChangePlan"})}})}}]),t}(u.Component);ze.defaultProps={sessionId:null,plansData:null};var Le=Object(k.a)(Object(f.b)(function(e){return{motorForm:Object(P.a)("motor")(e),motorMoreForm:Object(P.a)("motor-more")(e),selectedPlanData:e.motor.selectedPlanData,plansData:e.motor.plansData,selectedIndex:e.motor.selectedIndex,sessionId:e.insurance.sessionId,motorFields:e.motor.motorFields}},function(e){return{getAnonymousSession:function(t){e(Object(O.v)(t,!0))},setFormState:function(t){e(Object(O.K)(t))}}},function(e,t,a){return Object(oe.a)({},a,e,t,{checkOutOthers:function(a){t.getAnonymousSession(Object(y.i)(e.selectedPlanData,a,e.motorForm,e.motorMoreForm))}})})(ze)),Te=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(n.a)(this,Object(o.a)(t).call(this,e))).state={formIndex:0,isInitialLoad:!0};var i=a.props,s=i.resetStoreForm,l=i.motorPromoGiveAway,m=i.clearData,u=i.history;return u.replace("/motor".concat(u.location.search)),void 0===l&&a.props.getPromoGiveaways(),m(),a.props.resetCompare(),a.props.resetInsuranceForm(),s("motor"),s("motor-more"),s("motor-detail"),a.renderStepProgress=a.renderStepProgress.bind(Object(c.a)(Object(c.a)(a))),a.renderMotorForms=a.renderMotorForms.bind(Object(c.a)(Object(c.a)(a))),a.setInitialFormState=a.setInitialFormState.bind(Object(c.a)(Object(c.a)(a))),a.changeUserDetails=a.changeUserDetails.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(t,e),Object(i.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a=t.formIndex,r=t.isMounted,n=e.formState,o=e.match,i=e.history;if(r){var s=Object(j.o)("motor",n,a,o,i);if(s&&null!==s.formIndex)return{formIndex:s.formIndex}}return null}}]),Object(i.a)(t,[{key:"componentDidMount",value:function(){v.a.track("CustomizeProduct"),this.setInitialFormState(),this.setState({isMounted:!0})}},{key:"componentDidUpdate",value:function(e){var t=this.state.isInitialLoad,a=this.props.userDetails;t&&m.a.isEqual(a,e.userDetails)&&this.changeUserDetails()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearData,a=e.resetStoreForm;t(),this.props.resetCompare(),this.props.resetInsuranceForm(),a("motor"),a("motor-more"),a("motor-detail")}},{key:"setInitialFormState",value:function(){var e=this.props.changeForm;e("motor","vehicle_make","AUDI"),setTimeout(function(){return e("motor","vehicle_model","A3 1.0")},2),e("motor","year_registered",2018),e("motor-detail","vehicle_make","AUDI"),e("motor-detail","vehicle_model","A3 1.0"),e("motor-detail","reg_year",2018),e("motor-more","year_born",1990),e("motor-more","years_driving","One"),e("motor-more","number_of_claims",0),this.changeUserDetails()}},{key:"changeUserDetails",value:function(){var e=this.state.isInitialLoad,t=this.props,a=t.userDetails,r=t.changeForm;if(a){var n=a.dateOfBirth&&a.dateOfBirth.length>=4?parseInt(a.dateOfBirth.slice(a.dateOfBirth.length-4),10):null,o=m.a.startCase(a.marital_status),i=m.a.startCase(a.gender),s=a.surname?a.surname:"",c=a.firstName?" ".concat(a.firstName):"";r("motor-more","year_born",n),r("motor-more","marital_status",o),r("motor-more","gender",i),r("motor-detail","email",a.email),r("motor-detail","name","".concat(s).concat(c)),r("motor-detail","nric",a.nric),r("motor-detail","birth_date",a.dateOfBirth),r("motor-detail","gender",i),r("motor-detail","marital_status",o),r("motor-detail","postal",a.postal_code),r("motor-detail","mobile_number",a.contact),e&&this.setState({isInitialLoad:!1})}}},{key:"renderStepProgress",value:function(){var e=this.state.formIndex,t=this.props.charged;return d.a.createElement(F.a,{maxWidth:"556px",formState:e,inputList:["About yourself","Choose Company","Choose Plan","Details"],form:"motor",stateList:[O.b.MORE,O.b.CHOOSECOMPANY,O.b.CHOOSEPLAN,O.b.DETAILFORM],stateDescriptions:[{main:"Tell us more about yourself"},{main:" "},{main:" "},{main:"Details"}],charged:t})}},{key:"renderMotorForms",value:function(){var e=this.state.formIndex,t=this.props.userDetails,a=!m.a.isEmpty(t);switch(e){case O.b.MORE.index:return d.a.createElement(ne,{isLoggedIn:a});case O.b.CHOOSECOMPANY.index:return d.a.createElement(he,{isLoggedIn:a});case O.b.CHOOSEPLAN.index:return d.a.createElement(Se,{isLoggedIn:a});case O.b.DETAILFORM.index:return d.a.createElement(Le,{isLoggedIn:a,piggyCallback:this.changeUserDetails});default:return d.a.createElement($,{isLoggedIn:a})}}},{key:"render",value:function(){var e=this,t=this.props,a=t.constants,r=t.charged,n=t.motorPromoGiveAway;if(!a||void 0===n)return null;var o=E.d?"car insurance, motor insurance, auto insurance, vehicle insurance, car insurance quotes, compare car insurance, cheapest car insurance, car insurance quotes online":"";return d.a.createElement(u.Fragment,null,d.a.createElement(p.Helmet,null,d.a.createElement("meta",{name:"keywords",content:o}),d.a.createElement("title",null,"PolicyPal 2.0 - Motor Insurance"),d.a.createElement("meta",{name:"title",content:"PolicyPal 2.0 - Motor Insurance"}),d.a.createElement("meta",{name:"description",content:"Browse products for motor insurance."})),r?null:this.renderStepProgress(),this.renderMotorForms(),d.a.createElement(S.a,{ref:function(t){e.refresher||t.invokeNewTimer(),e.refresher=t}}))}}]),t}(u.Component);Te.defaultProps={constants:null,charged:null,motorPromoGiveAway:void 0,userDetails:null};t.default=Object(g.a)(Object(f.b)(function(e){return{formState:e.insurance.formState,constants:e.insurance.constants,charged:e.insurance.charged,userDetails:e.userDetails.data,motorPromoGiveAway:e.insurance.promoGiveaways.motor}},function(e){return{resetStoreForm:function(t){return e(Object(h.b)(t))},resetInsuranceForm:function(){return e(Object(O.H)())},getConstantsData:function(){e(Object(O.w)())},changeForm:function(t,a,r){return e(Object(h.a)(t,a,r))},getPromoGiveaways:function(){e(Object(O.A)("motor"))},resetCompare:function(){e(Object(_.g)())},clearData:function(){e(Object(y.f)())}}})(Te))},519:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var r=a(3),n=a(5),o=a.n(n),i=a(25),s=a.n(i),c=function(e){return"https://webassets.policypal.com/insurer_logos/".concat(e,".png")},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};if(Object.keys(e).length>0){var a=e.insurer_slug,n=void 0===a?"":a,i=e.product_slug,l=void 0===i?"":i,m=e.values,u=void 0===m?{}:m,d=e.price,p=void 0===d?"":d,f=Object(r.a)({},o.a.pick(e,["insurer_slug","insurer_name","product_slug","product_name","coverage_level"]),function(e){for(var t=Object.keys(e),a={},r=0;r<t.length;r++){var n=t[r],i=e[n];switch(n){case"start_date":case"end_date":case"pet_birth_date":var c=o.a.isObject(i)?i.value:i;a[n]=s()(c).format("DD/MM/YYYY");break;case"trip_type":case"plan_type":case"num_children":case"num_adult":a[n]=i.value;break;case"region":case"countries":a[n]=o.a.isArray(i.value)?Array.from(i.value,function(e){return e.value}):i.value.value;break;default:a[n]=i}}return a}(u||{}),{id:"".concat(n,"__").concat(l),product_image:c(n),quantity:1});t=Object(r.a)({content_ids:[f.id],content_name:f.product_name,content_type:"product",contents:[f]},p?{currency:"SGD",value:Number(p.replace("$",""))}:{})}return t}},553:function(e,t,a){},583:function(e,t,a){"use strict";var r=a(12),n=a(11),o=a(14),i=a(13),s=a(15),c=a(2),l=a(1),m=a.n(l),u=a(3),d=a(5),p=a.n(d),f=a(213),h=a(6),g=a(35),b=a(57),v=a(493),y=a(140),_=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={errorString:null},a.handleSubmit=a.handleSubmit.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"handleSubmit",value:function(e){var t=this.props,a=t.onConfirm,r=t.category,n=t.noEmail,o=n?[]:["email"],i=Object(y.b)(e,[].concat(o,["disclaimer"]));n||!i.email?p.a.isEmpty(e.disclaimer)?this.setState({errorString:"Please agree to the terms to proceed."}):p.a.isEmpty(i)?(this.setState({errorString:null}),a(Object(u.a)({},e,{category:r}))):this.setState({errorString:"Please fill in all fields!"}):this.setState({errorString:"Invalid email!"})}},{key:"render",value:function(){var e=this.state.errorString,t=this.props,a=t.handleSubmit,r=t.form,n=t.change,o=t.noEmail;return m.a.createElement("form",{onSubmit:a(this.handleSubmit)},m.a.createElement("div",{className:"mid-container"},m.a.createElement(h.z,{noGutters:!0},o?null:m.a.createElement(h.f,{xs:12},m.a.createElement(b.a,{form:r,change:n,name:"email",placeholderString:"",size:"medium",zIndex:99,desc:"Email Address"})),m.a.createElement(h.f,{xs:12},m.a.createElement(v.a,{form:r,change:n,name:"disclaimer",type:"checkbox",options:[{key:"disclaimer",description:"I agree to store this policy in my PolicyPal account after purchase, in accordance with the Personal Data Protection Act."}],sizeInSM:12,desc:""})),e?m.a.createElement(h.f,{xs:12},m.a.createElement("p",{className:"error-string"},e)):null)),m.a.createElement("div",{className:"button-container"},m.a.createElement(g.a,{type:"submit",className:"checkout-button",variant:"medium-flat-green",width:166,height:72},m.a.createElement("p",null,"Confirm"))))}}]),t}(l.Component);_.defaultProps={category:null,noEmail:!1};var O=Object(f.a)({form:"redirect-form"})(_),E=a(105),j=(a(553),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={category:null},a.openRedirectPopup=a.openRedirectPopup.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"openRedirectPopup",value:function(e){this.setState({category:e}),setTimeout(this.popupRef.openPopup,100)}},{key:"render",value:function(){var e=this,t=this.state.category,a=this.props,r=a.onConfirm,n=a.noEmail;return m.a.createElement(E.a,{ref:function(t){e.popupRef=t}},m.a.createElement(l.Fragment,null,m.a.createElement("div",{className:"redirect-popup"},m.a.createElement("div",{className:"upper-container"},m.a.createElement("p",null,"Kindly fill up the following section before we redirect you to the insurer's page. The details below will be used for verification with the insurer after purchase.")),m.a.createElement(O,{noEmail:n,closPopup:function(){return e.popupRef.closePopup()},onConfirm:r,category:t}))))}}]),t}(l.Component));j.defaultProps={noEmail:!1};t.a=j},591:function(e,t,a){"use strict";var r=a(12),n=a(11),o=a(14),i=a(13),s=a(15),c=a(2),l=a(1),m=a.n(l),u=a(22),d=a(96),p=a(134),f=a(638),h=a.n(f),g=a(639),b=a.n(g),v=a(106),y=(a(640),function(e){function t(e){var a;Object(r.a)(this,t);var n=(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).props.initial;return a.state={oldValue:n},a.handleChange=a.handleChange.bind(Object(c.a)(Object(c.a)(a))),a.handleOnInputKeyDown=a.handleOnInputKeyDown.bind(Object(c.a)(Object(c.a)(a))),a.handleInputChange=a.handleInputChange.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.name,a=e.formStore,r=e.change,n=e.initial;a&&a[t]?this.setState({oldValue:a[t]}):r(t,n)}},{key:"handleChange",value:function(e,t){var a=this.state.oldValue,r=this.props,n=r.max,o=r.min,i=r.name,s=r.increment,c=r.change,l=t?Math.max(a-s,o):Math.min(a+s,n);this.setState({oldValue:l}),c(i,l),e.preventDefault()}},{key:"handleOnInputKeyDown",value:function(e){13===e.keyCode&&(this.handleInputChange(),e.preventDefault())}},{key:"handleInputChange",value:function(){var e=this.state.oldValue,t=this.props,a=t.min,r=t.max,n=t.name,o=t.change,i=Math.floor(this.inputField.value);!Number.isNaN(i)&&a<=i&&i<=r?o(n,i):o(n,e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.name,r=t.unit,n=t.desc,o=t.extraInfo,i=t.errorString,s=t.disableTyping,c=i?"error":"";return m.a.createElement(v.a,{desc:n,ref:function(t){return e.formParent=t},extraInfo:o,errorString:i},m.a.createElement("div",{className:"spinner-container ".concat(c),tabIndex:0,role:"button"},m.a.createElement("button",{onClick:function(t){return e.handleChange(t,!0)},tabIndex:-1},m.a.createElement("img",{src:b.a,alt:"minus.svg"})),m.a.createElement("div",{className:"inner-container",onBlur:this.handleInputChange},m.a.createElement(d.a,{disabled:s,name:a,component:"input",size:"3",tabIndex:-1,onKeyDown:function(t){return e.handleOnInputKeyDown(t)},ref:function(t){return e.inputField=t}}),m.a.createElement("div",{className:"unit-container"},m.a.createElement("p",null,r))),m.a.createElement("button",{onClick:function(t){return e.handleChange(t,!1)},tabIndex:-1},m.a.createElement("img",{src:h.a,alt:"plus.svg"}))))}}]),t}(l.Component));y.defaultProps={unit:"",desc:null,formStore:null,extraInfo:null,errorString:null,disableTyping:!1};t.a=Object(u.b)(function(e,t){return{formStore:Object(p.a)(t.form)(e)}},null)(y)},592:function(e,t,a){e.exports=a.p+"static/media/TagLabel.8f22645f.svg"},635:function(e,t,a){e.exports=a.p+"static/media/Chest.8cdb5cd2.svg"},638:function(e,t,a){e.exports=a.p+"static/media/plus.809f9c39.svg"},639:function(e,t,a){e.exports=a.p+"static/media/minus.779e715c.svg"},640:function(e,t,a){},641:function(e,t,a){"use strict";var r=a(12),n=a(11),o=a(14),i=a(13),s=a(15),c=a(1),l=a.n(c),m=a(481),u=a(592),d=a.n(u),p=(a(642),function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props,t=e.history,a=e.className,r=e.teaser;return r?l.a.createElement("div",{className:["voucher-tag-container",a].join(" ")},l.a.createElement("img",{src:d.a,alt:"TagLabel.svg"}),r.is_url&&r.value?l.a.createElement("button",{type:"button",onClick:function(){return t.push(r.value)}},r.name):l.a.createElement("span",null,r.name)):null}}]),t}(c.Component));p.defaultProps={className:"",teaser:null},t.a=Object(m.a)(p)},642:function(e,t,a){},647:function(e,t,a){"use strict";var r=a(12),n=a(11),o=a(14),i=a(13),s=a(15),c=a(1),l=a.n(c),m=a(6),u=a(35),d=(a(648),function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props,t=e.logo,a=e.logoName,r=e.insurerName,n=e.insurerDesc,o=e.onClick;return l.a.createElement(m.z,{className:"header-desc-with-button-container",noGutters:!0},l.a.createElement(m.f,{className:"insurer-logo-container"},l.a.createElement("div",{className:"company-logo-container"},l.a.createElement("img",{className:"company-logo",src:t,alt:a}))),l.a.createElement(m.f,{className:"insurer-desc-container"},l.a.createElement("div",{className:"insurer-desc-top"},l.a.createElement("span",{className:"insurer-name"},r)),l.a.createElement("p",{className:"desc"},n)),o?l.a.createElement("div",{className:"header-button-container"},l.a.createElement(u.a,{variant:"medium-flat-green",width:165,height:72,onClick:o},l.a.createElement("p",null,"Continue"))):null)}}]),t}(c.Component));d.defaultProps={onClick:null},t.a=d},648:function(e,t,a){},838:function(e,t,a){e.exports=a.p+"static/media/policypal-car-insurance-1.625d2d48.svg"},839:function(e,t,a){e.exports=a.p+"static/media/policypal-car-insurance-2.5004662d.svg"},840:function(e,t,a){e.exports=a.p+"static/media/policypal-car-insurance-3.216c16cd.svg"},841:function(e,t,a){e.exports=a.p+"static/media/Car.30f36f59.svg"},845:function(e,t,a){},846:function(e,t,a){},847:function(e,t,a){},848:function(e,t,a){},851:function(e,t,a){}}]);
//# sourceMappingURL=motor.22ddb2f0.chunk.js.map