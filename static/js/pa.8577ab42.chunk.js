(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{1000:function(e,t,a){e.exports=a.p+"static/media/policypal-personal-accident-insurance-2.eaeeef41.svg"},1001:function(e,t,a){e.exports=a.p+"static/media/policypal-personal-accident-insurance-3.1e228c5b.svg"},1002:function(e,t,a){e.exports=a.p+"static/media/Family.453c8112.svg"},1003:function(e,t,a){},1004:function(e,t,a){e.exports=a.p+"static/media/PABasic.a37e0e4e.svg"},1005:function(e,t,a){e.exports=a.p+"static/media/PAEssential.ba5a7d59.svg"},1006:function(e,t,a){e.exports=a.p+"static/media/PAElite.77ea7f2e.svg"},1152:function(e,t,a){"use strict";a.r(t);var n=a(13),r=a(15),i=a(14),s=a(11),c=a(16),o=a(2),l=a(5),u=a.n(l),d=a(1),p=a.n(d),m=a(186),f=a(22),h=a(60),b=a(481),g=a(69),y=a(23),v=a(79),O=a(52),F=a(529),j=a(513),D=a(999),S=a.n(D),E=a(1e3),_=a.n(E),I=a(1001),x=a.n(I),P=a(3),k=a(135),A=a(213),C=a(6),N=a(526),T=a.n(N),w=a(1002),M=a.n(w),L=a(636),z=a.n(L),R=a(35),U=a(493),B=a(592),G=a(183),H=a(501),V=a(519),K=a(143),Y=a(141),W=a(140),Q=a(18),q=a(12),J=function(e){function t(e){var a;Object(n.a)(this,t);var s=(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).props.paFields,c=Object(q.o)(s.form_fields);return a.state={errorStringData:{},paData:c,minDate:Object(Q.i)(c.start_date.min_date)},a.handleSubmit=a.handleSubmit.bind(Object(o.a)(Object(o.a)(a))),a.handleCloseEdit=a.handleCloseEdit.bind(Object(o.a)(Object(o.a)(a))),a.handleRevert=a.handleRevert.bind(Object(o.a)(Object(o.a)(a))),a.validateForm=a.validateForm.bind(Object(o.a)(Object(o.a)(a))),a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.storeForm,a=e.setCloseCallBack;this.originalValues=t,a&&a(this.handleRevert)}},{key:"validateForm",value:function(e){var t=this.state,a=t.paData,n=t.minDate,r=this.props.constants,i=["plan_type","my_occupation","start_date"];"Me & My Spouse"===e.plan_type&&i.push("spouse_occupation"),"Me & My Family"===e.plan_type&&(i.push("family_members"),i.push("num_children"),"2 Adults"===e.family_members&&i.push("spouse_occupation"));var s=Object(W.b)(e,i,{plan_type:{type:"ARRAY",data:a.plan_type.options},family_members:{type:"ARRAY",data:a.family_members.options},num_children:{type:"ARRAY",data:u.a.range(a.num_children.min,a.num_children.max+1,1)},my_occupation:{type:"ARRAY",data:r.occupations},spouse_occupation:{type:"ARRAY",data:r.occupations},start_date:{type:"DATE",start:n}});return this.setState({errorStringData:s}),s}},{key:"handleSubmit",value:function(e){var t=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.props,r=n.closePopUp,i=n.setInsurFormState,s=n.setSubmit,c=n.storeForm,o=n.submitCallback,l=n.history,d=this.validateForm(a?e:c),p=u.a.isEmpty(d);if(!Object(W.a)(p,a,d,function(e){return t.setState({errorStringData:e})},function(){return t.handleSubmit(c,!1)})&&u.a.isEmpty(d)){if(s(),this.originalValues=c,o)o();else{Object(O.b)("PersonalAccident - Get Quote",{event_category:"PersonalAccident",event_label:"Button - PersonalAccident - Get Quote"});var m="Me & My Spouse"===e.plan_type||"Me & My Family"===e.plan_type&&"2 Adults"===e.family_members?{"occupation-spouse":e.spouse_occupation}:{},f="Me & My Family"===e.plan_type?{children:e.num_children}:{};Object(O.a)("PAGetQuoteA",Object(P.a)({type:e.plan_type,"occupation-self":e.my_occupation},m,f))}r&&r(),i(y.b.CHOOSEPLAN.index),l.push("/personal-accident".concat(y.b.CHOOSEPLAN.path))}}},{key:"handleRevert",value:function(){var e=this,t=this.props,a=t.change;(0,t.resetForm)(),Object.keys(this.originalValues).forEach(function(t){a(t,e.originalValues[t])})}},{key:"handleCloseEdit",value:function(){(0,this.props.closePopUp)(this.handleRevert)}},{key:"renderSpouse",value:function(){var e=this,t=this.state.errorStringData,a=this.props,n=a.change,r=a.form,i=a.constants,s=a.storeForm;return s&&("Me & My Spouse"===s.plan_type||"Me & My Family"===s.plan_type&&"2 Adults"===s.family_members)?p.a.createElement(C.f,{className:"input-padding-left",xs:12,sm:5},p.a.createElement(G.a,{form:r,change:n,name:"spouse_occupation",placeholderString:"All Occupations",dropList:i.occupations,size:"medium",zIndex:95,desc:"My spouse works as a",errorString:t.spouse_occupation,validateForm:function(){return e.validateForm(s)}})):p.a.createElement(C.f,{className:"input-padding-left",xs:12,sm:5})}},{key:"renderFamily",value:function(){var e=this,t=this.state,a=t.errorStringData,n=t.paData,r=this.props,i=r.change,s=r.form,c=r.storeForm;return c&&"Me & My Family"===c.plan_type?p.a.createElement(d.Fragment,null,p.a.createElement(C.f,{className:"justify-content-center icon icon-car d-none d-sm-flex",sm:2},p.a.createElement("img",{src:M.a,alt:"Family.svg"})),p.a.createElement(C.f,{className:"input-padding-right",xs:12,sm:5},p.a.createElement(U.a,{form:s,change:i,name:"family_members",type:"text-selection",noEmptyTextSelection:!0,options:u.a.map(n.family_members.options,function(e){return{key:e,description:e}}),sizeInSM:6,zIndex:98,desc:n.family_members.display_name,errorString:a.family_members,validateForm:function(){return e.validateForm(c)}})),p.a.createElement(C.f,{className:"input-padding-left",xs:12,sm:5},p.a.createElement(B.a,{form:s,change:i,zIndex:97,name:"num_children",unit:"Children",min:n.num_children.min,max:n.num_children.max,increment:1,initial:n.num_children.min,desc:n.num_children.display_name||"",errorString:a.num_children,validateForm:function(){return e.validateForm(c)}}))):null}},{key:"renderStartDate",value:function(){var e=this.props.storeForm;try{if(e&&e.start_date){var t=Object(Q.j)(e.start_date),a=new Date(t);a.setFullYear(a.getFullYear()+1),a.setDate(a.getDate()-1);var n=Object(Q.c)(t),r=Object(Q.c)(a);return p.a.createElement(d.Fragment,null,p.a.createElement(C.f,{className:"input-padding-right",xs:12,sm:5}),p.a.createElement(C.f,{className:"justify-content-center icon icon-car d-none d-sm-flex",sm:2}),p.a.createElement(C.f,{className:"input-padding-right pa-start-date",xs:12,sm:10},p.a.createElement("p",null,p.a.createElement("span",null,"I will like the plan to start from "),p.a.createElement("span",null,p.a.createElement("b",null,n)),p.a.createElement("span",null," to "),p.a.createElement("span",null,p.a.createElement("b",null,r)))))}}catch(i){return null}return null}},{key:"render",value:function(){var e=this,t=this.state,a=t.errorStringData,n=t.paData,r=t.minDate,i=this.props,s=i.handleSubmit,c=i.isPopUp,o=i.change,l=i.form,d=i.constants,m=i.storeForm;return p.a.createElement("div",{className:"landing-form-container"},c?p.a.createElement("p",{className:"edit-header"},"Edit Personal Accident Insurance Details"):null,p.a.createElement("form",{onSubmit:s(this.handleSubmit)},p.a.createElement(C.z,{className:"input-offset",noGutters:!0},p.a.createElement(C.f,{className:"justify-content-center icon icon-car d-none d-sm-flex",sm:2},p.a.createElement("img",{src:T.a,alt:"Avatar.svg",style:{marginTop:-11}})),p.a.createElement(C.f,{xs:12,sm:10},p.a.createElement(U.a,{form:l,change:o,name:"plan_type",type:"text-selection",noEmptyTextSelection:!0,options:u.a.map(n.plan_type.options,function(e){return{key:e,description:e}}),sizeInSM:4,zIndex:99,desc:n.plan_type.display_name,errorString:a.plan_type,validateForm:function(){return e.validateForm(m)}})),this.renderFamily(),p.a.createElement(C.f,{className:"justify-content-center icon icon-car d-none d-sm-flex",sm:2}),p.a.createElement(C.f,{className:"input-padding-right",xs:12,sm:5},p.a.createElement(G.a,{form:l,change:o,name:"my_occupation",placeholderString:"All Occupations",dropList:d.occupations,size:"medium",zIndex:96,desc:"I work as",errorString:a.my_occupation,validateForm:function(){return e.validateForm(m)}})),this.renderSpouse(),p.a.createElement(C.f,{className:"justify-content-center icon icon-car d-none d-sm-flex",sm:2},p.a.createElement("img",{src:z.a,alt:"Chest.svg",style:{marginTop:-11}})),p.a.createElement(C.f,{className:"input-padding-right",xs:12,sm:5},p.a.createElement(H.a,{form:l,change:o,name:"start_date",errorString:a.start_date,validateForm:function(){return e.validateForm(m)},size:"medium",zIndex:94,startDate:r,desc:"Start Date"})),this.renderStartDate()),p.a.createElement(C.z,{className:"align-items-center button-container",noGutters:!0},c?p.a.createElement(C.f,{className:"justify-content-center button",xs:12},p.a.createElement(C.z,{noGutters:!0},p.a.createElement(C.f,{className:"button-container-inner",xs:12,sm:6},p.a.createElement(R.a,{className:"button-left",variant:"medium-flat",width:165,height:72,onClick:function(){return e.handleCloseEdit()}},p.a.createElement("p",null,"Cancel"))),p.a.createElement(C.f,{className:"button-container-inner",xs:12,sm:6},p.a.createElement(R.a,{type:"submit",variant:"medium-flat-green",width:165,height:72},p.a.createElement("p",null,"Save"))))):p.a.createElement(C.f,{className:"justify-content-center button",xs:12},p.a.createElement(R.a,{type:"submit",variant:"medium-flat-green",width:165,height:72},p.a.createElement("p",null,"Get Quote"))))),p.a.createElement(V.a,{ref:function(t){return e.resPopup=t}}))}}]),t}(d.Component);J.defaultProps={isPopUp:!1,setCloseCallBack:null,closePopUp:null,submitCallback:null,storeForm:null};var $=Object(b.a)(Object(A.a)({form:"pa",destroyOnUnmount:!1})(Object(f.b)(function(e){return{storeForm:Object(k.a)("pa")(e),isRevert:e.editForm.isRevert,constants:e.insurance.constants}},function(e){return{resetForm:function(){e(Object(h.b)("pa"))},setInsurFormState:function(t){e(Object(y.K)(t))},setSubmit:function(){e(Object(K.c)())},setRestrictionPopup:function(t){e(Object(Y.d)(t))}}})(J))),X=a(530),Z=(a(1003),function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.paFields,a=e.paPromoGiveAway;return p.a.createElement("div",{className:"pa-main-container"},p.a.createElement(X.a,{img1:S.a,img2:_.a,img3:x.a,imgAlt:"PolicyPal Personal Accident Insurance",promo:a,desc:p.a.createElement(d.Fragment,null,p.a.createElement("p",null,"Get 5% Cashback upon purchase of"),p.a.createElement("p",null,"Personal Accident Insurance!"))},p.a.createElement($,{paFields:t})))}}]),t}(d.Component));Z.defaultProps={paPromoGiveAway:null};var ee=Z,te=a(97),ae=function(e){function t(e){var a;Object(n.a)(this,t);var s=(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).props,c=s.loading,o=s.paFields,l=s.history;return(0,s.clearData)(),o||(c(function(){return l.push("/")}),a.props.getPAFields()),a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setFormState,a=e.history;t(y.b.MAIN.index),window.scrollTo(0,0),Object(O.c)({page_title:"PersonalAccident",page_path:"/personal-accident".concat(a.location.search)}),Object(O.a)("PAFormS")}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.paFields,n=t.loadingEnd;!e.paFields&&a&&n()}},{key:"render",value:function(){var e=this.props,t=e.paFields,a=e.paPromoGiveAway;return t?p.a.createElement(ee,{paFields:t,paPromoGiveAway:a}):null}}]),t}(d.Component);ae.defaultProps={paFields:null,paPromoGiveAway:null};var ne=Object(b.a)(Object(f.b)(function(e){return{paPromoGiveAway:e.insurance.promoGiveaways.pa,paFields:e.pa.paFields}},function(e){return{getPAFields:function(){e(Object(v.g)())},loading:function(t,a,n){e(Object(te.d)(t,a,n))},loadingEnd:function(){e(Object(te.c)())},clearData:function(){e(Object(v.f)())},setFormState:function(t){e(Object(y.K)(t))}}})(ae)),re=a(1004),ie=a.n(re),se=a(1005),ce=a.n(se),oe=a(1006),le=a.n(oe),ue=a(527),de=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"getAmpTags",value:function(e,t){try{var a=null;return u.a.map(e.info.discount,function(e){a=e.display}),u.a.isEmpty(a)&&(a="0%"),{type:t,partner:e.info.insurer_slug,price:e.policyInfo[t].net_price,discount:a}}catch(n){console.log("Travel choose plan Buy now Amp tag failed: ".concat(n.message))}return{}}},{key:"render",value:function(){var e=this,t=this.props.paFields;return p.a.createElement("div",{className:"pa-compare-view"},p.a.createElement(ue.a,Object.assign({},this.props,{category:"pa",form:"pa",initialIndex:1,planImages:{basic:ie.a,essential:ce.a,elite:le.a},editForm:{valuesToListen:[{value:"plan_type",desc:"For"},{value:"family_members",desc:"Members"},{value:"num_children",desc:"Children"},{value:"start_date",desc:"Start date"},{value:"my_occupation",desc:"My occupation"},{value:"spouse_occupation",desc:"Spouse's occupation"}],conditions:{key:"plan_type",values:{Myself:["plan_type","start_date","my_occupation"],"Me & My Spouse":["plan_type","start_date","my_occupation","spouse_occupation"],"Me & My Family":["plan_type","start_date","num_children","family_members","my_occupation"]}},editDetail:p.a.createElement($,{isPopUp:!0,paFields:t})},trackingTags:{basic:function(t){Object(O.b)("PersonalAccident - BuyNowBasic",{event_category:"PersonalAccident",event_label:"Button - PersonalAccident - BuyNowBasic"}),Object(O.a)("PABuyNowA",e.getAmpTags(t,"basic"))},essential:function(t){Object(O.b)("PersonalAccident - BuyNowEssential",{event_category:"PersonalAccident",event_label:"Button - PersonalAccident - BuyNowEssential"}),Object(O.a)("PABuyNowA",e.getAmpTags(t,"essential"))},elite:function(t){Object(O.b)("PersonalAccident - BuyNowElite",{event_category:"PersonalAccident",event_label:"Button - PersonalAccident - BuyNowElite"}),Object(O.a)("PABuyNowA",e.getAmpTags(t,"elite"))}},forceFixedOnDesktop:!0})))}}]),t}(d.Component);de.defaultProps={};var pe=de,me=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.setFormState)(y.b.CHOOSEPLAN.index),Object(O.c)({page_title:"PersonalAccident - Choose Plan",page_path:"/personal-accident/chooseplan"}),Object(O.a)("PAResultsS")}},{key:"render",value:function(){var e=this.props,t=e.paForm,a=e.getPlans,n=e.getInsurersList,r=e.clearData,i=e.setFormState,s=e.plansData,c=e.validInsurersList,o=e.paFields,l=e.history;return o?p.a.createElement(pe,{paFields:o,mainForm:t,parseForm:v.k,getPlans:a,getInsurersList:n,clearData:r,setSelectedPlanData:this.props.setSelectedPlanData,setFormState:function(){i(y.b.DETAILFORM.index),l.push("/personal-accident".concat(y.b.DETAILFORM.path))},loadingFailBackState:function(){l.goBack()},plansData:s,validInsurersList:c}):null}}]),t}(d.Component);me.defaultProps={plansData:null,validInsurersList:null};var fe=Object(b.a)(Object(f.b)(function(e){return{paFields:e.pa.paFields,paForm:Object(k.a)("pa")(e),plansData:e.pa.plansData,validInsurersList:e.pa.validInsurersList}},function(e){return{setFormState:function(t){e(Object(y.K)(t))},getPlans:function(t){e(Object(v.h)(t))},getInsurersList:function(t){e(Object(v.j)(t))},clearData:function(){e(Object(v.f)())},setSelectedPlanData:function(t){e(Object(v.l)(t))}}})(me)),he=a(76),be=a(4),ge=a.n(be),ye=a(37),ve=a(8),Oe=a(534),Fe=a(184),je=a(57),De=["name","nationality","id_type","nric","birth_date","gender"],Se=["email","postal","mobile_number","race","marital_status"],Ee=["occupation","industry"],_e=["education"],Ie=function(e){function t(e){var a;Object(n.a)(this,t);var s=(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).generateTabsNames();return a.state={errorStringData:{},errorString:null,tabs:s.tabs,formNames:s.formNames,prefix:""},a.handleSubmit=a.handleSubmit.bind(Object(o.a)(Object(o.a)(a))),a.validateForm=a.validateForm.bind(Object(o.a)(Object(o.a)(a))),a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"getFormFields",value:function(e,t){return u.a.map(t,function(t){return"".concat(e).concat(t)})}},{key:"validateForm",value:function(){var e=Object(ve.a)(ge.a.mark(function e(t){var a,n,r,i,s,c,o,l=this;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.formNames,n=[],r=null,i=-1,s=u.a.reduce(a,function(e,a,r){var s={},c="";if(""===a){var o=[].concat(Object(ye.a)(l.getFormFields(a,De)),Object(ye.a)(l.getFormFields(a,Se)),Object(ye.a)(l.getFormFields(a,Ee)));s=Object(W.b)(t,o),c="Myself"}else if("spouse-"===a){var d=[].concat(Object(ye.a)(l.getFormFields(a,De)),Object(ye.a)(l.getFormFields(a,Ee)));s=Object(W.b)(t,d),c="Spouse"}else{var p=[].concat(Object(ye.a)(l.getFormFields(a,De)),Object(ye.a)(l.getFormFields(a,_e)));s=Object(W.b)(t,p),c="Child ".concat(a.substring(u.a.findIndex(a,function(e){return"_"===e})+1,a.length-1))}return u.a.isEmpty(s)||(n.push(c),-1===i&&(i=r)),Object(P.a)({},e,s)},{}),this.setState({errorStringData:s}),n.length>0){for(r="Errors found in form(s): ",c=0;c<n.length;++c)o=c!==n.length-1?", ":"",r="".concat(r).concat(n[c]).concat(o);this.setState({errorString:[p.a.createElement("p",{className:"error-string",key:"error-1"},r)]})}else this.setState({errorString:null});return e.abrupt("return",{errorResult:s,errorTabIndex:i});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(ve.a)(ge.a.mark(function e(t){var a,n,r,i,s,c,o=this,l=arguments;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(l.length>1&&void 0!==l[1])||l[1],n=this.props,r=n.submitCallback,i=n.storeForm,e.next=4,this.validateForm(a?t:i,!0);case 4:if(s=e.sent,c=u.a.isEmpty(s.errorResult),!Object(W.a)(c,a,s.errorResult,function(e){return o.setState({errorStringData:e,errorString:null})},function(){return o.handleSubmit(i,!1)})){e.next=8;break}return e.abrupt("return");case 8:c?(Object(O.b)("PersonalAccident - DetailForm - Checkout",{event_category:"PersonalAccident",event_label:"PersonalAccident - DetailForm - Checkout"}),Object(O.a)("PACheckoutA",{idtype:t.id_type,nationality:t.nationality,gender:t.gender,marital:t.marital_status,race:t.race,occupation:t.occupation,industry:t.industry}),r()):this.tabView&&-1!==s.errorTabIndex&&this.tabView.wrappedInstance.goToIndex(s.errorTabIndex),window.scrollTo(0,document.body.scrollHeight);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updatePrefix",value:function(e){this.setState({prefix:e})}},{key:"generateTabsNames",value:function(){var e=this,t=this.props.paForm,a=[],n=[""],r="Me & My Spouse"===t.plan_type,i="Me & My Family"===t.plan_type;if(a.push({desc:"Me",onClick:function(){e.updatePrefix("")}}),r||i&&"2 Adults"===t.family_members){a.push({desc:"Spouse",onClick:function(){e.updatePrefix("spouse-")}}),n.push("spouse-")}if(i)for(var s=function(t){var r="fam-child_".concat(t+1,"-");a.push({desc:"Child ".concat(t+1),onClick:function(){e.updatePrefix(r)}}),n.push(r)},c=0;c<t.num_children;++c)s(c);return{tabs:a.length>1?a:null,formNames:n}}},{key:"renderEmail",value:function(){var e=this,t=this.state,a=t.errorStringData,n=t.prefix,r=this.props,i=r.form,s=r.change,c=r.storeForm;return""===n?p.a.createElement(C.f,{xs:12},p.a.createElement(je.a,{form:i,change:s,name:"".concat(n,"email"),placeholderString:"",size:"medium",zIndex:99,desc:"Email Address",errorString:a["".concat(n,"email")],validateForm:function(){return e.validateForm(c)}})):null}},{key:"renderOccupationIndustry",value:function(){var e=this,t=this.state,a=t.errorStringData,n=t.prefix,r=this.props,i=r.form,s=r.change,c=r.constants,o=r.storeForm;return""===n||"spouse-"===n?p.a.createElement(d.Fragment,null,p.a.createElement(C.f,{className:"right-padding",xs:12,sm:6},p.a.createElement(G.a,{form:i,change:s,name:"".concat(n,"occupation"),placeholderString:"Select occupation",dropList:c.occupations,size:"medium",zIndex:92,desc:"Occupation",errorString:a["".concat(n,"occupation")],validateForm:function(){return e.validateForm(o)}})),p.a.createElement(C.f,{className:"left-padding",xs:12,sm:6},p.a.createElement(G.a,{form:i,change:s,name:"".concat(n,"industry"),placeholderString:"Select industry",dropList:c.industries,size:"medium",zIndex:91,desc:"Industry",errorString:a["".concat(n,"industry")],validateForm:function(){return e.validateForm(o)}}))):null}},{key:"renderPostalMobile",value:function(){var e=this,t=this.state,a=t.errorStringData,n=t.prefix,r=this.props,i=r.form,s=r.change,c=r.storeForm;return""===n?p.a.createElement(d.Fragment,null,p.a.createElement(C.f,{className:"right-padding",xs:12,sm:6},p.a.createElement(je.a,{form:i,change:s,name:"".concat(n,"postal"),placeholderString:"",size:"medium",zIndex:90,desc:"Postal Code",errorString:a["".concat(n,"postal")],validateForm:function(){return e.validateForm(c)}})),p.a.createElement(C.f,{className:"left-padding",xs:12,sm:6},p.a.createElement(je.a,{form:i,change:s,name:"".concat(n,"mobile_number"),placeholderString:"",size:"medium",zIndex:89,desc:"Mobile Number",errorString:a["".concat(n,"mobile_number")],validateForm:function(){return e.validateForm(c)}}))):null}},{key:"renderEducation",value:function(){var e=this,t=this.state,a=t.errorStringData,n=t.prefix,r=this.props,i=r.form,s=r.change,c=r.storeForm;return""!==n&&"spouse-"!==n?p.a.createElement(C.f,{className:"right-padding",xs:12,sm:6},p.a.createElement(U.a,{form:i,change:s,name:"".concat(n,"education"),type:"text-selection",noEmptyTextSelection:!0,options:[{key:"Yes",description:"Yes"},{key:"No",description:"No"}],sizeInSM:6,desc:"Full school education",errorString:a["".concat(n,"education")],validateForm:function(){return e.validateForm(c)}})):null}},{key:"renderCenterPortion",value:function(){var e=this,t=this.state,a=t.errorStringData,n=t.prefix,r=this.props,i=r.form,s=r.change,c=r.constants,o=r.storeForm;return""===n?p.a.createElement(d.Fragment,null,p.a.createElement(C.f,{className:"right-padding",xs:12,sm:6},p.a.createElement(G.a,{form:i,change:s,name:"".concat(n,"race"),placeholderString:"Select race",dropList:c.race,size:"medium",zIndex:94,desc:"Race",errorString:a["".concat(n,"race")],validateForm:function(){return e.validateForm(o)}})),p.a.createElement(C.f,{className:"left-padding",xs:12,sm:6},p.a.createElement(U.a,{form:i,change:s,name:"".concat(n,"gender"),type:"text-selection",noEmptyTextSelection:!0,options:[{key:"Male",description:"Male"},{key:"Female",description:"Female"}],sizeInSM:6,desc:"Gender",errorString:a["".concat(n,"gender")],validateForm:function(){return e.validateForm(o)}})),p.a.createElement(C.f,{className:"right-padding",xs:12,sm:6},p.a.createElement(H.a,{form:i,change:s,name:"".concat(n,"birth_date"),size:"medium",zIndex:93,desc:"Date of birth",errorString:a["".concat(n,"birth_date")],validateForm:function(){return e.validateForm(o)},endDate:new Date})),p.a.createElement(C.f,{className:"left-padding",xs:12,sm:6},p.a.createElement(U.a,{form:i,change:s,name:"".concat(n,"marital_status"),type:"text-selection",noEmptyTextSelection:!0,options:[{key:"Single",description:"Single"},{key:"Married",description:"Married"}],sizeInSM:6,desc:"Marital Status",errorString:a["".concat(n,"marital_status")],validateForm:function(){return e.validateForm(o)}}))):p.a.createElement(d.Fragment,null,p.a.createElement(C.f,{className:"right-padding",xs:12,sm:6},p.a.createElement(H.a,{form:i,change:s,name:"".concat(n,"birth_date"),size:"medium",zIndex:93,desc:"Date of birth",errorString:a["".concat(n,"birth_date")],validateForm:function(){return e.validateForm(o)},endDate:new Date})),p.a.createElement(C.f,{className:"left-padding",xs:12,sm:6},p.a.createElement(U.a,{form:i,change:s,name:"".concat(n,"gender"),type:"text-selection",noEmptyTextSelection:!0,options:[{key:"Male",description:"Male"},{key:"Female",description:"Female"}],sizeInSM:6,desc:"Gender",errorString:a["".concat(n,"gender")],validateForm:function(){return e.validateForm(o)}})))}},{key:"renderForm",value:function(){var e=this,t=this.state,a=t.errorStringData,n=t.prefix,r=this.props,i=r.form,s=r.change,c=r.constants,o=r.storeForm;return p.a.createElement(C.z,{className:"main-form",noGutters:!0},this.renderEmail(),p.a.createElement(C.f,{className:"right-padding",xs:12,sm:6},p.a.createElement(je.a,{form:i,change:s,name:"".concat(n,"name"),placeholderString:"",size:"medium",zIndex:98,desc:"Full Name",errorString:a["".concat(n,"name")],validateForm:function(){return e.validateForm(o)}})),p.a.createElement(C.f,{className:"left-padding",xs:12,sm:6},p.a.createElement(G.a,{form:i,change:s,name:"".concat(n,"nationality"),placeholderString:"Select nationality",dropList:c.nationalities,size:"medium",zIndex:97,desc:"Nationality",errorString:a["".concat(n,"nationality")],validateForm:function(){return e.validateForm(o)}})),p.a.createElement(C.f,{className:"right-padding",xs:12,sm:6},p.a.createElement(G.a,{form:i,change:s,name:"".concat(n,"id_type"),placeholderString:"Select ID Type",dropList:c.idTypes,size:"medium",zIndex:96,desc:"Type of ID",errorString:a["".concat(n,"id_type")],validateForm:function(){return e.validateForm(o)}})),p.a.createElement(C.f,{className:"left-padding",xs:12,sm:6},p.a.createElement(je.a,{form:i,change:s,name:"".concat(n,"nric"),placeholderString:"",size:"medium",zIndex:95,desc:"ID Number",errorString:a["".concat(n,"nric")],validateForm:function(){return e.validateForm(o)},toUpper:!0})),this.renderCenterPortion(),this.renderOccupationIndustry(),this.renderPostalMobile(),this.renderEducation())}},{key:"renderInner",value:function(){var e=this,t=this.state.tabs;return t?p.a.createElement(Fe.a,{maxTabWidthPx:128,ref:function(t){return e.tabView=t},className:"tabview-margin-top",tabs:t,isDataFadeOnly:!0,name:"pa-detail-tab"},this.renderForm()):this.renderForm()}},{key:"render",value:function(){var e=this.state.errorString,t=this.props,a=t.form,n=t.change,r=t.planDetails,i=t.isLoggedIn,s=t.piggyCallback,c=t.changePlan;return p.a.createElement(Oe.a,{category:"pa",changePlan:c,handleSubmit:this.props.handleSubmit,onSubmit:this.handleSubmit,change:n,form:a,planDetails:r,isLoggedIn:i,piggyCallback:s,errorArray:e},this.renderInner())}}]),t}(d.Component);Ie.defaultProps={storeForm:null};var xe=Object(A.a)({form:"pa-detail",destroyOnUnmount:!1})(Object(f.b)(function(e){return{storeForm:Object(k.a)("pa-detail")(e),constants:e.insurance.constants}})(Ie)),Pe=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.setFormState)(y.b.DETAILFORM.index),Object(O.c)({page_title:"PersonalAccident - Detail Form",page_path:"/personal-accident/detailform"}),Object(O.a)("PADetailsS")}},{key:"render",value:function(){var e=this.props,t=e.plansData,a=e.isLoggedIn,n=e.setFormState,r=e.profileValues,i=e.piggyCallback,s=e.paForm,c=e.history,o=t,l={logo:he.a.others,logoDesc:"",planName:"",planTotal:null};try{l={logo:he.a[o.info.insurer_slug],logoDesc:"".concat(o.info.insurer_name,".svg"),planName:o.info.product_name,planTotal:"$".concat(o.policyInfo[o.planType].net_price.toFixed(2))}}catch(u){console.log("Get plan details failed")}return p.a.createElement(xe,{paForm:s,selectedData:o,planDetails:l,isLoggedIn:a,piggyCallback:i,changePlan:function(){c.goBack(),Object(O.b)("PersonalAccident - DetailForm - ChangePlan",{event_category:"PersonalAccident",event_label:"PersonalAccident - DetailForm - ChangePlan"})},profileValues:r,submitCallback:function(){n(y.b.CHECKOUT.index),c.push("/personal-accident".concat(y.b.CHECKOUT.path))}})}}]),t}(d.Component);Pe.defaultProps={};var ke=Object(b.a)(Object(f.b)(function(e){return{paForm:Object(k.a)("pa")(e),profileValues:e.userDetails,plansData:e.pa.selectedPlanData}},function(e){return{setFormState:function(t){e(Object(y.K)(t))}}})(Pe)),Ae=a(707),Ce=function(e){function t(e){var a;Object(n.a)(this,t);var s=(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).props,c=s.resetStoreForm,l=s.paPromoGiveAway,u=s.clearData,d=s.history;return a.state={formIndex:0,isInitialLoad:!0},d.replace("/personal-accident".concat(d.location.search)),u(),a.props.resetCompare(),a.props.resetInsuranceForm(),c("pa"),c("pa-detail"),void 0===l&&a.props.getPromoGiveaways(),a.setInitialFormState=a.setInitialFormState.bind(Object(o.a)(Object(o.a)(a))),a.renderStepProgress=a.renderStepProgress.bind(Object(o.a)(Object(o.a)(a))),a.renderPAForms=a.renderPAForms.bind(Object(o.a)(Object(o.a)(a))),a.changeUserDetails=a.changeUserDetails.bind(Object(o.a)(Object(o.a)(a))),a}return Object(c.a)(t,e),Object(s.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a=t.formIndex,n=t.isMounted,r=e.formState,i=e.match,s=e.history;if(n){var c=Object(q.p)("personal-accident",r,a,i,s);if(c&&null!==c.formIndex)return{formIndex:c.formIndex}}return null}}]),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setInitialFormState(),this.setState({isMounted:!0})}},{key:"componentDidUpdate",value:function(e){var t=this.state.isInitialLoad,a=this.props.userDetails;t&&u.a.isEqual(a,e.userDetails)&&this.changeUserDetails()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearData,a=e.resetStoreForm;t(),this.props.resetCompare(),this.props.resetInsuranceForm(),a("pa"),a("pa-detail")}},{key:"setInitialFormState",value:function(){var e=this.props.changeForm,t=new Date;t.setDate(t.getDate()+1),e("pa","my_occupation","Accountant"),e("pa","start_date",Object(Q.b)(t)),this.changeUserDetails()}},{key:"changeUserDetails",value:function(){var e=this.state.isInitialLoad,t=this.props,a=t.userDetails,n=t.changeForm;if(a){var r=a&&a.surname?a.surname:"",i=a&&a.firstName?" ".concat(a.firstName):"";n("pa-detail","email",a.email),n("pa-detail","name","".concat(r).concat(i)),n("pa-detail","nationality",a.nationality),n("pa-detail","id_type",a.id_type),n("pa-detail","nric",a.nric),n("pa-detail","race",a.race),n("pa-detail","gender",u.a.startCase(a.gender)),n("pa-detail","birth_date",a.dateOfBirth),n("pa-detail","marital_status",u.a.startCase(a.marital_status)),n("pa-detail","occupation",a.occupation),n("pa-detail","mobile_number",a.contact),n("pa-detail","postal",a.postal_code),e&&this.setState({isInitialLoad:!1})}}},{key:"renderStepProgress",value:function(){var e=this.state.formIndex,t=this.props.charged;return p.a.createElement(F.a,{maxWidth:"556px",formState:e,inputList:["Choose Plan","Details","Checkout"],form:"pa",stateList:[y.b.CHOOSEPLAN,y.b.DETAILFORM,y.b.CHECKOUT],stateDescriptions:[{main:""},{main:"Details"},{main:"Checkout"}],charged:t})}},{key:"renderPAForms",value:function(){var e=this.state.formIndex,t=this.props,a=t.userDetails,n=t.charged,r=!u.a.isEmpty(a);switch(e){case y.b.CHOOSEPLAN.index:return p.a.createElement(fe,{isLoggedIn:r});case y.b.DETAILFORM.index:return p.a.createElement(ke,{isLoggedIn:r,piggyCallback:this.changeUserDetails});case y.b.CHECKOUT.index:case y.b.SUBMITTED.index:return p.a.createElement(Ae.a,{isLoggedIn:r,charged:n});default:return p.a.createElement(ne,{isLoggedIn:r})}}},{key:"render",value:function(){var e=this,t=this.props,a=t.paPromoGiveAway;if(!t.constants||void 0===a)return null;var n=O.d?"PolicyPal, personal accident insurance, singapore personal accident Insurance, PA insurance, accident insurance, accident insurance singapore, personal accident":"";return p.a.createElement(d.Fragment,null,p.a.createElement(m.Helmet,null,p.a.createElement("meta",{name:"keywords",content:n}),p.a.createElement("title",null,"PolicyPal 2.0 - Personal Accident Insurance"),p.a.createElement("meta",{name:"title",content:"PolicyPal 2.0 - Personal Accident Insurance"}),p.a.createElement("meta",{name:"description",content:"Browse products for personal accident insurance."})),this.renderStepProgress(),this.renderPAForms(),p.a.createElement(j.a,{ref:function(t){e.refresher||t.invokeNewTimer(),e.refresher=t}}))}}]),t}(d.Component);Ce.defaultProps={userDetails:null,charged:null,paPromoGiveAway:void 0,constants:null};t.default=Object(b.a)(Object(f.b)(function(e){return{paPromoGiveAway:e.insurance.promoGiveaways.pa,formState:e.insurance.formState,constants:e.insurance.constants,charged:e.insurance.charged,userDetails:e.userDetails.data}},function(e){return{changeForm:function(t,a,n){return e(Object(h.a)(t,a,n))},resetInsuranceForm:function(){return e(Object(y.H)())},resetStoreForm:function(t){return e(Object(h.b)(t))},getPromoGiveaways:function(){e(Object(y.A)("pa"))},resetCompare:function(){e(Object(g.g)())},clearData:function(){e(Object(v.f)())}}})(Ce))},526:function(e,t,a){e.exports=a.p+"static/media/Avatar.b01356d4.svg"},527:function(e,t,a){"use strict";var n=a(13),r=a(15),i=a(14),s=a(11),c=a(16),o=a(2),l=a(5),u=a.n(l),d=a(1),p=a.n(d),m=a(22),f=a(23),h=a(69),b=a(97),g=a(141),y=a(3),v=a(6),O=a(184),F=a(533),j=a(518),D=a(509),S=["basic","essential","elite","default"],E=function(e){function t(e){var a;Object(n.a)(this,t);var s=(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).props.data;return a.state={tabIndex:0,currentTab:null,tabs:null,policyTypes:s.policyTypes},a.handleTabClick=a.handleTabClick.bind(Object(o.a)(Object(o.a)(a))),a.renderTabs=a.renderTabs.bind(Object(o.a)(Object(o.a)(a))),a}return Object(c.a)(t,e),Object(s.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return e.data.policyTypes!==t.policyTypes?{policyTypes:e.data.policyTypes}:null}}]),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.renderTabs(null,!0);this.props.setPlanType(u.a.lowerCase(e.currentTab))}},{key:"shouldComponentUpdate",value:function(e,t){var a=this.state,n=a.policyTypes,r=a.tabs,i=a.currentTab,s=this.props.data;return u.a.isEqual(n,t.policyTypes)||this.renderTabs(t.policyTypes),r!==t.tabs||i!==t.currentTab||s!==e.data}},{key:"componentDidUpdate",value:function(e,t){var a=this.state,n=a.tabs,r=a.tabIndex,i=this.props,s=i.selectedIndex,c=i.initialIndex;if(n!==t.tabs&&this.categoryTab&&this.categoryTab.wrappedInstance){var o=s&&s!==r;if(o||null===s&&c){var l=o?s:c,u=l<n.length?l:0;return this.categoryTab.wrappedInstance.goToIndex(u,!0),this.setState({tabIndex:u}),void this.props.setSelectedIndex(u)}this.categoryTab.wrappedInstance.goToIndex(r)}}},{key:"handleTabClick",value:function(e,t){this.setState({currentTab:e}),this.props.setPlanType(e),this.props.setSelectedIndex(t)}},{key:"renderTabs",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.state,r=n.policyTypes,i=n.currentTab,s=this.props.planImages,c=t||r,o=0,l=u.a.reduce(S,function(t,a){if(-1!==u.a.findIndex(c,function(e){return e===a})){var n=o,r=s?s[a]:null;t.push({desc:u.a.startCase(a),img:r,onClick:function(){e.handleTabClick(a,n)}}),o+=1}return t},[]),d={currentTab:u.a.lowerCase(l[0].desc)};if(!a){var p=u.a.findIndex(l,function(e){return u.a.lowerCase(e.desc)===i}),m=-1!==p?p:0,f=u.a.lowerCase(l[m].desc);d={tabIndex:m,currentTab:f},this.props.setPlanType(f),this.props.setSelectedIndex(m)}var h=Object(y.a)({},d,{tabs:l});return this.setState(h),h}},{key:"render",value:function(){var e=this,t=this.state,a=t.currentTab,n=t.tabs,r=this.props,i=r.data,s=r.scrollPopUpCallback,c=r.submitCallback,o=r.editForm,l=r.form,u=r.buttonDesc,m=r.forceFixedOnDesktop,f=r.category;if(!i||!n||!a)return null;var h="default"===a?"inner-form-no-tabs":"";return p.a.createElement(d.Fragment,null,p.a.createElement(v.z,{className:"inner-form-container ".concat(h," inner-form-extra-padding"),noGutters:!0},p.a.createElement(O.a,{tabs:n,isDataFadeOnly:!0,isDisableDropdown:!0,big:!0,name:"".concat(l,"-tab"),ref:function(t){return e.categoryTab=t}},[p.a.createElement(F.a,{category:f,key:"overview",className:"overview-container-padding",notAccordion:!0,data:i,currentTab:a,scrollPopUpCallback:s,productChangable:!0,editForm:p.a.createElement(j.a,{submitCallback:c,form:l,headerValue:o.headerValue,valuesToListen:o.valuesToListen,conditions:o.conditions},o.editDetail),buttonDesc:u,forceFixedOnDesktop:m})]),p.a.createElement(D.a,null)))}}]),t}(d.Component);E.defaultProps={initialIndex:0,selectedIndex:null,data:null,planImages:null,buttonDesc:null,forceFixedOnDesktop:!1,category:null};var _=Object(m.b)(function(e){return{selectedIndex:e.compare.selectedIndex}},function(e){return{setSelectedIndex:function(t){e(Object(h.i)(t))},setPlanType:function(t){e(Object(h.h)(t))}}})(E),I=function(e){function t(e){var a;Object(n.a)(this,t);var s=(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).props,c=s.mainForm,l=s.parseForm,u=s.getPlans,d=s.getInsurersList,p=s.loading,m=s.defaultInsurers,h=s.plansData,b=s.validInsurersList,g=s.selectedInsurers,y=s.setSelectedPlanData,v=s.loadingEnd,O=s.setFormState,F=s.loadingFailBackState,j=s.clearData,D=s.trackingTags;try{if(h&&b)a.state={currentInsurers:g,parsedData:Object(f.E)(h,b,g,c.trip_type,function(){return O()},y,v,a.props.setRestrictionPopup,null,D)};else{var S=l(c,m);p(function(){j(),F()},"No available plans found.",3e4,""),u(S),d(S),a.props.setSelectedInsurers(m),a.state={currentInsurers:m,parsedData:null}}}catch(E){}return a.getNewData=a.getNewData.bind(Object(o.a)(Object(o.a)(a))),a.onInsurerClick=a.onInsurerClick.bind(Object(o.a)(Object(o.a)(a))),a}return Object(c.a)(t,e),Object(s.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){try{var a=t.currentInsurers,n=e.plansData,r=e.validInsurersList,i=e.setFormState,s=e.loadingEnd,c=e.mainForm,o=e.setSelectedPlanData,l=e.trackingTags;if(n&&"INVALID"===n[0])return null;if(r&&n){var d=a||{};return!a&&n&&(d=(d=u.a.map(n,function(e){return e.info.insurer_slug})).slice(0,3),e.setSelectedInsurers(d)),{parsedData:Object(f.E)(n,r,d,c.trip_type,function(){i()},o,s,e.setRestrictionPopup,null,l),currentInsurers:d}}}catch(p){return null}return null}}]),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){var e=this,t=this.props,a=t.plansData,n=t.loadingEnd,r=t.loading,i=t.clearData,s=t.loadingFailBackState;a&&"INVALID"===a[0]&&(n(),this.isLoading||(this.isLoading=!0,setTimeout(function(){return r(function(){i(),s(),e.isLoading=!1},"No available plans found.",50,"")},500)))}},{key:"onInsurerClick",value:function(e,t){var a=this.state.parsedData,n=u.a.reduce(a.selectedInsurers,function(e,t){return t&&e.push(t.insurerSlug),e},[]);n[t]=e.insurer_slug,this.setState({currentInsurers:n}),this.props.setSelectedInsurers(n),this.getNewData(n)}},{key:"getNewData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.state.currentInsurers,a=this.props,n=a.loading,r=a.getPlans,i=a.getInsurersList,s=a.clearData,c=a.mainForm,o=a.parseForm,l=a.loadingFailBackState,u=o(c,e||t);s(),n(function(){s(),l()},"No available plans found.",3e4,""),r(u),i(u)}},{key:"render",value:function(){try{var e=this.state.parsedData,t=this.props,a=t.editForm,n=t.form,r=t.planImages,i=t.initialIndex,s=t.buttonDesc,c=t.forceFixedOnDesktop,o=t.category;return e?p.a.createElement(_,{category:o,initialIndex:i,planImages:r,data:e,form:n,editForm:a,scrollPopUpCallback:this.onInsurerClick,submitCallback:this.getNewData,buttonDesc:s,forceFixedOnDesktop:c}):null}catch(l){return null}}}]),t}(d.Component);I.defaultProps={initialIndex:0,plansData:null,validInsurersList:null,selectedInsurers:null,trackingTags:null,planImages:null,defaultInsurers:null,buttonDesc:null,forceFixedOnDesktop:!1,category:null};t.a=Object(m.b)(function(e){return{selectedInsurers:e.compare.selectedInsurers}},function(e){return{loading:function(t,a,n,r){e(Object(b.d)(t,a,n,r))},loadingEnd:function(){e(Object(b.c)())},setRestrictionPopup:function(t){e(Object(g.d)(t))},setSelectedInsurers:function(t){e(Object(h.j)(t))}}})(I)},592:function(e,t,a){"use strict";var n=a(13),r=a(11),i=a(15),s=a(14),c=a(16),o=a(2),l=a(1),u=a.n(l),d=a(22),p=a(96),m=a(135),f=a(639),h=a.n(f),b=a(640),g=a.n(b),y=a(106),v=(a(641),function(e){function t(e){var a;Object(n.a)(this,t);var r=(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).props.initial;return a.state={oldValue:r},a.handleChange=a.handleChange.bind(Object(o.a)(Object(o.a)(a))),a.handleOnInputKeyDown=a.handleOnInputKeyDown.bind(Object(o.a)(Object(o.a)(a))),a.handleInputChange=a.handleInputChange.bind(Object(o.a)(Object(o.a)(a))),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.name,a=e.formStore,n=e.change,r=e.initial;a&&a[t]?this.setState({oldValue:a[t]}):n(t,r)}},{key:"handleChange",value:function(e,t){var a=this.state.oldValue,n=this.props,r=n.max,i=n.min,s=n.name,c=n.increment,o=n.change,l=t?Math.max(a-c,i):Math.min(a+c,r);this.setState({oldValue:l}),o(s,l),e.preventDefault()}},{key:"handleOnInputKeyDown",value:function(e){13===e.keyCode&&(this.handleInputChange(),e.preventDefault())}},{key:"handleInputChange",value:function(){var e=this.state.oldValue,t=this.props,a=t.min,n=t.max,r=t.name,i=t.change,s=Math.floor(this.inputField.value);!Number.isNaN(s)&&a<=s&&s<=n?i(r,s):i(r,e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.unit,r=t.desc,i=t.extraInfo,s=t.errorString,c=t.disableTyping,o=s?"error":"";return u.a.createElement(y.a,{desc:r,ref:function(t){return e.formParent=t},extraInfo:i,errorString:s},u.a.createElement("div",{className:"spinner-container ".concat(o),tabIndex:0,role:"button"},u.a.createElement("button",{onClick:function(t){return e.handleChange(t,!0)},tabIndex:-1},u.a.createElement("img",{src:g.a,alt:"minus.svg"})),u.a.createElement("div",{className:"inner-container",onBlur:this.handleInputChange},u.a.createElement(p.a,{disabled:c,name:a,component:"input",size:"3",tabIndex:-1,onKeyDown:function(t){return e.handleOnInputKeyDown(t)},ref:function(t){return e.inputField=t}}),u.a.createElement("div",{className:"unit-container"},u.a.createElement("p",null,n))),u.a.createElement("button",{onClick:function(t){return e.handleChange(t,!1)},tabIndex:-1},u.a.createElement("img",{src:h.a,alt:"plus.svg"}))))}}]),t}(l.Component));v.defaultProps={unit:"",desc:null,formStore:null,extraInfo:null,errorString:null,disableTyping:!1};t.a=Object(d.b)(function(e,t){return{formStore:Object(m.a)(t.form)(e)}},null)(v)},636:function(e,t,a){e.exports=a.p+"static/media/Chest.8cdb5cd2.svg"},639:function(e,t,a){e.exports=a.p+"static/media/plus.809f9c39.svg"},640:function(e,t,a){e.exports=a.p+"static/media/minus.779e715c.svg"},641:function(e,t,a){},707:function(e,t,a){"use strict";var n=a(37),r=a(3),i=a(13),s=a(11),c=a(15),o=a(14),l=a(16),u=a(1),d=a.n(u),p=a(481),m=a(22),f=a(135),h=a(79),b=a(23),g=a(532),y=a(52),v=a(12),O=function(e){function t(e){var a;Object(i.a)(this,t);var s=(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).props,l=s.paForm,u=s.paDetailsForm,d=s.selectedPlanData,p=s.isAdHoc,m=s.adHocData,f=Object(v.g)(p,m,d,function(){return Object(h.i)(l,u,d)}),b=Object(v.e)("Personal Accident Insurance",p,m,d,f.params),g=p?m.data.session_params:f.params.sessionParams.session_params,y=[],O=p?null:"1 Adult";"2"===g.num_adult&&(y=[{title:"My spouse's occupation",description:g.family[0].occupation}],O="2 Adults");var F=p?null:"0";return a.state=Object(r.a)({headerData:b.headerData,mainDetails:{title:"Insurance",attributes:Object(v.a)([{title:"Plan type",description:g.plan_type},{title:"Family members",description:g.family_members||O},{title:"Number of children",description:g.num_children||F},{title:"My occupation",description:g.occupation}].concat(Object(n.a)(y),[{title:"Start Date",description:g.start_date},{title:"End Date",description:g.end_date}]))},subDetails:a.getSubDetails(f.params.sessionParams)},f),a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.setFormState)(b.b.CHECKOUT.index),Object(y.c)({page_title:"PersonalAccident - Checkout",page_path:"/personal-accident/checkout"}),Object(y.a)("PAReviewS")}},{key:"getSubDetails",value:function(e){var t="Myself"===e.session_params.plan_type,a=Object(v.i)({key:"Myself",leftDetail:{title:"Details",attributes:Object(v.a)([{title:"Email",description:e.session_params.email},{title:"Family Name",description:e.session_params.family_name},{title:"Given Name",description:e.session_params.given_name},{title:"Full Name",description:e.session_params.full_name},{title:"Nationality",description:e.session_params.nationality},{title:"ID type",description:e.session_params.id_type},{title:"ID number",description:e.session_params.nric},{title:"Race",description:e.session_params.race},{title:"Gender",description:e.session_params.gender},{title:"Date of birth",description:e.session_params.birth_date},{title:"Marital Status",description:e.session_params.marital_status},{title:"Address",description:e.session_params.address},{title:"Unit no",description:e.session_params.unit_no},{title:"Postal",description:e.session_params.postal},{title:"Mobile number",description:e.session_params.mobile_number}])},rightDetail:{title:"Work Details",attributes:Object(v.a)([{title:"Occupation",description:e.session_params.occupation},{title:"Industry",description:e.session_params.industry}])}}),n=[];if(!t&&e.session_params.family)for(var r=1,i=0;i<e.session_params.family.length;++i){var s=0===i&&"2"===e.session_params.num_adult,c=e.session_params.family[i],o=null;s?(r=0,o={title:"Work Details",attributes:Object(v.a)([{title:"Occupation",description:c.occupation},{title:"Industry",description:c.industry}])}):o={title:"Education Details",attributes:Object(v.a)([{title:"Full school education",description:c.full_school_education}])};var l=s?"Spouse":"Children ".concat(r+i);n.push(Object(v.i)({key:l,leftDetail:{title:"Details",attributes:Object(v.a)([{title:"Full Name",description:c.full_name},{title:"Nationality",description:c.nationality},{title:"ID type",description:c.id_type},{title:"ID number",description:c.nric},{title:"Relationship",description:c.relationship},{title:"Gender",description:c.gender},{title:"Date of birth",description:c.birth_date}])},rightDetail:o}))}return[a].concat(n)}},{key:"render",value:function(){var e=this.state,t=e.headerData,a=e.mainDetails,n=e.subDetails,r=e.wording,i=e.params,s=this.props,c=s.isLoggedIn,o=s.charged,l=s.history,u=s.isAdHoc,p=s.adHocData,m=s.sessionId,f=s.setFormState;return d.a.createElement(g.a,{headerData:t,mainDetails:a,subDetails:n,sessionId:m,isLoggedIn:c,charged:o,backToDetails:function(){l.goBack()},wording:r,isAdHoc:u,adHocData:p,params:i,category:"pa",trackingTags:{payment:function(e){Object(y.b)("PersonalAccident - CheckoutPage_ProceedPayment",{event_category:"PersonalAccident",event_label:"PersonalAccident - CheckoutPage_ProceedPayment"}),Object(y.a)("PAProceedPayA",{cashback:null!==e.rewardsID,promo:null!==e.promoCode&&""!==e.promoCode})},receipt:function(){u||(f(b.b.SUBMITTED.index),l.push("/personal-accident".concat(b.b.SUBMITTED.path))),Object(y.c)({page_title:"PersonalAccident - Receipt",page_path:"/personal-accident/Receipt"}),Object(y.a)("PAConfirmationS")}}})}}]),t}(u.Component);O.defaultProps={charged:null,sessionId:null,adHocData:null,isAdHoc:!1,paForm:null,paDetailsForm:null,selectedPlanData:null,isLoggedIn:!1};t.a=Object(p.a)(Object(m.b)(function(e,t){var a=t.isAdHoc?t.sessionId:e.insurance.sessionId;return{paForm:Object(f.a)("pa")(e),paDetailsForm:Object(f.a)("pa-detail")(e),selectedPlanData:e.pa.selectedPlanData,sessionId:a}},function(e){return{setFormState:function(t){e(Object(b.K)(t))}}})(O))},999:function(e,t,a){e.exports=a.p+"static/media/policypal-personal-accident-insurance-1.deeeeedc.svg"}}]);
//# sourceMappingURL=pa.8577ab42.chunk.js.map