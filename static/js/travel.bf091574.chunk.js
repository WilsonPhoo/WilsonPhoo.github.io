(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{1070:function(e,t,n){"use strict";n.r(t);var a=n(22),r=n(3),i=n.n(r),l=n(23),s=n(6),o=n(2),c=n(45),u=n(48),d=n(47),h=n(46),m=n(49),p=n(114),f=n(12),v=n.n(f),b=n(5),g=n.n(b),O=n(1),S=n.n(O),y=(n(226),n(56)),j=n(298),k=n(16),E=n.n(k),x=n(301),C=n(11),w=n.n(C),I=n(607),D=n(339),L=n(13),P=n(24),N=n(8),T=n(118),F=n(416),M=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={showLoading:!1,showLoadingError:!1,errorMsg:null,errorCallback:null},n.handleAPI=n.handleAPI.bind(Object(p.a)(Object(p.a)(n))),n.showLoading=n.showLoading.bind(Object(p.a)(Object(p.a)(n))),n.showLoadingError=n.showLoadingError.bind(Object(p.a)(Object(p.a)(n))),n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"showLoading",value:function(){var e=Object(s.a)(i.a.mark(function e(t){var n=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){n.setState({showLoading:t},e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"showLoadingError",value:function(){var e=Object(s.a)(i.a.mark(function e(t){var n=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){n.setState({showLoadingError:t},e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleAPI",value:function(){var e=Object(s.a)(i.a.mark(function e(t){var n,a,r,l,s,o=this,c=arguments;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]&&c[1],a=c.length>2&&void 0!==c[2]?c[2]:null,r=c.length>3&&void 0!==c[3]?c[3]:null,e.prev=3,clearInterval(this.showLoadigInterval),this.showLoadigInterval=setInterval(function(){return o.setState({showLoading:!0})},300),e.next=8,t();case 8:return l=e.sent,clearInterval(this.showLoadigInterval),s=!n&&!l,this.setState({showLoadingError:s,showLoading:s,errorMsg:a,errorCallback:r}),e.abrupt("return",l);case 15:e.prev=15,e.t0=e.catch(3),console.log(e.t0);case 18:return this.setState({showLoadingError:!0,showLoading:!0,errorMsg:a,errorCallback:r}),e.abrupt("return",null);case 20:case"end":return e.stop()}},e,this,[[3,15]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.showLoading,n=e.showLoadingError,a=e.errorMsg,r=e.errorCallback;return S.a.createElement(O.Fragment,null,S.a.createElement(F.a,{isLoading:t,isLoadingError:n,message:S.a.createElement("h5",null,a||"Please try again."),showLoading:this.showLoading,showLoadingError:this.showLoadingError,errorCallback:r,noLogos:!0}))}}]),t}(O.Component);M.defaultProps={};var W=M,U=n(63),A=w()({loader:function(){return Promise.all([n.e(0),n.e(5),n.e(6),n.e(13),n.e(23)]).then(n.bind(null,1056))},loading:function(){return null},modules:["TravelMain"]}),V=w()({loader:function(){return Promise.all([n.e(0),n.e(55),n.e(6),n.e(7),n.e(21)]).then(n.bind(null,1050))},loading:function(){return null},modules:["TravelChoosePlan"]}),K=w()({loader:function(){return Promise.all([n.e(0),n.e(3),n.e(6),n.e(7),n.e(22)]).then(n.bind(null,1059))},loading:function(){return null},modules:["TravelDetail"]}),_=w()({loader:function(){return Promise.all([n.e(0),n.e(7),n.e(20)]).then(n.bind(null,1049))},loading:function(){return null},modules:["TravelCheckout"]}),B=function(e){function t(e){var n;Object(c.a)(this,t);var a=(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).props,r=a.match,i=(a.history,r&&r.params&&r.params.insurer&&r.params.product&&"tokio_marine"===r.params.insurer&&"xplora_japan"===r.params.product),l=Object(o.a)({},U.g);return i&&(l.countries={type:"multi_select",value:[{display_name:"Japan",value:"Japan"}]},l.region={type:"select",value:{display_name:"Asia",value:"Asia"}}),n.state={formIndex:0,selectedArray:[null,null,null],selectionButtonIndex:0,planType:"essential",bypassParams:Object(o.a)({},r.params),values:l,errors:{},detailValues:{},detailErrors:{},plansData:null,selectedPlanData:null,charged:!1,apiLoader:null,isInitialLoad:!0},n.renderStepProgress=n.renderStepProgress.bind(Object(p.a)(Object(p.a)(n))),n.renderTravelForms=n.renderTravelForms.bind(Object(p.a)(Object(p.a)(n))),n.setCharged=n.setCharged.bind(Object(p.a)(Object(p.a)(n))),n.setSelectedArray=n.setSelectedArray.bind(Object(p.a)(Object(p.a)(n))),n.setSelectionButtonIndex=n.setSelectionButtonIndex.bind(Object(p.a)(Object(p.a)(n))),n.setPlanType=n.setPlanType.bind(Object(p.a)(Object(p.a)(n))),n.setPlansData=n.setPlansData.bind(Object(p.a)(Object(p.a)(n))),n.setSelectedPlanData=n.setSelectedPlanData.bind(Object(p.a)(Object(p.a)(n))),n.changeUserDetails=n.changeUserDetails.bind(Object(p.a)(Object(p.a)(n))),n.handleProductPage=n.handleProductPage.bind(Object(p.a)(Object(p.a)(n))),n.onChangeValue=n.onChangeValue.bind(Object(p.a)(Object(p.a)(n))),n.onChangeDetailValue=n.onChangeDetailValue.bind(Object(p.a)(Object(p.a)(n))),n.onUpdateValues=n.onUpdateValues.bind(Object(p.a)(Object(p.a)(n))),n.validateForm=n.validateForm.bind(Object(p.a)(Object(p.a)(n))),n.validateDetailsForm=n.validateDetailsForm.bind(Object(p.a)(Object(p.a)(n))),n}return Object(m.a)(t,e),Object(h.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.formIndex,a=t.isMounted,r=e.formState,i=e.match,l=e.history;if(a){var s=Object(N.n)("travel",r,n,i,l);if(s&&null!==s.formIndex)return{formIndex:s.formIndex}}return null}}]),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.bypassParams,t=this.props,n=t.history,a=t.setFormState,r=t.travelPromoGiveAway,i=t.doGetPromoGiveaways;this.changeUserDetails(),this.setState({isMounted:!0,apiLoader:this.APILoader}),e&&e.insurer&&e.product&&(a(L.b.CHOOSEPLAN.index),n.push("/travel".concat(L.b.CHOOSEPLAN.path,"/").concat(e.insurer,"/").concat(e.product))),void 0===r&&this.APILoader&&i(),v.a.scrollTo(0,0)}},{key:"componentDidUpdate",value:function(e){var t=this.state.isInitialLoad,n=this.props.userDetails;t&&g.a.isEqual(n,e.userDetails)&&this.changeUserDetails()}},{key:"onChangeValue",value:function(){var e=Object(s.a)(i.a.mark(function e(t,n,a,r){var s,c,u,d,h,m=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=this.state,c=s.values,u=s.errors,e.prev=1,d=u&&u[n],h={},!d){e.next=12;break}return e.t0=l.a,e.t1={},e.t2=n,e.next=10,Object(T.b)(n,{type:t,value:a},c,r);case 10:e.t3=e.sent,h=(0,e.t0)(e.t1,e.t2,e.t3);case 12:return e.abrupt("return",new Promise(function(e){m.setState({values:Object(o.a)({},c,Object(l.a)({},n,{type:t,value:a})),errors:Object(o.a)({},u,h)},e)}));case 15:e.prev=15,e.t4=e.catch(1);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}},e,this,[[1,15]])}));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"onChangeDetailValue",value:function(){var e=Object(s.a)(i.a.mark(function e(t,n,a,r,s){var c,u,d,h,m,p=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=this.state,u=c.detailValues,d=c.detailErrors,e.prev=1,h=d&&d[r]&&d[r][n],m={},!h){e.next=12;break}return e.t0=l.a,e.t1={},e.t2=n,e.next=10,Object(T.b)(n,{type:t,value:a},u[r],s);case 10:e.t3=e.sent,m=(0,e.t0)(e.t1,e.t2,e.t3);case 12:return e.abrupt("return",new Promise(function(e){p.setState({detailValues:Object(o.a)({},u,Object(l.a)({},r,Object(o.a)({},u[r],Object(l.a)({},n,{type:t,value:a})))),detailErrors:Object(o.a)({},d,Object(l.a)({},r,Object(o.a)({},d[r],m)))},e)}));case 15:e.prev=15,e.t4=e.catch(1);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}},e,this,[[1,15]])}));return function(t,n,a,r,i){return e.apply(this,arguments)}}()},{key:"onUpdateValues",value:function(){var e=Object(s.a)(i.a.mark(function e(t){var n=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){n.setState({values:t},e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"setSelectedPlanData",value:function(e){this.setState({selectedPlanData:e})}},{key:"setSelectedArray",value:function(e){this.setState({selectedArray:e})}},{key:"setSelectionButtonIndex",value:function(e){this.setState({selectionButtonIndex:e})}},{key:"setPlanType",value:function(e){this.setState({planType:e})}},{key:"setCharged",value:function(){var e=Object(s.a)(i.a.mark(function e(t){var n=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){return n.setState({charged:t},e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"setPlansData",value:function(e){if(e){var t=Object(o.a)({},e);try{t.insurances_all=[].concat(Object(a.a)(e.insurances),Object(a.a)(e.insurances_prex||{})),g.a.each(t,function(e){g.a.each(e,function(e){e&&e.info&&e.info.insurer_slug&&e.info.product_slug&&(e.info.insurer_product_slug="".concat(e.info.insurer_slug,"_").concat(e.info.product_slug))})})}catch(n){}this.setState({plansData:t})}else this.setState({plansData:null})}},{key:"validateForm",value:function(){var e=Object(s.a)(i.a.mark(function e(){var t,n,a,r,l,s,c,u=this,d=arguments;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:null,n=d.length>1&&void 0!==d[1]?d[1]:null,a=d.length>2&&void 0!==d[2]?d[2]:null,r=this.state,l=r.values,s=r.errors,c=Object(o.a)({},s),e.prev=5,e.next=8,Object(T.a)(l,null,n,a);case 8:c=e.sent,e.next=13;break;case 11:e.prev=11,e.t0=e.catch(5);case 13:return e.abrupt("return",new Promise(function(e){u.setState({errors:c},function(){g.a.isEmpty(c)&&(t&&t(),e(!0)),e(!1)})}));case 14:case"end":return e.stop()}},e,this,[[5,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"validateDetailsForm",value:function(){var e=Object(s.a)(i.a.mark(function e(t){var n,a,r,s,c,u,d,h=this,m=arguments;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.length>1&&void 0!==m[1]?m[1]:null,a=m.length>2&&void 0!==m[2]?m[2]:null,r=m.length>3&&void 0!==m[3]?m[3]:null,s=this.state,c=s.detailValues,u=s.detailErrors,d=Object(o.a)({},u[t]),e.prev=5,e.next=8,Object(T.a)(c[t],null,a,r);case 8:d=e.sent,e.next=13;break;case 11:e.prev=11,e.t0=e.catch(5);case 13:return e.abrupt("return",new Promise(function(e){h.setState({detailErrors:Object(o.a)({},u,Object(l.a)({},t,d))},function(){g.a.isEmpty(d)&&(n&&n(),e(!0)),e(!1)})}));case 14:case"end":return e.stop()}},e,this,[[5,11]])}));return function(t){return e.apply(this,arguments)}}()},{key:"changeUserDetails",value:function(){var e=this.state,t=e.detailValues,n=(e.isInitialLoad,this.props.userDetails);n&&this.setState({detailValues:Object(o.a)({},t,{adult_0:{email:{type:"email",value:n.email},given_name:{type:"text",value:n.firstName},family_name:{type:"text",value:n.surname},id_type:{type:"select",value:{display_name:n.id_type,value:n.id_type}},nric:{type:"text",value:n.nric},nationality:{type:"select",value:{display_name:n.nationality,value:n.nationality}},birth_date:{type:"date",value:E()(n.dateOfBirth).toDate()},gender:{type:"select",value:{display_name:n.gender,value:n.gender}},marital_status:{type:"select",value:{display_name:n.marital_status,value:n.marital_status}},race:{type:"select",value:{display_name:n.race,value:n.race}},occupation:{type:"select",value:{display_name:n.occupation,value:n.occupation}},mobile_number:{type:"number",value:n.contact},address:{type:"text",value:n.address},unit_no:{type:"text",value:n.unit_no},postal:{type:"text",value:n.postal_code}}}),isInitialLoad:!1})}},{key:"handleProductPage",value:function(e,t){var n=this.props.history;e&&t&&n.push("/travel".concat(L.b.CHOOSEPLAN.path,"/").concat(e,"/").concat(t))}},{key:"renderStepProgress",value:function(){var e=this.state,t=e.formIndex,n=e.charged;return S.a.createElement(I.a,{formState:t,inputList:["Choose Plan","Details","Checkout"],form:"travel",stateList:[L.b.CHOOSEPLAN,L.b.DETAILFORM,L.b.CHECKOUT],stateDescriptions:[{main:""},{main:"Details"},{main:"Checkout -  Please check your details"}],charged:n})}},{key:"renderTravelForms",value:function(){var e=this.state,t=e.formIndex,n=e.selectedArray,a=e.selectionButtonIndex,r=e.planType,i=e.values,l=e.errors,s=e.detailValues,o=e.detailErrors,c=e.mainFields,u=e.plansData,d=e.selectedPlanData,h=e.charged,m=e.apiLoader,p=this.props.userDetails,f=!g.a.isEmpty(p),v={values:i,errors:l};switch(t){case L.b.CHOOSEPLAN.index:return S.a.createElement(V,Object.assign({},v,{isLoggedIn:f,setSelectedArray:this.setSelectedArray,setSelectionButtonIndex:this.setSelectionButtonIndex,selectedArray:n,selectionButtonIndex:a,planType:r,setPlanType:this.setPlanType,handleProductPage:this.handleProductPage,setSelectedPlanData:this.setSelectedPlanData,onChangeValue:this.onChangeValue,onUpdateValues:this.onUpdateValues,mainFields:c,plansData:u,selectedPlanData:d,setPlansData:this.setPlansData,handleAPI:m?m.handleAPI:function(){},validateForm:this.validateForm}));case L.b.DETAILFORM.index:return S.a.createElement(K,{isLoggedIn:f,planType:r,piggyCallback:this.changeUserDetails,values:i,errors:l,onChangeValue:this.onChangeValue,detailValues:s,detailErrors:o,onChangeDetailValue:this.onChangeDetailValue,plansData:u,selectedPlanData:d,handleAPI:m?m.handleAPI:function(){},validateForm:this.validateDetailsForm});case L.b.CHECKOUT.index:case L.b.SUBMITTED.index:return S.a.createElement(_,{values:i,detailValues:s,planType:r,isLoggedIn:f,charged:h,plansData:u,selectedPlanData:d,handleAPI:m?m.handleAPI:function(){},setCharged:this.setCharged});default:return S.a.createElement(A,{isLoggedIn:f,values:i,errors:l,onChangeValue:this.onChangeValue,handleAPI:m?m.handleAPI:function(){},validateForm:this.validateForm,setPlansData:this.setPlansData})}}},{key:"render",value:function(){var e=this,t=this.state,n=t.formIndex,a=t.apiLoader,r=this.props.constants,i=n===L.b.CHECKOUT.index?"travel-checkout-container":"";P.e;return S.a.createElement(x.a,{id:"travel"},S.a.createElement("div",{className:i},r&&a&&S.a.createElement(O.Fragment,null,this.renderStepProgress(),this.renderTravelForms()),S.a.createElement(D.a,{ref:function(t){e.refresher||t.invokeNewTimer(),e.refresher=t}}),S.a.createElement(W,{ref:function(t){e.APILoader=t}})))}}]),t}(O.Component);B.defaultProps={userDetails:null,travelPromoGiveAway:void 0,constants:null};t.default=Object(j.a)(Object(y.connect)(function(e){return{formState:e.insurance.formState,travelPromoGiveAway:e.insurance.promoGiveaways.travel,userDetails:e.userDetails.data,constants:e.insurance.constants,login:e.login}},function(e){return{setFormState:function(t){e(Object(L.G)(t))},doGetPromoGiveaways:function(){return e(Object(L.w)("travel"))}}})(B))},326:function(e,t,n){"use strict";var a=n(45),r=n(46),i=n(48),l=n(47),s=n(49),o=n(114),c=n(1),u=n.n(c),d=n(299),h=n(304),m=(n(340),function(e){function t(e){var n;Object(a.a)(this,t);var r=(n=Object(i.a)(this,Object(l.a)(t).call(this,e))).props.onConfirm;return n.state={text:"",jsx:null,useConfirm:!0,onConfirm:r},n.openPopupWithText=n.openPopupWithText.bind(Object(o.a)(Object(o.a)(n))),n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"openPopupWithText",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.setState({text:e,useConfirm:t}),n&&this.setState({onConfirm:n}),setTimeout(this.popupRef.openPopup,10)}},{key:"openPopupWithJSX",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.setState({jsx:e,useConfirm:t}),n&&this.setState({onConfirm:n}),setTimeout(this.popupRef.openPopup,10)}},{key:"render",value:function(){var e=this,t=this.state,n=t.text,a=t.jsx,r=t.useConfirm,i=t.onConfirm,l=this.props,s=l.showCancelButton,o=l.hideCloseButton;return u.a.createElement("div",{className:"popup-with-text"},u.a.createElement(h.a,{hideCloseButton:o,ref:function(t){e.popupRef=t}},u.a.createElement(c.Fragment,null,u.a.createElement("div",{className:"check-out-popup"},u.a.createElement("div",{className:"upper-container upper-margin-down"},a||u.a.createElement("p",null,u.a.createElement("span",{className:"focus-text"},n))),u.a.createElement("div",{className:"button-container"},s?u.a.createElement(d.a,{className:"checkout-button",variant:"medium-flat",width:166,height:72,onClick:function(){e.popupRef.closePopup()}},u.a.createElement("p",null,"Cancel")):null,u.a.createElement(d.a,{className:"checkout-button",variant:"medium-flat-green",width:166,height:72,onClick:function(){r&&i(),e.popupRef.closePopup()}},u.a.createElement("p",null,"Confirm")))))))}}]),t}(c.Component));m.defaultProps={onConfirm:function(){},showCancelButton:!1,hideCloseButton:!1},t.a=m},339:function(e,t,n){"use strict";var a=n(45),r=n(46),i=n(48),l=n(47),s=n(49),o=n(114),c=n(12),u=n.n(c),d=n(1),h=n.n(d),m=n(326),p=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(l.a)(t).call(this,e))).oldTime=new Date,n.timeout=null,n.invokeNewTimer=n.invokeNewTimer.bind(Object(o.a)(Object(o.a)(n))),n.setTimer=n.setTimer.bind(Object(o.a)(Object(o.a)(n))),n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.interval=u.a.setInterval(function(){u.a.addEventListener&&(u.a.addEventListener("mousemove",e.invokeNewTimer),u.a.addEventListener("keypress",e.invokeNewTimer),clearInterval(e.interval))},100)}},{key:"componentWillUnmount",value:function(){this.timeout&&clearTimeout(this.timeout),u.a.removeEventListener("mousemove",this.invokeNewTimer),u.a.removeEventListener("keypress",this.invokeNewTimer)}},{key:"setTimer",value:function(){var e=this,t=this.props,n=t.popupTimer,a=t.refreshTimer;this.timeout=setTimeout(function(){var t=u.a.confirm("Your session will expire due inactivity. Please click \u201cOK\u201d within ".concat(a/1e3/60," mins to continue, or \u201cCancel\u201d, if you wish to leave the page.")),r=new Date-e.oldTime;t&&r<n+a?e.invokeNewTimer():u.a.location.assign("/")},n),this.oldTime=new Date}},{key:"invokeNewTimer",value:function(){this.timeout&&clearTimeout(this.timeout),this.setTimer()}},{key:"render",value:function(){var e=this;return h.a.createElement(d.Fragment,null,h.a.createElement(m.a,{hideCloseButton:!0,ref:function(t){return e.popup=t}}))}}]),t}(d.Component);p.defaultProps={popupTimer:6e5,refreshTimer:12e4},t.a=p},340:function(e,t,n){},395:function(e,t,n){},416:function(e,t,n){"use strict";var a=n(3),r=n.n(a),i=n(6),l=n(45),s=n(46),o=n(48),c=n(47),u=n(49),d=n(114),h=n(1),m=n.n(h),p=n(381),f=n(306),v=n(299),b=n(559),g=n(5),O=n.n(g),S=n(560),y=n(77);n(395);function j(){var e=Object(b.a)(["\n      animation: "," 5s linear infinite;\n    "]);return j=function(){return e},e}function k(){var e=Object(b.a)(["\n      0%    { transform: translateX(0); }\n      100%  { transform: translateX(calc(-84px * ",")); }\n    "]);return k=function(){return e},e}var E=function(e){function t(e){var n;Object(l.a)(this,t),n=Object(o.a)(this,Object(c.a)(t).call(this,e));var a=O.a.map(y.a.small,function(e){return e}),r=Object(S.b)(k(),a.length),i=S.a.div(j(),r);return n.state={logos:O.a.map(y.a.small,function(e){return e}),AnimatedContainer:i},n.renderLogos=n.renderLogos.bind(Object(d.a)(Object(d.a)(n))),n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"renderLogos",value:function(e){var t=this.state.logos;return O.a.map(t,function(t,n){return m.a.createElement("img",{key:"loading-icon-".concat(e,"-").concat(n),src:t,alt:"loading-icon-".concat(n,".svg")})})}},{key:"render",value:function(){var e=this.state.AnimatedContainer;return m.a.createElement(e,{className:"logo-container"},this.renderLogos(0),this.renderLogos(1))}}]),t}(h.Component),x=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(c.a)(t).call(this,e))).state={overwriteShowWarning:!1},n.closeLoading=n.closeLoading.bind(Object(d.a)(Object(d.a)(n))),n.handleChange=n.handleChange.bind(Object(d.a)(Object(d.a)(n))),n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleChange()}},{key:"componentDidUpdate",value:function(e){this.props.isLoading!==e.isLoading&&this.handleChange()}},{key:"handleChange",value:function(){var e=this,t=this.props.isLoading;t&&(this.timer=setTimeout(function(){return e.setState({overwriteShowWarning:!0})},3e4)),t||(clearTimeout(this.timer),this.setState({overwriteShowWarning:!1}))}},{key:"closeLoading",value:function(){var e=Object(i.a)(r.a.mark(function e(){var t,n,a,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,n=t.showLoadingError,a=t.showLoading,l=t.errorCallback,this.setState({overwriteShowWarning:!1},Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(!1);case 2:a(!1),l&&l();case 4:case"end":return e.stop()}},e)})));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.overwriteShowWarning,t=this.props,n=t.isLoading,a=t.isLoadingError,r=t.message,i=t.noLogos,l=n?"loading-screen-active":"";return m.a.createElement(h.Fragment,null,m.a.createElement("div",{className:"loading-screen-v2 ".concat(l)},n?m.a.createElement(h.Fragment,null,m.a.createElement(f.a,null),!i&&m.a.createElement("div",{className:"bottom-container"},m.a.createElement("p",null,"Searching from esteemed partners..."),m.a.createElement(E,null))):null),m.a.createElement(p.a,{showModal:e||a,closeModal:this.closeLoading,className:"loading-modal",backdropClassName:"blue-modal-backdrop",header:m.a.createElement("p",null,"An error has occured"),body:r,zIndex:1052,footer:m.a.createElement(v.a,{variant:"medium-flat-green",height:48,width:162,onClick:this.closeLoading},m.a.createElement("p",null,"Close"))}))}}]),t}(h.Component);x.defaultProps={noLogos:!1,errorCallback:null};t.a=x},553:function(e,t,n){},554:function(e,t,n){},555:function(e,t,n){},556:function(e,t,n){},557:function(e,t,n){},558:function(e,t,n){},607:function(e,t,n){"use strict";var a=n(45),r=n(46),i=n(48),l=n(47),s=n(49),o=n(114),c=n(5),u=n.n(c),d=n(1),h=n.n(d),m=n(298),p=n(56),f=n(115),v=n(35),b=n.n(v),g=n(12),O=n.n(g),S=n(469),y=n(470),j=(n(553),function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={errorString:null},n.setErrorString=n.setErrorString.bind(Object(o.a)(Object(o.a)(n))),n.clearErrorString=n.clearErrorString.bind(Object(o.a)(Object(o.a)(n))),n}return Object(s.a)(t,e),Object(r.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return t.errorString!==e.errorString?{errorString:e.errorString,refValue:e.refValue}:e.validateForm&&t.errorString&&t.refValue!==e.refValue?(e.validateForm(),{errorString:null}):null}}]),Object(r.a)(t,[{key:"setErrorString",value:function(e){this.setState({errorString:e})}},{key:"clearErrorString",value:function(){this.setState({errorString:null})}},{key:"render",value:function(){var e=this.state.errorString,t=this.props,n=t.extraInfo,a=t.desc;return h.a.createElement("div",{className:"input-wrapper-main-new input-wrapper-error"},null!==a?h.a.createElement("p",{className:"input-wrapper-desc"},a):null,this.props.children,null!==n?h.a.createElement("div",{className:"extra-info-container"},n):null,null!==e?h.a.createElement("div",{className:"input-wrapper-error-text"},h.a.createElement("p",null,e)):null)}}]),t}(d.Component));j.defaultProps={desc:null,extraInfo:null};var k=j,E=n(3),x=n.n(E),C=n(6),w=n(22),I=n(293),D=n(334),L=n(300),P=n.n(L),N=n(312),T=n.n(N),F=n(309),M=n.n(F),W=(n(554),n(555),5),U=48,A=72,V=function(e){function t(e){var n;Object(a.a)(this,t);var r=(n=Object(i.a)(this,Object(l.a)(t).call(this,e))).props,s=r.dropList,c=r.placeholderString,d=r.size,h=r.numItemsDisplay,m="big"===d?A:U,p=h||W,f=(u.a.min([s?s.length:0,p])+1)*m;return n.state={isOpened:!1,listItems:s,selectedString:c,height:m,numItemsDisplay:p,maxheight:f,listHeight:f,multipleSelectedElements:null,listElementsCounter:-1,clientHeight:m,extraPadding:0,noTransition:!0},n.updateDimensions=n.updateDimensions.bind(Object(o.a)(Object(o.a)(n))),n.handleClickOutside=n.handleClickOutside.bind(Object(o.a)(Object(o.a)(n))),n.renderListItems=n.renderListItems.bind(Object(o.a)(Object(o.a)(n))),n.renderTextInput=n.renderTextInput.bind(Object(o.a)(Object(o.a)(n))),n.handleSelectClick=n.handleSelectClick.bind(Object(o.a)(Object(o.a)(n))),n.handleOnInputChange=n.handleOnInputChange.bind(Object(o.a)(Object(o.a)(n))),n.handleSetMultipleSelectedItem=n.handleSetMultipleSelectedItem.bind(Object(o.a)(Object(o.a)(n))),n.handleDestroySelected=n.handleDestroySelected.bind(Object(o.a)(Object(o.a)(n))),n.handleInputKeyPress=n.handleInputKeyPress.bind(Object(o.a)(Object(o.a)(n))),n.handleItemKeyPress=n.handleItemKeyPress.bind(Object(o.a)(Object(o.a)(n))),n.handleChange=n.handleChange.bind(Object(o.a)(Object(o.a)(n))),n.handleExit=n.handleExit.bind(Object(o.a)(Object(o.a)(n))),n.handleBlur=n.handleBlur.bind(Object(o.a)(Object(o.a)(n))),n.handleFocus=n.handleFocus.bind(Object(o.a)(Object(o.a)(n))),n}return Object(s.a)(t,e),Object(r.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.dropList,a=e.numItemsDisplay,r=e.size;if(!u.a.isEqual(n,t.initialListItems)){var i="big"===r?A:U,l=a||W,s=(u.a.min([n?n.length:0,l])+1)*i;return{initialListItems:n,listItems:n,maxheight:s,listHeight:s}}return null}}]),Object(r.a)(t,[{key:"componentDidMount",value:function(){b.a.addEventListener("mousedown",this.handleClickOutside),O.a.addEventListener("resize",this.updateDimensions),this.updateDimensions();var e=this.props,t=e.formStore,n=e.name,a=e.overrideValue;if(t&&t[n]){var r=t[n];r.constructor===Array&&this.setState({multipleSelectedElements:r})}a&&this.handleChange(a),this.setState({noTransition:!1})}},{key:"shouldComponentUpdate",value:function(e){return this.props.overrideValue!==e.overrideValue&&this.handleChange(e.overrideValue),!0}},{key:"componentDidUpdate",value:function(){var e=this.state.multipleSelectedElements,t=this.props,n=t.formStore,a=t.name,r=n&&n[a],i=!u.a.isEmpty(e);if(r){var l=n[a];(!i||i&&!u.a.isEqual(l,e))&&l.constructor===Array&&this.setState({multipleSelectedElements:Object(w.a)(l)})}i&&!r&&this.setState({multipleSelectedElements:null}),this.updateDimensions()}},{key:"componentWillUnmount",value:function(){b.a.removeEventListener("mousedown",this.handleClickOutside),O.a.removeEventListener("resize",this.updateDimensions)}},{key:"updateDimensions",value:function(){if(this.props.isMultiple){var e=this.state,t=e.clientHeight,n=e.height,a=e.extraPadding,r=U;try{r=(r=this.selectedItemsContainer.children[this.selectedItemsContainer.childElementCount-1].getBoundingClientRect().bottom-this.selectedItemsContainer.children[0].getBoundingClientRect().top)<U?U:r+10}catch(i){}t!==r&&this.setState({clientHeight:r,extraPadding:r-2*a>n?5:0})}}},{key:"handleChange",value:function(e){var t=this.props,n=t.name,a=t.form,r=t.formChange,i=t.notForm,l=t.valueChangeCallback;if(i)return l&&l(e),void(this.inputField.value=e);r(a,n,e)}},{key:"handleClickOutside",value:function(e){this.state.isOpened&&this.wrapperRef&&!this.wrapperRef.contains(e.target)&&(this.setState({isOpened:!1}),this.isFromFocus=!1)}},{key:"handleInputKeyPress",value:function(e){var t=this.state,n=t.isOpened,a=t.listElementsCounter,r=t.selectedString,i=t.multipleSelectedElements,l=this.props,s=l.placeholderString,o=l.isMultiple;if("Enter"===e.key)return this.handleExit(),void e.preventDefault();"ArrowDown"===e.key&&(n?(-1===a&&e.preventDefault(),this.handleItemKeyPress(e)):this.setState({isOpened:!0})),!o||"Backspace"!==e.key||""!==r&&r!==s||u.a.isEmpty(i)||this.handleDestroySelected(i[i.length-1])}},{key:"handleItemKeyPress",value:function(e){var t=this.state.listElementsCounter,n=t;if("Enter"===e.key)return this.handleExit(this.listElements[n].getAttribute("value")),void e.preventDefault();"ArrowDown"===e.key?n=t+1:"ArrowUp"===e.key&&(n=t-1),n=Math.max(0,Math.min(n,this.listElements.length-1)),this.listElements[n].focus(),n!==t&&this.setState({listElementsCounter:n}),e.stopPropagation()}},{key:"handleSelectClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.state,n=t.isOpened,a=t.selectedString,r=t.maxheight,i=t.multipleSelectedElements,l=this.props,s=l.dropList,o=l.isMultiple;this.isFromFocus||((!e||e&&!n)&&this.setState({isOpened:!n}),a&&"No results found"!==a||(this.setState({listItems:s,listHeight:r,listElementsCounter:-1}),(!o||o&&u.a.isEmpty(i))&&this.handleChange(null))),this.isFromFocus=!1}},{key:"handleSelectItemClick",value:function(e,t){if("No results found"!==t){var n=this.props.dropList,a=this.props.isMultiple;this.setState({listItems:n}),a?(this.setState({selectedString:""}),this.inputField.value="",this.handleSetMultipleSelectedItem(t)):(this.setState({selectedString:t}),this.handleSelectClick(),this.handleChange(t),this.setState({isOpened:!1})),e.stopPropagation()}}},{key:"handleSetMultipleSelectedItem",value:function(e){var t=this.state,n=t.multipleSelectedElements,a=t.height,r=n||[];r.indexOf(e)<0&&(r.push(e),this.setState({multipleSelectedElements:r,clientHeight:this.selectedContainer?this.selectedContainer.clientHeight:a,isOpened:!1}),this.handleChange(r))}},{key:"handleDestroySelected",value:function(e){var t=this.state.height,n=this.state.multipleSelectedElements.slice(),a=n.indexOf(e);n.splice(a,1),n=0===n.length?null:n,this.setState({multipleSelectedElements:n,clientHeight:this.selectedContainer?this.selectedContainer.clientHeight:t}),this.handleChange(n),this.isFromFocus=!1}},{key:"handleOnInputChange",value:function(){var e=Object(C.a)(x.a.mark(function e(t){var n,a,r,i,l,s,o;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a=this.props.dropList,r=this.state,i=r.height,l=r.numItemsDisplay,s=u.a.filter(a,function(e){return 0===e.toString().toUpperCase().indexOf(n.toString().toUpperCase())}),o=s.length?s.length:1,this.setState({listItems:s.length?s:["No results found"],listHeight:(u.a.min([o,l])+1)*i,isOpened:!0,selectedString:n,listElementsCounter:-1});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleBlur",value:function(e){this.wrapperRef.contains(e.relatedTarget)||(this.setState({isOpened:!1}),this.handleExit(),this.isFromFocus=!1)}},{key:"handleFocus",value:function(e){var t=this.state.isOpened;this.wrapperRef.contains(e.relatedTarget)||t||(this.handleSelectClick(!0),this.isFromFocus=!0)}},{key:"handleExit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.state,n=t.selectedString,a=t.listItems,r=this.props,i=r.placeholderString,l=r.dropList,s=r.isMultiple,o=null,c=!1,u=null!==e?e:n;u&&u!==i&&""!==u&&(a.some(function(e){var t=e.toString().toLowerCase()===u.toString().toLowerCase();return t&&(o=e),t}),o=(c=!o)?null:o,s?(c||this.handleSetMultipleSelectedItem(o),this.inputField.value=""):(this.handleChange(o),this.setState({isOpened:!1}))),this.setState({listItems:c?a:l,selectedString:o})}},{key:"renderListItems",value:function(){var e=this,t=this.state,n=t.listItems,a=t.height;return this.listElements=[],u.a.map(n,function(t){return h.a.createElement("li",{key:t},h.a.createElement("div",{className:"list-item text-style",style:{height:a},onClick:function(n){return e.handleSelectItemClick(n,t)},role:"button",tabIndex:-1,value:t,onKeyDown:function(t){e.handleItemKeyPress(t)},ref:function(t){null!==t&&e.listElements.push(t)}},h.a.createElement("p",null,t)))})}},{key:"renderMultipleSelectedElements",value:function(){var e=this,t=this.state.multipleSelectedElements;return this.props.isMultiple?u.a.map(t,function(t){return h.a.createElement("div",{className:"selected-item-container",key:t},h.a.createElement("div",{className:"selected-item"},h.a.createElement("p",null,t),h.a.createElement("button",{className:"selected-item-destroy",onMouseUp:function(){return e.handleDestroySelected(t)},tabIndex:-1},h.a.createElement("img",{src:T.a,alt:"cross.svg"}))))}):null}},{key:"renderTextInput",value:function(){var e=this,t=this.props,n=t.isMultiple,a=t.isDisableTyping,r=t.placeholderString,i=t.name,l=t.notForm;return n||l?a?h.a.createElement("input",{component:"input",type:"text",placeholder:r,autoComplete:"off",ref:function(t){return e.inputField=t},onChange:function(t){return e.handleOnInputChange(t)},onKeyDown:function(t){return e.handleInputKeyPress(t)},onClick:function(){return e.handleSelectClick(!0)},tabIndex:0,disabled:!0}):h.a.createElement("input",{component:"input",type:"text",placeholder:r,autoComplete:"off",ref:function(t){return e.inputField=t},onChange:function(t){return e.handleOnInputChange(t)},onKeyDown:function(t){return e.handleInputKeyPress(t)},onClick:function(){return e.handleSelectClick(!0)},tabIndex:0}):a?h.a.createElement(S.a,{name:i,component:"input",type:"text",autoComplete:"off",ref:function(t){return e.inputField=t},onChange:function(t){return e.handleOnInputChange(t)},onKeyDown:function(t){return e.handleInputKeyPress(t)},onClick:function(){return e.handleSelectClick(!0)},tabIndex:0,disabled:!0}):h.a.createElement(S.a,{name:i,component:"input",type:"text",autoComplete:"off",ref:function(t){return e.inputField=t},onChange:function(t){return e.handleOnInputChange(t)},onKeyDown:function(t){return e.handleInputKeyPress(t)},onClick:function(){return e.handleSelectClick(!0)},tabIndex:0})}},{key:"render",value:function(){var e=this,t=this.state,n=t.isOpened,a=t.listHeight,r=t.height,i=t.clientHeight,l=t.extraPadding,s=t.noTransition;if(r&&a){var o=this.props,c=o.maxWidth,u=o.isMultiple,d=o.desc,m=o.extraInfo,p=o.errorString,f=o.formStore,v=o.name,b=o.validateForm,g=o.noInternalDesc,O=o.logo,S=o.noExternalDesc,y=o.placeholderString,j=(n?a:r)-r,E=n?"dropdown-container-opened":"dropdown-container-closed",x=n?"angle-up":"angle-down",C=s?"":"do-transition",w=n?"list-opened ".concat(C):"list-closed ".concat(C),I=u||O?"multi-drop-new":"",L=p?"error":"",N=g?"no-internal-desc":"",T=f?f[v]:null,F=T?"focused-title":"",W=i>U||n?i:0,A=i>U?6:0,V=u?M.a:O,K=S?null:d,_=n?"drop-open":"drop-close";return h.a.createElement(k,{desc:K,ref:function(t){return e.formParent=t},extraInfo:m,errorString:p,refValue:T,validateForm:b,minHeight:i},h.a.createElement("div",{className:"dropdown-new ".concat(_," ").concat(I," ").concat(N),style:{height:i,maxWidth:c,marginBottom:A},ref:function(t){return e.wrapperRef=t},onBlur:function(t){return e.handleBlur(t)},onFocus:function(t){return e.handleFocus(t)}},h.a.createElement("div",{className:"dropdown-container ".concat(E," ").concat(L)},u||g?null:h.a.createElement("div",{className:"title-header ".concat(F)},y),h.a.createElement("div",{className:"selected-container",onKeyDown:function(t){return e.handleInputKeyPress(t)},role:"button",style:{minHeight:r},tabIndex:-1,ref:function(t){return e.selectedContainer=t}},V?h.a.createElement("div",{className:"icon-container",style:{minHeight:r}},h.a.createElement("img",{src:V,alt:"DropdownImage.svg"})):null,h.a.createElement("div",{className:"selected-items-container",ref:function(t){return e.selectedItemsContainer=t},style:{paddingTop:l,paddingBottom:l}},this.renderMultipleSelectedElements(),h.a.createElement("div",{className:"selected-text selected-text-multi"},this.renderTextInput())),h.a.createElement("div",{className:"selected-arrow",onClick:function(){return e.handleSelectClick()},onKeyPress:function(){},role:"button",tabIndex:-1},h.a.createElement("img",{src:P.a,alt:"arrow.svg",className:"selected-arrow-style ".concat(x)}))),h.a.createElement(D.Scrollbars,{className:"list-container ".concat(w),style:{minHeight:j,marginTop:W},ref:function(t){return e.listContainer=t},tabIndex:-1},n?this.renderListItems():null))))}return null}}]),t}(d.Component);V.defaultProps={maxWidth:"100%",numItemsDisplay:W,isMultiple:!1,desc:null,isDisableTyping:!1,extraInfo:null,notForm:!1,overrideValue:null,errorString:null,dropList:null,formStore:null,valueChangeCallback:null,name:null,form:null,validateForm:null,noInternalDesc:!1,noExternalDesc:!1,logo:null};var K=Object(p.connect)(function(e,t){return{formStore:Object(y.a)(t.form)(e)}},function(e){return{formChange:function(t,n,a){e(Object(I.a)(t,n,a))}}})(V),_=(n(556),0),B={ONIDLE:0,ONDOWN:1,ONUP:2},R=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={sliderWidth:0,sliderState:B.ONIDLE,activeIndex:0,isUseDropDown:!1,marginTop:_},n.renderKnobs=n.renderKnobs.bind(Object(o.a)(Object(o.a)(n))),n.renderSummary=n.renderSummary.bind(Object(o.a)(Object(o.a)(n))),n.handleResize=n.handleResize.bind(Object(o.a)(Object(o.a)(n))),n.handleSliderDown=n.handleSliderDown.bind(Object(o.a)(Object(o.a)(n))),n.handleSliderMove=n.handleSliderMove.bind(Object(o.a)(Object(o.a)(n))),n.handleSliderUp=n.handleSliderUp.bind(Object(o.a)(Object(o.a)(n))),n}return Object(s.a)(t,e),Object(r.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.storeForm,a=e.inputList,r=e.name,i=e.formState,l=e.formStateList,s=t.activeIndex,o=null;if(n){var c=n[r],d=a.indexOf(c);-1!==d&&d!==s&&(o=d)}if(i){var h=u.a.findIndex(l,function(e){return e.state===i});h!==s&&(o=h)}return null!==o?{activeIndex:o,sliderWidth:o/(a.length-1)*100}:null}}]),Object(r.a)(t,[{key:"componentDidMount",value:function(){b.a.addEventListener("mousemove",this.handleSliderMove),b.a.addEventListener("mouseup",this.handleSliderUp),O.a.addEventListener("resize",this.handleResize);var e=this.props,t=e.storeForm,n=e.name,a=e.change,r=e.inputList;e.isProductSlider||t&&t[n]||a(n,r[0]),this.handleResize()}},{key:"componentWillUnmount",value:function(){b.a.removeEventListener("mousemove",this.handleSliderMove),b.a.removeEventListener("mouseup",this.handleSliderUp),O.a.removeEventListener("resize",this.handleResize)}},{key:"handleResize",value:function(){var e=this.props,t=e.hideWidth;if(!e.isProductSlider&&t>0){var n=O.a.innerWidth<=t;this.setState({isUseDropDown:n,marginTop:n?0:_})}}},{key:"handleSliderDown",value:function(){this.state.sliderState!==B.ONDOWN&&this.setState({sliderState:B.ONDOWN})}},{key:"handleSliderMove",value:function(e){if(this.state.sliderState===B.ONDOWN){var t=this.sliderStart.getBoundingClientRect(),n=Math.max(0,Math.min(e.clientX-t.x-5,t.width))/t.width*100;this.setState({sliderWidth:n})}}},{key:"handleSliderUp",value:function(){this.handleClick()}},{key:"handleClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.props,n=t.inputList,a=t.isProductSlider,r=this.state.sliderWidth,i=n.length-1,l=this.handleProductSlider(null===e?Math.round(r/100*i):e),s=l/i*100;if(!a){var o=this.props,c=o.name;(0,o.change)(c,n[l])}this.setState({sliderState:B.IDLE,sliderWidth:s,activeIndex:l}),n[l].callback&&n[l].callback()}},{key:"handleProductSlider",value:function(e){var t=this.props,n=t.formState,a=t.formStateList;if(!n)return e;var r=u.a.findIndex(a,function(e){return e.state===n}),i=e<r;return i&&a[e].callback&&a[e].callback(n),i?e:r}},{key:"renderKnobs",value:function(){var e=this,t=this.state.activeIndex,n=this.props,a=n.inputList,r=n.isProductSlider,i=n.displayList,l=a.length-1;return u.a.map(a,function(n,a){var s=a/l*100,o=r&&a<=t,c="";(o||!r&&a===t)&&(c="desc-active");var u=o?"knob-done":"knob-default",d=a,m=i&&i[a]?i[a]:n,p=r?"desc-bottom":"";return h.a.createElement("button",{key:n,tabIndex:-1,className:"knob ".concat(u),style:{left:"".concat(s,"%")},onClick:function(t){t.preventDefault(),e.handleClick(d)},onKeyDown:function(){}},h.a.createElement("p",{className:"".concat(c," desc ").concat(p)},m))})}},{key:"renderSummary",value:function(){var e=this.state.activeIndex,t=this.props,n=t.inputList,a=t.prefix,r=t.suffix,i=t.isProductSlider,l=t.displayList;if(!i){var s=n[e],o=l&&l[e]?l[e]:s;return h.a.createElement("div",{className:"slider-summary-container-new"},a?h.a.createElement("span",{className:"prefix-suffix"},"".concat(a," ")):null,h.a.createElement("span",{className:"value"},o),r?h.a.createElement("span",{className:"prefix-suffix"}," ".concat(r)):null)}return null}},{key:"render",value:function(){var e=this,t=this.state,n=t.sliderWidth,a=t.isUseDropDown,r=t.marginTop,i=this.props,l=i.name,s=i.desc,o=i.form,c=i.change,u=i.inputList,m=i.extraInfo,p=i.isProductSlider,f=i.maxWidth,v=i.errorString,b=p?"white-knob":"color-knob",g=p?"color-knob":"white-knob";return h.a.createElement(k,{desc:s,ref:function(t){return e.formParent=t},extraInfo:m,errorString:v},h.a.createElement(d.Fragment,null,this.renderSummary(),h.a.createElement("div",{className:"slider-container-new",style:{marginTop:r,maxWidth:f}},a?h.a.createElement(K,{form:o,change:c,name:l,placeholderString:"Enter or select your destinations",dropList:u,size:"medium",isDisableTyping:!0}):h.a.createElement(d.Fragment,null,h.a.createElement("div",{className:"line",ref:function(t){return e.sliderStart=t}}),h.a.createElement("div",{className:"line-green",style:{width:"".concat(n,"%")}}),h.a.createElement("div",{className:"knob-container"},this.renderKnobs()),h.a.createElement("div",{className:"knob-container"},h.a.createElement("button",{tabIndex:0,className:"slider-knob ".concat(b),ref:function(t){return e.slider=t},onMouseDown:this.handleSliderDown,onClick:function(e){return e.preventDefault()},style:{left:"".concat(n,"%")}},h.a.createElement("div",{className:"inner ".concat(g)})),p?null:h.a.createElement(S.a,{name:l,component:function(){return null}}))))))}}]),t}(d.Component);R.defaultProps={desc:null,hideWidth:0,prefix:null,suffix:null,extraInfo:null,isProductSlider:!1,name:null,change:null,storeForm:null,form:null,maxWidth:"100%",errorString:null,formState:null,formStateList:null,displayList:null};var H=Object(p.connect)(function(e,t){return{storeForm:Object(y.a)(t.form)(e)}},null)(R),z=n(313),G=n(394),J=(n(557),0),X={ONIDLE:0,ONDOWN:1,ONUP:2},q=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={sliderWidth:0,sliderState:X.ONIDLE,activeIndex:0,isUseDropDown:!1,marginTop:J},n.renderKnobs=n.renderKnobs.bind(Object(o.a)(Object(o.a)(n))),n.renderSummary=n.renderSummary.bind(Object(o.a)(Object(o.a)(n))),n.handleResize=n.handleResize.bind(Object(o.a)(Object(o.a)(n))),n.handleSliderDown=n.handleSliderDown.bind(Object(o.a)(Object(o.a)(n))),n.handleSliderMove=n.handleSliderMove.bind(Object(o.a)(Object(o.a)(n))),n.handleSliderUp=n.handleSliderUp.bind(Object(o.a)(Object(o.a)(n))),n}return Object(s.a)(t,e),Object(r.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.storeForm,a=e.inputList,r=e.name,i=e.formState,l=e.formStateList,s=t.activeIndex,o=null;if(n){var c=n[r],d=a.indexOf(c);-1!==d&&d!==s&&(o=d)}if(i){var h=u.a.findIndex(l,function(e){return e.state===i});h!==s&&(o=h)}return null!==o?{activeIndex:o,sliderWidth:o/(a.length-1)*100}:null}}]),Object(r.a)(t,[{key:"componentDidMount",value:function(){b.a.addEventListener("mousemove",this.handleSliderMove),b.a.addEventListener("mouseup",this.handleSliderUp),O.a.addEventListener("resize",this.handleResize);var e=this.props,t=e.storeForm,n=e.name,a=e.change,r=e.inputList;e.isProductSlider||t&&t[n]||a(n,r[0]),this.handleResize()}},{key:"componentWillUnmount",value:function(){b.a.removeEventListener("mousemove",this.handleSliderMove),b.a.removeEventListener("mouseup",this.handleSliderUp),O.a.removeEventListener("resize",this.handleResize)}},{key:"handleResize",value:function(){var e=this.props,t=e.hideWidth;if(!e.isProductSlider&&t>0){var n=O.a.innerWidth<=t;this.setState({isUseDropDown:n,marginTop:n?0:J})}}},{key:"handleSliderDown",value:function(){this.state.sliderState!==X.ONDOWN&&this.setState({sliderState:X.ONDOWN})}},{key:"handleSliderMove",value:function(e){if(this.state.sliderState===X.ONDOWN){var t=this.sliderStart.getBoundingClientRect(),n=Math.max(0,Math.min(e.clientX-t.x-5,t.width))/t.width*100;this.setState({sliderWidth:n})}}},{key:"handleSliderUp",value:function(){this.handleClick()}},{key:"handleClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.props,n=t.inputList,a=t.isProductSlider,r=this.state.sliderWidth,i=n.length-1,l=this.handleProductSlider(null===e?Math.round(r/100*i):e),s=l/i*100;if(!a){var o=this.props,c=o.name;(0,o.change)(c,n[l])}this.setState({sliderState:X.IDLE,sliderWidth:s,activeIndex:l}),n[l].callback&&n[l].callback()}},{key:"handleProductSlider",value:function(e){var t=this.props,n=t.formState,a=t.formStateList;if(!n)return e;var r=u.a.findIndex(a,function(e){return e.state===n}),i=e<r;return i&&a[e].callback&&a[e].callback(n),i?e:r}},{key:"renderKnobs",value:function(){var e=this,t=this.state.activeIndex,n=this.props,a=n.inputList,r=n.isProductSlider,i=n.displayList,l=a.length-1;return u.a.map(a,function(n,a){var s=a/l*100,o=r&&a<=t,c="";(o||!r&&a===t)&&(c="desc-active");var u=o?"knob-done":"knob-default",d=a,m=i&&i[a]?i[a]:n,p=r?"desc-bottom":"";return h.a.createElement("button",{key:n,tabIndex:-1,className:"knob ".concat(u),style:{left:"".concat(s,"%")},onClick:function(t){t.preventDefault(),e.handleClick(d)},onKeyDown:function(){}},h.a.createElement("p",{className:"".concat(c," desc ").concat(p)},m))})}},{key:"renderSummary",value:function(){var e=this.state.activeIndex,t=this.props,n=t.inputList,a=t.prefix,r=t.suffix,i=t.isProductSlider,l=t.displayList;if(!i){var s=n[e],o=l&&l[e]?l[e]:s;return h.a.createElement("div",{className:"slider-summary-container-new"},a?h.a.createElement("span",{className:"prefix-suffix"},"".concat(a," ")):null,h.a.createElement("span",{className:"value"},o),r?h.a.createElement("span",{className:"prefix-suffix"}," ".concat(r)):null)}return null}},{key:"render",value:function(){var e=this,t=this.state,n=t.sliderWidth,a=t.isUseDropDown,r=t.marginTop,i=this.props,l=i.name,s=i.desc,o=i.form,c=i.change,u=i.inputList,m=i.extraInfo,p=i.isProductSlider,f=i.maxWidth,v=i.errorString,b=p?"white-knob":"color-knob",g=p?"color-knob":"white-knob";return h.a.createElement(z.a,{desc:s,ref:function(t){return e.formParent=t},extraInfo:m,errorString:v},h.a.createElement(d.Fragment,null,this.renderSummary(),h.a.createElement("div",{className:"slider-container-v3",style:{marginTop:r,maxWidth:f}},a?h.a.createElement(G.a,{form:o,change:c,name:l,placeholderString:"Enter or select your destinations",dropList:u,size:"medium",isDisableTyping:!0}):h.a.createElement(d.Fragment,null,h.a.createElement("div",{className:"line",ref:function(t){return e.sliderStart=t}}),h.a.createElement("div",{className:"line-green",style:{width:"".concat(n,"%")}}),h.a.createElement("div",{className:"knob-container"},this.renderKnobs()),h.a.createElement("div",{className:"knob-container"},h.a.createElement("button",{tabIndex:0,className:"slider-knob ".concat(b),ref:function(t){return e.slider=t},onMouseDown:this.handleSliderDown,onClick:function(e){return e.preventDefault()},style:{left:"".concat(n,"%")}},h.a.createElement("div",{className:"inner ".concat(g)})),p?null:h.a.createElement(S.a,{name:l,component:function(){return null}}))))))}}]),t}(d.Component);q.defaultProps={desc:null,hideWidth:0,prefix:null,suffix:null,extraInfo:null,isProductSlider:!1,name:null,change:null,storeForm:null,form:null,maxWidth:"100%",errorString:null,formState:null,formStateList:null,displayList:null};var Y=Object(p.connect)(function(e,t){return{storeForm:Object(y.a)(t.form)(e)}},null)(q),Q=n(13),Z=(n(558),function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(l.a)(t).call(this,e))).getStateList=n.getStateList.bind(Object(o.a)(Object(o.a)(n))),n.renderDescription=n.renderDescription.bind(Object(o.a)(Object(o.a)(n))),n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"getStateList",value:function(){var e=this.props,t=e.stateList,n=e.history;return u.a.map(t,function(e,a){return{state:e.index,callback:function(e){var r=u.a.findIndex(t,function(t){return t.index===e});n.go(-(r-a))}}})}},{key:"renderDescription",value:function(){var e=this.props,t=e.formState,n=e.stateList,a=e.stateDescriptions,r=e.charged,i=e.history;try{var l=u.a.findIndex(n,function(e){return e.index===t}),s=r?"Receipt":a[l].main,o=a[l].sub;return s||o?h.a.createElement(f.f,{className:"step-progress-description-container-new",xs:12},0!==l?h.a.createElement("button",{className:"back-button",onClick:function(){i.goBack()}},"Back"):null,s?h.a.createElement("p",{className:"main"},s):null,o?h.a.createElement("p",{className:"sub"},o):null):null}catch(c){return null}}},{key:"render",value:function(){var e=this.props,t=e.formState,n=e.charged,a=e.inputList,r=e.maxWidth,i=e.className,l=e.formStates,s=e.v3Slider;return t===(l||Q.b).MAIN.index||n?null:h.a.createElement(f.y,{className:"justify-content-center ".concat(i),noGutters:!0},h.a.createElement(f.f,{className:"mx-auto product-slider-new",xs:12},s?h.a.createElement(Y,{isProductSlider:!0,hideWidth:576,maxWidth:r,inputList:a,formStateList:this.getStateList(),formState:t}):h.a.createElement(H,{isProductSlider:!0,hideWidth:576,maxWidth:r,inputList:a,formStateList:this.getStateList(),formState:t})),this.renderDescription())}}]),t}(d.Component));Z.defaultProps={charged:null,maxWidth:"400px",className:"",formStates:null,v3Slider:!1};t.a=Object(m.a)(Object(p.connect)(null,function(e){return{setInsurFormState:function(t){e(Object(Q.G)(t))}}})(Z))}}]);
//# sourceMappingURL=travel.bf091574.chunk.js.map