{"version":3,"sources":["components/Pet/PetEditDetail.js","components/Pet/PetMain.js","containers/Pet/PetMainContainer.js","components/Pet/PetChoosePlan.js","containers/Pet/PetChoosePlanContainer.js","components/Pet/PetDetail.js","containers/Pet/PetDetailContainer.js","containers/Pet/PetRouteContainer.js","components/Templates/TabView/TabView.js","components/Forms/Selection/Selection.js","components/Forms/TextInput/TextInput.js","components/Templates/CheckoutPopup/CheckoutComplete.js","assets/images/common/CheckoutComplete.svg","assets/images/forms/ArrowGradient.svg","components/Templates/PopupWithText/PopupWithText.js","components/Templates/Enquiry/Enquiry.js","components/Templates/RestrictionsPopup/RestrictionsPopup.js","assets/images/common/CashbackLogo.svg","assets/images/forms/dateIn.svg","assets/images/forms/dateOut.svg","assets/images/forms/triangle.svg","components/Forms/DatePicker/DateInner.js","components/Forms/DatePicker/DatePickerV2.js","components/Templates/RefreshTimer/RefreshTimer.js","assets/images/common/CheckIcon.svg","components/Templates/PromoPopup/PromoPopup.js","assets/images/forms/EditButton.svg","components/Templates/Accordion/Accordion.js","assets/images/Icons/Google.png","assets/images/Icons/Facebook.png","components/Templates/PiggySignUp/PiggySignUp.js","components/Forms/Slider/Slider.js","components/Templates/ChangeInitialFormData/ChangeInitialFormData.js","assets/images/common/Phone.svg","assets/images/Motor/Pig.svg","components/Templates/StepProgressBar/StepProgressBar.js","components/Templates/FormLanding/FormLanding.js","assets/images/common/Tick.svg","lib/trackingHelper.js","components/Templates/CompareView/CompareViewTableAccordion.js","components/Templates/CompareView/CompareViewTable.js","components/Templates/CompareView/CompareView.js","components/Templates/PiggySignUp/PiggyFillForm.js","components/Templates/DetailForm/DetailForm.js","assets/images/common/CreditCards.png","components/Templates/CheckoutPopup/CheckoutUsingCashback.js","components/Templates/PiggySignUp/PiggyCashback.js","components/Templates/InsurerFormHeader/HeaderDescWithTypeDate.js","components/Templates/Checkout/Checkout.js","components/Templates/Checkout/CheckoutWrapper.js","components/Forms/PromoCode/PromoCode.js","components/Templates/CashbackBalance/CashbackBalance.js","components/Templates/InsurerFormHeader/HeaderDescWithButton.js","containers/Pet/PetCheckoutContainer.js","assets/images/Pet/policypal-pet-insurance-1.svg","assets/images/Pet/policypal-pet-insurance-2.svg","assets/images/Pet/policypal-pet-insurance-3.svg","assets/images/MainFormIcons/Paw.svg"],"names":["PetEditDetail","props","_this","Object","classCallCheck","this","petFields","possibleConstructorReturn","getPrototypeOf","call","state","errorStringData","startDate","slashedStringDateToDate","form_fields","min_date","endDate","max_date","handleSubmit","bind","assertThisInitialized","handleCloseEdit","handleRevert","validateForm","_this$props","storeForm","setCloseCallBack","originalValues","e","_this$state","errorResult","pet_species","type","data","options","start_date","start","end","setState","_this2","isFirstValidate","arguments","length","undefined","_this$props2","setInsurFormState","setSubmit","submitCallback","closePopUp","history","isEmptyResult","_","isEmpty","dateReValidate","error","gaEvent","event_category","event_label","ampTag","pet","FORMSTATES","CHOOSEPLAN","index","push","concat","path","_this3","_this$props3","change","resetForm","keys","forEach","key","_this4","_this$state2","_this$props4","isPopUp","form","react_default","a","createElement","className","onSubmit","reactstrap_es","noGutters","sm","src","Paw","alt","xs","Selection","name","noEmptyTextSelection","map","option","description","sizeInSM","desc","display_name","extraInfo","onClick","preventDefault","setRestrictionPopup","values","restrictions","errorString","DatePickerV2","size","zIndex","currDate","Button","variant","width","height","RestrictionsPopup","ref","node","resPopup","Component","defaultProps","withRouter","reduxForm","destroyOnUnmount","connect","getFormValues","isRevert","editForm","dispatch","reset","setInsuranceFormState","invokeSubmit","PetMain","petPromoGiveAway","FormLanding","img1","Pet1","img2","Pet2","img3","Pet3","imgAlt","promo","react","Pet_PetEditDetail","PetMainContainer","loading","clearData","getPetFields","setFormState","MAIN","window","scrollTo","ReactPixel","track","gaTag","page_title","page_path","location","search","prevProps","loadingEnd","components_Pet_PetMain","insurance","promoGiveaways","callBack","errorMsg","time","setLoading","clearLoading","clearPetData","PetChoosePlan","doAmpTags","planTypeIndex","plansData","premium","plans","default","partner","selectedInsurers","insurerSlug","plan-name","policyTypes","discount","price","net_price","console","log","message","_loop","i","doTag","ChangeInitialFormData","valuesToListen","value","HeaderDescWithButton","logo","Logos","square","logoName","insurerName","insurerDesc","policyDetails","about","benefits","benefit","CompareView","category","currentTab","Enquiry","PetChoosePlanContainer","parsedData","getNewData","nextProps","parseData","DETAILFORM","setSelectedPlanData","petForm","getPetPlans","goBack","isLoggedIn","components_Pet_PetChoosePlan","isFWD","setPlanType","PetDetail","dateField","find","field","petMinDate","petMaxDate","errorArray","fieldsToCheck","pet_illness","pet_birth_date","idtype","id_type","hospital","document","body","scrollHeight","TextInput","placeholderString","pet_medical_record","planDetails","piggyCallback","changePlan","constants","DetailForm","email","family_name","given_name","DropDownV2","dropList","idTypes","nric","toUpper","mobile_number","blk_no","street","unit_no","postal","isPostCode","addressFields","address","unitNo","pet_name","pet_microchip_no","renderIllnessForm","PetDetailContainer","profileValues","selectedData","others","logoDesc","planName","planTotal","info","insurer_slug","insurer_name","product_name","policyInfo","planType","toFixed","components_Pet_PetDetail","CHECKOUT","userDetails","selectedPlanData","PetRouteContainer","formIndex","isInitialLoad","resetStoreForm","pathname","replace","getPromoGiveaways","resetInsuranceForm","resetCompare","setInitialFormState","renderStepProgress","renderPetForms","changeUserDetails","prevState","isMounted","formState","match","routeResult","routeHandler","isEqual","changeForm","Date","setDate","getDate","dateToStoreString","firstName","surname","contact","postal_code","charged","StepProgressBar","maxWidth","inputList","stateList","stateDescriptions","main","Pet_PetChoosePlanContainer","Pet_PetDetailContainer","SUBMITTED","PetCheckoutContainer","Pet_PetMainContainer","_this$props5","RefreshTimer","refresher","invokeNewTimer","TabView","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","padding","children","maxTabWidthPx","isDataFadeOnly","tabs","initialIndex","isUsingMaxWidth","tabWidth","activeIndex","containerWidth","widthPercentage","paddingWidth","isControlVisible","isDropDownControl","fadeStyle","goToIndex","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__","handleResize","resizeTabHeight","renderTabs","renderTabContent","renderControls","renderSlides","currentTabSelection","result","newIndex","findIndex","tab","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","changeTab","addEventListener","ReactDOM","findDOMNode","carousel","setTriggerHeightUpdate","tabContainer","getBoundingClientRect","setTimeout","removeEventListener","hideWidth","innerWidth","isVisibleNow","isForced","_this$state3","carouselIncoming","overrideNegation","isConstantHeight","carouselToUse","list","getElementsByTagName","sliderWrapper","parentNode","itemHeight","style","activeStyle","bigTextStyle","big","isWithImg","isString","img","react__WEBPACK_IMPORTED_MODULE_8___default","react__WEBPACK_IMPORTED_MODULE_8__","_this$state4","bigTabStyle","tabStyle","role","tabIndex","onKeyDown","_this5","item","React","cloneElement","updateTabHeight","_this6","_this$state5","isDisableDropdown","isOverContainer","selectedMargin","bigStyle","marginLeft","droplist","_Forms_DropDown_DropDownV2__WEBPACK_IMPORTED_MODULE_12__","dropdown","isDisableTyping","notForm","valueChangeCallback","overrideValue","_this7","_this$state6","_this$props6","containerStyle","react_responsive_carousel__WEBPACK_IMPORTED_MODULE_11__","showThumbs","showIndicators","showArrows","showStatus","selectedItem","swipeable","onChange","tabName","setTabSelection","withRef","selections","formStore","storeValues","storeValuesArray","constructor","Array","resultState","v","getStoreSelection","setInitialValue","toggleResult","newSelections","noUpdate","mapValues","findKey","assign","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","each","k","selectionState","react__WEBPACK_IMPORTED_MODULE_6___default","CheckIcon","onKeyPress","onToggleSelection","renderSelectionInsides","reactstrap__WEBPACK_IMPORTED_MODULE_10__","_FormInputWrapper_FormInputWrapper__WEBPACK_IMPORTED_MODULE_13__","formParent","marginTop","redux_form__WEBPACK_IMPORTED_MODULE_8__","component","renderSelectionIcon","PureComponent","ownProps","mediumHeight","bigHeight","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","heightToUse","isFocus","handleFocus","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__","handleBlur","setError","clearError","renderTextArea","handlePostCode","setErrorString","clearErrorString","storeValue","formChange","postcode","getPostal","block","concatAddress","blkNo","input","_ref","placeholder","rows","cols","isPassword","isTextArea","focusStyle","passwordType","errorStyle","refValue","_FormInputWrapper_FormInputWrapper__WEBPACK_IMPORTED_MODULE_14__","onFocus","onBlur","redux_form__WEBPACK_IMPORTED_MODULE_10__","normalize","toUpperCase","MagnifyGlass","CheckoutComplete","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","animateStyle","openCheckoutComplete","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","userName","popupRef","openPopup","isQuoteOnly","upperText","react__WEBPACK_IMPORTED_MODULE_6__","midText","buttonText","callback","components_FormsV3_Button_Button__WEBPACK_IMPORTED_MODULE_10__","togglePopup","reactstrap__WEBPACK_IMPORTED_MODULE_8__","closePopup","isSellLeads","extraText","_Popup_Popup__WEBPACK_IMPORTED_MODULE_11__","hideCloseButton","r","CheckoutCompleteSVG","renderUpperText","renderMidText","renderButton","module","exports","__webpack_require__","p","PopupWithText","onConfirm","text","jsx","useConfirm","openPopupWithText","showCancelButton","_Popup_Popup__WEBPACK_IMPORTED_MODULE_8__","components_FormsV3_Button_Button__WEBPACK_IMPORTED_MODULE_7__","react__WEBPACK_IMPORTED_MODULE_5___default","reactstrap__WEBPACK_IMPORTED_MODULE_6__","Phone","href","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__","clickCallback","doAcceptTag","modal","setData","handleClick","clearRestrictionPopup","split","react__WEBPACK_IMPORTED_MODULE_7___default","react__WEBPACK_IMPORTED_MODULE_7__","reactstrap__WEBPACK_IMPORTED_MODULE_9__","title","descIndex","backdropClassName","isOpen","toggle","renderData","dayTextList","monthTextMapping","deafultYearRange","DateInner","date","year","getFullYear","month","getMonth","firstDay","lastDay","dateRangeStart","dateRangeEnd","isOpened","currFirstDay","currLastDay","monthDropdownOpen","yearDropdownOpen","selectedStartDate","selectedEndDate","isArrowUp","setSelectedDate","setNewDate","setCalender","setArrowUp","setNewState","toggleDateInner","toggleMonth","toggleYear","yearInput","monthInput","childNodes","scrollTop","dateMonthInput","setAttribute","dateYearInput","objectSpread","settings","isFromFocus","day","startIndex","getDay","endIndex","startTime","getTime","toString","currDay","currTime","dayStyle","isBlocked","isRange","isStart","currFirstDayTime","currLastDayTime","endTime","_loop2","currDayOfWeek","isSat","isSun","isStartDate","isEndDate","isWithin","isFirstDay","isLastDay","isSameDay","isDayActive","leftBlockStyle","rightBlockStyle","endBlockStyle","startYear","endYear","currYear","startMonth","endMonth","reduce","_loop3","_this$state7","monthText","CloseIcon","marginBottom","onKeyUp","Arrow","caret","outline","renderMonths","renderYears","renderDaysText","renderDays","renderDaysSingle","_this$state8","openedStyle","dateOpenStyle","arrowStyle","Triangle","listCont","renderDateInner","placeholderStringDefault","placeHolder","selectedString","handleSelectClick","handleClickOutside","handleOnInputChange","handleKeyPress","handleExit","onMovement","updateStartEndDate","dateName","dateReformed","storeStringToDate","incomingStartDate","incomingEndDate","isDateEqual","dateInnerDOM","datepickerInner","datePickerDOM","wrapperRef","isOverHeight","bottom","outerHeight","top","left","extraState","selectedCallback","newYear","newMonth","focus","endRef","storeString","dateString","slice","currMonth","newSelectedStartDate","newSelectedEndDate","wrappedInstance","event","isTargetWithinDateRangePicker","contains","target","doNotBlur","charCode","selectedStart","selectedEnd","end_date","inputField","getRenderedComponent","blur","defaultValue","relatedTarget","isChildren","isClicked","isError","moment","isValid","selectedDate","parts","mainStyle","dropDownOpenStyle","isErrorStyle","rangeIcon","DateIn","DateOut","rangIconStyle","FormInputWrapper","Field","autoComplete","onMouseDown","Forms_DatePicker_DateInner","oldTime","timeout","setTimer","clearTimeout","popupTimer","refreshTimer","confirmResult","confirm","timeDiff","_PopupWithText_PopupWithText__WEBPACK_IMPORTED_MODULE_7__","popup","PromoPopup","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","tabView","image_url","cta_url","details","terms_and_cond_url","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","main_text","caption_text","sub_text","button_text","promoData","renderImage","tabList","renderMain","_Templates_TabView_TabView__WEBPACK_IMPORTED_MODULE_12__","paddingLeft","paddingRight","paddingBottom","Accordion","openCallback","handleExpand","setOpenCallback","isWarning","openStyle","openText","arrowOpenStyle","borderStyle","isFullBorder","reactstrap__WEBPACK_IMPORTED_MODULE_7__","minHeight","ArrowGradient","PiggySignUp","header","subHeader","buttonInner","Pig","components_FormsV3_Button_Button__WEBPACK_IMPORTED_MODULE_8__","SLIDERSTATE","ONIDLE","ONDOWN","ONUP","Slider","sliderWidth","sliderState","isUseDropDown","renderKnobs","renderSummary","handleSliderDown","handleSliderMove","handleSliderUp","formStateList","indexToChange","selectedTabString","selectedTabIndex","indexOf","formStateIndex","listState","isProductSlider","isDrop","rect","sliderStart","position","Math","max","min","clientX","x","len","indexToUse","handleProductSlider","round","newWidth","IDLE","isValidSelection","displayList","inputLength","leftOffset","isProductPassedPage","sliderStyle","dataToUse","_this$props7","prefix","suffix","valueToUse","_this$props8","knobColor1","knobColor2","_FormInputWrapper_FormInputWrapper__WEBPACK_IMPORTED_MODULE_11__","_DropDown_DropDownV2__WEBPACK_IMPORTED_MODULE_12__","slider","redux_form__WEBPACK_IMPORTED_MODULE_7__","toolTipData","renderHeader","renderDetailLabels","renderDetailValues","renderEditButton","renderSpeechScrollList","resetSubmit","nextState","speechScroll","isEditSubmitted","headerValue","conditions","conditonValue","valuesArrayToListen","isArray","displayValue","aggregateDesc","extra","simplifyCost","onMouseEnter","onMouseMove","handleInsurerHover","EditButton","_SpeechScroll_SpeechScroll__WEBPACK_IMPORTED_MODULE_13__","_Popup_Popup__WEBPACK_IMPORTED_MODULE_14__","undoFormChange","resetSubmitStatus","getStateList","renderDescription","currIndex","s","go","mainDesc","subDesc","sub","_Forms_Slider_Slider__WEBPACK_IMPORTED_MODULE_11__","pageState","onPageInsurance","ACTIVE","resetMore","onPageMore","NONE","resetBusiness","onPageBusiness","setPage","resetIndicatorMore","resetIndicatorBusiness","opacity","updateOpacity","handlePromoClick","promoPopup","openPopUp","newOpacity","isPromo","promoOuterStyle","promoImgStyle","_PromoPopup_PromoPopup__WEBPACK_IMPORTED_MODULE_10__","setStateInsurance","setStateMore","setStateBusiness","suppressDeprecationWarnings","getInsurerLogo","getAddToCartData","params","_params$insurer_slug","_params$product_slug","product_slug","_params$values","_params$price","product","pick","isObject","format","from","c","parseValues","id","product_image","quantity","content_ids","content_name","content_type","contents","currency","Number","CompareViewTableAccordion","recursiveUpdate","accordion","offsetHeight","level","bgStyle","firstStyle","lastStyle","rotateStyle","transform","CompareViewTable","productChangable","disclaimer","itemBorderStyle","infoContainerStyle","isValidDisclaimer","targets","arrayToMap","union","content","idx","CompareView_CompareViewTableAccordion","renderTable","subContent","subTitle","sub_title","startCase","paddingStyle","Tick","Cross","isFixed","categoryWidth","handleScroll","handleOnClick","renderLists","renderEditForm","renderEditableHeader","renderBottomHeader","renderNonProductChangable","renderProductChangable","doSetIntercomVisibility","forceFixedOnDesktop","catMarker","scrollPos","isNowFixed","bottomHeader","innerHeight","selectedInsurer","buttonDesc","currPlanData","isPriceUsed","leftStyle","premiumData","isPrice","cashbackProduct","cashback","cashbackText","cashbackJSX","frequency","setHoveredIndex","hoveredIndex","policyType","tripType","editableHeaders","insurer","matchedInsurer","validInsurers","insur","discountData","discountRawData","amount","display","discountText","insurance_name","inurerLogoName","noDiscountPadding","isPriceExists","headerList","netPrice","discountPrice","life_frequency","isMultiple","coverageTypes","CompareView_CompareViewTable","coverages","notAccordion","coverageTypesDescs","autoHeight","scrollPopUpCallback","validForSelection","productSlug","insurance_slug","textAlign","flex","discount_data","handleInsurerBlur","fixedCatStyle","SpeechScroll","setHoveredInsurerIndex","isVisible","setIntercomVisibility","PiggyFillForm","mainText","descText","Facebook","Google","rightStickyStyle","handlePreSubmit","renderSignUp","renderSignUpButton","renderUpperRightContainer","loginControl","selection_checkbox","upperMarker","stickyStyle","y","PiggySignUp_PiggyFillForm","isPlanTotal","signUpStyle","checkoutButtonDesc","upperRightContainer","login","CheckoutUsingCashback","openCheckoutUsingCashback","_Popup_Popup__WEBPACK_IMPORTED_MODULE_9__","CashbackLogo","PiggyCashback","HeaderDescWithTypeDate","data1","data1Value","data2","data2Value","Checkout","trackingTags","checkoutButton","promoCode","rewardsID","transactionData","receipt","handleOnCheckout","handleOnCheckoutZero","renderDetails","renderMainDetails","renderSubDetails","renderDetailsTable","renderPromoCodeButton","renderPriceSummary","renderTotal","generateTabs","renderCashBack","cleanCheckoutButtonContainer","renderCheckoutButton","renderDisclaimerWarning","renderDisclaimer","renderBackToDetail","promoErrorString","formValues","userID","checkLogin","cashbackCheckbox","newRewardsID","range","createRange","gaCheckOut","appendChild","createContextualFragment","getStripe","getPromo","sessionId","userToken","code","user","userData","transaction","users","familyName","givenName","checkoutComplete","gaReceipt","goog_report_conversion","subDetails","$","get","submit","wording","wordingCheck","wordingCheckbox","termsCheckbox","invokeClick","setInterval","getElementsByClassName","dataset","checkoutUsingCashback","payment","clearInterval","button","trigger","firstChild","removeChild","headerData","Templates_InsurerFormHeader_HeaderDescWithTypeDate","isFullWidth","isMain","smLeftWidth","smRightWidth","coverageData","policy_info","attributes","toConsumableArray","infoList","mainDetails","leftDetail","rightDetail","marginRight","innerJSX","checkout","serializeArray","priceData","noTitle","promoStyle","removePromoButton","element","totalData","star","isAdHoc","PromoCode","_this$props9","rewardPoints","PiggySignUp_PiggyCashback","cashbackData","cashbackUsed","cashbackBalance","cashbackDiscountStyle","chargedStyle","cashbackUseChargedStyle","CashbackBalance","_this$props10","_this$props11","backToDetails","renderChargedHeader","CreditCards","wrappedComponentRef","checkLoginStatus","CheckoutWrapper","verifyParams","getAnonymousSession","adHocData","status","getReceipt","token","reward_points","adHocCharged","isCharged","getPromoToUse","Templates_Checkout_Checkout","useRewards","getTransactionStripeSession","promocode","useReward","getPromoCode","stripeData","userId","postCheckout","_FormInputWrapper_FormInputWrapper__WEBPACK_IMPORTED_MODULE_7__","textInput","petDetailsForm","paramsWording","getCheckoutParamsWording","getSessionParams","headerCoverage","getCheckoutHeaderDataCoverage","petIllness","session_params","medicalRecord","record","petFormToUse","sessionParams","petDetailFormToUse","compactCheckoutAttributes","getCompactSubDetails","birth_date","trackData","coverage_level","amountPayable","_components_Templates_Checkout_CheckoutWrapper__WEBPACK_IMPORTED_MODULE_15__"],"mappings":"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","file":"static/js/pet.847511e9.chunk.js","sourcesContent":["/**\n * PetEditDetail.js\n * Edit Detail View for Pet\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { reduxForm, getFormValues, reset } from 'redux-form';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { Row, Col } from 'reactstrap';\n\nimport Paw from 'assets/images/MainFormIcons/Paw.svg';\n\nimport Button from 'components/FormsV3/Button/Button';\nimport Selection from '../Forms/Selection/Selection';\nimport DatePickerV2 from '../Forms/DatePicker/DatePickerV2';\n\nimport RestrictionsPopup from '../Templates/RestrictionsPopup/RestrictionsPopup';\n\nimport { invokeSubmit } from '../../actions/editFormActions';\nimport { setInsuranceFormState, FORMSTATES } from '../../actions/insuranceActions';\nimport { setRestrictionPopup } from '../../actions/restrictionsActions';\nimport { validateForm, dateReValidate } from '../../lib/validators';\nimport { slashedStringDateToDate } from '../../lib/dateFunctions';\nimport { gaEvent, ampTag } from '../../lib/tagFunctions';\n\nimport './PetMain.scss';\n\nconst formName = 'pet';\n\nclass PetEditDetail extends Component {\n  constructor(props) {\n    super(props);\n\n    const { petFields } = this.props;\n\n    this.state = {\n      errorStringData: {},\n      startDate: slashedStringDateToDate(petFields.form_fields[1].min_date),\n      endDate: slashedStringDateToDate(petFields.form_fields[1].max_date),\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleCloseEdit = this.handleCloseEdit.bind(this);\n    this.handleRevert = this.handleRevert.bind(this);\n    this.validateForm = this.validateForm.bind(this);\n  }\n\n  componentDidMount() {\n    const { storeForm, setCloseCallBack } = this.props;\n    this.originalValues = storeForm;\n\n    if (setCloseCallBack) {\n      setCloseCallBack(this.handleRevert);\n    }\n  }\n\n  validateForm(e) {\n    const { startDate, endDate } = this.state;\n    const {\n      petFields,\n    } = this.props;\n\n    const fieldsToCheck = ['pet_species', 'start_date'];\n    const errorResult = validateForm(e, fieldsToCheck, {\n      pet_species: { type: 'ARRAY', data: petFields.form_fields[0].options },\n      start_date: { type: 'DATE', start: startDate, end: endDate },\n    });\n\n    this.setState({\n      errorStringData: errorResult,\n    });\n\n    return errorResult;\n  }\n\n  handleSubmit(e, isFirstValidate = true) {\n    // e.preventDefault();\n    // console.log(e);\n    const {\n      setInsurFormState,\n      setSubmit,\n      storeForm,\n      submitCallback,\n      closePopUp,\n      history,\n    } = this.props;\n\n    const errorResult = this.validateForm(isFirstValidate ? e : storeForm);\n    const isEmptyResult = _.isEmpty(errorResult);\n\n    if (dateReValidate(\n      isEmptyResult,\n      isFirstValidate,\n      errorResult,\n      error => this.setState({ errorStringData: error }),\n      () => this.handleSubmit(storeForm, false),\n    )) {\n      return;\n    }\n\n    if (isEmptyResult) {\n      setSubmit();\n      this.originalValues = storeForm;\n\n      if (submitCallback) {\n        submitCallback();\n      } else {\n        gaEvent('Pet - Get Quote', {\n          event_category: 'Pet',\n          event_label: 'Button - Pet - Get Quote',\n        });\n        ampTag('PetGetQuoteA', {\n          pet: e.pet_species,\n        });\n      }\n\n      if (closePopUp) {\n        closePopUp();\n      }\n\n      setInsurFormState(FORMSTATES.CHOOSEPLAN.index);\n      history.push(`/pet${FORMSTATES.CHOOSEPLAN.path}`);\n    }\n  }\n\n  handleRevert() {\n    const { change, resetForm } = this.props;\n    resetForm();\n    Object.keys(this.originalValues).forEach((key) => {\n      change(key, this.originalValues[key]);\n    });\n  }\n\n  handleCloseEdit() {\n    const { closePopUp } = this.props;\n    closePopUp(this.handleRevert);\n  }\n\n  render() {\n    const { errorStringData, startDate, endDate } = this.state;\n    const {\n      handleSubmit,\n      isPopUp,\n      change,\n      form,\n      petFields,\n      storeForm,\n    } = this.props;\n\n    return (\n      <div className=\"landing-form-container\">\n        {\n          isPopUp ?\n            <p className=\"edit-header\">Edit Pet Insurance Details</p>\n          :\n            null\n        }\n        <form onSubmit={handleSubmit(this.handleSubmit)}>\n          <Row className=\"input-offset\" noGutters>\n            <Col className=\"justify-content-center icon icon-car d-none d-sm-flex\" sm={2}>\n              <img src={Paw} alt=\"Paw.svg\" />\n            </Col>\n            <Col className=\"input-padding-right\" xs={12} sm={5}>\n              <Selection\n                form={form}\n                change={change}\n                name=\"pet_species\"\n                type=\"text-selection\"\n                noEmptyTextSelection\n                options={_.map(petFields.form_fields[0].options, option => ({\n                  key: option,\n                  description: option,\n                }))}\n                sizeInSM={6}\n                desc={petFields.form_fields[0].display_name}\n                extraInfo={\n                  <p>\n                    {'*Please read restrictions on '}\n                    <button\n                      onClick={(e) => {\n                      e.preventDefault();\n                      this.props.setRestrictionPopup({\n                        values: petFields.restrictions,\n                      });\n                    }}\n                      className=\"green\"\n                    >\n                      <b>PetCare</b>\n                    </button>\n                  </p>\n                }\n                errorString={errorStringData.pet_species}\n                validateForm={() => this.validateForm(storeForm)}\n              />\n            </Col>\n            <Col className=\"input-padding-left\" xs={12} sm={5}>\n              <DatePickerV2\n                form={form}\n                change={change}\n                name=\"start_date\"\n                size=\"medium\"\n                zIndex={95}\n                desc={petFields.form_fields[1].display_name}\n                currDate={startDate}\n                startDate={startDate}\n                endDate={endDate}\n                extraInfo={\n                  <p>Coverage lasts <b>one year</b> from Start Date</p>\n                }\n                errorString={errorStringData.start_date}\n                validateForm={() => this.validateForm(storeForm)}\n              />\n            </Col>\n          </Row>\n          <Row className=\"align-items-center button-container\" noGutters>\n            {\n              isPopUp ?\n                <Col className=\"justify-content-center button\" xs={12}>\n                  <Row noGutters>\n                    <Col className=\"button-container-inner\" xs={12} sm={6}>\n                      <Button\n                        className=\"button-left\"\n                        variant=\"medium-flat\"\n                        width={165}\n                        height={72}\n                        onClick={() => this.handleCloseEdit()}\n                      >\n                        <p>Cancel</p>\n                      </Button>\n                    </Col>\n                    <Col className=\"button-container-inner\" xs={12} sm={6}>\n                      <Button\n                        type=\"submit\"\n                        variant=\"medium-flat-green\"\n                        width={165}\n                        height={72}\n                      >\n                        <p>Save</p>\n                      </Button>\n                    </Col>\n                  </Row>\n                </Col>\n              :\n                <Col className=\"justify-content-center button\" xs={12}>\n                  <Button type=\"submit\" variant=\"medium-flat-green\" width={165} height={72}>\n                    <p>Get Quote</p>\n                  </Button>\n                </Col>\n            }\n          </Row>\n        </form>\n        <RestrictionsPopup ref={node => this.resPopup = node} />\n      </div>\n    );\n  }\n}\n\nPetEditDetail.defaultProps = {\n  isPopUp: false,\n  setCloseCallBack: null,\n  storeForm: null,\n  closePopUp: null,\n  submitCallback: null,\n};\n\nPetEditDetail.propTypes = {\n  setRestrictionPopup: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n  form: PropTypes.string.isRequired,\n  change: PropTypes.func.isRequired,\n  isPopUp: PropTypes.bool,\n  resetForm: PropTypes.func.isRequired,\n  closePopUp: PropTypes.func,\n  setInsurFormState: PropTypes.func.isRequired,\n  setSubmit: PropTypes.func.isRequired,\n  storeForm: PropTypes.object,\n  setCloseCallBack: PropTypes.func,\n  submitCallback: PropTypes.func,\n  petFields: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = state => ({\n  storeForm: getFormValues(formName)(state),\n  isRevert: state.editForm.isRevert,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  resetForm: () => {\n    dispatch(reset(formName));\n  },\n  setInsurFormState: (state) => {\n    dispatch(setInsuranceFormState(state));\n  },\n  setSubmit: () => {\n    dispatch(invokeSubmit());\n  },\n  setRestrictionPopup: (data) => {\n    dispatch(setRestrictionPopup(data));\n  },\n});\n\nexport default withRouter(reduxForm({\n  form: formName,\n  destroyOnUnmount: false,\n})(connect(mapStateToProps, mapDispatchToProps)(PetEditDetail)));\n","/**\n * PetMain.js\n * Main Landing view for Pet\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport Pet1 from 'assets/images/Pet/policypal-pet-insurance-1.svg';\nimport Pet2 from 'assets/images/Pet/policypal-pet-insurance-2.svg';\nimport Pet3 from 'assets/images/Pet/policypal-pet-insurance-3.svg';\n\nimport PetEditDetail from './PetEditDetail';\nimport FormLanding from '../Templates/FormLanding/FormLanding';\n\nclass PetMain extends Component {\n  render() {\n    const { petFields, petPromoGiveAway } = this.props;\n    return (\n      <div className=\"pet-container\">\n        <FormLanding\n          img1={Pet1}\n          img2={Pet2}\n          img3={Pet3}\n          imgAlt=\"PolicyPal Pet Insurance\"\n          promo={petPromoGiveAway}\n          desc={\n            <Fragment>\n              <p>Get 5% Cashback </p>\n              <p>upon purchase of Pet Insurance!</p>\n            </Fragment>\n          }\n        >\n          <PetEditDetail\n            petFields={petFields}\n          />\n        </FormLanding>\n      </div>\n    );\n  }\n}\n\nPetMain.defaultProps = {\n  petPromoGiveAway: null,\n};\n\nPetMain.propTypes = {\n  petFields: PropTypes.object.isRequired,\n  petPromoGiveAway: PropTypes.object,\n};\n\nexport default PetMain;\n","/**\n * PetMainContainer.js\n * The main container for pet\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport ReactPixel from 'react-facebook-pixel';\n\nimport PetMain from '../../components/Pet/PetMain';\n\nimport { setInsuranceFormState, FORMSTATES } from '../../actions/insuranceActions';\nimport { getPetFields, clearPetData } from '../../actions/petActions';\nimport { setLoading, clearLoading } from '../../actions/loadingScreenActions';\nimport { gaTag, ampTag } from '../../lib/tagFunctions';\n\nclass PetMainContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    const {\n      loading,\n      petFields,\n      history,\n      clearData,\n    } = this.props;\n\n    clearData();\n\n    if (!petFields) {\n      loading(() => history.push('/'));\n      this.props.getPetFields();\n    }\n  }\n\n  componentDidMount() {\n    const { setFormState, history } = this.props;\n    setFormState(FORMSTATES.MAIN.index);\n\n    window.scrollTo(0, 0);\n\n    ReactPixel.track('CustomizeProduct');\n\n    gaTag({\n      page_title: 'Pet',\n      page_path: `/pet${history.location.search}`,\n    });\n    ampTag('PetFormS');\n  }\n\n  componentDidUpdate(prevProps) {\n    const { petFields, loadingEnd } = this.props;\n    if (!prevProps.petFields && petFields) {\n      loadingEnd();\n    }\n  }\n\n  render() {\n    const { petFields, petPromoGiveAway } = this.props;\n\n    if (!petFields) {\n      return null;\n    }\n\n    return (\n      <PetMain\n        petFields={petFields}\n        petPromoGiveAway={petPromoGiveAway}\n      />\n    );\n  }\n}\n\nPetMainContainer.defaultProps = {\n  petFields: null,\n  petPromoGiveAway: null,\n};\n\nPetMainContainer.propTypes = {\n  petFields: PropTypes.object,\n  getPetFields: PropTypes.func.isRequired,\n  loading: PropTypes.func.isRequired,\n  loadingEnd: PropTypes.func.isRequired,\n  history: PropTypes.object.isRequired,\n  petPromoGiveAway: PropTypes.object,\n  clearData: PropTypes.func.isRequired,\n  setFormState: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = state => ({\n  petFields: state.pet.petFields,\n  petPromoGiveAway: state.insurance.promoGiveaways.pet,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  getPetFields: () => {\n    dispatch(getPetFields());\n  },\n  loading: (callBack, errorMsg, time) => {\n    dispatch(setLoading(callBack, errorMsg, time));\n  },\n  loadingEnd: () => {\n    dispatch(clearLoading());\n  },\n  clearData: () => {\n    dispatch(clearPetData());\n  },\n  setFormState: (state) => {\n    dispatch(setInsuranceFormState(state));\n  },\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(PetMainContainer));\n","/**\n * PetChoosePlan.js\n * Choose Plan view for Pet\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Row, Col } from 'reactstrap';\n\n// Import Insurer Logos\nimport Logos from 'assets/images/InsurerLogos';\n\nimport CompareView from '../Templates/CompareView/CompareView';\nimport ChangeInitialFormData from '../Templates/ChangeInitialFormData/ChangeInitialFormData';\nimport HeaderDescWithButton from '../Templates/InsurerFormHeader/HeaderDescWithButton';\nimport Enquiry from '../Templates/Enquiry/Enquiry';\n\nimport PetEditDetail from './PetEditDetail';\n\nimport { ampTag } from '../../lib/tagFunctions';\n\nimport './PetChoosePlan.scss';\n\nclass PetChoosePlan extends Component {\n  constructor(props) {\n    super(props);\n\n    this.doAmpTags = this.doAmpTags.bind(this);\n  }\n\n  doAmpTags(planTypeIndex = 0) {\n    try {\n      const { plansData } = this.props;\n      const premium = plansData.plans.default.premium[planTypeIndex];\n      ampTag('PetBuyNowA', {\n        partner: plansData.selectedInsurers[0].insurerSlug,\n        'plan-name': plansData.policyTypes[planTypeIndex],\n        discount: `${((premium.price || 0) - (premium.net_price || 0)) / (premium.price || 0) * 100}%`,\n        price: premium.net_price || 0,\n      });\n    } catch (error) {\n      console.log(`Pet choose plan Buy now Amp tag failed: ${error.message}`);\n    }\n  }\n\n  render() {\n    const {\n      plansData,\n      petFields,\n      submitCallback,\n    } = this.props;\n\n    try {\n      for (let i = 0; i < plansData.plans.default.premium.length; ++i) {\n        plansData.plans.default.premium[i].doTag = () => this.doAmpTags(i);\n      }\n    } catch (error) {\n      console.log('Overwrite tags failed');\n    }\n\n    return (\n      <Fragment>\n        <Row className=\"inner-form-container\" noGutters>\n          <Col xs={12}>\n            <ChangeInitialFormData\n              form=\"pet\"\n              valuesToListen={[\n                { value: 'pet_species', desc: 'Pet' },\n                { value: 'start_date', desc: 'Start date' },\n              ]}\n              submitCallback={submitCallback}\n            >\n              <PetEditDetail isPopUp petFields={petFields} />\n            </ChangeInitialFormData>\n          </Col>\n          <Col className=\"company-product-container\" xs={12}>\n            <HeaderDescWithButton\n              logo={Logos.square[plansData.selectedInsurers[0].insurerSlug]}\n              logoName={`${plansData.selectedInsurers[0].insurerSlug}.svg`}\n              insurerName={plansData.selectedInsurers[0].insurerName}\n              insurerDesc={plansData.policyDetails.about}\n            />\n            <Row className=\"content-container\">\n              <Col xs={12}>\n                <p className=\"why\">{`Why ${plansData.selectedInsurers[0].insurerName}?`}</p>\n                <ul>\n                  {\n                    _.map(plansData.policyDetails.benefits, (benefit, index) => (\n                      <li key={`benefit-${index}`}><p>{benefit}</p></li>\n                    ))\n                  }\n                </ul>\n              </Col>\n              <CompareView\n                category=\"pet\"\n                key=\"overview\"\n                className=\"overview-container-padding\"\n                data={plansData}\n                currentTab=\"default\"\n                editForm={\n                  <ChangeInitialFormData\n                    form=\"pet\"\n                    valuesToListen={[\n                      { value: 'brand', desc: 'Brand' },\n                      { value: 'model', desc: 'Model' },\n                      { value: 'year', desc: 'Year' },\n                    ]}\n                  >\n                    <PetEditDetail isPopUp ref={node => this.editForm = node} />\n                  </ChangeInitialFormData>\n                }\n              />\n            </Row>\n          </Col>\n          <Enquiry />\n        </Row>\n      </Fragment>\n    );\n  }\n}\n\nPetChoosePlan.defaultProps = {\n};\n\nPetChoosePlan.propTypes = {\n  plansData: PropTypes.object.isRequired,\n  petFields: PropTypes.object.isRequired,\n  submitCallback: PropTypes.func.isRequired,\n};\n\nexport default PetChoosePlan;\n","/**\n * PetChoosePlanContainer.js\n * The choose plan container for pet\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { getFormValues } from 'redux-form';\nimport PropTypes from 'prop-types';\nimport ReactPixel from 'react-facebook-pixel';\n\nimport PetChoosePlan from '../../components/Pet/PetChoosePlan';\n\nimport { setSelectedPlanData, getPetPlans, clearPetData } from '../../actions/petActions';\nimport { setInsuranceFormState, parseData, FORMSTATES } from '../../actions/insuranceActions';\nimport { setPlanType } from '../../actions/compareActions';\nimport { setRestrictionPopup } from '../../actions/restrictionsActions';\nimport { setLoading, clearLoading } from '../../actions/loadingScreenActions';\nimport { gaTag, ampTag } from '../../lib/tagFunctions';\n\nclass PetChoosePlanContainer extends Component {\n  static getDerivedStateFromProps(nextProps) {\n    const {\n      plansData,\n      setFormState,\n      loadingEnd,\n      history,\n    } = nextProps;\n\n    if (plansData) {\n      return {\n        parsedData: parseData(plansData, null, null, null, () => {\n          setFormState(FORMSTATES.DETAILFORM.index);\n          history.push(`/pet${FORMSTATES.DETAILFORM.path}`);\n        }, nextProps.setSelectedPlanData, loadingEnd, nextProps.setRestrictionPopup, 0),\n      };\n    }\n\n    return null;\n  }\n\n  constructor(props) {\n    super(props);\n\n    const {\n      plansData,\n    } = this.props;\n\n    this.state = {\n      parsedData: null,\n    };\n\n    this.getNewData = this.getNewData.bind(this);\n\n    if (!plansData) {\n      this.getNewData();\n    }\n  }\n\n  componentDidMount() {\n    const { setFormState } = this.props;\n    setFormState(FORMSTATES.CHOOSEPLAN.index);\n    ReactPixel.track('Search');\n    gaTag({\n      page_title: 'Pet - Choose Plan',\n      page_path: '/pet/chooseplan',\n    });\n    ampTag('PetPlanS');\n  }\n\n  componentDidUpdate(prevProps) {\n    const { plansData, loadingEnd } = this.props;\n    if (!prevProps.plansData && plansData) {\n      loadingEnd();\n    }\n  }\n\n  getNewData() {\n    const {\n      petForm,\n      loading,\n      clearData,\n      history,\n    } = this.props;\n\n    clearData();\n    this.props.getPetPlans(petForm);\n    loading(() => {\n      clearData();\n      history.goBack();\n    }, 'No available plans found.', 30000);\n  }\n\n  render() {\n    const { parsedData } = this.state;\n    const { isLoggedIn, petFields } = this.props;\n\n    if (!parsedData) {\n      return null;\n    }\n\n    return (\n      <PetChoosePlan\n        petFields={petFields}\n        plansData={parsedData}\n        isFWD={false}\n        isLoggedIn={isLoggedIn}\n        submitCallback={this.getNewData}\n      />\n    );\n  }\n}\n\nPetChoosePlanContainer.defaultProps = {\n  plansData: null,\n};\n\nPetChoosePlanContainer.propTypes = {\n  plansData: PropTypes.array,\n  petForm: PropTypes.object.isRequired,\n  petFields: PropTypes.object.isRequired,\n  setFormState: PropTypes.func.isRequired,\n  isLoggedIn: PropTypes.bool.isRequired,\n  getPetPlans: PropTypes.func.isRequired,\n  loading: PropTypes.func.isRequired,\n  loadingEnd: PropTypes.func.isRequired,\n  clearData: PropTypes.func.isRequired,\n  history: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = state => ({\n  petForm: getFormValues('pet')(state),\n  plansData: state.pet.plansData,\n  petFields: state.pet.petFields,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  getPetPlans: petForm => (\n    dispatch(getPetPlans(petForm))\n  ),\n  setFormState: (state) => {\n    dispatch(setInsuranceFormState(state));\n  },\n  loading: (callBack, errorMsg, time) => {\n    dispatch(setLoading(callBack, errorMsg, time));\n  },\n  loadingEnd: () => {\n    dispatch(clearLoading());\n  },\n  setPlanType: (category, type) => {\n    dispatch(setPlanType(category, type));\n  },\n  setSelectedPlanData: (data) => {\n    dispatch(setSelectedPlanData(data));\n  },\n  setRestrictionPopup: (data) => {\n    dispatch(setRestrictionPopup(data));\n  },\n  clearData: () => {\n    dispatch(clearPetData());\n  },\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(PetChoosePlanContainer));\n","/**\n * PetDetail.js\n * Detail View for Pet\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { reduxForm, getFormValues } from 'redux-form';\nimport { Row, Col } from 'reactstrap';\nimport PropTypes from 'prop-types';\n\n// Import Insurer Logos\nimport DetailForm from '../Templates/DetailForm/DetailForm';\n\nimport TextInput from '../Forms/TextInput/TextInput';\nimport DatePickerV2 from '../Forms/DatePicker/DatePickerV2';\nimport DropDownV2 from '../Forms/DropDown/DropDownV2';\nimport Selection from '../Forms/Selection/Selection';\n\n// import { getPostal } from '../../actions/insuranceActions';\nimport { validateForm, dateReValidate } from '../../lib/validators';\nimport { slashedStringDateToDate } from '../../lib/dateFunctions';\nimport { gaEvent, ampTag } from '../../lib/tagFunctions';\n\nimport './PetDetail.scss';\n\nconst formName = 'pet-detail';\n\nclass PetDetail extends Component {\n  constructor(props) {\n    super(props);\n\n    const { petFields } = this.props;\n    const dateField = _.find(petFields.form_fields, field => field.name === 'pet_birth_date');\n    // console.log(dateField);\n    this.state = {\n      errorStringData: {},\n      petMinDate: slashedStringDateToDate(dateField.min_date),\n      petMaxDate: slashedStringDateToDate(dateField.max_date),\n      errorArray: [],\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.validateForm = this.validateForm.bind(this);\n  }\n\n  async validateForm(e, isSubmit = false) {\n    // console.log(e);\n    const { petMinDate, petMaxDate } = this.state;\n    const fieldsToCheck = [\n      'email',\n      'family_name',\n      'given_name',\n      'id_type',\n      'nric',\n      'mobile_number',\n      'blk_no',\n      'address',\n      'unit_no',\n      'postal',\n      'pet_name',\n      'pet_microchip_no',\n      'pet_birth_date',\n      'pet_illness',\n    ];\n\n    if (e.pet_illness === 'Yes') {\n      fieldsToCheck.push('pet_medical_record');\n    }\n\n    const error = validateForm(e, fieldsToCheck, {\n      pet_birth_date: { type: 'DATE', start: petMinDate, end: petMaxDate },\n      pet_illness: { type: 'ARRAY', data: ['Yes', 'No'] },\n    });\n\n    /* if (isSubmit) {\n      const postalResult = await getPostal(e.postal);\n      if (!postalResult) {\n        error.postal = 'Invalid postal code';\n      }\n    } */\n\n    this.setState({\n      errorStringData: error,\n    });\n    let errorArray = [];\n    if (!_.isEmpty(error)) {\n      errorArray = [<p className=\"error-string\" key=\"error-1\">Fields are not properly filled, please check again.</p>];\n    }\n\n    this.setState({\n      errorArray,\n    });\n\n    return error;\n  }\n\n  async handleSubmit(e, isFirstValidate = true) {\n    // console.log(e);\n    const { submitCallback, storeForm } = this.props;\n\n    const errorResult = await this.validateForm(isFirstValidate ? e : storeForm, true);\n    const isEmptyResult = _.isEmpty(errorResult);\n\n    if (dateReValidate(\n      isEmptyResult,\n      isFirstValidate,\n      errorResult,\n      error => this.setState({ errorStringData: error, errorArray: null }),\n      () => this.handleSubmit(storeForm, false),\n    )) {\n      return;\n    }\n\n    if (isEmptyResult) {\n      gaEvent('Pet - DetailForm - Checkout', {\n        event_category: 'Pet',\n        event_label: 'Pet - DetailForm - Checkout',\n      });\n      ampTag('PetGoCheckoutA', {\n        idtype: e.id_type,\n        hospital: e.pet_illness === 'Yes',\n      });\n\n      submitCallback();\n    }\n    window.scrollTo(0, document.body.scrollHeight);\n  }\n\n  renderIllnessForm() {\n    const { errorStringData } = this.state;\n    const {\n      form,\n      change,\n      storeForm,\n    } = this.props;\n\n    if (storeForm && storeForm.pet_illness === 'Yes') {\n      return (\n        <Col xs={12} className=\"illness-input\">\n          <TextInput\n            form={form}\n            change={change}\n            name=\"pet_medical_record\"\n            placeholderString=\"\"\n            size=\"medium\"\n            zIndex={87}\n            desc=\"If yes, please complete below with Date of Illness, nature of Illness, treatment, and name of vet\"\n            errorString={errorStringData.pet_medical_record}\n            validateForm={() => this.validateForm(storeForm)}\n          />\n        </Col>\n      );\n    }\n    return null;\n  }\n\n  render() {\n    const {\n      errorStringData,\n      petMinDate,\n      petMaxDate,\n      errorArray,\n    } = this.state;\n    const {\n      form,\n      change,\n      planDetails,\n      isLoggedIn,\n      piggyCallback,\n      changePlan,\n      constants,\n      storeForm,\n    } = this.props;\n\n    return (\n      <DetailForm\n        category=\"pet\"\n        changePlan={changePlan}\n        handleSubmit={this.props.handleSubmit}\n        onSubmit={this.handleSubmit}\n        change={change}\n        form={form}\n        planDetails={planDetails}\n        isLoggedIn={isLoggedIn}\n        piggyCallback={piggyCallback}\n        errorArray={errorArray}\n      >\n        <Row className=\"main-form\" noGutters>\n          <Col xs={12}>\n            <TextInput\n              form={form}\n              change={change}\n              name=\"email\"\n              placeholderString=\"\"\n              size=\"medium\"\n              zIndex={99}\n              desc=\"Email Address\"\n              errorString={errorStringData.email}\n              validateForm={() => this.validateForm(storeForm)}\n            />\n          </Col>\n          <Col className=\"right-padding\" xs={12} sm={6}>\n            <TextInput\n              form={form}\n              change={change}\n              name=\"family_name\"\n              placeholderString=\"\"\n              size=\"medium\"\n              zIndex={98}\n              desc=\"Surname\"\n              errorString={errorStringData.family_name}\n              validateForm={() => this.validateForm(storeForm)}\n            />\n          </Col>\n          <Col className=\"left-padding\" xs={12} sm={6}>\n            <TextInput\n              form={form}\n              change={change}\n              name=\"given_name\"\n              placeholderString=\"\"\n              size=\"medium\"\n              zIndex={97}\n              desc=\"Name (as shown in ID document)\"\n              errorString={errorStringData.given_name}\n              validateForm={() => this.validateForm(storeForm)}\n            />\n          </Col>\n          <Col className=\"right-padding\" xs={12} sm={6}>\n            <DropDownV2\n              form={form}\n              change={change}\n              name=\"id_type\"\n              placeholderString=\"Select ID Type\"\n              dropList={constants.idTypes}\n              size=\"medium\"\n              zIndex={96}\n              desc=\"Type of ID\"\n              errorString={errorStringData.id_type}\n              validateForm={() => this.validateForm(storeForm)}\n            />\n          </Col>\n          <Col className=\"left-padding\" xs={12} sm={6}>\n            <TextInput\n              form={form}\n              change={change}\n              name=\"nric\"\n              placeholderString=\"\"\n              size=\"medium\"\n              zIndex={95}\n              desc=\"ID Number\"\n              errorString={errorStringData.nric}\n              validateForm={() => this.validateForm(storeForm)}\n              toUpper\n            />\n          </Col>\n          <Col className=\"right-padding\" xs={12} sm={6}>\n            <TextInput\n              form={form}\n              change={change}\n              name=\"mobile_number\"\n              placeholderString=\"\"\n              size=\"medium\"\n              zIndex={94}\n              desc=\"Mobile Number\"\n              errorString={errorStringData.mobile_number}\n              validateForm={() => this.validateForm(storeForm)}\n            />\n          </Col>\n          <Col xs={12}>\n            <hr className=\"hr-margin\" />\n          </Col>\n          <Col xs={12} className=\"header\">\n            <p>Address</p>\n          </Col>\n          <Col className=\"form-right-padding\" xs={6}>\n            <TextInput\n              form={form}\n              change={change}\n              name=\"blk_no\"\n              placeholderString=\"\"\n              size=\"medium\"\n              zIndex={86}\n              desc=\"Block No\"\n              errorString={errorStringData.blk_no}\n              validateForm={() => this.validateForm(storeForm)}\n            />\n          </Col>\n          <Col className=\"form-left-padding\" xs={6}>\n            <TextInput\n              form={form}\n              change={change}\n              name=\"address\"\n              placeholderString=\"\"\n              size=\"medium\"\n              zIndex={86}\n              desc=\"Street\"\n              errorString={errorStringData.street}\n              validateForm={() => this.validateForm(storeForm)}\n            />\n          </Col>\n          <Col className=\"right-padding\" xs={12} sm={6}>\n            <TextInput\n              form={form}\n              change={change}\n              name=\"unit_no\"\n              placeholderString=\"enter NA if no unit\"\n              size=\"medium\"\n              zIndex={92}\n              desc=\"Unit No\"\n              errorString={errorStringData.unit_no}\n              validateForm={() => this.validateForm(storeForm)}\n            />\n          </Col>\n          <Col className=\"left-padding\" xs={12} sm={6}>\n            <TextInput\n              form={form}\n              change={change}\n              name=\"postal\"\n              placeholderString=\"\"\n              size=\"medium\"\n              zIndex={91}\n              desc=\"Postcode\"\n              errorString={errorStringData.postal}\n              validateForm={() => this.validateForm(storeForm)}\n              isPostCode\n              addressFields={{\n                address: 'address',\n                unitNo: 'unit_no',\n              }}\n            />\n          </Col>\n          <Col xs={12}>\n            <hr className=\"hr-margin\" />\n          </Col>\n          <Col xs={12} className=\"header\">\n            <p>{'Pet\\'s details'}</p>\n          </Col>\n          <Col className=\"right-padding\" xs={12} sm={6}>\n            <TextInput\n              form={form}\n              change={change}\n              name=\"pet_name\"\n              placeholderString=\"\"\n              size=\"medium\"\n              zIndex={90}\n              desc=\"Name of Pet\"\n              errorString={errorStringData.pet_name}\n              validateForm={() => this.validateForm(storeForm)}\n            />\n          </Col>\n          <Col className=\"left-padding\" xs={12} sm={6}>\n            <TextInput\n              form={form}\n              change={change}\n              name=\"pet_microchip_no\"\n              placeholderString=\"\"\n              size=\"medium\"\n              zIndex={89}\n              desc=\"Microchip Number\"\n              errorString={errorStringData.pet_microchip_no}\n              validateForm={() => this.validateForm(storeForm)}\n            />\n          </Col>\n          <Col className=\"right-padding\" xs={12} sm={6}>\n            <DatePickerV2\n              form={form}\n              change={change}\n              name=\"pet_birth_date\"\n              size=\"medium\"\n              zIndex={88}\n              desc=\"Pet's Birthday\"\n              startDate={petMinDate}\n              endDate={petMaxDate}\n              currDate={petMinDate}\n              errorString={errorStringData.pet_birth_date}\n              validateForm={() => this.validateForm(storeForm)}\n            />\n          </Col>\n          <Col xs={12}>\n            <div className=\"input-wrapper-main pet-illness-desc\">\n              <p className=\"input-wrapper-desc\">My pet has been to the vet or hospital for other than routine checkups or preventive medicine</p>\n            </div>\n          </Col>\n          <Col xs={12} sm={4}>\n            <Selection\n              form={form}\n              change={change}\n              name=\"pet_illness\"\n              type=\"radio\"\n              options={[\n                { key: 'Yes', description: 'Yes' },\n                { key: 'No', description: 'No' },\n              ]}\n              sizeInSM={6}\n              desc=\"\"\n              errorString={errorStringData.pet_illness}\n              validateForm={() => this.validateForm(storeForm)}\n              noEmptyTextSelection\n            />\n          </Col>\n          {this.renderIllnessForm()}\n          <Col xs={12}>\n            <hr className=\"hr-margin\" />\n          </Col>\n        </Row>\n      </DetailForm>\n    );\n  }\n}\n\nPetDetail.defaultProps = {\n  storeForm: null,\n};\n\nPetDetail.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n  submitCallback: PropTypes.func.isRequired,\n  form: PropTypes.string.isRequired,\n  change: PropTypes.func.isRequired,\n  planDetails: PropTypes.object.isRequired,\n  isLoggedIn: PropTypes.bool.isRequired,\n  piggyCallback: PropTypes.func.isRequired,\n  changePlan: PropTypes.func.isRequired,\n  constants: PropTypes.object.isRequired,\n  storeForm: PropTypes.object,\n  petFields: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = state => ({\n  storeForm: getFormValues(formName)(state),\n  constants: state.insurance.constants,\n});\n\nexport default reduxForm({\n  form: formName,\n  destroyOnUnmount: false,\n})(connect(mapStateToProps)(PetDetail));\n","/**\n * PetDetailContainer.js\n * The detail container for pet\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\n// Import Insurer Logos\nimport Logos from 'assets/images/InsurerLogos';\nimport PetDetail from '../../components/Pet/PetDetail';\nimport { setInsuranceFormState, FORMSTATES } from '../../actions/insuranceActions';\nimport { gaTag, gaEvent, ampTag } from '../../lib/tagFunctions';\n\nclass PetDetailContainer extends Component {\n  componentDidMount() {\n    const { setFormState } = this.props;\n    setFormState(FORMSTATES.DETAILFORM.index);\n    gaTag({\n      page_title: 'Pet - Detail Form',\n      page_path: '/pet/detailform',\n    });\n    ampTag('PetDetailsS');\n  }\n\n  render() {\n    const {\n      plansData,\n      isLoggedIn,\n      setFormState,\n      profileValues,\n      piggyCallback,\n      petFields,\n      history,\n    } = this.props;\n\n    if (!plansData) {\n      return null;\n    }\n\n    const selectedData = plansData;\n\n    let planDetails = {\n      logo: Logos.others,\n      logoDesc: '',\n      planName: '',\n      planTotal: null,\n    };\n\n    try {\n      planDetails = {\n        logo: Logos[selectedData.info.insurer_slug],\n        logoDesc: `${selectedData.info.insurer_name}.svg`,\n        planName: selectedData.info.product_name,\n        planTotal: `$${selectedData.policyInfo[selectedData.planType].net_price.toFixed(2)}`,\n      };\n    } catch (error) {\n      console.log('Get plan details failed');\n    }\n\n    return (\n      <PetDetail\n        petFields={petFields}\n        selectedData={selectedData}\n        planDetails={planDetails}\n        isLoggedIn={isLoggedIn}\n        piggyCallback={piggyCallback}\n        changePlan={() => {\n          history.goBack();\n          gaEvent('Pet - DetailForm - ChangePlan', {\n            event_category: 'Pet',\n            event_label: 'Pet - DetailForm - ChangePlan',\n          });\n        }}\n        profileValues={profileValues}\n        submitCallback={() => {\n          setFormState(FORMSTATES.CHECKOUT.index);\n          history.push(`/pet${FORMSTATES.CHECKOUT.path}`);\n        }}\n      />\n    );\n  }\n}\n\nPetDetailContainer.defaultProps = {\n};\n\nPetDetailContainer.propTypes = {\n  plansData: PropTypes.object.isRequired,\n  piggyCallback: PropTypes.func.isRequired,\n  isLoggedIn: PropTypes.bool.isRequired,\n  setFormState: PropTypes.func.isRequired,\n  profileValues: PropTypes.object.isRequired,\n  petFields: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired,\n};\n\n\nconst mapStateToProps = state => ({\n  petFields: state.pet.petFields,\n  profileValues: state.userDetails,\n  plansData: state.pet.selectedPlanData,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setFormState: (state) => {\n    dispatch(setInsuranceFormState(state));\n  },\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(PetDetailContainer));\n","/**\n * PetRouteContainer.js\n * The wrapper container for pet\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { change, reset } from 'redux-form';\nimport { /* Prompt, */ withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\n// import Page from 'components/Page';\n// import { petTags } from 'metaTagsConstants';\n\nimport { clearPetData } from '../../actions/petActions';\nimport { getPromoGiveaways, resetInsuranceForm, FORMSTATES } from '../../actions/insuranceActions';\nimport { resetCompare } from '../../actions/compareActions';\n\nimport StepProgressBar from '../../components/Templates/StepProgressBar/StepProgressBar';\nimport RefreshTimer from '../../components/Templates/RefreshTimer/RefreshTimer';\n\nimport PetMainContainer from './PetMainContainer';\nimport PetChoosePlanContainer from './PetChoosePlanContainer';\nimport PetDetailContainer from './PetDetailContainer';\nimport PetCheckoutContainer from './PetCheckoutContainer';\n\nimport { dateToStoreString } from '../../lib/dateFunctions';\nimport { routeHandler } from '../../lib/helperFunctions';\n\nconst formName = 'pet';\nconst detailFormName = 'pet-detail';\n\nclass PetRouteContainer extends Component {\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const { formIndex, isMounted } = prevState;\n    const { formState, match, history } = nextProps;\n\n    if (isMounted) {\n      const routeResult = routeHandler(formName, formState, formIndex, match, history);\n      if (routeResult && routeResult.formIndex !== null) {\n        return ({\n          formIndex: routeResult.formIndex,\n        });\n      }\n    }\n    return null;\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      formIndex: 0,\n      isInitialLoad: true,\n    };\n\n    const {\n      resetStoreForm,\n      clearData,\n      petPromoGiveAway,\n      history,\n    } = this.props;\n\n    if (history.location.pathname !== '/pet') {\n      history.replace(`/pet${history.location.search}`);\n    }\n\n    if (petPromoGiveAway === undefined) {\n      this.props.getPromoGiveaways();\n    }\n\n    clearData();\n    this.props.resetInsuranceForm();\n    this.props.resetCompare();\n\n    resetStoreForm('pet');\n    resetStoreForm('pet-detail');\n\n    this.setInitialFormState = this.setInitialFormState.bind(this);\n    this.renderStepProgress = this.renderStepProgress.bind(this);\n    this.renderPetForms = this.renderPetForms.bind(this);\n    this.changeUserDetails = this.changeUserDetails.bind(this);\n  }\n\n  componentDidMount() {\n    // window.onbeforeunload = () => true;\n    this.setInitialFormState();\n    this.setState({\n      // eslint-disable-next-line\n      isMounted: true,\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    const { isInitialLoad } = this.state;\n    const { userDetails } = this.props;\n\n    if (isInitialLoad && _.isEqual(userDetails, prevProps.userDetails)) {\n      this.changeUserDetails();\n    }\n  }\n\n  componentWillUnmount() {\n    const { clearData, resetStoreForm } = this.props;\n    clearData();\n    this.props.resetCompare();\n    this.props.resetInsuranceForm();\n\n    resetStoreForm('pet');\n    resetStoreForm('pet-detail');\n  }\n\n  setInitialFormState() {\n    const { changeForm } = this.props;\n\n    const startDate = new Date();\n    startDate.setDate(startDate.getDate() + 1);\n    changeForm(formName, 'start_date', dateToStoreString(startDate));\n\n    this.changeUserDetails();\n  }\n\n  changeUserDetails() {\n    const { isInitialLoad } = this.state;\n    const { userDetails, changeForm } = this.props;\n\n    if (userDetails) {\n      changeForm(detailFormName, 'email', userDetails.email);\n      changeForm(detailFormName, 'given_name', userDetails.firstName);\n      changeForm(detailFormName, 'family_name', userDetails.surname);\n      changeForm(detailFormName, 'id_type', userDetails.id_type);\n      changeForm(detailFormName, 'nric', userDetails.nric);\n      changeForm(detailFormName, 'mobile_number', userDetails.contact);\n      changeForm(detailFormName, 'address', userDetails.address);\n      changeForm(detailFormName, 'unit_no', userDetails.unit_no);\n      changeForm(detailFormName, 'postal', userDetails.postal_code);\n      changeForm(detailFormName, 'blk_no', userDetails.blk_no);\n\n      if (isInitialLoad) {\n        this.setState({\n          isInitialLoad: false,\n        });\n      }\n    }\n  }\n\n  renderStepProgress() {\n    const { formIndex } = this.state;\n    const { charged } = this.props;\n\n    return (\n      <StepProgressBar\n        maxWidth=\"556px\"\n        formState={formIndex}\n        inputList={[\n          'Choose Plan',\n          'Details',\n          'Checkout',\n        ]}\n        form=\"pet\"\n        stateList={[\n          FORMSTATES.CHOOSEPLAN,\n          FORMSTATES.DETAILFORM,\n          FORMSTATES.CHECKOUT,\n        ]}\n        stateDescriptions={[\n          { main: '' /* 'Choose your preferred plan' */},\n          { main: 'Details' },\n          { main: 'Checkout' },\n        ]}\n        charged={charged}\n      />\n    );\n  }\n\n  renderPetForms() {\n    const { formIndex } = this.state;\n    const {\n      userDetails,\n      charged,\n    } = this.props;\n\n    const isLoggedIn = !_.isEmpty(userDetails);\n\n    switch (formIndex) {\n      case FORMSTATES.CHOOSEPLAN.index:\n        return <PetChoosePlanContainer isLoggedIn={isLoggedIn} />;\n      case FORMSTATES.DETAILFORM.index:\n        return (\n          <PetDetailContainer\n            isLoggedIn={isLoggedIn}\n            piggyCallback={this.changeUserDetails}\n          />\n        );\n      case FORMSTATES.CHECKOUT.index:\n      case FORMSTATES.SUBMITTED.index:\n        return <PetCheckoutContainer isLoggedIn={isLoggedIn} charged={charged} />;\n      default:\n        return <PetMainContainer isLoggedIn={isLoggedIn} />;\n    }\n  }\n\n  render() {\n    const { petPromoGiveAway, constants } = this.props;\n\n    if (!constants || petPromoGiveAway === undefined) {\n      return null;\n    }\n\n    return (\n      <Fragment\n        // rest={petTags}\n      >\n        {/* {\n          formState !== FORMSTATES.MAIN ?\n            <Prompt\n              when={true}\n              message=\"Are you sure you want to leave current page?\"\n            />\n          :\n            null\n        } */}\n        {this.renderStepProgress()}\n        {this.renderPetForms()}\n        <RefreshTimer ref={(node) => {\n            if (!this.refresher) {\n              node.invokeNewTimer();\n            }\n            this.refresher = node;\n          }}\n        />\n      </Fragment>\n    );\n  }\n}\n\nPetRouteContainer.defaultProps = {\n  userDetails: null,\n  charged: null,\n  constants: null,\n  petPromoGiveAway: undefined,\n};\n\nPetRouteContainer.propTypes = {\n  clearData: PropTypes.func.isRequired,\n  resetCompare: PropTypes.func.isRequired,\n  resetInsuranceForm: PropTypes.func.isRequired,\n  changeForm: PropTypes.func.isRequired,\n  resetStoreForm: PropTypes.func.isRequired,\n  userDetails: PropTypes.object,\n  charged: PropTypes.bool,\n  constants: PropTypes.object,\n  getPromoGiveaways: PropTypes.func.isRequired,\n  petPromoGiveAway: PropTypes.object,\n  history: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = state => ({\n  formState: state.insurance.formState,\n  constants: state.insurance.constants,\n  charged: state.insurance.charged,\n  userDetails: state.userDetails.data,\n  petPromoGiveAway: state.insurance.promoGiveaways.pet,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  changeForm: (form, key, value) => (\n    dispatch(change(form, key, value))\n  ),\n  resetInsuranceForm: () => (\n    dispatch(resetInsuranceForm())\n  ),\n  resetStoreForm: form => (\n    dispatch(reset(form))\n  ),\n  resetCompare: () => {\n    dispatch(resetCompare());\n  },\n  clearData: () => {\n    dispatch(clearPetData());\n  },\n  getPromoGiveaways: () => {\n    dispatch(getPromoGiveaways('pet'));\n  },\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(PetRouteContainer));\n","/**\n * TabView.js\n * TabView that uses a carousel or fading.\n *\n * For carousel, it will take in multiple elements in\n * an array to swap when changed tabs.\n *\n * For fading view, it will only take the 1st element in the array,\n * but it does a fading to simulate and give time for the change of state\n * to happen in that element.\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport ReactDOM from 'react-dom';\nimport { connect } from 'react-redux';\nimport { Carousel } from 'react-responsive-carousel';\n\nimport PropTypes from 'prop-types';\n\nimport DropDownV2 from '../../Forms/DropDown/DropDownV2';\n\nimport { setTabSelection } from '../../../actions/tabActions';\n\nimport './TabView.scss';\n\n/**\n * Custom Form Dropdown class\n */\nclass TabView extends Component {\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      currentTabSelection,\n      tabs,\n      maxTabWidthPx,\n      isDataFadeOnly,\n      padding,\n      children,\n    } = nextProps;\n\n    const { activeIndex } = prevState;\n\n    let result = null;\n\n    if (tabs && currentTabSelection) {\n      const newIndex = _.findIndex(tabs, tab => tab.desc === currentTabSelection);\n      if (newIndex >= 0 && newIndex !== activeIndex) {\n        result = {\n          activeIndex: newIndex,\n        };\n      }\n    }\n\n    if (tabs !== prevState.tabs && children) {\n      const isUsingMaxWidth = maxTabWidthPx > 0;\n      const maxWidth = (100 - padding) / (isDataFadeOnly ? tabs.length : children.length);\n      const tabWidth = isUsingMaxWidth ? maxTabWidthPx : maxWidth;\n\n      result = {\n        ...result,\n        tabs,\n        width: tabWidth,\n        widthPercentage: isUsingMaxWidth ? `${maxTabWidthPx}px` : `${tabWidth}%`,\n        maxWidth: `${maxWidth}%`,\n      };\n    }\n\n    return result;\n  }\n\n  /**\n   * Constructor\n   *\n   * @param {object} props Component props\n   */\n  constructor(props) {\n    super(props);\n\n    const {\n      padding,\n      children,\n      maxTabWidthPx,\n      isDataFadeOnly,\n      tabs,\n      initialIndex,\n    } = this.props;\n\n    const isUsingMaxWidth = maxTabWidthPx > 0;\n    const maxWidth = (100 - padding) / (isDataFadeOnly ? tabs.length : children.length);\n    const tabWidth = isUsingMaxWidth ? maxTabWidthPx : maxWidth;\n\n    this.state = {\n      activeIndex: initialIndex,\n      containerWidth: 0,\n      width: tabWidth,\n      widthPercentage: isUsingMaxWidth ? `${maxTabWidthPx}px` : `${tabWidth}%`,\n      maxWidth: `${maxWidth}%`,\n      paddingWidth: maxTabWidthPx ? '100%' : `${padding}%`,\n      isControlVisible: true,\n      isUsingMaxWidth,\n      isDropDownControl: tabs && tabs.length > 10,\n      fadeStyle: '',\n      tabs,\n    };\n\n    this.goToIndex = this.goToIndex.bind(this);\n\n    this.handleResize = this.handleResize.bind(this);\n    this.resizeTabHeight = this.resizeTabHeight.bind(this);\n    this.renderTabs = this.renderTabs.bind(this);\n    this.renderTabContent = this.renderTabContent.bind(this);\n    this.renderControls = this.renderControls.bind(this);\n    this.renderSlides = this.renderSlides.bind(this);\n  }\n\n  componentDidMount() {\n    const { tabs } = this.state;\n    const {\n      initialIndex,\n      name,\n      changeTab,\n    } = this.props;\n\n    changeTab(name, tabs[0].desc);\n\n    window.addEventListener('resize', this.handleResize);\n\n    this.handleResize();\n\n    this.resizeTabHeight(initialIndex, ReactDOM.findDOMNode(this.carousel));\n\n    this.setState({\n      activeIndex: initialIndex,\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { tabs, activeIndex, containerWidth } = this.state;\n    const { setTriggerHeightUpdate } = this.props;\n    if (!prevProps.setTriggerHeightUpdate && setTriggerHeightUpdate) {\n      const { resizeTabHeight } = this;\n\n      setTriggerHeightUpdate(() => {\n        resizeTabHeight(activeIndex);\n      });\n    }\n\n    if (tabs !== prevState.tabs) {\n      this.resizeTabHeight(activeIndex);\n    }\n\n    if (this.tabContainer) {\n      const tabWidth = this.tabContainer.getBoundingClientRect().width;\n      if (tabWidth !== containerWidth) {\n        setTimeout(() => this.setState({ containerWidth: tabWidth }), 100);\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n  }\n\n  handleResize() {\n    const { isControlVisible, activeIndex, tabs } = this.state;\n    const { hideWidth } = this.props;\n\n    this.setState({\n      isDropDownControl: window.innerWidth < 560 || (tabs && tabs.length > 10),\n    });\n\n\n    this.resizeTabHeight(activeIndex);\n\n    if (hideWidth) {\n      const isVisibleNow = window.innerWidth > hideWidth;\n\n      this.setState({\n        isControlVisible: isVisibleNow,\n      });\n\n      if (isControlVisible && !isVisibleNow) {\n        this.goToIndex(0);\n      }\n    }\n  }\n\n  goToIndex(newIndex, isForced = false) {\n    const { tabs, activeIndex } = this.state;\n    if (!isForced && newIndex === activeIndex) {\n      return;\n    }\n    const {\n      name,\n      isDataFadeOnly,\n      changeTab,\n    } = this.props;\n\n\n    if (isDataFadeOnly) {\n      this.setState({\n        fadeStyle: 'animated fadeOut',\n      });\n\n      this.setState({ activeIndex: newIndex });\n      changeTab(name, tabs[newIndex].desc);\n\n      setTimeout(() => {\n        if (tabs[newIndex].onClick) {\n          tabs[newIndex].onClick();\n        }\n        this.setState({\n          fadeStyle: 'animated fadeIn',\n        });\n\n        setTimeout(() => {\n          this.setState({\n            fadeStyle: '',\n          });\n        }, 300);\n      }, 300);\n    } else {\n      this.setState({ activeIndex: newIndex });\n      changeTab(name, tabs[newIndex].desc);\n      if (tabs[newIndex].onClick) {\n        tabs[newIndex].onClick();\n      }\n    }\n\n    this.resizeTabHeight(newIndex);\n  }\n\n  resizeTabHeight(index, carouselIncoming = null, overrideNegation = null) {\n    const { isConstantHeight } = this.props;\n\n    const carouselToUse = carouselIncoming !== null ? carouselIncoming : ReactDOM.findDOMNode(this.carousel);\n    // No other way for now >_<\n    if (!isConstantHeight && carouselToUse) {\n      const list = carouselToUse.getElementsByTagName('UL')[0];\n      const children = list.children[index];\n\n      if (children) {\n        const sliderWrapper = list.parentNode;\n        const itemHeight = overrideNegation ? children.children[0].scrollHeight + overrideNegation : children.children[0].scrollHeight;\n        sliderWrapper.style.height = itemHeight === 0 ? 1000 : `${itemHeight}px`;\n      }\n    }\n  }\n\n  renderTabContent(tab, activeStyle) {\n    const {\n      big,\n    } = this.props;\n\n    const bigTextStyle = big ? 'tab-text-big' : '';\n\n    const isWithImg = !_.isString(tab);\n    const desc = isWithImg ? tab.desc : tab;\n    const img = isWithImg ? tab.img : null;\n\n    return (\n      <Fragment>\n        {\n          img ?\n            <div className=\"img-container\">\n              <img className={activeStyle} src={img} alt={`${desc}.svg`} />\n            </div>\n          :\n            null\n        }\n        <p className={`${activeStyle} ${bigTextStyle}`}>{desc}</p>\n      </Fragment>\n    );\n  }\n\n  renderTabs(width) {\n    const { activeIndex, tabs } = this.state;\n    const {\n      big,\n      maxTabWidthPx,\n    } = this.props;\n\n    const bigTabStyle = big ? 'tab-big' : '';\n\n    return _.map(tabs, (tab, index) => {\n      const tabStyle = index === activeIndex ? 'active' : 'inactive';\n      const maxWidth = maxTabWidthPx > 0 ? maxTabWidthPx : null;\n\n      return (\n        <div\n          className={`tab ${bigTabStyle}`}\n          style={{ width, maxWidth }}\n          key={`tab${index}`}\n        >\n          <div\n            className=\"tab-inner\"\n            onClick={() => { this.goToIndex(index); }}\n            role=\"button\"\n            tabIndex={-1}\n            onKeyDown={() => {}}\n          >\n            {this.renderTabContent(tab, tabStyle)}\n          </div>\n        </div>\n      );\n    });\n  }\n\n  renderSlides() {\n    const { children } = this.props;\n    const { goToIndex } = this;\n\n    return _.map(children, (item, index) => (\n      <div key={`tab-item${index}`}>\n        {React.cloneElement(item, {\n          updateTabHeight: (overrideNegation = null) => this.resizeTabHeight(index, null, overrideNegation),\n          goToIndex,\n        })}\n      </div>\n    ));\n  }\n\n  renderControls() {\n    const {\n      activeIndex,\n      width,\n      widthPercentage,\n      maxWidth,\n      containerWidth,\n      paddingWidth,\n      isUsingMaxWidth,\n      isDropDownControl,\n      tabs,\n    } = this.state;\n\n    const {\n      style,\n      isDisableDropdown,\n      big,\n      charged,\n    } = this.props;\n\n    if (isDisableDropdown || !isDropDownControl) {\n      const isOverContainer = tabs && tabs.length * width > containerWidth;\n      const selectedMargin = isUsingMaxWidth && !isOverContainer ? activeIndex * width : `${activeIndex / tabs.length * 100}%`;\n      const bigStyle = big ? 'tab-big' : '';\n      const tabStyle = charged ? 'tab-container-charged' : '';\n\n      return (\n        <div\n          style={style}\n          className={`tab-container ${tabStyle} tab-container-padding`}\n          ref={node => this.tabContainer = node}\n        >\n          {this.renderTabs(isOverContainer ? maxWidth : widthPercentage)}\n          <div className=\"tab tab-padding\" style={{ width: paddingWidth }} />\n          <div\n            className={`selected-tab ${bigStyle}`}\n            style={{\n              width: widthPercentage,\n              maxWidth,\n              marginLeft: selectedMargin,\n            }}\n          />\n        </div>\n      );\n    }\n\n    const droplist = _.map(tabs, tab => tab.desc);\n\n    if (!isDisableDropdown && isDropDownControl) {\n      return (\n        <div className=\"tab-container\">\n          <DropDownV2\n            ref={node => this.dropdown = node}\n            placeholderString=\"Enter or select your destinations\"\n            dropList={droplist}\n            size=\"medium\"\n            zIndex={100}\n            isDisableTyping\n            notForm\n            valueChangeCallback={value => this.goToIndex(_.findIndex(tabs, tab => tab.desc === value))}\n            overrideValue={tabs[activeIndex].desc}\n          />\n        </div>\n      );\n    }\n\n    return null;\n  }\n\n  render() {\n    const {\n      activeIndex,\n      isControlVisible,\n      fadeStyle,\n    } = this.state;\n\n    const { isDataFadeOnly, className, charged } = this.props;\n    const containerStyle = charged ? 'tabview-container-charged' : '';\n\n    return (\n      <div className={`tabview-container ${containerStyle} ${className}`}>\n        {\n          isControlVisible ?\n            this.renderControls()\n          :\n            null\n        }\n        <div className={`tab-items-container ${fadeStyle}`}>\n          {\n            isDataFadeOnly ?\n              this.props.children\n            :\n              <Carousel\n                showThumbs={false}\n                showIndicators={false}\n                showArrows={false}\n                showStatus={false}\n                selectedItem={activeIndex}\n                swipeable={false}\n                onChange={index => this.goToIndex(index)}\n                ref={node => (this.carousel = node)}\n              >\n                {this.renderSlides()}\n              </Carousel>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nTabView.defaultProps = {\n  padding: 0,\n  hideWidth: 0,\n  maxTabWidthPx: 0,\n  style: null,\n  isDisableDropdown: false,\n  isConstantHeight: false,\n  initialIndex: 0,\n  setTriggerHeightUpdate: null,\n  isDataFadeOnly: false,\n  big: false,\n  className: null,\n  charged: null,\n};\n\nTabView.propTypes = {\n  padding: PropTypes.number,\n  tabs: PropTypes.array.isRequired,\n  hideWidth: PropTypes.number,\n  maxTabWidthPx: PropTypes.number,\n  style: PropTypes.object,\n  isDisableDropdown: PropTypes.bool,\n  isConstantHeight: PropTypes.bool,\n  initialIndex: PropTypes.number,\n  setTriggerHeightUpdate: PropTypes.func,\n  isDataFadeOnly: PropTypes.bool,\n  big: PropTypes.bool,\n  name: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  charged: PropTypes.bool,\n  changeTab: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state, props) => ({\n  currentTabSelection: state.tab[props.name],\n});\n\nconst mapDispatchToProps = dispatch => ({\n  changeTab: (tabName, value) => {\n    dispatch(setTabSelection(tabName, value));\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps, null, { withRef: true })(TabView);\n","/**\n * Selection.js\n * Selection with dynamic content\n *\n * @version 0.0.1\n * @author [Jia Hao](jiahao@policypal.com)\n */\nimport React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Field, getFormValues } from 'redux-form';\nimport { Row, Col } from 'reactstrap';\nimport _ from 'lodash';\n\nimport CheckIcon from 'assets/images/common/CheckIcon.svg';\n\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\n\nimport './Selection.scss';\n\nconst marginTopOffset = 10;\n\n/**\n * Custom Selection Class\n */\nclass Selection extends PureComponent {\n  static getStoreSelection(formStore, name) {\n    const storeValues = formStore[name];\n    if (!storeValues) {\n      return null;\n    }\n\n    const storeValuesArray = storeValues.constructor === Array ? storeValues : [storeValues];\n    const resultState = {};\n    _.forEach(storeValuesArray, (v) => {\n      if (v) { resultState[v] = true; }\n    });\n    return resultState;\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const { resultState, selections } = prevState;\n    const { formStore, name } = nextProps;\n    if (formStore && formStore[name] !== resultState) {\n      return {\n        resultState: formStore[name],\n        selections: Selection.getStoreSelection(formStore, name) || selections,\n      };\n    }\n\n    return null;\n  }\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selections: {},\n    };\n  }\n\n  componentDidMount() {\n    const {\n      name,\n      formStore,\n      noEmptyTextSelection,\n    } = this.props;\n\n    if (formStore && formStore[name]) {\n      this.setState({\n        selections: Selection.getStoreSelection(formStore, name),\n      });\n\n      return;\n    }\n\n    if (noEmptyTextSelection) {\n      this.setInitialValue();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const { name, formStore } = this.props;\n    if (name !== prevProps.name) {\n      const value = formStore[name];\n      if (!value) {\n        this.setInitialValue();\n      }\n    }\n  }\n\n  onToggleSelection(option) {\n    const { selections } = this.state;\n    const {\n      name,\n      type,\n      change,\n      noEmptyTextSelection,\n    } = this.props;\n\n    const { key } = option;\n\n    const toggleResult = !this.state.selections[key];\n\n    let newSelections = {};\n    let resultState = null;\n    let noUpdate = false;\n    switch (type) {\n      case 'text-selection':\n      case 'radio':\n        if (!noEmptyTextSelection || (noEmptyTextSelection && !selections[key])) {\n          newSelections = _.mapValues(selections, () => false);\n          newSelections[key] = toggleResult;\n          resultState = _.findKey(newSelections, v => v);\n        } else {\n          noUpdate = true;\n        }\n        break;\n      case 'checkbox':\n        newSelections = Object.assign({}, selections, { [key]: toggleResult });\n        resultState = [];\n        _.each(newSelections, (v, k) => {\n          if (v) { resultState.push(k); }\n        });\n        break;\n      default: break;\n    }\n\n    if (!noUpdate) {\n      this.setState({ selections: newSelections });\n      change(name, resultState);\n    }\n  }\n\n  setInitialValue() {\n    const {\n      options,\n      change,\n      name,\n    } = this.props;\n\n    const newSelections = { [options[0].key]: true };\n    this.setState({\n      selections: newSelections,\n    });\n    change(name, _.findKey(newSelections, v => v));\n  }\n\n  renderSelectionInsides(option, selectionState) {\n    const { type } = this.props;\n\n    switch (type) {\n      case 'radio':\n        return <div className={`${type}-inner-${selectionState}`} />;\n      case 'checkbox':\n        return <img src={CheckIcon} className={`checkbox-inner-${selectionState}`} alt=\"check\" />;\n      case 'text-selection':\n        return <div className=\"description py-3\">{option.description}</div>;\n      default:\n        return null;\n    }\n  }\n\n  renderSelectionIcon(option) {\n    const { selections } = this.state;\n    const { type, sizeInSM } = this.props;\n    const { key, description } = option;\n    const isSelected = (selections[key] || false);\n    const selectionState = (isSelected) ? 'highlighted' : 'default';\n\n    const children = (\n      <div\n        role=\"button\"\n        onKeyPress={() => {}}\n        onClick={() => this.onToggleSelection(option)}\n        tabIndex={0}\n        className={`${type}-outer-${selectionState}`}\n      >\n        {this.renderSelectionInsides(option, selectionState)}\n      </div>\n    );\n\n    if (type === 'text-selection') {\n      return (\n        <Col sm={sizeInSM} key={key} className=\"text-sel-col\">\n          <div className=\"single-selection\" key={key}>\n            {children}\n          </div>\n        </Col>\n      );\n    }\n\n    return (\n      <Col sm={sizeInSM} key={key}>\n        <div className=\"single-selection\">\n          {children}\n          <div className=\"description\">{description}</div>\n        </div>\n      </Col>\n    );\n  }\n\n  render() {\n    const {\n      name,\n      options,\n      type,\n      desc,\n      extraInfo,\n      errorString,\n    } = this.props;\n\n    return (\n      <FormInputWrapper\n        desc={desc}\n        ref={node => (this.formParent = node)}\n        extraInfo={\n          <div style={{ marginTop: -marginTopOffset }}>\n            {extraInfo}\n          </div>\n        }\n        errorString={errorString}\n      >\n        <Field name={name} component={() => <div />} />\n        <div className=\"selection\">\n          <Row className={(type === 'text-selection') ? 'text-sel-container' : ''}>\n            {\n              _.map(options, option => this.renderSelectionIcon(option))\n            }\n          </Row>\n        </div>\n      </FormInputWrapper>\n    );\n  }\n}\n\nSelection.propTypes = {\n  name: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  options: PropTypes.array.isRequired, // each option is { key, description }\n  change: PropTypes.func.isRequired,\n  sizeInSM: PropTypes.number,\n  desc: PropTypes.string,\n  formStore: PropTypes.object,\n  extraInfo: PropTypes.object,\n  errorString: PropTypes.string,\n  noEmptyTextSelection: PropTypes.bool,\n};\n\nSelection.defaultProps = {\n  sizeInSM: 12,\n  desc: null,\n  formStore: null,\n  extraInfo: null,\n  errorString: null,\n  noEmptyTextSelection: false,\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  formStore: (getFormValues(ownProps.form)(state)),\n});\n\nexport default connect(mapStateToProps, null)(Selection);\n","/**\n * DropDown.js\n * Custom form dropdown menu with input\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Field, change, getFormValues } from 'redux-form';\nimport PropTypes from 'prop-types';\n\nimport MagnifyGlass from 'assets/images/forms/magnifyGlass.svg';\n\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\n\nimport { getPostal } from '../../../actions/insuranceActions';\n\nimport './TextInput.scss';\n\n// Height for medium dropdown\nconst mediumHeight = 60;\n// Height for big dropdown\nconst bigHeight = 72;\n\n/**\n * Custom Form Dropdown class\n */\nclass TextInput extends Component {\n  /**\n   * Constructor\n   *\n   * @param {object} props Component props\n   */\n  constructor(props) {\n    super(props);\n\n    // dropList - The passed down dropdown list items\n    // placeholderString - Placeholder string for input\n    // size - Size of this control\n    // numItemsDisplay - Max items to display on view\n    const {\n      size,\n      height,\n    } = this.props;\n\n    // Get the control height\n    let heightToUse = size === 'big' ? bigHeight : mediumHeight;\n    heightToUse = height || heightToUse;\n\n    // isOpened - Whether dropdown is opened\n    // listItems - The actual dropdown list\n    // selectedString - The selected item string\n    // height - Control height\n    // numItemsDisplay - How many items to display\n    // maxheight - Max height of the list\n    // listHeight - Height of the list. (Items count + control)\n    this.state = {\n      height: heightToUse,\n      isFocus: false,\n    };\n\n    this.handleFocus = this.handleFocus.bind(this);\n    this.handleBlur = this.handleBlur.bind(this);\n    this.setError = this.setError.bind(this);\n    this.clearError = this.clearError.bind(this);\n    this.renderTextArea = this.renderTextArea.bind(this);\n    this.handlePostCode = this.handlePostCode.bind(this);\n  }\n\n  setError(message) {\n    this.formParent.setErrorString(message);\n  }\n\n  clearError() {\n    this.formParent.clearErrorString();\n  }\n\n  handleFocus() {\n    this.setState({\n      isFocus: true,\n    });\n  }\n\n  handleBlur() {\n    this.setState({\n      isFocus: false,\n    });\n  }\n\n  async handlePostCode(e) {\n    e.preventDefault();\n    const {\n      storeValue,\n      name,\n      addressFields,\n      formChange,\n      form,\n    } = this.props;\n\n    if (storeValue) {\n      const postcode = storeValue[name];\n      const result = await getPostal(postcode);\n      if (result) {\n        // const streetName = result.name === '' ? '' : `${result.name} `;\n        const street = result.street === '' ? '' : `${result.street} `;\n        const block = result.block === '' ? '' : `${result.block} `;\n        // let concatAddress = `${block}${streetName}${street}`;\n        let concatAddress = `${block}${street}`;\n\n        if (addressFields.blkNo) {\n          formChange(form, addressFields.blkNo, result.block);\n          concatAddress = street;\n        }\n\n        if (addressFields.address) {\n          formChange(form, addressFields.address, concatAddress);\n        }\n      }\n    }\n  }\n\n  renderTextArea({ input }) {\n    const { placeholderString } = this.props;\n    return (\n      <div className=\"text-area\">\n        <textarea {...input} placeholder={placeholderString} rows=\"10\" cols=\"40\" />\n      </div>\n    );\n  }\n\n  render() {\n    const {\n      height,\n      isFocus,\n    } = this.state;\n\n    const {\n      name,\n      desc,\n      placeholderString,\n      zIndex,\n      isPassword,\n      extraInfo,\n      errorString,\n      isTextArea,\n      storeValue,\n      validateForm,\n      isPostCode,\n      toUpper,\n    } = this.props;\n\n    const focusStyle = isFocus ? 'focus' : '';\n    const passwordType = isPassword ? 'password' : '';\n    const errorStyle = errorString ? 'error' : '';\n\n    const refValue = storeValue ? storeValue[name] : null;\n\n    return (\n      <FormInputWrapper\n        desc={desc}\n        ref={node => (this.formParent = node)}\n        extraInfo={extraInfo}\n        errorString={errorString}\n        refValue={refValue}\n        validateForm={validateForm}\n      >\n        <div\n          className={`text-input-container ${focusStyle} ${errorStyle}`}\n          style={{ height, zIndex }}\n          onFocus={() => this.handleFocus()}\n          onBlur={() => this.handleBlur()}\n        >\n          <div className=\"text-input\">\n            {\n              isTextArea ?\n                <Field\n                  className=\"text\"\n                  component={this.renderTextArea}\n                  name={name}\n                  normalize={value => (value && toUpper ? value.toUpperCase() : value)}\n                />\n                :\n                  <Field\n                    className=\"text\"\n                    component=\"input\"\n                    type={passwordType}\n                    placeholder={placeholderString}\n                    name={name}\n                    normalize={value => (value && toUpper ? value.toUpperCase() : value)}\n                  />\n            }\n            {\n              isPostCode ?\n                <button\n                  className=\"postcode\"\n                  onClick={e => this.handlePostCode(e)}\n                >\n                  <img src={MagnifyGlass} alt=\"magGlass.svg\" />\n                </button>\n              :\n                null\n            }\n          </div>\n        </div>\n      </FormInputWrapper>\n    );\n  }\n}\n\nTextInput.defaultProps = {\n  desc: null,\n  isPassword: false,\n  extraInfo: null,\n  errorString: null,\n  isTextArea: false,\n  height: null,\n  storeValue: null,\n  isPostCode: false,\n  addressFields: null,\n  validateForm: null,\n  toUpper: false,\n};\n\n\nTextInput.propTypes = {\n  placeholderString: PropTypes.string.isRequired,\n  size: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  zIndex: PropTypes.number.isRequired,\n  desc: PropTypes.string,\n  isPassword: PropTypes.bool,\n  extraInfo: PropTypes.object,\n  errorString: PropTypes.string,\n  isTextArea: PropTypes.bool,\n  height: PropTypes.number,\n  validateForm: PropTypes.func,\n  storeValue: PropTypes.object,\n  isPostCode: PropTypes.bool,\n  addressFields: PropTypes.object,\n  toUpper: PropTypes.bool,\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  storeValue: (getFormValues(ownProps.form)(state)),\n});\n\nconst mapDispatchToProps = dispatch => ({\n  formChange: (form, key, value) => {\n    dispatch(change(form, key, value));\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TextInput);\n","/**\n * CheckoutComplete.js\n * Shows this when checkout is complete\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport React, { Component, Fragment } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { Row, Col } from 'reactstrap';\n\nimport CheckoutCompleteSVG from 'assets/images/common/CheckoutComplete.svg';\nimport Button from 'components/FormsV3/Button/Button';\nimport Popup from '../Popup/Popup';\n\nimport './CheckoutPopup.scss';\n\nclass CheckoutComplete extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      animateStyle: '',\n    };\n\n    this.openCheckoutComplete = this.openCheckoutComplete.bind(this);\n  }\n\n  openCheckoutComplete(userName = null) {\n    this.setState({\n      animateStyle: 'bounce-in',\n      userName,\n    });\n\n    setTimeout(() => {\n      this.popupRef.openPopup();\n    }, 10);\n  }\n\n  renderUpperText() {\n    const { userName } = this.state;\n    const { isQuoteOnly, upperText } = this.props;\n\n    if (!isQuoteOnly) {\n      return (\n        <Fragment>\n          <p>Thank you for your</p>\n          <p><span>purchase, </span><span className=\"focus-text\">{userName}</span></p>\n        </Fragment>\n      );\n    }\n\n    return (\n      <p>{upperText || 'Success'}</p>\n    );\n  }\n\n  renderMidText() {\n    const { isQuoteOnly, midText } = this.props;\n\n    const message = 'The insurers representative will contact you within 2 business days to share with you more about the selected product.';\n\n    // Our partnered FA representative from Synergy Financial Advisers Pte Ltd will contact you within 48 hours to share with you more about the selected product.\n    if (!isQuoteOnly) {\n      return (\n        <Fragment>\n          <p>A copy of the receipt has been sent to</p>\n          <p>your inbox.</p>\n          <p>{'The policy will be reflected in PolicyPal\\'s APP once approved.'}</p>\n        </Fragment>\n      );\n    }\n\n    if (midText !== null) {\n      return (\n        <Fragment>\n          <p>{midText}</p>\n        </Fragment>\n      );\n    }\n\n    return (\n      <Fragment>\n        <p>Thanks for submitting your request.</p>\n        <p>{message}</p>\n      </Fragment>\n    );\n  }\n\n  renderButton() {\n    const {\n      history,\n      isQuoteOnly,\n      buttonText,\n      callback,\n    } = this.props;\n\n    if (!isQuoteOnly) {\n      return (\n        <Row noGutters>\n          <Col className=\"d-flex justify-content-center\" xs={12} sm={6}>\n            <Button\n              className=\"checkout-button\"\n              variant=\"medium-flat\"\n              width={166}\n              height={72}\n              onClick={() => history.push('/gotoappstore')}\n            >\n              <p>Download APP</p>\n            </Button>\n          </Col>\n          <Col className=\"d-flex justify-content-center\" xs={12} sm={6}>\n            <Button\n              className=\"checkout-button\"\n              variant=\"medium-flat-green\"\n              width={166}\n              height={72}\n              onClick={() => this.popupRef.closePopup()}\n            >\n              <p>Details</p>\n            </Button>\n          </Col>\n        </Row>\n      );\n    }\n\n    return (\n      <Button\n        className=\"checkout-button\"\n        variant=\"medium-flat-green\"\n        width={166}\n        height={72}\n        onClick={() => {\n          if (callback) {\n            callback();\n            this.popupRef.togglePopup(false);\n            return;\n          }\n          history.push('/');\n        }}\n      >\n        <p>{buttonText || 'OK'}</p>\n      </Button>\n    );\n  }\n\n  render() {\n    const { animateStyle } = this.state;\n    const { isSellLeads, className } = this.props;\n\n    const extraText = !isSellLeads ? '' : 'In the event that you purchase a plan through our partner, PolicyPal receives a referral fee.';\n\n    return (\n      <Popup\n        className={className}\n        hideCloseButton ref={(r) => { this.popupRef = r; }}\n      >\n        <Fragment>\n          <div className=\"check-out-popup\">\n            <img className={animateStyle} src={CheckoutCompleteSVG} alt=\"CheckoutComplete.svg\" />\n            <div className=\"upper-container upper-margin-up\">\n              {this.renderUpperText()}\n            </div>\n            <div className=\"mid-container\">\n              {this.renderMidText()}\n            </div>\n            <div className=\"button-container\">\n              {this.renderButton()}\n            </div>\n            <div className=\"extra-text\"><p>{extraText}</p></div>\n          </div>\n        </Fragment>\n      </Popup>\n    );\n  }\n}\n\nCheckoutComplete.defaultProps = {\n  isQuoteOnly: false,\n  isSellLeads: false,\n  upperText: null,\n  midText: null,\n  buttonText: null,\n  callback: null,\n  className: '',\n};\n\nCheckoutComplete.propTypes = {\n  history: PropTypes.object.isRequired,\n  isQuoteOnly: PropTypes.bool,\n  isSellLeads: PropTypes.bool,\n  upperText: PropTypes.string,\n  midText: PropTypes.string,\n  buttonText: PropTypes.string,\n  callback: PropTypes.func,\n  className: PropTypes.string,\n};\n\nexport default withRouter(CheckoutComplete, { withRef: true });\n","module.exports = __webpack_public_path__ + \"static/media/CheckoutComplete.7a48570a.svg\";","module.exports = __webpack_public_path__ + \"static/media/ArrowGradient.21653fa2.svg\";","/**\n * PopupWithText.js\n * Popup with custom text\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Button from 'components/FormsV3/Button/Button';\nimport Popup from '../Popup/Popup';\n\n\nimport './PopupWithText.scss';\n\nclass PopupWithText extends Component {\n  constructor(props) {\n    super(props);\n\n    const { onConfirm } = this.props;\n\n    this.state = {\n      text: '',\n      jsx: null,\n      useConfirm: true,\n      onConfirm,\n    };\n    this.openPopupWithText = this.openPopupWithText.bind(this);\n  }\n\n  openPopupWithText(text, useConfirm = true, onConfirm = null) {\n    this.setState({\n      text,\n      useConfirm,\n    });\n\n    if (onConfirm) {\n      this.setState({\n        onConfirm,\n      });\n    }\n    setTimeout(this.popupRef.openPopup, 10);\n  }\n\n  openPopupWithJSX(jsx, useConfirm = true, onConfirm = null) {\n    this.setState({\n      jsx,\n      useConfirm,\n    });\n\n    if (onConfirm) {\n      this.setState({\n        onConfirm,\n      });\n    }\n    setTimeout(this.popupRef.openPopup, 10);\n  }\n\n  render() {\n    const {\n      text, jsx, useConfirm, onConfirm,\n    } = this.state;\n    const { showCancelButton, hideCloseButton } = this.props;\n    return (\n      <div className=\"popup-with-text\">\n        <Popup\n          hideCloseButton={hideCloseButton}\n          ref={(r) => { this.popupRef = r; }}\n        >\n          <Fragment>\n            <div className=\"check-out-popup\">\n              <div className=\"upper-container upper-margin-down\">\n                {\n                  jsx || (\n                    <p>\n                      <span className=\"focus-text\">{text}</span>\n                    </p>\n                  )\n                }\n              </div>\n              <div className=\"button-container\">\n                {\n                  showCancelButton ?\n                    <Button\n                      className=\"checkout-button\"\n                      variant=\"medium-flat\"\n                      width={166}\n                      height={72}\n                      onClick={() => {\n                        this.popupRef.closePopup();\n                      }}\n                    >\n                      <p>Cancel</p>\n                    </Button>\n                  :\n                    null\n                }\n                <Button\n                  className=\"checkout-button\"\n                  variant=\"medium-flat-green\"\n                  width={166}\n                  height={72}\n                  onClick={() => {\n                    if (useConfirm) {\n                      onConfirm();\n                    }\n                    this.popupRef.closePopup();\n                  }}\n                >\n                  <p>Confirm</p>\n                </Button>\n              </div>\n            </div>\n          </Fragment>\n        </Popup>\n      </div>\n    );\n  }\n}\n\nPopupWithText.defaultProps = {\n  onConfirm: () => {},\n  showCancelButton: false,\n  hideCloseButton: false,\n};\n\nPopupWithText.propTypes = {\n  onConfirm: PropTypes.func,\n  showCancelButton: PropTypes.bool,\n  hideCloseButton: PropTypes.bool,\n};\n\nexport default PopupWithText;\n","/**\n * Enquiry.js\n * Enquiry view that appears in most of the forms\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n*/\nimport React, { Component } from 'react';\nimport { Col } from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nimport Phone from 'assets/images/common/Phone.svg';\n\nimport './Enquiry.scss';\n\nclass Enquiry extends Component {\n  render() {\n    const { marginTop } = this.props;\n\n    return (\n      <Col className=\"enquiry-container\" style={{ marginTop }}>\n        <div className=\"upper-container\">\n          <p className=\"left-text\">\n            Need some assistance? Please contact us and one of our\n            Client Services Executives will be happy to guide you along.\n          </p>\n          <div className=\"right-text\">\n            <img src={Phone} alt=\"Phone.svg\" />\n            <a href=\"tel:+6531639184\">\n              +65 3163 9184\n            </a>\n          </div>\n        </div>\n        <div className=\"lower-container\">\n          <p className=\"lower-main\">Speak to our Client Service Executives</p>\n          <p className=\"lower-sub\">Servicing hours:</p>\n          <p className=\"lower-sub\">10am - 7pm</p>\n          <p className=\"lower-sub\">Mondays to Fridays</p>\n          <p className=\"lower-sub\">(excluding public holidays)</p>\n        </div>\n      </Col>\n    );\n  }\n}\n\nEnquiry.defaultProps = {\n  marginTop: 0,\n};\n\n\nEnquiry.propTypes = {\n  marginTop: PropTypes.number,\n};\n\nexport default Enquiry;\n","/**\n * RestrictionPopup.js\n * Used to display product restrictions\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { Row, Col, Modal, ModalHeader } from 'reactstrap';\nimport Button from 'components/FormsV3/Button/Button';\n\nimport { clearRestrictionPopup } from '../../../actions/restrictionsActions';\n\nimport './RestrictionsPopup.scss';\n\nclass RestrictionsPopup extends Component {\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const { data } = nextProps;\n\n    if (data && data !== prevState.data) {\n      nextProps.clearRestrictionPopup();\n      return ({\n        values: data.values,\n        clickCallback: data.clickCallback,\n        doAcceptTag: data.doAcceptTag,\n      });\n    }\n\n    return null;\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      values: null,\n      clickCallback: null,\n      doAcceptTag: null,\n      modal: false,\n    };\n\n    this.setData = this.setData.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  componentDidUpdate() {\n    const { values, modal } = this.state;\n\n    if (values && !modal) {\n      this.setState({ modal: true });\n    }\n  }\n\n  setData(values, clickCallback, doAcceptTag) {\n    this.setState({\n      values,\n      clickCallback,\n      doAcceptTag,\n    });\n\n    setTimeout(() => this.setState({ modal: true }), 100);\n  }\n\n  handleClick() {\n    const { clickCallback, doAcceptTag } = this.state;\n\n    if (doAcceptTag) {\n      doAcceptTag();\n    }\n\n    if (clickCallback) {\n      clickCallback();\n    }\n\n    this.setState({ modal: false, values: null });\n  }\n\n  renderData() {\n    const { values } = this.state;\n\n    return _.map(values, (item, index) => {\n      const description = _.split(item.description, '\\n');\n      return (\n        <Fragment key={`res-data-${index}`}>\n          <Col className=\"title\" xs={12} sm={4}>\n            <p>{item.title}</p>\n          </Col>\n          <Col className=\"res-desc\" xs={12} sm={8}>\n            {\n              _.map(description, (desc, descIndex) => (\n                <p key={`res-desc-${descIndex}`}>{desc}</p>\n              ))\n            }\n          </Col>\n          <Col xs={12}>\n            <div className=\"line\" xs={12} />\n          </Col>\n        </Fragment>\n      );\n    });\n  }\n\n  render() {\n    const { modal } = this.state;\n    return (\n      <Modal\n        backdropClassName=\"blue-modal-backdrop\"\n        className=\"restrictions-popup\"\n        isOpen={modal}\n        size=\"lg\"\n      >\n        <ModalHeader toggle={() => this.setState({ modal: false, values: null })} />\n        <Row>\n          <Col className=\"header\" xs={12}>\n            <p>{'Company\\'s Restrictions'}</p>\n            <p className=\"sub\">Scroll down to read the restrictions</p>\n          </Col>\n          {this.renderData()}\n        </Row>\n        <Row>\n          <Col className=\"button-container\" xs={12}>\n            <Button\n              onClick={this.handleClick}\n              type=\"submit\"\n              variant=\"medium-flat-green\"\n              width={165}\n              height={72}\n            >\n              <p>Accept</p>\n            </Button>\n          </Col>\n        </Row>\n      </Modal>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  data: state.restrictions.data,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  clearRestrictionPopup: () => {\n    dispatch(clearRestrictionPopup());\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RestrictionsPopup);\n","module.exports = __webpack_public_path__ + \"static/media/CashbackLogo.47f3e5e5.svg\";","module.exports = __webpack_public_path__ + \"static/media/dateIn.c0ce64e4.svg\";","module.exports = __webpack_public_path__ + \"static/media/dateOut.c0f774d4.svg\";","module.exports = __webpack_public_path__ + \"static/media/triangle.9456eda2.svg\";","/**\n * DateInner.js\n * DateView only for rendering\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport {\n  Dropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem,\n} from 'reactstrap';\n\nimport CloseIcon from 'assets/images/common/CloseIcon.svg';\nimport Arrow from 'assets/images/forms/arrow.svg';\nimport Triangle from 'assets/images/forms/triangle.svg';\n\nimport './DateInner.scss';\n\n// Day Text for display\nconst dayTextList = [\n  'SU',\n  'MO',\n  'TU',\n  'WE',\n  'TH',\n  'FR',\n  'SA',\n];\n// Month text for display\nconst monthTextMapping = [\n  'January',\n  'Feburary',\n  'March',\n  'April',\n  'May',\n  'June',\n  'July',\n  'August',\n  'September',\n  'October',\n  'November',\n  'December',\n];\n\n// Default year range if not user defined\nconst deafultYearRange = 100;\n// Height for month and year dropdown items\nconst monthItemHeight = 32;\nconst yearItemHeight = 32;\n\n/**\n * Custom Form Dropdown class\n */\nclass DateInner extends Component {\n  constructor(props) {\n    super(props);\n    // Get current date\n    const date = new Date();\n    const year = date.getFullYear();\n    const month = date.getMonth();\n    // Get first and last day of the month to display\n    const firstDay = new Date(year, month, 1);\n    const lastDay = new Date(year, month + 1, 0);\n    // Get the calender range\n    const dateRangeStart = new Date(year - deafultYearRange, month);\n    const dateRangeEnd = new Date(year + deafultYearRange, month);\n\n    // isOpened - Whether dropdown is opened\n    // currDate - Current selected date in view\n    // currFirstDay - Current first day of the month in view\n    // currLastDay - Current last day of the month in view\n    // monthDropdownOpen - Whether month selector is opened\n    // yearDropdownOpen - Whether year selector is opened\n    // selectedStartDate - Selected start date(If single select also use this)\n    // selectedEndDate - Selected end date for date range picker\n    // dateRangeStart - The actual calender start range\n    // dateRangeEnd - The actual calender end range\n    // isArrowUp - The arrow image of datepicker\n    // setSelectedDate - Function to set selected date from main control\n    // setNewDate - Function to set new date from main control\n    this.state = {\n      isOpened: false,\n      currDate: date,\n      currFirstDay: firstDay,\n      currLastDay: lastDay,\n      monthDropdownOpen: false,\n      yearDropdownOpen: false,\n      selectedStartDate: null,\n      selectedEndDate: null,\n      dateRangeStart,\n      dateRangeEnd,\n      isArrowUp: true,\n      setSelectedDate: null,\n      setNewDate: null,\n    };\n\n    this.setCalender = this.setCalender.bind(this);\n    this.setArrowUp = this.setArrowUp.bind(this);\n    this.setNewState = this.setNewState.bind(this);\n    this.toggleDateInner = this.toggleDateInner.bind(this);\n    this.toggleMonth = this.toggleMonth.bind(this);\n    this.toggleYear = this.toggleYear.bind(this);\n  }\n\n  /**\n   * Lifecycle Method - componentDidUpdate\n   *\n   * Used to update dropdown position\n   * of month and year selector\n   */\n  componentDidUpdate() {\n    // Ref to month and year dropdown\n    const {\n      yearInput,\n      monthInput,\n    } = this;\n\n    const {\n      currDate,\n      dateRangeStart,\n    } = this.state;\n\n    // Get current year and month\n    const year = currDate.getFullYear();\n    const month = currDate.getMonth();\n\n    // Update year scroll position to current year\n    if (yearInput) {\n      const height = year - dateRangeStart.getFullYear();\n      const yearInputScroll = yearInput.childNodes[0];\n      yearInputScroll.scrollTop = yearItemHeight * height;\n    }\n\n    // Update year scroll position to current month\n    if (monthInput) {\n      const monthInputScroll = monthInput.childNodes[0];\n      monthInputScroll.scrollTop = monthItemHeight * month;\n    }\n\n    if (this.dateMonthInput) {\n      this.dateMonthInput.childNodes[0].setAttribute('tabindex', '-1');\n    }\n\n    if (this.dateYearInput) {\n      this.dateYearInput.childNodes[0].setAttribute('tabindex', '-1');\n    }\n  }\n\n  /**\n   * setCalender\n   *\n   * Set visible calender\n   *\n   * @param {number} month\n   * @param {number} year\n   */\n  setCalender(month, year) {\n    const {\n      dateRangeStart,\n      dateRangeEnd,\n      setNewDate,\n    } = this.state;\n\n    let date = new Date(year, month);\n\n    // Cap date range\n    if (date < dateRangeStart) {\n      date = dateRangeStart;\n    } else if (date > dateRangeEnd) {\n      date = dateRangeEnd;\n    }\n\n    setNewDate(date);\n    // this.wrapperRef.focus();\n  }\n\n  setNewState(data) {\n    this.setState({ ...data });\n  }\n\n  setArrowUp(isArrowUp) {\n    this.setState({ isArrowUp });\n  }\n\n  toggleDateInner(isOpen, settings) {\n    this.setState({ isOpened: isOpen });\n    if (isOpen) {\n      this.setState({ ...settings });\n    }\n  }\n\n  /**\n   * toggleMonth\n   *\n   * Toggle dropdown\n   */\n  toggleMonth() {\n    const {\n      monthDropdownOpen,\n    } = this.state;\n\n    this.setState({\n      monthDropdownOpen: !monthDropdownOpen,\n    });\n\n    this.isFromFocus = false;\n  }\n\n  /**\n   * toggleYear\n   *\n   * Toggle dropdown\n   */\n  toggleYear() {\n    const {\n      yearDropdownOpen,\n    } = this.state;\n\n    this.setState({\n      yearDropdownOpen: !yearDropdownOpen,\n    });\n\n    this.isFromFocus = false;\n  }\n\n  /**\n   * renderDaysText\n   *\n   * Render the days text\n   */\n  renderDaysText() {\n    return _.map(dayTextList, day => (\n      <div\n        className=\"date-col\"\n        key={day}\n      >\n        <p>{day}</p>\n      </div>\n    ));\n  }\n\n  /**\n   * renderDaysSingle\n   *\n   * Render calender days for single selection\n   */\n  renderDaysSingle() {\n    const {\n      currFirstDay,\n      currLastDay,\n      selectedStartDate,\n      dateRangeStart,\n      dateRangeEnd,\n      setSelectedDate,\n    } = this.state;\n\n    const month = currFirstDay.getMonth();\n    const year = currFirstDay.getFullYear();\n\n    // Get the starting blank days of the calender\n    const startIndex = currFirstDay.getDay();\n    // Get the end day\n    const endIndex = currLastDay.getDate();\n\n    // Get starting time\n    const startTime = selectedStartDate ? selectedStartDate.getTime() : null;\n\n    const result = [];\n\n    // These are blank elements to simulate last month dates\n    for (let i = 0; i < startIndex; ++i) {\n      result.push(<div className=\"date-col\" key={`blank${i.toString()}`} />);\n    }\n\n    for (let i = 1; i <= endIndex; ++i) {\n      const currDay = new Date(year, month, i);\n      const currTime = currDay.getTime();\n\n      // Check if current day is previously selected day\n      const isDayActive = startTime === currTime;\n      // Set to active if selected\n      const dayStyle = isDayActive ? 'day-active' : 'day-inactive';\n      // Block days that are out of range\n      const isBlocked = currDay < dateRangeStart || currDay > dateRangeEnd;\n\n      result.push((\n        <button\n          className=\"date-col day-container\"\n          key={`day${i.toString()}`}\n          onClick={() => {\n            if (!isBlocked) {\n              setSelectedDate(new Date(year, month, i));\n              this.setState({ isOpened: false });\n            }\n          }}\n          tabIndex={-1}\n        >\n          <div className=\"day-range left-inactive\" />\n          <div className=\"day-range right-inactive\" />\n          <div className=\"end-inactive\" />\n          {\n            isBlocked ?\n              <div className=\"day\">\n                <p className=\"blocked\">{i}</p>\n              </div>\n            :\n              <div className={`day ${dayStyle}`}>\n                <p>{i}</p>\n              </div>\n          }\n        </button>));\n    }\n\n    return result;\n  }\n\n  /**\n   * renderDays\n   *\n   * Render calender days for range selection\n   */\n  renderDays() {\n    const {\n      currFirstDay,\n      currLastDay,\n      selectedStartDate,\n      selectedEndDate,\n      dateRangeStart,\n      dateRangeEnd,\n      setSelectedDate,\n      isRange,\n      isStart,\n    } = this.state;\n\n    const currFirstDayTime = currFirstDay.getTime();\n    const currLastDayTime = currLastDay.getTime();\n\n    const month = currFirstDay.getMonth();\n    const year = currFirstDay.getFullYear();\n\n    // Get the starting blank days of the calender\n    const startIndex = currFirstDay.getDay();\n    // Get the end day\n    const endIndex = currLastDay.getDate();\n\n    // Get starting time\n    const startTime = selectedStartDate ? selectedStartDate.getTime() : null;\n    const endTime = selectedEndDate ? selectedEndDate.getTime() : null;\n\n    const result = [];\n\n    // These are blank elements to simulate last month dates\n    for (let i = 0; i < startIndex; ++i) {\n      result.push(<div className=\"date-col\" key={`blank${i.toString()}`} />);\n    }\n\n    for (let i = 1; i <= endIndex; ++i) {\n      const currDay = new Date(year, month, i);\n      const currDayOfWeek = currDay.getDay();\n      const currTime = currDay.getTime();\n\n      const isSat = currDayOfWeek === 6;\n      const isSun = currDayOfWeek === 0;\n      const isStartDate = startTime === currTime;\n      const isEndDate = endTime === currTime;\n      const isWithin = startTime && endTime && startTime < currTime && currTime < endTime;\n      const isFirstDay = currFirstDayTime === currTime;\n      const isLastDay = currLastDayTime === currTime;\n\n      const isSameDay = startTime === endTime;\n      const isLeftBlockActive = !isSameDay && (!isSun && !isFirstDay) && ((isEndDate && startTime)\n                                || isWithin);\n      const isRightBlockActive = !isSameDay && (!isSat && !isLastDay) && ((isStartDate && endTime)\n                                || isWithin);\n      const isDayActive = isStartDate || isEndDate;\n      const isEndActive = isDayActive || (isWithin && (isSat || isSun || isFirstDay || isLastDay));\n\n      // Left bock, right block, circle block and selected circle block\n      const leftBlockStyle = isLeftBlockActive ? 'left-active' : 'left-inactive';\n      const rightBlockStyle = isRightBlockActive ? 'right-active' : 'right-inactive';\n      const endBlockStyle = isEndActive ? 'end-active' : 'end-inactive';\n      const dayStyle = isDayActive ? 'day-active' : 'day-inactive';\n\n      // Check if day is in within selected range\n      let isBlocked = false;\n      if (isRange) {\n        if (isStart && selectedEndDate) {\n          // isBlocked = currDay > selectedEndDate;\n        } else if (!isStart && selectedStartDate) {\n          isBlocked = currDay < selectedStartDate;\n        }\n      }\n\n      // Check if day is out of calender range\n      if (!isBlocked) {\n        isBlocked = currDay < dateRangeStart || currDay > dateRangeEnd;\n      }\n\n      result.push((\n        <button\n          className=\"date-col day-container\"\n          key={`day${i.toString()}`}\n          onClick={() => {\n            if (!isBlocked) {\n              setSelectedDate(new Date(year, month, i));\n              this.setState({ isOpened: false });\n            }\n          }}\n          tabIndex={-1}\n        >\n          <div className={`day-range  ${leftBlockStyle}`} />\n          <div className={`day-range  ${rightBlockStyle}`} />\n          <div className={`${endBlockStyle}`} />\n          {\n            isBlocked ?\n              <div className=\"day-disabled\">\n                <p className=\"blocked\">{i}</p>\n              </div>\n            :\n              <div className={`day ${dayStyle}`}>\n                <p>{i}</p>\n              </div>\n          }\n        </button>));\n    }\n\n    return result;\n  }\n\n  /**\n   * renderMonths\n   *\n   * Render months dropdown\n   */\n  renderMonths() {\n    const {\n      currDate,\n      dateRangeStart,\n      dateRangeEnd,\n    } = this.state;\n\n    const startYear = dateRangeStart.getFullYear();\n    const endYear = dateRangeEnd.getFullYear();\n    const currYear = currDate.getFullYear();\n\n    const startMonth = currYear === startYear ? dateRangeStart.getMonth() : 0;\n    const endMonth = currYear === endYear ? dateRangeEnd.getMonth() : 11;\n\n    return _.reduce(monthTextMapping, (result, item, index) => {\n      if (startMonth <= index && index <= endMonth) {\n        const jsx = (\n          <DropdownItem\n            onClick={() => {\n              this.setCalender(index, currYear);\n            }}\n            key={`month${index.toString()}`}\n          >\n            {item}\n          </DropdownItem>\n        );\n        result.push(jsx);\n      }\n\n      return result;\n    }, []);\n  }\n\n  /**\n   * renderYears\n   *\n   * Render years dropdown\n   */\n  renderYears() {\n    const {\n      currDate,\n      dateRangeStart,\n      dateRangeEnd,\n    } = this.state;\n\n    const start = dateRangeStart.getFullYear();\n    const end = dateRangeEnd.getFullYear();\n\n    const result = [];\n    for (let i = start; i <= end; ++i) {\n      result.push((\n        <DropdownItem\n          onClick={() => {\n            this.setCalender(currDate.getMonth(), i);\n          }}\n          key={`year${i.toString()}`}\n        >\n          {i}\n        </DropdownItem>\n      ));\n    }\n\n    return result;\n  }\n\n  /**\n   * renderDateInner\n   *\n   * Render the popup od the datepicker\n   */\n  renderDateInner() {\n    const {\n      monthDropdownOpen,\n      yearDropdownOpen,\n      currDate,\n      isRange,\n      setSelectedDate,\n      selectedStartDate,\n      selectedEndDate,\n      isStart,\n    } = this.state;\n\n    const month = currDate.getMonth();\n    const monthText = monthTextMapping[month];\n    const year = currDate.getFullYear();\n\n    return (\n      <div className=\"date-inner-container\">\n        <div\n          role=\"button\"\n          className=\"close-button-container\"\n          onKeyPress={() => {}}\n          onClick={() => {\n            setSelectedDate(isStart ? selectedStartDate : selectedEndDate);\n            this.setState({ isOpened: false });\n          }}\n          tabIndex={-1}\n        >\n          <img src={CloseIcon} className=\"close-icon\" alt=\"close\" />\n        </div>\n        <div className=\"row\" style={{ marginBottom: 30 }}>\n          <div\n            className=\"date-arrow-style col-1\"\n            onClick={() => this.setCalender(month - 1, year)}\n            onKeyUp={() => {}}\n            role=\"button\"\n            tabIndex={-1}\n          >\n            <img\n              src={Arrow}\n              alt=\"arrow.svg\"\n              className=\"angle-left\"\n            />\n          </div>\n          <div className=\"col-6 selector-left\">\n            <Dropdown isOpen={monthDropdownOpen} toggle={this.toggleMonth}>\n              <div ref={(dateMonthInput) => { this.dateMonthInput = dateMonthInput; }}>\n                <DropdownToggle caret outline>\n                  {monthText}\n                </DropdownToggle>\n              </div>\n              <div ref={(input) => { this.monthInput = input; }}>\n                <DropdownMenu>\n                  {this.renderMonths()}\n                </DropdownMenu>\n              </div>\n            </Dropdown>\n          </div>\n          <div className=\"col-4 selector-right\">\n            <Dropdown isOpen={yearDropdownOpen} toggle={this.toggleYear}>\n              <div ref={(dateYearInput) => { this.dateYearInput = dateYearInput; }}>\n                <DropdownToggle caret outline>\n                  {year}\n                </DropdownToggle>\n              </div>\n              <div ref={(input) => { this.yearInput = input; }}>\n                <DropdownMenu>\n                  {this.renderYears()}\n                </DropdownMenu>\n              </div>\n            </Dropdown>\n          </div>\n          <div\n            className=\"date-arrow-style col-1\"\n            onClick={() => this.setCalender(month + 1, year)}\n            onKeyUp={() => {}}\n            role=\"button\"\n            tabIndex={-1}\n          >\n            <img\n              src={Arrow}\n              alt=\"arrow.svg\"\n              className=\"angle-right\"\n            />\n          </div>\n        </div>\n        <div className=\"row date-inner-padding\">\n          {this.renderDaysText()}\n        </div>\n        <div className=\"row date-divider\" />\n        <div className=\"row date-inner-padding\">\n          { isRange ? this.renderDays() : this.renderDaysSingle() }\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const {\n      isArrowUp,\n      isOpened,\n    } = this.state;\n\n    const openedStyle = isOpened ? 'dateinner-opened' : '';\n    const dateOpenStyle = isOpened ? 'date-container-opened' : 'date-container-closed';\n\n    const arrowStyle = isArrowUp ? 'arrow-up' : 'arrow-down';\n    return (\n      <Fragment>\n        <div className={`${openedStyle} dateinner`}>\n          <div\n            className={`\n                        ${dateOpenStyle} \n                      `}\n          >\n            <img className={arrowStyle} src={Triangle} alt=\"triangle.svg\" />\n            <div\n              className=\"list-container list-opened\"\n              ref={node => this.listCont = node}\n            >\n              {\n                isOpened ?\n                this.renderDateInner()\n                :\n                null\n              }\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default DateInner;\n","/**\n * DatePickerV2.js\n * Custom form dropdown menu with input\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport ReactDOM from 'react-dom';\nimport { Field, getFormValues } from 'redux-form';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\n\nimport Arrow from 'assets/images/forms/arrow.svg';\nimport DateIn from 'assets/images/forms/dateIn.svg';\nimport DateOut from 'assets/images/forms/dateOut.svg';\n\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\nimport DateInner from './DateInner';\nimport { isDateEqual, storeStringToDate } from '../../../lib/dateFunctions';\n\nimport '../DropDown/DropDown.scss';\nimport './DatePickerV2.scss';\n\n/**\n * Constants\n */\n// Placeholder string when no input\nconst placeholderStringDefault = 'dd/mm/yyy';\n// Month text for display\nconst monthTextMapping = [\n  'January',\n  'Feburary',\n  'March',\n  'April',\n  'May',\n  'June',\n  'July',\n  'August',\n  'September',\n  'October',\n  'November',\n  'December',\n];\n\n// Height for medium dropdown\nconst mediumHeight = 60;\n// Height for big dropdown\nconst bigHeight = 72;\n// Default year range if not user defined\nconst deafultYearRange = 100;\n\n\n/**\n * Custom Form Dropdown class\n */\nclass DatePickerV2 extends Component {\n  /**\n   * Lifecycle Method - getDerivedStateFromProps\n   *\n   * Used to set sibling date range values for\n   * selected start and end date\n   *\n   * @param {object} nextProps Component props\n   */\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const result = {};\n\n    // Update selected Start End date state\n    function updateStartEndDate(dateName, date) {\n      const dateReformed = storeStringToDate(date);\n      if (dateReformed !== -1) {\n        result[dateName] = dateReformed;\n      }\n    }\n\n    // Only valid for date range picker\n    const { isRange, endDate } = nextProps;\n\n    if (isRange) {\n      const {\n        incomingStartDate,\n        incomingEndDate,\n      } = nextProps;\n      updateStartEndDate('selectedStartDate', incomingStartDate);\n      updateStartEndDate('selectedEndDate', incomingEndDate);\n    }\n\n    // Update end date from date range picker\n    if (endDate && !isDateEqual(endDate, prevState.dateRangeEnd)) {\n      result.dateRangeEnd = endDate;\n    }\n\n    return result === {} ? null : result;\n  }\n\n  /**\n   * Constructor\n   *\n   * @param {object} props Component props\n   */\n  constructor(props) {\n    super(props);\n\n    // size - Size of this control\n    // startDate - Start range of date\n    // endDate - End range of date\n    // currDate - Day to set current view in calender (Default to today)\n    const {\n      size,\n      startDate,\n      endDate,\n      currDate,\n      placeholderString,\n    } = this.props;\n\n    // Get the control height\n    const height = size === 'big' ? bigHeight : mediumHeight;\n\n    // Get current date\n    const date = currDate || new Date();\n    const year = date.getFullYear();\n    const month = date.getMonth();\n    // Get first and last day of the month to display\n    const firstDay = new Date(year, month, 1);\n    const lastDay = new Date(year, month + 1, 0);\n    // Get the calender range\n    const dateRangeStart = startDate != null ? startDate : new Date(year - deafultYearRange, month);\n    const dateRangeEnd = endDate != null ? endDate : new Date(year + deafultYearRange, month);\n\n    // Get default placeholder string\n    const placeHolder = placeholderString != null ? placeholderString : placeholderStringDefault;\n\n    // isOpened - Whether dropdown is opened\n    // isError - Whether there is input error\n    // selectedString - The selected date string\n    // height - Control height\n    // currDate - Current selected date in view\n    // currFirstDay - Current first day of the month in view\n    // currLastDay - Current last day of the month in view\n    // monthDropdownOpen - Whether month selector is opened\n    // yearDropdownOpen - Whether year selector is opened\n    // selectedStartDate - Selected start date(If single select also use this)\n    // selectedEndDate - Selected end date for date range picker\n    // dateRangeStart - The actual calender start range\n    // dateRangeEnd - The actual calender end range\n    this.state = {\n      isOpened: false,\n      selectedString: placeHolder,\n      height,\n      currDate: date,\n      currFirstDay: firstDay,\n      currLastDay: lastDay,\n      selectedStartDate: null,\n      selectedEndDate: null,\n      dateRangeStart,\n      dateRangeEnd,\n      placeHolder,\n    };\n\n    this.handleSelectClick = this.handleSelectClick.bind(this);\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n    this.handleOnInputChange = this.handleOnInputChange.bind(this);\n    this.handleKeyPress = this.handleKeyPress.bind(this);\n    this.handleExit = this.handleExit.bind(this);\n    this.handleBlur = this.handleBlur.bind(this);\n    this.handleFocus = this.handleFocus.bind(this);\n\n    this.setSelectedDate = this.setSelectedDate.bind(this);\n    this.setNewDate = this.setNewDate.bind(this);\n    this.setCalender = this.setCalender.bind(this);\n    this.onMovement = this.onMovement.bind(this);\n\n    this.isFromFocus = false;\n  }\n\n  /**\n   * Lifecycle Method - componentDidMount\n   */\n  componentDidMount() {\n    // Add Handler to handle click outside of screen\n    document.addEventListener('mousedown', this.handleClickOutside);\n    window.addEventListener('scroll', this.onMovement);\n    window.addEventListener('resize', this.onMovement);\n\n    const {\n      name,\n      formStore,\n    } = this.props;\n\n    // Update prefill dates\n    if (formStore && formStore[name]) {\n      this.setSelectedDate(storeStringToDate(formStore[name]));\n    }\n\n    this.setState({\n      dateInnerDOM: ReactDOM.findDOMNode(this.datepickerInner),\n      datePickerDOM: ReactDOM.findDOMNode(this.wrapperRef),\n    });\n\n    this.onMovement();\n  }\n\n  /**\n   * Lifecycle Method - componentDidUpdate\n   *\n   * Used to update dropdown position\n   * of month and year selector\n   */\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      currDate,\n      selectedStartDate,\n      selectedEndDate,\n      dateRangeEnd,\n    } = this.state;\n\n    const { isStart } = this.props;\n\n    // If end date is shorten because of start date and\n    // end date is beyond range, shift back date\n    if (!isDateEqual(prevState.dateRangeEnd, dateRangeEnd)) {\n      if (dateRangeEnd < selectedEndDate) {\n        this.setSelectedDate(dateRangeEnd);\n      }\n    }\n\n    // Set month of end date to be not lesser than start date\n    if (!isStart && selectedStartDate && currDate && currDate < selectedStartDate) {\n      this.setNewDate(selectedStartDate);\n    }\n  }\n\n  /**\n   * Lifecycle Method - componentWillUnmount\n   */\n  componentWillUnmount() {\n    // const { dateInner } = this.props;\n    // Remove Handler to handle click outside of screen\n    document.removeEventListener('mousedown', this.handleClickOutside);\n    window.removeEventListener('scroll', this.onMovement);\n    window.removeEventListener('resize', this.onMovement);\n\n    if (this.datepickerInner) {\n      this.datepickerInner.toggleDateInner(false);\n    }\n  }\n\n  onMovement() {\n    const { dateInnerDOM, datePickerDOM, isOpened } = this.state;\n    // const { dateInner } = this.props;\n\n    if (isOpened && dateInnerDOM && datePickerDOM) {\n      const isOverHeight = datePickerDOM.getBoundingClientRect().bottom + 540 > window.outerHeight;\n      if (this.datepickerInner) {\n        this.datepickerInner.setArrowUp(!isOverHeight);\n      }\n      // dateInner.setArrowUp(!isOverHeight);\n      const top = isOverHeight ? datePickerDOM.getBoundingClientRect().top - 450 : datePickerDOM.getBoundingClientRect().bottom + 10;\n      dateInnerDOM.style.left = `${datePickerDOM.getBoundingClientRect().left}px`;\n      dateInnerDOM.style.top = `${top}px`;\n    }\n  }\n\n  /**\n   * setNewDate\n   *\n   * Set new current date and\n   * start and end of calender\n   *\n   * @param {date} date\n   */\n  setNewDate(date, extraState = {}, selectedCallback) {\n    const { isOpened } = this.state;\n    const newYear = date.getFullYear();\n    const newMonth = date.getMonth();\n\n    // Get first and last day of visible month\n    const firstDay = new Date(newYear, newMonth, 1);\n    const lastDay = new Date(newYear, newMonth + 1, 0);\n\n    // Set new calender values\n    this.setState({\n      currDate: date,\n      currFirstDay: firstDay,\n      currLastDay: lastDay,\n      ...extraState,\n    }, () => {\n      if (selectedCallback) {\n        selectedCallback({\n          currDate: date,\n          currFirstDay: firstDay,\n          currLastDay: lastDay,\n          selectedStartDate: extraState.selectedStartDate,\n          selectedEndDate: extraState.selectedEndDate,\n        });\n      } else if (isOpened && this.datepickerInner) {\n        this.datepickerInner.setNewState({\n          currDate: date,\n          currFirstDay: firstDay,\n          currLastDay: lastDay,\n        });\n      }\n    });\n  }\n\n  /**\n   * setCalender\n   *\n   * Set visible calender\n   *\n   * @param {number} month\n   * @param {number} year\n   */\n  setCalender(month, year) {\n    const {\n      dateRangeStart,\n      dateRangeEnd,\n    } = this.state;\n\n    let date = new Date(year, month);\n\n    // Cap date range\n    if (date < dateRangeStart) {\n      date = dateRangeStart;\n    } else if (date > dateRangeEnd) {\n      date = dateRangeEnd;\n    }\n\n    this.setNewDate(date);\n    this.wrapperRef.focus();\n  }\n\n  /**\n   * setSelectedDate\n   *\n   * Updated selected date to store\n   *\n   * @param {date} date\n   */\n  setSelectedDate(date, selectedCallback = () => {}) {\n    const { selectedStartDate, selectedEndDate } = this.state;\n\n    const {\n      change,\n      name,\n      isStart,\n      isRange,\n      endRef,\n      // dateInner,\n    } = this.props;\n\n    try {\n      let storeString = null;\n      let dateString = null;\n      if (date) {\n        // Get date values in string\n        const currDay = (`0${date.getDate().toString()}`).slice(-2);\n        const currMonth = (`0${(date.getMonth() + 1).toString()}`).slice(-2);\n        const currYear = date.getFullYear().toString();\n\n        // Get date in string\n        dateString = `${currDay}/${currMonth}/${currYear}`;\n        // String to store in store\n        storeString = `${currDay} ${monthTextMapping[currMonth - 1].slice(0, 3)} ${currYear}`;\n      }\n\n      // Update the date in the store for the form\n      change(name, storeString);\n\n      let newSelectedStartDate = selectedStartDate;\n      let newSelectedEndDate = selectedEndDate;\n\n      // Set end and start to selected date\n      // Default use selectedStartDate if not range\n      if (isRange && !isStart) {\n        newSelectedEndDate = date;\n      } else {\n        newSelectedStartDate = date;\n        if (newSelectedEndDate < newSelectedStartDate) {\n          newSelectedEndDate = newSelectedStartDate;\n\n          if (endRef && endRef.wrappedInstance) {\n            endRef.wrappedInstance.setSelectedDate(newSelectedStartDate);\n          }\n        }\n      }\n\n      // Set the new date\n      this.setNewDate(date, {\n        isOpened: false,\n        selectedString: dateString,\n        selectedEndDate: newSelectedEndDate,\n        selectedStartDate: newSelectedStartDate,\n      }, selectedCallback);\n\n      // Close the dropdown and update the selectedString\n      // Since is selection, there will be no error\n      // this.setState({\n      //   isOpened: false,\n      //   selectedString: dateString,\n      //   selectedEndDate: newSelectedEndDate,\n      //   selectedStartDate: newSelectedStartDate,\n      // });\n\n      this.isFromFocus = false;\n    } catch (error) {\n      // eslint-disable-next-line no-empty\n    }\n  }\n\n  /**\n   * End selection if click on outside\n   *\n   * @param {object} event\n   */\n  handleClickOutside(event) {\n    const { isOpened, dateInnerDOM } = this.state;\n    const { isTargetWithinDateRangePicker } = this.props;\n\n    // If clicked outside of daterpicekr Inner or wrapper, go to exit\n    if (\n      isOpened &&\n      this.wrapperRef &&\n      !this.wrapperRef.contains(event.target) &&\n      dateInnerDOM &&\n      !dateInnerDOM.contains(event.target)\n    ) {\n      this.setState({\n        isOpened: false,\n      });\n\n      // If outside of any datepicker controls\n      if (this.datepickerInner && (!isTargetWithinDateRangePicker || (isTargetWithinDateRangePicker && !isTargetWithinDateRangePicker(event.target)))) {\n        this.datepickerInner.toggleDateInner(false);\n      }\n\n      this.handleExit();\n\n      this.isFromFocus = false;\n      // this.handleExit();\n      this.doNotBlur = false;\n      return;\n    }\n\n    this.doNotBlur = true;\n  }\n\n  /**\n   * handleKeyPress\n   *\n   * Handle on enter key\n   *\n   * @param {object} target\n   */\n  handleKeyPress(target) {\n    // If pressed on enter, go to exit\n    if (target.charCode === 13) {\n      target.preventDefault();\n      this.handleExit();\n\n      if (this.datepickerInner) {\n        this.datepickerInner.toggleDateInner(false);\n      }\n    }\n  }\n\n  /**\n   * handleSelectClick\n   *\n   * Handle toggling of datepicker\n   */\n  handleSelectClick() {\n    const {\n      isOpened,\n      placeHolder,\n      currDate,\n      currFirstDay,\n      currLastDay,\n      selectedStartDate,\n      selectedEndDate,\n      dateRangeStart,\n      dateRangeEnd,\n    } = this.state;\n\n    const {\n      change,\n      name,\n      isRange,\n      isStart,\n      formStore,\n    } = this.props;\n\n    let selectedStart = selectedStartDate || (formStore && storeStringToDate(formStore.start_date));\n    let selectedEnd = selectedEndDate || (formStore && storeStringToDate(formStore.end_date));\n    selectedStart = selectedStart === -1 ? null : selectedStart;\n    selectedEnd = selectedEnd === -1 ? null : selectedEnd;\n\n    const selectedCallback = (extraState = {}) => {\n      if (this.datepickerInner) {\n        this.datepickerInner.toggleDateInner(!isOpened, {\n          setNewDate: this.setNewDate,\n          setSelectedDate: this.setSelectedDate,\n          currDate,\n          currFirstDay,\n          currLastDay,\n          selectedStartDate: selectedStart,\n          selectedEndDate: selectedEnd,\n          dateRangeStart,\n          dateRangeEnd,\n          isRange,\n          isStart,\n          ...extraState,\n        });\n      }\n\n      // ]if (!this.isFromFocus) {\n      this.setState({\n        isOpened: !isOpened,\n      }, () => {\n        if (!isOpened) {\n          this.onMovement();\n        }\n      });\n\n      const { selectedString } = this.state;\n      // Open if not opened and set the input string\n      // back to date form\n      if (!isOpened) {\n        if (selectedString !== placeHolder) {\n          change(name, selectedString);\n        }\n      } else {\n        this.handleExit();\n        if (this.inputField) {\n          const input = this.inputField.getRenderedComponent();\n          if (input) {\n            setTimeout(() => input.blur(), 2);\n          }\n        }\n      }\n      // }\n\n      this.isFromFocus = false;\n    };\n\n    if (isStart && selectedStart) {\n      this.setSelectedDate(selectedStart, selectedCallback);\n    } else if (selectedEnd) {\n      this.setSelectedDate(selectedEnd, selectedCallback);\n    } else {\n      selectedCallback();\n    }\n\n    // setTimeout(() => {\n    //   dateInner.toggleDateInner(!isOpened, {\n    //     setNewDate: this.setNewDate,\n    //     setSelectedDate: this.setSelectedDate,\n    //     currDate,\n    //     currFirstDay,\n    //     currLastDay,\n    //     selectedStartDate: selectedStart,\n    //     selectedEndDate: selectedEnd,\n    //     dateRangeStart,\n    //     dateRangeEnd,\n    //     isRange,\n    //     isStart,\n    //   });\n\n    //   // ]if (!this.isFromFocus) {\n    //   this.setState({\n    //     isOpened: !isOpened,\n    //   }, () => {\n    //     if (!isOpened) {\n    //       this.onMovement();\n    //     }\n    //   });\n\n    //   const { selectedString } = this.state;\n    //   // Open if not opened and set the input string\n    //   // back to date form\n    //   if (!isOpened) {\n    //     if (selectedString !== placeHolder) {\n    //       change(name, selectedString);\n    //     }\n    //   } else {\n    //     this.handleExit();\n    //     if (this.inputField) {\n    //       const input = this.inputField.getRenderedComponent();\n    //       if (input) {\n    //         setTimeout(() => input.blur(), 2);\n    //       }\n    //     }\n    //   }\n    //   // }\n\n    //   this.isFromFocus = false;\n    // }, 10);\n  }\n\n  /**\n   * Handles on input changes\n   *\n   * @param {object} event\n   */\n  async handleOnInputChange(event) {\n    // Wait for event to finish\n    await event;\n    // Get current input value\n    const value = event.target.defaultValue;\n\n    // Set new list items, height of dropdown list,\n    // Force open list on type, and set selected string to value\n    this.setState({\n      selectedString: value,\n    });\n  }\n\n  handleBlur(event) {\n    const isChildren = this.wrapperRef.contains(event.relatedTarget);\n    if (!isChildren && !this.doNotBlur) {\n      // Hackish, but to make sure this comes after setNewDate\n      setTimeout(() => {\n        this.handleExit();\n        this.isFromFocus = false;\n      }, 100);\n    }\n\n    this.doNotBlur = false;\n  }\n\n  handleFocus(event) {\n    const isChildren = this.wrapperRef.contains(event.relatedTarget);\n    if (event.relatedTarget && !isChildren && !this.isClicked) {\n      this.handleSelectClick();\n      this.isFromFocus = true;\n    }\n\n    this.isClicked = false;\n  }\n  /**\n   * handleExit\n   *\n   * Handle exit selection of entered input\n   */\n  handleExit() {\n    const {\n      selectedString,\n      dateRangeEnd,\n      dateRangeStart,\n      selectedStartDate,\n    } = this.state;\n\n    const {\n      change,\n      name,\n      isRange,\n      isStart,\n    } = this.props;\n\n    // Check if input string is valid date\n    let isError = !moment(selectedString, 'DD/MM/YYYY', true).isValid();\n    // The date in date form\n    let selectedDate = null;\n\n    // Check if date is within date range\n    if (!isError) {\n      const parts = selectedString.split('/');\n      selectedDate = new Date(parts[2], parts[1] - 1, parts[0]);\n      // isError = isStart && selectedEndDate ? selectedDate > selectedEndDate : isError;\n      isError = !isStart && selectedStartDate ? selectedStartDate > selectedDate : isError;\n      isError = selectedDate < dateRangeStart || dateRangeEnd < selectedDate ? true : isError;\n    }\n\n    // Close the dropdown and set any errors\n    this.setState({\n      isOpened: false,\n    });\n\n    // Set null to selected start or end date if error\n    if (isError) {\n      if (isRange && !isStart) {\n        this.setState({\n          selectedEndDate: null,\n        });\n      } else {\n        this.setState({\n          selectedStartDate: null,\n        });\n      }\n\n      // Null strings and store value\n      this.setState({\n        selectedString: '',\n      });\n      change(name, null);\n\n      return;\n    }\n\n    this.setSelectedDate(selectedDate);\n  }\n\n  /**\n   * Render component\n   */\n  render() {\n    const {\n      isOpened,\n      height,\n      placeHolder,\n    } = this.state;\n\n    if (height) {\n      const {\n        name,\n        zIndex,\n        maxWidth,\n        isRange,\n        isStart,\n        desc,\n        extraInfo,\n        errorString,\n        formStore,\n        validateForm,\n      } = this.props;\n\n      const mainStyle = {\n        height,\n        zIndex,\n        maxWidth,\n      };\n\n      const dropDownOpenStyle = isOpened ? 'dropdown-container-opened' : 'dropdown-container-closed';\n      const isErrorStyle = errorString ? 'error' : '';\n      const rangeIcon = isStart ? DateIn : DateOut;\n      const rangIconStyle = isStart ? 'date-img-in' : 'date-img-out';\n\n      const refValue = formStore ? formStore[name] : null;\n\n      return (\n        <Fragment>\n          <FormInputWrapper\n            desc={desc}\n            ref={node => (this.formParent = node)}\n            extraInfo={extraInfo}\n            errorString={errorString}\n            refValue={refValue}\n            validateForm={validateForm}\n          >\n            <div\n              className=\"dropdown datepicker\"\n              style={mainStyle}\n              ref={node => (this.wrapperRef = node)}\n              onBlur={event => this.handleBlur(event)}\n              onFocus={event => this.handleFocus(event)}\n            >\n              <div\n                className={`dropdown-container \n                            ${dropDownOpenStyle} \n                            ${isErrorStyle}\n                          `}\n                style={{ height }}\n                onKeyUp={() => {}}\n                role=\"button\"\n                tabIndex={-1}\n              >\n                <div\n                  className=\"selected-container align-items-center\"\n                  style={{ height }}\n                >\n                  {\n                    isRange ?\n                      <img\n                        className={`date-img ${rangIconStyle}`}\n                        src={rangeIcon}\n                        alt=\"Date Range Icon\"\n                      />\n                    :\n                      null\n                  }\n                  <div className=\"selected-text text-style\">\n                    <Field\n                      name={name}\n                      ref={node => this.inputField = node}\n                      withRef\n                      component=\"input\"\n                      type=\"text\"\n                      placeholder={placeHolder}\n                      autoComplete=\"off\"\n                      onChange={event => this.handleOnInputChange(event)}\n                      onKeyPress={this.handleKeyPress}\n                      onMouseDown={(e) => {\n                        if (window.innerWidth <= 576) {\n                          e.preventDefault();\n                        }\n                        this.isClicked = true;\n                        this.handleSelectClick();\n                      }}\n                      tabIndex={0}\n                    />\n                  </div>\n                  {\n                    isRange ?\n                      null\n                    :\n                      <div\n                        role=\"button\"\n                        className=\"selected-arrow\"\n                        onMouseDown={() => { this.isClicked = true; this.handleSelectClick(); }}\n                        tabIndex={-1}\n                      >\n                        <img\n                          src={Arrow}\n                          alt=\"arrow.svg\"\n                          className={`selected-arrow-style ${isOpened ? 'angle-up' : 'angle-down'}`}\n                        />\n                      </div>\n                  }\n                </div>\n              </div>\n            </div>\n          </FormInputWrapper>\n          <DateInner ref={node => this.datepickerInner = node} />\n        </Fragment>\n      );\n    }\n\n    return null;\n  }\n}\n\nDatePickerV2.defaultProps = {\n  maxWidth: '100%',\n  isStart: true,\n  isRange: false,\n  startDate: null,\n  endDate: null,\n  currDate: null,\n  placeholderString: placeholderStringDefault,\n  desc: null,\n  extraInfo: null,\n  errorString: null,\n  formStore: null,\n  validateForm: null,\n  isTargetWithinDateRangePicker: null,\n  endRef: null,\n};\n\nDatePickerV2.propTypes = {\n  formStore: PropTypes.object,\n  maxWidth: PropTypes.string,\n  size: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  zIndex: PropTypes.number.isRequired,\n  change: PropTypes.func.isRequired,\n  isStart: PropTypes.bool,\n  isRange: PropTypes.bool,\n  startDate: PropTypes.instanceOf(Date),\n  endDate: PropTypes.instanceOf(Date),\n  currDate: PropTypes.instanceOf(Date),\n  placeholderString: PropTypes.string,\n  desc: PropTypes.string,\n  extraInfo: PropTypes.object,\n  errorString: PropTypes.string,\n  validateForm: PropTypes.func,\n  // dateInner: PropTypes.object.isRequired,\n  isTargetWithinDateRangePicker: PropTypes.func,\n  endRef: PropTypes.object,\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  formStore: (getFormValues(ownProps.form)(state)),\n  // dateInner: state.datepicker.datePickerInner,\n});\n\nexport default connect(mapStateToProps, null, null, { withRef: true })(DatePickerV2);\n","/**\n * PopupWithText.js\n * Popup with custom text\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\n\nimport PopupWithText from '../PopupWithText/PopupWithText';\n\n\nclass RefreshTimer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.oldTime = new Date();\n    this.timeout = null;\n    this.invokeNewTimer = this.invokeNewTimer.bind(this);\n    this.setTimer = this.setTimer.bind(this);\n  }\n\n  componentWillMount() {\n    window.addEventListener('mousemove', this.invokeNewTimer);\n    window.addEventListener('keypress', this.invokeNewTimer);\n  }\n\n\n  componentWillUnmount() {\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n    }\n\n    window.removeEventListener('mousemove', this.invokeNewTimer);\n    window.removeEventListener('keypress', this.invokeNewTimer);\n  }\n\n  setTimer() {\n    const { popupTimer, refreshTimer } = this.props;\n    this.timeout = setTimeout(() => {\n      const confirmResult = window.confirm(`Your session will expire due inactivity. Please click OK within ${refreshTimer / 1000 / 60} mins to continue, or Cancel, if you wish to leave the page.`);\n      const timeDiff = new Date() - this.oldTime;\n\n      if (confirmResult && timeDiff < popupTimer + refreshTimer) {\n        this.invokeNewTimer();\n      } else {\n        window.location.assign('/');\n      }\n    }, popupTimer);\n    this.oldTime = new Date();\n  }\n\n  invokeNewTimer() {\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n    }\n\n    this.setTimer();\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <PopupWithText\n          hideCloseButton\n          ref={node => this.popup = node}\n        />\n      </Fragment>\n    );\n  }\n}\n\nRefreshTimer.defaultProps = {\n  popupTimer: 600000,\n  refreshTimer: 120000,\n};\n\nRefreshTimer.propTypes = {\n  popupTimer: PropTypes.number,\n  refreshTimer: PropTypes.number,\n};\n\nexport default RefreshTimer;\n","module.exports = __webpack_public_path__ + \"static/media/CheckIcon.22021614.svg\";","/**\n * PromoPopup.js\n * popup used to display promos on Form landings\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport { Row, Col } from 'reactstrap';\n\nimport Button from 'components/FormsV3/Button/Button';\nimport Popup from '../Popup/Popup';\nimport TabView from '../../Templates/TabView/TabView';\n\nimport './PromoPopup.scss';\n\nclass PromoPopup extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: null,\n    };\n\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  openPopUp(data) {\n    this.setState({\n      data,\n    });\n\n    setTimeout(() => {\n      this.popupRef.openPopup();\n      if (this.tabView && this.tabView.wrappedInstance) {\n        setTimeout(() => {\n          this.tabView.wrappedInstance.goToIndex(0, true);\n        }, 50);\n      }\n    }, 200);\n  }\n\n  handleClick() {\n    this.popupRef.closePopup();\n  }\n\n  renderImage(data) {\n    if (data.image_url) {\n      return (\n        <Col className=\"img-container\">\n          <a href={data.cta_url} target=\"__blank\"><img src={data.image_url} alt=\"promo.png\" /></a>\n        </Col>\n      );\n    }\n\n    return null;\n  }\n\n  renderInfo(data, type) {\n    const style = {\n      main_text: 'main-text-container',\n      caption_text: 'caption-text-container',\n      sub_text: 'sub-text-container',\n    };\n\n    let jsx = _.map(data.details[type], (text, index) => (\n      <p key={`${type}-${index}`}>{text}</p>\n    ));\n\n    if (type === 'sub_text' && data.terms_and_cond_url) {\n      const tnc = (\n        <p key=\"tnc-link\">\n          <a href={data.terms_and_cond_url} target=\"__blank\">Terms & conditions</a>\n          <span> apply</span>\n        </p>\n      );\n      jsx = [tnc, ...jsx];\n    }\n    if (data.details && data.details[type]) {\n      return (\n        <Col className={style[type]} xs={12}>\n          {jsx}\n        </Col>\n      );\n    }\n\n    return null;\n  }\n\n  renderButton(data) {\n    const buttonText = data.details && data.details.button_text ?\n      _.map(data.details.button_text, (text, index) => <span key={`button-${index}`}>{text}</span>) :\n      'Get Covered Today';\n\n    return (\n      <Col className=\"button-container\" xs={12}>\n        <Button\n          onClick={this.handleClick}\n          type=\"submit\"\n          variant=\"medium-flat-green\"\n          width={300}\n          height={72}\n        >\n          <p>{buttonText}</p>\n        </Button>\n      </Col>\n    );\n  }\n\n  renderMain(promoData, index) {\n    return (\n      <Fragment key={`promo-${index}`}>\n        <Row>\n          {this.renderImage(promoData)}\n          {/* {this.renderInfo(promoData, 'main_text')} */}\n          {/* {this.renderInfo(promoData, 'caption_text')} */}\n          {/* {this.renderInfo(promoData, 'sub_text')} */}\n          {this.renderButton(promoData)}\n        </Row>\n      </Fragment>\n    );\n  }\n\n\n  render() {\n    const { data } = this.state;\n\n    let renderData = null;\n    if (data && data.main && data.main.length > 1) {\n      const tabs = [];\n      const tabList = _.map(data.main, (promoData, index) => {\n        tabs.push(`Promo ${index + 1}`);\n        return this.renderMain(promoData, index);\n      });\n\n      renderData = (\n        <TabView\n          ref={node => this.tabView = node}\n          tabs={tabs}\n          isDisableDropdown\n          name=\"promo-tab\"\n        >\n          {tabList}\n        </TabView>\n      );\n    } else if (data && data.main) {\n      renderData = this.renderMain(data.main[0], 0);\n    }\n\n    return (\n      <Popup\n        ref={(r) => { this.popupRef = r; }}\n        style={{\n          paddingLeft: '2%',\n          paddingRight: '2%',\n          paddingBottom: 0,\n        }}\n      >\n        <Fragment>\n          <div className=\"promo-popup\">\n            {renderData}\n          </div>\n        </Fragment>\n      </Popup>\n    );\n  }\n}\n\nexport default PromoPopup;\n","module.exports = __webpack_public_path__ + \"static/media/EditButton.d239c2ce.svg\";","/**\n * Accordion.js\n * A collapse view that is enhanced from reactstrap\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport React, { Component } from 'react';\nimport { Collapse, CardBody, Card } from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nimport ArrowGradient from 'assets/images/forms/ArrowGradient.svg';\n\nimport './Accordion.scss';\n\n/**\n * Custom Form Dropdown class\n */\nclass Accordion extends Component {\n  /**\n   * Constructor\n   *\n   * @param {object} props Component props\n   */\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isOpened: false,\n      openCallback: null,\n    };\n\n    this.handleExpand = this.handleExpand.bind(this);\n    this.setOpenCallback = this.setOpenCallback.bind(this);\n  }\n\n  setOpenCallback(callback) {\n    this.setState({\n      openCallback: callback,\n    });\n  }\n\n  handleExpand() {\n    const { isOpened, openCallback } = this.state;\n    if (!isOpened && openCallback) {\n      setTimeout(() => openCallback(), 10);\n    }\n\n    this.setState({\n      isOpened: !isOpened,\n    });\n  }\n\n  render() {\n    const {\n      isOpened,\n    } = this.state;\n\n    const {\n      height,\n      isWarning,\n      isFullBorder,\n    } = this.props;\n\n    const openStyle = isOpened ? 'accordion-opened' : 'accordion-closed';\n    const openText = isOpened ? 'Close Details' : 'Expand Details';\n    const arrowOpenStyle = isOpened ? 'arrow-opened' : 'arrow-closed';\n    const borderStyle = isFullBorder ? 'accordion-border' : '';\n\n    return (\n      <div className={`${borderStyle} accordion-container`}>\n        <div className=\"accordion-inner\">\n          <Collapse className={openStyle} isOpen={isOpened}>\n            <Card>\n              <CardBody>\n                {this.props.children}\n              </CardBody>\n            </Card>\n          </Collapse>\n        </div>\n        <div className=\"expand-container\" style={{ minHeight: height }}>\n          <button\n            className=\"control-container\"\n            onClick={() => this.handleExpand()}\n          >\n            <img className={`arrow ${arrowOpenStyle}`} src={ArrowGradient} alt=\"Arrow.svg\" />\n            <span>{openText}</span>\n          </button>\n        </div>\n        {\n          isWarning ?\n            <div className=\"warning-container\">\n              <p>Please make sure all your information is correct before making the payment</p>\n            </div>\n          :\n            null\n        }\n      </div>\n    );\n  }\n}\n\nAccordion.defaultProps = {\n  isWarning: false,\n  height: 95,\n  isFullBorder: false,\n};\n\nAccordion.propTypes = {\n  isWarning: PropTypes.bool,\n  isFullBorder: PropTypes.bool,\n  height: PropTypes.number,\n};\n\nexport default Accordion;\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAsNJREFUSA3Flz1rFEEYgLOSGJB0QsRTCxtFUUHTCImS9BaR09JKLQTBQs0/uEoU0mpnFQiYCIp2CYqFogELP7CwCJ6iCAqxMEU4n+cya9Zld7KXkPjCczM779fM7nxd0lVBWq1WgtkgjMIA1AIUXZ8Dryin4VmSJC3KqBiwVEjYi/IKXIUmGPhpqJtQsRO74ATYMes3YZwOLFJ2JiStwzxMwv6q3toGH33rVf3adjg04CMc78gxY6xviNHINJdXMZ6AWdheblVNY4wQayLqgZEjNWlP1LADpbFCzOKRo/Sb+nrXPdJ8v4wZYv/7zWnsBSfDmr9pPln+2dghhytlWWgYg8n0OVZi1w9nYAqewwXYF/NJddi5Qsbaz1QS+ArRJYO+G67DJ8jLAg23wTVcKuhdauZKuvgZgrlSaxTonSB3ISu/ePiZaVikfjIWRx02czC0hbq7jTtSTK6hPBcM5ikvwhE4BKfgEdTZqZ5QribmGrUHMzBSZo2uBt9BacLBMtsq7fiPwEw3xu61zYiTnUqX2C1G9VZbnN3nj8I2HyEV2z9g9y1tyJXmqhnAidGXU/59RPcClCU4liqo+93fQZHcSe3yJcZ9sOA3VuxlmcR0PSVO/SXtNhuvZWKPt51QJuNBoe1wxmiJ+iVwNzoNNyCVB2mloDTXl7VMrgMFwYxzL7zz35SFNvqha08uR+HNwUO8UJgkvhEPdsWJ+Bjn87AXnPHDcJ92R61Mwft2rfjHXC/tQZUNZCt2+Q3ESfkDsvKGh93F+ZZb0bc3EBN3smW6p7uW8+Lr9Rzfs0rSlS1TQxw6OSR2YH8WHsJruAyHYwlTHXYrh0RI/H+OxZC8To829yKQeRUNks9C2caQmlYujRViNqJOGG3+ZS/tEckd+eZebzPJ/ebewzbkQh87AFxmG/YXJpo4M3rtBsHbygCs+0/bH+1FEN8ETvXEAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAArlJREFUSA29l79PFEEUx3f38EBFE6ONoLGwMLGUkJAQC/4DEmJCYeU/YGGirYnSmFD4X5DQ4F+ACblKiQUSQwGFl8NYkmtgXXb9fI9ZmJuws3MQ7iXfm1/vve/M7JuZd3EUIEVRxKjNgnkwBSYMKKJ9g03KNdCK47ig9IocVgqEowy+Bm9AB8jxhqmLUKJJTILnQBNTfRl8ZgJHlIMJpAvgN1gFT0KtpWtsZLsQatfTw2AJ7IGZgQwtZdkaH0tWd3UV5RXwFdyt1gobkQ/ja8VrgZJWKtJrXsUBBuXL+Dx/5Qzqm2p7L71Sd17yaXz3f3M6R4GC4cLf1CVz2/JtOHRSot5xouMt9WnC/4VrUNU+JHpHjo9nsLktP0mSbFD/UaWvfnhWKb6h90mNGPwFwUcmy7KX6B8AW975SA2xjpq44hE6dCN1mMVOnaExvkX5AWiltuR247y6OCDVRTQrYt02upGCJE3TR81m84FRTvM8f4+zX+zCzyAHJ1zz2up1MBdoFKVp8QyyHBvJPhgLtZUe+nNgPaGuu1bLr5V2u309jqMblqKC8x6Obm5vF02r31cV14Rm0AXjPk2NoaMgXGOxHcpSMto6hnts9WKdD+NnHP2uvrHE+0qdqPR+HxMg2qFSGrQfqtFoNEJfInEVItbzdh90gVfyPNrkqU0ge2oU/zH7LeoZfbte47NBcf25QHCl05DZwXXnzGd9DdvT4FLmoEc8VNzzWpttOI7F9V1RrTOssxwqbjy47To/4voi4haYZAuCr8w6z1XjhkOpUUuBoq1SjvSxysDp12TLVQ50eRiOZcPZO6PBzyKz1oXxymCRMujiQK/vWTxdDAPDTwRKdsiHn/pY5MNP9ixyrXy46a1Frm+uB+BKEvryWJR8fSWkSsyu5C+Ml7icBROQnlIk3TpT4NJ/2v4DJHsycMQfgx0AAAAASUVORK5CYII=\"","/**\n * PiggySignUp.js\n * The piggy sign up template\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport React, { Component } from 'react';\nimport { Col } from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nimport Pig from 'assets/images/Motor/Pig.svg';\n\nimport Button from 'components/FormsV3/Button/Button';\n\nimport './PiggySignUp.scss';\n\nclass PiggySignUp extends Component {\n  render() {\n    const {\n      header,\n      subHeader,\n      buttonInner,\n      onClick,\n    } = this.props;\n\n    return (\n      <div className=\"piggy-container\">\n        <Col className=\"d-flex d-sm-none wrap-container\" xs={12}>\n          <div className=\"piggy-img-container\">\n            <img src={Pig} alt=\"Pig.svg\" />\n          </div>\n          <div className=\"piggy-right-container\">\n            <div className=\"piggy-desc-container\">\n              {header}\n              {subHeader}\n            </div>\n          </div>\n          <div className=\"button-container\">\n            <Button variant=\"medium-color\" width=\"100%\" height={48} onClick={onClick}>\n              <p>{buttonInner}</p>\n            </Button>\n          </div>\n        </Col>\n        <Col className=\"d-none d-sm-flex wrap-container\" xs={12}>\n          <div className=\"piggy-img-container\">\n            <img src={Pig} alt=\"Pig.svg\" />\n          </div>\n          <div className=\"piggy-right-container\">\n            <div className=\"piggy-desc-container\">\n              {header}\n              {subHeader}\n            </div>\n            <div className=\"button-container\">\n              <Button variant=\"medium-color\" width=\"100%\" height={48} onClick={onClick}>\n                <p>{buttonInner}</p>\n              </Button>\n            </div>\n          </div>\n        </Col>\n      </div>\n    );\n  }\n}\n\nPiggySignUp.defaultProps = {\n  onClick: () => {},\n};\n\nPiggySignUp.propTypes = {\n  header: PropTypes.object.isRequired,\n  subHeader: PropTypes.object.isRequired,\n  buttonInner: PropTypes.object.isRequired,\n  onClick: PropTypes.func,\n};\n\nexport default PiggySignUp;\n","/**\n * Slider.js\n * Selection with dynamic content\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport React, { Component, Fragment } from 'react';\nimport { Field, getFormValues } from 'redux-form';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport _ from 'lodash';\n\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\nimport DropDownV2 from '../DropDown/DropDownV2';\n\nimport './Slider.scss';\n\nconst SLIDERSTATE = {\n  ONIDLE: 0,\n  ONDOWN: 1,\n  ONUP: 2,\n};\n\n/**\n * Custom Selection Class\n */\nclass Slider extends Component {\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      storeForm,\n      inputList,\n      name,\n      formState,\n      formStateList,\n    } = nextProps;\n\n    const { activeIndex } = prevState;\n\n    let indexToChange = null;\n    if (storeForm) {\n      const selectedTabString = storeForm[name];\n      const selectedTabIndex = inputList.indexOf(selectedTabString);\n      if (selectedTabIndex !== -1 && selectedTabIndex !== activeIndex) {\n        indexToChange = selectedTabIndex;\n      }\n    }\n\n    if (formState) {\n      const formStateIndex = _.findIndex(formStateList, listState => listState.state === formState);\n      if (formStateIndex !== activeIndex) {\n        indexToChange = formStateIndex;\n      }\n    }\n\n    if (indexToChange !== null) {\n      const len = inputList.length - 1;\n      const newWidth = indexToChange / len * 100;\n\n      return ({\n        activeIndex: indexToChange,\n        sliderWidth: newWidth,\n      });\n    }\n\n    return null;\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      sliderWidth: 0,\n      sliderState: SLIDERSTATE.ONIDLE,\n      activeIndex: 0,\n      isUseDropDown: false,\n      marginTop: 60,\n    };\n\n    this.renderKnobs = this.renderKnobs.bind(this);\n    this.renderSummary = this.renderSummary.bind(this);\n\n    this.handleResize = this.handleResize.bind(this);\n\n    this.handleSliderDown = this.handleSliderDown.bind(this);\n    this.handleSliderMove = this.handleSliderMove.bind(this);\n    this.handleSliderUp = this.handleSliderUp.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener('mousemove', this.handleSliderMove);\n    document.addEventListener('mouseup', this.handleSliderUp);\n    window.addEventListener('resize', this.handleResize);\n\n    const {\n      storeForm,\n      name,\n      change,\n      inputList,\n      isProductSlider,\n    } = this.props;\n\n    if (!isProductSlider && !(storeForm && storeForm[name])) {\n      change(name, inputList[0]);\n    }\n\n    this.handleResize();\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousemove', this.handleSliderMove);\n    document.removeEventListener('mouseup', this.handleSliderUp);\n    window.removeEventListener('resize', this.handleResize);\n  }\n\n  handleResize() {\n    const { hideWidth, isProductSlider } = this.props;\n    if (!isProductSlider && hideWidth > 0) {\n      const isDrop = window.innerWidth <= hideWidth;\n      this.setState({\n        isUseDropDown: isDrop,\n        marginTop: isDrop ? 0 : 60,\n      });\n    }\n  }\n\n  handleSliderDown() {\n    const { sliderState } = this.state;\n\n    if (sliderState !== SLIDERSTATE.ONDOWN) {\n      this.setState({\n        sliderState: SLIDERSTATE.ONDOWN,\n      });\n    }\n  }\n\n  handleSliderMove(event) {\n    const { sliderState } = this.state;\n\n    if (sliderState === SLIDERSTATE.ONDOWN) {\n      const rect = this.sliderStart.getBoundingClientRect();\n      const position = Math.max(0, Math.min(event.clientX - rect.x - 5, rect.width)) / rect.width * 100;\n      this.setState({\n        sliderWidth: position,\n      });\n    }\n  }\n\n  handleSliderUp() {\n    this.handleClick();\n  }\n\n  handleClick(index = null) {\n    const { inputList, isProductSlider } = this.props;\n\n    const { sliderWidth } = this.state;\n    const len = inputList.length - 1;\n    const indexToUse = this.handleProductSlider(index === null ? Math.round(sliderWidth / 100 * len) : index);\n    const newWidth = indexToUse / len * 100;\n\n    if (!isProductSlider) {\n      const {\n        name,\n        change,\n      } = this.props;\n\n      change(name, inputList[indexToUse]);\n    }\n\n    this.setState({\n      sliderState: SLIDERSTATE.IDLE,\n      sliderWidth: newWidth,\n      activeIndex: indexToUse,\n    });\n\n    if (inputList[indexToUse].callback) {\n      inputList[indexToUse].callback();\n    }\n  }\n\n  handleProductSlider(indexToUse) {\n    const { formState, formStateList } = this.props;\n    if (!formState) {\n      return indexToUse;\n    }\n\n    const formStateIndex = _.findIndex(formStateList, listState => listState.state === formState);\n    const isValidSelection = indexToUse < formStateIndex;\n    if (isValidSelection && formStateList[indexToUse].callback) {\n      formStateList[indexToUse].callback(formState);\n    }\n\n    return isValidSelection ? indexToUse : formStateIndex;\n  }\n\n  renderKnobs() {\n    const { activeIndex } = this.state;\n    const { inputList, isProductSlider, displayList } = this.props;\n\n    const inputLength = inputList.length - 1;\n    return _.map(inputList, (data, index) => {\n      const leftOffset = index / inputLength * 100;\n      const isProductPassedPage = isProductSlider && index <= activeIndex;\n      let activeStyle = '';\n      if (isProductPassedPage || (!isProductSlider && index === activeIndex)) {\n        activeStyle = 'desc-active';\n      }\n      const sliderStyle = isProductPassedPage ? 'knob-done' : 'knob-default';\n      const indexToUse = index;\n      const dataToUse = displayList && displayList[index] ? displayList[index] : data;\n\n      return (\n        <button\n          key={data}\n          tabIndex={-1}\n          className={`knob ${sliderStyle}`}\n          style={{ left: `${leftOffset}%` }}\n          onClick={(e) => { e.preventDefault(); this.handleClick(indexToUse); }}\n          onKeyDown={() => {}}\n        >\n          <p className={`${activeStyle} desc`}>\n            {dataToUse}\n          </p>\n        </button>\n      );\n    });\n  }\n\n  renderSummary() {\n    const {\n      activeIndex,\n    } = this.state;\n\n    const {\n      inputList,\n      prefix,\n      suffix,\n      isProductSlider,\n      displayList,\n    } = this.props;\n\n    if (!isProductSlider) {\n      const value = inputList[activeIndex];\n      const valueToUse = displayList && displayList[activeIndex] ? displayList[activeIndex] : value;\n\n      return (\n        <div className=\"slider-summary-container\">\n          {\n            prefix ?\n              <span className=\"prefix-suffix\">{`${prefix} `}</span>\n            :\n              null\n          }\n          <span className=\"value\">{valueToUse}</span>\n          {\n            suffix ?\n              <span className=\"prefix-suffix\">{` ${suffix}`}</span>\n            :\n              null\n          }\n        </div>\n      );\n    }\n\n    return null;\n  }\n\n  render() {\n    const {\n      sliderWidth,\n      isUseDropDown,\n      marginTop,\n    } = this.state;\n\n    const {\n      name,\n      desc,\n      form,\n      zIndex,\n      change,\n      inputList,\n      extraInfo,\n      isProductSlider,\n      maxWidth,\n      errorString,\n    } = this.props;\n\n    const knobColor1 = isProductSlider ? 'white-knob' : 'color-knob';\n    const knobColor2 = isProductSlider ? 'color-knob' : 'white-knob';\n\n    return (\n      <FormInputWrapper\n        desc={desc}\n        ref={node => (this.formParent = node)}\n        extraInfo={extraInfo}\n        errorString={errorString}\n      >\n        <Fragment>\n          {this.renderSummary()}\n          <div\n            className=\"slider-container\"\n            style={{ marginTop, maxWidth }}\n          >\n            {\n              isUseDropDown ?\n                <DropDownV2\n                  form={form}\n                  change={change}\n                  name={name}\n                  placeholderString=\"Enter or select your destinations\"\n                  dropList={inputList}\n                  size=\"medium\"\n                  zIndex={zIndex}\n                  isDisableTyping\n                />\n              :\n                <Fragment>\n                  <div\n                    className=\"line\"\n                    ref={node => this.sliderStart = node}\n                  />\n                  <div\n                    className=\"line-green\"\n                    style={{ width: `${sliderWidth}%` }}\n                  />\n                  <div\n                    className=\"knob-container\"\n                  >\n                    {this.renderKnobs()}\n                  </div>\n                  <div\n                    className=\"knob-container\"\n                  >\n                    <button\n                      tabIndex={0}\n                      className={`slider-knob ${knobColor1}`}\n                      ref={node => this.slider = node}\n                      onMouseDown={this.handleSliderDown}\n                      onClick={e => e.preventDefault()}\n                      style={{ left: `${sliderWidth}%` }}\n                    >\n                      <div className={`inner ${knobColor2}`} />\n                    </button>\n                    {\n                      isProductSlider ?\n                        null\n                      :\n                        <Field name={name} component={() => null} />\n                    }\n                  </div>\n                </Fragment>\n            }\n          </div>\n        </Fragment>\n      </FormInputWrapper>\n    );\n  }\n}\n\nSlider.defaultProps = {\n  desc: null,\n  hideWidth: 0,\n  prefix: null,\n  suffix: null,\n  extraInfo: null,\n  isProductSlider: false,\n  name: null,\n  zIndex: 0,\n  change: null,\n  storeForm: null,\n  form: null,\n  maxWidth: '100%',\n  errorString: null,\n  formState: null,\n  formStateList: null,\n  displayList: null,\n};\n\nSlider.propTypes = {\n  isProductSlider: PropTypes.bool,\n  inputList: PropTypes.array.isRequired,\n  name: PropTypes.string,\n  zIndex: PropTypes.number,\n  change: PropTypes.func,\n  desc: PropTypes.string,\n  storeForm: PropTypes.object,\n  hideWidth: PropTypes.number,\n  form: PropTypes.string,\n  prefix: PropTypes.string,\n  suffix: PropTypes.string,\n  extraInfo: PropTypes.object,\n  maxWidth: PropTypes.string,\n  errorString: PropTypes.string,\n  formState: PropTypes.number,\n  formStateList: PropTypes.array,\n  displayList: PropTypes.array,\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  storeForm: (getFormValues(ownProps.form)(state)),\n});\n\nexport default connect(mapStateToProps, null)(Slider);\n","/**\n * ChangeInitialFormData.js\n * This is the green pencil button that appears mainly on\n * the compare view which will render the Edit Detail forms\n * of each category.\n *\n * Users will be able to change that form through this component\n * and will do a callback to update any changes, eg for compare view.\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { getFormValues, change } from 'redux-form';\nimport PropTypes from 'prop-types';\n\nimport EditButton from 'assets/images/forms/EditButton.svg';\n\nimport SpeechScroll from '../SpeechScroll/SpeechScroll';\nimport Popup from '../Popup/Popup';\n\nimport { resetSubmitStatus } from '../../../actions/editFormActions';\nimport { simplifyCost } from '../../../lib/helperFunctions';\n\nimport './ChangeInitialFormData.scss';\n\nclass ChangeInitialFormData extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      toolTipData: [],\n    };\n\n    this.renderHeader = this.renderHeader.bind(this);\n    this.renderDetailLabels = this.renderDetailLabels.bind(this);\n    this.renderDetailValues = this.renderDetailValues.bind(this);\n    this.renderEditButton = this.renderEditButton.bind(this);\n    this.renderSpeechScrollList = this.renderSpeechScrollList.bind(this);\n  }\n\n  componentDidMount() {\n    const { resetSubmit } = this.props;\n\n    resetSubmit();\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    const { closePopUp, toolTipData, speechScroll } = this.state;\n    const { resetSubmit } = this.props;\n\n    if (nextProps.isEditSubmitted) {\n      resetSubmit();\n    }\n\n    return nextProps.isEditSubmitted ||\n          closePopUp !== nextState.closePopUp ||\n          toolTipData !== nextState.toolTipData ||\n          speechScroll !== nextState.speechScroll;\n  }\n\n  renderHeader() {\n    const { headerValue, storeForm } = this.props;\n    if (storeForm && headerValue) {\n      const value = storeForm[headerValue] ? storeForm[headerValue] : '';\n      return <span className=\"edit-detail-header\">{value}</span>;\n    }\n\n    return null;\n  }\n\n  renderDetailLabels() {\n    const { valuesToListen, storeForm, conditions } = this.props;\n    const conditonValue = conditions ? storeForm[conditions.key] : null;\n    const valuesArrayToListen = conditonValue ? conditions.values[conditonValue] : null;\n\n    return (\n      <div className=\"edit-detail-label-container\">\n        {_.reduce(valuesToListen, (result, data, index) => {\n          if (\n            !valuesArrayToListen ||\n            (valuesArrayToListen && _.findIndex(valuesArrayToListen, value => value === data.value) !== -1)\n          ) {\n            result.push(<span key={`label-${index}`} className=\"detail-label\">{data.desc}</span>);\n          }\n          return result;\n        }, [])}\n      </div>\n    );\n  }\n\n  renderDetailValues() {\n    const { speechScroll } = this.state;\n    const { storeForm, valuesToListen, conditions } = this.props;\n\n    const conditonValue = conditions ? storeForm[conditions.key] : null;\n    const valuesArrayToListen = conditonValue ? conditions.values[conditonValue] : null;\n\n    if (!storeForm || !speechScroll) {\n      return null;\n    }\n\n    return (\n      <div className=\"edit-detail-value-container\">\n        {\n          _.reduce(valuesToListen, (result, data, index) => {\n            if (\n              !valuesArrayToListen ||\n              (valuesArrayToListen && _.findIndex(valuesArrayToListen, value => value === data.value) !== -1)\n            ) {\n              const value = storeForm[data.value] ? storeForm[data.value] : 'None';\n              const isArray = value.constructor === Array;\n\n              let displayValue = isArray ? [...value] : value;\n              if (data.aggregateDesc && isArray && displayValue.length > 1) {\n                displayValue = `${displayValue.length} ${data.aggregateDesc}`;\n              }\n\n              if (data.extra === 'cost_simplify') {\n                displayValue = simplifyCost(value);\n              }\n\n              const jsx = (\n                <div key={`detail-${index}`}>\n                  <span className=\"detail-value\">\n                    {displayValue}\n                    {\n                      isArray && displayValue.length > 1 ?\n                        <div\n                          className=\"tooltip-button\"\n                          onMouseEnter={() => this.setState({\n                            toolTipData: value,\n                          })}\n                          onMouseMove={(event) => {\n                            speechScroll.handleInsurerHover(event);\n                          }}\n                        >\n                          <p>i</p>\n                        </div>\n                      :\n                        null\n                    }\n                  </span>\n                </div>\n              );\n\n              result.push(jsx);\n            }\n\n            return result;\n          }, [])\n        }\n      </div>\n    );\n  }\n\n  renderSpeechScrollList() {\n    const { toolTipData } = this.state;\n    return _.map(toolTipData, (data, index) => <p className=\"tooltip-text\" key={`tooptip-${index}`}>{data}</p>);\n  }\n\n  renderEditButton() {\n    /* if (!storeForm) {\n      return null;\n    } */\n\n    return (\n      <div\n        className=\"edit-container\"\n        role=\"button\"\n        tabIndex={-1}\n        onKeyDown={() => {}}\n        onClick={() => {\n          this.popupRef.openPopup();\n        }}\n      >\n        <img src={EditButton} alt=\"EditButton.svg\" />\n      </div>\n    );\n  }\n\n  render() {\n    const { submitCallback } = this.props;\n\n    return (\n      <div className=\"change-form-container\">\n        <div className=\"edit-detail-container\">\n          {this.renderHeader()}\n          <div className=\"edit-detail-inner-container\">\n            {this.renderDetailLabels()}\n            {this.renderDetailValues()}\n          </div>\n          {this.renderEditButton()}\n        </div>\n        <SpeechScroll\n          ref={node => !this.state.speechScroll && this.setState({ speechScroll: node })}\n        >\n          {this.renderSpeechScrollList()}\n        </SpeechScroll>\n        <Popup ref={(r) => { this.popupRef = r; }}>\n          {React.cloneElement(this.props.children, {\n            submitCallback,\n          })}\n        </Popup>\n      </div>\n    );\n  }\n}\n\nChangeInitialFormData.defaultProps = {\n  submitCallback: null,\n  conditions: null,\n  headerValue: null,\n};\n\nChangeInitialFormData.propTypes = {\n  valuesToListen: PropTypes.array.isRequired,\n  storeForm: PropTypes.object.isRequired,\n  isEditSubmitted: PropTypes.bool.isRequired,\n  resetSubmit: PropTypes.func.isRequired,\n  submitCallback: PropTypes.func,\n  conditions: PropTypes.object,\n  headerValue: PropTypes.string,\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  storeForm: getFormValues(ownProps.form)(state),\n  isEditSubmitted: state.editForm.isEditSubmitted,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  undoFormChange: (form, key, value) => {\n    dispatch(change(form, key, value));\n  },\n  resetSubmit: () => {\n    dispatch(resetSubmitStatus());\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChangeInitialFormData);\n","module.exports = __webpack_public_path__ + \"static/media/Phone.d4a9e003.svg\";","module.exports = __webpack_public_path__ + \"static/media/Pig.ce4c154a.svg\";","/**\n * StepProgressBar.js\n * Used to display the progress steps used in all categories\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Row, Col } from 'reactstrap';\n\nimport Slider from '../../Forms/Slider/Slider';\n\nimport { setInsuranceFormState, FORMSTATES } from '../../../actions/insuranceActions';\n\nimport './StepProgressBar.scss';\n\nclass StepProgressBar extends Component {\n  constructor(props) {\n    super(props);\n    this.getStateList = this.getStateList.bind(this);\n    this.renderDescription = this.renderDescription.bind(this);\n  }\n\n  getStateList() {\n    const {\n      stateList,\n      history,\n    } = this.props;\n\n    return _.map(stateList, (state, index) => ({\n      state: state.index,\n      callback: (formState) => {\n        const currIndex = _.findIndex(stateList, s => s.index === formState);\n        history.go(-(currIndex - index));\n      },\n    }));\n  }\n\n  renderDescription() {\n    const {\n      formState,\n      stateList,\n      stateDescriptions,\n      charged,\n      history,\n    } = this.props;\n\n    try {\n      const currIndex = _.findIndex(stateList, state => state.index === formState);\n      const mainDesc = charged ? 'Receipt' : stateDescriptions[currIndex].main;\n      const subDesc = stateDescriptions[currIndex].sub;\n\n      if (!mainDesc && !subDesc) {\n        return null;\n      }\n\n      return (\n        <Col className=\"step-progress-description-container\" xs={12}>\n          {\n            currIndex !== 0 ?\n              <button\n                className=\"back-button\"\n                onClick={() => {\n                  history.goBack();\n                }}\n              >\n                Back\n              </button>\n            :\n              null\n          }\n          {\n            mainDesc ?\n              <p className=\"main\">{mainDesc}</p>\n            :\n              null\n          }\n          {\n            subDesc ?\n              <p className=\"sub\">{subDesc}</p>\n            :\n              null\n          }\n        </Col>\n      );\n    } catch (error) {\n      return null;\n    }\n  }\n\n  render() {\n    const {\n      formState,\n      charged,\n      inputList,\n      maxWidth,\n    } = this.props;\n\n    if (formState !== FORMSTATES.MAIN.index && !charged) {\n      return (\n        <Row noGutters>\n          <Col className=\"d-none d-sm-flex mx-auto product-slider\" xs={12}>\n            <Slider\n              isProductSlider\n              hideWidth={576}\n              maxWidth={maxWidth}\n              inputList={inputList}\n              formStateList={this.getStateList()}\n              formState={formState}\n            />\n          </Col>\n          {this.renderDescription()}\n        </Row>\n      );\n    }\n\n    return null;\n  }\n}\n\nStepProgressBar.defaultProps = {\n  charged: null,\n  maxWidth: '400px',\n};\n\nStepProgressBar.propTypes = {\n  formState: PropTypes.number.isRequired,\n  // setInsurFormState: PropTypes.func.isRequired,\n  inputList: PropTypes.array.isRequired,\n  stateList: PropTypes.array.isRequired,\n  charged: PropTypes.bool,\n  stateDescriptions: PropTypes.array.isRequired,\n  maxWidth: PropTypes.string,\n  // form: PropTypes.string.isRequired,\n  history: PropTypes.object.isRequired,\n};\n\nconst mapDispatchToProps = dispatch => ({\n  setInsurFormState: (state) => {\n    dispatch(setInsuranceFormState(state));\n  },\n});\n\nexport default withRouter(connect(null, mapDispatchToProps)(StepProgressBar));\n","/**\n * FormLanding.js\n * Wrapper that takes in the main landing form and\n * renders the 3 images with description, along\n * with the promo button\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport React, { Component, Fragment } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { Row, Col } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport PromoPopup from '../PromoPopup/PromoPopup';\n\nimport {\n  onPageInsurance,\n  setStateInsurance,\n  onPageMore,\n  setStateMore,\n  onPageBusiness,\n  setStateBusiness,\n} from '../../../actions/navActions';\n\nimport './FormLanding.scss';\n\nconst maxWidthOpaque = 1570;\n\nclass FormLanding extends Component {\n  constructor(props) {\n    super(props);\n\n    // Set Insurance Page Indicator\n    const pageState = onPageInsurance.ACTIVE;\n    // Reset More Page Indicator\n    const resetMore = onPageMore.NONE;\n\n    // Reset Business Page Indicator\n    const resetBusiness = onPageBusiness.NONE;\n\n    const {\n      setPage,\n      resetIndicatorMore,\n      resetIndicatorBusiness,\n    } = this.props;\n    setPage(pageState);\n    resetIndicatorMore(resetMore);\n    resetIndicatorBusiness(resetBusiness);\n\n    this.state = {\n      opacity: 1,\n    };\n\n    this.updateOpacity = this.updateOpacity.bind(this);\n    this.handlePromoClick = this.handlePromoClick.bind(this);\n  }\n\n  componentDidMount() {\n    const { promo } = this.props;\n    this.updateOpacity();\n    window.addEventListener('resize', this.updateOpacity);\n\n    if (promo && promo.main && promo.main.length > 0) {\n      this.promoPopup.openPopUp(promo);\n    }\n  }\n\n  shouldComponentUpdate(nextProps, prevState) {\n    const { opacity } = this.state;\n    return opacity !== prevState.opacity;\n  }\n\n  /**\n   * Lifecycle Method - componentWillUnmount\n   */\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.updateOpacity);\n  }\n\n  updateOpacity() {\n    const newOpacity = window.innerWidth / 1570;\n    this.setState({\n      opacity: window.innerWidth > maxWidthOpaque || window.innerWidth <= 576 ? 1 : Math.max(0.2, newOpacity * newOpacity * newOpacity),\n    });\n  }\n\n  handlePromoClick() {\n    this.promoPopup.popupRef.openPopup();\n  }\n\n  render() {\n    const { opacity } = this.state;\n    const {\n      img1,\n      img2,\n      img3,\n      promo,\n      desc,\n      imgAlt,\n    } = this.props;\n\n    const isPromo = promo && promo.main && promo.main.length > 0;\n    const promoOuterStyle = isPromo ? 'promo-outer-extra' : '';\n    const promoImgStyle = isPromo ? 'promo-img-extra' : '';\n\n    return (\n      <Fragment>\n        <Row noGutters>\n          <Col className={`landing-form-img-container ${promoImgStyle}`}>\n            <img className=\"img-1 align-self-end\" src={img1} alt={`${imgAlt} 1`} />\n            <img className=\"img-2 align-self-end\" src={img2} alt={`${imgAlt} 2`} />\n            <img className=\"img-3 align-self-end\" src={img3} alt={`${imgAlt} 3`} style={{ opacity }} />\n          </Col>\n        </Row>\n        <Row noGutters>\n          <Col>\n            <div className={`landing-form-outer-container ${promoOuterStyle}`}>\n              {\n                isPromo ?\n                  <button className=\"promo-button\" onClick={this.handlePromoClick}>\n                    {/* <img className=\"promo\" src={img3} alt=\"Promo.svg\" /> */}\n                  </button>\n                :\n                  null\n              }\n              <div className=\"desc\">\n                {desc}\n              </div>\n              {this.props.children}\n            </div>\n          </Col>\n        </Row>\n        <PromoPopup\n          ref={node => this.promoPopup = node}\n        />\n      </Fragment>\n    );\n  }\n}\n\nFormLanding.defaultProps = {\n  promo: null,\n  setPage: null,\n  resetIndicatorMore: null,\n  resetIndicatorBusiness: null,\n  imgAlt: 'Landing',\n};\n\nFormLanding.propTypes = {\n  img1: PropTypes.string.isRequired,\n  img2: PropTypes.string.isRequired,\n  img3: PropTypes.string.isRequired,\n  promo: PropTypes.object,\n  desc: PropTypes.object.isRequired,\n  setPage: PropTypes.func,\n  resetIndicatorMore: PropTypes.func,\n  resetIndicatorBusiness: PropTypes.func,\n  imgAlt: PropTypes.string,\n};\n\nconst mapDispatchToProps = dispatch => ({\n  setPage: (pageState) => {\n    dispatch(setStateInsurance(pageState));\n  },\n  resetIndicatorMore: (resetMore) => {\n    dispatch(setStateMore(resetMore));\n  },\n  resetIndicatorBusiness: (resetBusiness) => {\n    dispatch(setStateBusiness(resetBusiness));\n  },\n});\n\nexport default withRouter(connect(null, mapDispatchToProps)(FormLanding));\n","module.exports = __webpack_public_path__ + \"static/media/Tick.22021614.svg\";","import _ from 'lodash';\nimport moment from 'moment';\n// import { dateToString } from 'lib/dateFunctions';\nmoment.suppressDeprecationWarnings = true;\n\nconst getInsurerLogo = (insurer_slug) => `https://webassets.policypal.com/insurer_logos/${insurer_slug}.png`;\nconst parseValues = (values) => {\n  const keys = Object.keys(values);\n  let result = {};\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    const item = values[key];\n    \n    switch(key) {\n      case 'start_date':\n      case 'end_date':\n      case 'pet_birth_date':\n        const date = _.isObject(item) ? item.value : item;\n        result[key] = moment(date).format(\"DD/MM/YYYY\");\n        break;\n      case 'trip_type':\n      case 'plan_type':\n      case 'num_children':\n      case 'num_adult':\n        result[key] = item.value;\n        break;\n      case 'region':\n      case 'countries':\n        result[key] = _.isArray(item.value) ? Array.from(item.value, c => c.value) : item.value.value;\n        break;\n      default:\n        result[key] = item;\n    }\n  }\n\n  return result;\n}\n\nexport const getAddToCartData = (params = {}) => {\n  const allowedKeys = [\n    'insurer_slug',\n    'insurer_name',\n    'product_slug',\n    'product_name',\n    'coverage_level',\n  ];\n\n  let result = {};\n  if (Object.keys(params).length > 0) {\n    const {\n      insurer_slug: insurer_slug = '',\n      product_slug: product_slug = '',\n      values:       values = {},\n      price:        price = '',\n    } = params;\n\n    const product = {\n      ..._.pick(params, allowedKeys),\n      ...parseValues(values || {}),\n      id: `${insurer_slug}__${product_slug}`,\n      product_image: getInsurerLogo(insurer_slug),\n      quantity: 1,\n    }\n\n    result = {\n      content_ids:  [product.id],\n      content_name: product.product_name,\n      content_type: 'product',\n      contents:     [product],\n      ...((price) ? {currency: 'SGD', value: Number(price.replace('$', ''))} : {}),\n    }\n  }\n\n  return result;\n}","/**\n * CompareViewTableAccordion.js\n * Accordion view for table in compare view\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport React, { Component } from 'react';\nimport { Collapse, CardBody, Card } from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nimport Arrow from 'assets/images/forms/arrow.svg';\n\nclass CompareViewTableAccordion extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isOpened: false,\n      height: 0,\n    };\n\n    this.recursiveUpdate = this.recursiveUpdate.bind(this);\n    this.handleResize = this.handleResize.bind(this);\n  }\n\n  componentDidMount() {\n    window.addEventListener('resize', this.handleResize);\n    this.handleResize();\n  }\n\n  /* shouldComponentUpdate(nextProps, nextState) {\n    return nextState !== this.state;\n  } */\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n  }\n\n  handleResize() {\n    this.setState({\n      height: this.accordion.children[2].children[0].offsetHeight,\n    });\n  }\n\n  recursiveUpdate(level, max) {\n    if (level < max) {\n      const { updateTabHeight } = this.props;\n      setTimeout(() => { updateTabHeight(); this.recursiveUpdate(level + 1, max); }, 200);\n    }\n  }\n\n  render() {\n    const { isOpened, height } = this.state;\n    const {\n      bgStyle,\n      title,\n      description,\n      updateTabHeight,\n      firstStyle,\n      lastStyle,\n    } = this.props;\n    const rotateStyle = isOpened ? '180deg' : '0deg';\n\n    return (\n      <div className=\"info-accordian-container\" ref={node => this.accordion = node}>\n        <div\n          role=\"button\"\n          tabIndex={-1}\n          onKeyDown={() => {}}\n          className={`desc-accordion-container ${bgStyle} ${firstStyle} ${lastStyle}`}\n          onClick={() => {\n            this.setState({ isOpened: !isOpened });\n            if (!isOpened) {\n              updateTabHeight(height);\n            } else {\n              updateTabHeight(-height);\n            }\n          }}\n        >\n          <p className=\"title\">{title}</p>\n          <p className=\"desc\">{description}</p>\n          <div className=\"arrow-container\">\n            <img src={Arrow} alt=\"Arrow.svg\" style={{ transform: `rotate(${rotateStyle})` }} />\n          </div>\n        </div>\n        <Collapse isOpen={isOpened}>\n          <Card>\n            <CardBody>\n              {this.props.children}\n            </CardBody>\n          </Card>\n        </Collapse>\n        <div className=\"temp-container\">\n          <Collapse isOpen={true}>\n            <Card>\n              <CardBody>\n                {this.props.children}\n              </CardBody>\n            </Card>\n          </Collapse>\n        </div>\n      </div>\n    );\n  }\n}\n\nCompareViewTableAccordion.defaultProps = {\n  updateTabHeight: null,\n  firstStyle: '',\n  lastStyle: '',\n};\n\nCompareViewTableAccordion.propTypes = {\n  bgStyle: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  description: PropTypes.string.isRequired,\n  updateTabHeight: PropTypes.func,\n  firstStyle: PropTypes.string,\n  lastStyle: PropTypes.string,\n};\n\n\nexport default CompareViewTableAccordion;\n","/**\n * CompareViewTable.js\n * Renders the table view in compare view.\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Tick from 'assets/images/common/Tick.svg';\nimport Cross from 'assets/images/forms/cross.svg';\n\nimport CompareViewTableAccordion from './CompareViewTableAccordion';\nimport './CompareView.scss';\n\nclass CompareViewTable extends Component {\n  // Recursive function to handle normal rows or dropdown rows\n  // If dropdown, it will recursively render the contents in the dropdown using this\n  // same function\n  renderTable(data, productChangable, width, updateTabHeight, disclaimer = null) {\n    const itemBorderStyle = productChangable ? 'item-border' : '';\n    const infoContainerStyle = productChangable ? 'info-container-border' : '';\n\n    const isValidDisclaimer = disclaimer && _.reduce(disclaimer.targets, (result, target) => (\n      target || result\n    ), false);\n    const arrayToMap = isValidDisclaimer ? _.union(data, [disclaimer]) : data;\n\n    return _.map(arrayToMap, (content, idx) => {\n      const bgStyle = idx % 2 ? 'white' : 'green';\n\n      if (content.dropdown) {\n        return (\n          <CompareViewTableAccordion\n            key={`${content.title}${idx}`}\n            bgStyle={bgStyle}\n            title={content.title}\n            description={content.description}\n            updateTabHeight={updateTabHeight}\n          >\n            {this.renderTable(content.subContent, productChangable, width)}\n          </CompareViewTableAccordion>\n        );\n      }\n\n      const subTitle = content.sub_title ? <p className=\"desc title-desc\">{_.startCase(content.sub_title)}</p> : null;\n      return (\n        <div className=\"info-container\" key={`${content.title}${idx}`}>\n          {\n            content.title ?\n              <div className={`desc-resp-container d-flex d-md-none ${bgStyle} ${infoContainerStyle}`}>\n                <p className=\"title\">{content.title}</p>\n                {subTitle}\n              </div>\n            :\n              null\n          }\n          <div className={`item-container ${bgStyle} ${infoContainerStyle}`}>\n            <div className=\"d-none d-md-flex item-desc desc-width\">\n              <p className=\"title\">{content.title}</p>\n              {subTitle}\n            </div>\n            <div className=\"category-resp-container\">\n              {\n                _.map(content.targets, (target, index) => {\n                  if (!target) {\n                    return (\n                      <div\n                        key={`${target}${index}`}\n                        className={`item ${itemBorderStyle}`}\n                        style={{ width }}\n                      >\n                        <div className=\"item-inner\">\n                          N/A\n                        </div>\n                      </div>\n                    );\n                  }\n\n                  const isDisclaimer = isValidDisclaimer && idx === arrayToMap.length - 1;\n                  const paddingStyle = isDisclaimer ? 'no-padding' : '';\n\n                  let description = null;\n                  if (target.description === 'YES') {\n                    description = <img className=\"tick\" src={Tick} alt=\"Tick.svg\" />;\n                  } else if (target.description === 'NO') {\n                    description = <img className=\"tick\" src={Cross} alt=\"cross.svg\" />;\n                  }\n\n                  return (\n                    <div\n                      key={`${target.value}${index}`}\n                      className={`item ${itemBorderStyle} ${paddingStyle}`}\n                      style={{ width }}\n                    >\n                      <div className=\"item-inner\">\n                        {\n                          target.value === 'Covered' ?\n                            <img className=\"tick\" src={Tick} alt=\"Tick.svg\" />\n                          :\n                          target.value\n                        }\n                        {\n                          description || <p className=\"desc\">{target.description}</p>\n                        }\n                      </div>\n                    </div>\n                  );\n                })\n              }\n            </div>\n          </div>\n        </div>\n      );\n    });\n  }\n\n  render() {\n    const {\n      data,\n      disclaimer,\n      productChangable,\n      width,\n      updateTabHeight,\n    } = this.props;\n\n    if (!data) {\n      return null;\n    }\n\n    return this.renderTable(data.content, productChangable, width, updateTabHeight, disclaimer);\n  }\n}\n\nCompareViewTable.defaultProps = {\n  disclaimer: null,\n  updateTabHeight: null,\n};\n\nCompareViewTable.propTypes = {\n  data: PropTypes.object.isRequired,\n  productChangable: PropTypes.bool.isRequired,\n  width: PropTypes.string.isRequired,\n  disclaimer: PropTypes.object,\n  updateTabHeight: PropTypes.func,\n};\n\n\nexport default CompareViewTable;\n","/**\n * CompareView.js\n *\n * - The Compare view\n * - 2 modes, products changable or just fixed comparaison.\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { Row, Col } from 'reactstrap';\nimport PropTypes from 'prop-types';\n// import EditButton from 'assets/images/forms/EditButton.svg';\nimport Logos from 'assets/images/InsurerLogos';\nimport TabView from '../TabView/TabView';\nimport Accordion from '../Accordion/Accordion';\nimport Button from '../../FormsV3/Button/Button';\nimport CompareViewTable from './CompareViewTable';\nimport SpeechScroll from '../SpeechScroll/SpeechScroll';\nimport RestrictionsPopup from '../RestrictionsPopup/RestrictionsPopup';\n\nimport { setIntercomVisibility } from 'actions/intercomActions';\nimport { setHoveredInsurerIndex } from '../../../actions/insuranceActions';\nimport { setRestrictionPopup } from '../../../actions/restrictionsActions';\nimport { ampTag } from '../../../lib/tagFunctions';\nimport './CompareView.scss';\nimport '../../Motor/MotorCommon.scss';\n\nclass CompareView extends Component {\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const { data, currentTab } = nextProps;\n    if (data !== prevState.data || currentTab !== prevState.currentTab) {\n      return ({\n        data,\n        currentTab,\n      });\n    }\n\n    return null;\n  }\n\n  constructor(props) {\n    super(props);\n\n    const { data, currentTab/* , forceFixedOnDesktop */ } = this.props;\n    // isFixed - Used to determine sticky headers in responsive view\n    // categoryWidth - Used to determine sticky headers in responsive view\n    this.state = {\n      isFixed: false, // forceFixedOnDesktop,\n      categoryWidth: `${100 / 3}%`,\n      data,\n      currentTab,\n    };\n\n    this.handleScroll = this.handleScroll.bind(this);\n    this.handleOnClick = this.handleOnClick.bind(this);\n\n    this.renderTable = this.renderTable.bind(this);\n    this.renderLists = this.renderLists.bind(this);\n\n    this.renderHeader = this.renderHeader.bind(this);\n    this.renderEditForm = this.renderEditForm.bind(this);\n    this.renderEditableHeader = this.renderEditableHeader.bind(this);\n    this.renderBottomHeader = this.renderBottomHeader.bind(this);\n\n    this.renderSpeechScrollList = this.renderSpeechScrollList.bind(this);\n    this.renderNonProductChangable = this.renderNonProductChangable.bind(this);\n    this.renderProductChangable = this.renderProductChangable.bind(this);\n  }\n\n  componentDidMount() {\n    const { doSetIntercomVisibility } = this.props;\n    // window.addEventListener('scroll', this.handleScroll);\n    window.scrollTo(0, 0);\n\n    doSetIntercomVisibility(false);\n  }\n\n  componentWillUnmount() {\n    const { doSetIntercomVisibility } = this.props;\n    doSetIntercomVisibility(true);\n\n    // window.removeEventListener('scroll', this.handleScroll);\n  }\n\n  handleScroll() {\n    const { isFixed } = this.state;\n    const { forceFixedOnDesktop } = this.props;\n    if (!forceFixedOnDesktop && window.innerWidth > 576) {\n      if (isFixed) {\n        this.setState({\n          isFixed: false,\n        });\n      }\n      return;\n    }\n\n    if (this.catMarker) {\n      const scrollPos = this.catMarker.getBoundingClientRect().top;\n\n      let isNowFixed = false;\n\n      if (this.bottomHeader) {\n        const markerPosForBottom = window.innerHeight - this.bottomHeader.offsetHeight;\n        isNowFixed = scrollPos > markerPosForBottom;\n      } else {\n        isNowFixed = scrollPos <= 60;\n      }\n\n      // console.log(scrollPos);\n      if (isNowFixed !== isFixed) {\n        this.setState({\n          isFixed: isNowFixed,\n        });\n      }\n    }\n  }\n\n  handleOnClick(selectedInsurer, clickCallback, doTag) {\n    const { category } = this.props;\n    if (doTag) {\n      doTag();\n    }\n\n    if (selectedInsurer.restrictions) {\n      ampTag(`${_.startCase(category)}RestrictionsS`);\n      this.props.setRestrictionPopup({\n        values: selectedInsurer.restrictions,\n        clickCallback,\n        doAcceptTag: () => ampTag(`${_.startCase(category)}AcceptA`),\n      });\n      return;\n    }\n\n    clickCallback();\n  }\n\n  renderHeader() {\n    const {\n      categoryWidth,\n      data,\n      currentTab,\n    } = this.state;\n\n    const { buttonDesc, category } = this.props;\n\n    const currPlanData = data.plans[currentTab];\n    if (!data.policyTypes || !currPlanData || !currPlanData.premium) {\n      return null;\n    }\n\n    let isPriceUsed = false;\n    return _.reduce(data.policyTypes, (result, type, index) => {\n      const leftStyle = index !== 0 ? 'border-left' : '';\n      const premiumData = currPlanData.premium[index];\n\n      if (!premiumData) {\n        result.push(<div key={`header-${index}`} className={`category-container ${leftStyle}`} style={{ width: categoryWidth }} />);\n      }\n\n      const isPrice = premiumData.price && premiumData.price !== premiumData.net_price;\n      const price = isPrice ? `$${premiumData.price.toFixed(2)}` : '';\n\n      isPriceUsed = isPriceUsed || isPrice;\n\n      const buttonText = buttonDesc || (premiumData.net_price ? 'Buy Now' : 'Enquire');\n\n      const selectedInsurer = 'default' in data.plans ? data.selectedInsurers[0] : data.selectedInsurers[index];\n\n      const cashbackProduct = premiumData.cashback && premiumData.cashback > 0 ? `Earn ${(premiumData.cashback * premiumData.net_price).toFixed(2)} cashback` : null;\n\n      let cashbackText = null;\n      if (category === 'life' || category === 'endowment' || category === 'retirement') {\n        cashbackText = 'Get $5 Cashback!';\n      } else if (category === 'travel' || category === 'motor' || category === 'pa' || category === 'pet') {\n        cashbackText = 'Get 5% Cashback!';\n      }\n\n      const cashbackJSX = cashbackProduct ? (\n        <p className=\"cashback\">{cashbackProduct}</p>\n      ) : (\n        <a\n          className=\"cashback cashback-link\"\n          href=\"/faq\"\n          target=\"__blank\"\n        >\n          {cashbackText}\n        </a>\n      );\n\n\n      const renderData = (\n        <div key={`header-${index}`} className={`category-container top-header ${leftStyle}`} style={{ width: categoryWidth }}>\n          <p className=\"category\">{_.startCase(type)}</p>\n          <p className=\"sub-category\">{premiumData.frequency}</p>\n          <p className=\"cost\">{`$${premiumData.net_price.toFixed(2)}`}</p>\n          {\n            isPriceUsed ?\n              <p className=\"bottom-discount\">{price}</p>\n            :\n              null\n          }\n          <div className=\"buy-button\">\n            <Button\n              variant=\"medium-flat-green\"\n              width={165}\n              height={48}\n              onClick={() => this.handleOnClick(selectedInsurer, premiumData.onClick, premiumData.doTag)}\n            >\n              <p>{buttonText}</p>\n            </Button>\n            {\n              cashbackProduct || cashbackText ?\n                cashbackJSX\n              :\n                <p className=\"cashback\" />\n            }\n          </div>\n        </div>\n      );\n\n      result.push(renderData);\n      return result;\n    }, []);\n  }\n\n  renderEditForm() {\n    const { editForm } = this.props;\n    if (editForm) {\n      return (\n        <div className=\"desc-width overview edit-form\">\n          {editForm}\n        </div>\n      );\n    }\n\n    return <div className=\"desc-width overview d-none d-sm-flex\" />;\n  }\n\n  renderEditableHeader() {\n    const {\n      categoryWidth,\n      speechScroll,\n      data,\n    } = this.state;\n\n    const { setHoveredIndex, hoveredIndex } = this.props;\n\n    if (!speechScroll) {\n      return null;\n    }\n\n    let policyType = 'default';\n    if (data.tripType) {\n      policyType = data.tripType === 'Single Trip' ? 'single' : 'annual';\n    }\n    const editableHeaders = _.map(data.selectedInsurers, (insurer) => {\n      if (!insurer) {\n        return null;\n      }\n\n      const matchedInsurer = _.find(data.validInsurers, insur => insur.insurer_slug === insurer.insurerSlug);\n      let discountData = null;\n      try {\n        const discountRawData = _.find(data.selectedInsurers, i => i.insurerSlug === insurer.insurerSlug);\n        if (discountRawData) {\n          discountData = discountRawData.discount[policyType];\n        }\n      } catch (error) {\n        // eslint-disable-next-line\n      }\n      // const discountData = matchedInsurer.discount_data ? matchedInsurer.discount_data[policyType] : null;\n      const discount = discountData && discountData.amount > 0 ? discountData.display : null;\n      // try {\n      //   discount = discount.toFixed(2);\n      // } catch (error) {\n      //   console.log('Discount to fixed failed!');\n      // }\n      const discountText = discount ? `UP TO ${discount} OFF` : null;\n\n      return ({\n        insurerSlug: matchedInsurer.insurer_slug,\n        insurer: matchedInsurer.insurer_name,\n        product: matchedInsurer.insurance_name,\n        discount: discountText,\n      });\n    });\n\n    return _.map(editableHeaders, (header, index) => {\n      const inurerLogoName = header ? `${header.insurer}Logo` : `empty-${index}`;\n      const noDiscountPadding = header && header.discount ? '' : 'no-discount';\n\n      return (\n        <div\n          key={inurerLogoName}\n          className={`category-container product-changable-category ${noDiscountPadding}`}\n          style={{ width: categoryWidth }}\n        >\n          <button\n            className=\"edit-container\"\n            tabIndex={-1}\n            onClick={() => {\n\n            }}\n            onMouseMove={(event) => {\n              if (hoveredIndex !== index) {\n                setHoveredIndex(index);\n              }\n              speechScroll.handleInsurerHover(event);\n            }}\n          >\n            More Options\n          </button>\n          {\n            header ?\n              <Fragment>\n                <div className=\"insurer-container\">\n                  <img src={Logos[header.insurerSlug]} alt={`${inurerLogoName}.png`} />\n                </div>\n                <p className=\"product-text\">{header.product}</p>\n                {\n                  header.discount ?\n                    <div className=\"discount\">\n                      <p>{header.discount}</p>\n                    </div>\n                  :\n                    null\n                }\n              </Fragment>\n            :\n             null\n          }\n        </div>\n      );\n    });\n  }\n\n  renderBottomHeader() {\n    const {\n      categoryWidth,\n      data,\n      currentTab,\n    } = this.state;\n\n    const {\n      productChangable,\n      buttonDesc,\n      category,\n    } = this.props;\n\n    const currPlanData = data.plans[currentTab];\n    if (!currPlanData) {\n      return null;\n    }\n    const { premium } = currPlanData;\n    const isPriceExists = _.reduce(\n      premium, (result, header) => result || (header && header.net_price && (header.net_price !== header.price)),\n      false,\n    );\n\n    const headerList = _.map(premium, (header, index) => {\n      const leftStyle = productChangable ? 'line-border' : '';\n\n      if (!header) {\n        return (\n          <div\n            key={`cashback${index}`}\n            className={`category-container bottom-border na ${leftStyle}`}\n            style={{ width: categoryWidth }}\n          >\n            <p className=\"na-text\">N/A</p>\n          </div>\n        );\n      }\n\n      const netPrice = header.net_price ? `$${header.net_price.toFixed(2)}` : '';\n      const price = header.price ? header.price.toFixed(2) : '';\n\n      const discountPrice = netPrice && netPrice.toString() !== `$${price.toString()}` ? `$${price}` : '';\n      const buttonText = buttonDesc || (header.net_price ? 'Buy Now' : 'Enquire');\n\n      const cashbackProduct = header.cashback && header.net_price ? `Earn ${(header.cashback * header.net_price).toFixed(2)} cashback` : null;\n      let cashbackText = null;\n      if (category === 'life' || category === 'endowment' || category === 'retirement') {\n        cashbackText = 'Get $5 Cashback!';\n      } else if (category === 'travel' || category === 'motor' || category === 'pa' || category === 'pet') {\n        cashbackText = 'Get 5% Cashback!';\n      }\n\n      const cashbackJSX = cashbackProduct ? (\n        <p className=\"cashback\">{cashbackProduct}</p>\n      ) : (\n        <a\n          className=\"cashback cashback-link\"\n          href=\"/faq\"\n          target=\"__blank\"\n        >\n          {cashbackText}\n        </a>\n      );\n\n      return (\n        <div\n          key={`cashback${index}`}\n          className={`category-container bottom-border ${leftStyle}`}\n          style={{ width: categoryWidth }}\n        >\n          {\n            netPrice !== '' ?\n              <p className=\"bottom-cost\">{netPrice}</p>\n            :\n              null\n          }\n          {\n            isPriceExists ?\n              <p className=\"bottom-discount\">{discountPrice}</p>\n            :\n              null\n          }\n          {\n            header.life_frequency ?\n              <p className=\"extra-info\">{header.life_frequency}</p>\n            :\n              null\n          }\n          <div className=\"buy-button\">\n            <Button\n              variant=\"medium-flat-green\"\n              width={180}\n              height={48}\n              onClick={() => this.handleOnClick(data.selectedInsurers[index], header.onClick, header.doTag)}\n            >\n              <p>{buttonText}</p>\n            </Button>\n            {\n              cashbackText || cashbackProduct ?\n                cashbackJSX\n              :\n                null\n            }\n          </div>\n        </div>\n      );\n    });\n\n    return (\n      <div className=\"info-container\">\n        <div className=\"category-container-bottom\">\n          <div className=\"desc-width bottom-overview bottom-border d-none d-md-flex\" />\n          <div className=\"category-resp-container\">\n            {headerList}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  renderLists(isMultiple) {\n    const { categoryWidth, data, currentTab } = this.state;\n\n    const {\n      productChangable,\n    } = this.props;\n\n    const currPlanData = data.plans[currentTab];\n    if (!currPlanData) {\n      return null;\n    }\n\n    if (isMultiple) {\n      return _.map(data.coverageTypes, (type, index) => (\n        <CompareViewTable\n          data={currPlanData.coverages[type]}\n          disclaimer={currPlanData.coverages.disclaimer}\n          productChangable={productChangable}\n          width={categoryWidth}\n          key={`${type}-${index}`}\n        />\n      ));\n    }\n    return (\n      <CompareViewTable\n        data={currPlanData.coverages.default}\n        disclaimer={currPlanData.coverages.disclaimer}\n        productChangable={productChangable}\n        width={categoryWidth}\n      />\n    );\n  }\n\n  renderTable() {\n    const { data } = this.state;\n    const {\n      notAccordion,\n    } = this.props;\n\n    const tabs = _.map(data.coverageTypesDescs, tab => ({ desc: tab }));\n\n    if (tabs.length > 1) {\n      return (\n        <TabView\n          style={{ marginTop: 44, marginBottom: 34 }}\n          tabs={tabs}\n          autoHeight\n          setTriggerHeightUpdate={() => {\n            if (!notAccordion) {\n              this.accordion.setOpenCallback();\n            }\n          }}\n          name=\"overview-tab\"\n        >\n          {this.renderLists(true)}\n        </TabView>\n      );\n    }\n\n    return this.renderLists(false);\n  }\n\n  renderSpeechScrollList() {\n    const { speechScroll, data } = this.state;\n    const { scrollPopUpCallback, hoveredIndex } = this.props;\n    if (!speechScroll) {\n      return null;\n    }\n\n    const validForSelection = _.reduce(data.validInsurers, (result, insurer) => {\n      const matchedCurrentIndex = _.findIndex(data.selectedInsurers, insur => insur && insur.productSlug === insurer.insurance_slug);\n      if (matchedCurrentIndex === -1) {\n        result.push(insurer);\n      }\n      return result;\n    }, []);\n\n    if (validForSelection.length === 0) {\n      return (\n        <button>\n          <p style={{ textAlign: 'center', flex: 1 }}>None</p>\n        </button>\n      );\n    }\n\n    let policyType = 'default';\n    if (data.tripType) {\n      policyType = data.tripType === 'Single Trip' ? 'single' : 'annual';\n    }\n    return _.map(validForSelection, (insurer, index) => {\n      const discountData = insurer.discount_data ? insurer.discount_data[policyType] : null;\n      const discount = discountData && discountData.amount > 0 ? discountData.display : null;\n\n      return (\n        <button\n          key={`data.insurer${index}`}\n          onClick={(event) => {\n            if (scrollPopUpCallback) scrollPopUpCallback(insurer, hoveredIndex);\n            speechScroll.handleInsurerBlur(event);\n          }}\n        >\n          <div className=\"insurer-container\">\n            <img src={Logos[insurer.insurer_slug]} alt={`${insurer.insurer_name}.png`} />\n          </div>\n          <p>{insurer.insurer_name}</p>\n          {\n            discount ?\n              <div className=\"popup-discount\">\n                <p className=\"up\">UP TO</p>\n                <div className=\"bottom\">\n                  <p className=\"bottom-left\">{discount.slice(0, discount.length - 1)}</p>\n                  <div className=\"bottom-right\">\n                    <p className=\"percent\">%</p>\n                    <p className=\"off\">OFF</p>\n                  </div>\n                </div>\n              </div>\n            :\n            null\n          }\n        </button>\n      );\n    });\n  }\n\n  renderNonProductChangable() {\n    const {\n      isFixed,\n    } = this.state;\n\n    const { notAccordion } = this.props;\n\n    const fixedCatStyle = isFixed ? 'category-resp-fixed-container' : 'category-resp-fixed-hidden-container';\n    const headerList = this.renderHeader();\n\n    return (\n      <Col className=\"overview-container\" xs={12}>\n        <Row className=\"detail-container\" noGutters>\n          <div className=\"desc-width overview d-none d-md-flex\">\n            <p className=\"overview-text\">Overview</p>\n          </div>\n          <div ref={node => (this.catMarker = node)} />\n          <div className={`category-resp-container ${fixedCatStyle}`}>\n            {headerList}\n          </div>\n          <div className=\"category-resp-container\">\n            {headerList}\n          </div>\n          {\n            notAccordion ?\n              <Fragment>\n                {this.renderTable()}\n              </Fragment>\n            :\n              <Accordion ref={node => this.accordion = node}>\n                {this.renderTable()}\n              </Accordion>\n          }\n        </Row>\n      </Col>\n    );\n  }\n\n  renderProductChangable() {\n    const {\n      isFixed,\n    } = this.state;\n\n    const { notAccordion, className } = this.props;\n\n    const fixedCatStyle = isFixed ? 'category-resp-fixed-bottom-container' : 'category-resp-fixed-hidden-container';\n    const headerList = this.renderBottomHeader();\n\n    return (\n      <Col className={`overview-container  ${className}`} xs={12}>\n        <Row className=\"detail-not-changable-container\" noGutters>\n          {this.renderEditForm()}\n          <div className=\"category-resp-container\">\n            <SpeechScroll\n              offsetHeight={40}\n              ref={node => !this.state.speechScroll && this.setState({ speechScroll: node })}\n            >\n              {this.renderSpeechScrollList()}\n            </SpeechScroll>\n            {this.renderEditableHeader()}\n          </div>\n          {\n            notAccordion ?\n              <Fragment>\n                {this.renderTable()}\n                <div className=\"category-resp-container\" ref={node => this.bottomHeader = node}>\n                  {headerList}\n                  <div ref={node => (this.catMarker = node)} />\n                </div>\n              </Fragment>\n            :\n              <Accordion ref={node => this.accordion = node}>\n                {this.renderTable()}\n                <div className=\"category-resp-container\" ref={node => this.bottomHeader = node}>\n                  {headerList}\n                  <div ref={node => (this.catMarker = node)} />\n                </div>\n              </Accordion>\n          }\n          <div className={`category-resp-container ${fixedCatStyle}`}>\n            {headerList}\n          </div>\n        </Row>\n      </Col>\n    );\n  }\n\n  render() {\n    const { productChangable } = this.props;\n    return (\n      <Fragment>\n        { productChangable ?\n          this.renderProductChangable()\n          :\n          this.renderNonProductChangable()\n        }\n        <RestrictionsPopup ref={node => this.resPopup = node} />\n      </Fragment>\n    );\n  }\n}\n\nCompareView.defaultProps = {\n  notAccordion: false,\n  productChangable: false,\n  className: '',\n  editForm: null,\n  scrollPopUpCallback: null,\n  currentTab: null,\n  hoveredIndex: 0,\n  buttonDesc: null,\n  forceFixedOnDesktop: false,\n  category: null,\n};\n\nCompareView.propTypes = {\n  data: PropTypes.object.isRequired,\n  notAccordion: PropTypes.bool,\n  productChangable: PropTypes.bool,\n  className: PropTypes.string,\n  editForm: PropTypes.object,\n  currentTab: PropTypes.string,\n  hoveredIndex: PropTypes.number,\n  scrollPopUpCallback: PropTypes.func,\n  setHoveredIndex: PropTypes.func.isRequired,\n  setRestrictionPopup: PropTypes.func.isRequired,\n  buttonDesc: PropTypes.string,\n  forceFixedOnDesktop: PropTypes.bool,\n  category: PropTypes.string,\n  doSetIntercomVisibility: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = state => ({\n  hoveredIndex: state.insurance.hoveredIndex,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setHoveredIndex: (index) => {\n    dispatch(setHoveredInsurerIndex(index));\n  },\n  setRestrictionPopup: (data) => {\n    dispatch(setRestrictionPopup(data));\n  },\n  doSetIntercomVisibility: (isVisible) => {\n    dispatch(setIntercomVisibility(isVisible));\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CompareView);\n","/**\n * PiggyFillForm.js\n * The piggy component in DetailForm\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n * @author [Nicolette](nicolette@policypal.com)\n */\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Google from 'assets/images/Icons/Google.png';\nimport Facebook from 'assets/images/Icons/Facebook.png';\n\nimport PiggySignUp from './PiggySignUp';\n\nclass PiggyFillForm extends Component {\n  render() {\n    const { onClick, category } = this.props;\n\n    const mainText = category === 'life' || category === 'endowment' || category === 'retirement' ?\n      'Earn extra $5 Credits instantly!' :\n      'Sign in to get 5% Cashback on your purchase!';\n\n    const descText = category === 'life' || category === 'endowment' || category === 'retirement' ?\n      'Submit the form below as a PolicyPal user to earn $5 Credits in your account.' :\n      'Purchase as a PolicyPal user to earn 5% Cashback in your account within 14 days.';\n\n    return (\n      <PiggySignUp\n        header={\n          <p className=\"main-text\">{mainText}</p>\n        }\n        subHeader={\n          <p className=\"desc-text\">{descText}</p>\n        }\n        buttonInner={\n          <Fragment>\n            <span>Sign in to PolicyPal account</span>\n            <img src={Facebook} alt=\"Facebook.png\" />\n            <img src={Google} alt=\"Google.png\" />\n          </Fragment>\n        }\n        onClick={onClick}\n      />\n    );\n  }\n}\n\nPiggyFillForm.defaultProps = {\n  onClick: () => {},\n};\n\nPiggyFillForm.propTypes = {\n  onClick: PropTypes.func,\n  category: PropTypes.string.isRequired,\n};\n\nexport default PiggyFillForm;\n","/**\n * DetailForm.js\n * Wrapper that contains the piggy login and the\n * right container to checkout or choose plan\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Row, Col } from 'reactstrap';\n\n// Import Insurer Logos\nimport PiggyFillForm from 'components/Templates/PiggySignUp/PiggyFillForm';\n\nimport Button from 'components/FormsV3/Button/Button';\n\nimport { setIntercomVisibility } from 'actions/intercomActions';\nimport Selection from '../../Forms/Selection/Selection';\nimport Enquiry from '../../Templates/Enquiry/Enquiry';\n\nimport './DetailForm.scss';\n\nclass DetailForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      rightStickyStyle: 'right-scroll',\n    };\n\n    this.handlePreSubmit = this.handlePreSubmit.bind(this);\n    this.handleScroll = this.handleScroll.bind(this);\n    this.renderSignUp = this.renderSignUp.bind(this);\n    this.renderSignUpButton = this.renderSignUpButton.bind(this);\n    this.renderUpperRightContainer = this.renderUpperRightContainer.bind(this);\n  }\n\n  componentDidMount() {\n    const { doSetIntercomVisibility } = this.props;\n    window.addEventListener('scroll', this.handleScroll);\n    window.scrollTo(0, 0);\n    this.handleScroll();\n\n    doSetIntercomVisibility(false);\n  }\n\n  componentWillUnmount() {\n    const { doSetIntercomVisibility } = this.props;\n    doSetIntercomVisibility(true);\n\n    window.removeEventListener('scroll', this.handleScroll);\n  }\n\n  handlePreSubmit(e) {\n    const { onSubmit, loginControl } = this.props;\n    if (e.selection_checkbox && e.selection_checkbox.length === 1) {\n      loginControl.openPopup(1, () => onSubmit(e));\n      return;\n    }\n    onSubmit(e);\n  }\n\n  handleScroll() {\n    if (this.upperMarker) {\n      const { rightStickyStyle } = this.state;\n      const stickyStyle = this.upperMarker.getBoundingClientRect().y < 84 ? 'right-sticky' : 'right-scroll';\n\n      if (rightStickyStyle !== stickyStyle) {\n        this.setState({\n          rightStickyStyle: stickyStyle,\n        });\n      }\n    }\n  }\n\n  renderSignUp() {\n    const {\n      isLoggedIn,\n      loginControl,\n      piggyCallback,\n      category,\n    } = this.props;\n\n    if (!isLoggedIn) {\n      return (\n        <Row className=\"detail-upper-container\" noGutters>\n          <Col xs={12}>\n            <PiggyFillForm\n              category={category}\n              onClick={() => {\n                loginControl.openPopup(1, piggyCallback);\n              }}\n            />\n          </Col>\n        </Row>\n      );\n    }\n\n    return null;\n  }\n\n  renderSignUpButton(isPlanTotal) {\n    const { isLoggedIn, form, change } = this.props;\n    const signUpStyle = isPlanTotal ? '' : 'no-total';\n\n    if (!isLoggedIn) {\n      return (\n        <div className={`sign-up ${signUpStyle}`}>\n          <Selection\n            form={form}\n            change={change}\n            name=\"selection_checkbox\"\n            type=\"checkbox\"\n            options={[\n              { key: '1', description: 'Sign Up' },\n            ]}\n            sizeInSM={12}\n          />\n        </div>\n      );\n    }\n\n    return null;\n  }\n\n  renderUpperRightContainer() {\n    const { rightStickyStyle } = this.state;\n\n    const {\n      changePlan,\n      planDetails,\n      handleSubmit,\n      checkoutButtonDesc,\n    } = this.props;\n\n    return (\n      <Col\n        className={`upper-right-container ${rightStickyStyle}`}\n      >\n        <div ref={node => this.upperRightContainer = node} />\n        <div className=\"logo-container\">\n          <div className=\"logo-inner-container\">\n            <img className=\"company-logo\" src={planDetails.logo} alt={`${planDetails.logoDesc}.png`} />\n          </div>\n          <p>{planDetails.planName}</p>\n        </div>\n        <div className=\"submit-container\">\n          <div className=\"sign-up-container\">\n            {\n              planDetails.planTotal ?\n                <div className=\"cost-container\">\n                  <p className=\"total-text\">Total</p>\n                  <p className=\"cost-text\">{planDetails.planTotal}</p>\n                </div>\n              :\n                null\n            }\n            {this.renderSignUpButton(planDetails.planTotal)}\n            <Button\n              variant=\"medium-flat-green\"\n              width={130}\n              height={48}\n              onClick={handleSubmit(this.handlePreSubmit)}\n            >\n              <p>{checkoutButtonDesc}</p>\n            </Button>\n            {\n              changePlan ?\n                <Button\n                  variant=\"medium-grey\"\n                  width={130}\n                  height={48}\n                  onClick={() => changePlan()}\n                >\n                  <p>Change Plan</p>\n                </Button>\n              :\n                null\n            }\n          </div>\n        </div>\n      </Col>\n    );\n  }\n\n  render() {\n    const { errorArray } = this.props;\n    return (\n      <Fragment>\n        <Row className=\"detail-main-container\" noGutters>\n          <div ref={node => this.upperMarker = node} />\n          <Col xs={12} className=\"detail-left-container\">\n            {this.renderSignUp()}\n            {this.props.children}\n            {errorArray}\n          </Col>\n          {this.renderUpperRightContainer()}\n          <Enquiry marginTop={30} />\n        </Row>\n      </Fragment>\n    );\n  }\n}\n\nDetailForm.defaultProps = {\n  errorArray: null,\n  checkoutButtonDesc: 'Checkout',\n};\n\nDetailForm.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  change: PropTypes.func.isRequired,\n  form: PropTypes.string.isRequired,\n  piggyCallback: PropTypes.func.isRequired,\n  planDetails: PropTypes.object.isRequired,\n  changePlan: PropTypes.func.isRequired,\n  isLoggedIn: PropTypes.bool.isRequired,\n  errorArray: PropTypes.array,\n  loginControl: PropTypes.object.isRequired,\n  checkoutButtonDesc: PropTypes.string,\n  category: PropTypes.string.isRequired,\n  doSetIntercomVisibility: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = state => ({\n  loginControl: state.login.loginControl,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  doSetIntercomVisibility: (isVisible) => {\n    dispatch(setIntercomVisibility(isVisible));\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DetailForm);\n","module.exports = \"data:image/png;base64,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\"","/**\n * CheckoutUsingCashback.js\n * Show this view when payment amount is 0.\n * Shoule be from cashback reduction to 0.\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\n\nimport CashbackLogo from 'assets/images/common/CashbackLogo.svg';\nimport Button from 'components/FormsV3/Button/Button';\nimport Popup from '../Popup/Popup';\n\nimport './CheckoutPopup.scss';\n\nclass CheckoutUsingCashback extends Component {\n  constructor(props) {\n    super(props);\n\n    this.openCheckoutUsingCashback = this.openCheckoutUsingCashback.bind(this);\n  }\n\n  openCheckoutUsingCashback() {\n    this.popupRef.openPopup();\n  }\n\n  render() {\n    const { onConfirm } = this.props;\n    return (\n      <Popup ref={(r) => { this.popupRef = r; }}>\n        <Fragment>\n          <div className=\"check-out-popup\">\n            <div className=\"upper-container upper-margin-down\">\n              <p>\n                <span>Purchase using </span>\n                <img src={CashbackLogo} alt=\"CashbackLogo.svg\" />\n                <span className=\"focus-text\"> Cashback</span>\n              </p>\n            </div>\n            <div className=\"mid-container\">\n              <p>No payment is needed</p>\n            </div>\n            <div className=\"button-container\">\n              <Button\n                className=\"checkout-button\"\n                variant=\"medium-flat\"\n                width={166}\n                height={72}\n                onClick={() => this.popupRef.closePopup()}\n              >\n                <p>Cancel</p>\n              </Button>\n              <Button\n                className=\"checkout-button\"\n                variant=\"medium-color\"\n                width={166}\n                height={72}\n                onClick={() => {\n                  onConfirm();\n                  this.popupRef.closePopup();\n                }}\n              >\n                <p>Confirm</p>\n              </Button>\n            </div>\n          </div>\n        </Fragment>\n      </Popup>\n    );\n  }\n}\n\nCheckoutUsingCashback.defaultProps = {\n};\n\nCheckoutUsingCashback.propTypes = {\n  onConfirm: PropTypes.func.isRequired,\n};\n\nexport default CheckoutUsingCashback;\n","/**\n * PiggyCashback.js\n * The piggy component in cashback\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Google from 'assets/images/Icons/Google.png';\nimport Facebook from 'assets/images/Icons/Facebook.png';\nimport CashbackLogo from 'assets/images/common/CashbackLogo.svg';\n\nimport PiggySignUp from './PiggySignUp';\n\nclass PiggyCashback extends Component {\n  render() {\n    const { onClick } = this.props;\n    return (\n      <PiggySignUp\n        header={\n          <p className=\"main-text\">\n            Earn up to 5%\n            <img src={CashbackLogo} alt=\"CashbackLogo.svg\" />\n            CASHBACK!\n          </p>\n        }\n        subHeader={\n          <p className=\"desc-text desc-padding\">Sign in/ Sign up before checkout in order to redeem!</p>\n        }\n        buttonInner={\n          <Fragment>\n            <span>Sign in</span>\n            <img src={Facebook} alt=\"Facebook.png\" />\n            <img src={Google} alt=\"Google.png\" />\n          </Fragment>\n        }\n        onClick={onClick}\n      />\n    );\n  }\n}\n\nPiggyCashback.defaultProps = {\n  onClick: () => {},\n};\n\nPiggyCashback.propTypes = {\n  onClick: PropTypes.func,\n};\n\nexport default PiggyCashback;\n","/**\n * HeaderDescWithTypeDate.js\n * Product summary with type and date\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport React, { Component } from 'react';\nimport { Row } from 'reactstrap';\n\nimport PropTypes from 'prop-types';\n\nimport './HeaderDescWithTypeDate.scss';\n\nclass HeaderDescWithTypeDate extends Component {\n  render() {\n    const {\n      logo,\n      logoName,\n      insurerName,\n      insurerDesc,\n      data1,\n      data1Value,\n      data2,\n      data2Value,\n    } = this.props;\n\n    return (\n      <Row className=\"header-desc-with-type-date-container\" noGutters>\n        <div className=\"insurer-left-container\">\n          <div className=\"insurer-logo-container\">\n            <div className=\"company-logo-container\">\n              <img className=\"company-logo\" src={logo} alt={logoName} />\n            </div>\n          </div>\n          <div>\n            <div className=\"insurer-desc-container\">\n              <p className=\"insurer-name\">{insurerName}</p>\n              <p className=\"insurer-desc\">{insurerDesc}</p>\n            </div>\n          </div>\n        </div>\n        <div className=\"insurer-right-container\">\n          <div className=\"data-container\">\n            <div className=\"data\">\n              <p className=\"data-name\">{data1}</p>\n              <p className=\"data-val\">{data1Value}</p>\n            </div>\n            <div className=\"data\">\n              <p className=\"data-name\">{data2}</p>\n              <p className=\"data-val\">{data2Value}</p>\n            </div>\n          </div>\n        </div>\n      </Row>\n    );\n  }\n}\n\nHeaderDescWithTypeDate.defaultProps = {\n  insurerName: '',\n};\n\nHeaderDescWithTypeDate.propTypes = {\n  logo: PropTypes.string.isRequired,\n  logoName: PropTypes.string.isRequired,\n  insurerName: PropTypes.string,\n  insurerDesc: PropTypes.string.isRequired,\n  data1: PropTypes.string.isRequired,\n  data1Value: PropTypes.string.isRequired,\n  data2: PropTypes.string.isRequired,\n  data2Value: PropTypes.string.isRequired,\n};\n\nexport default HeaderDescWithTypeDate;\n","/**\n * Checkout.js\n * This is the checkout view that will render the summary\n * of details and handle all the promo, cashback and stripe\n * APIs.\n *\n * There is 2 state to this view. Checkout or receipt. It will\n * toggle accordingly if charged/ahHocCharged.\n *\n * Upon successful payment, it will update the user data again\n * to check if any cashback is used.\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport { reduxForm, getFormValues } from 'redux-form';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Row, Col } from 'reactstrap';\n\nimport CreditCards from 'assets/images/common/CreditCards.png';\n\nimport { setIntercomVisibility } from 'actions/intercomActions';\nimport Button from 'components/FormsV3/Button/Button';\nimport TabView from '../TabView/TabView';\nimport Accordion from '../Accordion/Accordion';\nimport PiggyCashback from '../PiggySignUp/PiggyCashback';\nimport HeaderDescWithTypeDate from '../InsurerFormHeader/HeaderDescWithTypeDate';\nimport CashbackBalance from '../CashbackBalance/CashbackBalance';\nimport PromoCode from '../../Forms/PromoCode/PromoCode';\nimport Selection from '../../Forms/Selection/Selection';\nimport CheckoutComplete from '../CheckoutPopup/CheckoutComplete';\nimport CheckoutUsingCashback from '../CheckoutPopup/CheckoutUsingCashback';\nimport Enquiry from '../Enquiry/Enquiry';\n\nimport { setLoading, clearLoading } from '../../../actions/loadingScreenActions';\nimport { checkLoginStatus } from '../../../actions/userActions';\n\nimport './Checkout.scss';\n\nconst termsError = 'Please agree to all the terms to proceed.';\nconst transactionError = 'Transaction error. Please try again.';\n\nclass Checkout extends Component {\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      checkoutButton,\n      rewardsID,\n      charged,\n      transactionData,\n      promoErrorString,\n    } = prevState;\n\n    const {\n      formValues,\n      userID,\n      loadingEnd,\n      checkLogin,\n      isLoggedIn,\n    } = nextProps;\n\n    let result = null;\n\n    if (formValues && formValues.cashbackCheckbox) {\n      const newRewardsID = formValues.cashbackCheckbox.length !== 0 ? userID : null;\n      if (rewardsID !== newRewardsID) {\n        result = { rewardsID: newRewardsID };\n        // getPromo(userToken, sessionId, promoCode, newRewardsID, passedType, failedType);\n      }\n    }\n\n    if (transactionData !== nextProps.transactionData) {\n      result = { ...result, transactionData: nextProps.transactionData };\n    }\n\n    if (checkoutButton !== nextProps.checkoutButton) {\n      result = { ...result, checkoutButton: nextProps.checkoutButton };\n    }\n\n    if (promoErrorString !== nextProps.promoErrorString) {\n      result = { ...result, promoErrorString: nextProps.promoErrorString };\n\n      if (nextProps.promoErrorString) {\n        result = { ...result, promoCode: null };\n      }\n    }\n\n    if (charged !== nextProps.charged) {\n      result = { ...result, charged: nextProps.charged };\n      if (nextProps.charged) {\n        if (isLoggedIn) {\n          checkLogin();\n        }\n        loadingEnd();\n      } else if (nextProps.charged === false) {\n        result = {\n          ...result,\n          charged: nextProps.charged,\n          errorMsg: transactionError,\n        };\n      }\n    }\n\n    return result;\n  }\n\n  constructor(props) {\n    super(props);\n\n    const { charged, trackingTags } = this.props;\n\n    this.state = {\n      checkoutButton: null,\n      promoCode: null,\n      rewardsID: null,\n      charged: null,\n      transactionData: null,\n      errorMsg: null,\n    };\n\n    if (charged && trackingTags && trackingTags.receipt) {\n      trackingTags.receipt();\n    }\n\n    this.handleOnCheckout = this.handleOnCheckout.bind(this);\n    this.handleOnCheckoutZero = this.handleOnCheckoutZero.bind(this);\n    this.renderHeader = this.renderHeader.bind(this);\n    this.renderDetails = this.renderDetails.bind(this);\n    this.renderMainDetails = this.renderMainDetails.bind(this);\n    this.renderSubDetails = this.renderSubDetails.bind(this);\n    this.renderDetailsTable = this.renderDetailsTable.bind(this);\n    this.renderPromoCodeButton = this.renderPromoCodeButton.bind(this);\n    this.renderPriceSummary = this.renderPriceSummary.bind(this);\n    this.renderTotal = this.renderTotal.bind(this);\n    this.generateTabs = this.generateTabs.bind(this);\n    this.renderCashBack = this.renderCashBack.bind(this);\n    this.cleanCheckoutButtonContainer = this.cleanCheckoutButtonContainer.bind(this);\n    this.renderCheckoutButton = this.renderCheckoutButton.bind(this);\n    this.renderDisclaimerWarning = this.renderDisclaimerWarning.bind(this);\n    this.renderDisclaimer = this.renderDisclaimer.bind(this);\n    this.renderBackToDetail = this.renderBackToDetail.bind(this);\n  }\n\n  componentDidMount() {\n    const { category, doSetIntercomVisibility } = this.props;\n    window.scrollTo(0, 0);\n\n    doSetIntercomVisibility(false);\n\n    if (category === 'travel') {\n      const range = document.createRange();\n      this.gaCheckOut.appendChild(range.createContextualFragment(`\n      <!-- Google Code for PPS2 - Travel - CheckoutPage_ProceedPayment Conversion Page\n      In your html page, add the snippet and call\n      goog_report_conversion when someone clicks on the\n      chosen link or button. -->\n      <script type=\"text/javascript\">\n        /* <![CDATA[ */\n        goog_snippet_vars = function() {\n          var w = window;\n          w.google_conversion_id = 865122565;\n          w.google_conversion_label = \"rJn8CLL_5oQBEIXywpwD\";\n          w.google_remarketing_only = false;\n        }\n        // DO NOT CHANGE THE CODE BELOW.\n        goog_report_conversion = function(url) {\n          goog_snippet_vars();\n          window.google_conversion_format = \"3\";\n          var opt = new Object();\n          opt.onload_callback = function() {\n          if (typeof(url) != 'undefined') {\n            window.location = url;\n          }\n        }\n        var conv_handler = window['google_trackConversion'];\n        if (typeof(conv_handler) == 'function') {\n          conv_handler(opt);\n        }\n      }\n      /* ]]> */\n      </script>\n      <script type=\"text/javascript\"\n        src=\"//www.googleadservices.com/pagead/conversion_async.js\">\n      </script>\n      `));\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      checkoutButton,\n      rewardsID,\n      promoCode,\n      transactionData,\n      charged,\n    } = this.state;\n\n    const {\n      getStripe,\n      getPromo,\n      sessionId,\n      userToken,\n      trackingTags,\n      category,\n    } = this.props;\n\n    if (rewardsID !== prevState.rewardsID) {\n      this.cleanCheckoutButtonContainer();\n      getPromo(userToken, sessionId, promoCode, rewardsID);\n    }\n\n    if (transactionData !== prevState.transactionData || rewardsID !== prevState.rewardsID) {\n      const promo = transactionData.promo ? transactionData.promo.code : '';\n      getStripe(sessionId, promo, rewardsID);\n    }\n\n    if (checkoutButton !== prevState.checkoutButton) {\n      this.renderCheckoutButton();\n    }\n\n    if (charged && !prevState.charged) {\n      if (trackingTags && trackingTags.receipt) {\n        trackingTags.receipt();\n      }\n      let user = 'User';\n      try {\n        const userData = transactionData.transaction.users[0].details;\n        const familyName = _.find(userData, data => data.title === 'Family Name');\n        const givenName = _.find(userData, data => data.title === 'Given Name');\n        user = `${givenName ? `${givenName.description} ` : ' '}${familyName ? familyName.description : ''}`;\n      } catch (error) {\n        console.log('Name not found in checkout.');\n      }\n      setTimeout(() => this.checkoutComplete.openCheckoutComplete(user), 300);\n\n      if (category === 'travel') {\n        const range = document.createRange();\n        this.gaReceipt.appendChild(range.createContextualFragment(`\n        <!-- Google Code for PPS - Travel - Receipt page Conversion Page -->\n        <script type=\"text/javascript\">\n        /* <![CDATA[ */\n        var google_conversion_id = 865122565;\n        var google_conversion_label = \"3xCyCO-P54QBEIXywpwD\";\n        var google_remarketing_only = false;\n        /* ]]> */\n        </script>\n        <script type=\"text/javascript\" src=\"//www.googleadservices.com/pagead/conversion.js\">\n        </script>\n        <noscript>\n        <div style=\"display:inline;\">\n        <img height=\"1\" width=\"1\" style=\"border-style:none;\" alt=\"\" src=\"//www.googleadservices.com/pagead/conversion/865122565/?label=3xCyCO-P54QBEIXywpwD&amp;guid=ON&amp;script=0\"/>\n        </div>\n        </noscript>\n        `));\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    const { doSetIntercomVisibility } = this.props;\n    doSetIntercomVisibility(true);\n\n    if (window.goog_report_conversion) {\n      delete window.goog_report_conversion;\n    }\n  }\n\n  generateTabs() {\n    const { subDetails } = this.props;\n    return _.reduce(subDetails, (result, data) => {\n      result.push({\n        desc: data.key,\n      });\n\n      return result;\n    }, []);\n  }\n\n  handleOnCheckoutZero() {\n    const { loading, loadingEnd } = this.props;\n    try {\n      loading(null, 'Checkout failed!.', 10000);\n      window.$('#checkout_form').get(0).submit();\n    } catch (error) {\n      loadingEnd();\n      console.log('Payment Zero failed');\n      this.setState({\n        errorMsg: 'Payment failed! Please try again!',\n      });\n    }\n  }\n\n  handleOnCheckout() {\n    const { rewardsID, transactionData, promoCode } = this.state;\n    const {\n      formValues,\n      loading,\n      loadingEnd,\n      getStripe,\n      sessionId,\n      wording,\n      trackingTags,\n    } = this.props;\n\n    const wordingCheck = wording && formValues ? formValues.wordingCheckbox && formValues.wordingCheckbox.length === 1 : true;\n    if (\n      formValues &&\n      wordingCheck &&\n      formValues.termsCheckbox &&\n      formValues.termsCheckbox.length === 1) {\n      // console.log(promoCode, useRewards);\n      // getStripe(sessionId, promoCode, rewardsID);\n\n      const invokeClick = setInterval(() => {\n        try {\n          const { amount } = window.$('#checkout_form')[0].getElementsByClassName('stripe-button')[0].dataset;\n          if (amount === '0') {\n            this.checkoutUsingCashback.openCheckoutUsingCashback();\n            if (trackingTags && trackingTags.payment) {\n              trackingTags.payment({\n                rewardsID,\n                promoCode,\n              });\n            }\n            if (window.goog_report_conversion) {\n              window.goog_report_conversion();\n            }\n            loadingEnd();\n            clearInterval(invokeClick);\n            return;\n          }\n        } catch (error) {\n          console.log('Get new payable failed');\n        }\n\n        try {\n          const button = window.$('#checkout_form')[0].getElementsByClassName('stripe-button-el')[0];\n          if (button) {\n            window.$(button).trigger('click');\n            if (trackingTags && trackingTags.payment) {\n              trackingTags.payment({\n                rewardsID,\n                promoCode,\n              });\n            }\n            if (window.goog_report_conversion) {\n              window.goog_report_conversion();\n            }\n            clearInterval(invokeClick);\n            setTimeout(loadingEnd, 500);\n          }\n        } catch (error) {\n          console.log('Button not yet generated!');\n        }\n      }, 10);\n\n      loading(() => {\n        clearInterval(invokeClick);\n        const promo = transactionData.promo ? transactionData.promo.code : '';\n        getStripe(sessionId, promo, rewardsID);\n      }, 'Checkout failed!. Please try again.', 10000);\n\n      this.setState({\n        errorMsg: null,\n      });\n\n      return;\n    }\n\n    this.setState({\n      errorMsg: termsError,\n    });\n  }\n\n  cleanCheckoutButtonContainer() {\n    while (this.checkoutButton.firstChild) {\n      this.checkoutButton.removeChild(this.checkoutButton.firstChild);\n    }\n  }\n\n  renderHeader() {\n    const { headerData } = this.props;\n    return (\n      <HeaderDescWithTypeDate\n        logo={headerData.logo}\n        logoName={headerData.logoName}\n        insurerName={headerData.insurerName}\n        insurerDesc={headerData.insurerDesc}\n        data1={headerData.data1}\n        data1Value={headerData.data1Value}\n        data2={headerData.data2}\n        data2Value={headerData.data2Value}\n      />\n    );\n  }\n\n  renderDetails(details, isFullWidth, isMain = false) {\n    const { transactionData } = this.state;\n    if (!details) {\n      return null;\n    }\n\n    let smLeftWidth = 5;\n    let smRightWidth = 7;\n    smLeftWidth = isFullWidth ? 12 : smLeftWidth;\n    smRightWidth = isFullWidth ? 12 : smRightWidth;\n\n    // let paddingStyle = isLeftSide ? 'detail-padding-right' : 'detail-padding-left';\n    // paddingStyle = isFullWidth ? '' : paddingStyle;\n\n    let coverageData = {};\n\n    if (isMain) {\n      try {\n        coverageData = {\n          title: 'Coverage',\n          description: _.find(transactionData.transaction.policy_info, data => data.title.toUpperCase() === 'COVERAGE').description,\n        };\n      } catch (error) {\n        // No coverage found\n        // eslint-disable-next-line\n      }\n    }\n\n    const attributes = [...details.attributes, coverageData];\n    const infoList = _.map(attributes, (info, index) => (\n      <Col\n        xs={12}\n        className=\"detail-group\"\n        key={`${info.title}-${index}`}\n      >\n        <Row noGutters>\n          <Col className=\"detail-desc\" xs={12} sm={smLeftWidth}>{info.title}</Col>\n          <Col className=\"detail-value\" xs={12} sm={smRightWidth}>{info.description}</Col>\n        </Row>\n      </Col>\n    ));\n\n    return (\n      <Col className=\"detail-column\" xs={12} sm={6}>\n        <Row noGutters>\n          <Col className=\"detail-header\" xs={12}>{details.title}</Col>\n          {infoList}\n        </Row>\n      </Col>\n    );\n  }\n\n  renderMainDetails() {\n    const { mainDetails } = this.props;\n    if (_.isEmpty(mainDetails.attributes)) {\n      return null;\n    }\n    return this.renderDetails(mainDetails, false, true);\n  }\n\n  renderSubDetails() {\n    const { charged } = this.state;\n    const { subDetails } = this.props;\n\n    const borderStyle = charged ? 'checkout-detail-container-full-border' : '';\n\n    if (_.isArray(subDetails)) {\n      if (subDetails.length === 1) {\n        return (\n          <Row className={`checkout-detail-container ${borderStyle}`} noGutters>\n            {this.renderDetails(subDetails[0].leftDetail, false)}\n            {this.renderDetails(subDetails[0].rightDetail, false)}\n          </Row>\n        );\n      }\n\n      if (subDetails.length > 1) {\n        return (\n          <TabView\n            style={{ marginTop: 44, marginLeft: 30, marginRight: 30 }}\n            tabs={this.generateTabs()}\n            maxTabWidthPx={128}\n            autoHeight\n            name=\"travel-checkout-tab\"\n            charged={charged}\n          >\n            {\n              _.map(subDetails, data => (\n                <Fragment key={data.key}>\n                  <Row className=\"checkout-detail-container\" noGutters>\n                    {this.renderDetails(data.leftDetail, false)}\n                    {this.renderDetails(data.rightDetail, false)}\n                  </Row>\n                </Fragment>\n              ))\n            }\n          </TabView>\n        );\n      }\n    }\n\n    return null;\n  }\n\n  renderDetailsTable() {\n    const { charged } = this.state;\n    const borderStyle = charged ? 'checkout-detail-container-full-border' : '';\n\n    const innerJSX = (\n      <Col className=\"no-padding\"xs={12}>\n        <Row className={`checkout-detail-container ${borderStyle}`} noGutters>\n          {this.renderMainDetails()}\n        </Row>\n        {this.renderSubDetails()}\n      </Col>\n    );\n    if (charged) {\n      return innerJSX;\n    }\n\n    return (\n      <Accordion\n        height={62}\n        isWarning\n        isFullBorder\n      >\n        {innerJSX}\n      </Accordion>\n    );\n  }\n\n  renderCheckoutButton() {\n    const { checkoutButton } = this.state;\n    const {\n      checkout,\n      sessionId,\n      userID,\n      loading,\n    } = this.props;\n\n    if (!checkoutButton) {\n      return;\n    }\n\n    this.cleanCheckoutButtonContainer();\n\n    const range = document.createRange();\n    this.checkoutButton.appendChild(range.createContextualFragment(_.replace(checkoutButton, 'action=\"CALLBACK_URL\" method=\"post\"', 'id=\"checkout_form\"')));\n\n    // window.$('#checkout-button').onClick = form.children[1].onclick;\n\n    window.$('#checkout_form').get(0).submit = () => {\n      const data = window.$('#checkout_form').serializeArray();\n\n      loading(null, 'Checkout failed!.', 10000);\n      checkout(sessionId, data, userID);\n      // Prevent form submit.\n      return false;\n    };\n\n    /* const invokeClick = setInterval(() => {\n      const button = window.$('#checkout_form')[0].getElementsByClassName('stripe-button-el')[0];\n      if (button) {\n        window.$(button).trigger('click');\n        clearInterval(invokeClick);\n        setTimeout(loadingEnd, 500);\n      }\n    }, 10); */\n  }\n\n  renderPriceSummary() {\n    const { transactionData, rewardsID, charged } = this.state;\n    const { getPromo, userToken, sessionId } = this.props;\n\n    if (\n      !transactionData ||\n      !transactionData.transaction ||\n      !transactionData.transaction.price\n    ) {\n      return null;\n    }\n\n    const priceData = transactionData.transaction.price;\n    return _.reduce(priceData, (result, price, index) => {\n      if (index === priceData.length - 1 || price.title === 'P$ Cashback') {\n        return result;\n      }\n      const noTitle = !price.title || price.title === '';\n      const isPromo = price.title !== 'Subtotal' &&\n                      price.title !== 'Discount' &&\n                      !noTitle;\n\n      const promoStyle = isPromo ? 'green' : '';\n\n      const removePromoButton = (\n        isPromo && !charged ?\n          (\n            <Button\n              className=\"promo-remove-button\"\n              variant=\"small-outline\"\n              height={36}\n              onClick={() => {\n                this.cleanCheckoutButtonContainer();\n                getPromo(userToken, sessionId, null, rewardsID);\n                this.setState({\n                  promoCode: null,\n                });\n              }}\n            >\n              <p>Remove</p>\n            </Button>\n          )\n          :\n          null\n      );\n\n      const element = (\n        <Fragment key={`price-data-${index}`}>\n          <Col className={`summary-value-container ${promoStyle}`} xs={12}>\n            {\n              noTitle ?\n                <span className=\"sub-text\">{price.sub_title}</span>\n              :\n                <div className=\"summary-left\">\n                  <span className=\"title\">{price.title}</span>\n                  <span className=\"sub-title\">{price.sub_title}</span>\n                  <div className=\"d-none d-sm-flex\">\n                    {removePromoButton}\n                  </div>\n                </div>\n            }\n            <span>{price.description}</span>\n          </Col>\n          {\n            isPromo ?\n              <Col className=\"summary-value-container green\" xs={12}>\n                <span className=\"sub-text\">Promocode discount</span>\n              </Col>\n            :\n              null\n          }\n          <div className=\"d-flex d-sm-none\">\n            {removePromoButton}\n          </div>\n        </Fragment>\n      );\n\n      result.push(element);\n      return result;\n    }, []);\n  }\n\n  renderTotal() {\n    const { transactionData, charged } = this.state;\n\n    if (\n      !transactionData ||\n      !transactionData.transaction ||\n      !transactionData.transaction.price\n    ) {\n      return null;\n    }\n\n    const priceData = transactionData.transaction.price;\n    const totalData = _.find(priceData, price => price.title === 'Total');\n    const { cashback } = transactionData.transaction;\n\n    if (!totalData) {\n      return null;\n    }\n\n    const star = charged ? '' : '*';\n\n    return (\n      <Col className=\"summary-value-container total\" xs={12}>\n        <div className=\"summary-left\">\n          <span>{totalData.title}</span>\n        </div>\n        <div className=\"summary-total\">\n          <span className=\"final-amount\">{totalData.description}</span>\n          {\n            cashback ?\n              <span className=\"cashback green\">{`(Earn $${cashback.toFixed(2)} cashback${star})`}</span>\n            :\n              null\n          }\n        </div>\n      </Col>\n    );\n  }\n  renderPromoCodeButton() {\n    const { rewardsID, charged } = this.state;\n    const {\n      getPromo,\n      userToken,\n      sessionId,\n      promoErrorString,\n      isAdHoc,\n    } = this.props;\n\n    if (charged) {\n      return null;\n    }\n\n    if (isAdHoc) {\n      return <div className=\"promo\" />;\n    }\n\n    return (\n      <div className=\"promo\">\n        <PromoCode\n          {...this.props}\n          name=\"promoCode\"\n          placeholderString=\"Enter Promo Code\"\n          desc=\"Promocode\"\n          zIndex={90}\n          errorString={promoErrorString}\n          onClick={(promoCode) => {\n            this.cleanCheckoutButtonContainer();\n            getPromo(userToken, sessionId, promoCode, rewardsID);\n            this.setState({\n              promoCode,\n            });\n          }}\n        />\n      </div>\n    );\n  }\n\n  renderCashBack() {\n    const { rewardsID, charged, transactionData } = this.state;\n    const {\n      isLoggedIn,\n      change,\n      rewardPoints,\n      loginControl,\n    } = this.props;\n\n    if (!charged && !isLoggedIn) {\n      return (\n        <div className=\"cashback\">\n          <PiggyCashback\n            onClick={() => loginControl.openPopup(1)}\n          />\n        </div>\n      );\n    }\n\n    if (\n      !transactionData ||\n      !transactionData.transaction ||\n      !transactionData.transaction.price\n    ) {\n      return null;\n    }\n\n    const priceData = transactionData.transaction.price;\n    const cashbackData = _.find(priceData, data => data.title === 'P$ Cashback');\n\n    const cashbackUsed = cashbackData ? cashbackData.description : '$0';\n\n    let cashbackBalance = '';\n    try {\n      cashbackBalance = cashbackData && !charged ?\n        rewardPoints - _.replace(cashbackUsed, '-$', '') :\n        rewardPoints;\n    } catch (error) {\n      cashbackBalance = rewardPoints;\n    }\n\n    // In case null\n    cashbackBalance = cashbackBalance || 0;\n    cashbackBalance = `${cashbackBalance.toFixed(2)}`;\n\n    const cashbackDiscountStyle = rewardsID ? 'cashback-discount-use' : '';\n    const chargedStyle = charged ? 'cashback-charged' : '';\n    const cashbackUseChargedStyle = charged ? 'cashback-use-charged' : '';\n\n    return (\n      <div className={`cashback cashback-logged-in ${chargedStyle}`}>\n        <div className={`cashback-use ${cashbackUseChargedStyle}`}>\n          {\n            charged ?\n              <span className=\"cashback-text\">Cashback Used</span>\n            :\n              <div className=\"cashback-checkbox\">\n                <Selection\n                  name=\"cashbackCheckbox\"\n                  change={change}\n                  type=\"checkbox\"\n                  options={[\n                    { key: '1', description: <span>Use Cashback</span> },\n                  ]}\n                  sizeInSM={9}\n                />\n              </div>\n          }\n          <span className={`cashback-discount ${cashbackDiscountStyle}`}>{cashbackUsed}</span>\n        </div>\n        {\n          isLoggedIn ?\n            <div className=\"cashback-balance\">\n              <span className=\"cashback-balance-text\">Balance</span>\n              <div className=\"cashback-balance-display\">\n                <CashbackBalance cashbackBalance={cashbackBalance} />\n              </div>\n            </div>\n          :\n            null\n        }\n      </div>\n    );\n  }\n\n  renderDisclaimerWarning() {\n    const { errorMsg } = this.state;\n\n    if (!errorMsg) {\n      return null;\n    }\n\n    return (\n      <Col xs={12}>\n        <p className=\"disclaimer\">{errorMsg}</p>\n      </Col>\n    );\n  }\n\n  renderDisclaimer() {\n    const { charged } = this.state;\n    const { change, wording } = this.props;\n    if (charged) {\n      return null;\n    }\n\n    return (\n      <Fragment>\n        {\n          wording ?\n            <Col xs={12}>\n              <div className=\"disclaimer disclaimer-margin\">\n                <Selection\n                  name=\"wordingCheckbox\"\n                  change={change}\n                  type=\"checkbox\"\n                  options={[\n                    {\n                      key: '1',\n                      description: (\n                        <span>\n                          I have read and agree to abide by the <a href={wording} target=\"__blank\">Policy Wording.</a>\n                        </span>\n                      ),\n                    },\n                  ]}\n                  sizeInSM={9}\n                />\n              </div>\n            </Col>\n          :\n            null\n        }\n        <Col xs={12}>\n          <div className=\"disclaimer \">\n            <Selection\n              name=\"termsCheckbox\"\n              change={change}\n              type=\"checkbox\"\n              options={[\n                {\n                  key: '1',\n                  description: (\n                    <Fragment>\n                      <p>\n                        I agree to store this policy in my PolicyPal account after purchase, in accordance with the Personal Data Protection Act.\n                      </p>\n                      <p>\n                        *Cashback <a href=\"/cashback\" target=\"_blank\">Terms & Conditions</a>\n                      </p>\n                    </Fragment>\n                  ),\n                },\n              ]}\n              sizeInSM={9}\n            />\n          </div>\n        </Col>\n        {this.renderDisclaimerWarning()}\n      </Fragment>\n    );\n  }\n\n  renderBackToDetail() {\n    const { backToDetails, isAdHoc } = this.props;\n    if (!isAdHoc && backToDetails) {\n      return (\n        <Button\n          className=\"checkout-button\"\n          variant=\"medium-grey\"\n          width={300}\n          height={72}\n          onClick={backToDetails}\n        >\n          <p>Back to Edit Details</p>\n        </Button>\n      );\n    }\n\n    return null;\n  }\n\n  renderChargedHeader() {\n    const { charged } = this.state;\n\n    if (charged) {\n      return (\n        <Col className=\"charged-header\" xs={12}>\n          <p>Receipt</p>\n        </Col>\n      );\n    }\n\n    return null;\n  }\n\n  render() {\n    const { charged } = this.state;\n    return (\n      <Row className=\"form-margin-container\" noGutters>\n        {this.renderChargedHeader()}\n        <Col className=\"company-product-container\" xs={12}>\n          {this.renderHeader()}\n        </Col>\n        {this.renderDetailsTable()}\n        <Col xs={12} className=\"summary-container\">\n          <Row noGutters>\n            <Col xs={12}>\n              <Row noGutters>\n                {this.renderPriceSummary()}\n                {this.renderTotal()}\n              </Row>\n            </Col>\n            <div className=\"promo-cashback-container\">\n              {this.renderPromoCodeButton()}\n              {this.renderCashBack()}\n            </div>\n            {this.renderDisclaimer()}\n          </Row>\n        </Col>\n        {\n          charged ?\n            null\n          :\n            <Fragment>\n              <Col className=\"checkout-button-container\" xs={12}>\n                {this.renderBackToDetail()}\n                <Button\n                  onClick={this.handleOnCheckout}\n                  className=\"checkout-button\"\n                  type=\"submit\"\n                  variant=\"medium-flat-green\"\n                  width={300}\n                  height={72}\n                >\n                  <p>Proceed to Payment</p>\n                </Button>\n              </Col>\n              <Col className=\"credit-card-container\" xs={12}>\n                <img src={CreditCards} alt=\"CreditCard.png\" />\n              </Col>\n              <Enquiry />\n            </Fragment>\n        }\n        <CheckoutComplete\n          wrappedComponentRef={node => this.checkoutComplete = node}\n        />\n        <CheckoutUsingCashback\n          ref={node => this.checkoutUsingCashback = node}\n          onConfirm={this.handleOnCheckoutZero}\n        />\n        <div className=\"stripe-checkout-button\" ref={node => this.checkoutButton = node} />\n        <div ref={node => this.gaCheckOut = node} />\n        <div ref={node => this.gaReceipt = node} />\n      </Row>\n    );\n  }\n}\n\nCheckout.defaultProps = {\n  userToken: null,\n  formValues: null,\n  userID: null,\n  promoErrorString: null,\n  rewardPoints: null,\n  wording: null,\n  backToDetails: null,\n  isAdHoc: false,\n  trackingTags: null,\n  charged: false,\n};\n\nCheckout.propTypes = {\n  getStripe: PropTypes.func.isRequired,\n  getPromo: PropTypes.func.isRequired,\n  sessionId: PropTypes.string.isRequired,\n  userID: PropTypes.number,\n  userToken: PropTypes.string,\n  subDetails: PropTypes.array.isRequired,\n  loading: PropTypes.func.isRequired,\n  loadingEnd: PropTypes.func.isRequired,\n  formValues: PropTypes.object,\n  headerData: PropTypes.object.isRequired,\n  mainDetails: PropTypes.object.isRequired,\n  checkout: PropTypes.func.isRequired,\n  promoErrorString: PropTypes.string,\n  isLoggedIn: PropTypes.bool.isRequired,\n  change: PropTypes.func.isRequired,\n  rewardPoints: PropTypes.number,\n  loginControl: PropTypes.object.isRequired,\n  wording: PropTypes.string,\n  backToDetails: PropTypes.func,\n  isAdHoc: PropTypes.bool,\n  trackingTags: PropTypes.object,\n  charged: PropTypes.bool,\n  category: PropTypes.string.isRequired,\n  doSetIntercomVisibility: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = state => ({\n  formValues: getFormValues('checkout')(state),\n  loginControl: state.login.loginControl,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  loading: (callBack, errorMsg, time) => {\n    dispatch(setLoading(callBack, errorMsg, time));\n  },\n  loadingEnd: () => {\n    dispatch(clearLoading());\n  },\n  checkLogin: () => {\n    dispatch(checkLoginStatus());\n  },\n  doSetIntercomVisibility: (isVisible) => {\n    dispatch(setIntercomVisibility(isVisible));\n  },\n});\n\nexport default reduxForm({\n  form: 'checkout',\n})(connect(mapStateToProps, mapDispatchToProps)(Checkout));\n","/**\n * CheckoutWrapper.js\n * This handles the initial portion of the checkout and\n * getting the initial promo and stripe form here.\n *\n * Creates anonymous session and transaction here if\n * not adhoc.\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport Checkout from './Checkout';\n\nimport { getAnonymousSession, getPromoCode, getReceipt, getTransactionStripeSession, postCheckout } from '../../../actions/insuranceActions';\nimport { setLoading, clearLoading } from '../../../actions/loadingScreenActions';\n\nclass CheckoutWrapper extends Component {\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const { checkoutButton, sessionId, transactionData } = prevState;\n    const {\n      getPromo,\n      userToken,\n      getStripe,\n      charged,\n      isAdHoc,\n      adHocData,\n    } = nextProps;\n\n    let result = null;\n    if (checkoutButton !== nextProps.checkoutButton) {\n      result = {\n        checkoutButton: nextProps.checkoutButton,\n      };\n    }\n\n    if (sessionId !== nextProps.sessionId) {\n      result = {\n        ...result,\n        sessionId: nextProps.sessionId,\n      };\n\n      if (charged || (isAdHoc && adHocData.status === 'paid')) {\n        nextProps.getReceipt(nextProps.sessionId);\n      } else {\n        getPromo(userToken, nextProps.sessionId, null, false);\n      }\n    }\n\n    if (transactionData !== nextProps.transactionData) {\n      result = {\n        ...result,\n        transactionData: nextProps.transactionData,\n      };\n\n      getStripe(nextProps.sessionId, null, false);\n    }\n\n    return result;\n  }\n\n  constructor(props) {\n    super(props);\n\n    const {\n      checkoutButton,\n      transactionData,\n      loading,\n      backToDetails,\n      headerData,\n      mainDetails,\n      subDetails,\n      isAdHoc,\n      params,\n      wording,\n      verifyParams,\n    } = this.props;\n\n    loading(backToDetails);\n\n    if (!isAdHoc) {\n      this.props.getAnonymousSession(params, verifyParams);\n    }\n\n    this.state = {\n      headerData,\n      mainDetails,\n      subDetails,\n      checkoutButton,\n      sessionId: null,\n      transactionData,\n      wording,\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    const { sessionId, transactionData } = this.state;\n    const { loadingEnd } = this.props;\n    if ((!prevProps.sessionId || !prevProps.transactionData) && sessionId && transactionData) {\n      loadingEnd();\n    }\n  }\n\n  render() {\n    const {\n      headerData,\n      mainDetails,\n      subDetails,\n      checkoutButton,\n      sessionId,\n      transactionData,\n      wording,\n    } = this.state;\n\n    if (!sessionId || !transactionData) {\n      return null;\n    }\n\n    const {\n      getStripe,\n      getPromo,\n      checkout,\n      promoErrorString,\n      isLoggedIn,\n      charged,\n      userDetails,\n      backToDetails,\n      isAdHoc,\n      adHocData,\n      trackingTags,\n      category,\n    } = this.props;\n\n    const userID = isLoggedIn ? userDetails.data.id : null;\n    const userToken = isLoggedIn ? userDetails.data.token : null;\n    const rewardPoints = isLoggedIn ? userDetails.data.reward_points : null;\n    const adHocCharged = isAdHoc && adHocData.status === 'paid' ? true : null;\n    const isCharged = charged || adHocCharged;\n    const getPromoToUse = isCharged ? this.props.getReceipt : getPromo;\n\n    return (\n      <Checkout\n        headerData={headerData}\n        mainDetails={mainDetails}\n        subDetails={subDetails}\n        transactionData={transactionData}\n        checkoutButton={checkoutButton}\n        getStripe={getStripe}\n        getPromo={getPromoToUse}\n        sessionId={sessionId}\n        promoErrorString={promoErrorString}\n        isLoggedIn={isLoggedIn}\n        userID={userID}\n        checkout={checkout}\n        charged={isCharged}\n        userToken={userToken}\n        rewardPoints={rewardPoints}\n        backToDetails={backToDetails}\n        wording={wording}\n        isAdHoc={isAdHoc}\n        trackingTags={trackingTags}\n        category={category}\n      />\n    );\n  }\n}\n\nCheckoutWrapper.defaultProps = {\n  charged: null,\n  sessionId: null,\n  transactionData: null,\n  promoErrorString: null,\n  userDetails: null,\n  checkoutButton: null,\n  backToDetails: null,\n  isLoggedIn: false,\n  isAdHoc: false,\n  adHocData: null,\n  wording: null,\n  trackingTags: null,\n  verifyParams: null,\n};\n\nCheckoutWrapper.propTypes = {\n  getStripe: PropTypes.func.isRequired,\n  getPromo: PropTypes.func.isRequired,\n  getReceipt: PropTypes.func.isRequired,\n  checkout: PropTypes.func.isRequired,\n  backToDetails: PropTypes.func,\n  charged: PropTypes.bool,\n  sessionId: PropTypes.string,\n  transactionData: PropTypes.object,\n  promoErrorString: PropTypes.string,\n  isLoggedIn: PropTypes.bool,\n  userDetails: PropTypes.object,\n  loading: PropTypes.func.isRequired,\n  loadingEnd: PropTypes.func.isRequired,\n  getAnonymousSession: PropTypes.func.isRequired,\n  checkoutButton: PropTypes.string,\n  headerData: PropTypes.object.isRequired,\n  mainDetails: PropTypes.object.isRequired,\n  subDetails: PropTypes.array.isRequired,\n  isAdHoc: PropTypes.bool,\n  adHocData: PropTypes.object,\n  params: PropTypes.object.isRequired,\n  wording: PropTypes.string,\n  trackingTags: PropTypes.object,\n  category: PropTypes.string.isRequired,\n  verifyParams: PropTypes.array,\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  const sessionId = ownProps.isAdHoc ? ownProps.sessionId : state.insurance.sessionId;\n  return ({\n    checkoutButton: state.insurance.checkoutButton,\n    sessionId,\n    transactionData: state.insurance.transactionData,\n    promoErrorString: state.insurance.promoErrorString,\n    userDetails: state.userDetails,\n  });\n};\n\nconst mapDispatchToProps = dispatch => ({\n  getAnonymousSession: (params, verifyParams) => {\n    dispatch(getAnonymousSession(params, false, verifyParams));\n  },\n  getStripe: (sessionId, promoCode, useRewards) => {\n    dispatch(getTransactionStripeSession(sessionId, promoCode, useRewards));\n  },\n  getPromo: (userToken, sessionId, promocode, useReward) => {\n    dispatch(getPromoCode(userToken, sessionId, promocode, useReward));\n  },\n  getReceipt: (sessionId) => {\n    dispatch(getReceipt(sessionId));\n  },\n  checkout: (sessionId, stripeData, userId) => {\n    dispatch(postCheckout(sessionId, stripeData, userId));\n  },\n  loading: (callback = null) => {\n    dispatch(setLoading(callback));\n  },\n  loadingEnd: () => {\n    dispatch(clearLoading());\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CheckoutWrapper);\n","/**\n * PromoCode.js\n * PromoCode field that takes in a callback\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\nimport Button from 'components/FormsV3/Button/Button';\n\nimport '../TextInput/TextInput.scss';\nimport './PromoCode.scss';\n\n// Height for medium dropdown\nconst mediumHeight = 60;\n// Height for big dropdown\nconst bigHeight = 72;\n\n/**\n * Custom Form Dropdown class\n */\nclass PromoCode extends Component {\n  /**\n   * Constructor\n   *\n   * @param {object} props Component props\n   */\n  constructor(props) {\n    super(props);\n\n    // dropList - The passed down dropdown list items\n    // placeholderString - Placeholder string for input\n    // size - Size of this control\n    // numItemsDisplay - Max items to display on view\n    const {\n      size,\n    } = this.props;\n\n    // Get the control height\n    const height = size === 'big' ? bigHeight : mediumHeight;\n\n    // isOpened - Whether dropdown is opened\n    // isError - Whether there is input error\n    // listItems - The actual dropdown list\n    // selectedString - The selected item string\n    // height - Control height\n    // numItemsDisplay - How many items to display\n    // maxheight - Max height of the list\n    // listHeight - Height of the list. (Items count + control)\n    this.state = {\n      height,\n      isFocus: false,\n    };\n\n    this.handleFocus = this.handleFocus.bind(this);\n    this.handleBlur = this.handleBlur.bind(this);\n  }\n\n  handleFocus() {\n    this.setState({\n      isFocus: true,\n    });\n  }\n\n  handleBlur() {\n    this.setState({\n      isFocus: false,\n    });\n  }\n\n  render() {\n    const {\n      height,\n      isFocus,\n    } = this.state;\n\n    const {\n      name,\n      desc,\n      placeholderString,\n      zIndex,\n      onClick,\n      extraInfo,\n      errorString,\n    } = this.props;\n\n    const focusStyle = isFocus ? 'focus' : '';\n\n    return (\n      <FormInputWrapper\n        desc={desc}\n        ref={node => (this.formParent = node)}\n        extraInfo={extraInfo}\n        errorString={errorString}\n      >\n        <div\n          className={`text-input-container promo-container ${focusStyle}`}\n          style={{ height, zIndex }}\n          onFocus={() => this.handleFocus()}\n          onBlur={() => this.handleBlur()}\n        >\n          <div className=\"text-input\">\n            <input\n              className=\"text\"\n              component=\"input\"\n              placeholder={placeholderString}\n              name={name}\n              ref={node => this.textInput = node}\n            />\n            <div className=\"promo-button\">\n              <Button\n                variant=\"medium-flat-green\"\n                height={48}\n                width={130}\n                onClick={() => onClick(this.textInput.value)}\n              >\n                <p>Apply</p>\n              </Button>\n            </div>\n          </div>\n        </div>\n      </FormInputWrapper>\n    );\n  }\n}\n\nPromoCode.defaultProps = {\n  desc: null,\n  extraInfo: null,\n  errorString: null,\n  size: null,\n  onClick: () => {},\n};\n\n\nPromoCode.propTypes = {\n  placeholderString: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  zIndex: PropTypes.number.isRequired,\n  desc: PropTypes.string,\n  onClick: PropTypes.func,\n  extraInfo: PropTypes.object,\n  errorString: PropTypes.string,\n  size: PropTypes.string,\n};\n\nexport default PromoCode;\n","/**\n * CashbackBalance.js\n * Component that displays the user's cashback balance\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport CashbackLogo from 'assets/images/common/CashbackLogo.svg';\n\nimport './CashbackBalance.scss';\n\n/**\n * Custom Form Dropdown class\n */\nclass CashbackBalance extends Component {\n  render() {\n    const { cashbackBalance } = this.props;\n\n    return (\n      <div className=\"cashback-summary\">\n        <img src={CashbackLogo} alt=\"CashbackLogo.svg\" />\n        <p>${cashbackBalance}</p>\n      </div>\n    );\n  }\n}\n\nCashbackBalance.defaultProps = {\n};\n\nCashbackBalance.propTypes = {\n  cashbackBalance: PropTypes.string.isRequired,\n};\n\nexport default CashbackBalance;\n","/**\n * HeaderDescWithButton.js\n * Product summary with button\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport React, { Component } from 'react';\nimport { Row, Col } from 'reactstrap';\n\nimport PropTypes from 'prop-types';\n\nimport Button from 'components/FormsV3/Button/Button';\n\nimport './HeaderDescWithButton.scss';\n\nclass HeaderDescWithButton extends Component {\n  render() {\n    const {\n      logo,\n      logoName,\n      insurerName,\n      insurerDesc,\n      onClick,\n    } = this.props;\n\n    return (\n      <Row className=\"header-desc-with-button-container\" noGutters>\n        <Col className=\"insurer-logo-container\">\n          <div className=\"company-logo-container\">\n            <img className=\"company-logo\" src={logo} alt={logoName} />\n          </div>\n        </Col>\n        <Col className=\"insurer-desc-container\">\n          <div className=\"insurer-desc-top\">\n            <span className=\"insurer-name\">{insurerName}</span>\n          </div>\n          <p className=\"desc\">\n            {insurerDesc}\n          </p>\n        </Col>\n        {\n          onClick ?\n            <div className=\"header-button-container\">\n              <Button variant=\"medium-flat-green\" width={165} height={72} onClick={onClick}>\n                <p>Continue</p>\n              </Button>\n            </div>\n          :\n            null\n        }\n      </Row>\n    );\n  }\n}\n\nHeaderDescWithButton.defaultProps = {\n  onClick: null,\n};\n\nHeaderDescWithButton.propTypes = {\n  logo: PropTypes.string.isRequired,\n  logoName: PropTypes.string.isRequired,\n  insurerName: PropTypes.string.isRequired,\n  insurerDesc: PropTypes.string.isRequired,\n  onClick: PropTypes.func,\n};\n\nexport default HeaderDescWithButton;\n","/**\n * PetCheckoutContainer.js\n * The checkout container for pet\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { getFormValues } from 'redux-form';\nimport PropTypes from 'prop-types';\nimport ReactPixel from 'react-facebook-pixel';\nimport _ from 'lodash';\n\nimport { getAddToCartData } from 'lib/trackingHelper';\nimport { getSessionParams } from '../../actions/petActions';\nimport { setInsuranceFormState, FORMSTATES } from '../../actions/insuranceActions';\nimport CheckoutWrapper from '../../components/Templates/Checkout/CheckoutWrapper';\n\nimport {\n  compactCheckoutAttributes,\n  getCheckoutParamsWording,\n  getCheckoutHeaderDataCoverage,\n  getCompactSubDetails,\n} from '../../lib/helperFunctions';\nimport { gaTag, gaEvent, ampTag } from '../../lib/tagFunctions';\n\nclass PetCheckoutContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    const {\n      petForm,\n      petDetailsForm,\n      selectedPlanData,\n      isAdHoc,\n      adHocData,\n    } = this.props;\n\n    const paramsWording = getCheckoutParamsWording(\n      isAdHoc,\n      adHocData,\n      selectedPlanData,\n      () => getSessionParams(petForm, petDetailsForm, selectedPlanData),\n    );\n\n    const headerCoverage = getCheckoutHeaderDataCoverage('Pet Insurance', isAdHoc, adHocData, selectedPlanData, paramsWording.params);\n\n    const petIllness = isAdHoc ? adHocData.data.session_params.pet_illness : petDetailsForm.pet_illness;\n    const medicalRecord = isAdHoc ? adHocData.data.session_params.pet_medical_record : petDetailsForm.pet_medical_record;\n    const record = petIllness === 'Yes' ?\n      [{ title: 'Illness Details', description: medicalRecord }] :\n      [];\n\n    const petFormToUse = isAdHoc ? adHocData.data.session_params : paramsWording.params.sessionParams.session_params;\n    const petDetailFormToUse = isAdHoc ? adHocData.data.session_params : paramsWording.params.sessionParams.session_params;\n    this.state = {\n      headerData: headerCoverage.headerData,\n      mainDetails: {\n        title: 'Insurance',\n        attributes: compactCheckoutAttributes([\n          { title: 'Pet Species', description: petFormToUse.pet_species },\n          { title: 'Start Date', description: petFormToUse.start_date },\n          { title: 'End Date', description: petFormToUse.end_date },\n          // { title: 'Coverage', description: headerCoverage.coverage },\n        ]),\n      },\n      subDetails: [getCompactSubDetails({\n        key: 'Adult 1',\n        leftDetail: {\n          title: 'Details',\n          attributes: compactCheckoutAttributes([\n            { title: 'Email', description: petDetailFormToUse.email },\n            { title: 'Last name', description: petDetailFormToUse.family_name },\n            { title: 'First name', description: petDetailFormToUse.given_name },\n            { title: 'Date of birth', description: petDetailFormToUse.birth_date },\n            { title: 'ID type', description: petDetailFormToUse.id_type },\n            { title: 'ID number', description: petDetailFormToUse.nric },\n            { title: 'Mobile number', description: petDetailFormToUse.mobile_number },\n            { title: 'Block Number', description: petDetailFormToUse.blk_no },\n            { title: 'Address', description: petDetailFormToUse.address },\n            { title: 'Unit no', description: petDetailFormToUse.unit_no },\n            { title: 'Postcode', description: petDetailFormToUse.postal },\n          ]),\n        },\n        rightDetail: {\n          title: 'Pet',\n          attributes: compactCheckoutAttributes([\n            { title: 'Name', description: petDetailFormToUse.pet_name },\n            { title: 'Microchip number', description: petDetailFormToUse.pet_microchip_no },\n            { title: 'Date of birth', description: petDetailFormToUse.pet_birth_date },\n            { title: 'Pet Illness', description: petDetailFormToUse.pet_illness },\n            ...record,\n          ]),\n        },\n      })],\n      ...paramsWording,\n    };\n  }\n\n  componentDidMount() {\n    const { setFormState, history } = this.props;\n    setFormState(FORMSTATES.CHECKOUT.index);\n    gaTag({\n      page_title: 'Pet - Checkout',\n      page_path: '/pet/checkout',\n    });\n    ampTag('PetCheckoutS');\n\n    if (history.location.pathname && history.location.pathname === `/pet${FORMSTATES.CHECKOUT.path}`) {\n      const { petDetailsForm, petForm, selectedPlanData } = this.props;\n      const { params } = this.state;\n      const { info, planType } = selectedPlanData;\n      const trackData = getAddToCartData({\n        ..._.pick(info, ['insurer_slug', 'insurer_name', 'product_slug', 'product_name']),\n        values: {\n          ..._.pick(petDetailsForm, ['pet_name', 'pet_birth_date', 'pet_illness', 'pet_microchip_no', 'pet_medical_record']),\n          ...petForm,\n        },\n        coverage_level: planType,\n        price: `$${params.amountPayable}`,\n      });\n      ReactPixel.track('AddToCart', trackData);\n      ReactPixel.track('InitiateCheckout');\n    }\n  }\n\n  render() {\n    const {\n      headerData,\n      mainDetails,\n      subDetails,\n      wording,\n      params,\n    } = this.state;\n\n    const {\n      isLoggedIn,\n      charged,\n      setFormState,\n      history,\n      isAdHoc,\n      adHocData,\n      sessionId,\n    } = this.props;\n\n    return (\n      <CheckoutWrapper\n        headerData={headerData}\n        mainDetails={mainDetails}\n        subDetails={subDetails}\n        sessionId={sessionId}\n        isLoggedIn={isLoggedIn}\n        charged={charged}\n        backToDetails={() => {\n          history.goBack();\n        }}\n        wording={wording}\n        isAdHoc={isAdHoc}\n        adHocData={adHocData}\n        params={params}\n        category=\"pet\"\n        trackingTags={{\n          payment: (data) => {\n            ReactPixel.track('AddPaymentInfo');\n            gaEvent('Pet - CheckoutPage_ProceedPayment', {\n              event_category: 'Pet',\n              event_label: 'Pet - CheckoutPage_ProceedPayment',\n            });\n            ampTag('PetProceedPayA', {\n              cashback: data.rewardsID !== null,\n              promo: data.promoCode !== null && data.promoCode !== '',\n            });\n          },\n          receipt: () => {\n            if (!isAdHoc) {\n              ReactPixel.track('Purchase', { currency: 'SGD', value: params.amountPayable });\n              setFormState(FORMSTATES.SUBMITTED.index);\n              history.push(`/pet${FORMSTATES.SUBMITTED.path}`);\n            }\n            gaTag({\n              page_title: 'Pet - Receipt',\n              page_path: '/pet/Receipt',\n            });\n            ampTag('PetConfirmationS');\n          },\n        }}\n      />\n    );\n  }\n}\n\nPetCheckoutContainer.defaultProps = {\n  charged: null,\n  sessionId: null,\n  adHocData: null,\n  isAdHoc: false,\n  isLoggedIn: false,\n  petForm: null,\n  petDetailsForm: null,\n  selectedPlanData: null,\n};\n\nPetCheckoutContainer.propTypes = {\n  charged: PropTypes.bool,\n  sessionId: PropTypes.string,\n  isLoggedIn: PropTypes.bool,\n  petForm: PropTypes.object,\n  petDetailsForm: PropTypes.object,\n  selectedPlanData: PropTypes.object,\n  adHocData: PropTypes.object,\n  isAdHoc: PropTypes.bool,\n  setFormState: PropTypes.func.isRequired,\n  history: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  const sessionId = ownProps.isAdHoc ? ownProps.sessionId : state.insurance.sessionId;\n  return ({\n    petForm: getFormValues('pet')(state),\n    petDetailsForm: getFormValues('pet-detail')(state),\n    selectedPlanData: state.pet.selectedPlanData,\n    sessionId,\n  });\n};\n\nconst mapDispatchToProps = dispatch => ({\n  setFormState: (state) => {\n    dispatch(setInsuranceFormState(state));\n  },\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(PetCheckoutContainer));\n","module.exports = __webpack_public_path__ + \"static/media/policypal-pet-insurance-1.f35deeb6.svg\";","module.exports = __webpack_public_path__ + \"static/media/policypal-pet-insurance-2.cde2f416.svg\";","module.exports = __webpack_public_path__ + \"static/media/policypal-pet-insurance-3.2c679d55.svg\";","module.exports = __webpack_public_path__ + \"static/media/Paw.43c25f8c.svg\";"],"sourceRoot":""}