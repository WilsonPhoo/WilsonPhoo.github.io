(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{1011:function(e,t,a){e.exports=a.p+"static/media/policypal-life-insurance-1.7ae36751.svg"},1012:function(e,t,a){e.exports=a.p+"static/media/policypal-life-insurance-2.96af4058.svg"},1013:function(e,t,a){e.exports=a.p+"static/media/policypal-life-insurance-3.14248a12.svg"},1014:function(e,t,a){},1150:function(e,t,a){"use strict";a.r(t);var n=a(13),r=a(15),i=a(14),s=a(11),o=a(16),l=a(2),c=a(5),u=a.n(c),m=a(1),d=a.n(m),f=a(186),p=a(22),b=a(481),h=a(60),g=a(69),v=a(23),y=a(70),O=a(52),j=a(529),F=a(513),S=a(37),E=a(1011),D=a.n(E),k=a(1012),_=a.n(k),I=a(1013),L=a.n(I),P=a(3),w=a(135),x=a(213),C=a(6),T=a(526),A=a.n(T),N=a(565),R=a.n(N),G=a(566),z=a.n(G),U=a(35),B=a(493),M=a(501),V=a(591),H=a(183),q=a(519),Q=a(184),Y=a(143),K=a(141),W=a(140),J=a(18),$=a(12),X=(a(1014),function(e){function t(e){var a;Object(n.a)(this,t);var s=(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).props,o=s.lifeFields,c=s.storeForm;return a.state={errorStringData:{},tabs:[{desc:"Term Life",onClick:function(){return a.setState({isTermLife:!0})}},{desc:"Whole Life",onClick:function(){return a.setState({isTermLife:!1})}}],isTermLife:!(c&&"whole_life"===c.coverage_type),birthDate:null,data:Object($.o)(o.form_fields)},a.handleSubmit=a.handleSubmit.bind(Object(l.a)(Object(l.a)(a))),a.handleCloseEdit=a.handleCloseEdit.bind(Object(l.a)(Object(l.a)(a))),a.handleRevert=a.handleRevert.bind(Object(l.a)(Object(l.a)(a))),a.validateForm=a.validateForm.bind(Object(l.a)(Object(l.a)(a))),a}return Object(o.a)(t,e),Object(s.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.storeForm;return a&&a.birth_date!==t.birthDate?{birthDate:a.birth_date}:null}}]),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.isTermLife,t=this.props,a=t.storeForm,n=t.setCloseCallBack;this.originalValues=a,n&&n(this.handleRevert),e||this.categoryTab.wrappedInstance.goToIndex(1,!0)}},{key:"getAge",value:function(e){var t="";return e&&-1!==e&&(t=Object(J.f)(e)),t}},{key:"validateForm",value:function(e){var t=this.state,a=t.data,n=t.isTermLife,r=[].concat(["gender","smoker","birth_date"],Object(S.a)(n?["sum_insured","critical_illness","premium_term"]:["sum_insured_selection","premium_whole"])),i=Object(W.b)(e,r,{smoker:{type:"ARRAY",data:a.smoker.options},birth_date:{type:"DATE",start:Object(J.i)(a.birth_date.min_date),end:Object(J.i)(a.birth_date.max_date)},sum_insured:{type:"ARRAY",data:a.coverage_amount_term.options},critical_illness:{type:"ARRAY",data:a.ci_coverage.options},premium_term:{type:"ARRAY",data:a.duration_term.options},sum_insured_selection:{type:"ARRAY",data:a.coverage_amount_whole.options},premium_whole:{type:"ARRAY",data:a.duration_whole.options}});return this.setState({errorStringData:i}),i}},{key:"handleSubmit",value:function(e){var t=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.state,r=n.isTermLife,i=n.birthDate,s=this.props,o=s.closePopUp,l=s.setSubmit,c=s.storeForm,m=s.submitCallback,d=s.setInsurFormState,f=s.change,p=s.history,b=this.validateForm(a?e:c),h=u.a.isEmpty(b);Object(W.a)(h,a,b,function(e){return t.setState({errorStringData:e})},function(){return t.handleSubmit(c,!1)})||h&&(f("coverage_type",r?"term_life":"whole_life"),setTimeout(function(){if(l(),t.originalValues=c,m)m();else{Object(O.b)("Life - Get Quote",{event_category:"Life",event_label:"Button - Life - Get Quote"});var a=Object(J.j)(i),n=t.getAge(a),s=r?{critical:e.critical_illness}:{};Object(O.a)("LifeGetQuoteA",Object(P.a)({gender:e.gender,smoker:e.smoker,age:n,insured:r?e.sum_insured:e.sum_insured_selection,term:r?e.premium_term:e.premium_whole},s,{type:r?"term":"whole"}))}d(v.b.CHOOSEPLAN.index),p.push("/life".concat(v.b.CHOOSEPLAN.path)),o&&o()},5))}},{key:"handleRevert",value:function(){var e=this,t=this.props,a=t.change;(0,t.resetForm)(),Object.keys(this.originalValues).forEach(function(t){a(t,e.originalValues[t])})}},{key:"handleCloseEdit",value:function(){(0,this.props.closePopUp)(this.handleRevert)}},{key:"renderBirthDate",value:function(){var e=this,t=this.state,a=t.errorStringData,n=t.birthDate,r=t.data,i=this.props,s=i.form,o=i.change,l=i.storeForm,c=Object(J.j)(n),u=c?"active":"inactive",m=this.getAge(c);return d.a.createElement(C.f,{className:"birth-date-container",xs:12,sm:10},d.a.createElement("p",{className:"age"},d.a.createElement("span",{className:u},"Age"),d.a.createElement("span",{className:"age-value"},m)),d.a.createElement(M.a,{form:s,change:o,name:"birth_date",size:"medium",zIndex:97,desc:r.birth_date.display_name,errorString:a.birth_date,validateForm:function(){return e.validateForm(l)},startDate:Object(J.i)(r.birth_date.min_date),endDate:Object(J.i)(r.birth_date.max_date),currDate:Object(J.i)(r.birth_date.default_date)}))}},{key:"renderDuration",value:function(){var e=this,t=this.state,a=t.isTermLife,n=t.data,r=t.errorStringData,i=this.props,s=i.form,o=i.change,l=i.storeForm,c=a?n.duration_term:n.duration_whole,u=a?"premium_term":"premium_whole",m=a?"Premium Term":"Payment Term",f=a?r.premium_term:r.premium_whole;return d.a.createElement(C.f,{className:"input-padding-right",xs:12,sm:5},d.a.createElement(H.a,{form:s,change:o,name:u,placeholderString:m,dropList:c.options,size:"medium",zIndex:95,desc:c.display_name,errorString:f,validateForm:function(){return e.validateForm(l)}}))}},{key:"renderFields",value:function(){var e=this,t=this.state,a=t.isTermLife,n=t.errorStringData,r=t.data,i=this.props,s=i.form,o=i.change,l=i.storeForm;return d.a.createElement(C.z,{key:"life-fields",noGutters:!0},d.a.createElement(C.f,{className:"justify-content-center icon icon-car d-none d-sm-flex",sm:2},d.a.createElement("img",{src:A.a,alt:"Avatar.svg"})),d.a.createElement(C.f,{className:"input-padding-right",xs:12,sm:5},d.a.createElement(B.a,{form:s,change:o,name:"gender",type:"text-selection",noEmptyTextSelection:!0,options:u.a.map(r.gender.options,function(e){return{key:e,description:e}}),sizeInSM:6,desc:r.gender.display_name,zIndex:99,errorString:n[r.gender.name],validateForm:function(){return e.validateForm(l)}})),d.a.createElement(C.f,{className:"input-padding-left",xs:12,sm:5},d.a.createElement(B.a,{form:s,change:o,name:"smoker",type:"text-selection",noEmptyTextSelection:!0,options:u.a.map(r.smoker.options,function(e){return{key:e,description:e}}),sizeInSM:6,zIndex:98,desc:r.smoker.display_name,errorString:n[r.smoker.name],validateForm:function(){return e.validateForm(l)}})),d.a.createElement(C.f,{className:"justify-content-center icon d-none d-sm-flex",sm:2}),this.renderBirthDate(),d.a.createElement(C.f,{className:"justify-content-center icon icon-car d-none d-sm-flex",sm:2},d.a.createElement("img",{style:{marginTop:32},src:R.a,alt:"Dollar.svg"})),a?d.a.createElement(C.f,{xs:12,sm:10},d.a.createElement(V.a,{form:s,change:o,name:"sum_insured",desc:r.coverage_amount_term.display_name,zIndex:96,hideWidth:576,inputList:r.coverage_amount_term.options,displayList:Object($.r)(r.coverage_amount_term.options),errorString:n.sum_insured,validateForm:function(){return e.validateForm(l)}})):d.a.createElement(C.f,{className:"whole-sum-insured",xs:12,sm:10},d.a.createElement(B.a,{form:s,change:o,name:"sum_insured_selection",type:"text-selection",noEmptyTextSelection:!0,options:u.a.map(r.coverage_amount_whole.options,function(e){return{key:e,description:Object($.q)(e)}}),sizeInSM:6,zIndex:96,desc:r.coverage_amount_whole.display_name,errorString:n.sum_insured_selection,validateForm:function(){return e.validateForm(l)}})),d.a.createElement(C.f,{className:"justify-content-center icon icon-car d-none d-sm-flex",sm:2},d.a.createElement("img",{src:z.a,alt:"Umbrella.svg"})),this.renderDuration(),a?d.a.createElement(C.f,{className:"input-padding-left",xs:12,sm:5},d.a.createElement(B.a,{form:s,change:o,name:"critical_illness",type:"text-selection",noEmptyTextSelection:!0,options:u.a.map(r.ci_coverage.options,function(e){return{key:e,description:e}}),sizeInSM:6,zIndex:94,desc:r.ci_coverage.display_name,errorString:n.critical_illness,validateForm:function(){return e.validateForm(l)}})):null)}},{key:"render",value:function(){var e=this,t=this.state.tabs,a=this.props,n=a.handleSubmit,r=a.isPopUp,i=a.form;return d.a.createElement("div",{className:"landing-form-container"},r?d.a.createElement("p",{className:"edit-header"},"Edit Life Insurance Details"):null,d.a.createElement("form",{onSubmit:n(this.handleSubmit)},d.a.createElement(C.z,{className:"input-offset life-edit-detail tab-view-container",noGutters:!0},d.a.createElement(Q.a,{tabs:t,isDataFadeOnly:!0,isDisableDropdown:!0,big:!0,name:"".concat(i,"-tab"),ref:function(t){return e.categoryTab=t}},[this.renderFields()])),d.a.createElement(C.z,{className:"align-items-center button-container",noGutters:!0},r?d.a.createElement(C.f,{className:"justify-content-center button",xs:12},d.a.createElement(C.z,{noGutters:!0},d.a.createElement(C.f,{className:"button-container-inner",xs:12,sm:6},d.a.createElement(U.a,{className:"button-left",variant:"medium-flat",width:165,height:72,onClick:function(){return e.handleCloseEdit()}},d.a.createElement("p",null,"Cancel"))),d.a.createElement(C.f,{className:"button-container-inner",xs:12,sm:6},d.a.createElement(U.a,{type:"submit",variant:"medium-flat-green",width:165,height:72},d.a.createElement("p",null,"Save"))))):d.a.createElement(C.f,{className:"justify-content-center button",xs:12},d.a.createElement(U.a,{type:"submit",variant:"medium-flat-green",width:165,height:72},d.a.createElement("p",null,"Get Quote"))))),d.a.createElement(q.a,{ref:function(t){return e.resPopup=t}}))}}]),t}(m.Component));X.defaultProps={isPopUp:!1,setCloseCallBack:null,storeForm:null,closePopUp:null,submitCallback:null};var Z=Object(b.a)(Object(x.a)({form:"life",destroyOnUnmount:!1})(Object(p.b)(function(e){return{storeForm:Object(w.a)("life")(e),isRevert:e.editForm.isRevert}},function(e){return{resetForm:function(){e(Object(h.b)("life"))},setInsurFormState:function(t){e(Object(v.K)(t))},setSubmit:function(){e(Object(Y.c)())},setRestrictionPopup:function(t){e(Object(K.d)(t))}}})(X))),ee=a(530),te=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.lifeFields,a=e.lifePromoGiveAway;return d.a.createElement("div",{className:"life-container"},d.a.createElement(ee.a,{img1:D.a,img2:_.a,img3:L.a,imgAlt:"PolicyPal Life Insurance",promo:a,desc:d.a.createElement(m.Fragment,null,d.a.createElement("p",null,"Get your Life Quotation"),d.a.createElement("p",null,"in minutes!"))},d.a.createElement(Z,{lifeFields:t})))}}]),t}(m.Component);te.defaultProps={lifePromoGiveAway:null};var ae=te,ne=a(97),re=function(e){function t(e){var a;Object(n.a)(this,t);var s=(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).props,o=s.loading,l=s.lifeFields,c=s.history;return(0,s.clearData)(),l||(o(function(){return c.push("/")}),a.props.getLifeFields()),a}return Object(o.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setFormState,a=e.history;t(v.b.MAIN.index),window.scrollTo(0,0),Object(O.c)({page_title:"Life",page_path:"/life".concat(a.location.search)}),Object(O.a)("LifeFormS")}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.lifeFields,n=t.loadingEnd;!e.lifeFields&&a&&n()}},{key:"render",value:function(){var e=this.props,t=e.lifeFields,a=e.termLifePromoGiveAway||{main:[],sub:[]},n=e.wholeLifePromoGiveAway||{main:[],sub:[]};return t?d.a.createElement(ae,{lifeFields:t,lifePromoGiveAway:{main:[].concat(Object(S.a)(a.main),Object(S.a)(n.main)),sub:[].concat(Object(S.a)(n.sub),Object(S.a)(n.sub))}}):null}}]),t}(m.Component);re.defaultProps={lifeFields:null,termLifePromoGiveAway:null,wholeLifePromoGiveAway:null};var ie=Object(b.a)(Object(p.b)(function(e){return{lifeFields:e.life.lifeFields,termLifePromoGiveAway:e.insurance.promoGiveaways.termLife,wholeLifePromoGiveAway:e.insurance.promoGiveaways.wholeLife}},function(e){return{getLifeFields:function(){e(Object(y.h)())},loading:function(t,a,n){e(Object(ne.d)(t,a,n))},loadingEnd:function(){e(Object(ne.c)())},clearData:function(){e(Object(y.g)())},setFormState:function(t){e(Object(v.K)(t))}}})(re)),se=a(527),oe=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"getAmpTags",value:function(e,t){try{var a=null;return u.a.map(e.info.discount,function(e){a=e.display}),u.a.isEmpty(a)&&(a="0%"),{partner:e.info.insurer_slug,price:e.policyInfo[t].net_price,discount:a}}catch(n){console.log("Life choose plan Buy now Amp tag failed: ".concat(n.message))}return{}}},{key:"render",value:function(){var e=this,t=this.props.lifeFields;return d.a.createElement(se.a,Object.assign({},this.props,{category:"life",form:"life",editForm:{valuesToListen:[{value:"gender",desc:"Gender"},{value:"smoker",desc:"S.Status"},{value:"birth_date",desc:"Age"},{value:"sum_insured",desc:"Sum",extra:"cost_simplify"},{value:"sum_insured_selection",desc:"Sum",extra:"cost_simplify"},{value:"premium_term",desc:"Term"},{value:"premium_whole",desc:"Term"},{value:"critical_illness",desc:"CI Coverage"}],conditions:{key:"coverage_type",values:{term_life:["gender","smoker","birth_date","sum_insured","premium_term","critical_illness"],whole_life:["gender","smoker","birth_date","sum_insured_selection","premium_whole"]}},editDetail:d.a.createElement(Z,{lifeFields:t,isPopUp:!0})},buttonDesc:"Select",forceFixedOnDesktop:!0,trackingTags:{default:function(t){Object(O.a)("LifeSelectA",e.getAmpTags(t,"default"))}}}))}}]),t}(m.Component);oe.defaultProps={};var le=oe,ce=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.setFormState)(v.b.CHOOSEPLAN.index),Object(O.c)({page_title:"Life - Choose Plan",page_path:"/life/chooseplan"}),Object(O.a)("LifeResultsS")}},{key:"render",value:function(){var e=this.props,t=e.lifeForm,a=e.getPlans,n=e.getInsurersList,r=e.clearData,i=e.setFormState,s=e.plansData,o=e.validInsurersList,l=e.lifeFields,c=e.history;return d.a.createElement(le,{mainForm:t,parseForm:y.l,getPlans:a,getInsurersList:n,clearData:r,setSelectedPlanData:this.props.setSelectedPlanData,setFormState:function(){i(v.b.DETAILFORM.index),c.push("/life".concat(v.b.DETAILFORM.path))},loadingFailBackState:function(){c.goBack()},plansData:s,validInsurersList:o,lifeFields:l})}}]),t}(m.Component);ce.defaultProps={plansData:null,validInsurersList:null};var ue=Object(b.a)(Object(p.b)(function(e){return{lifeForm:Object(w.a)("life")(e),plansData:e.life.plansData,validInsurersList:e.life.validInsurersList,lifeFields:e.life.lifeFields}},function(e){return{setFormState:function(t){e(Object(v.K)(t))},getPlans:function(t){e(Object(y.i)(t))},getInsurersList:function(t){e(Object(y.k)(t))},clearData:function(){e(Object(y.g)())},setSelectedPlanData:function(t){e(Object(y.n)(t))}}})(ce)),me=a(4),de=a.n(me),fe=a(8),pe=a(76),be=a(534),he=a(57),ge=a(491),ve=a(517),ye=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).state={sessionId:null,errorStringData:{},errorArray:[]},a.handleSubmit=a.handleSubmit.bind(Object(l.a)(Object(l.a)(a))),a.validateForm=a.validateForm.bind(Object(l.a)(Object(l.a)(a))),a}return Object(o.a)(t,e),Object(s.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.sessionId;return a!==t.sessionId?{sessionId:a}:null}}]),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){var e=this,t=this.state.sessionId,a=this.props.loadingEnd;t&&(a(),setTimeout(function(){e.checkoutComplete.openCheckoutComplete(),Object(O.a)("LifeConfirmationS")},300))}},{key:"validateForm",value:function(e){var t=Object(W.b)(e,["email","name","birth_date","mobile_number"]);this.setState({errorStringData:t});var a=[];return u.a.isEmpty(t)||(a=[d.a.createElement("p",{className:"error-string",key:"error-1"},"Fields are not properly filled, please check again.")]),this.setState({errorArray:a}),t}},{key:"checkout",value:function(e){var t=this.props.checkOutOthers;Object(O.b)("Life - DetailForm - Checkout",{event_category:"Life",event_label:"Life - DetailForm - Checkout"}),t(e)}},{key:"handleSubmit",value:function(e){var t=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.props,r=n.storeForm,i=n.noSynergy,s=this.validateForm(a?e:r),o=u.a.isEmpty(s);Object(W.a)(o,a,s,function(e){return t.setState({errorStringData:e,errorArray:null})},function(){return t.handleSubmit(r,!1)})||(o&&(i?this.checkout(e):(Object(O.a)("LifeConfirm1A"),Object(O.a)("LifeNoticeS"),this.popup.openPopupWithJSX(Object(v.C)(),!0,function(){Object(O.a)("LifeConfirm2A"),setTimeout(function(){t.checkout(e)},350)}))),window.scrollTo(0,document.body.scrollHeight))}},{key:"render",value:function(){var e=this,t=this.state,a=t.errorStringData,n=t.errorArray,r=this.props,i=r.form,s=r.change,o=r.planDetails,l=r.isLoggedIn,c=r.piggyCallback,u=r.changePlan,f=r.storeForm;return d.a.createElement(m.Fragment,null,d.a.createElement(be.a,{category:"life",changePlan:u,handleSubmit:this.props.handleSubmit,onSubmit:this.handleSubmit,change:s,form:i,planDetails:o,isLoggedIn:l,piggyCallback:c,errorArray:n,checkoutButtonDesc:"Confirm"},d.a.createElement(C.z,{className:"main-form",noGutters:!0},d.a.createElement(C.f,{xs:12},d.a.createElement(he.a,{form:i,change:s,name:"email",placeholderString:"",size:"medium",zIndex:99,desc:"Email Address",errorString:a.email,validateForm:function(){return e.validateForm(f)}})),d.a.createElement(C.f,{className:"right-padding",xs:12,sm:6},d.a.createElement(he.a,{form:i,change:s,name:"name",placeholderString:"",size:"medium",zIndex:98,desc:"Full Name",errorString:a.name,validateForm:function(){return e.validateForm(f)}})),d.a.createElement(C.f,{className:"left-padding",xs:12,sm:6},d.a.createElement(M.a,{form:i,change:s,name:"birth_date",size:"medium",zIndex:97,desc:"Date of Birth",errorString:a.birth_date,validateForm:function(){return e.validateForm(f)},endDate:new Date})),d.a.createElement(C.f,{className:"right-padding",xs:12,sm:6},d.a.createElement(he.a,{form:i,change:s,name:"mobile_number",placeholderString:"",size:"medium",zIndex:96,desc:"Mobile Number",errorString:a.mobile_number,validateForm:function(){return e.validateForm(f)}})))),d.a.createElement(ve.a,{ref:function(t){return e.popup=t},showCancelButton:!0}),d.a.createElement(ge.a,{isQuoteOnly:!0,isSellLeads:!0,wrappedComponentRef:function(t){return e.checkoutComplete=t}}))}}]),t}(m.Component);ye.defaultProps={storeForm:null,noSynergy:!1};var Oe=Object(x.a)({form:"life-detail",destroyOnUnmount:!1})(Object(p.b)(function(e){return{storeForm:Object(w.a)("life-detail")(e),constants:e.insurance.constants}},function(e){return{loadingEnd:function(){e(Object(ne.c)())}}})(ye)),je=a(582),Fe=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).submitCallback=a.submitCallback.bind(Object(l.a)(Object(l.a)(a))),a.lifeRedirect=a.lifeRedirect.bind(Object(l.a)(Object(l.a)(a))),a}return Object(o.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.setFormState)(v.b.DETAILFORM.index),Object(O.c)({page_title:"Life - Detail Form",page_path:"/life/detailform"}),Object(O.a)("LifeDetailsS")}},{key:"submitCallback",value:function(e){var t=this.props,a=t.selectedPlanData,n=t.checkOutOthers,r=t.loading;if("webview"===a.info.deep_link.integration_type)return this.RedirectPop.openRedirectPopup(),void Object(O.a)("LifeRedirectS");r(),n(e)}},{key:"lifeRedirect",value:function(){var e=Object(fe.a)(de.a.mark(function e(){var t,a,n,r,i,s;return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.lifeForm,n=t.lifeDetailForm,r=t.selectedPlanData,(0,t.loading)(),e.next=4,Object(y.m)(a,n,r);case 4:if(i=e.sent,"singlife"===r.info.insurer_slug){for(;this.redirectButton.firstChild;)this.redirectButton.removeChild(this.redirectButton.firstChild);s=document.createRange(),this.redirectButton.appendChild(s.createContextualFragment(i.form_html)),setTimeout(function(){return window.$("#".concat(i.form_id)).get(0).submit()},300),Object(O.a)("LifeConfirmA")}case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.plansData,n=t.isLoggedIn,r=t.profileValues,i=t.piggyCallback,s=t.lifeFields,o=t.sessionId,l=t.selectedPlanData,c=t.history;if(!a)return null;var u=a,f="singlife"===l.info.insurer_slug,p={logo:pe.a.others,logoDesc:"",planName:"",planTotal:null};try{p={logo:pe.a[u.info.insurer_slug],logoDesc:"".concat(u.info.insurer_name,".svg"),planName:u.info.product_name,planTotal:"$".concat(u.policyInfo[u.planType].net_price.toFixed(2))}}catch(b){console.log("Get plan details failed")}return d.a.createElement(m.Fragment,null,d.a.createElement(Oe,{lifeFields:s,selectedData:u,planDetails:p,isLoggedIn:n,sessionId:o,piggyCallback:i,checkOutOthers:this.submitCallback,changePlan:function(){c.goBack(),Object(O.b)("Life - DetailForm - ChangePlan",{event_category:"Life",event_label:"Life - DetailForm - ChangePlan"})},profileValues:r,noSynergy:f}),d.a.createElement(je.a,{ref:function(t){return e.RedirectPop=t},noEmail:!0,onConfirm:function(){e.lifeRedirect()}}),d.a.createElement("div",{className:"redirect-button",ref:function(t){return e.redirectButton=t}}))}}]),t}(m.Component);Fe.defaultProps={sessionId:null,plansData:null,lifeDetailForm:null};var Se=Object(b.a)(Object(p.b)(function(e){return{lifeForm:Object(w.a)("life")(e),lifeDetailForm:Object(w.a)("life-detail")(e),lifeFields:e.life.lifeFields,profileValues:e.userDetails,plansData:e.life.selectedPlanData,sessionId:e.insurance.sessionId,selectedPlanData:e.life.selectedPlanData}},function(e){return{getAnonymousSession:function(t){e(Object(v.v)(t,!0))},setFormState:function(t){e(Object(v.K)(t))},loading:function(t,a,n){e(Object(ne.d)(t,a,n))}}},function(e,t,a){return Object(P.a)({},a,e,t,{checkOutOthers:function(a){t.getAnonymousSession(Object(y.j)(e.lifeForm,a,e.plansData),!0)}})})(Fe)),Ee=function(e){function t(e){var a;Object(n.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).state={formIndex:0,isInitialLoad:!0};var s=a.props,o=s.resetStoreForm,c=s.termLifePromoGiveAway,u=s.wholeLifePromoGiveAway,m=s.clearData,d=s.history;return d.replace("/life".concat(d.location.search)),m(),a.props.resetCompare(),a.props.resetInsuranceForm(),o("life"),o("life-detail"),void 0!==c&&void 0!==u||a.props.getPromoGiveaways(),a.setInitialFormState=a.setInitialFormState.bind(Object(l.a)(Object(l.a)(a))),a.renderStepProgress=a.renderStepProgress.bind(Object(l.a)(Object(l.a)(a))),a.renderLifeForms=a.renderLifeForms.bind(Object(l.a)(Object(l.a)(a))),a.changeUserDetails=a.changeUserDetails.bind(Object(l.a)(Object(l.a)(a))),a}return Object(o.a)(t,e),Object(s.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a=t.formIndex,n=t.isMounted,r=e.formState,i=e.match,s=e.history;if(n){var o=Object($.p)("life",r,a,i,s);if(o&&null!==o.formIndex)return{formIndex:o.formIndex}}return null}}]),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setInitialFormState(),this.setState({isMounted:!0})}},{key:"componentDidUpdate",value:function(e){var t=this.state.isInitialLoad,a=this.props.userDetails;t&&u.a.isEqual(a,e.userDetails)&&this.changeUserDetails()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearData,a=e.resetStoreForm;t(),this.props.resetCompare(),this.props.resetInsuranceForm(),a("life"),a("life-detail")}},{key:"setInitialFormState",value:function(){var e=this.props.changeForm;e("life","birth_date","01 Jan 1990"),e("life","sum_insured","500000"),e("life","premium_term","5 years"),e("life","premium_whole","20 years"),this.changeUserDetails()}},{key:"changeUserDetails",value:function(){var e=this.state.isInitialLoad,t=this.props,a=t.userDetails,n=t.changeForm;if(a){var r=a&&a.surname?a.surname:"",i=a&&a.firstName?" ".concat(a.firstName):"";n("life-detail","email",a.email),n("life-detail","name","".concat(r).concat(i)),n("life-detail","birth_date",a.dateOfBirth),n("life-detail","mobile_number",a.contact),e&&this.setState({isInitialLoad:!1})}}},{key:"renderStepProgress",value:function(){var e=this.state.formIndex;return d.a.createElement(j.a,{maxWidth:"556px",formState:e,inputList:["Choose Plan","Details"],form:"life",stateList:[v.b.CHOOSEPLAN,v.b.DETAILFORM],stateDescriptions:[{main:""},{main:"Fill in your details - Get $5 Credits"}],charged:!1})}},{key:"renderLifeForms",value:function(){var e=this.state.formIndex,t=this.props.userDetails,a=!u.a.isEmpty(t);switch(e){case v.b.CHOOSEPLAN.index:return d.a.createElement(ue,{isLoggedIn:a});case v.b.DETAILFORM.index:return d.a.createElement(Se,{isLoggedIn:a,piggyCallback:this.changeUserDetails});default:return d.a.createElement(ie,{isLoggedIn:a})}}},{key:"render",value:function(){var e=this,t=this.props,a=t.termLifePromoGiveAway,n=t.wholeLifePromoGiveAway;if(!t.constants||void 0===a||void 0===n)return null;var r=O.d?"PolicyPal, insurance, insurance broker, life insurance, term insurance, critical illness insurance, compare insurance, term life, insurance policy, insurance quotes, term insurance plans, term policy, life insurance quotes, types of life insurance, best life insurance, term life insurance, life quotes, life insurance quotes, term insurance comparison, life insurance singapore, whole life insurance, whole life, term vs life insurance, what is life insurance, term life vs whole life, term insurance comparison":"";return d.a.createElement(m.Fragment,null,d.a.createElement(f.Helmet,null,d.a.createElement("meta",{name:"keywords",content:r}),d.a.createElement("title",null,"PolicyPal 2.0 - Life Insurance"),d.a.createElement("meta",{name:"title",content:"PolicyPal 2.0 - Life Insurance"}),d.a.createElement("meta",{name:"description",content:"Browse products for life insurance."})),this.renderStepProgress(),this.renderLifeForms(),d.a.createElement(F.a,{ref:function(t){e.refresher||t.invokeNewTimer(),e.refresher=t}}))}}]),t}(m.Component);Ee.defaultProps={userDetails:null,termLifePromoGiveAway:void 0,wholeLifePromoGiveAway:void 0,constants:null};t.default=Object(b.a)(Object(p.b)(function(e){return{termLifePromoGiveAway:e.insurance.promoGiveaways.termLife,wholeLifePromoGiveAway:e.insurance.promoGiveaways.wholeLife,formState:e.insurance.formState,constants:e.insurance.constants,userDetails:e.userDetails.data}},function(e){return{changeForm:function(t,a,n){return e(Object(h.a)(t,a,n))},resetInsuranceForm:function(){return e(Object(v.H)())},resetStoreForm:function(t){return e(Object(h.b)(t))},getPromoGiveaways:function(){e(Object(v.A)("termLife")),e(Object(v.A)("wholeLife"))},resetCompare:function(){e(Object(g.g)())},clearData:function(){e(Object(y.g)())}}})(Ee))},526:function(e,t,a){e.exports=a.p+"static/media/Avatar.b01356d4.svg"},527:function(e,t,a){"use strict";var n=a(13),r=a(15),i=a(14),s=a(11),o=a(16),l=a(2),c=a(5),u=a.n(c),m=a(1),d=a.n(m),f=a(22),p=a(23),b=a(69),h=a(97),g=a(141),v=a(3),y=a(6),O=a(184),j=a(533),F=a(518),S=a(509),E=["basic","essential","elite","default"],D=function(e){function t(e){var a;Object(n.a)(this,t);var s=(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).props.data;return a.state={tabIndex:0,currentTab:null,tabs:null,policyTypes:s.policyTypes},a.handleTabClick=a.handleTabClick.bind(Object(l.a)(Object(l.a)(a))),a.renderTabs=a.renderTabs.bind(Object(l.a)(Object(l.a)(a))),a}return Object(o.a)(t,e),Object(s.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return e.data.policyTypes!==t.policyTypes?{policyTypes:e.data.policyTypes}:null}}]),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.renderTabs(null,!0);this.props.setPlanType(u.a.lowerCase(e.currentTab))}},{key:"shouldComponentUpdate",value:function(e,t){var a=this.state,n=a.policyTypes,r=a.tabs,i=a.currentTab,s=this.props.data;return u.a.isEqual(n,t.policyTypes)||this.renderTabs(t.policyTypes),r!==t.tabs||i!==t.currentTab||s!==e.data}},{key:"componentDidUpdate",value:function(e,t){var a=this.state,n=a.tabs,r=a.tabIndex,i=this.props,s=i.selectedIndex,o=i.initialIndex;if(n!==t.tabs&&this.categoryTab&&this.categoryTab.wrappedInstance){var l=s&&s!==r;if(l||null===s&&o){var c=l?s:o,u=c<n.length?c:0;return this.categoryTab.wrappedInstance.goToIndex(u,!0),this.setState({tabIndex:u}),void this.props.setSelectedIndex(u)}this.categoryTab.wrappedInstance.goToIndex(r)}}},{key:"handleTabClick",value:function(e,t){this.setState({currentTab:e}),this.props.setPlanType(e),this.props.setSelectedIndex(t)}},{key:"renderTabs",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.state,r=n.policyTypes,i=n.currentTab,s=this.props.planImages,o=t||r,l=0,c=u.a.reduce(E,function(t,a){if(-1!==u.a.findIndex(o,function(e){return e===a})){var n=l,r=s?s[a]:null;t.push({desc:u.a.startCase(a),img:r,onClick:function(){e.handleTabClick(a,n)}}),l+=1}return t},[]),m={currentTab:u.a.lowerCase(c[0].desc)};if(!a){var d=u.a.findIndex(c,function(e){return u.a.lowerCase(e.desc)===i}),f=-1!==d?d:0,p=u.a.lowerCase(c[f].desc);m={tabIndex:f,currentTab:p},this.props.setPlanType(p),this.props.setSelectedIndex(f)}var b=Object(v.a)({},m,{tabs:c});return this.setState(b),b}},{key:"render",value:function(){var e=this,t=this.state,a=t.currentTab,n=t.tabs,r=this.props,i=r.data,s=r.scrollPopUpCallback,o=r.submitCallback,l=r.editForm,c=r.form,u=r.buttonDesc,f=r.forceFixedOnDesktop,p=r.category;if(!i||!n||!a)return null;var b="default"===a?"inner-form-no-tabs":"";return d.a.createElement(m.Fragment,null,d.a.createElement(y.z,{className:"inner-form-container ".concat(b," inner-form-extra-padding"),noGutters:!0},d.a.createElement(O.a,{tabs:n,isDataFadeOnly:!0,isDisableDropdown:!0,big:!0,name:"".concat(c,"-tab"),ref:function(t){return e.categoryTab=t}},[d.a.createElement(j.a,{category:p,key:"overview",className:"overview-container-padding",notAccordion:!0,data:i,currentTab:a,scrollPopUpCallback:s,productChangable:!0,editForm:d.a.createElement(F.a,{submitCallback:o,form:c,headerValue:l.headerValue,valuesToListen:l.valuesToListen,conditions:l.conditions},l.editDetail),buttonDesc:u,forceFixedOnDesktop:f})]),d.a.createElement(S.a,null)))}}]),t}(m.Component);D.defaultProps={initialIndex:0,selectedIndex:null,data:null,planImages:null,buttonDesc:null,forceFixedOnDesktop:!1,category:null};var k=Object(f.b)(function(e){return{selectedIndex:e.compare.selectedIndex}},function(e){return{setSelectedIndex:function(t){e(Object(b.i)(t))},setPlanType:function(t){e(Object(b.h)(t))}}})(D),_=function(e){function t(e){var a;Object(n.a)(this,t);var s=(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).props,o=s.mainForm,c=s.parseForm,u=s.getPlans,m=s.getInsurersList,d=s.loading,f=s.defaultInsurers,b=s.plansData,h=s.validInsurersList,g=s.selectedInsurers,v=s.setSelectedPlanData,y=s.loadingEnd,O=s.setFormState,j=s.loadingFailBackState,F=s.clearData,S=s.trackingTags;try{if(b&&h)a.state={currentInsurers:g,parsedData:Object(p.E)(b,h,g,o.trip_type,function(){return O()},v,y,a.props.setRestrictionPopup,null,S)};else{var E=c(o,f);d(function(){F(),j()},"No available plans found.",3e4,""),u(E),m(E),a.props.setSelectedInsurers(f),a.state={currentInsurers:f,parsedData:null}}}catch(D){}return a.getNewData=a.getNewData.bind(Object(l.a)(Object(l.a)(a))),a.onInsurerClick=a.onInsurerClick.bind(Object(l.a)(Object(l.a)(a))),a}return Object(o.a)(t,e),Object(s.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){try{var a=t.currentInsurers,n=e.plansData,r=e.validInsurersList,i=e.setFormState,s=e.loadingEnd,o=e.mainForm,l=e.setSelectedPlanData,c=e.trackingTags;if(n&&"INVALID"===n[0])return null;if(r&&n){var m=a||{};return!a&&n&&(m=(m=u.a.map(n,function(e){return e.info.insurer_slug})).slice(0,3),e.setSelectedInsurers(m)),{parsedData:Object(p.E)(n,r,m,o.trip_type,function(){i()},l,s,e.setRestrictionPopup,null,c),currentInsurers:m}}}catch(d){return null}return null}}]),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){var e=this,t=this.props,a=t.plansData,n=t.loadingEnd,r=t.loading,i=t.clearData,s=t.loadingFailBackState;a&&"INVALID"===a[0]&&(n(),this.isLoading||(this.isLoading=!0,setTimeout(function(){return r(function(){i(),s(),e.isLoading=!1},"No available plans found.",50,"")},500)))}},{key:"onInsurerClick",value:function(e,t){var a=this.state.parsedData,n=u.a.reduce(a.selectedInsurers,function(e,t){return t&&e.push(t.insurerSlug),e},[]);n[t]=e.insurer_slug,this.setState({currentInsurers:n}),this.props.setSelectedInsurers(n),this.getNewData(n)}},{key:"getNewData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.state.currentInsurers,a=this.props,n=a.loading,r=a.getPlans,i=a.getInsurersList,s=a.clearData,o=a.mainForm,l=a.parseForm,c=a.loadingFailBackState,u=l(o,e||t);s(),n(function(){s(),c()},"No available plans found.",3e4,""),r(u),i(u)}},{key:"render",value:function(){try{var e=this.state.parsedData,t=this.props,a=t.editForm,n=t.form,r=t.planImages,i=t.initialIndex,s=t.buttonDesc,o=t.forceFixedOnDesktop,l=t.category;return e?d.a.createElement(k,{category:l,initialIndex:i,planImages:r,data:e,form:n,editForm:a,scrollPopUpCallback:this.onInsurerClick,submitCallback:this.getNewData,buttonDesc:s,forceFixedOnDesktop:o}):null}catch(c){return null}}}]),t}(m.Component);_.defaultProps={initialIndex:0,plansData:null,validInsurersList:null,selectedInsurers:null,trackingTags:null,planImages:null,defaultInsurers:null,buttonDesc:null,forceFixedOnDesktop:!1,category:null};t.a=Object(f.b)(function(e){return{selectedInsurers:e.compare.selectedInsurers}},function(e){return{loading:function(t,a,n,r){e(Object(h.d)(t,a,n,r))},loadingEnd:function(){e(Object(h.c)())},setRestrictionPopup:function(t){e(Object(g.d)(t))},setSelectedInsurers:function(t){e(Object(b.j)(t))}}})(_)},554:function(e,t,a){},565:function(e,t,a){e.exports=a.p+"static/media/Dollar.69451f59.svg"},566:function(e,t,a){e.exports=a.p+"static/media/Umbrella.6617735b.svg"},582:function(e,t,a){"use strict";var n=a(13),r=a(11),i=a(15),s=a(14),o=a(16),l=a(2),c=a(1),u=a.n(c),m=a(3),d=a(5),f=a.n(d),p=a(213),b=a(6),h=a(35),g=a(57),v=a(493),y=a(140),O=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).state={errorString:null},a.handleSubmit=a.handleSubmit.bind(Object(l.a)(Object(l.a)(a))),a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"handleSubmit",value:function(e){var t=this.props,a=t.onConfirm,n=t.category,r=t.noEmail,i=r?[]:["email"],s=Object(y.b)(e,[].concat(i,["disclaimer"]));r||!s.email?f.a.isEmpty(e.disclaimer)?this.setState({errorString:"Please agree to the terms to proceed."}):f.a.isEmpty(s)?(this.setState({errorString:null}),a(Object(m.a)({},e,{category:n}))):this.setState({errorString:"Please fill in all fields!"}):this.setState({errorString:"Invalid email!"})}},{key:"render",value:function(){var e=this.state.errorString,t=this.props,a=t.handleSubmit,n=t.form,r=t.change,i=t.noEmail;return u.a.createElement("form",{onSubmit:a(this.handleSubmit)},u.a.createElement("div",{className:"mid-container"},u.a.createElement(b.z,{noGutters:!0},i?null:u.a.createElement(b.f,{xs:12},u.a.createElement(g.a,{form:n,change:r,name:"email",placeholderString:"",size:"medium",zIndex:99,desc:"Email Address"})),u.a.createElement(b.f,{xs:12},u.a.createElement(v.a,{form:n,change:r,name:"disclaimer",type:"checkbox",options:[{key:"disclaimer",description:"I agree to store this policy in my PolicyPal account after purchase, in accordance with the Personal Data Protection Act."}],sizeInSM:12,desc:""})),e?u.a.createElement(b.f,{xs:12},u.a.createElement("p",{className:"error-string"},e)):null)),u.a.createElement("div",{className:"button-container"},u.a.createElement(h.a,{type:"submit",className:"checkout-button",variant:"medium-flat-green",width:166,height:72},u.a.createElement("p",null,"Confirm"))))}}]),t}(c.Component);O.defaultProps={category:null,noEmail:!1};var j=Object(p.a)({form:"redirect-form"})(O),F=a(105),S=(a(554),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).state={category:null},a.openRedirectPopup=a.openRedirectPopup.bind(Object(l.a)(Object(l.a)(a))),a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"openRedirectPopup",value:function(e){this.setState({category:e}),setTimeout(this.popupRef.openPopup,100)}},{key:"render",value:function(){var e=this,t=this.state.category,a=this.props,n=a.onConfirm,r=a.noEmail;return u.a.createElement(F.a,{ref:function(t){e.popupRef=t}},u.a.createElement(c.Fragment,null,u.a.createElement("div",{className:"redirect-popup"},u.a.createElement("div",{className:"upper-container"},u.a.createElement("p",null,"Kindly fill up the following section before we redirect you to the insurer's page. The details below will be used for verification with the insurer after purchase.")),u.a.createElement(j,{noEmail:r,closPopup:function(){return e.popupRef.closePopup()},onConfirm:n,category:t}))))}}]),t}(c.Component));S.defaultProps={noEmail:!1};t.a=S}}]);
//# sourceMappingURL=life.eed3af86.chunk.js.map