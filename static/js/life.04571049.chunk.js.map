{"version":3,"sources":["assets/images/Life/policypal-life-insurance-1.svg","assets/images/Life/policypal-life-insurance-2.svg","assets/images/Life/policypal-life-insurance-3.svg","components/Life/LifeEditDetail.js","components/Life/LifeMain.js","containers/Life/LifeMainContainer.js","components/Life/LifeChoosePlan.js","containers/Life/LifeChoosePlanContainer.js","components/Life/LifeDetail.js","containers/Life/LifeDetailContainer.js","containers/Life/LifeRouteContainer.js","assets/images/MainFormIcons/Avatar.svg","components/Templates/MultiCompareView/MultiCompareInner.js","components/Templates/MultiCompareView/MultiCompareView.js","assets/images/MainFormIcons/Dollar.svg","assets/images/MainFormIcons/Umbrella.svg","components/Templates/RedirectPopup/RedirectPopupForm.js","components/Templates/RedirectPopup/RedirectPopup.js"],"names":["module","exports","__webpack_require__","p","LifeEditDetail","props","_this","Object","classCallCheck","this","_this$props","possibleConstructorReturn","getPrototypeOf","call","lifeFields","storeForm","state","errorStringData","tabs","desc","onClick","setState","isTermLife","coverage_type","birthDate","data","remapFormFields","form_fields","handleSubmit","bind","assertThisInitialized","handleCloseEdit","handleRevert","validateForm","nextProps","prevState","birth_date","_this$props2","setCloseCallBack","originalValues","categoryTab","wrappedInstance","goToIndex","date","age","getAge","e","_this$state","fieldsToCheck","concat","toConsumableArray","errorResult","smoker","type","options","start","slashedStringDateToDate","min_date","end","max_date","sum_insured","coverage_amount_term","critical_illness","ci_coverage","premium_term","duration_term","sum_insured_selection","coverage_amount_whole","premium_whole","duration_whole","_this2","isFirstValidate","arguments","length","undefined","_this$state2","_this$props3","closePopUp","setSubmit","submitCallback","setInsurFormState","change","history","isEmptyResult","_","isEmpty","dateReValidate","error","setTimeout","gaEvent","event_category","event_label","storeStringToDate","critical","ampTag","objectSpread","gender","insured","term","FORMSTATES","CHOOSEPLAN","index","push","path","_this3","_this$props4","resetForm","keys","forEach","key","_this4","_this$state3","_this$props5","form","ageStyle","react_default","a","createElement","reactstrap_es","className","xs","sm","DatePickerV2","name","size","zIndex","display_name","errorString","startDate","endDate","currDate","default_date","_this5","_this$state4","_this$props6","dataToUse","placeholderString","errorToUse","DropDownV2","dropList","_this6","_this$state5","_this$props7","noGutters","src","Avatar","alt","Selection","noEmptyTextSelection","map","option","description","sizeInSM","renderBirthDate","style","marginTop","Dollar","Slider","hideWidth","inputList","displayList","simplifyCostArray","simplifyCost","Umbrella","renderDuration","_this7","_this$props8","isPopUp","onSubmit","TabView","isDataFadeOnly","isDisableDropdown","big","ref","node","renderFields","Button","variant","width","height","RestrictionsPopup","resPopup","Component","defaultProps","withRouter","reduxForm","destroyOnUnmount","connect","getFormValues","isRevert","editForm","dispatch","reset","setInsuranceFormState","invokeSubmit","setRestrictionPopup","LifeMain","lifePromoGiveAway","FormLanding","img1","Life1","img2","Life2","img3","Life3","imgAlt","promo","react","Life_LifeEditDetail","LifeMainContainer","loading","clearData","getLifeFields","setFormState","MAIN","window","scrollTo","gaTag","page_title","page_path","location","search","prevProps","loadingEnd","termLife","termLifePromoGiveAway","main","sub","wholeLife","wholeLifePromoGiveAway","Life_LifeMain","life","insurance","promoGiveaways","callBack","errorMsg","time","setLoading","clearLoading","clearLifeData","LifeChoosePlan","selectedPlanData","planType","discount","info","display","partner","insurer_slug","price","policyInfo","net_price","console","log","message","MultiCompareView","assign","category","valuesToListen","value","extra","conditions","values","term_life","whole_life","editDetail","buttonDesc","forceFixedOnDesktop","trackingTags","default","getAmpTags","LifeChoosePlanContainer","lifeForm","getPlans","getInsurersList","plansData","validInsurersList","Life_LifeChoosePlan","mainForm","parseForm","parseLifeForm","setSelectedPlanData","DETAILFORM","loadingFailBackState","goBack","parsedForm","getLifePlans","getValidInsurersList","LifeDetail","sessionId","errorArray","checkoutComplete","openCheckoutComplete","checkOutOthers","noSynergy","checkout","popup","openPopupWithJSX","getSynergyJSX","document","body","scrollHeight","planDetails","isLoggedIn","piggyCallback","changePlan","DetailForm","checkoutButtonDesc","TextInput","email","Date","mobile_number","PopupWithText","showCancelButton","CheckoutComplete","isQuoteOnly","isSellLeads","wrappedComponentRef","constants","LifeDetailContainer","lifeRedirect","deep_link","integration_type","RedirectPop","openRedirectPopup","lifeDetailForm","postToRedirect","result","redirectButton","firstChild","removeChild","range","createRange","appendChild","createContextualFragment","form_html","$","form_id","get","submit","profileValues","selectedData","logo","Logos","others","logoDesc","planName","planTotal","insurer_name","product_name","toFixed","Life_LifeDetail","RedirectPopup","noEmail","onConfirm","userDetails","getAnonymousSession","params","propsFromState","propsFromDispatch","ownProps","detailForm","getSessionParams","LifeRouteContainer","formIndex","isInitialLoad","resetStoreForm","replace","resetCompare","resetInsuranceForm","getPromoGiveaways","setInitialFormState","renderStepProgress","renderLifeForms","changeUserDetails","isMounted","formState","match","routeResult","routeHandler","isEqual","changeForm","surname","firstname","firstName","dateOfBirth","contact","StepProgressBar","maxWidth","stateList","stateDescriptions","charged","Life_LifeChoosePlanContainer","Life_LifeDetailContainer","Life_LifeMainContainer","meta","isProduction","Helmet","content","RefreshTimer","refresher","invokeNewTimer","resultToMatch","MultiCompareInner","tabIndex","currentTab","policyTypes","handleTabClick","renderTabs","setPlanType","lowerCase","nextState","selectedIndex","initialIndex","isCameFromBackButton","currIncomingIndex","tabIndexToUse","setSelectedIndex","isInitial","oldPolicyTypes","planImages","policyTypesToUse","reduce","findIndex","theIndex","image","startCase","img","tabInfo","currentTabIndex","tab","newTab","scrollPopUpCallback","tabStyle","CompareView","notAccordion","productChangable","ChangeInitialFormData","headerValue","Enquiry","compare","defaultInsurers","selectedInsurers","currentInsurers","parsedData","parseData","trip_type","parsedParams","setSelectedInsurers","getNewData","onInsurerClick","newDefaultInsurers","plan","slice","isLoading","hoveredIndex","insurer","insurerSlug","incomingInsurers","MultiCompareView_MultiCompareInner","mainMsg","array","RedirectPopupForm","disclaimer","popupRef","openPopup","Popup","r","RedirectPopup_RedirectPopupForm","closPopup","closePopup"],"mappings":"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","file":"static/js/life.04571049.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/policypal-life-insurance-1.7ae36751.svg\";","module.exports = __webpack_public_path__ + \"static/media/policypal-life-insurance-2.96af4058.svg\";","module.exports = __webpack_public_path__ + \"static/media/policypal-life-insurance-3.14248a12.svg\";","/**\n * LifeEditDetail.js\n * Edit Detail view for Life\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { reduxForm, getFormValues, reset } from 'redux-form';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { Row, Col } from 'reactstrap';\n\nimport Avatar from 'assets/images/MainFormIcons/Avatar.svg';\nimport Dollar from 'assets/images/MainFormIcons/Dollar.svg';\nimport Umbrella from 'assets/images/MainFormIcons/Umbrella.svg';\n\nimport Button from 'components/FormsV3/Button/Button';\nimport Selection from '../Forms/Selection/Selection';\nimport DatePickerV2 from '../Forms/DatePicker/DatePickerV2';\nimport Slider from '../Forms/Slider/Slider';\nimport DropDownV2 from '../Forms/DropDown/DropDownV2';\n\nimport RestrictionsPopup from '../Templates/RestrictionsPopup/RestrictionsPopup';\nimport TabView from '../Templates/TabView/TabView';\n\nimport { invokeSubmit } from '../../actions/editFormActions';\nimport { setInsuranceFormState, FORMSTATES } from '../../actions/insuranceActions';\nimport { setRestrictionPopup } from '../../actions/restrictionsActions';\nimport { validateForm, dateReValidate } from '../../lib/validators';\nimport { slashedStringDateToDate, storeStringToDate, getAge } from '../../lib/dateFunctions';\nimport { simplifyCost, simplifyCostArray, remapFormFields } from '../../lib/helperFunctions';\nimport { gaEvent, ampTag } from '../../lib/tagFunctions';\n\nimport './Life.scss';\n\nconst formName = 'life';\n\nclass LifeEditDetail extends Component {\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const { storeForm } = nextProps;\n    if (storeForm && storeForm.birth_date !== prevState.birthDate) {\n      return { birthDate: storeForm.birth_date };\n    }\n\n    return null;\n  }\n\n  constructor(props) {\n    super(props);\n\n    const { lifeFields, storeForm } = this.props;\n\n    this.state = {\n      errorStringData: {},\n      tabs: [{\n        desc: 'Term Life',\n        onClick: () => this.setState({ isTermLife: true }),\n      },\n      {\n        desc: 'Whole Life',\n        onClick: () => this.setState({ isTermLife: false }),\n      }],\n      isTermLife: !(storeForm && storeForm.coverage_type === 'whole_life'),\n      birthDate: null,\n      data: remapFormFields(lifeFields.form_fields),\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleCloseEdit = this.handleCloseEdit.bind(this);\n    this.handleRevert = this.handleRevert.bind(this);\n    this.validateForm = this.validateForm.bind(this);\n  }\n\n  componentDidMount() {\n    const { isTermLife } = this.state;\n    const { storeForm, setCloseCallBack } = this.props;\n    this.originalValues = storeForm;\n\n    if (setCloseCallBack) {\n      setCloseCallBack(this.handleRevert);\n    }\n\n    if (!isTermLife) {\n      this.categoryTab.wrappedInstance.goToIndex(1, true);\n    }\n  }\n\n  getAge(date) {\n    let age = '';\n    if (date && date !== -1) {\n      age = getAge(date);\n    }\n\n    return age;\n  }\n\n  validateForm(e) {\n    const { data, isTermLife } = this.state;\n\n    const fieldsToCheckCommon = [\n      'gender',\n      'smoker',\n      'birth_date',\n    ];\n\n    const fieldsTermLife = [\n      'sum_insured',\n      'critical_illness',\n      'premium_term',\n    ];\n\n    const fieldsWholeLife = [\n      'sum_insured_selection',\n      'premium_whole',\n    ];\n\n    const fieldsToCheck = [...fieldsToCheckCommon, ...(isTermLife ? fieldsTermLife : fieldsWholeLife)];\n    const errorResult = validateForm(e, fieldsToCheck, {\n      smoker: { type: 'ARRAY', data: data.smoker.options },\n      birth_date: { type: 'DATE', start: slashedStringDateToDate(data.birth_date.min_date), end: slashedStringDateToDate(data.birth_date.max_date) },\n      sum_insured: { type: 'ARRAY', data: data.coverage_amount_term.options },\n      critical_illness: { type: 'ARRAY', data: data.ci_coverage.options },\n      premium_term: { type: 'ARRAY', data: data.duration_term.options },\n      sum_insured_selection: { type: 'ARRAY', data: data.coverage_amount_whole.options },\n      premium_whole: { type: 'ARRAY', data: data.duration_whole.options },\n    });\n\n    this.setState({\n      errorStringData: errorResult,\n    });\n\n    return errorResult;\n  }\n\n  handleSubmit(e, isFirstValidate = true) {\n    // e.preventDefault();\n    // console.log(e);\n\n    const { isTermLife, birthDate } = this.state;\n    const {\n      closePopUp,\n      setSubmit,\n      storeForm,\n      submitCallback,\n      setInsurFormState,\n      change,\n      history,\n    } = this.props;\n\n    const errorResult = this.validateForm(isFirstValidate ? e : storeForm);\n    const isEmptyResult = _.isEmpty(errorResult);\n\n    if (dateReValidate(\n      isEmptyResult,\n      isFirstValidate,\n      errorResult,\n      error => this.setState({ errorStringData: error }),\n      () => this.handleSubmit(storeForm, false),\n    )) {\n      return;\n    }\n\n    if (isEmptyResult) {\n      change('coverage_type', isTermLife ? 'term_life' : 'whole_life');\n\n      // Timeout to let the coverage_type change in store\n      setTimeout(() => {\n        setSubmit();\n        this.originalValues = storeForm;\n\n        if (submitCallback) {\n          submitCallback();\n        } else {\n          gaEvent('Life - Get Quote', {\n            event_category: 'Life',\n            event_label: 'Button - Life - Get Quote',\n          });\n\n          const date = storeStringToDate(birthDate);\n          const age = this.getAge(date);\n          const critical = isTermLife ? { critical: e.critical_illness } : {};\n\n          ampTag('LifeGetQuoteA', {\n            gender: e.gender,\n            smoker: e.smoker,\n            age,\n            insured: isTermLife ? e.sum_insured : e.sum_insured_selection,\n            term: isTermLife ? e.premium_term : e.premium_whole,\n            ...critical,\n            type: isTermLife ? 'term' : 'whole',\n          });\n        }\n\n        setInsurFormState(FORMSTATES.CHOOSEPLAN.index);\n        history.push(`/life${FORMSTATES.CHOOSEPLAN.path}`);\n\n        if (closePopUp) {\n          closePopUp();\n        }\n      }, 5);\n    }\n  }\n\n  handleRevert() {\n    const { change, resetForm } = this.props;\n    resetForm();\n    Object.keys(this.originalValues).forEach((key) => {\n      change(key, this.originalValues[key]);\n    });\n  }\n\n  handleCloseEdit() {\n    const { closePopUp } = this.props;\n    closePopUp(this.handleRevert);\n  }\n\n  renderBirthDate() {\n    const { errorStringData, birthDate, data } = this.state;\n    const { form, change, storeForm } = this.props;\n\n    const date = storeStringToDate(birthDate);\n    const ageStyle = date ? 'active' : 'inactive';\n    const age = this.getAge(date);\n\n    return (\n      <Col className=\"birth-date-container\" xs={12} sm={10}>\n        <p className=\"age\">\n          <span className={ageStyle}>Age</span>\n          <span className=\"age-value\">{age}</span>\n        </p>\n        <DatePickerV2\n          form={form}\n          change={change}\n          name=\"birth_date\"\n          size=\"medium\"\n          zIndex={97}\n          desc={data.birth_date.display_name}\n          errorString={errorStringData.birth_date}\n          validateForm={() => this.validateForm(storeForm)}\n          startDate={slashedStringDateToDate(data.birth_date.min_date)}\n          endDate={slashedStringDateToDate(data.birth_date.max_date)}\n          currDate={slashedStringDateToDate(data.birth_date.default_date)}\n        />\n      </Col>\n    );\n  }\n\n  renderDuration() {\n    const { isTermLife, data, errorStringData } = this.state;\n    const { form, change, storeForm } = this.props;\n    const dataToUse = isTermLife ? data.duration_term : data.duration_whole;\n    const name = isTermLife ? 'premium_term' : 'premium_whole';\n    const placeholderString = isTermLife ? 'Premium Term' : 'Payment Term';\n    const errorToUse = isTermLife ? errorStringData.premium_term : errorStringData.premium_whole;\n\n    return (\n      <Col className=\"input-padding-right\" xs={12} sm={5}>\n        <DropDownV2\n          form={form}\n          change={change}\n          name={name}\n          placeholderString={placeholderString}\n          dropList={dataToUse.options}\n          size=\"medium\"\n          zIndex={95}\n          desc={dataToUse.display_name}\n          errorString={errorToUse}\n          validateForm={() => this.validateForm(storeForm)}\n        />\n      </Col>\n    );\n  }\n\n  renderFields() {\n    const { isTermLife, errorStringData, data } = this.state;\n    const { form, change, storeForm } = this.props;\n\n    return (\n      <Row key=\"life-fields\" noGutters>\n        <Col className=\"justify-content-center icon icon-car d-none d-sm-flex\" sm={2}>\n          <img src={Avatar} alt=\"Avatar.svg\" />\n        </Col>\n        <Col className=\"input-padding-right\" xs={12} sm={5}>\n          <Selection\n            form={form}\n            change={change}\n            name=\"gender\"\n            type=\"text-selection\"\n            noEmptyTextSelection\n            options={_.map(data.gender.options, option => ({\n              key: option,\n              description: option,\n            }))}\n            sizeInSM={6}\n            desc={data.gender.display_name}\n            zIndex={99}\n            errorString={errorStringData[data.gender.name]}\n            validateForm={() => this.validateForm(storeForm)}\n          />\n        </Col>\n        <Col className=\"input-padding-left\" xs={12} sm={5}>\n          <Selection\n            form={form}\n            change={change}\n            name=\"smoker\"\n            type=\"text-selection\"\n            noEmptyTextSelection\n            options={_.map(data.smoker.options, option => ({\n              key: option,\n              description: option,\n            }))}\n            sizeInSM={6}\n            zIndex={98}\n            desc={data.smoker.display_name}\n            errorString={errorStringData[data.smoker.name]}\n            validateForm={() => this.validateForm(storeForm)}\n          />\n        </Col>\n        <Col className=\"justify-content-center icon d-none d-sm-flex\" sm={2} />\n        {this.renderBirthDate()}\n        <Col className=\"justify-content-center icon icon-car d-none d-sm-flex\" sm={2}>\n          <img style={{ marginTop: 32 }} src={Dollar} alt=\"Dollar.svg\" />\n        </Col>\n        {\n          isTermLife ?\n            <Col xs={12} sm={10}>\n              <Slider\n                form={form}\n                change={change}\n                name=\"sum_insured\"\n                desc={data.coverage_amount_term.display_name}\n                zIndex={96}\n                hideWidth={576}\n                inputList={data.coverage_amount_term.options}\n                displayList={simplifyCostArray(data.coverage_amount_term.options)}\n                errorString={errorStringData.sum_insured}\n                validateForm={() => this.validateForm(storeForm)}\n              />\n            </Col>\n          :\n            <Col className=\"whole-sum-insured\" xs={12} sm={10}>\n              <Selection\n                form={form}\n                change={change}\n                name=\"sum_insured_selection\"\n                type=\"text-selection\"\n                noEmptyTextSelection\n                options={_.map(data.coverage_amount_whole.options, option => ({\n                  key: option,\n                  description: simplifyCost(option),\n                }))}\n                sizeInSM={6}\n                zIndex={96}\n                desc={data.coverage_amount_whole.display_name}\n                errorString={errorStringData.sum_insured_selection}\n                validateForm={() => this.validateForm(storeForm)}\n              />\n            </Col>\n        }\n        <Col className=\"justify-content-center icon icon-car d-none d-sm-flex\" sm={2}>\n          <img src={Umbrella} alt=\"Umbrella.svg\" />\n        </Col>\n        {this.renderDuration()}\n        {\n          isTermLife ?\n            <Col className=\"input-padding-left\" xs={12} sm={5}>\n              <Selection\n                form={form}\n                change={change}\n                name=\"critical_illness\"\n                type=\"text-selection\"\n                noEmptyTextSelection\n                options={_.map(data.ci_coverage.options, option => ({\n                  key: option,\n                  description: option,\n                }))}\n                sizeInSM={6}\n                zIndex={94}\n                desc={data.ci_coverage.display_name}\n                errorString={errorStringData.critical_illness}\n                validateForm={() => this.validateForm(storeForm)}\n              />\n            </Col>\n          :\n           null\n        }\n      </Row>\n    );\n  }\n\n\n  render() {\n    const { tabs } = this.state;\n    const {\n      handleSubmit,\n      isPopUp,\n      form,\n    } = this.props;\n\n    return (\n      <div className=\"landing-form-container\">\n        {\n          isPopUp ?\n            <p className=\"edit-header\">Edit Life Insurance Details</p>\n          :\n            null\n        }\n        <form onSubmit={handleSubmit(this.handleSubmit)}>\n          <Row className=\"input-offset life-edit-detail tab-view-container\" noGutters>\n            <TabView\n              tabs={tabs}\n              isDataFadeOnly\n              isDisableDropdown\n              big\n              name={`${form}-tab`}\n              ref={node => this.categoryTab = node}\n            >\n              {[this.renderFields()]}\n            </TabView>\n          </Row>\n          <Row className=\"align-items-center button-container\" noGutters>\n            {\n              isPopUp ?\n                <Col className=\"justify-content-center button\" xs={12}>\n                  <Row noGutters>\n                    <Col className=\"button-container-inner\" xs={12} sm={6}>\n                      <Button\n                        className=\"button-left\"\n                        variant=\"medium-flat\"\n                        width={165}\n                        height={72}\n                        onClick={() => this.handleCloseEdit()}\n                      >\n                        <p>Cancel</p>\n                      </Button>\n                    </Col>\n                    <Col className=\"button-container-inner\" xs={12} sm={6}>\n                      <Button\n                        type=\"submit\"\n                        variant=\"medium-flat-green\"\n                        width={165}\n                        height={72}\n                      >\n                        <p>Save</p>\n                      </Button>\n                    </Col>\n                  </Row>\n                </Col>\n              :\n                <Col className=\"justify-content-center button\" xs={12}>\n                  <Button type=\"submit\" variant=\"medium-flat-green\" width={165} height={72}>\n                    <p>Get Quote</p>\n                  </Button>\n                </Col>\n            }\n          </Row>\n        </form>\n        <RestrictionsPopup ref={node => this.resPopup = node} />\n      </div>\n    );\n  }\n}\n\nLifeEditDetail.defaultProps = {\n  isPopUp: false,\n  setCloseCallBack: null,\n  storeForm: null,\n  closePopUp: null,\n  submitCallback: null,\n};\n\nLifeEditDetail.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n  form: PropTypes.string.isRequired,\n  change: PropTypes.func.isRequired,\n  isPopUp: PropTypes.bool,\n  resetForm: PropTypes.func.isRequired,\n  closePopUp: PropTypes.func,\n  setInsurFormState: PropTypes.func.isRequired,\n  setSubmit: PropTypes.func.isRequired,\n  storeForm: PropTypes.object,\n  setCloseCallBack: PropTypes.func,\n  submitCallback: PropTypes.func,\n  lifeFields: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = state => ({\n  storeForm: getFormValues(formName)(state),\n  isRevert: state.editForm.isRevert,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  resetForm: () => {\n    dispatch(reset(formName));\n  },\n  setInsurFormState: (state) => {\n    dispatch(setInsuranceFormState(state));\n  },\n  setSubmit: () => {\n    dispatch(invokeSubmit());\n  },\n  setRestrictionPopup: (data) => {\n    dispatch(setRestrictionPopup(data));\n  },\n});\n\nexport default withRouter(reduxForm({\n  form: formName,\n  destroyOnUnmount: false,\n})(connect(mapStateToProps, mapDispatchToProps)(LifeEditDetail)));\n","/**\n * LifeMain.js\n * Main Landing for Life\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport Life1 from 'assets/images/Life/policypal-life-insurance-1.svg';\nimport Life2 from 'assets/images/Life/policypal-life-insurance-2.svg';\nimport Life3 from 'assets/images/Life/policypal-life-insurance-3.svg';\n\nimport LifeEditDetail from './LifeEditDetail';\nimport FormLanding from '../Templates/FormLanding/FormLanding';\n\nclass LifeMain extends Component {\n  render() {\n    const { lifeFields, lifePromoGiveAway } = this.props;\n    return (\n      <div className=\"life-container\">\n        <FormLanding\n          img1={Life1}\n          img2={Life2}\n          img3={Life3}\n          imgAlt=\"PolicyPal Life Insurance\"\n          promo={lifePromoGiveAway}\n          desc={\n            <Fragment>\n              <p>Get your Life Quotation</p>\n              <p>in minutes!</p>\n            </Fragment>\n          }\n        >\n          <LifeEditDetail\n            lifeFields={lifeFields}\n          />\n        </FormLanding>\n      </div>\n    );\n  }\n}\n\nLifeMain.defaultProps = {\n  lifePromoGiveAway: null,\n};\n\nLifeMain.propTypes = {\n  lifeFields: PropTypes.object.isRequired,\n  lifePromoGiveAway: PropTypes.object,\n};\n\nexport default LifeMain;\n","/**\n * LifeMainContainer.js\n * Main Container for Life\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport LifeMain from '../../components/Life/LifeMain';\n\nimport { setInsuranceFormState, FORMSTATES } from '../../actions/insuranceActions';\nimport { getLifeFields, clearLifeData } from '../../actions/lifeActions';\nimport { setLoading, clearLoading } from '../../actions/loadingScreenActions';\nimport { gaTag, ampTag } from '../../lib/tagFunctions';\n\nclass LifeMainContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    const {\n      loading,\n      lifeFields,\n      history,\n      clearData,\n    } = this.props;\n\n    clearData();\n\n    if (!lifeFields) {\n      loading(() => history.push('/'));\n      this.props.getLifeFields();\n    }\n  }\n\n  componentDidMount() {\n    const { setFormState, history } = this.props;\n    setFormState(FORMSTATES.MAIN.index);\n\n    window.scrollTo(0, 0);\n\n    gaTag({\n      page_title: 'Life',\n      page_path: `/life${history.location.search}`,\n    });\n    ampTag('LifeFormS');\n  }\n\n  componentDidUpdate(prevProps) {\n    const { lifeFields, loadingEnd } = this.props;\n    if (!prevProps.lifeFields && lifeFields) {\n      loadingEnd();\n    }\n  }\n\n  render() {\n    const { lifeFields, termLifePromoGiveAway, wholeLifePromoGiveAway } = this.props;\n\n    const termLife = termLifePromoGiveAway || { main: [], sub: [] };\n    const wholeLife = wholeLifePromoGiveAway || { main: [], sub: [] };\n    if (!lifeFields) {\n      return null;\n    }\n\n    return (\n      <LifeMain\n        lifeFields={lifeFields}\n        lifePromoGiveAway={{\n          main: [...termLife.main, ...wholeLife.main],\n          sub: [...wholeLife.sub, ...wholeLife.sub],\n        }}\n      />\n    );\n  }\n}\n\nLifeMainContainer.defaultProps = {\n  lifeFields: null,\n  termLifePromoGiveAway: null,\n  wholeLifePromoGiveAway: null,\n};\n\nLifeMainContainer.propTypes = {\n  lifeFields: PropTypes.object,\n  getLifeFields: PropTypes.func.isRequired,\n  loading: PropTypes.func.isRequired,\n  loadingEnd: PropTypes.func.isRequired,\n  history: PropTypes.object.isRequired,\n  termLifePromoGiveAway: PropTypes.object,\n  wholeLifePromoGiveAway: PropTypes.object,\n  clearData: PropTypes.func.isRequired,\n  setFormState: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = state => ({\n  lifeFields: state.life.lifeFields,\n  termLifePromoGiveAway: state.insurance.promoGiveaways.termLife,\n  wholeLifePromoGiveAway: state.insurance.promoGiveaways.wholeLife,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  getLifeFields: () => {\n    dispatch(getLifeFields());\n  },\n  loading: (callBack, errorMsg, time) => {\n    dispatch(setLoading(callBack, errorMsg, time));\n  },\n  loadingEnd: () => {\n    dispatch(clearLoading());\n  },\n  clearData: () => {\n    dispatch(clearLifeData());\n  },\n  setFormState: (state) => {\n    dispatch(setInsuranceFormState(state));\n  },\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(LifeMainContainer));\n","/**\n * LifeChoosePlan.js\n * Choose Plan View for Life\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\n// Import Insurer Logos\nimport MultiCompareView from '../Templates/MultiCompareView/MultiCompareView';\n\nimport LifeEditDetail from './LifeEditDetail';\n\nimport { ampTag } from '../../lib/tagFunctions';\n\nclass LifeChoosePlan extends Component {\n  getAmpTags(selectedPlanData, planType) {\n    try {\n      let discount = null;\n      _.map(selectedPlanData.info.discount, (data) => {\n        discount = data.display;\n      });\n      if (_.isEmpty(discount)) {\n        discount = '0%';\n      }\n\n      return ({\n        partner: selectedPlanData.info.insurer_slug,\n        price: selectedPlanData.policyInfo[planType].net_price,\n        discount,\n      });\n    } catch (error) {\n      console.log(`Life choose plan Buy now Amp tag failed: ${error.message}`);\n    }\n\n    return {};\n  }\n\n  render() {\n    const { lifeFields } = this.props;\n\n    return (\n      <MultiCompareView\n        {...this.props}\n        category=\"life\"\n        form=\"life\"\n        editForm={{\n          valuesToListen: [\n            { value: 'gender', desc: 'Gender' },\n            { value: 'smoker', desc: 'S.Status' },\n            { value: 'birth_date', desc: 'Age' },\n            { value: 'sum_insured', desc: 'Sum', extra: 'cost_simplify' },\n            { value: 'sum_insured_selection', desc: 'Sum', extra: 'cost_simplify' },\n            { value: 'premium_term', desc: 'Term' },\n            { value: 'premium_whole', desc: 'Term' },\n            { value: 'critical_illness', desc: 'CI Coverage' },\n          ],\n          conditions: {\n            key: 'coverage_type',\n            values: {\n              term_life: ['gender', 'smoker', 'birth_date', 'sum_insured', 'premium_term', 'critical_illness'],\n              whole_life: ['gender', 'smoker', 'birth_date', 'sum_insured_selection', 'premium_whole'],\n            },\n          },\n          editDetail: <LifeEditDetail lifeFields={lifeFields} isPopUp />,\n        }}\n        buttonDesc=\"Select\"\n        forceFixedOnDesktop\n        trackingTags={{\n          default: (selectedPlanData) => {\n            ampTag('LifeSelectA', this.getAmpTags(selectedPlanData, 'default'));\n          },\n        }}\n      />\n    );\n  }\n}\n\nLifeChoosePlan.defaultProps = {\n};\n\nLifeChoosePlan.propTypes = {\n  lifeFields: PropTypes.object.isRequired,\n};\n\nexport default LifeChoosePlan;\n","/**\n * LifeChoosePlanContainer.js\n * Choose plan container for life.\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { getFormValues } from 'redux-form';\nimport PropTypes from 'prop-types';\n\nimport { setInsuranceFormState, FORMSTATES } from '../../actions/insuranceActions';\nimport { parseLifeForm, getLifePlans, getValidInsurersList, clearLifeData, setSelectedPlanData } from '../../actions/lifeActions';\n\nimport LifeChoosePlan from '../../components/Life/LifeChoosePlan';\nimport { gaTag, ampTag } from '../../lib/tagFunctions';\n\nclass LifeChoosePlanContainer extends Component {\n  componentDidMount() {\n    const { setFormState } = this.props;\n    setFormState(FORMSTATES.CHOOSEPLAN.index);\n\n    gaTag({\n      page_title: 'Life - Choose Plan',\n      page_path: '/life/chooseplan',\n    });\n    ampTag('LifeResultsS');\n  }\n\n  render() {\n    const {\n      lifeForm,\n      getPlans,\n      getInsurersList,\n      clearData,\n      setFormState,\n      plansData,\n      validInsurersList,\n      lifeFields,\n      history,\n    } = this.props;\n\n    return (\n      <LifeChoosePlan\n        mainForm={lifeForm}\n        parseForm={parseLifeForm}\n        getPlans={getPlans}\n        getInsurersList={getInsurersList}\n        clearData={clearData}\n        setSelectedPlanData={this.props.setSelectedPlanData}\n        setFormState={() => {\n          setFormState(FORMSTATES.DETAILFORM.index);\n          history.push(`/life${FORMSTATES.DETAILFORM.path}`);\n        }}\n        loadingFailBackState={() => {\n          history.goBack();\n        }}\n        plansData={plansData}\n        validInsurersList={validInsurersList}\n        lifeFields={lifeFields}\n      />\n    );\n  }\n}\n\nLifeChoosePlanContainer.defaultProps = {\n  plansData: null,\n  validInsurersList: null,\n};\n\nLifeChoosePlanContainer.propTypes = {\n  lifeForm: PropTypes.object.isRequired,\n  getPlans: PropTypes.func.isRequired,\n  getInsurersList: PropTypes.func.isRequired,\n  clearData: PropTypes.func.isRequired,\n  setSelectedPlanData: PropTypes.func.isRequired,\n  setFormState: PropTypes.func.isRequired,\n  plansData: PropTypes.array,\n  validInsurersList: PropTypes.array,\n  lifeFields: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = state => ({\n  lifeForm: getFormValues('life')(state),\n  plansData: state.life.plansData,\n  validInsurersList: state.life.validInsurersList,\n  lifeFields: state.life.lifeFields,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setFormState: (state) => {\n    dispatch(setInsuranceFormState(state));\n  },\n  getPlans: (parsedForm) => {\n    dispatch(getLifePlans(parsedForm));\n  },\n  getInsurersList: (parsedForm) => {\n    dispatch(getValidInsurersList(parsedForm));\n  },\n  clearData: () => {\n    dispatch(clearLifeData());\n  },\n  setSelectedPlanData: (data) => {\n    dispatch(setSelectedPlanData(data));\n  },\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(LifeChoosePlanContainer));\n","/**\n * LifeDetail.js\n * Detail view for Life\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { reduxForm, getFormValues } from 'redux-form';\nimport { Row, Col } from 'reactstrap';\nimport PropTypes from 'prop-types';\n\n// Import Insurer Logos\nimport DetailForm from '../Templates/DetailForm/DetailForm';\n\nimport TextInput from '../Forms/TextInput/TextInput';\nimport DatePickerV2 from '../Forms/DatePicker/DatePickerV2';\nimport CheckoutComplete from '../Templates/CheckoutPopup/CheckoutComplete';\nimport PopupWithText from '../Templates/PopupWithText/PopupWithText';\n\nimport { getSynergyJSX } from '../../actions/insuranceActions';\nimport { validateForm, dateReValidate } from '../../lib/validators';\nimport { clearLoading } from '../../actions/loadingScreenActions';\nimport { gaEvent, ampTag } from '../../lib/tagFunctions';\n\n// import './PetDetail.scss';\n\nconst formName = 'life-detail';\n\nclass LifeDetail extends Component {\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      sessionId,\n    } = nextProps;\n\n    if (sessionId !== prevState.sessionId) {\n      return ({\n        sessionId,\n      });\n    }\n\n    return null;\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      sessionId: null,\n      errorStringData: {},\n      errorArray: [],\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.validateForm = this.validateForm.bind(this);\n  }\n\n  componentDidUpdate() {\n    const { sessionId } = this.state;\n    const { loadingEnd } = this.props;\n\n    if (sessionId) {\n      loadingEnd();\n      setTimeout(() => {\n        this.checkoutComplete.openCheckoutComplete();\n        ampTag('LifeConfirmationS');\n      }, 300);\n    }\n  }\n\n  validateForm(e) {\n    const fieldsToCheck = [\n      'email',\n      'name',\n      'birth_date',\n      'mobile_number',\n    ];\n\n    const error = validateForm(e, fieldsToCheck);\n\n    this.setState({\n      errorStringData: error,\n    });\n    let errorArray = [];\n    if (!_.isEmpty(error)) {\n      errorArray = [<p className=\"error-string\" key=\"error-1\">Fields are not properly filled, please check again.</p>];\n    }\n\n    this.setState({\n      errorArray,\n    });\n\n    return error;\n  }\n\n  checkout(e) {\n    const { checkOutOthers } = this.props;\n\n    gaEvent('Life - DetailForm - Checkout', {\n      event_category: 'Life',\n      event_label: 'Life - DetailForm - Checkout',\n    });\n\n    checkOutOthers(e);\n  }\n\n  handleSubmit(e, isFirstValidate = true) {\n    const { storeForm, noSynergy } = this.props;\n    const errorResult = this.validateForm(isFirstValidate ? e : storeForm);\n    const isEmptyResult = _.isEmpty(errorResult);\n\n    if (dateReValidate(\n      isEmptyResult,\n      isFirstValidate,\n      errorResult,\n      error => this.setState({ errorStringData: error, errorArray: null }),\n      () => this.handleSubmit(storeForm, false),\n    )) {\n      return;\n    }\n\n    if (isEmptyResult) {\n      if (noSynergy) {\n        this.checkout(e);\n      } else {\n        ampTag('LifeConfirm1A');\n        ampTag('LifeNoticeS');\n        this.popup.openPopupWithJSX(getSynergyJSX(), true, () => {\n          ampTag('LifeConfirm2A');\n          setTimeout(() => {\n            this.checkout(e);\n          }, 350);\n        });\n      }\n    }\n    window.scrollTo(0, document.body.scrollHeight);\n  }\n\n  render() {\n    const { errorStringData, errorArray } = this.state;\n    const {\n      form,\n      change,\n      planDetails,\n      isLoggedIn,\n      piggyCallback,\n      changePlan,\n      storeForm,\n    } = this.props;\n\n    // console.log(petMinDate, petMaxDate);\n    return (\n      <Fragment>\n        <DetailForm\n          category=\"life\"\n          changePlan={changePlan}\n          handleSubmit={this.props.handleSubmit}\n          onSubmit={this.handleSubmit}\n          change={change}\n          form={form}\n          planDetails={planDetails}\n          isLoggedIn={isLoggedIn}\n          piggyCallback={piggyCallback}\n          errorArray={errorArray}\n          checkoutButtonDesc=\"Confirm\"\n        >\n          <Row className=\"main-form\" noGutters>\n            <Col xs={12}>\n              <TextInput\n                form={form}\n                change={change}\n                name=\"email\"\n                placeholderString=\"\"\n                size=\"medium\"\n                zIndex={99}\n                desc=\"Email Address\"\n                errorString={errorStringData.email}\n                validateForm={() => this.validateForm(storeForm)}\n              />\n            </Col>\n            <Col className=\"right-padding\" xs={12} sm={6}>\n              <TextInput\n                form={form}\n                change={change}\n                name=\"name\"\n                placeholderString=\"\"\n                size=\"medium\"\n                zIndex={98}\n                desc=\"Full Name\"\n                errorString={errorStringData.name}\n                validateForm={() => this.validateForm(storeForm)}\n              />\n            </Col>\n            <Col className=\"left-padding\" xs={12} sm={6}>\n              <DatePickerV2\n                form={form}\n                change={change}\n                name=\"birth_date\"\n                size=\"medium\"\n                zIndex={97}\n                desc=\"Date of Birth\"\n                errorString={errorStringData.birth_date}\n                validateForm={() => this.validateForm(storeForm)}\n                endDate={new Date()}\n              />\n            </Col>\n            <Col className=\"right-padding\" xs={12} sm={6}>\n              <TextInput\n                form={form}\n                change={change}\n                name=\"mobile_number\"\n                placeholderString=\"\"\n                size=\"medium\"\n                zIndex={96}\n                desc=\"Mobile Number\"\n                errorString={errorStringData.mobile_number}\n                validateForm={() => this.validateForm(storeForm)}\n              />\n            </Col>\n          </Row>\n        </DetailForm>\n        <PopupWithText\n          ref={node => this.popup = node}\n          showCancelButton\n        />\n        <CheckoutComplete\n          isQuoteOnly\n          isSellLeads\n          wrappedComponentRef={node => this.checkoutComplete = node}\n        />\n      </Fragment>\n    );\n  }\n}\n\nLifeDetail.defaultProps = {\n  storeForm: null,\n  noSynergy: false,\n};\n\nLifeDetail.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n  checkOutOthers: PropTypes.func.isRequired,\n  form: PropTypes.string.isRequired,\n  change: PropTypes.func.isRequired,\n  planDetails: PropTypes.object.isRequired,\n  isLoggedIn: PropTypes.bool.isRequired,\n  piggyCallback: PropTypes.func.isRequired,\n  changePlan: PropTypes.func.isRequired,\n  storeForm: PropTypes.object,\n  loadingEnd: PropTypes.func.isRequired,\n  noSynergy: PropTypes.bool,\n};\n\nconst mapStateToProps = state => ({\n  storeForm: getFormValues(formName)(state),\n  constants: state.insurance.constants,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  loadingEnd: () => {\n    dispatch(clearLoading());\n  },\n});\n\nexport default reduxForm({\n  form: formName,\n  destroyOnUnmount: false,\n})(connect(mapStateToProps, mapDispatchToProps)(LifeDetail));\n","/**\n * LifeDetailContainer.js\n * Detail Container for Life\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport React, { Component, Fragment } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { getFormValues } from 'redux-form';\nimport PropTypes from 'prop-types';\n\n// Import Insurer Logos\nimport Logos from 'assets/images/InsurerLogos';\n\nimport LifeDetail from '../../components/Life/LifeDetail';\nimport RedirectPopup from '../../components/Templates/RedirectPopup/RedirectPopup';\n\nimport { setLoading } from '../../actions/loadingScreenActions';\nimport { getAnonymousSession, setInsuranceFormState, FORMSTATES } from '../../actions/insuranceActions';\nimport { getSessionParams, postToRedirect } from '../../actions/lifeActions';\nimport { gaTag, gaEvent, ampTag } from '../../lib/tagFunctions';\n\nclass LifeDetailContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.submitCallback = this.submitCallback.bind(this);\n    this.lifeRedirect = this.lifeRedirect.bind(this);\n  }\n\n  componentDidMount() {\n    const { setFormState } = this.props;\n    setFormState(FORMSTATES.DETAILFORM.index);\n\n    gaTag({\n      page_title: 'Life - Detail Form',\n      page_path: '/life/detailform',\n    });\n    ampTag('LifeDetailsS');\n  }\n\n  submitCallback(e) {\n    const { selectedPlanData, checkOutOthers, loading } = this.props;\n    // console.log(selectedPlanData);\n    if (selectedPlanData.info.deep_link.integration_type === 'webview') {\n      this.RedirectPop.openRedirectPopup();\n      ampTag('LifeRedirectS');\n      return;\n    }\n\n    loading();\n    checkOutOthers(e);\n  }\n\n  async lifeRedirect() {\n    const {\n      lifeForm,\n      lifeDetailForm,\n      selectedPlanData,\n      loading,\n    } = this.props;\n\n    loading();\n\n    const result = await postToRedirect(lifeForm, lifeDetailForm, selectedPlanData);\n    if (selectedPlanData.info.insurer_slug === 'singlife') {\n      while (this.redirectButton.firstChild) {\n        this.redirectButton.removeChild(this.redirectButton.firstChild);\n      }\n      const range = document.createRange();\n      this.redirectButton.appendChild(range.createContextualFragment(result.form_html));\n\n      setTimeout(() => window.$(`#${result.form_id}`).get(0).submit(), 300);\n      ampTag('LifeConfirmA');\n    }\n  }\n\n  render() {\n    const {\n      plansData,\n      isLoggedIn,\n      profileValues,\n      piggyCallback,\n      lifeFields,\n      sessionId,\n      selectedPlanData,\n      history,\n    } = this.props;\n\n    if (!plansData) {\n      return null;\n    }\n\n    const selectedData = plansData;\n    const noSynergy = selectedPlanData.info.insurer_slug === 'singlife';\n\n    let planDetails = {\n      logo: Logos.others,\n      logoDesc: '',\n      planName: '',\n      planTotal: null,\n    };\n\n    try {\n      planDetails = {\n        logo: Logos[selectedData.info.insurer_slug],\n        logoDesc: `${selectedData.info.insurer_name}.svg`,\n        planName: selectedData.info.product_name,\n        planTotal: `$${selectedData.policyInfo[selectedData.planType].net_price.toFixed(2)}`,\n      };\n    } catch (error) {\n      console.log('Get plan details failed');\n    }\n\n    return (\n      <Fragment>\n        <LifeDetail\n          lifeFields={lifeFields}\n          selectedData={selectedData}\n          planDetails={planDetails}\n          isLoggedIn={isLoggedIn}\n          sessionId={sessionId}\n          piggyCallback={piggyCallback}\n          checkOutOthers={this.submitCallback}\n          changePlan={() => {\n            history.goBack();\n            gaEvent('Life - DetailForm - ChangePlan', {\n              event_category: 'Life',\n              event_label: 'Life - DetailForm - ChangePlan',\n            });\n          }}\n          profileValues={profileValues}\n          // submitCallback={() => { setFormState(FORMSTATES.CHECKOUT); }}\n          noSynergy={noSynergy}\n        />\n        <RedirectPopup\n          ref={node => this.RedirectPop = node}\n          noEmail\n          onConfirm={() => {\n            this.lifeRedirect();\n          }}\n        />\n        <div className=\"redirect-button\" ref={node => this.redirectButton = node} />\n      </Fragment>\n    );\n  }\n}\n\nLifeDetailContainer.defaultProps = {\n  sessionId: null,\n  plansData: null,\n  lifeDetailForm: null,\n};\n\nLifeDetailContainer.propTypes = {\n  plansData: PropTypes.object,\n  piggyCallback: PropTypes.func.isRequired,\n  isLoggedIn: PropTypes.bool.isRequired,\n  setFormState: PropTypes.func.isRequired,\n  profileValues: PropTypes.object.isRequired,\n  lifeFields: PropTypes.object.isRequired,\n  sessionId: PropTypes.string,\n  checkOutOthers: PropTypes.func.isRequired,\n  selectedPlanData: PropTypes.object.isRequired,\n  loading: PropTypes.func.isRequired,\n  lifeForm: PropTypes.object.isRequired,\n  lifeDetailForm: PropTypes.object,\n  history: PropTypes.object.isRequired,\n};\n\n\nconst mapStateToProps = state => ({\n  lifeForm: getFormValues('life')(state),\n  lifeDetailForm: getFormValues('life-detail')(state),\n  lifeFields: state.life.lifeFields,\n  profileValues: state.userDetails,\n  plansData: state.life.selectedPlanData,\n  sessionId: state.insurance.sessionId,\n  selectedPlanData: state.life.selectedPlanData,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  getAnonymousSession: (params) => {\n    dispatch(getAnonymousSession(params, true));\n  },\n  setFormState: (state) => {\n    dispatch(setInsuranceFormState(state));\n  },\n  loading: (callBack, errorMsg, time) => {\n    dispatch(setLoading(callBack, errorMsg, time));\n  },\n});\n\nconst mergeProps = (propsFromState, propsFromDispatch, ownProps) => ({\n  ...ownProps,\n  ...propsFromState,\n  ...propsFromDispatch,\n  checkOutOthers: (detailForm) => {\n    propsFromDispatch.getAnonymousSession(getSessionParams(\n      propsFromState.lifeForm,\n      detailForm,\n      propsFromState.plansData,\n    ), true);\n  },\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps, mergeProps)(LifeDetailContainer));\n","/**\n * LifeRouteContainer.js\n * The wrapper container for life\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { connect } from 'react-redux';\nimport { /* Prompt, */ withRouter } from 'react-router-dom';\nimport { change, reset } from 'redux-form';\nimport PropTypes from 'prop-types';\n\nimport { resetCompare } from '../../actions/compareActions';\nimport { getPromoGiveaways, resetInsuranceForm, FORMSTATES } from '../../actions/insuranceActions';\nimport { clearLifeData } from '../../actions/lifeActions';\nimport { isProduction } from '../../lib/tagFunctions';\n\nimport StepProgressBar from '../../components/Templates/StepProgressBar/StepProgressBar';\nimport RefreshTimer from '../../components/Templates/RefreshTimer/RefreshTimer';\n\nimport LifeMainContainer from './LifeMainContainer';\nimport LifeChoosePlanContainer from './LifeChoosePlanContainer';\nimport LifeDetailContainer from './LifeDetailContainer';\n\nimport { routeHandler } from '../../lib/helperFunctions';\n\nconst formName = 'life';\nconst detailFormName = 'life-detail';\n\nclass LifeRouteContainer extends Component {\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const { formIndex, isMounted } = prevState;\n    const { formState, match, history } = nextProps;\n\n    if (isMounted) {\n      const routeResult = routeHandler(formName, formState, formIndex, match, history);\n      if (routeResult && routeResult.formIndex !== null) {\n        return ({\n          formIndex: routeResult.formIndex,\n        });\n      }\n    }\n    return null;\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      formIndex: 0,\n      isInitialLoad: true,\n    };\n\n    const {\n      resetStoreForm,\n      termLifePromoGiveAway,\n      wholeLifePromoGiveAway,\n      clearData,\n      history,\n    } = this.props;\n\n    history.replace(`/life${history.location.search}`);\n\n    clearData();\n    this.props.resetCompare();\n    this.props.resetInsuranceForm();\n\n    resetStoreForm('life');\n    resetStoreForm('life-detail');\n\n    if (termLifePromoGiveAway === undefined || wholeLifePromoGiveAway === undefined) {\n      this.props.getPromoGiveaways();\n    }\n\n    this.setInitialFormState = this.setInitialFormState.bind(this);\n    this.renderStepProgress = this.renderStepProgress.bind(this);\n    this.renderLifeForms = this.renderLifeForms.bind(this);\n    this.changeUserDetails = this.changeUserDetails.bind(this);\n  }\n\n  componentDidMount() {\n    // window.addEventListener('beforeunload', this.handleLeavePage);\n    this.setInitialFormState();\n    this.setState({\n      // eslint-disable-next-line\n      isMounted: true,\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    const { isInitialLoad } = this.state;\n    const { userDetails } = this.props;\n\n    if (isInitialLoad && _.isEqual(userDetails, prevProps.userDetails)) {\n      this.changeUserDetails();\n    }\n  }\n\n  componentWillUnmount() {\n    const { clearData, resetStoreForm } = this.props;\n    clearData();\n    this.props.resetCompare();\n    this.props.resetInsuranceForm();\n\n    resetStoreForm('life');\n    resetStoreForm('life-detail');\n  }\n\n  setInitialFormState() {\n    const { changeForm } = this.props;\n\n    changeForm(formName, 'birth_date', '01 Jan 1990');\n    changeForm(formName, 'sum_insured', '500000');\n    changeForm(formName, 'premium_term', '5 years');\n    changeForm(formName, 'premium_whole', '20 years');\n\n    this.changeUserDetails();\n  }\n\n  changeUserDetails() {\n    const { isInitialLoad } = this.state;\n    const { userDetails, changeForm } = this.props;\n\n    if (userDetails) {\n      const surname = userDetails && userDetails.surname ? userDetails.surname : '';\n      const firstname = userDetails && userDetails.firstName ? ` ${userDetails.firstName}` : '';\n\n      changeForm(detailFormName, 'email', userDetails.email);\n      changeForm(detailFormName, 'name', `${surname}${firstname}`);\n      changeForm(detailFormName, 'birth_date', userDetails.dateOfBirth);\n      changeForm(detailFormName, 'mobile_number', userDetails.contact);\n\n      if (isInitialLoad) {\n        this.setState({\n          isInitialLoad: false,\n        });\n      }\n    }\n  }\n\n  renderStepProgress() {\n    const { formIndex } = this.state;\n    return (\n      <StepProgressBar\n        maxWidth=\"556px\"\n        formState={formIndex}\n        inputList={[\n          'Choose Plan',\n          'Details',\n        ]}\n        form=\"life\"\n        stateList={[\n          FORMSTATES.CHOOSEPLAN,\n          FORMSTATES.DETAILFORM,\n        ]}\n        stateDescriptions={[\n          { main: '' /* 'Choose your Plan', sub: 'Compare price plans from multiple companies' */ },\n          { main: 'Fill in your details - Get $5 Credits' },\n        ]}\n        charged={false}\n      />\n    );\n  }\n\n  renderLifeForms() {\n    const { formIndex } = this.state;\n\n    const {\n      userDetails,\n    } = this.props;\n\n    const isLoggedIn = !_.isEmpty(userDetails);\n\n\n    switch (formIndex) {\n      case FORMSTATES.CHOOSEPLAN.index:\n        return <LifeChoosePlanContainer isLoggedIn={isLoggedIn} />;\n      case FORMSTATES.DETAILFORM.index:\n        return (\n          <LifeDetailContainer\n            isLoggedIn={isLoggedIn}\n            piggyCallback={this.changeUserDetails}\n          />\n        );\n      default:\n        return <LifeMainContainer isLoggedIn={isLoggedIn} />;\n    }\n  }\n\n  render() {\n    const {\n      termLifePromoGiveAway,\n      wholeLifePromoGiveAway,\n      constants,\n    } = this.props;\n\n    if (!constants || termLifePromoGiveAway === undefined || wholeLifePromoGiveAway === undefined) {\n      return null;\n    }\n\n    const meta = isProduction ? 'PolicyPal, insurance, insurance broker, life insurance, term insurance, critical illness insurance, compare insurance, term life, insurance policy, insurance quotes, term insurance plans, term policy, life insurance quotes, types of life insurance, best life insurance, term life insurance, life quotes, life insurance quotes, term insurance comparison, life insurance singapore, whole life insurance, whole life, term vs life insurance, what is life insurance, term life vs whole life, term insurance comparison' : '';\n    return (\n      <Fragment>\n        <Helmet>\n          <meta name=\"keywords\" content={meta} />\n          <title>PolicyPal 2.0 - Life Insurance</title>\n          <meta name=\"title\" content=\"PolicyPal 2.0 - Life Insurance\" />\n          <meta name=\"description\" content=\"Browse products for life insurance.\" />\n        </Helmet>\n        {/* {\n          formState !== FORMSTATES.MAIN ?\n            <Prompt\n              when={true}\n              message=\"Are you sure you want to leave current page?\"\n            />\n          :\n            null\n        } */}\n        {this.renderStepProgress()}\n        {this.renderLifeForms()}\n        <RefreshTimer ref={(node) => {\n            if (!this.refresher) {\n              node.invokeNewTimer();\n            }\n            this.refresher = node;\n          }}\n        />\n      </Fragment>\n    );\n  }\n}\n\nLifeRouteContainer.defaultProps = {\n  userDetails: null,\n  termLifePromoGiveAway: undefined,\n  wholeLifePromoGiveAway: undefined,\n  constants: null,\n};\n\nLifeRouteContainer.propTypes = {\n  clearData: PropTypes.func.isRequired,\n  resetCompare: PropTypes.func.isRequired,\n  getPromoGiveaways: PropTypes.func.isRequired,\n  resetInsuranceForm: PropTypes.func.isRequired,\n  changeForm: PropTypes.func.isRequired,\n  resetStoreForm: PropTypes.func.isRequired,\n  userDetails: PropTypes.object,\n  termLifePromoGiveAway: PropTypes.object,\n  wholeLifePromoGiveAway: PropTypes.object,\n  constants: PropTypes.object,\n  history: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = state => ({\n  termLifePromoGiveAway: state.insurance.promoGiveaways.termLife,\n  wholeLifePromoGiveAway: state.insurance.promoGiveaways.wholeLife,\n  formState: state.insurance.formState,\n  constants: state.insurance.constants,\n  userDetails: state.userDetails.data,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  changeForm: (form, key, value) => (\n    dispatch(change(form, key, value))\n  ),\n  resetInsuranceForm: () => (\n    dispatch(resetInsuranceForm())\n  ),\n  resetStoreForm: form => (\n    dispatch(reset(form))\n  ),\n  getPromoGiveaways: () => {\n    dispatch(getPromoGiveaways('termLife'));\n    dispatch(getPromoGiveaways('wholeLife'));\n  },\n  resetCompare: () => {\n    dispatch(resetCompare());\n  },\n  clearData: () => {\n    dispatch(clearLifeData());\n  },\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(LifeRouteContainer));\n","module.exports = __webpack_public_path__ + \"static/media/Avatar.b01356d4.svg\";","/**\n * MultiCompareInner.js\n * Multi Compare view with different insurers\n * Contains the main policy type tab view logic\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Row } from 'reactstrap';\n\nimport TabView from '../../Templates/TabView/TabView';\nimport CompareView from '../../Templates/CompareView/CompareView';\nimport ChangeInitialFormData from '../../Templates/ChangeInitialFormData/ChangeInitialFormData';\n\nimport Enquiry from '../../Templates/Enquiry/Enquiry';\n\nimport { setPlanType, setSelectedIndex } from '../../../actions/compareActions';\n\n// The default tabs array\nconst resultToMatch = ['basic', 'essential', 'elite', 'default'];\n\nclass MultiCompareInner extends Component {\n  /**\n   * Lifecycle Method - getDerivedStateFromProps\n   */\n  static getDerivedStateFromProps(nextProps, prevState) {\n    // Goes here first before did mount\n    // Get new policy available policy types\n    if (nextProps.data.policyTypes !== prevState.policyTypes) {\n      return ({\n        policyTypes: nextProps.data.policyTypes,\n      });\n    }\n\n    return null;\n  }\n\n  /**\n   * Lifecycle Method - constructor\n   */\n  constructor(props) {\n    super(props);\n\n    const { data } = this.props;\n    // tabIndex - The current tab index in effect\n    // currentTab - The name of the current tab\n    // tabs - The tabs array data\n    // policyTypes - The possible policy types to display\n    this.state = {\n      tabIndex: 0,\n      currentTab: null,\n      tabs: null,\n      policyTypes: data.policyTypes,\n    };\n\n    this.handleTabClick = this.handleTabClick.bind(this);\n    this.renderTabs = this.renderTabs.bind(this);\n  }\n\n  /**\n   * Lifecycle Method - componentDidMount\n   */\n  componentDidMount() {\n    // Render inital tabs\n    const tabs = this.renderTabs(null, true);\n    // Set initial plan type\n    this.props.setPlanType(_.lowerCase(tabs.currentTab));\n  }\n\n  /**\n   * Lifecycle Method - shouldComponentUpdate\n   */\n  shouldComponentUpdate(nextProps, nextState) {\n    const { policyTypes, tabs, currentTab } = this.state;\n    const { data } = this.props;\n\n    // Render new tabs if policy types are changed\n    if (!_.isEqual(policyTypes, nextState.policyTypes)) {\n      this.renderTabs(nextState.policyTypes);\n    }\n\n    // Update only when tabs or data are updated\n    return tabs !== nextState.tabs ||\n          currentTab !== nextState.currentTab ||\n          data !== nextProps.data;\n  }\n\n  /**\n   * Lifecycle Method - componentDidUpdate\n   */\n  componentDidUpdate(prevProps, prevState) {\n    const { tabs, tabIndex } = this.state;\n    const { selectedIndex, initialIndex } = this.props;\n\n    // If new tabs\n    if (tabs !== prevState.tabs) {\n      if (this.categoryTab && this.categoryTab.wrappedInstance) {\n        // If using back previous selected index and not the same state as local index\n        const isCameFromBackButton = selectedIndex && selectedIndex !== tabIndex;\n        // If this is the first time user enter compare view\n        const isFirstTime = selectedIndex === null && initialIndex;\n\n        if (isCameFromBackButton || isFirstTime) {\n          const currIncomingIndex = isCameFromBackButton ? selectedIndex : initialIndex;\n          // Check if previous selected index is still within range\n          const tabIndexToUse = currIncomingIndex < tabs.length ? currIncomingIndex : 0;\n          // Go to the tab and set new state;\n          this.categoryTab.wrappedInstance.goToIndex(tabIndexToUse, true);\n          this.setState({ tabIndex: tabIndexToUse });\n\n          // Set index to store\n          this.props.setSelectedIndex(tabIndexToUse);\n          return;\n        }\n\n        // This happens when tabs are not the same when changing form within\n        // compare view. It will try to go to the last selected plan type\n        this.categoryTab.wrappedInstance.goToIndex(tabIndex);\n      }\n    }\n  }\n\n  /**\n   * When clicked on main tabs\n   *\n   * @param {string} type - Selected plan type\n   * @param {number} index - Tab index\n   */\n  handleTabClick(type, index) {\n    // Set current plan type\n    this.setState({\n      currentTab: type,\n    });\n\n    this.props.setPlanType(type);\n    this.props.setSelectedIndex(index);\n  }\n\n  /**\n   * Render Main tabs\n   *\n   * @param {array} policyTypes - The avaliable policy types\n   * @param {bool} isInitial - If is initial first time load\n   */\n  renderTabs(policyTypes = null, isInitial = false) {\n    const { policyTypes: oldPolicyTypes, currentTab } = this.state;\n    const { planImages } = this.props;\n\n    // Use new policy types if avaliable\n    const policyTypesToUse = policyTypes || oldPolicyTypes;\n\n    // The tab index\n    let index = 0;\n\n    // Match possible policy types to default types,\n    // with positioning in consideration\n    const tabs = _.reduce(resultToMatch, (result, type) => {\n      if (_.findIndex(policyTypesToUse, planType => planType === type) !== -1) {\n        const theIndex = index;\n        const image = planImages ? planImages[type] : null;\n        // Set desc, image, and onClick for the tab\n        result.push({\n          desc: _.startCase(type),\n          img: image,\n          onClick: () => {\n            this.handleTabClick(type, theIndex);\n          },\n        });\n        index += 1;\n      }\n      return result;\n    }, []);\n\n    // Default currenTab name is from first item\n    let tabInfo = { currentTab: _.lowerCase(tabs[0].desc) };\n\n    // If tabs is changed while navigating in compare view\n    if (!isInitial) {\n      // Try to find if the old tab name still exists in new one\n      const currentTabIndex = _.findIndex(tabs, tab => _.lowerCase(tab.desc) === currentTab);\n      // Use 0 if no longer exists\n      const tabIndexToUse = currentTabIndex !== -1 ? currentTabIndex : 0;\n      // New tab\n      const newTab = _.lowerCase(tabs[tabIndexToUse].desc);\n      // Set new tab info\n      tabInfo = {\n        tabIndex: tabIndexToUse,\n        currentTab: newTab,\n      };\n\n      // Set store data\n      this.props.setPlanType(newTab);\n      this.props.setSelectedIndex(tabIndexToUse);\n    }\n\n    // Return tabs\n    const result = {\n      ...tabInfo,\n      tabs,\n    };\n\n    this.setState(result);\n\n    return result;\n  }\n\n  /**\n   * Render\n   */\n  render() {\n    const {\n      currentTab,\n      tabs,\n    } = this.state;\n\n    const {\n      data,\n      scrollPopUpCallback,\n      submitCallback,\n      editForm,\n      form,\n      buttonDesc,\n      forceFixedOnDesktop,\n      category,\n    } = this.props;\n\n    // console.log(plansData);\n    if (!data || !tabs || !currentTab) {\n      return null;\n    }\n\n    const tabStyle = currentTab === 'default' ? 'inner-form-no-tabs' : '';\n\n    return (\n      <Fragment>\n        <Row className={`inner-form-container ${tabStyle} inner-form-extra-padding`} noGutters>\n          <TabView\n            tabs={tabs}\n            isDataFadeOnly\n            isDisableDropdown\n            big\n            name={`${form}-tab`}\n            ref={node => this.categoryTab = node}\n          >\n            {[<CompareView\n              category={category}\n              key=\"overview\"\n              className=\"overview-container-padding\"\n              notAccordion\n              data={data}\n              currentTab={currentTab}\n              scrollPopUpCallback={scrollPopUpCallback}\n              productChangable\n              editForm={\n                <ChangeInitialFormData\n                  submitCallback={submitCallback}\n                  form={form}\n                  headerValue={editForm.headerValue}\n                  valuesToListen={editForm.valuesToListen}\n                  conditions={editForm.conditions}\n                >\n                  {editForm.editDetail}\n                </ChangeInitialFormData>\n              }\n              buttonDesc={buttonDesc}\n              forceFixedOnDesktop={forceFixedOnDesktop}\n            />]}\n          </TabView>\n          <Enquiry />\n        </Row>\n      </Fragment>\n    );\n  }\n}\n\nMultiCompareInner.defaultProps = {\n  initialIndex: 0,\n  selectedIndex: null,\n  data: null,\n  planImages: null,\n  buttonDesc: null,\n  forceFixedOnDesktop: false,\n  category: null,\n};\n\nMultiCompareInner.propTypes = {\n  initialIndex: PropTypes.number,\n  selectedIndex: PropTypes.number,\n  setSelectedIndex: PropTypes.func.isRequired,\n  setPlanType: PropTypes.func.isRequired,\n  data: PropTypes.object,\n  planImages: PropTypes.object,\n  scrollPopUpCallback: PropTypes.func.isRequired,\n  submitCallback: PropTypes.func.isRequired,\n  editForm: PropTypes.object.isRequired,\n  form: PropTypes.string.isRequired,\n  buttonDesc: PropTypes.string,\n  forceFixedOnDesktop: PropTypes.bool,\n  category: PropTypes.string,\n};\n\nconst mapStateToProps = state => ({\n  selectedIndex: state.compare.selectedIndex,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setSelectedIndex: (index) => {\n    dispatch(setSelectedIndex(index));\n  },\n  setPlanType: (type) => {\n    dispatch(setPlanType(type));\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MultiCompareInner);\n","/**\n * MultiCompareView.js\n * Multi Compare view with different insurers\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport { parseData } from '../../../actions/insuranceActions';\nimport { setSelectedInsurers } from '../../../actions/compareActions';\nimport { setLoading, clearLoading } from '../../../actions/loadingScreenActions';\nimport { setRestrictionPopup } from '../../../actions/restrictionsActions';\nimport MultiCompareInner from './MultiCompareInner';\n\nclass MultiCompareView extends Component {\n  /**\n   * Lifecycle Method - getDerivedStateFromProps\n   */\n  static getDerivedStateFromProps(nextProps, prevState) {\n    try {\n      const {\n        currentInsurers,\n      } = prevState;\n\n      const {\n        plansData,\n        validInsurersList,\n        setFormState,\n        loadingEnd,\n        mainForm,\n        setSelectedPlanData,\n        trackingTags,\n      } = nextProps;\n\n      if (plansData && plansData[0] === 'INVALID') {\n        return null;\n      }\n\n      // If plansData and validInsurersList are retrieved, parse data for display\n      if (validInsurersList && plansData) {\n        let newDefaultInsurers = currentInsurers || {};\n        if (!currentInsurers && plansData) {\n          newDefaultInsurers = _.map(plansData, plan => plan.info.insurer_slug);\n          newDefaultInsurers = newDefaultInsurers.slice(0, 3);\n          nextProps.setSelectedInsurers(newDefaultInsurers);\n        }\n\n        return {\n          parsedData: parseData(\n            plansData,\n            validInsurersList,\n            newDefaultInsurers,\n            mainForm.trip_type,\n            () => {\n              setFormState();\n            },\n            setSelectedPlanData,\n            loadingEnd,\n            nextProps.setRestrictionPopup,\n            null,\n            trackingTags,\n          ),\n          currentInsurers: newDefaultInsurers,\n        };\n      }\n    } catch (error) {\n      return null;\n    }\n\n    return null;\n  }\n\n  /**\n   * Lifecycle Method - constructor\n   */\n  constructor(props) {\n    super(props);\n\n    const {\n      mainForm,\n      parseForm,\n      getPlans,\n      getInsurersList,\n      loading,\n      defaultInsurers,\n      plansData,\n      validInsurersList,\n      selectedInsurers,\n      setSelectedPlanData,\n      loadingEnd,\n      setFormState,\n      loadingFailBackState,\n      clearData,\n      trackingTags,\n    } = this.props;\n\n    try {\n      // If fresh init\n      if (!plansData || !validInsurersList) {\n        // Initally, get the params from mainform and default insurers\n        const parsedParams = parseForm(mainForm, defaultInsurers);\n\n        // Set loading\n        loading(() => {\n          clearData();\n          loadingFailBackState();\n        }, 'No available plans found.', 30000, '');\n\n        // Get plans and valid insurers list\n        getPlans(parsedParams);\n        getInsurersList(parsedParams);\n\n        // Set initial default insurers\n        this.props.setSelectedInsurers(defaultInsurers);\n\n        // currentInsurers: Current selected list of insurers\n        // parsedData: The parsed data to display\n        // hoveredIndex: The current hovered index on the insurer selection dropdown, default is 0\n        this.state = {\n          currentInsurers: defaultInsurers,\n          parsedData: null,\n        };\n      } else {\n        // Set existing selected insurers and get old parsed data\n        // (Will reach this condition when using the back button)\n        this.state = {\n          currentInsurers: selectedInsurers,\n          parsedData: parseData(\n            plansData,\n            validInsurersList,\n            selectedInsurers,\n            mainForm.trip_type,\n            () => setFormState(),\n            setSelectedPlanData,\n            loadingEnd,\n            this.props.setRestrictionPopup,\n            null,\n            trackingTags,\n          ),\n        };\n      }\n    } catch (error) {\n      // eslint-disable-next-line\n    }\n\n    this.getNewData = this.getNewData.bind(this);\n    this.onInsurerClick = this.onInsurerClick.bind(this);\n  }\n\n  componentDidUpdate() {\n    const {\n      plansData,\n      loadingEnd,\n      loading,\n      clearData,\n      loadingFailBackState,\n    } = this.props;\n\n    if (plansData && plansData[0] === 'INVALID') {\n      loadingEnd();\n      if (!this.isLoading) {\n        this.isLoading = true;\n        setTimeout(() =>\n          loading(() => {\n            clearData();\n            loadingFailBackState();\n            this.isLoading = false;\n          }, 'No available plans found.', 50, ''), 500);\n      }\n    }\n  }\n  /**\n   * Lifecycle Method - shouldComponentUpdate\n   */\n  /* shouldComponentUpdate(nextProps, nextState) {\n    const { parsedData } = this.state;\n\n    // Render only is new or policyTypes changed\n    return !(parsedData && nextState.parsedData) ||\n          !_.isEqual(parsedData.policyTypes, nextState.parsedData.policyTypes);\n  } */\n\n  /**\n   * Handle selection on insurer list\n   *\n   * @param {object} data - The insurer list item data\n   */\n  onInsurerClick(data, hoveredIndex) {\n    // parsedData: The parsed data to display\n    const { parsedData } = this.state;\n\n    // Remap current insurers as sometimes when change form data, the insurers\n    // can be less than 3.\n    // console.log(parsedData.selectedInsurers, hoveredIndex);\n    const currentInsurers = _.reduce(parsedData.selectedInsurers, (result, insurer) => {\n      if (insurer) {\n        result.push(insurer.insurerSlug);\n      }\n      return result;\n    }, []);\n\n    // Change insurer of current selected position\n    currentInsurers[hoveredIndex] = data.insurer_slug;\n\n    // Set current insurers\n    this.setState({\n      currentInsurers,\n    });\n\n    // Set current insurers in store\n    this.props.setSelectedInsurers(currentInsurers);\n\n    // Get new compare data based on the new selected insurers\n    this.getNewData(currentInsurers);\n  }\n\n  /**\n   * Get new compare data.\n   * Used when changing insurers or changing form fields.\n   *\n   * @param {array} incomingInsurers - selected insurers\n   */\n  getNewData(incomingInsurers = null) {\n    const { currentInsurers } = this.state;\n    const {\n      loading,\n      getPlans,\n      getInsurersList,\n      clearData,\n      mainForm,\n      parseForm,\n      loadingFailBackState,\n    } = this.props;\n\n    // If init, use default, else the current array\n    const insurerToUse = incomingInsurers || currentInsurers;\n    // Parse the form for params\n    const parsedParams = parseForm(mainForm, insurerToUse);\n    // Clear data in store first, so it will detect as fresh props from store\n    clearData();\n    // Set loading screen\n    loading(() => {\n      clearData();\n      loadingFailBackState();\n    }, 'No available plans found.', 30000, '');\n    // Get plans and insurer lists\n    getPlans(parsedParams);\n    getInsurersList(parsedParams);\n  }\n\n  /**\n   * Render\n   */\n  render() {\n    try {\n      const { parsedData } = this.state;\n      const {\n        editForm,\n        form,\n        planImages,\n        initialIndex,\n        buttonDesc,\n        forceFixedOnDesktop,\n        category,\n      } = this.props;\n\n      // Do not render if no data\n      if (!parsedData) {\n        return null;\n      }\n\n      // console.log(parsedData);\n      return (\n        <MultiCompareInner\n          category={category}\n          initialIndex={initialIndex}\n          planImages={planImages}\n          data={parsedData}\n          form={form}\n          editForm={editForm}\n          scrollPopUpCallback={this.onInsurerClick}\n          submitCallback={this.getNewData}\n          buttonDesc={buttonDesc}\n          forceFixedOnDesktop={forceFixedOnDesktop}\n        />\n      );\n    } catch (error) {\n      return null;\n    }\n  }\n}\n\nMultiCompareView.defaultProps = {\n  initialIndex: 0,\n  plansData: null,\n  validInsurersList: null,\n  selectedInsurers: null,\n  trackingTags: null,\n  planImages: null,\n  defaultInsurers: null,\n  buttonDesc: null,\n  forceFixedOnDesktop: false,\n  category: null,\n};\n\nMultiCompareView.propTypes = {\n  setSelectedInsurers: PropTypes.func.isRequired,\n  mainForm: PropTypes.object.isRequired,\n  parseForm: PropTypes.func.isRequired,\n  getPlans: PropTypes.func.isRequired,\n  getInsurersList: PropTypes.func.isRequired,\n  clearData: PropTypes.func.isRequired,\n  loading: PropTypes.func.isRequired,\n  defaultInsurers: PropTypes.array,\n  editForm: PropTypes.object.isRequired,\n  form: PropTypes.string.isRequired,\n  planImages: PropTypes.object,\n  initialIndex: PropTypes.number,\n  plansData: PropTypes.array,\n  validInsurersList: PropTypes.array,\n  selectedInsurers: PropTypes.array,\n  setSelectedPlanData: PropTypes.func.isRequired,\n  loadingEnd: PropTypes.func.isRequired,\n  setFormState: PropTypes.func.isRequired,\n  setRestrictionPopup: PropTypes.func.isRequired,\n  loadingFailBackState: PropTypes.func.isRequired,\n  trackingTags: PropTypes.object,\n  buttonDesc: PropTypes.string,\n  forceFixedOnDesktop: PropTypes.bool,\n  category: PropTypes.string,\n};\n\nconst mapStateToProps = state => ({\n  selectedInsurers: state.compare.selectedInsurers,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  loading: (callBack, errorMsg, time, mainMsg) => {\n    dispatch(setLoading(callBack, errorMsg, time, mainMsg));\n  },\n  loadingEnd: () => {\n    dispatch(clearLoading());\n  },\n  setRestrictionPopup: (data) => {\n    dispatch(setRestrictionPopup(data));\n  },\n  setSelectedInsurers: (array) => {\n    dispatch(setSelectedInsurers(array));\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MultiCompareView);\n","module.exports = __webpack_public_path__ + \"static/media/Dollar.69451f59.svg\";","module.exports = __webpack_public_path__ + \"static/media/Umbrella.6617735b.svg\";","/**\n * RedirectPopupForm.js\n * The form view of the redirect component\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component } from 'react';\nimport { reduxForm } from 'redux-form';\nimport { Row, Col } from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nimport Button from 'components/FormsV3/Button/Button';\nimport TextInput from '../../Forms/TextInput/TextInput';\nimport Selection from '../../Forms/Selection/Selection';\n\nimport { validateForm } from '../../../lib/validators';\n\n\nclass RedirectPopupForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      errorString: null,\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(e) {\n    const { onConfirm, category, noEmail } = this.props;\n    const email = noEmail ? [] : ['email'];\n\n    const errorResult = validateForm(e, [...email, 'disclaimer']);\n\n    if (!noEmail && errorResult.email) {\n      this.setState({\n        errorString: 'Invalid email!',\n      });\n      return;\n    }\n\n    if (_.isEmpty(e.disclaimer)) {\n      this.setState({\n        errorString: 'Please agree to the terms to proceed.',\n      });\n      return;\n    }\n\n    if (!_.isEmpty(errorResult)) {\n      this.setState({\n        errorString: 'Please fill in all fields!',\n      });\n\n      return;\n    }\n\n    this.setState({\n      errorString: null,\n    });\n\n    onConfirm({ ...e, category });\n  }\n\n  render() {\n    const { errorString } = this.state;\n    const {\n      handleSubmit,\n      form,\n      change,\n      noEmail,\n    } = this.props;\n\n    return (\n      <form onSubmit={handleSubmit(this.handleSubmit)}>\n        <div className=\"mid-container\">\n          <Row noGutters>\n            {\n              noEmail ?\n                null\n              :\n                <Col xs={12}>\n                  <TextInput\n                    form={form}\n                    change={change}\n                    name=\"email\"\n                    placeholderString=\"\"\n                    size=\"medium\"\n                    zIndex={99}\n                    desc=\"Email Address\"\n                  />\n                </Col>\n            }\n            <Col xs={12}>\n              <Selection\n                form={form}\n                change={change}\n                name=\"disclaimer\"\n                type=\"checkbox\"\n                options={[\n                  { key: 'disclaimer', description: 'I agree to store this policy in my PolicyPal account after purchase, in accordance with the Personal Data Protection Act.' },\n                ]}\n                sizeInSM={12}\n                desc=\"\"\n              />\n            </Col>\n            {\n              errorString ?\n                <Col xs={12}>\n                  <p className=\"error-string\">{errorString}</p>\n                </Col>\n              :\n                null\n            }\n          </Row>\n        </div>\n        <div className=\"button-container\">\n          <Button\n            type=\"submit\"\n            className=\"checkout-button\"\n            variant=\"medium-flat-green\"\n            width={166}\n            height={72}\n          >\n            <p>Confirm</p>\n          </Button>\n        </div>\n      </form>\n    );\n  }\n}\n\nRedirectPopupForm.defaultProps = {\n  category: null,\n  noEmail: false,\n};\n\nRedirectPopupForm.propTypes = {\n  onConfirm: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n  form: PropTypes.string.isRequired,\n  change: PropTypes.func.isRequired,\n  category: PropTypes.string,\n  noEmail: PropTypes.bool,\n};\n\nexport default reduxForm({\n  form: 'redirect-form',\n})(RedirectPopupForm);\n","/**\n * RedirectPopup.js\n * Popup to inform users that we are redirecting\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\n\nimport RedirectPopupForm from './RedirectPopupForm';\nimport Popup from '../Popup/Popup';\n\nimport './RedirectPopup.scss';\n\nclass RedirectPopup extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      category: null,\n    };\n\n    this.openRedirectPopup = this.openRedirectPopup.bind(this);\n  }\n\n  openRedirectPopup(category) {\n    this.setState({\n      category,\n    });\n    setTimeout(this.popupRef.openPopup, 100);\n  }\n\n  render() {\n    const { category } = this.state;\n    const { onConfirm, noEmail } = this.props;\n\n    return (\n      <Popup ref={(r) => { this.popupRef = r; }}>\n        <Fragment>\n          <div className=\"redirect-popup\">\n            <div className=\"upper-container\">\n              <p>{'Kindly fill up the following section before we redirect you to the insurer\\'s page. The details below will be used for verification with the insurer after purchase.'}</p>\n            </div>\n            <RedirectPopupForm\n              noEmail={noEmail}\n              closPopup={() => this.popupRef.closePopup()}\n              onConfirm={onConfirm}\n              category={category}\n            />\n          </div>\n        </Fragment>\n      </Popup>\n    );\n  }\n}\n\nRedirectPopup.defaultProps = {\n  noEmail: false,\n};\n\nRedirectPopup.propTypes = {\n  onConfirm: PropTypes.func.isRequired,\n  noEmail: PropTypes.bool,\n};\n\nexport default RedirectPopup;\n\n"],"sourceRoot":""}