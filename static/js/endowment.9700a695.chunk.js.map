{"version":3,"sources":["containers/Endowment/EndowmentRouteContainer.js","../node_modules/redux-form/es/index.js","components/Page/Page.js","assets/logo.png","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/redux-form/es/actions.js","components/Templates/PopupWithText/PopupWithText.js","components/Templates/RefreshTimer/RefreshTimer.js"],"names":["StepProgressBar","Loadable","loader","Promise","all","__webpack_require__","e","then","bind","loading","modules","EndowmentMainContainer","EndowmentChoosePlanContainer","EndowmentDetailContainer","EndowmentRouteContainer","props","_this","Object","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__","call","state","formIndex","isInitialLoad","_this$props","resetStoreForm","endowmentPromoGiveAway","clearData","history","resetCompare","resetInsuranceForm","undefined","getPromoGiveaways","setInitialFormState","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","renderStepProgress","renderLifeForms","changeUserDetails","nextProps","prevState","isMounted","formState","match","routeResult","routeHandler","setState","prevProps","userDetails","_","isEqual","_this$props2","changeForm","_this$props3","surname","firstname","firstName","concat","email","dateOfBirth","contact","react__WEBPACK_IMPORTED_MODULE_8___default","a","createElement","maxWidth","inputList","form","stateList","FORMSTATES","CHOOSEPLAN","DETAILFORM","stateDescriptions","main","charged","isLoggedIn","isEmpty","index","piggyCallback","_this2","_this$props4","constants","meta","isProduction","components_Page_Page__WEBPACK_IMPORTED_MODULE_13__","id","react_helmet__WEBPACK_IMPORTED_MODULE_9__","name","content","_components_Templates_RefreshTimer_RefreshTimer__WEBPACK_IMPORTED_MODULE_19__","ref","node","refresher","invokeNewTimer","Component","defaultProps","withRouter","connect","insurance","promoGiveaways","endowment","data","dispatch","key","value","change","reset","clearEndowmentData","d","__webpack_exports__","_actions__WEBPACK_IMPORTED_MODULE_0__","arrayInsert","arrayMove","arrayPop","arrayPush","arrayRemove","arrayRemoveAll","arrayShift","arraySplice","arraySwap","arrayUnshift","autofill","blur","clearAsyncError","clearFields","clearSubmitErrors","destroy","focus","initialize","registerField","resetSection","setSubmitFailed","setSubmitSucceeded","startAsyncValidation","startSubmit","stopAsyncValidation","stopSubmit","submit","touch","unregisterField","untouch","updateSyncWarnings","SITE_URL","defaultImage","logo","Page","pathname","title","_ref","description","image","contentType","twitter","noCrawl","published","updated","category","tags","theTitle","substring","theDescription","theImage","metaTags","itemprop","property","push","children","className","rest","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_6___default","react_helmet__WEBPACK_IMPORTED_MODULE_8___default","htmlAttributes","lang","itemscope","itemtype","schema","link","rel","href","location","getMetaTags","module","exports","p","_objectWithoutProperties","source","excluded","i","target","sourceKeys","keys","length","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","_actionTypes__WEBPACK_IMPORTED_MODULE_0__","_extends","assign","arguments","hasOwnProperty","actions","field","type","payload","from","to","removeNum","action","indexA","indexB","Error","persistentSubmitErrors","keepTouched","_len","fields","Array","_key","clearSubmit","_len2","_key2","values","keepDirty","otherMeta","_len3","sections","_key3","errors","error","_len4","_key4","_len5","_key5","_len6","_key6","destroyOnUnmount","_len7","_key7","updateSyncErrors","syncErrors","syncWarnings","warning","PopupWithText","onConfirm","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","text","jsx","useConfirm","openPopupWithText","setTimeout","popupRef","openPopup","_this$state","showCancelButton","hideCloseButton","_Popup_Popup__WEBPACK_IMPORTED_MODULE_8__","r","react__WEBPACK_IMPORTED_MODULE_6__","components_FormsV3_Button_Button__WEBPACK_IMPORTED_MODULE_7__","variant","width","height","onClick","closePopup","RefreshTimer","oldTime","Date","timeout","setTimer","interval","window","setInterval","addEventListener","clearInterval","clearTimeout","removeEventListener","_this3","popupTimer","refreshTimer","confirmResult","confirm","timeDiff","_this4","react__WEBPACK_IMPORTED_MODULE_7___default","react__WEBPACK_IMPORTED_MODULE_7__","_PopupWithText_PopupWithText__WEBPACK_IMPORTED_MODULE_8__","popup"],"mappings":"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","file":"static/js/endowment.9700a695.chunk.js","sourcesContent":["/**\r\n * EndowmentRouteContainer.js\r\n * The wrapper container for endowment\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport window from 'global/window';\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport { connect } from 'react-redux';\r\nimport { change, reset } from 'redux-form';\r\nimport { /* Prompt, */ withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport Page from 'components/Page/Page';\r\nimport Loadable from 'react-loadable';\r\n\r\nimport { resetCompare } from '../../actions/compareActions';\r\nimport { getPromoGiveaways, resetInsuranceForm, FORMSTATES } from '../../actions/insuranceActions';\r\nimport { clearEndowmentData } from '../../actions/endowmentActions';\r\nimport { isProduction } from '../../lib/tagFunctions';\r\n\r\n// import StepProgressBar from '../../components/Templates/StepProgressBar/StepProgressBar';\r\nimport RefreshTimer from '../../components/Templates/RefreshTimer/RefreshTimer';\r\n\r\n// import EndowmentMainContainer from './EndowmentMainContainer';\r\n// import EndowmentChoosePlanContainer from './EndowmentChoosePlanContainer';\r\n// import EndowmentDetailContainer from './EndowmentDetailContainer';\r\n\r\nimport { routeHandler } from '../../lib/helperFunctions';\r\n\r\nconst formName = 'endowment';\r\nconst detailFormName = 'endowment-detail';\r\n\r\nconst StepProgressBar = Loadable({\r\n  loader: () => import(/* webpackChunkName: \"StepProgressBar\" */ '../../components/Templates/StepProgressBar/StepProgressBar'),\r\n  loading: () => null,\r\n  modules: ['StepProgressBar']\r\n});\r\n\r\nconst EndowmentMainContainer = Loadable({\r\n  loader: () => import(/* webpackChunkName: \"EndowmentMainContainer\" */ './EndowmentMainContainer'),\r\n  loading: () => null,\r\n  modules: ['EndowmentMainContainer']\r\n});\r\n\r\nconst EndowmentChoosePlanContainer = Loadable({\r\n  loader: () => import(/* webpackChunkName: \"EndowmentChoosePlanContainer\" */ './EndowmentChoosePlanContainer'),\r\n  loading: () => null,\r\n  modules: ['EndowmentChoosePlanContainer']\r\n});\r\n\r\nconst EndowmentDetailContainer = Loadable({\r\n  loader: () => import(/* webpackChunkName: \"EndowmentDetailContainer\" */ './EndowmentDetailContainer'),\r\n  loading: () => null,\r\n  modules: ['EndowmentDetailContainer']\r\n});\r\n\r\nclass EndowmentRouteContainer extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const { formIndex, isMounted } = prevState;\r\n    const { formState, match, history } = nextProps;\r\n\r\n    if (isMounted) {\r\n      const routeResult = routeHandler(formName, formState, formIndex, match, history);\r\n      if (routeResult && routeResult.formIndex !== null) {\r\n        return ({\r\n          formIndex: routeResult.formIndex,\r\n        });\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      formIndex: 0,\r\n      isInitialLoad: true,\r\n    };\r\n\r\n    const {\r\n      resetStoreForm,\r\n      endowmentPromoGiveAway,\r\n      clearData,\r\n      history,\r\n    } = this.props;\r\n\r\n    // history.replace(`/endowment${history.location.search}`);\r\n\r\n    clearData();\r\n    this.props.resetCompare();\r\n    this.props.resetInsuranceForm();\r\n\r\n    resetStoreForm('endowment');\r\n    resetStoreForm('endowment-detail');\r\n\r\n    if (endowmentPromoGiveAway === undefined) {\r\n      this.props.getPromoGiveaways();\r\n    }\r\n\r\n    this.setInitialFormState = this.setInitialFormState.bind(this);\r\n    this.renderStepProgress = this.renderStepProgress.bind(this);\r\n    this.renderLifeForms = this.renderLifeForms.bind(this);\r\n    this.changeUserDetails = this.changeUserDetails.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    // window.addEventListener('beforeunload', this.handleLeavePage);\r\n    this.setInitialFormState();\r\n    this.setState({\r\n      // eslint-disable-next-line\r\n      isMounted: true,\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { isInitialLoad } = this.state;\r\n    const { userDetails } = this.props;\r\n\r\n    if (isInitialLoad && _.isEqual(userDetails, prevProps.userDetails)) {\r\n      this.changeUserDetails();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { clearData, resetStoreForm } = this.props;\r\n    clearData();\r\n    this.props.resetCompare();\r\n    this.props.resetInsuranceForm();\r\n\r\n    resetStoreForm('endowment');\r\n    resetStoreForm('endowment-detail');\r\n  }\r\n\r\n  setInitialFormState() {\r\n    const { changeForm } = this.props;\r\n\r\n    changeForm(formName, 'birth_date', '01 Jan 1990');\r\n    changeForm(formName, 'premium_term', '16-20 years');\r\n\r\n    this.changeUserDetails();\r\n  }\r\n\r\n  changeUserDetails() {\r\n    const { isInitialLoad } = this.state;\r\n    const { userDetails, changeForm } = this.props;\r\n\r\n    if (userDetails) {\r\n      const surname = userDetails && userDetails.surname ? userDetails.surname : '';\r\n      const firstname = userDetails && userDetails.firstName ? ` ${userDetails.firstName}` : '';\r\n\r\n      changeForm(detailFormName, 'email', userDetails.email);\r\n      changeForm(detailFormName, 'name', `${surname}${firstname}`);\r\n      changeForm(detailFormName, 'birth_date', userDetails.dateOfBirth);\r\n      changeForm(detailFormName, 'mobile_number', userDetails.contact);\r\n\r\n      if (isInitialLoad) {\r\n        this.setState({\r\n          isInitialLoad: false,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  renderStepProgress() {\r\n    const { formIndex } = this.state;\r\n    return (\r\n      <StepProgressBar\r\n        maxWidth=\"556px\"\r\n        formState={formIndex}\r\n        inputList={[\r\n          'Choose Plan',\r\n          'Details',\r\n        ]}\r\n        form=\"endowment\"\r\n        stateList={[\r\n          FORMSTATES.CHOOSEPLAN,\r\n          FORMSTATES.DETAILFORM,\r\n        ]}\r\n        stateDescriptions={[\r\n          { main: '' /* 'Choose your Plan', sub: 'Compare price plans from multiple companies' */},\r\n          { main: 'Fill in your details - Get $5 Credits' },\r\n        ]}\r\n        charged={false}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderLifeForms() {\r\n    const { formIndex } = this.state;\r\n    const {\r\n      userDetails,\r\n    } = this.props;\r\n\r\n    const isLoggedIn = !_.isEmpty(userDetails);\r\n\r\n\r\n    switch (formIndex) {\r\n      case FORMSTATES.CHOOSEPLAN.index:\r\n        return <EndowmentChoosePlanContainer isLoggedIn={isLoggedIn} />;\r\n      case FORMSTATES.DETAILFORM.index:\r\n        return (\r\n          <EndowmentDetailContainer\r\n            isLoggedIn={isLoggedIn}\r\n            piggyCallback={this.changeUserDetails}\r\n          />\r\n        );\r\n      default:\r\n        return <EndowmentMainContainer isLoggedIn={isLoggedIn} />;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { endowmentPromoGiveAway, constants } = this.props;\r\n\r\n    if (!constants || endowmentPromoGiveAway === undefined) {\r\n      return null;\r\n    }\r\n\r\n    const meta = isProduction ? 'PolicyPal, insurance, insurance broker, endowment, endowment plan, savings plan singapore, best endowment plan singapore, 5 years saving plan singapore, endowment fund, endowment insurance, what is endowment plan, best insurance savings plan singapore, endowment policy, ntuc endowment, short term endowment plan singapore, short term endowment plan, best endowment plan, ntuc income endowment, endowment plan comparison, singapore endowment insurance, savings insurance, savings insurance singapore, compare insurance' : '';\r\n    return (\r\n      <Page id=\"endowment\">\r\n        <Helmet>\r\n          <meta name=\"keywords\" content={meta} />\r\n          <title>PolicyPal 2.0 - Endowment Insurance</title>\r\n          <meta name=\"title\" content=\"PolicyPal 2.0 - Endowment Insurance\" />\r\n          <meta name=\"description\" content=\"Browse products for endowment insurance.\" />\r\n        </Helmet>\r\n        {/* {\r\n          formState !== FORMSTATES.MAIN ?\r\n            <Prompt\r\n              when={true}\r\n              message=\"Are you sure you want to leave current page?\"\r\n            />\r\n          :\r\n            null\r\n        } */}\r\n        {this.renderStepProgress()}\r\n        {this.renderLifeForms()}\r\n        <RefreshTimer ref={(node) => {\r\n            if (!this.refresher) {\r\n              node.invokeNewTimer();\r\n            }\r\n            this.refresher = node;\r\n          }}\r\n        />\r\n      </Page>\r\n    );\r\n  }\r\n}\r\n\r\nEndowmentRouteContainer.defaultProps = {\r\n  userDetails: null,\r\n  endowmentPromoGiveAway: undefined,\r\n  constants: null,\r\n};\r\n\r\nEndowmentRouteContainer.propTypes = {\r\n  clearData: PropTypes.func.isRequired,\r\n  resetCompare: PropTypes.func.isRequired,\r\n  getPromoGiveaways: PropTypes.func.isRequired,\r\n  resetInsuranceForm: PropTypes.func.isRequired,\r\n  changeForm: PropTypes.func.isRequired,\r\n  resetStoreForm: PropTypes.func.isRequired,\r\n  userDetails: PropTypes.object,\r\n  endowmentPromoGiveAway: PropTypes.object,\r\n  constants: PropTypes.object,\r\n  history: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  endowmentPromoGiveAway: state.insurance.promoGiveaways.endowment,\r\n  formState: state.insurance.formState,\r\n  constants: state.insurance.constants,\r\n  userDetails: state.userDetails.data,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  changeForm: (form, key, value) => (\r\n    dispatch(change(form, key, value))\r\n  ),\r\n  resetInsuranceForm: () => (\r\n    dispatch(resetInsuranceForm())\r\n  ),\r\n  resetStoreForm: form => (\r\n    dispatch(reset(form))\r\n  ),\r\n  getPromoGiveaways: () => {\r\n    dispatch(getPromoGiveaways('endowment'));\r\n  },\r\n  resetCompare: () => {\r\n    dispatch(resetCompare());\r\n  },\r\n  clearData: () => {\r\n    dispatch(clearEndowmentData());\r\n  },\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(EndowmentRouteContainer));\r\n","import actions from './actions';\nimport * as _actionTypes from './actionTypes';\nexport { default as defaultShouldAsyncValidate } from './defaultShouldAsyncValidate';\nexport { default as defaultShouldValidate } from './defaultShouldValidate';\nexport { default as defaultShouldError } from './defaultShouldError';\nexport { default as defaultShouldWarn } from './defaultShouldWarn';\nexport { default as Form } from './Form';\nexport { default as FormName } from './FormName';\nexport { default as FormSection } from './FormSection';\nexport { default as SubmissionError } from './SubmissionError'; // alias for propTypes\n\nexport { default as propTypes, fieldInputPropTypes, fieldMetaPropTypes, fieldPropTypes, fieldArrayFieldsPropTypes, fieldArrayMetaPropTypes, fieldArrayPropTypes, formPropTypes } from './propTypes';\nexport { default as Field } from './Field';\nexport { default as Fields } from './Fields';\nexport { default as FieldArray } from './FieldArray';\nexport { default as formValueSelector } from './formValueSelector';\nexport { default as formValues } from './formValues';\nexport { default as getFormError } from './getFormError';\nexport { default as getFormNames } from './getFormNames';\nexport { default as getFormValues } from './getFormValues';\nexport { default as getFormInitialValues } from './getFormInitialValues';\nexport { default as getFormSyncErrors } from './getFormSyncErrors';\nexport { default as getFormMeta } from './getFormMeta';\nexport { default as getFormAsyncErrors } from './getFormAsyncErrors';\nexport { default as getFormSyncWarnings } from './getFormSyncWarnings';\nexport { default as getFormSubmitErrors } from './getFormSubmitErrors';\nexport { default as isAsyncValidating } from './isAsyncValidating';\nexport { default as isDirty } from './isDirty';\nexport { default as isInvalid } from './isInvalid';\nexport { default as isPristine } from './isPristine';\nexport { default as isValid } from './isValid';\nexport { default as isSubmitting } from './isSubmitting';\nexport { default as hasSubmitSucceeded } from './hasSubmitSucceeded';\nexport { default as hasSubmitFailed } from './hasSubmitFailed';\nexport { default as reduxForm } from './reduxForm';\nexport { default as reducer } from './reducer';\nexport { default as values } from './values';\nexport var actionTypes = _actionTypes;\nexport var arrayInsert = actions.arrayInsert;\nexport var arrayMove = actions.arrayMove;\nexport var arrayPop = actions.arrayPop;\nexport var arrayPush = actions.arrayPush;\nexport var arrayRemove = actions.arrayRemove;\nexport var arrayRemoveAll = actions.arrayRemoveAll;\nexport var arrayShift = actions.arrayShift;\nexport var arraySplice = actions.arraySplice;\nexport var arraySwap = actions.arraySwap;\nexport var arrayUnshift = actions.arrayUnshift;\nexport var autofill = actions.autofill;\nexport var blur = actions.blur;\nexport var change = actions.change;\nexport var clearAsyncError = actions.clearAsyncError;\nexport var clearFields = actions.clearFields;\nexport var clearSubmitErrors = actions.clearSubmitErrors;\nexport var destroy = actions.destroy;\nexport var focus = actions.focus;\nexport var initialize = actions.initialize;\nexport var registerField = actions.registerField;\nexport var reset = actions.reset;\nexport var resetSection = actions.resetSection;\nexport var setSubmitFailed = actions.setSubmitFailed;\nexport var setSubmitSucceeded = actions.setSubmitSucceeded;\nexport var startAsyncValidation = actions.startAsyncValidation;\nexport var startSubmit = actions.startSubmit;\nexport var stopAsyncValidation = actions.stopAsyncValidation;\nexport var stopSubmit = actions.stopSubmit;\nexport var submit = actions.submit;\nexport var touch = actions.touch;\nexport var unregisterField = actions.unregisterField;\nexport var untouch = actions.untouch;\nexport var updateSyncWarnings = actions.updateSyncWarnings;","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport Helmet from 'react-helmet';\r\nimport logo from '../../assets/logo.png';\r\n\r\nconst SITE_URL =\r\n  process.env.NODE_ENV === 'development'\r\n    ? 'http://localhost:3000'\r\n    : 'https://web.policypal.com';\r\n\r\nconst FACEBOOK_APP_ID = 'XXXXXXXXX';\r\n\r\nconst defaultTitle = 'My Website';\r\nconst defaultDescription =\r\n  'This is a really awesome website where we can render on the server. Supa cool.';\r\nconst defaultImage = `${SITE_URL}${logo}`;\r\nconst defaultTwitter = '@cereallarceny';\r\nconst defaultSep = ' | ';\r\n\r\nclass Page extends Component {\r\n  getMetaTags(\r\n    {\r\n      title,\r\n      description,\r\n      image,\r\n      contentType,\r\n      twitter,\r\n      noCrawl,\r\n      published,\r\n      updated,\r\n      category,\r\n      tags\r\n    },\r\n    pathname\r\n  ) {\r\n    const theTitle = title\r\n      ? (title + defaultSep + defaultTitle).substring(0, 60)\r\n      : defaultTitle;\r\n    const theDescription = description\r\n      ? description.substring(0, 155)\r\n      : defaultDescription;\r\n    const theImage = image ? `${SITE_URL}${image}` : defaultImage;\r\n\r\n    const metaTags = [\r\n      { itemprop: 'name', content: theTitle },\r\n      { itemprop: 'description', content: theDescription },\r\n      { itemprop: 'image', content: theImage },\r\n      { name: 'description', content: theDescription },\r\n      { name: 'twitter:card', content: 'summary_large_image' },\r\n      { name: 'twitter:site', content: defaultTwitter },\r\n      { name: 'twitter:title', content: theTitle },\r\n      { name: 'twitter:description', content: theDescription },\r\n      { name: 'twitter:creator', content: twitter || defaultTwitter },\r\n      { name: 'twitter:image:src', content: theImage },\r\n      { property: 'og:title', content: theTitle },\r\n      { property: 'og:type', content: contentType || 'website' },\r\n      { property: 'og:url', content: SITE_URL + pathname },\r\n      { property: 'og:image', content: theImage },\r\n      { property: 'og:description', content: theDescription },\r\n      { property: 'og:site_name', content: defaultTitle },\r\n      { property: 'fb:app_id', content: FACEBOOK_APP_ID }\r\n    ];\r\n\r\n    if (noCrawl) {\r\n      metaTags.push({ name: 'robots', content: 'noindex, nofollow' });\r\n    }\r\n\r\n    if (published) {\r\n      metaTags.push({ name: 'article:published_time', content: published });\r\n    }\r\n    if (updated) {\r\n      metaTags.push({ name: 'article:modified_time', content: updated });\r\n    }\r\n    if (category) {\r\n      metaTags.push({ name: 'article:section', content: category });\r\n    }\r\n    if (tags) {\r\n      metaTags.push({ name: 'article:tag', content: tags });\r\n    }\r\n\r\n    return metaTags;\r\n  }\r\n\r\n  render() {\r\n    const { children, id, className, ...rest } = this.props;\r\n\r\n    return (\r\n      <div id={id} className={className}>\r\n        <Helmet\r\n          htmlAttributes={{\r\n            lang: 'en',\r\n            itemscope: undefined,\r\n            itemtype: `http://schema.org/${rest.schema || 'WebPage'}`\r\n          }}\r\n          title={\r\n            rest.title ? rest.title + defaultSep + defaultTitle : defaultTitle\r\n          }\r\n          link={[\r\n            {\r\n              rel: 'canonical',\r\n              href: SITE_URL + this.props.location.pathname\r\n            }\r\n          ]}\r\n          meta={this.getMetaTags(rest, this.props.location.pathname)}\r\n        />\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Page);\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.f0988bd7.png\";","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nimport { ARRAY_INSERT, ARRAY_MOVE, ARRAY_POP, ARRAY_PUSH, ARRAY_REMOVE, ARRAY_REMOVE_ALL, ARRAY_SHIFT, ARRAY_SPLICE, ARRAY_SWAP, ARRAY_UNSHIFT, AUTOFILL, BLUR, CHANGE, CLEAR_SUBMIT, CLEAR_SUBMIT_ERRORS, CLEAR_ASYNC_ERROR, DESTROY, FOCUS, INITIALIZE, REGISTER_FIELD, RESET, RESET_SECTION, CLEAR_FIELDS, SET_SUBMIT_FAILED, SET_SUBMIT_SUCCEEDED, START_ASYNC_VALIDATION, START_SUBMIT, STOP_ASYNC_VALIDATION, STOP_SUBMIT, SUBMIT, TOUCH, UNREGISTER_FIELD, UNTOUCH, UPDATE_SYNC_ERRORS, UPDATE_SYNC_WARNINGS } from './actionTypes';\n\nvar arrayInsert = function arrayInsert(form, field, index, value) {\n  return {\n    type: ARRAY_INSERT,\n    meta: {\n      form: form,\n      field: field,\n      index: index\n    },\n    payload: value\n  };\n};\n\nvar arrayMove = function arrayMove(form, field, from, to) {\n  return {\n    type: ARRAY_MOVE,\n    meta: {\n      form: form,\n      field: field,\n      from: from,\n      to: to\n    }\n  };\n};\n\nvar arrayPop = function arrayPop(form, field) {\n  return {\n    type: ARRAY_POP,\n    meta: {\n      form: form,\n      field: field\n    }\n  };\n};\n\nvar arrayPush = function arrayPush(form, field, value) {\n  return {\n    type: ARRAY_PUSH,\n    meta: {\n      form: form,\n      field: field\n    },\n    payload: value\n  };\n};\n\nvar arrayRemove = function arrayRemove(form, field, index) {\n  return {\n    type: ARRAY_REMOVE,\n    meta: {\n      form: form,\n      field: field,\n      index: index\n    }\n  };\n};\n\nvar arrayRemoveAll = function arrayRemoveAll(form, field) {\n  return {\n    type: ARRAY_REMOVE_ALL,\n    meta: {\n      form: form,\n      field: field\n    }\n  };\n};\n\nvar arrayShift = function arrayShift(form, field) {\n  return {\n    type: ARRAY_SHIFT,\n    meta: {\n      form: form,\n      field: field\n    }\n  };\n};\n\nvar arraySplice = function arraySplice(form, field, index, removeNum, value) {\n  var action = {\n    type: ARRAY_SPLICE,\n    meta: {\n      form: form,\n      field: field,\n      index: index,\n      removeNum: removeNum\n    }\n  };\n\n  if (value !== undefined) {\n    action.payload = value;\n  }\n\n  return action;\n};\n\nvar arraySwap = function arraySwap(form, field, indexA, indexB) {\n  if (indexA === indexB) {\n    throw new Error('Swap indices cannot be equal');\n  }\n\n  if (indexA < 0 || indexB < 0) {\n    throw new Error('Swap indices cannot be negative');\n  }\n\n  return {\n    type: ARRAY_SWAP,\n    meta: {\n      form: form,\n      field: field,\n      indexA: indexA,\n      indexB: indexB\n    }\n  };\n};\n\nvar arrayUnshift = function arrayUnshift(form, field, value) {\n  return {\n    type: ARRAY_UNSHIFT,\n    meta: {\n      form: form,\n      field: field\n    },\n    payload: value\n  };\n};\n\nvar autofill = function autofill(form, field, value) {\n  return {\n    type: AUTOFILL,\n    meta: {\n      form: form,\n      field: field\n    },\n    payload: value\n  };\n};\n\nvar blur = function blur(form, field, value, touch) {\n  return {\n    type: BLUR,\n    meta: {\n      form: form,\n      field: field,\n      touch: touch\n    },\n    payload: value\n  };\n};\n\nvar change = function change(form, field, value, touch, persistentSubmitErrors) {\n  return {\n    type: CHANGE,\n    meta: {\n      form: form,\n      field: field,\n      touch: touch,\n      persistentSubmitErrors: persistentSubmitErrors\n    },\n    payload: value\n  };\n};\n\nvar clearSubmit = function clearSubmit(form) {\n  return {\n    type: CLEAR_SUBMIT,\n    meta: {\n      form: form\n    }\n  };\n};\n\nvar clearSubmitErrors = function clearSubmitErrors(form) {\n  return {\n    type: CLEAR_SUBMIT_ERRORS,\n    meta: {\n      form: form\n    }\n  };\n};\n\nvar clearAsyncError = function clearAsyncError(form, field) {\n  return {\n    type: CLEAR_ASYNC_ERROR,\n    meta: {\n      form: form,\n      field: field\n    }\n  };\n};\n\nvar clearFields = function clearFields(form, keepTouched, persistentSubmitErrors) {\n  for (var _len = arguments.length, fields = Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    fields[_key - 3] = arguments[_key];\n  }\n\n  return {\n    type: CLEAR_FIELDS,\n    meta: {\n      form: form,\n      keepTouched: keepTouched,\n      persistentSubmitErrors: persistentSubmitErrors,\n      fields: fields\n    }\n  };\n};\n\nvar destroy = function destroy() {\n  for (var _len2 = arguments.length, form = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    form[_key2] = arguments[_key2];\n  }\n\n  return {\n    type: DESTROY,\n    meta: {\n      form: form\n    }\n  };\n};\n\nvar focus = function focus(form, field) {\n  return {\n    type: FOCUS,\n    meta: {\n      form: form,\n      field: field\n    }\n  };\n};\n\nvar initialize = function initialize(form, values, keepDirty) {\n  var otherMeta = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  if (keepDirty instanceof Object) {\n    otherMeta = keepDirty;\n    keepDirty = false;\n  }\n\n  return {\n    type: INITIALIZE,\n    meta: _extends({\n      form: form,\n      keepDirty: keepDirty\n    }, otherMeta),\n    payload: values\n  };\n};\n\nvar registerField = function registerField(form, name, type) {\n  return {\n    type: REGISTER_FIELD,\n    meta: {\n      form: form\n    },\n    payload: {\n      name: name,\n      type: type\n    }\n  };\n};\n\nvar reset = function reset(form) {\n  return {\n    type: RESET,\n    meta: {\n      form: form\n    }\n  };\n};\n\nvar resetSection = function resetSection(form) {\n  for (var _len3 = arguments.length, sections = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n    sections[_key3 - 1] = arguments[_key3];\n  }\n\n  return {\n    type: RESET_SECTION,\n    meta: {\n      form: form,\n      sections: sections\n    }\n  };\n};\n\nvar startAsyncValidation = function startAsyncValidation(form, field) {\n  return {\n    type: START_ASYNC_VALIDATION,\n    meta: {\n      form: form,\n      field: field\n    }\n  };\n};\n\nvar startSubmit = function startSubmit(form) {\n  return {\n    type: START_SUBMIT,\n    meta: {\n      form: form\n    }\n  };\n};\n\nvar stopAsyncValidation = function stopAsyncValidation(form, errors) {\n  return {\n    type: STOP_ASYNC_VALIDATION,\n    meta: {\n      form: form\n    },\n    payload: errors,\n    error: !!(errors && Object.keys(errors).length)\n  };\n};\n\nvar stopSubmit = function stopSubmit(form, errors) {\n  return {\n    type: STOP_SUBMIT,\n    meta: {\n      form: form\n    },\n    payload: errors,\n    error: !!(errors && Object.keys(errors).length)\n  };\n};\n\nvar submit = function submit(form) {\n  return {\n    type: SUBMIT,\n    meta: {\n      form: form\n    }\n  };\n};\n\nvar setSubmitFailed = function setSubmitFailed(form) {\n  for (var _len4 = arguments.length, fields = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n    fields[_key4 - 1] = arguments[_key4];\n  }\n\n  return {\n    type: SET_SUBMIT_FAILED,\n    meta: {\n      form: form,\n      fields: fields\n    },\n    error: true\n  };\n};\n\nvar setSubmitSucceeded = function setSubmitSucceeded(form) {\n  for (var _len5 = arguments.length, fields = Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n    fields[_key5 - 1] = arguments[_key5];\n  }\n\n  return {\n    type: SET_SUBMIT_SUCCEEDED,\n    meta: {\n      form: form,\n      fields: fields\n    },\n    error: false\n  };\n};\n\nvar touch = function touch(form) {\n  for (var _len6 = arguments.length, fields = Array(_len6 > 1 ? _len6 - 1 : 0), _key6 = 1; _key6 < _len6; _key6++) {\n    fields[_key6 - 1] = arguments[_key6];\n  }\n\n  return {\n    type: TOUCH,\n    meta: {\n      form: form,\n      fields: fields\n    }\n  };\n};\n\nvar unregisterField = function unregisterField(form, name) {\n  var destroyOnUnmount = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  return {\n    type: UNREGISTER_FIELD,\n    meta: {\n      form: form\n    },\n    payload: {\n      name: name,\n      destroyOnUnmount: destroyOnUnmount\n    }\n  };\n};\n\nvar untouch = function untouch(form) {\n  for (var _len7 = arguments.length, fields = Array(_len7 > 1 ? _len7 - 1 : 0), _key7 = 1; _key7 < _len7; _key7++) {\n    fields[_key7 - 1] = arguments[_key7];\n  }\n\n  return {\n    type: UNTOUCH,\n    meta: {\n      form: form,\n      fields: fields\n    }\n  };\n};\n\nvar updateSyncErrors = function updateSyncErrors(form) {\n  var syncErrors = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var error = arguments[2];\n  return {\n    type: UPDATE_SYNC_ERRORS,\n    meta: {\n      form: form\n    },\n    payload: {\n      syncErrors: syncErrors,\n      error: error\n    }\n  };\n};\n\nvar updateSyncWarnings = function updateSyncWarnings(form) {\n  var syncWarnings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var warning = arguments[2];\n  return {\n    type: UPDATE_SYNC_WARNINGS,\n    meta: {\n      form: form\n    },\n    payload: {\n      syncWarnings: syncWarnings,\n      warning: warning\n    }\n  };\n};\n\nvar actions = {\n  arrayInsert: arrayInsert,\n  arrayMove: arrayMove,\n  arrayPop: arrayPop,\n  arrayPush: arrayPush,\n  arrayRemove: arrayRemove,\n  arrayRemoveAll: arrayRemoveAll,\n  arrayShift: arrayShift,\n  arraySplice: arraySplice,\n  arraySwap: arraySwap,\n  arrayUnshift: arrayUnshift,\n  autofill: autofill,\n  blur: blur,\n  change: change,\n  clearFields: clearFields,\n  clearSubmit: clearSubmit,\n  clearSubmitErrors: clearSubmitErrors,\n  clearAsyncError: clearAsyncError,\n  destroy: destroy,\n  focus: focus,\n  initialize: initialize,\n  registerField: registerField,\n  reset: reset,\n  resetSection: resetSection,\n  startAsyncValidation: startAsyncValidation,\n  startSubmit: startSubmit,\n  stopAsyncValidation: stopAsyncValidation,\n  stopSubmit: stopSubmit,\n  submit: submit,\n  setSubmitFailed: setSubmitFailed,\n  setSubmitSucceeded: setSubmitSucceeded,\n  touch: touch,\n  unregisterField: unregisterField,\n  untouch: untouch,\n  updateSyncErrors: updateSyncErrors,\n  updateSyncWarnings: updateSyncWarnings\n};\nexport default actions;","/**\r\n * PopupWithText.js\r\n * Popup with custom text\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport Popup from '../Popup/Popup';\r\n\r\n\r\nimport './PopupWithText.scss';\r\n\r\nclass PopupWithText extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { onConfirm } = this.props;\r\n\r\n    this.state = {\r\n      text: '',\r\n      jsx: null,\r\n      useConfirm: true,\r\n      onConfirm,\r\n    };\r\n    this.openPopupWithText = this.openPopupWithText.bind(this);\r\n  }\r\n\r\n  openPopupWithText(text, useConfirm = true, onConfirm = null) {\r\n    this.setState({\r\n      text,\r\n      useConfirm,\r\n    });\r\n\r\n    if (onConfirm) {\r\n      this.setState({\r\n        onConfirm,\r\n      });\r\n    }\r\n    setTimeout(this.popupRef.openPopup, 10);\r\n  }\r\n\r\n  openPopupWithJSX(jsx, useConfirm = true, onConfirm = null) {\r\n    this.setState({\r\n      jsx,\r\n      useConfirm,\r\n    });\r\n\r\n    if (onConfirm) {\r\n      this.setState({\r\n        onConfirm,\r\n      });\r\n    }\r\n    setTimeout(this.popupRef.openPopup, 10);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      text, jsx, useConfirm, onConfirm,\r\n    } = this.state;\r\n    const { showCancelButton, hideCloseButton } = this.props;\r\n    return (\r\n      <div className=\"popup-with-text\">\r\n        <Popup\r\n          hideCloseButton={hideCloseButton}\r\n          ref={(r) => { this.popupRef = r; }}\r\n        >\r\n          <Fragment>\r\n            <div className=\"check-out-popup\">\r\n              <div className=\"upper-container upper-margin-down\">\r\n                {\r\n                  jsx || (\r\n                    <p>\r\n                      <span className=\"focus-text\">{text}</span>\r\n                    </p>\r\n                  )\r\n                }\r\n              </div>\r\n              <div className=\"button-container\">\r\n                {\r\n                  showCancelButton ?\r\n                    <Button\r\n                      className=\"checkout-button\"\r\n                      variant=\"medium-flat\"\r\n                      width={166}\r\n                      height={72}\r\n                      onClick={() => {\r\n                        this.popupRef.closePopup();\r\n                      }}\r\n                    >\r\n                      <p>Cancel</p>\r\n                    </Button>\r\n                  :\r\n                    null\r\n                }\r\n                <Button\r\n                  className=\"checkout-button\"\r\n                  variant=\"medium-flat-green\"\r\n                  width={166}\r\n                  height={72}\r\n                  onClick={() => {\r\n                    if (useConfirm) {\r\n                      onConfirm();\r\n                    }\r\n                    this.popupRef.closePopup();\r\n                  }}\r\n                >\r\n                  <p>Confirm</p>\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </Fragment>\r\n        </Popup>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nPopupWithText.defaultProps = {\r\n  onConfirm: () => {},\r\n  showCancelButton: false,\r\n  hideCloseButton: false,\r\n};\r\n\r\nPopupWithText.propTypes = {\r\n  onConfirm: PropTypes.func,\r\n  showCancelButton: PropTypes.bool,\r\n  hideCloseButton: PropTypes.bool,\r\n};\r\n\r\nexport default PopupWithText;\r\n","/**\r\n * PopupWithText.js\r\n * Popup with custom text\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport window from 'global/window';\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport PopupWithText from '../PopupWithText/PopupWithText';\r\n\r\n\r\nclass RefreshTimer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.oldTime = new Date();\r\n    this.timeout = null;\r\n    this.invokeNewTimer = this.invokeNewTimer.bind(this);\r\n    this.setTimer = this.setTimer.bind(this);\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.interval = window.setInterval(() => {\r\n      if (window.addEventListener) {\r\n        window.addEventListener('mousemove', this.invokeNewTimer);\r\n        window.addEventListener('keypress', this.invokeNewTimer);\r\n        clearInterval(this.interval);\r\n      }\r\n    }, 100);\r\n  }\r\n\r\n\r\n  componentWillUnmount() {\r\n    if (this.timeout) {\r\n      clearTimeout(this.timeout);\r\n    }\r\n\r\n    window.removeEventListener('mousemove', this.invokeNewTimer);\r\n    window.removeEventListener('keypress', this.invokeNewTimer);\r\n  }\r\n\r\n  setTimer() {\r\n    const { popupTimer, refreshTimer } = this.props;\r\n    this.timeout = setTimeout(() => {\r\n      const confirmResult = window.confirm(`Your session will expire due inactivity. Please click “OK” within ${refreshTimer / 1000 / 60} mins to continue, or “Cancel”, if you wish to leave the page.`);\r\n      const timeDiff = new Date() - this.oldTime;\r\n\r\n      if (confirmResult && timeDiff < popupTimer + refreshTimer) {\r\n        this.invokeNewTimer();\r\n      } else {\r\n        window.location.assign('/');\r\n      }\r\n    }, popupTimer);\r\n    this.oldTime = new Date();\r\n  }\r\n\r\n  invokeNewTimer() {\r\n    if (this.timeout) {\r\n      clearTimeout(this.timeout);\r\n    }\r\n\r\n    this.setTimer();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <PopupWithText\r\n          hideCloseButton\r\n          ref={node => this.popup = node}\r\n        />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nRefreshTimer.defaultProps = {\r\n  popupTimer: 600000,\r\n  refreshTimer: 120000,\r\n};\r\n\r\nRefreshTimer.propTypes = {\r\n  popupTimer: PropTypes.number,\r\n  refreshTimer: PropTypes.number,\r\n};\r\n\r\nexport default RefreshTimer;\r\n"],"sourceRoot":""}