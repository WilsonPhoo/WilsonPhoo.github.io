{"version":3,"sources":["assets/images/common/CashbackLogo.svg","components/Templates/PiggySignUp/PiggyCashback.js","components/Templates/InsurerFormHeader/HeaderDescWithTypeDate.js","components/Templates/Checkout/Checkout.js","components/Templates/Checkout/CheckoutWrapper.js","assets/images/common/CreditCards.png","components/Templates/CheckoutPopup/CheckoutUsingCashback.js","components/Forms/PromoCode/PromoCode.js","components/Templates/CashbackBalance/CashbackBalance.js"],"names":["module","exports","__webpack_require__","p","PiggyCashback","onClick","this","props","react_default","a","createElement","PiggySignUp","header","className","src","CashbackLogo","alt","subHeader","buttonInner","react","Facebook","Google","Component","defaultProps","HeaderDescWithTypeDate","_this$props","logo","logoName","insurerName","insurerDesc","data1","data1Value","data2","data2Value","reactstrap_es","noGutters","Checkout","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","charged","trackingTags","state","checkoutButton","promoCode","rewardsID","transactionData","errorMsg","receipt","handleOnCheckout","bind","assertThisInitialized","handleOnCheckoutZero","renderHeader","renderDetails","renderMainDetails","renderSubDetails","renderDetailsTable","renderPromoCodeButton","renderPriceSummary","renderTotal","generateTabs","renderCashBack","cleanCheckoutButtonContainer","renderCheckoutButton","renderDisclaimerWarning","renderDisclaimer","renderBackToDetail","nextProps","prevState","promoErrorString","formValues","userID","loadingEnd","checkLogin","isLoggedIn","result","cashbackCheckbox","newRewardsID","length","objectSpread","category","window","scrollTo","$","hide","range","document","createRange","gaCheckOut","appendChild","createContextualFragment","prevProps","_this2","_this$state","_this$props2","getStripe","getPromo","sessionId","userToken","promo","code","user","userData","transaction","users","details","familyName","_","find","data","title","givenName","concat","description","error","console","log","setTimeout","checkoutComplete","openCheckoutComplete","gaReceipt","show","goog_report_conversion","subDetails","reduce","push","desc","key","_this$props3","loading","get","submit","setState","_this3","_this$state2","_this$props4","wording","wordingCheck","wordingCheckbox","termsCheckbox","invokeClick","setInterval","getElementsByClassName","dataset","amount","checkoutUsingCashback","openCheckoutUsingCashback","payment","clearInterval","button","trigger","firstChild","removeChild","headerData","Templates_InsurerFormHeader_HeaderDescWithTypeDate","isFullWidth","isMain","arguments","undefined","smLeftWidth","smRightWidth","coverageData","policy_info","toUpperCase","attributes","toConsumableArray","infoList","map","info","index","xs","sm","mainDetails","isEmpty","_this4","borderStyle","isArray","leftDetail","rightDetail","TabView","style","marginTop","marginLeft","marginRight","tabs","maxTabWidthPx","autoHeight","name","innerJSX","Accordion","height","isWarning","isFullBorder","_this$props5","checkout","replace","serializeArray","_this5","_this$state3","_this$props6","price","priceData","noTitle","isPromo","promoStyle","removePromoButton","Button","variant","element","sub_title","_this$state4","totalData","cashback","star","toFixed","_this6","_this$state5","_this$props7","isAdHoc","PromoCode","assign","placeholderString","zIndex","errorString","_this$state6","_this$props8","change","rewardPoints","login","PiggySignUp_PiggyCashback","popup","openPopup","loginContainer","setInitialIndex","cashbackData","cashbackUsed","cashbackBalance","cashbackDiscountStyle","chargedStyle","cashbackUseChargedStyle","Selection","type","options","sizeInSM","CashbackBalance","_this$props9","href","target","_this$props10","backToDetails","width","_this7","renderChargedHeader","CreditCards","Enquiry","CheckoutComplete","wrappedComponentRef","node","CheckoutUsingCashback","ref","onConfirm","reduxForm","form","connect","getFormValues","dispatch","callBack","time","setLoading","clearLoading","checkLoginStatus","CheckoutWrapper","params","verifyParams","getAnonymousSession","adHocData","status","getReceipt","userDetails","id","token","reward_points","adHocCharged","isCharged","getPromoToUse","Templates_Checkout_Checkout","ownProps","insurance","useRewards","getTransactionStripeSession","promocode","useReward","getPromoCode","stripeData","userId","postCheckout","callback","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","popupRef","react__WEBPACK_IMPORTED_MODULE_6___default","_Popup_Popup__WEBPACK_IMPORTED_MODULE_9__","r","react__WEBPACK_IMPORTED_MODULE_6__","components_FormsV3_Button_Button__WEBPACK_IMPORTED_MODULE_8__","closePopup","mediumHeight","bigHeight","size","isFocus","handleFocus","handleBlur","extraInfo","focusStyle","_FormInputWrapper_FormInputWrapper__WEBPACK_IMPORTED_MODULE_7__","formParent","onFocus","onBlur","component","placeholder","textInput","value","react__WEBPACK_IMPORTED_MODULE_5___default"],"mappings":"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","file":"static/js/7.49201d7a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/CashbackLogo.8368adf4.svg\";","/**\r\n * PiggyCashback.js\r\n * The piggy component in cashback\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Google from 'assets/images/Icons/Google.png';\r\nimport Facebook from 'assets/images/Icons/Facebook.png';\r\nimport CashbackLogo from 'assets/images/common/CashbackLogo.svg';\r\n\r\nimport PiggySignUp from './PiggySignUp';\r\n\r\nclass PiggyCashback extends Component {\r\n  render() {\r\n    const { onClick } = this.props;\r\n    return (\r\n      <PiggySignUp\r\n        header={\r\n          <p className=\"main-text\">\r\n            Earn up to 5%\r\n            <img src={CashbackLogo} alt=\"CashbackLogo.svg\" />\r\n            CASHBACK!\r\n          </p>\r\n        }\r\n        subHeader={\r\n          <p className=\"desc-text desc-padding\">Sign in/ Sign up before checkout in order to redeem!</p>\r\n        }\r\n        buttonInner={\r\n          <Fragment>\r\n            <span>Sign in</span>\r\n            <img src={Facebook} alt=\"Facebook.png\" />\r\n            <img src={Google} alt=\"Google.png\" />\r\n          </Fragment>\r\n        }\r\n        onClick={onClick}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nPiggyCashback.defaultProps = {\r\n  onClick: () => {},\r\n};\r\n\r\nPiggyCashback.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default PiggyCashback;\r\n","/**\r\n * HeaderDescWithTypeDate.js\r\n * Product summary with type and date\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Row } from 'reactstrap';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './HeaderDescWithTypeDate.scss';\r\n\r\nclass HeaderDescWithTypeDate extends Component {\r\n  render() {\r\n    const {\r\n      logo,\r\n      logoName,\r\n      insurerName,\r\n      insurerDesc,\r\n      data1,\r\n      data1Value,\r\n      data2,\r\n      data2Value,\r\n    } = this.props;\r\n\r\n    return (\r\n      <Row className=\"header-desc-with-type-date-container\" noGutters>\r\n        <div className=\"insurer-left-container\">\r\n          <div className=\"insurer-logo-container\">\r\n            <div className=\"company-logo-container\">\r\n              <img className=\"company-logo\" src={logo} alt={logoName} />\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div className=\"insurer-desc-container\">\r\n              <p className=\"insurer-name\">{insurerName}</p>\r\n              <p className=\"insurer-desc\">{insurerDesc}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"insurer-right-container\">\r\n          <div className=\"data-container\">\r\n            <div className=\"data\">\r\n              <p className=\"data-name\">{data1}</p>\r\n              <p className=\"data-val\">{data1Value}</p>\r\n            </div>\r\n            <div className=\"data\">\r\n              <p className=\"data-name\">{data2}</p>\r\n              <p className=\"data-val\">{data2Value}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nHeaderDescWithTypeDate.defaultProps = {\r\n  insurerName: '',\r\n};\r\n\r\nHeaderDescWithTypeDate.propTypes = {\r\n  logo: PropTypes.string.isRequired,\r\n  logoName: PropTypes.string.isRequired,\r\n  insurerName: PropTypes.string,\r\n  insurerDesc: PropTypes.string.isRequired,\r\n  data1: PropTypes.string.isRequired,\r\n  data1Value: PropTypes.string.isRequired,\r\n  data2: PropTypes.string.isRequired,\r\n  data2Value: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default HeaderDescWithTypeDate;\r\n","/**\r\n * Checkout.js\r\n * This is the checkout view that will render the summary\r\n * of details and handle all the promo, cashback and stripe\r\n * APIs.\r\n *\r\n * There is 2 state to this view. Checkout or receipt. It will\r\n * toggle accordingly if charged/ahHocCharged.\r\n *\r\n * Upon successful payment, it will update the user data again\r\n * to check if any cashback is used.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { reduxForm, getFormValues } from 'redux-form';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { Row, Col } from 'reactstrap';\r\n\r\nimport CreditCards from 'assets/images/common/CreditCards.png';\r\n\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport TabView from '../TabView/TabView';\r\nimport Accordion from '../Accordion/Accordion';\r\nimport PiggyCashback from '../PiggySignUp/PiggyCashback';\r\nimport HeaderDescWithTypeDate from '../InsurerFormHeader/HeaderDescWithTypeDate';\r\nimport CashbackBalance from '../CashbackBalance/CashbackBalance';\r\nimport PromoCode from '../../Forms/PromoCode/PromoCode';\r\nimport Selection from '../../Forms/Selection/Selection';\r\nimport CheckoutComplete from '../CheckoutPopup/CheckoutComplete';\r\nimport CheckoutUsingCashback from '../CheckoutPopup/CheckoutUsingCashback';\r\nimport Enquiry from '../Enquiry/Enquiry';\r\n\r\nimport { setLoading, clearLoading } from '../../../actions/loadingScreenActions';\r\nimport { checkLoginStatus } from '../../../actions/userActions';\r\n\r\nimport './Checkout.scss';\r\n\r\nconst termsError = 'Please agree to all the terms to proceed.';\r\nconst transactionError = 'Transaction error. Please try again.';\r\n\r\nclass Checkout extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const {\r\n      checkoutButton,\r\n      rewardsID,\r\n      charged,\r\n      transactionData,\r\n      promoErrorString,\r\n    } = prevState;\r\n\r\n    const {\r\n      formValues,\r\n      userID,\r\n      loadingEnd,\r\n      checkLogin,\r\n      isLoggedIn,\r\n    } = nextProps;\r\n\r\n    let result = null;\r\n\r\n    if (formValues && formValues.cashbackCheckbox) {\r\n      const newRewardsID = formValues.cashbackCheckbox.length !== 0 ? userID : null;\r\n      if (rewardsID !== newRewardsID) {\r\n        result = { rewardsID: newRewardsID };\r\n        // getPromo(userToken, sessionId, promoCode, newRewardsID, passedType, failedType);\r\n      }\r\n    }\r\n\r\n    if (transactionData !== nextProps.transactionData) {\r\n      result = { ...result, transactionData: nextProps.transactionData };\r\n    }\r\n\r\n    if (checkoutButton !== nextProps.checkoutButton) {\r\n      result = { ...result, checkoutButton: nextProps.checkoutButton };\r\n    }\r\n\r\n    if (promoErrorString !== nextProps.promoErrorString) {\r\n      result = { ...result, promoErrorString: nextProps.promoErrorString };\r\n\r\n      if (nextProps.promoErrorString) {\r\n        result = { ...result, promoCode: null };\r\n      }\r\n    }\r\n\r\n    if (charged !== nextProps.charged) {\r\n      result = { ...result, charged: nextProps.charged };\r\n      if (nextProps.charged) {\r\n        if (isLoggedIn) {\r\n          checkLogin();\r\n        }\r\n        loadingEnd();\r\n      } else if (nextProps.charged === false) {\r\n        result = {\r\n          ...result,\r\n          charged: nextProps.charged,\r\n          errorMsg: transactionError,\r\n        };\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { charged, trackingTags } = this.props;\r\n\r\n    this.state = {\r\n      checkoutButton: null,\r\n      promoCode: null,\r\n      rewardsID: null,\r\n      charged: null,\r\n      transactionData: null,\r\n      errorMsg: null,\r\n    };\r\n\r\n    if (charged && trackingTags && trackingTags.receipt) {\r\n      trackingTags.receipt();\r\n    }\r\n\r\n    this.handleOnCheckout = this.handleOnCheckout.bind(this);\r\n    this.handleOnCheckoutZero = this.handleOnCheckoutZero.bind(this);\r\n    this.renderHeader = this.renderHeader.bind(this);\r\n    this.renderDetails = this.renderDetails.bind(this);\r\n    this.renderMainDetails = this.renderMainDetails.bind(this);\r\n    this.renderSubDetails = this.renderSubDetails.bind(this);\r\n    this.renderDetailsTable = this.renderDetailsTable.bind(this);\r\n    this.renderPromoCodeButton = this.renderPromoCodeButton.bind(this);\r\n    this.renderPriceSummary = this.renderPriceSummary.bind(this);\r\n    this.renderTotal = this.renderTotal.bind(this);\r\n    this.generateTabs = this.generateTabs.bind(this);\r\n    this.renderCashBack = this.renderCashBack.bind(this);\r\n    this.cleanCheckoutButtonContainer = this.cleanCheckoutButtonContainer.bind(this);\r\n    this.renderCheckoutButton = this.renderCheckoutButton.bind(this);\r\n    this.renderDisclaimerWarning = this.renderDisclaimerWarning.bind(this);\r\n    this.renderDisclaimer = this.renderDisclaimer.bind(this);\r\n    this.renderBackToDetail = this.renderBackToDetail.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { category } = this.props;\r\n    window.scrollTo(0, 0);\r\n\r\n    if (window.$('#intercom-container')) {\r\n      window.$('#intercom-container').hide();\r\n    }\r\n\r\n    if (category === 'travel') {\r\n      const range = document.createRange();\r\n      this.gaCheckOut.appendChild(range.createContextualFragment(`\r\n      <!-- Google Code for PPS2 - Travel - CheckoutPage_ProceedPayment Conversion Page\r\n      In your html page, add the snippet and call\r\n      goog_report_conversion when someone clicks on the\r\n      chosen link or button. -->\r\n      <script type=\"text/javascript\">\r\n        /* <![CDATA[ */\r\n        goog_snippet_vars = function() {\r\n          var w = window;\r\n          w.google_conversion_id = 865122565;\r\n          w.google_conversion_label = \"rJn8CLL_5oQBEIXywpwD\";\r\n          w.google_remarketing_only = false;\r\n        }\r\n        // DO NOT CHANGE THE CODE BELOW.\r\n        goog_report_conversion = function(url) {\r\n          goog_snippet_vars();\r\n          window.google_conversion_format = \"3\";\r\n          var opt = new Object();\r\n          opt.onload_callback = function() {\r\n          if (typeof(url) != 'undefined') {\r\n            window.location = url;\r\n          }\r\n        }\r\n        var conv_handler = window['google_trackConversion'];\r\n        if (typeof(conv_handler) == 'function') {\r\n          conv_handler(opt);\r\n        }\r\n      }\r\n      /* ]]> */\r\n      </script>\r\n      <script type=\"text/javascript\"\r\n        src=\"//www.googleadservices.com/pagead/conversion_async.js\">\r\n      </script>\r\n      `));\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const {\r\n      checkoutButton,\r\n      rewardsID,\r\n      promoCode,\r\n      transactionData,\r\n      charged,\r\n    } = this.state;\r\n\r\n    const {\r\n      getStripe,\r\n      getPromo,\r\n      sessionId,\r\n      userToken,\r\n      trackingTags,\r\n      category,\r\n    } = this.props;\r\n\r\n    if (rewardsID !== prevState.rewardsID) {\r\n      this.cleanCheckoutButtonContainer();\r\n      getPromo(userToken, sessionId, promoCode, rewardsID);\r\n    }\r\n\r\n    if (transactionData !== prevState.transactionData || rewardsID !== prevState.rewardsID) {\r\n      const promo = transactionData.promo ? transactionData.promo.code : '';\r\n      getStripe(sessionId, promo, rewardsID);\r\n    }\r\n\r\n    if (checkoutButton !== prevState.checkoutButton) {\r\n      this.renderCheckoutButton();\r\n    }\r\n\r\n    if (charged && !prevState.charged) {\r\n      if (trackingTags && trackingTags.receipt) {\r\n        trackingTags.receipt();\r\n      }\r\n      let user = 'User';\r\n      try {\r\n        const userData = transactionData.transaction.users[0].details;\r\n        const familyName = _.find(userData, data => data.title === 'Family Name');\r\n        const givenName = _.find(userData, data => data.title === 'Given Name');\r\n        user = `${givenName ? `${givenName.description} ` : ' '}${familyName ? familyName.description : ''}`;\r\n      } catch (error) {\r\n        console.log('Name not found in checkout.');\r\n      }\r\n      setTimeout(() => this.checkoutComplete.openCheckoutComplete(user), 300);\r\n\r\n      if (category === 'travel') {\r\n        const range = document.createRange();\r\n        this.gaReceipt.appendChild(range.createContextualFragment(`\r\n        <!-- Google Code for PPS - Travel - Receipt page Conversion Page -->\r\n        <script type=\"text/javascript\">\r\n        /* <![CDATA[ */\r\n        var google_conversion_id = 865122565;\r\n        var google_conversion_label = \"3xCyCO-P54QBEIXywpwD\";\r\n        var google_remarketing_only = false;\r\n        /* ]]> */\r\n        </script>\r\n        <script type=\"text/javascript\" src=\"//www.googleadservices.com/pagead/conversion.js\">\r\n        </script>\r\n        <noscript>\r\n        <div style=\"display:inline;\">\r\n        <img height=\"1\" width=\"1\" style=\"border-style:none;\" alt=\"\" src=\"//www.googleadservices.com/pagead/conversion/865122565/?label=3xCyCO-P54QBEIXywpwD&amp;guid=ON&amp;script=0\"/>\r\n        </div>\r\n        </noscript>\r\n        `));\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (window.$('#intercom-container')) {\r\n      window.$('#intercom-container').show();\r\n    }\r\n\r\n    if (window.goog_report_conversion) {\r\n      delete window.goog_report_conversion;\r\n    }\r\n  }\r\n\r\n  generateTabs() {\r\n    const { subDetails } = this.props;\r\n    return _.reduce(subDetails, (result, data) => {\r\n      result.push({\r\n        desc: data.key,\r\n      });\r\n\r\n      return result;\r\n    }, []);\r\n  }\r\n\r\n  handleOnCheckoutZero() {\r\n    const { loading, loadingEnd } = this.props;\r\n    try {\r\n      loading(null, 'Checkout failed!.', 10000);\r\n      window.$('#checkout_form').get(0).submit();\r\n    } catch (error) {\r\n      loadingEnd();\r\n      console.log('Payment Zero failed');\r\n      this.setState({\r\n        errorMsg: 'Payment failed! Please try again!',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleOnCheckout() {\r\n    const { rewardsID, transactionData, promoCode } = this.state;\r\n    const {\r\n      formValues,\r\n      loading,\r\n      loadingEnd,\r\n      getStripe,\r\n      sessionId,\r\n      wording,\r\n      trackingTags,\r\n    } = this.props;\r\n\r\n    const wordingCheck = wording && formValues ? formValues.wordingCheckbox && formValues.wordingCheckbox.length === 1 : true;\r\n    if (\r\n      formValues &&\r\n      wordingCheck &&\r\n      formValues.termsCheckbox &&\r\n      formValues.termsCheckbox.length === 1) {\r\n      // console.log(promoCode, useRewards);\r\n      // getStripe(sessionId, promoCode, rewardsID);\r\n\r\n      const invokeClick = setInterval(() => {\r\n        try {\r\n          const { amount } = window.$('#checkout_form')[0].getElementsByClassName('stripe-button')[0].dataset;\r\n          if (amount === '0') {\r\n            this.checkoutUsingCashback.openCheckoutUsingCashback();\r\n            if (trackingTags && trackingTags.payment) {\r\n              trackingTags.payment({\r\n                rewardsID,\r\n                promoCode,\r\n              });\r\n            }\r\n            if (window.goog_report_conversion) {\r\n              window.goog_report_conversion();\r\n            }\r\n            loadingEnd();\r\n            clearInterval(invokeClick);\r\n            return;\r\n          }\r\n        } catch (error) {\r\n          console.log('Get new payable failed');\r\n        }\r\n\r\n        try {\r\n          const button = window.$('#checkout_form')[0].getElementsByClassName('stripe-button-el')[0];\r\n          if (button) {\r\n            window.$(button).trigger('click');\r\n            if (trackingTags && trackingTags.payment) {\r\n              trackingTags.payment({\r\n                rewardsID,\r\n                promoCode,\r\n              });\r\n            }\r\n            if (window.goog_report_conversion) {\r\n              window.goog_report_conversion();\r\n            }\r\n            clearInterval(invokeClick);\r\n            setTimeout(loadingEnd, 500);\r\n          }\r\n        } catch (error) {\r\n          console.log('Button not yet generated!');\r\n        }\r\n      }, 10);\r\n\r\n      loading(() => {\r\n        clearInterval(invokeClick);\r\n        const promo = transactionData.promo ? transactionData.promo.code : '';\r\n        getStripe(sessionId, promo, rewardsID);\r\n      }, 'Checkout failed!. Please try again.', 10000);\r\n\r\n      this.setState({\r\n        errorMsg: null,\r\n      });\r\n\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      errorMsg: termsError,\r\n    });\r\n  }\r\n\r\n  cleanCheckoutButtonContainer() {\r\n    while (this.checkoutButton.firstChild) {\r\n      this.checkoutButton.removeChild(this.checkoutButton.firstChild);\r\n    }\r\n  }\r\n\r\n  renderHeader() {\r\n    const { headerData } = this.props;\r\n    return (\r\n      <HeaderDescWithTypeDate\r\n        logo={headerData.logo}\r\n        logoName={headerData.logoName}\r\n        insurerName={headerData.insurerName}\r\n        insurerDesc={headerData.insurerDesc}\r\n        data1={headerData.data1}\r\n        data1Value={headerData.data1Value}\r\n        data2={headerData.data2}\r\n        data2Value={headerData.data2Value}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderDetails(details, isFullWidth, isMain = false) {\r\n    const { transactionData } = this.state;\r\n    if (!details) {\r\n      return null;\r\n    }\r\n\r\n    let smLeftWidth = 5;\r\n    let smRightWidth = 7;\r\n    smLeftWidth = isFullWidth ? 12 : smLeftWidth;\r\n    smRightWidth = isFullWidth ? 12 : smRightWidth;\r\n\r\n    // let paddingStyle = isLeftSide ? 'detail-padding-right' : 'detail-padding-left';\r\n    // paddingStyle = isFullWidth ? '' : paddingStyle;\r\n\r\n    let coverageData = {};\r\n\r\n    if (isMain) {\r\n      try {\r\n        coverageData = {\r\n          title: 'Coverage',\r\n          description: _.find(transactionData.transaction.policy_info, data => data.title.toUpperCase() === 'COVERAGE').description,\r\n        };\r\n      } catch (error) {\r\n        // No coverage found\r\n        // eslint-disable-next-line\r\n      }\r\n    }\r\n\r\n    const attributes = [...details.attributes, coverageData];\r\n    const infoList = _.map(attributes, (info, index) => (\r\n      <Col\r\n        xs={12}\r\n        className=\"detail-group\"\r\n        key={`${info.title}-${index}`}\r\n      >\r\n        <Row noGutters>\r\n          <Col className=\"detail-desc\" xs={12} sm={smLeftWidth}>{info.title}</Col>\r\n          <Col className=\"detail-value\" xs={12} sm={smRightWidth}>{info.description}</Col>\r\n        </Row>\r\n      </Col>\r\n    ));\r\n\r\n    return (\r\n      <Col className=\"detail-column\" xs={12} sm={6}>\r\n        <Row noGutters>\r\n          <Col className=\"detail-header\" xs={12}>{details.title}</Col>\r\n          {infoList}\r\n        </Row>\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  renderMainDetails() {\r\n    const { mainDetails } = this.props;\r\n    if (_.isEmpty(mainDetails.attributes)) {\r\n      return null;\r\n    }\r\n    return this.renderDetails(mainDetails, false, true);\r\n  }\r\n\r\n  renderSubDetails() {\r\n    const { charged } = this.state;\r\n    const { subDetails } = this.props;\r\n\r\n    const borderStyle = charged ? 'checkout-detail-container-full-border' : '';\r\n\r\n    if (_.isArray(subDetails)) {\r\n      if (subDetails.length === 1) {\r\n        return (\r\n          <Row className={`checkout-detail-container ${borderStyle}`} noGutters>\r\n            {this.renderDetails(subDetails[0].leftDetail, false)}\r\n            {this.renderDetails(subDetails[0].rightDetail, false)}\r\n          </Row>\r\n        );\r\n      }\r\n\r\n      if (subDetails.length > 1) {\r\n        return (\r\n          <TabView\r\n            style={{ marginTop: 44, marginLeft: 30, marginRight: 30 }}\r\n            tabs={this.generateTabs()}\r\n            maxTabWidthPx={128}\r\n            autoHeight\r\n            name=\"travel-checkout-tab\"\r\n            charged={charged}\r\n          >\r\n            {\r\n              _.map(subDetails, data => (\r\n                <Fragment key={data.key}>\r\n                  <Row className=\"checkout-detail-container\" noGutters>\r\n                    {this.renderDetails(data.leftDetail, false)}\r\n                    {this.renderDetails(data.rightDetail, false)}\r\n                  </Row>\r\n                </Fragment>\r\n              ))\r\n            }\r\n          </TabView>\r\n        );\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderDetailsTable() {\r\n    const { charged } = this.state;\r\n    const borderStyle = charged ? 'checkout-detail-container-full-border' : '';\r\n\r\n    const innerJSX = (\r\n      <Col className=\"no-padding\"xs={12}>\r\n        <Row className={`checkout-detail-container ${borderStyle}`} noGutters>\r\n          {this.renderMainDetails()}\r\n        </Row>\r\n        {this.renderSubDetails()}\r\n      </Col>\r\n    );\r\n    if (charged) {\r\n      return innerJSX;\r\n    }\r\n\r\n    return (\r\n      <Accordion\r\n        height={62}\r\n        isWarning\r\n        isFullBorder\r\n      >\r\n        {innerJSX}\r\n      </Accordion>\r\n    );\r\n  }\r\n\r\n  renderCheckoutButton() {\r\n    const { checkoutButton } = this.state;\r\n    const {\r\n      checkout,\r\n      sessionId,\r\n      userID,\r\n      loading,\r\n    } = this.props;\r\n\r\n    if (!checkoutButton) {\r\n      return;\r\n    }\r\n\r\n    this.cleanCheckoutButtonContainer();\r\n\r\n    const range = document.createRange();\r\n    this.checkoutButton.appendChild(range.createContextualFragment(_.replace(checkoutButton, 'action=\"CALLBACK_URL\" method=\"post\"', 'id=\"checkout_form\"')));\r\n\r\n    // window.$('#checkout-button').onClick = form.children[1].onclick;\r\n\r\n    window.$('#checkout_form').get(0).submit = () => {\r\n      const data = window.$('#checkout_form').serializeArray();\r\n\r\n      loading(null, 'Checkout failed!.', 10000);\r\n      checkout(sessionId, data, userID);\r\n      // Prevent form submit.\r\n      return false;\r\n    };\r\n\r\n    /* const invokeClick = setInterval(() => {\r\n      const button = window.$('#checkout_form')[0].getElementsByClassName('stripe-button-el')[0];\r\n      if (button) {\r\n        window.$(button).trigger('click');\r\n        clearInterval(invokeClick);\r\n        setTimeout(loadingEnd, 500);\r\n      }\r\n    }, 10); */\r\n  }\r\n\r\n  renderPriceSummary() {\r\n    const { transactionData, rewardsID, charged } = this.state;\r\n    const { getPromo, userToken, sessionId } = this.props;\r\n\r\n    if (\r\n      !transactionData ||\r\n      !transactionData.transaction ||\r\n      !transactionData.transaction.price\r\n    ) {\r\n      return null;\r\n    }\r\n\r\n    const priceData = transactionData.transaction.price;\r\n    return _.reduce(priceData, (result, price, index) => {\r\n      if (index === priceData.length - 1 || price.title === 'P$ Cashback') {\r\n        return result;\r\n      }\r\n      const noTitle = !price.title || price.title === '';\r\n      const isPromo = price.title !== 'Subtotal' &&\r\n                      price.title !== 'Discount' &&\r\n                      !noTitle;\r\n\r\n      const promoStyle = isPromo ? 'green' : '';\r\n\r\n      const removePromoButton = (\r\n        isPromo && !charged ?\r\n          (\r\n            <Button\r\n              className=\"promo-remove-button\"\r\n              variant=\"small-outline\"\r\n              height={36}\r\n              onClick={() => {\r\n                this.cleanCheckoutButtonContainer();\r\n                getPromo(userToken, sessionId, null, rewardsID);\r\n                this.setState({\r\n                  promoCode: null,\r\n                });\r\n              }}\r\n            >\r\n              <p>Remove</p>\r\n            </Button>\r\n          )\r\n          :\r\n          null\r\n      );\r\n\r\n      const element = (\r\n        <Fragment key={`price-data-${index}`}>\r\n          <Col className={`summary-value-container ${promoStyle}`} xs={12}>\r\n            {\r\n              noTitle ?\r\n                <span className=\"sub-text\">{price.sub_title}</span>\r\n              :\r\n                <div className=\"summary-left\">\r\n                  <span className=\"title\">{price.title}</span>\r\n                  <span className=\"sub-title\">{price.sub_title}</span>\r\n                  <div className=\"d-none d-sm-flex\">\r\n                    {removePromoButton}\r\n                  </div>\r\n                </div>\r\n            }\r\n            <span>{price.description}</span>\r\n          </Col>\r\n          {\r\n            isPromo ?\r\n              <Col className=\"summary-value-container green\" xs={12}>\r\n                <span className=\"sub-text\">Promocode discount</span>\r\n              </Col>\r\n            :\r\n              null\r\n          }\r\n          <div className=\"d-flex d-sm-none\">\r\n            {removePromoButton}\r\n          </div>\r\n        </Fragment>\r\n      );\r\n\r\n      result.push(element);\r\n      return result;\r\n    }, []);\r\n  }\r\n\r\n  renderTotal() {\r\n    const { transactionData, charged } = this.state;\r\n\r\n    if (\r\n      !transactionData ||\r\n      !transactionData.transaction ||\r\n      !transactionData.transaction.price\r\n    ) {\r\n      return null;\r\n    }\r\n\r\n    const priceData = transactionData.transaction.price;\r\n    const totalData = _.find(priceData, price => price.title === 'Total');\r\n    const { cashback } = transactionData.transaction;\r\n\r\n    if (!totalData) {\r\n      return null;\r\n    }\r\n\r\n    const star = charged ? '' : '*';\r\n\r\n    return (\r\n      <Col className=\"summary-value-container total\" xs={12}>\r\n        <div className=\"summary-left\">\r\n          <span>{totalData.title}</span>\r\n        </div>\r\n        <div className=\"summary-total\">\r\n          <span className=\"final-amount\">{totalData.description}</span>\r\n          {\r\n            cashback ?\r\n              <span className=\"cashback green\">{`(Earn $${cashback.toFixed(2)} cashback${star})`}</span>\r\n            :\r\n              null\r\n          }\r\n        </div>\r\n      </Col>\r\n    );\r\n  }\r\n  renderPromoCodeButton() {\r\n    const { rewardsID, charged } = this.state;\r\n    const {\r\n      getPromo,\r\n      userToken,\r\n      sessionId,\r\n      promoErrorString,\r\n      isAdHoc,\r\n    } = this.props;\r\n\r\n    if (charged) {\r\n      return null;\r\n    }\r\n\r\n    if (isAdHoc) {\r\n      return <div className=\"promo\" />;\r\n    }\r\n\r\n    return (\r\n      <div className=\"promo\">\r\n        <PromoCode\r\n          {...this.props}\r\n          name=\"promoCode\"\r\n          placeholderString=\"Enter Promo Code\"\r\n          desc=\"Promocode\"\r\n          zIndex={90}\r\n          errorString={promoErrorString}\r\n          onClick={(promoCode) => {\r\n            this.cleanCheckoutButtonContainer();\r\n            getPromo(userToken, sessionId, promoCode, rewardsID);\r\n            this.setState({\r\n              promoCode,\r\n            });\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderCashBack() {\r\n    const { rewardsID, charged, transactionData } = this.state;\r\n    const {\r\n      isLoggedIn,\r\n      change,\r\n      rewardPoints,\r\n      login,\r\n    } = this.props;\r\n\r\n    if (!charged && !isLoggedIn) {\r\n      return (\r\n        <div className=\"cashback\">\r\n          <PiggyCashback\r\n            onClick={() => login.popup.openPopup(login.loginContainer.setInitialIndex(1))}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (\r\n      !transactionData ||\r\n      !transactionData.transaction ||\r\n      !transactionData.transaction.price\r\n    ) {\r\n      return null;\r\n    }\r\n\r\n    const priceData = transactionData.transaction.price;\r\n    const cashbackData = _.find(priceData, data => data.title === 'P$ Cashback');\r\n\r\n    const cashbackUsed = cashbackData ? cashbackData.description : '$0';\r\n\r\n    let cashbackBalance = '';\r\n    try {\r\n      cashbackBalance = cashbackData && !charged ?\r\n        rewardPoints - _.replace(cashbackUsed, '-$', '') :\r\n        rewardPoints;\r\n    } catch (error) {\r\n      cashbackBalance = rewardPoints;\r\n    }\r\n\r\n    // In case null\r\n    cashbackBalance = cashbackBalance || 0;\r\n    cashbackBalance = `${cashbackBalance.toFixed(2)}`;\r\n\r\n    const cashbackDiscountStyle = rewardsID ? 'cashback-discount-use' : '';\r\n    const chargedStyle = charged ? 'cashback-charged' : '';\r\n    const cashbackUseChargedStyle = charged ? 'cashback-use-charged' : '';\r\n\r\n    return (\r\n      <div className={`cashback cashback-logged-in ${chargedStyle}`}>\r\n        <div className={`cashback-use ${cashbackUseChargedStyle}`}>\r\n          {\r\n            charged ?\r\n              <span className=\"cashback-text\">Cashback Used</span>\r\n            :\r\n              <div className=\"cashback-checkbox\">\r\n                <Selection\r\n                  name=\"cashbackCheckbox\"\r\n                  change={change}\r\n                  type=\"checkbox\"\r\n                  options={[\r\n                    { key: '1', description: <span>Use Cashback</span> },\r\n                  ]}\r\n                  sizeInSM={9}\r\n                />\r\n              </div>\r\n          }\r\n          <span className={`cashback-discount ${cashbackDiscountStyle}`}>{cashbackUsed}</span>\r\n        </div>\r\n        {\r\n          isLoggedIn ?\r\n            <div className=\"cashback-balance\">\r\n              <span className=\"cashback-balance-text\">Balance</span>\r\n              <div className=\"cashback-balance-display\">\r\n                <CashbackBalance cashbackBalance={cashbackBalance} />\r\n              </div>\r\n            </div>\r\n          :\r\n            null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderDisclaimerWarning() {\r\n    const { errorMsg } = this.state;\r\n\r\n    if (!errorMsg) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Col xs={12}>\r\n        <p className=\"disclaimer\">{errorMsg}</p>\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  renderDisclaimer() {\r\n    const { charged } = this.state;\r\n    const { change, wording } = this.props;\r\n    if (charged) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        {\r\n          wording ?\r\n            <Col xs={12}>\r\n              <div className=\"disclaimer disclaimer-margin\">\r\n                <Selection\r\n                  name=\"wordingCheckbox\"\r\n                  change={change}\r\n                  type=\"checkbox\"\r\n                  options={[\r\n                    {\r\n                      key: '1',\r\n                      description: (\r\n                        <span>\r\n                          I have read and agree to abide by the <a href={wording} target=\"__blank\">Policy Wording.</a>\r\n                        </span>\r\n                      ),\r\n                    },\r\n                  ]}\r\n                  sizeInSM={9}\r\n                />\r\n              </div>\r\n            </Col>\r\n          :\r\n            null\r\n        }\r\n        <Col xs={12}>\r\n          <div className=\"disclaimer \">\r\n            <Selection\r\n              name=\"termsCheckbox\"\r\n              change={change}\r\n              type=\"checkbox\"\r\n              options={[\r\n                {\r\n                  key: '1',\r\n                  description: (\r\n                    <Fragment>\r\n                      <p>\r\n                        I agree to store this policy in my PolicyPal account after purchase, in accordance with the Personal Data Protection Act.\r\n                      </p>\r\n                      <p>\r\n                        *Cashback <a href=\"/cashback\" target=\"_blank\">Terms & Conditions</a>\r\n                      </p>\r\n                    </Fragment>\r\n                  ),\r\n                },\r\n              ]}\r\n              sizeInSM={9}\r\n            />\r\n          </div>\r\n        </Col>\r\n        {this.renderDisclaimerWarning()}\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderBackToDetail() {\r\n    const { backToDetails, isAdHoc } = this.props;\r\n    if (!isAdHoc && backToDetails) {\r\n      return (\r\n        <Button\r\n          className=\"checkout-button\"\r\n          variant=\"medium-grey\"\r\n          width={300}\r\n          height={72}\r\n          onClick={backToDetails}\r\n        >\r\n          <p>Back to Edit Details</p>\r\n        </Button>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderChargedHeader() {\r\n    const { charged } = this.state;\r\n\r\n    if (charged) {\r\n      return (\r\n        <Col className=\"charged-header\" xs={12}>\r\n          <p>Receipt</p>\r\n        </Col>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const { charged } = this.state;\r\n    return (\r\n      <Row className=\"form-margin-container\" noGutters>\r\n        {this.renderChargedHeader()}\r\n        <Col className=\"company-product-container\" xs={12}>\r\n          {this.renderHeader()}\r\n        </Col>\r\n        {this.renderDetailsTable()}\r\n        <Col xs={12} className=\"summary-container\">\r\n          <Row noGutters>\r\n            <Col xs={12}>\r\n              <Row noGutters>\r\n                {this.renderPriceSummary()}\r\n                {this.renderTotal()}\r\n              </Row>\r\n            </Col>\r\n            <div className=\"promo-cashback-container\">\r\n              {this.renderPromoCodeButton()}\r\n              {this.renderCashBack()}\r\n            </div>\r\n            {this.renderDisclaimer()}\r\n          </Row>\r\n        </Col>\r\n        {\r\n          charged ?\r\n            null\r\n          :\r\n            <Fragment>\r\n              <Col className=\"checkout-button-container\" xs={12}>\r\n                {this.renderBackToDetail()}\r\n                <Button\r\n                  onClick={this.handleOnCheckout}\r\n                  className=\"checkout-button\"\r\n                  type=\"submit\"\r\n                  variant=\"medium-flat-green\"\r\n                  width={300}\r\n                  height={72}\r\n                >\r\n                  <p>Proceed to Payment</p>\r\n                </Button>\r\n              </Col>\r\n              <Col className=\"credit-card-container\" xs={12}>\r\n                <img src={CreditCards} alt=\"CreditCard.png\" />\r\n              </Col>\r\n              <Enquiry />\r\n            </Fragment>\r\n        }\r\n        <CheckoutComplete\r\n          wrappedComponentRef={node => this.checkoutComplete = node}\r\n        />\r\n        <CheckoutUsingCashback\r\n          ref={node => this.checkoutUsingCashback = node}\r\n          onConfirm={this.handleOnCheckoutZero}\r\n        />\r\n        <div className=\"stripe-checkout-button\" ref={node => this.checkoutButton = node} />\r\n        <div ref={node => this.gaCheckOut = node} />\r\n        <div ref={node => this.gaReceipt = node} />\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nCheckout.defaultProps = {\r\n  userToken: null,\r\n  formValues: null,\r\n  userID: null,\r\n  promoErrorString: null,\r\n  rewardPoints: null,\r\n  wording: null,\r\n  backToDetails: null,\r\n  isAdHoc: false,\r\n  trackingTags: null,\r\n  charged: false,\r\n};\r\n\r\nCheckout.propTypes = {\r\n  getStripe: PropTypes.func.isRequired,\r\n  getPromo: PropTypes.func.isRequired,\r\n  sessionId: PropTypes.string.isRequired,\r\n  userID: PropTypes.number,\r\n  userToken: PropTypes.string,\r\n  subDetails: PropTypes.array.isRequired,\r\n  loading: PropTypes.func.isRequired,\r\n  loadingEnd: PropTypes.func.isRequired,\r\n  formValues: PropTypes.object,\r\n  headerData: PropTypes.object.isRequired,\r\n  mainDetails: PropTypes.object.isRequired,\r\n  checkout: PropTypes.func.isRequired,\r\n  promoErrorString: PropTypes.string,\r\n  isLoggedIn: PropTypes.bool.isRequired,\r\n  change: PropTypes.func.isRequired,\r\n  rewardPoints: PropTypes.number,\r\n  login: PropTypes.object.isRequired,\r\n  wording: PropTypes.string,\r\n  backToDetails: PropTypes.func,\r\n  isAdHoc: PropTypes.bool,\r\n  trackingTags: PropTypes.object,\r\n  charged: PropTypes.bool,\r\n  category: PropTypes.string.isRequired,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  formValues: getFormValues('checkout')(state),\r\n  login: state.login,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  loading: (callBack, errorMsg, time) => {\r\n    dispatch(setLoading(callBack, errorMsg, time));\r\n  },\r\n  loadingEnd: () => {\r\n    dispatch(clearLoading());\r\n  },\r\n  checkLogin: () => {\r\n    dispatch(checkLoginStatus());\r\n  },\r\n});\r\n\r\nexport default reduxForm({\r\n  form: 'checkout',\r\n})(connect(mapStateToProps, mapDispatchToProps)(Checkout));\r\n","/**\r\n * CheckoutWrapper.js\r\n * This handles the initial portion of the checkout and\r\n * getting the initial promo and stripe form here.\r\n *\r\n * Creates anonymous session and transaction here if\r\n * not adhoc.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Checkout from './Checkout';\r\n\r\nimport { getAnonymousSession, getPromoCode, getReceipt, getTransactionStripeSession, postCheckout } from '../../../actions/insuranceActions';\r\nimport { setLoading, clearLoading } from '../../../actions/loadingScreenActions';\r\n\r\nclass CheckoutWrapper extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const { checkoutButton, sessionId, transactionData } = prevState;\r\n    const {\r\n      getPromo,\r\n      userToken,\r\n      getStripe,\r\n      charged,\r\n      isAdHoc,\r\n      adHocData,\r\n    } = nextProps;\r\n\r\n    let result = null;\r\n    if (checkoutButton !== nextProps.checkoutButton) {\r\n      result = {\r\n        checkoutButton: nextProps.checkoutButton,\r\n      };\r\n    }\r\n\r\n    if (sessionId !== nextProps.sessionId) {\r\n      result = {\r\n        ...result,\r\n        sessionId: nextProps.sessionId,\r\n      };\r\n\r\n      if (charged || (isAdHoc && adHocData.status === 'paid')) {\r\n        nextProps.getReceipt(nextProps.sessionId);\r\n      } else {\r\n        getPromo(userToken, nextProps.sessionId, null, false);\r\n      }\r\n    }\r\n\r\n    if (transactionData !== nextProps.transactionData) {\r\n      result = {\r\n        ...result,\r\n        transactionData: nextProps.transactionData,\r\n      };\r\n\r\n      getStripe(nextProps.sessionId, null, false);\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const {\r\n      checkoutButton,\r\n      transactionData,\r\n      loading,\r\n      backToDetails,\r\n      headerData,\r\n      mainDetails,\r\n      subDetails,\r\n      isAdHoc,\r\n      params,\r\n      wording,\r\n      verifyParams,\r\n    } = this.props;\r\n\r\n    loading(backToDetails);\r\n\r\n    if (!isAdHoc) {\r\n      this.props.getAnonymousSession(params, verifyParams);\r\n    }\r\n\r\n    this.state = {\r\n      headerData,\r\n      mainDetails,\r\n      subDetails,\r\n      checkoutButton,\r\n      sessionId: null,\r\n      transactionData,\r\n      wording,\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { sessionId, transactionData } = this.state;\r\n    const { loadingEnd } = this.props;\r\n    if ((!prevProps.sessionId || !prevProps.transactionData) && sessionId && transactionData) {\r\n      loadingEnd();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      headerData,\r\n      mainDetails,\r\n      subDetails,\r\n      checkoutButton,\r\n      sessionId,\r\n      transactionData,\r\n      wording,\r\n    } = this.state;\r\n\r\n    if (!sessionId || !transactionData) {\r\n      return null;\r\n    }\r\n\r\n    const {\r\n      getStripe,\r\n      getPromo,\r\n      checkout,\r\n      promoErrorString,\r\n      isLoggedIn,\r\n      charged,\r\n      userDetails,\r\n      backToDetails,\r\n      isAdHoc,\r\n      adHocData,\r\n      trackingTags,\r\n      category,\r\n    } = this.props;\r\n\r\n    const userID = isLoggedIn ? userDetails.data.id : null;\r\n    const userToken = isLoggedIn ? userDetails.data.token : null;\r\n    const rewardPoints = isLoggedIn ? userDetails.data.reward_points : null;\r\n    const adHocCharged = isAdHoc && adHocData.status === 'paid' ? true : null;\r\n    const isCharged = charged || adHocCharged;\r\n    const getPromoToUse = isCharged ? this.props.getReceipt : getPromo;\r\n\r\n    return (\r\n      <Checkout\r\n        headerData={headerData}\r\n        mainDetails={mainDetails}\r\n        subDetails={subDetails}\r\n        transactionData={transactionData}\r\n        checkoutButton={checkoutButton}\r\n        getStripe={getStripe}\r\n        getPromo={getPromoToUse}\r\n        sessionId={sessionId}\r\n        promoErrorString={promoErrorString}\r\n        isLoggedIn={isLoggedIn}\r\n        userID={userID}\r\n        checkout={checkout}\r\n        charged={isCharged}\r\n        userToken={userToken}\r\n        rewardPoints={rewardPoints}\r\n        backToDetails={backToDetails}\r\n        wording={wording}\r\n        isAdHoc={isAdHoc}\r\n        trackingTags={trackingTags}\r\n        category={category}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nCheckoutWrapper.defaultProps = {\r\n  charged: null,\r\n  sessionId: null,\r\n  transactionData: null,\r\n  promoErrorString: null,\r\n  userDetails: null,\r\n  checkoutButton: null,\r\n  backToDetails: null,\r\n  isLoggedIn: false,\r\n  isAdHoc: false,\r\n  adHocData: null,\r\n  wording: null,\r\n  trackingTags: null,\r\n  verifyParams: null,\r\n};\r\n\r\nCheckoutWrapper.propTypes = {\r\n  getStripe: PropTypes.func.isRequired,\r\n  getPromo: PropTypes.func.isRequired,\r\n  getReceipt: PropTypes.func.isRequired,\r\n  checkout: PropTypes.func.isRequired,\r\n  backToDetails: PropTypes.func,\r\n  charged: PropTypes.bool,\r\n  sessionId: PropTypes.string,\r\n  transactionData: PropTypes.object,\r\n  promoErrorString: PropTypes.string,\r\n  isLoggedIn: PropTypes.bool,\r\n  userDetails: PropTypes.object,\r\n  loading: PropTypes.func.isRequired,\r\n  loadingEnd: PropTypes.func.isRequired,\r\n  getAnonymousSession: PropTypes.func.isRequired,\r\n  checkoutButton: PropTypes.string,\r\n  headerData: PropTypes.object.isRequired,\r\n  mainDetails: PropTypes.object.isRequired,\r\n  subDetails: PropTypes.array.isRequired,\r\n  isAdHoc: PropTypes.bool,\r\n  adHocData: PropTypes.object,\r\n  params: PropTypes.object.isRequired,\r\n  wording: PropTypes.string,\r\n  trackingTags: PropTypes.object,\r\n  category: PropTypes.string.isRequired,\r\n  verifyParams: PropTypes.array,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  const sessionId = ownProps.isAdHoc ? ownProps.sessionId : state.insurance.sessionId;\r\n  return ({\r\n    checkoutButton: state.insurance.checkoutButton,\r\n    sessionId,\r\n    transactionData: state.insurance.transactionData,\r\n    promoErrorString: state.insurance.promoErrorString,\r\n    userDetails: state.userDetails,\r\n  });\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  getAnonymousSession: (params, verifyParams) => {\r\n    dispatch(getAnonymousSession(params, false, verifyParams));\r\n  },\r\n  getStripe: (sessionId, promoCode, useRewards) => {\r\n    dispatch(getTransactionStripeSession(sessionId, promoCode, useRewards));\r\n  },\r\n  getPromo: (userToken, sessionId, promocode, useReward) => {\r\n    dispatch(getPromoCode(userToken, sessionId, promocode, useReward));\r\n  },\r\n  getReceipt: (sessionId) => {\r\n    dispatch(getReceipt(sessionId));\r\n  },\r\n  checkout: (sessionId, stripeData, userId) => {\r\n    dispatch(postCheckout(sessionId, stripeData, userId));\r\n  },\r\n  loading: (callback = null) => {\r\n    dispatch(setLoading(callback));\r\n  },\r\n  loadingEnd: () => {\r\n    dispatch(clearLoading());\r\n  },\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CheckoutWrapper);\r\n","module.exports = \"data:image/png;base64,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\"","/**\r\n * CheckoutUsingCashback.js\r\n * Show this view when payment amount is 0.\r\n * Shoule be from cashback reduction to 0.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport CashbackLogo from 'assets/images/common/CashbackLogo.svg';\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport Popup from '../Popup/Popup';\r\n\r\nimport './CheckoutPopup.scss';\r\n\r\nclass CheckoutUsingCashback extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.openCheckoutUsingCashback = this.openCheckoutUsingCashback.bind(this);\r\n  }\r\n\r\n  openCheckoutUsingCashback() {\r\n    this.popupRef.openPopup();\r\n  }\r\n\r\n  render() {\r\n    const { onConfirm } = this.props;\r\n    return (\r\n      <Popup ref={(r) => { this.popupRef = r; }}>\r\n        <Fragment>\r\n          <div className=\"check-out-popup\">\r\n            <div className=\"upper-container upper-margin-down\">\r\n              <p>\r\n                <span>Purchase using </span>\r\n                <img src={CashbackLogo} alt=\"CashbackLogo.svg\" />\r\n                <span className=\"focus-text\"> Cashback</span>\r\n              </p>\r\n            </div>\r\n            <div className=\"mid-container\">\r\n              <p>No payment is needed</p>\r\n            </div>\r\n            <div className=\"button-container\">\r\n              <Button\r\n                className=\"checkout-button\"\r\n                variant=\"medium-flat\"\r\n                width={166}\r\n                height={72}\r\n                onClick={() => this.popupRef.closePopup()}\r\n              >\r\n                <p>Cancel</p>\r\n              </Button>\r\n              <Button\r\n                className=\"checkout-button\"\r\n                variant=\"medium-color\"\r\n                width={166}\r\n                height={72}\r\n                onClick={() => {\r\n                  onConfirm();\r\n                  this.popupRef.closePopup();\r\n                }}\r\n              >\r\n                <p>Confirm</p>\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Fragment>\r\n      </Popup>\r\n    );\r\n  }\r\n}\r\n\r\nCheckoutUsingCashback.defaultProps = {\r\n};\r\n\r\nCheckoutUsingCashback.propTypes = {\r\n  onConfirm: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default CheckoutUsingCashback;\r\n","/**\r\n * PromoCode.js\r\n * PromoCode field that takes in a callback\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\nimport Button from 'components/FormsV3/Button/Button';\r\n\r\nimport '../TextInput/TextInput.scss';\r\nimport './PromoCode.scss';\r\n\r\n// Height for medium dropdown\r\nconst mediumHeight = 60;\r\n// Height for big dropdown\r\nconst bigHeight = 72;\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass PromoCode extends Component {\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {object} props Component props\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // dropList - The passed down dropdown list items\r\n    // placeholderString - Placeholder string for input\r\n    // size - Size of this control\r\n    // numItemsDisplay - Max items to display on view\r\n    const {\r\n      size,\r\n    } = this.props;\r\n\r\n    // Get the control height\r\n    const height = size === 'big' ? bigHeight : mediumHeight;\r\n\r\n    // isOpened - Whether dropdown is opened\r\n    // isError - Whether there is input error\r\n    // listItems - The actual dropdown list\r\n    // selectedString - The selected item string\r\n    // height - Control height\r\n    // numItemsDisplay - How many items to display\r\n    // maxheight - Max height of the list\r\n    // listHeight - Height of the list. (Items count + control)\r\n    this.state = {\r\n      height,\r\n      isFocus: false,\r\n    };\r\n\r\n    this.handleFocus = this.handleFocus.bind(this);\r\n    this.handleBlur = this.handleBlur.bind(this);\r\n  }\r\n\r\n  handleFocus() {\r\n    this.setState({\r\n      isFocus: true,\r\n    });\r\n  }\r\n\r\n  handleBlur() {\r\n    this.setState({\r\n      isFocus: false,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      height,\r\n      isFocus,\r\n    } = this.state;\r\n\r\n    const {\r\n      name,\r\n      desc,\r\n      placeholderString,\r\n      zIndex,\r\n      onClick,\r\n      extraInfo,\r\n      errorString,\r\n    } = this.props;\r\n\r\n    const focusStyle = isFocus ? 'focus' : '';\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        desc={desc}\r\n        ref={node => (this.formParent = node)}\r\n        extraInfo={extraInfo}\r\n        errorString={errorString}\r\n      >\r\n        <div\r\n          className={`text-input-container promo-container ${focusStyle}`}\r\n          style={{ height, zIndex }}\r\n          onFocus={() => this.handleFocus()}\r\n          onBlur={() => this.handleBlur()}\r\n        >\r\n          <div className=\"text-input\">\r\n            <input\r\n              className=\"text\"\r\n              component=\"input\"\r\n              placeholder={placeholderString}\r\n              name={name}\r\n              ref={node => this.textInput = node}\r\n            />\r\n            <div className=\"promo-button\">\r\n              <Button\r\n                variant=\"medium-flat-green\"\r\n                height={48}\r\n                width={130}\r\n                onClick={() => onClick(this.textInput.value)}\r\n              >\r\n                <p>Apply</p>\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nPromoCode.defaultProps = {\r\n  desc: null,\r\n  extraInfo: null,\r\n  errorString: null,\r\n  size: null,\r\n  onClick: () => {},\r\n};\r\n\r\n\r\nPromoCode.propTypes = {\r\n  placeholderString: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  zIndex: PropTypes.number.isRequired,\r\n  desc: PropTypes.string,\r\n  onClick: PropTypes.func,\r\n  extraInfo: PropTypes.object,\r\n  errorString: PropTypes.string,\r\n  size: PropTypes.string,\r\n};\r\n\r\nexport default PromoCode;\r\n","/**\r\n * CashbackBalance.js\r\n * Component that displays the user's cashback balance\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport CashbackLogo from 'assets/images/common/CashbackLogo.svg';\r\n\r\nimport './CashbackBalance.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass CashbackBalance extends Component {\r\n  render() {\r\n    const { cashbackBalance } = this.props;\r\n\r\n    return (\r\n      <div className=\"cashback-summary\">\r\n        <img src={CashbackLogo} alt=\"CashbackLogo.svg\" />\r\n        <p>${cashbackBalance}</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nCashbackBalance.defaultProps = {\r\n};\r\n\r\nCashbackBalance.propTypes = {\r\n  cashbackBalance: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default CashbackBalance;\r\n"],"sourceRoot":""}