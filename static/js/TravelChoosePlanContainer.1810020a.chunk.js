(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{1006:function(e,t,a){e.exports=a.p+"static/media/Dollar.4c04bdcd.svg"},1007:function(e,t,a){e.exports=a.p+"static/media/Clock.009d7b15.svg"},1008:function(e,t,a){e.exports=a.p+"static/media/Document.942d49d5.svg"},1009:function(e,t,a){e.exports=a.p+"static/media/Exercise.095cb9c8.svg"},1010:function(e,t,a){e.exports=a.p+"static/media/Head.f919898f.svg"},1011:function(e,t,a){e.exports=a.p+"static/media/Medicine.b482e562.svg"},1012:function(e,t,a){e.exports=a.p+"static/media/Others.38c6df81.svg"},1013:function(e,t,a){e.exports=a.p+"static/media/Plane.04a26971.svg"},1014:function(e,t,a){e.exports=a.p+"static/media/DocumentsResp.714e7a23.svg"},1015:function(e,t,a){},1016:function(e,t,a){},1017:function(e,t,a){},1018:function(e,t,a){},1085:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),l=a(6),i=a(45),s=a(48),c=a(47),o=a(46),u=a(49),d=a(114),m=a(35),p=a.n(m),h=a(5),v=a.n(h),f=a(1),g=a.n(f),b=a(56),y=a(298),E=a(22),O=a(115),k=a(918),x=a.n(k),D=a(1006),j=a.n(D),N=a(301),S=a.n(N),w=a(375),C=a(644),P=a(23),T=a(2),I=a(227),_=a.n(I),M=a(12),F=a.n(M),R=a(371),V=a(693),B=a.n(V),L=a(1007),A=a.n(L),U=a(1008),z=a.n(U),G=a(1009),H=a.n(G),W=a(1010),Y=a.n(W),q=a(1011),K=a.n(q),$=a(1012),J=a.n($),Q=a(1013),X=a.n(Q),Z=a(1014),ee=a.n(Z),te={"Travel Inconvenience":X.a,"Medical Coverage":K.a,"Personal Protection":Y.a,"Leisure Activities":H.a,Others:J.a,"Policy Documents":z.a,documentsResp:ee.a},ae=a(624),ne=a(78),re=a(299),le=a(485),ie=a(325),se=a(566),ce=a(13),oe=a(77),ue=a(32),de=(a(1015),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={productData:null,showTooltips:{},showModal:!1,showPrexModal:!1,isShowBottomPrice:!1,emailPopupData:null},a.handleOnClick=a.handleOnClick.bind(Object(d.a)(Object(d.a)(a))),a.handleRestrictions=a.handleRestrictions.bind(Object(d.a)(Object(d.a)(a))),a.getNewData=a.getNewData.bind(Object(d.a)(Object(d.a)(a))),a.showModal=a.showModal.bind(Object(d.a)(Object(d.a)(a))),a.hideModal=a.hideModal.bind(Object(d.a)(Object(d.a)(a))),a.onMovement=a.onMovement.bind(Object(d.a)(Object(d.a)(a))),a.showEnquiryModal=a.showEnquiryModal.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(r.a.mark(function e(){var t,a,n,l=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,a=t.form,n=t.splitParams,this.getNewData(),this.hideInterval=setInterval(function(){v.a.isEmpty(_()("#intercom-container"))||(_()("#intercom-container").hide(),clearInterval(l.hideInterval))},10),F.a.addEventListener("scroll",this.onMovement),F.a.addEventListener("resize",this.onMovement),this.onMovement(),n&&n.product&&n.insurer&&Object(ue.d)({page_title:"Travel - Product Page",page_path:"/".concat(a,"/plan/").concat(n.insurer,"/").concat(n.product)}),F.a.scrollTo(0,0);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this.props.plansData,v.a.isEqual(a,t.plansData)||this.getNewData();case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.setState({isShowBottomPrice:!1}),_()("#intercom-container")&&_()("#intercom-container").show(),clearInterval(this.hideInterval),F.a.removeEventListener("scroll",this.onMovement),F.a.removeEventListener("resize",this.onMovement)}},{key:"onMovement",value:function(){if(this.bannerDOM){var e=this.state.isShowBottomPrice;if(F.a.innerWidth<768&&!e)this.setState({isShowBottomPrice:!0});else if(F.a.innerWidth>=768){var t=this.bannerDOM.getBoundingClientRect().y;(t<0&&!e||t>=0&&e)&&this.setState({isShowBottomPrice:t<0})}}}},{key:"getNewData",value:function(){var e=Object(l.a)(r.a.mark(function e(){var t,a,n,l,i,s,c,o,u,d;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.splitParams,n=t.parseForm,l=t.values,i=t.setOverridePlanTypes,s=t.plansData,c=t.handleAPI,o=t.switchView,!(a&&a.product&&a.insurer)){e.next=13;break}if(u=s&&v.a.find(s.insurances_all,function(e){return e&&e.info&&e.info.insurer_slug===a.insurer&&e.info.product_slug===a.product})){e.next=8;break}return d=n(l),e.next=7,c(function(){return Object(ce.y)(a.insurer,a.product,d)},!1,"Unable to get product data! Please try again.",o);case 7:u=e.sent;case 8:if(!u){e.next=12;break}return i(v.a.map(u.policy_types,function(e){return{display_name:v.a.startCase(e),value:v.a.startCase(e)}})),this.setState({productData:u}),e.abrupt("return");case 12:this.showModal();case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"showEnquiryModal",value:function(e){this.setState({showPrexModal:e})}},{key:"showModal",value:function(){var e=this.state.showModal;e||this.setState({showModal:!0})}},{key:"hideModal",value:function(){var e=this.props.switchView;this.setState({showModal:!1}),e()}},{key:"handleOnClick",value:function(){var e=this.state.productData,t=this.props,a=t.handleOnClick,n=t.doSetRestrictionPopup,r=t.emailPopupData;try{for(var l=0;l<r.length;++l)if(e.info.insurer_product_slug===r[l].insurer_product_slug)return void this.setState({emailPopupData:r[l],showPrexModal:!0});a(e,n)}catch(i){this.showModal()}}},{key:"handleRestrictions",value:function(e){var t=this.state.productData;(0,this.props.doSetRestrictionPopup)({values:t.restrictions,clickCallback:e})}},{key:"renderHeader",value:function(e){var t=this,a=this.state.productData,n=this.props,r=n.planType,l=n.values;try{var i=ne.a[a.info.insurer_slug],s=a.product_details.coverages[r].premium,c="$".concat((a.info.cashback*s.net_price).toFixed(2)),o=null,u=null;if(s.net_price!==s.price){var d="Single Trip"===l.trip_type.value?"single":"annual";(o=a.info.discount[d]?a.info.discount[d].display:a.info.discount.display)&&""!==o||(o=null),u=s.price}return g.a.createElement(f.Fragment,null,g.a.createElement(O.f,{className:[e?"d-none d-md-flex":"d-flex","product-header-container-wrapper"].join(" "),xs:12},g.a.createElement("div",{className:"product-header-container",ref:function(e){return t.bannerDOM=e}},g.a.createElement("div",{className:"product-logo"},g.a.createElement("img",{src:i,alt:"".concat(a.info.insurer_slug,".svg")})),g.a.createElement("div",{className:"product-name-container"},g.a.createElement("h2",null,a.info.product_name),o&&g.a.createElement("div",{className:"discount-container ".concat(!o&&"hidden")},g.a.createElement("p",null,o," Discount")),a.info.teaser&&g.a.createElement(ae.a,{className:o?"tag-label-margin":"",teaser:a.info.teaser}))),g.a.createElement("div",{className:"price-container d-none d-md-flex"},g.a.createElement("div",{className:"price-inner-container"},g.a.createElement("div",{className:"price-value-container"},g.a.createElement("h2",{className:"net-price"},"$",s.net_price.toFixed(2)),u?g.a.createElement("p",{className:"price"},g.a.createElement("span",null,"$",u.toFixed(2))):null),g.a.createElement("div",{className:"button-container"},g.a.createElement(re.a,{variant:"medium-flat-green",height:48,onClick:this.handleOnClick},g.a.createElement("p",null,"Buy Policy")),g.a.createElement("div",{className:"cashback-earned-container"},g.a.createElement("span",null,"Earn ",c," Cashback")))))))}catch(m){}return null}},{key:"renderBanner",value:function(){var e=this.state.productData,t=this.props.splitParams;try{var a=ne.a[e.info.insurer_slug],n=e.product_details.banner_img,r=e.product_details.banner_mobile_img,l=t&&"tokio_marine"===t.insurer&&"xplora_japan"===t.product;return g.a.createElement(O.f,{className:"banner-container",xs:12},g.a.createElement("div",{className:"banner"},n&&g.a.createElement("img",{className:"d-none d-md-block",src:n,alt:"productBanner.svg"}),r&&g.a.createElement("img",{className:"d-block d-md-none",src:r,alt:"productBanner.svg"})),r&&g.a.createElement("div",{className:"bottom-banner"},g.a.createElement("div",{className:"banner-logo d-flex d-md-none"},g.a.createElement("img",{src:a,alt:"".concat(e.info.insurer_slug,".svg")})),l&&g.a.createElement("h5",null,"*This plan covers only Japan")))}catch(i){}return null}},{key:"renderFeature",value:function(){var e=this.state.productData;try{return e.product_details.features?g.a.createElement(O.f,{xs:12,className:"segment"},g.a.createElement(O.y,{noGutters:!0},v.a.map(e.product_details.features,function(e,t){return g.a.createElement(O.f,{key:"feature-info-".concat(t),xs:12,md:4,className:"feature-container"},g.a.createElement("div",{className:"image"},g.a.createElement("img",{src:e.icon_img,alt:"tm-info-".concat(t,".svg")})),g.a.createElement("div",{className:"desc"},g.a.createElement("h4",null,e.title),g.a.createElement("p",null,e.description)))}))):null}catch(t){}return null}},{key:"renderHighlights",value:function(){var e=this,t=this.state,a=t.productData,n=t.showTooltips,r=this.props.planType;try{return g.a.createElement(O.f,{xs:12,className:"segment d-none d-md-flex"},g.a.createElement(O.y,{className:"w-100",noGutters:!0},v.a.reduce(a.product_details.coverages[r].highlights,function(t,a,r){if(r<3){var l="highlight-info-tooltip-".concat(r);t.push(g.a.createElement(O.f,{key:"highlight-info-".concat(r),xs:4,className:"highlight-container"},g.a.createElement(O.y,{className:"d-flex justify-content-center h-100",noGutters:!0},g.a.createElement("div",{className:"d-flex flex-column"},g.a.createElement("div",{className:"highlight-title-container"},g.a.createElement("div",{className:"title"},a.title),g.a.createElement("div",{className:"highlight-tooltip"},g.a.createElement(O.C,{target:l,isOpen:n[l],toggle:function(){return e.setState({showTooltips:Object(T.a)({},n,Object(P.a)({},l,!1))})},className:"animated fade"},a.tooltip),g.a.createElement("img",{className:"".concat(!a.tooltip&&"tooltip-hidden"),id:l,src:B.a,alt:"Tooltip.svg",onMouseEnter:function(){a.tooltip&&e.setState({showTooltips:Object(T.a)({},n,Object(P.a)({},l,!0))})}}))),g.a.createElement("div",{className:"d-flex justify-content-left align-items-end h-100"},g.a.createElement("p",{className:"value"},a.value))))))}return t},[])))}catch(l){}return null}},{key:"renderValue",value:function(e){return"boolean"===e.type?g.a.createElement("i",{className:"fa ".concat("Yes"===e.value?"fa-check":"fa-times")}):e.value}},{key:"renderInnerDetails",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return g.a.createElement(O.y,{className:"content-container ".concat(n),noGutters:!0},v.a.map(e.contents,function(n,r){var l=n&&n.value,i=r!==e.contents.length-1?"content-sub-container-padding":"";return g.a.createElement(f.Fragment,{key:"coverage-detail-".concat(t,"-").concat(r)},l&&g.a.createElement(O.f,{className:"content ".concat(n.sub_contents||"url"===n.type?"":"content-padding"),xs:12},g.a.createElement(O.y,{className:"w-100",noGutters:!0},g.a.createElement(O.f,{xs:6},g.a.createElement("p",{className:"title content-bold"},n.title)),g.a.createElement(O.f,{xs:6},"url"===n.type?g.a.createElement("a",{className:"content-bold",href:n.value,target:"__blank"},"Read"):g.a.createElement("p",{className:"content-bold"},a.renderValue(n))))),n.sub_contents&&g.a.createElement(O.f,{xs:12},g.a.createElement(O.y,{className:"content-sub-container w-100 ".concat(i),noGutters:!0},v.a.map(n.sub_contents,function(e,n){return g.a.createElement(O.f,{xs:12,key:"coverage-detail-".concat(t,"-").concat(r,"-").concat(n)},g.a.createElement(O.y,{className:"content-sub w-100",noGutters:!0},g.a.createElement(O.f,{xs:6},g.a.createElement("p",{className:"title"},e.title)),g.a.createElement(O.f,{xs:6},"url"===e.type?g.a.createElement("a",{href:e.value,target:"__blank"},"read"):g.a.createElement("p",null,a.renderValue(e)))))}))),r!==e.contents.length-1&&g.a.createElement(O.f,{className:"d-block d-md-none content-break",xs:12}))}))}},{key:"renderDetails",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.state.productData,n=this.props.planType;try{var r=Object(E.a)(t?a.product_details.coverages[n].prex_coverages:a.product_details.coverages[n].coverages);return v.a.isEmpty(r)?null:(!t&&a.product_details.policy_documents&&r.push(a.product_details.policy_documents),g.a.createElement(O.f,{xs:12,className:"d-none d-md-block segment coverage-container"},t&&g.a.createElement("p",{className:"prex-text"},"Sub-limit claims relating to your pre-existing medical conditions"),v.a.map(r,function(t,a){var n="policy documents"===v.a.lowerCase(t.header),l=a===r.length-1?n?"":"no-bottom-padding":"content-border",i=te[t.header]||A.a;return g.a.createElement(O.y,{key:"coverage-detail-".concat(a),className:"coverage-inner-container",noGutters:!0},g.a.createElement(O.f,{className:"coverage-header",xs:4},g.a.createElement("img",{src:i,alt:"clockImg.svg"}),g.a.createElement("h5",{className:"content-bold"},t.header)),g.a.createElement(O.f,{xs:8},e.renderInnerDetails(t,a,l)))})))}catch(l){}return null}},{key:"renderDetailsResp",value:function(e){var t=this,a=this.state.productData,n=this.props.planType;try{var r=Object(E.a)(e?a.product_details.coverages[n].prex_coverages:a.product_details.coverages[n].coverages);if(v.a.isEmpty(r))return null;var l=v.a.map(r,function(a,n){var r=te[a.header]||A.a;return g.a.createElement(f.Fragment,{key:"coverage-resp-".concat(n)},g.a.createElement(O.f,{className:"coverage-resp-container",xs:12},g.a.createElement(O.y,{noGutters:!0},g.a.createElement(O.f,{xs:12},e&&g.a.createElement("p",{className:"prex-text"},"Sub-limit claims relating to your pre-existing medical conditions")),g.a.createElement(O.f,{className:"coverage-resp-main-title",xs:12},g.a.createElement("div",{className:"coverage-resp-img"},g.a.createElement("img",{src:r,alt:"coverage-resp.svg"})),g.a.createElement("h4",null,a.header))),t.renderInnerDetails(a,n)))}),i=l&&l.length>1,s=null;return i&&(s=v.a.reduce(r,function(e,t){return e.push({desc:t.header}),e},[])),g.a.createElement(O.f,{className:"d-flex d-md-none mb-4 flex-column",xs:12},i?g.a.createElement(le.a,{style:{marginTop:44,marginBottom:34},tabs:s,autoHeight:!0,name:"overview-tab",scrollTabs:!0,isDisableDropdown:!0},l):l)}catch(c){}return null}},{key:"renderDocumentsResp",value:function(){var e=this.state.productData;try{return v.a.map(e.product_details.policy_documents.contents,function(e,t){return g.a.createElement(O.f,{className:"d-block d-md-none",xs:12,key:"document-".concat(t)},g.a.createElement("button",{className:"document-container",onClick:function(){F.a.open(e.value)}},g.a.createElement("div",{className:"document"},g.a.createElement("img",{src:te.documentsResp,alt:"Bell.svg"}),g.a.createElement("p",null,e.title))))})}catch(t){}return null}},{key:"renderPriceResp",value:function(){var e=this.state,t=e.productData,a=e.isShowBottomPrice,n=this.props.planType;try{var r=t.product_details.coverages[n].premium,l=null;r.net_price!==r.price&&(l=r.price);var i=a?"bottom-opened-outer":"",s=a?"bottom-opened-inner":"";return g.a.createElement(f.Fragment,null,g.a.createElement("div",{className:"d-flex ".concat(i," product-price-resp-outer-container")}),g.a.createElement("div",{className:"d-flex ".concat(s," product-price-resp-container")},g.a.createElement("div",{className:"price-container"},g.a.createElement("h5",null,t.info.product_name),g.a.createElement("h6",null,v.a.startCase(n)),g.a.createElement("h4",null,g.a.createElement("span",null,"$",r.net_price.toFixed(2)),l&&g.a.createElement("span",{className:"price"},"$",l.toFixed(2)))),g.a.createElement("div",null,g.a.createElement(re.a,{variant:"medium-flat-green",height:48,onClick:this.handleOnClick},g.a.createElement("p",null,"Buy Policy")))))}catch(c){}return null}},{key:"render",value:function(){var e=this,t=this.state,a=t.productData,n=t.showModal,r=t.showPrexModal,l=t.emailPopupData,i=this.props,s=i.handleOnClick,c=i.handleAPI;if(!a)return null;var o=!1;try{o=a.product_details.banner_mobile_img}catch(u){}return g.a.createElement(O.y,{className:"product-detail-container",noGutters:!0},this.renderHeader(o),this.renderBanner(),this.renderFeature(),this.renderHighlights(),this.renderDetails(!0),this.renderDetailsResp(!0),this.renderDetails(!1),this.renderDetailsResp(!1),this.renderDocumentsResp(),this.renderPriceResp(),g.a.createElement(R.a,{showModal:n,closeModal:this.hideModal,className:"product-detail-error",backdropClassName:"blue-modal-backdrop",header:g.a.createElement("p",null),body:g.a.createElement("p",null,"An error has occured! Inputs might be invalid for this plan. Please try again."),footer:g.a.createElement(re.a,{variant:"medium-flat-green",height:48,onClick:this.hideModal},g.a.createElement("p",null,"Ok"))}),g.a.createElement(ie.a,null),g.a.createElement(se.a,{showModal:r,hideEnquiryModal:function(){return e.showEnquiryModal(!1)},onNext:function(){return s(a)},handleAPI:c,data:l}))}}]),t}(f.Component));de.defaultProps={splitParams:null,plansData:null,values:null,emailPopupData:[]};var me=Object(b.connect)(null,function(e){return{doSetRestrictionPopup:function(t){e(Object(oe.d)(t))}}})(de),pe=a(496),he=a(487),ve=a.n(he),fe=a(557),ge=a.n(fe),be=a(565),ye=(a(1016),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"renderValue",value:function(e){return"boolean"===e.type?g.a.createElement("i",{className:"fa ".concat("Yes"===e.value?"fa-check":"fa-times")}):e.value}},{key:"render",value:function(){var e=this,t=this.props.planData;try{if(!t)return null;var a=[];try{var n=v.a.find(t.coverages.coverages,function(e){return"Leisure Activities"===e.header});n&&(a=n.contents[0].sub_contents)}catch(r){}return g.a.createElement("div",{className:"list-view-item-details-container"},g.a.createElement(be.a,{topHr:!0},g.a.createElement(O.y,{className:"inner-container",noGutters:!0},g.a.createElement(O.f,{className:"table-container",xs:12,md:6},g.a.createElement("h6",{className:"title"},"Highlights"),g.a.createElement(O.B,{borderless:!0},g.a.createElement("tbody",null,v.a.reduce(t&&t.coverages&&t.coverages.highlights,function(a,n,r){return r>=3&&a.push(g.a.createElement("tr",{key:"".concat(t.insurerSlug,"_highlight_").concat(r)},g.a.createElement("td",{className:"desc"},n.title),g.a.createElement("td",{className:"value"},e.renderValue(n)))),a},[])))),g.a.createElement(O.f,{className:"table-container",xs:12,md:6},g.a.createElement("h6",{className:"title"},"Leisure Activities Covered"),g.a.createElement(O.B,{borderless:!0},g.a.createElement("tbody",null,v.a.map(a,function(a,n){return g.a.createElement("tr",{key:"".concat(t.insurerSlug,"_sub_").concat(n)},g.a.createElement("td",{className:"desc"},a.title),g.a.createElement("td",{className:"value"},e.renderValue(a)))})))))))}catch(r){}return null}}]),t}(f.Component));ye.defaultProps={planData:null};var Ee=ye,Oe=(a(1017),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={showTooltips:{},showPrexModal:!1},a.renderCompareTab=a.renderCompareTab.bind(Object(d.a)(Object(d.a)(a))),a.renderInsuranceInfo=a.renderInsuranceInfo.bind(Object(d.a)(Object(d.a)(a))),a.renderInsuranceDetail=a.renderInsuranceDetail.bind(Object(d.a)(Object(d.a)(a))),a.renderPriceBuy=a.renderPriceBuy.bind(Object(d.a)(Object(d.a)(a))),a.renderInsuranceDetailResp=a.renderInsuranceDetailResp.bind(Object(d.a)(Object(d.a)(a))),a.showEnquiryModal=a.showEnquiryModal.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"showEnquiryModal",value:function(e){this.setState({showPrexModal:e})}},{key:"renderCompareTab",value:function(){var e=this.props.planData,t=e.discount?e.price:"";return g.a.createElement("div",{className:"compare-container w-100 d-flex d-md-block flex-wrap"},g.a.createElement("div",{className:"compare-price w-100 d-md-none"},g.a.createElement("p",{className:"total d-none d-md-block"},"Total"),g.a.createElement("p",{className:"net-price"},e.netPrice),t?g.a.createElement("p",{className:"price"},g.a.createElement("span",null,e.discount),g.a.createElement("span",null,t)):null))}},{key:"renderInsuranceInfo",value:function(){var e=this.props,t=e.planData,a=e.handleProductPage;try{var n=ne.a[t.insurerSlug];return g.a.createElement("div",{className:"insur-container"},g.a.createElement("img",{className:"logo",src:n,alt:"InsurerLogo.png"}),g.a.createElement("div",{className:"header-inner"},g.a.createElement("h2",null,t.productName),g.a.createElement("button",{type:"button",onClick:function(){return a(t.insurerSlug,t.productSlug)}},g.a.createElement("p",null,"Read more"))))}catch(r){}return null}},{key:"renderInsuranceDetail",value:function(){var e=this,t=this.state.showTooltips,a=this.props.planData;return g.a.createElement("div",{className:"detail-container d-none d-md-flex"},v.a.reduce(a.coverages&&a.coverages.highlights,function(n,r,l){if(l<3){var i="tool-tip-".concat(a.productIndex,"-").concat(l);n.push(g.a.createElement("div",{className:"detail-inner-wrapper",key:i},g.a.createElement("div",{className:"detail-inner"},g.a.createElement("div",null,g.a.createElement("p",{className:"detail-title"},r.title),g.a.createElement("p",{className:"detail-value"},r.value)),r.tooltip?g.a.createElement("div",{className:"d-flex align-items-start"},g.a.createElement(O.C,{target:i,isOpen:t[i],toggle:function(){return e.setState({showTooltips:Object(T.a)({},t,Object(P.a)({},i,!1))})},className:"animated fade"},r.tooltip),g.a.createElement("img",{id:i,src:B.a,alt:"Tooltip.svg",onMouseEnter:function(){return e.setState({showTooltips:Object(T.a)({},t,Object(P.a)({},i,!0))})}})):null)))}return n},[]))}},{key:"renderInsuranceDetailResp",value:function(){var e=this,t=this.state.showTooltips,a=this.props.planData;return g.a.createElement("div",{className:"detail-container d-flex d-md-none"},g.a.createElement("div",{className:"detail-inner"},g.a.createElement("div",null,v.a.reduce(a.coverages&&a.coverages.highlights,function(e,t,n){return n<3&&e.push(g.a.createElement("p",{key:"detail-title-".concat(a.productName,"-").concat(n),className:"detail-title"},t.title)),e},[])),g.a.createElement("div",{className:"detail-price-container"},v.a.reduce(a.coverages&&a.coverages.highlights,function(n,r,l){if(l<3){var i="tool-tip-small-".concat(a.productIndex,"-").concat(l);n.push(g.a.createElement("div",{className:"d-flex",key:"detail-price-".concat(a.productName,"-").concat(l)},r.tooltip?g.a.createElement(f.Fragment,null,g.a.createElement(O.C,{target:i,isOpen:t[i],toggle:function(){return e.setState({showTooltips:Object(T.a)({},t,Object(P.a)({},i,!1))})},className:"animated fade"},r.tooltip),g.a.createElement("img",{id:i,src:B.a,alt:"Tooltip.svg",onMouseEnter:function(){return e.setState({showTooltips:Object(T.a)({},t,Object(P.a)({},i,!0))})}})):null,g.a.createElement("p",{className:"detail-value"},r.value)))}return n},[]))))}},{key:"renderPriceBuy",value:function(){var e=this,t=this.props.planData,a=t.discount?t.price:"";return g.a.createElement(O.y,{className:"w-100",noGutters:!0},g.a.createElement(O.f,{className:"non-resp-compare-reco",xs:12}),g.a.createElement(O.f,{className:"d-none d-md-flex price-non-resp",xs:12,md:6},g.a.createElement("p",{className:"net-price"},t.netPrice),a?g.a.createElement("p",{className:"price"},g.a.createElement("span",null,t.discount),g.a.createElement("span",null,a)):null),g.a.createElement(O.f,{className:"button-container",xs:12,md:6},g.a.createElement(re.a,{variant:"medium-flat-green",height:40,onClick:function(){t.emailPopupData?e.showEnquiryModal(!0):t.buyCallBack()}},g.a.createElement("p",null,"Buy Policy")),g.a.createElement("div",{className:"cashback-earned-container"},g.a.createElement("img",{src:ve.a,alt:"Label.svg"}),g.a.createElement("p",null,g.a.createElement("span",null,t.cashback," Cashback")))))}},{key:"renderEnquiry",value:function(){var e=this,t=this.state.showPrexModal,a=this.props,n=a.planData,r=a.handleAPI;return n&&n.emailPopupData?g.a.createElement(se.a,{showModal:t,hideEnquiryModal:function(){return e.showEnquiryModal(!1)},onNext:function(){return n.buyCallBack(!0)},handleAPI:r,data:n.emailPopupData}):null}},{key:"render",value:function(){var e=this.props,t=e.planData,a=e.history;return t?g.a.createElement(O.y,{className:"header-list-view-container",noGutters:!0},g.a.createElement(O.f,{md:12,className:"info-container w-100 d-none d-md-flex"},this.renderCompareTab()),g.a.createElement(O.f,{xs:12,md:7,className:"info-container"},this.renderInsuranceInfo(),this.renderInsuranceDetail(),this.renderInsuranceDetailResp()),g.a.createElement(O.f,{xs:7,className:"info-container d-flex d-md-none"},this.renderCompareTab()),g.a.createElement(O.f,{xs:5,md:5,className:"price-container"},this.renderPriceBuy()),t.teaser&&g.a.createElement(O.f,{className:"tag-label",xs:12},g.a.createElement("img",{src:ge.a,alt:"TagLabel.svg"}),t.teaser.is_url&&t.teaser.value?g.a.createElement("button",{type:"button",onClick:function(){return a.push(t.teaser.value)}},t.teaser.name):g.a.createElement("span",null,t.teaser.name)),g.a.createElement(O.f,{xs:12},g.a.createElement(Ee,{planData:t})),this.renderEnquiry()):null}}]),t}(f.Component));Oe.defaultProps={planData:null};var ke=Object(y.a)(Oe),xe=(a(1018),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).renderListSelectionButtons=a.renderListSelectionButtons.bind(Object(d.a)(Object(d.a)(a))),a.renderList=a.renderList.bind(Object(d.a)(Object(d.a)(a))),a.renderListItem=a.renderListItem.bind(Object(d.a)(Object(d.a)(a))),a.renderPiggy=a.renderPiggy.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){_()("#intercom-container")&&_()("#intercom-container").hide()}},{key:"componentWillUnmount",value:function(){_()("#intercom-container")&&_()("#intercom-container").show()}},{key:"renderListSelectionButtons",value:function(){var e=this.props,t=e.listData,a=e.setButtonSelected,n=e.selectionButtonIndex;return t?v.a.map(t,function(e,t){var r=n===t?"coverage-active-button":"";return g.a.createElement(O.a,{key:"selection-button-".concat(t),className:"coverage-button ".concat(r),color:"primary",onClick:function(){return a(t)}},e.type)}):null}},{key:"renderList",value:function(){var e=this,t=this.props,a=t.listData,n=t.plansData,r=t.selectionButtonIndex,l=t.planType;try{var i=a[r],s="PolicyPal's Favourite"===i.type,c="Pre-Existing Medical Conditions"===i.type,o=[],u=[],d=0,m=0,p=Object(E.a)(c?n.insurances_prex:n.insurances),h=function(e){return e&&e.policy_info&&e.policy_info[l]&&e.policy_info[l].premium&&e.policy_info[l].premium.net_price};try{p=v.a.orderBy(p,function(e){return h(e)||null},["asc"]),p=v.a.filter(p,function(e){return h(e)})}catch(f){}return a&&s&&i.selection&&v.a.each(i.selection,function(t,a){var n=v.a.findIndex(p,function(e){return e&&e.info&&e.info.insurer_product_slug===t});if(-1!==n){var r=a===i.selection.length-1;o.push(e.renderListItem(p[n],n,d,!0,r)),u.push(n),d+=1}}),v.a.each(p,function(e,t){void 0===v.a.find(u,function(e){return e===t})&&(m=t)}),v.a.each(p,function(t,n){var l=void 0===v.a.find(u,function(e){return e===n}),i=!1,s=!1;try{var c=Math.min(p.length-1,1);i=!a[r].selection&&n===c,s=n===m}catch(f){}l&&(o.push(e.renderListItem(t,n,d,!1,!s&&i,s)),d+=1)}),v.a.isEmpty(o)?g.a.createElement("h3",{className:"text-center mt-5"},"Sorry! No results for current inputs."):o}catch(f){}return g.a.createElement("h3",{className:"text-center mt-5"},"Sorry! No results for current inputs.")}},{key:"renderListItem",value:function(e,t,a){var n=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=this.props,c=s.values,o=s.promoGiveAway,u=s.planType,d=s.selectedArray,m=s.fadingList,p=s.handleProductPage,h=s.handleOnClick,f=s.emailPopupData,b=s.handleAPI,y=null;try{var E=e.policy_info&&e.policy_info[u]&&e.policy_info[u].premium,O=e.info,k=r?"recommended":null,x=v.a.find(d,function(e){return e===(O&&O.insurer_product_slug)}),D="default";"Single Trip"===c.trip_type.value?D="single":"Annual Multi-Trip"===c.trip_type.value&&(D="annual");var j=O&&O.discount&&O.discount[D]&&O.discount[D].amount>0?" ".concat(O.discount[D].display," OFF"):null,N=null;try{N=e.product_details&&e.product_details.coverages[u]}catch(I){}for(var S=null,w=0;w<f.length;++w)if(O.insurer_product_slug===f[w].insurer_product_slug){S=f[w];break}y={productIndex:t,insurerSlug:O&&O.insurer_slug,productName:O&&O.product_name,productSlug:O&&O.product_slug,wording:O&&O.wording_url,teaser:O&&O.teaser,promo:k,coverages:N,netPrice:E?"$".concat(E.net_price.toFixed(2)):"",price:E&&E.price!==E.net_price?"$".concat(E.price.toFixed(2)):"",cashback:E&&O?"$".concat(((O.cashback||0)*E.net_price).toFixed(2)):"",discount:j,buyCallBack:function(t){return h(e,t?null:n.props.setRestrictionPopup)},isSelected:x,emailPopupData:S}}catch(I){}var C=null,P=null;try{C=l&&o.sub?this.renderPromoBanner(o.sub[0]):null,C=l&&!C&&o.main?this.renderPromoBanner(o.main[0],!0):C,P=i&&!v.a.isEmpty(o.sub)&&o.main?this.renderPromoBanner(o.main[0],!0):null}catch(I){}var T=m&&a<m.length?m[a]:"";return g.a.createElement("div",{className:"list-item-wrapper",key:"listview-item-".concat(a)},g.a.createElement("div",{className:["list-item",T].join(" ")},g.a.createElement(ke,{planData:y,handleProductPage:p,handleAPI:b}),C,P))}},{key:"renderPromoBanner",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=null,n=null;try{var r=new Date,l=new Date(e.start_at),i=new Date(e.end_at);if(!(l<=r&&r<=i))return null}catch(s){return null}try{a=e.image_url&&!t?g.a.createElement("a",{className:"sub-promo d-none d-lg-flex",href:e.cta_url,target:"__blank"},g.a.createElement("img",{src:e.image_url,alt:"PromoSub.png"})):null}catch(s){}try{n=e.image_url_resp?g.a.createElement("a",{className:"sub-promo d-flex d-lg-none",href:e.cta_url,target:"__blank"},g.a.createElement("img",{src:e.image_url_resp,alt:"PromoSubResp.png"})):null}catch(s){}return g.a.createElement(f.Fragment,null,a,n)}},{key:"renderPiggy",value:function(){var e=this.props,t=e.piggyData,a=e.category;return t?g.a.createElement("div",{className:"piggy-list-container"},g.a.createElement(pe.a,{category:a,mainText:t.mainText,descText:t.descText,onClick:t.onClick})):null}},{key:"render",value:function(){var e=this;return g.a.createElement(f.Fragment,null,g.a.createElement("div",{className:"d-none d-lg-flex top-right-container"},g.a.createElement("div",{className:"buttons"},this.renderListSelectionButtons()),this.renderPiggy()),g.a.createElement("div",null,g.a.createElement("div",{className:"d-flex d-lg-none"},this.renderPiggy()),this.renderList()),g.a.createElement(ie.a,{ref:function(t){return e.resPopup=t}}))}}]),t}(f.Component));xe.defaultProps={promoGiveAway:null,listData:null,selectionButtonIndex:0,piggyData:null,fadingList:[],values:null,plansData:null,emailPopupData:null};var De=Object(b.connect)(null,function(e){return{setRestrictionPopup:function(t){e(Object(oe.d)(t))}}})(xe),je=a(390),Ne=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return g.a.createElement(je.a,{id:"compare_form_tier_tooltip",innerClassName:"tooltip-wide-modal "},g.a.createElement("p",null,g.a.createElement("span",{className:"desc-text"},"We have made it easier for you to do an apple to apple comparison by classifying the different plans into 3 levels of cover.")),g.a.createElement("p",{className:" mt-4"},g.a.createElement("span",{className:"desc-text"},"Insurers typically offers 3 levels of cover.")),g.a.createElement(O.y,{className:"w-100",noGutters:!0},g.a.createElement(O.f,{xs:4},g.a.createElement("span",{className:"title-text"},"Basic:")),g.a.createElement(O.f,{xs:8},g.a.createElement("span",{className:"desc-text"},"Lowest protection benefit."))),g.a.createElement(O.y,{className:"w-100",noGutters:!0},g.a.createElement(O.f,{xs:4},g.a.createElement("span",{className:"title-text"},"Essential:")),g.a.createElement(O.f,{xs:8},g.a.createElement("span",{className:"desc-text"},"Mid-range protection benefit."))),g.a.createElement(O.y,{className:"w-100",noGutters:!0},g.a.createElement(O.f,{xs:4},g.a.createElement("span",{className:"title-text"},"Elite:")),g.a.createElement(O.f,{xs:8},g.a.createElement("span",{className:"desc-text"},"Comprehensive protection benefit."))))}}]),t}(f.Component),Se=["list","compare","product"],we=v.a.map(["Basic","Essential","Elite"],function(e){return{display_name:e,value:e}}),Ce=function(e){function t(e){var a;Object(i.a)(this,t);var n=(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).props.splitParams;return a.state={currViewState:n.product&&n.insurer?Se[2]:Se[0],isFadeOut:!1,overridePlanTypes:null,fadingList:[]},a.renderLeftContainer=a.renderLeftContainer.bind(Object(d.a)(Object(d.a)(a))),a.renderBackToListButton=a.renderBackToListButton.bind(Object(d.a)(Object(d.a)(a))),a.switchView=a.switchView.bind(Object(d.a)(Object(d.a)(a))),a.setButtonSelected=a.setButtonSelected.bind(Object(d.a)(Object(d.a)(a))),a.setOverridePlanTypes=a.setOverridePlanTypes.bind(Object(d.a)(Object(d.a)(a))),a.handleTierSelection=a.handleTierSelection.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getPlans;e.plansData||t()}},{key:"componentDidUpdate",value:function(e){var t=this.props.splitParams;!v.a.isEqual(t,e.splitParams)&&t.insurer&&t.product&&this.switchView(Se[2])}},{key:"setOverridePlanTypes",value:function(e){var t=this.props,a=t.planType,n=t.setPlanType,r=v.a.startCase(a);if(e&&e.length>0&&!v.a.find(e,function(e){return e.value===r})){var l=v.a.find(we,function(t){return t.value===e[0].value});n(l&&l.value)}this.setState({overridePlanTypes:e})}},{key:"setButtonSelected",value:function(e){(0,this.props.setSelectionButtonIndex)(e)}},{key:"switchView",value:function(){var e=Object(l.a)(r.a.mark(function e(t){var a,n,i,s=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this.props,n=a.category,i=a.resetPath,this.setState({isFadeOut:!0,overridePlanTypes:null},Object(l.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){return setTimeout(function(){return s.setState({currViewState:t},e)},300)});case 2:if(t!==Se[2]){e.next=5;break}return e.next=5,new Promise(function(e){return setTimeout(e,100)});case 5:s.setState({isFadeOut:!1}),t===Se[1]&&Object(ue.a)("".concat(v.a.startCase(n),"CompareS")),t!==Se[2]&&i&&i();case 8:case"end":return e.stop()}},e)})));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleTierSelection",value:function(){var e=Object(l.a)(r.a.mark(function e(t){var a,n,l,i,s,c,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.currViewState,n=this.props,l=n.plansData,i=n.setPlanType,e.prev=2,this.mutex||!t||!l||!l.insurances_all){e.next=32;break}if(this.mutex=!0,s=[],a!==Se[0]){e.next=18;break}c=0;case 8:if(!(c<l.insurances_all.length)){e.next=16;break}return s.push("list-item-fade"),this.setState({fadingList:Object(E.a)(s)}),e.next=13,new Promise(function(e){setInterval(e,10)});case 13:++c,e.next=8;break;case 16:return e.next=18,new Promise(function(e){setInterval(e,100)});case 18:if(i(t.toLowerCase()),a!==Se[0]){e.next=30;break}s=v.a.map(l.insurances_all,function(){return"list-item-fade"}),o=0;case 22:if(!(o<s.length)){e.next=30;break}return s[o]="",this.setState({fadingList:Object(E.a)(s)}),e.next=27,new Promise(function(e){setInterval(e,10)});case 27:++o,e.next=22;break;case 30:this.revalidateSelection(),this.mutex=!1;case 32:e.next=38;break;case 34:e.prev=34,e.t0=e.catch(2),this.mutex=!1,this.setState({fadingList:[]});case 38:case"end":return e.stop()}},e,this,[[2,34]])}));return function(t){return e.apply(this,arguments)}}()},{key:"renderBackToListButton",value:function(){var e=this;return this.state.currViewState!==Se[0]?g.a.createElement("button",{className:"back-list-button",onClick:function(){return e.switchView(Se[0])}},g.a.createElement("img",{src:S.a,alt:"Arrow.svg"}),"Back to Product List"):null}},{key:"renderLeftContainer",value:function(){var e=this,t=this.state,a=t.currViewState,n=t.overridePlanTypes,r=this.props,l=r.editForm,i=r.form,s=r.promoGiveAway,c=r.choosePlanListData,o=r.selectionButtonIndex,u=r.planType,d=r.values,m=r.getPlans,p=null,h=v.a.map(c||[],function(e){return{display_name:e.type,value:e.type}});try{var b=new Date,y=new Date(s.main[0].start_at),E=new Date(s.main[0].end_at);y<=b&&b<=E&&(p=g.a.createElement("a",{className:"d-none d-lg-block",href:s.main[0].cta_url,target:"__blank"},g.a.createElement("img",{className:"main-promo",src:s.main[0].image_url,alt:"PromoMain.png"})))}catch(D){}var k=g.a.createElement(f.Fragment,null,g.a.createElement(O.y,{noGutters:!0},a!==Se[0]?g.a.createElement(O.f,{className:"plantype-drop",style:{minHeight:0},xs:{size:6,order:3},lg:{size:12,order:1}},this.renderBackToListButton()):null,g.a.createElement(O.f,{className:"plantype-drop d-none d-lg-block",xs:{size:6,order:2},lg:{size:12,order:2}},g.a.createElement("div",{className:"tier-selection-checkbox-container"},g.a.createElement("div",{className:"tier-header"},g.a.createElement("p",{className:"my-0 detail-value"},g.a.createElement("span",null,"Coverage Level")),g.a.createElement(Ne,null)),g.a.createElement("h6",null,"Please select one"),g.a.createElement("div",{className:"options-container"},v.a.map(n||we,function(t,a){return g.a.createElement("div",{className:"option",key:"planType-checkbox-".concat(a)},g.a.createElement("button",{className:["option-button",t.value.toLowerCase()===u?"selected":""].join(" "),type:"button",onClick:function(){return e.handleTierSelection(t.value)}}),g.a.createElement("button",{type:"button",onClick:function(){return e.handleTierSelection(t.value)}},g.a.createElement("span",{className:"detail-value"},t.value)))})))),g.a.createElement(O.f,{className:"plantype-drop d-block d-lg-none",xs:{size:6,order:2},lg:{size:12,order:2}},g.a.createElement(w.a,{dropList:n||we,placeholderString:"Coverage Level",logo:j.a,value:{display_name:v.a.startCase(u),value:v.a.startCase(u)},isDisableTyping:!0,noExternalDesc:!0,onChange:function(t,a,n){e.handleTierSelection(n.value)}})),a===Se[0]&&h?g.a.createElement(O.f,{xs:{size:6,order:3},lg:{size:12,order:3},className:"d-block d-lg-none filter-container"},g.a.createElement(w.a,{dropList:h,placeholderString:"Filter",isDisableTyping:!0,noExternalDesc:!0,value:h[o],onChange:function(t,a,n){var r=v.a.findIndex(h,function(e){return e.value===n.value});e.setButtonSelected(r)}})):null,g.a.createElement(O.f,{xs:{size:12,order:1},lg:{size:12,order:4}},g.a.createElement(C.a,{submitCallback:m,form:i,headerValue:l.headerValue,valuesToListen:l.valuesToListen,conditions:l.conditions,values:d},l.editDetail))),p);return g.a.createElement("div",{className:"left-container"},g.a.createElement("div",{className:"d-none d-lg-block"},g.a.createElement(x.a,{enabled:!0,top:100,bottomBoundary:0},k)),g.a.createElement("div",{className:"d-block d-lg-none"},k))}},{key:"render",value:function(){var e=this;try{var t=this.state,a=t.currViewState,n=t.isFadeOut,r=t.fadingList,l=this.props,i=l.plansData,s=l.choosePlanListData,c=l.choosePlanPiggyData;if(!i)return null;var o=n?"animated fadeOut":"animated fadeIn";return g.a.createElement("div",{className:"listview-container d-block d-md-flex justify-content-center"},this.renderLeftContainer(),g.a.createElement("div",{className:"right-container",ref:function(t){return e.rightContainer=t}},g.a.createElement("div",{className:"fade-container ".concat(o)},a===Se[0]?g.a.createElement(De,Object.assign({},this.props,{setButtonSelected:this.setButtonSelected,fadingList:r,listData:s,piggyData:c})):g.a.createElement(me,Object.assign({},this.props,{setOverridePlanTypes:this.setOverridePlanTypes,switchView:function(){return e.switchView(Se[0])}})))))}catch(u){return null}}}]),t}(f.Component);Ce.defaultProps={};var Pe=Object(b.connect)(function(e){return{selectedInsurers:e.compare.selectedInsurers}},function(e){return{setRestrictionPopup:function(t){e(Object(oe.d)(t))}}})(Ce),Te=a(382),Ie=a(633),_e=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.splitParams,a=e.mainFormFields,n=e.errors,r=e.onChangeValue,l=e.onUpdateValues,i=e.values,s=e.valuesToListen,c=e.conditions,o=e.validateForm,u=e.getPlans,d=t&&"tokio_marine"===t.insurer&&"xplora_japan"===t.product,m=t&&v.a.includes(t.product,"prex");return g.a.createElement(Pe,Object.assign({},this.props,{category:"travel",form:"travel",editForm:{valuesToListen:s(i),conditions:c,editDetail:g.a.createElement(Ie.a,{isPopUp:!0,onUpdateValues:l,values:i,title:"Edit Travel Insurance Details",validateForm:o,onSubmit:u},v.a.reduce(a,function(e,t,l){return!d||"countries"!==t.slug&&"region"!==t.slug?(e.push(g.a.createElement(Te.a,{key:"business-form-".concat(l),values:i,errors:n,fieldData:t,onChangeValue:function(e,t,n){return r(e,t,n,a)},extraInfo:t.extra_info&&g.a.createElement("p",null,t.extra_info),noInternalDesc:t.no_internal_desc,isPrex:m})),e):e},[]))},forceFixedOnDesktop:!0}))}}]),t}(f.Component);_e.defaultProps={splitParams:null};var Me=_e,Fe=a(20),Re=a(123),Ve=a(63),Be=function(e){function t(e){var a;Object(i.a)(this,t);var n=(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).props.match;return a.state={splitParams:n.params},a.getPlans=a.getPlans.bind(Object(d.a)(Object(d.a)(a))),a.handleOnClick=a.handleOnClick.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a=t.splitParams,n=e.match;return v.a.isEqual(a,n.params)?null:{splitParams:n.params}}}]),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(r.a.mark(function e(){var t,a,n,l,i,s,c,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.setFormState,n=t.doSetCategoryNavBar,l=t.mainFormFields,i=t.handleAPI,s=t.getMainFields,c=t.constants,o=t.history,a(ce.b.CHOOSEPLAN.index),Object(ue.b)("PPS2 - Pageview - Travel - ChoosePlan",{Product:"Travel"}),Object(ue.d)({page_title:"Travel - Choose Plan",page_path:"/travel/chooseplan"}),Object(ue.a)("TravelResultsS"),p.a.body.style.backgroundColor="#F9FAFF",n(!0),l){e.next=12;break}return e.next=10,i(function(){return s(c)},!1,"Unable to get form fields. Please try again!",function(){return o.goBack()});case 10:e.sent||o.push("/");case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=this.props.doSetCategoryNavBar;p.a.body.style.backgroundColor="#FFFFFF",e(!1)}},{key:"getPlans",value:function(){var e=Object(l.a)(r.a.mark(function e(){var t,a,n,l,i,s,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.values,n=t.handleAPI,l=t.setPlansData,i=t.history,s=Object(Re.e)(a),e.next=4,n(function(){return Object(Re.d)(s)},!1,"Unable to get products! Please try again.",function(){return i.goBack()});case 4:(c=e.sent)&&l(c);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleOnClick",value:function(e,t){var a=this.props,n=a.category,r=a.setFormState,l=a.setSelectedPlanData,i=a.planType,s=a.history;try{Object(Ve.h)(i,e);var c=function(){l(e),r(ce.b.DETAILFORM.index),s.push("/travel".concat(ce.b.DETAILFORM.path))};return e.restrictions&&(Object(ue.a)("".concat(v.a.startCase(n),"RestrictionsS")),t)?(t({values:e.restrictions,clickCallback:c,doAcceptTag:function(){return Object(ue.a)("".concat(v.a.startCase(n),"AcceptA"))}}),!0):(Object(ue.a)("".concat(v.a.startCase(n),"AcceptA")),c(),!0)}catch(o){}return!1}},{key:"render",value:function(){var e=this.state.splitParams,t=this.props,a=t.history,n=t.values;if(!t.mainFormFields)return null;var r="default";try{"Single Trip"===n.trip_type.value?r="single":"Annual Multi-Trip"===n.trip_type.value&&(r="annual")}catch(l){}return g.a.createElement(Me,Object.assign({},this.props,{loadingFailBackState:function(){return a.goBack()},resetPath:function(){return a.replace("/travel".concat(ce.b.CHOOSEPLAN.path))},getPlans:this.getPlans,splitParams:e,valuesToListen:Ve.k,conditions:Ve.e,choosePlanListData:Ve.c,choosePlanPiggyData:Ve.d,handleOnClick:this.handleOnClick,tripType:r,parseForm:Re.e,emailPopupData:[Ve.m]}))}}]),t}(f.Component);Be.defaultProps={values:null};t.default=Object(y.a)(Object(b.connect)(function(e){return{travelPromoGiveAway:e.insurance.promoGiveaways.travel,mainFormFields:e.travel.mainFormFields,constants:e.insurance.constants}},function(e){return{getMainFields:function(t){return e(Object(Re.b)(t))},setFormState:function(t){e(Object(ce.K)(t))},doSetCategoryNavBar:function(t){e(Object(Fe.n)(t))}}})(Be))},301:function(e,t,a){e.exports=a.p+"static/media/arrow.bf1f0d90.svg"},312:function(e,t,a){e.exports=a.p+"static/media/dateIn.c0ce64e4.svg"},313:function(e,t,a){e.exports=a.p+"static/media/dateOut.c0f774d4.svg"},314:function(e,t,a){e.exports=a.p+"static/media/magnifyGlass.eedb8132.svg"},325:function(e,t,a){"use strict";var n=a(45),r=a(48),l=a(47),i=a(46),s=a(49),c=a(114),o=a(5),u=a.n(o),d=a(1),m=a.n(d),p=a(56),h=a(115),v=a(299),f=a(77),g=(a(369),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={values:null,clickCallback:null,doAcceptTag:null,modal:!1},a.setData=a.setData.bind(Object(c.a)(Object(c.a)(a))),a.handleClick=a.handleClick.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(t,e),Object(i.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.data;return a&&a!==t.data?(e.clearRestrictionPopup(),{values:a.values,clickCallback:a.clickCallback,doAcceptTag:a.doAcceptTag}):null}}]),Object(i.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.state,t=e.values,a=e.modal;t&&!a&&this.setState({modal:!0})}},{key:"setData",value:function(e,t,a){var n=this;this.setState({values:e,clickCallback:t,doAcceptTag:a}),setTimeout(function(){return n.setState({modal:!0})},100)}},{key:"handleClick",value:function(){var e=this.state,t=e.clickCallback,a=e.doAcceptTag;a&&a(),t&&t(),this.setState({modal:!1,values:null})}},{key:"renderData",value:function(){var e=this.state.values;return u.a.map(e,function(e,t){var a=u.a.split(e.description,"\n");return m.a.createElement(d.Fragment,{key:"res-data-".concat(t)},m.a.createElement(h.f,{className:"title",xs:12,sm:4},m.a.createElement("p",null,e.title)),m.a.createElement(h.f,{className:"res-desc",xs:12,sm:8},u.a.map(a,function(e,t){return m.a.createElement("p",{key:"res-desc-".concat(t)},e)})),m.a.createElement(h.f,{xs:12},m.a.createElement("div",{className:"line",xs:12})))})}},{key:"render",value:function(){var e=this,t=this.state.modal;return m.a.createElement(h.o,{backdropClassName:"blue-modal-backdrop",className:"restrictions-popup",isOpen:t,size:"lg"},m.a.createElement(h.r,{toggle:function(){return e.setState({modal:!1,values:null})}}),m.a.createElement(h.y,null,m.a.createElement(h.f,{className:"header",xs:12},m.a.createElement("p",null,"Company's Restrictions"),m.a.createElement("p",{className:"sub"},"Scroll down to read the restrictions")),this.renderData()),m.a.createElement(h.y,null,m.a.createElement(h.f,{className:"button-container",xs:12},m.a.createElement(v.a,{onClick:this.handleClick,type:"submit",variant:"medium-flat-green",width:165,height:72},m.a.createElement("p",null,"Accept")))))}}]),t}(d.Component));t.a=Object(p.connect)(function(e){return{data:e.restrictions.data}},function(e){return{clearRestrictionPopup:function(){e(Object(f.c)())}}})(g)},328:function(e,t,a){e.exports=a.p+"static/media/cross.3995dd26.svg"},355:function(e,t,a){e.exports=a.p+"static/media/CheckoutComplete.7a48570a.svg"},363:function(e,t,a){},369:function(e,t,a){},370:function(e,t,a){"use strict";a.d(t,"a",function(){return m});var n=a(45),r=a(46),l=a(48),i=a(47),s=a(49),c=a(1),o=a.n(c),u=a(115),d=a(302),m=(a(378),function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.value,n=e.desc,r=e.onChange,l=e.errorString,i=e.extraInfo;return o.a.createElement(d.a,{errorString:l,extraInfo:i,smallMargin:!0},o.a.createElement("div",{className:"checkbox-container-v3"},o.a.createElement(u.i,{id:t,className:"checkbox-input",type:"checkbox",onChange:function(){return r("checkbox",t,!a)},checked:!!a}),o.a.createElement("p",{className:"checkbox-input-desc"},n)))}}]),t}(c.Component));m.defaultProps={value:null,errorString:null,extraInfo:null}},378:function(e,t,a){},380:function(e,t,a){e.exports=a.p+"static/media/EditButton.d239c2ce.svg"},382:function(e,t,a){"use strict";var n=a(45),r=a(46),l=a(48),i=a(47),s=a(49),c=a(114),o=a(12),u=a.n(o),d=a(5),m=a.n(d),p=a(1),h=a.n(p),v=a(56),f=a(115),g=a(314),b=a.n(g),y=a(302),E=(a(363),function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.desc,n=e.placeholderString,r=e.extraInfo,l=e.errorString,i=e.value,s=e.onChange,c=e.handlePostCode,o=e.rows,u=e.noInternalDesc,d=e.type,m=e.toUpper,p=e.readOnly,v="password"===d?"password":"textarea"===d?"textarea":"number"===d?"number":"",g=l?"error":"",E=i?"focused-title":"",O="textarea"===v?"textarea-padding":"",k="textarea"===v?"":"absolute-input",x=u?"no-internal-desc":"",D=p?"read-only":"";return h.a.createElement(y.a,{desc:a,extraInfo:r,errorString:l},h.a.createElement("div",{className:"position-relative"},h.a.createElement("div",{className:"text-input-container-v3 ".concat(O," ").concat(g," ").concat(D)},!u&&h.a.createElement("div",{className:"title-header ".concat(E)},n),h.a.createElement("div",{className:["text-input",x,k].join(" ")},h.a.createElement(f.n,{className:"text",type:v,placeholder:u&&n||"",name:t,value:i||"",onChange:function(e){return s(d,t,e.target.value&&m?e.target.value.toUpperCase():e.target.value)},rows:o,disabled:p})),"postal"===d&&c?h.a.createElement("button",{type:"button",className:"postcode",onClick:c},h.a.createElement("img",{src:b.a,alt:"magGlass.svg"})):null)))}}]),t}(p.Component));E.defaultProps={value:null,desc:null,extraInfo:null,errorString:null,handlePostCode:null,rows:4,noInternalDesc:!1,toUpper:!1,readOnly:!1};var O=E,k=a(375),x=a(370),D=a(23),j=a(2),N=a(3),S=a.n(N),w=a(6),C=a(35),P=a.n(C),T=a(33),I=a.n(T),_=a(14),M=a.n(_),F=a(301),R=a.n(F),V=a(312),B=a.n(V),L=a(313),A=a.n(L),U=a(438),z=a.n(U),G=a(404),H=a.n(G),W=a(364),Y=["SU","MO","TU","WE","TH","FR","SA"],q=["January","Feburary","March","April","May","June","July","August","September","October","November","December"],K=100,$=(a(405),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).updateScrollPosition=a.updateScrollPosition.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"updateScrollPosition",value:function(){var e=this,t=this.props,a=t.currDisplayDate,n=t.dateRangeStart,r=t.isYear;try{var l=32*(r?a.getFullYear()-n.getFullYear():a.getMonth());this.scrollInput&&setTimeout(function(){return e.scrollInput.scrollTop(l)},10)}catch(i){}}},{key:"renderMonths",value:function(){var e=this.props,t=e.currDisplayDate,a=e.dateRangeStart,n=e.dateRangeEnd,r=e.setCalender;try{var l=a.getFullYear(),i=n.getFullYear(),s=t.getFullYear(),c=s===l?a.getMonth():0,o=s===i?n.getMonth():11;return m.a.reduce(q,function(e,t,a){if(c<=a&&a<=o){var n=h.a.createElement(f.j,{onClick:function(){r(a,s)},key:"month-".concat(a.toString())},t);e.push(n)}return e},[])}catch(u){}return null}},{key:"renderYears",value:function(){var e=this.props,t=e.currDisplayDate,a=e.dateRangeStart,n=e.dateRangeEnd,r=e.setCalender;try{for(var l=a.getFullYear(),i=n.getFullYear(),s=[],c=function(e){s.push(h.a.createElement(f.j,{onClick:function(){r(t.getMonth(),e)},key:"year-".concat(e.toString())},e))},o=l;o<=i;++o)c(o);return s}catch(u){}return null}},{key:"render",value:function(){var e=this,t=this.props,a=t.isYear,n=t.currDisplayDate,r=t.isSingle;try{var l=new Date(n.getFullYear(),n.getMonth(),1),i="";if(a)i=l.getFullYear();else{var s=l.getMonth();i=q[s]}return r?h.a.createElement("div",{className:"month-year-selector"},h.a.createElement(f.D,null,h.a.createElement("div",{ref:function(t){e.dateMonthInput=t}},h.a.createElement(f.l,{caret:!0,outline:!0,onClick:this.updateScrollPosition},i)),h.a.createElement(f.k,null,h.a.createElement(W.Scrollbars,{autoHeight:!0,ref:function(t){e.scrollInput=t}},a?this.renderYears():this.renderMonths())))):h.a.createElement("p",null,i)}catch(c){}return null}}]),t}(p.Component));$.defaultProps={isYear:!1,isSingle:!1};var J=$,Q=(a(406),function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"renderDaysText",value:function(){return m.a.map(Y,function(e){return h.a.createElement(f.f,{xs:"auto",className:"days",key:e},h.a.createElement("p",null,e))})}},{key:"render",value:function(){return h.a.createElement(f.y,{className:"days-list-container",noGutters:!0},h.a.createElement(f.f,{className:"days-list-inner",xs:12},h.a.createElement(f.y,{className:"w-100",noGutters:!0},this.renderDaysText())),h.a.createElement(f.f,{className:"days-list-divider",xs:12}))}}]),t}(p.Component)),X=(a(407),function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.dateRangeEndOverwrite,n=t.isSelectingStartDate,r=t.startValue,l=t.endValue,i=t.dateRangeStart,s=t.dateRangeEnd,c=t.setSelectedDate,o=t.isRange,u=t.currDisplayDate,d=t.hoverDate,m=t.setDateRangeEndOverwrite,p=t.setHoverDate,v=t.offsetDays,g=new Date(u);g.setDate(1);var b=new Date(g.getFullYear(),g.getMonth()+1,0),y=g.getTime(),E=b.getTime(),O=g.getMonth(),k=g.getFullYear(),x=g.getDay(),D=b.getDate(),j=d&&d.getTime(),N=r&&r.getTime(),S=l&&l.getTime(),w=N,C=S,P=n?S:N,T=n?N:S;d&&(w=j<P?j:P,C=j>P?j:P);for(var I=[],_=0;_<x;++_)I.push(h.a.createElement("div",{className:"date-col",key:"blank".concat(_.toString())}));for(var M=function(t){var n=new Date(k,O,t),r=n.getDay(),l=n.getTime(),u=6===r,g=0===r,b=w===l,x=C===l,D=w&&C&&w<l&&l<C,N=y===l,S=E===l,_=w===C||d&&P===j,M=b||x,F=!_&&!g&&!N&&(x&&w||D)?"left-active":"left-inactive",R=!_&&!u&&!S&&(b&&C||D)?"right-active":"right-inactive",V=M||D&&(u||g||N||S)?"end-active":"end-inactive",B=M?"day-active":"day-inactive",L=j&&j===l||!j&&T===l?"day-focus":"",A=!1;A||(A=n<i||n>(a||s)),I.push(h.a.createElement(f.f,{key:"day".concat(t.toString()),className:"date-col",xs:"auto"},h.a.createElement("button",{className:"day-container",type:"button",onClick:function(){if(!A){var a=e.props.isSelectingStartDate;c(new Date(k,O,t),a),p(null),o&&a&&m(new Date(k,O,t+v))}},onMouseEnter:function(){A||p(new Date(k,O,t))},onMouseLeave:function(){p(null)}},h.a.createElement("div",{className:"day-range  ".concat(F)}),h.a.createElement("div",{className:"day-range  ".concat(R)}),h.a.createElement("div",{className:"".concat(V)}),A?h.a.createElement("div",{className:"day-disabled"},h.a.createElement("p",{className:"blocked"},t)):h.a.createElement("div",{className:"day ".concat(B," ").concat(L)},h.a.createElement("p",null,t)))))},F=1;F<=D;++F)M(F);return h.a.createElement(f.y,{className:"calender-container",noGutters:!0},I)}}]),t}(p.Component));X.defaultProps={startValue:null,endValue:null,dateRangeEndOverwrite:null,currDisplayDate:null,hoverDate:null,offsetDays:0};var Z=X,ee=(a(408),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).state={hoverDate:null,dateRangeEndOverwrite:null},a.setCalender=a.setCalender.bind(Object(c.a)(Object(c.a)(a))),a.setDateRangeEndOverwrite=a.setDateRangeEndOverwrite.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"setDateRangeEndOverwrite",value:function(e){var t=this.props,a=t.dateRangeEnd,n=t.offsetDays,r=e;if(a){var l=M()(a).add(n,"days").toDate();r=r>l?l:r}this.setState({dateRangeEndOverwrite:r})}},{key:"setCalender",value:function(e,t){var a=this.state.dateRangeEndOverwrite,n=this.props,r=n.dateRangeStart,l=n.dateRangeEnd,i=n.setNewDisplayDate,s=new Date(t,e);s<r?s=r:s>(a||l)&&(s=a&&a>l?a:l),i(s)}},{key:"renderMonthSelectorArrows",value:function(e,t,a){var n=this,r=this.props,l=r.isRange,i=r.isResp;return h.a.createElement(f.f,{xs:1,className:"date-arrow-style"},h.a.createElement("button",{type:"button",onClick:function(){n.setCalender(e?t-1:l&&!i?t:t+1,a)}},h.a.createElement("img",{src:R.a,alt:"arrow.svg",className:e?"angle-left":"angle-right"})))}},{key:"renderDateInner",value:function(e){var t=this,a=this.state,n=a.dateRangeEndOverwrite,r=a.hoverDate,l=this.props,i=l.currDisplayDate,s=l.isRange,c=l.setSelectedDate,o=l.startValue,u=l.endValue,d=l.dateRangeStart,m=l.dateRangeEnd,p=l.isSelectingStartDate,v=l.isResp,g=l.offsetDays,b=new Date(i.getFullYear(),i.getMonth(),1);2===e&&b.setMonth(b.getMonth()+1);var y=b.getMonth(),E=b.getFullYear(),O="";return s&&!v&&(O=2===e?"range-right":"range-left"),h.a.createElement("div",{className:"date-inner-container"},2!==e?h.a.createElement("div",{role:"button",className:"close-button-container",onKeyPress:function(){},onClick:function(){c(o,!0),c(u,!1)},tabIndex:-1},h.a.createElement("img",{src:z.a,className:"close-icon",alt:"close"})):null,h.a.createElement(f.y,{className:O,noGutters:!0},2!==e&&this.renderMonthSelectorArrows(!0,y,E),h.a.createElement(f.f,{xs:6,className:"selector-left"},h.a.createElement(J,{setCalender:this.setCalender,currDisplayDate:b,dateRangeStart:d,dateRangeEnd:m,isSingle:0===e})),h.a.createElement(f.f,{xs:4,className:"selector-right"},h.a.createElement(J,{isYear:!0,setCalender:this.setCalender,currDisplayDate:b,dateRangeStart:d,dateRangeEnd:m,isSingle:0===e})),1!==e&&this.renderMonthSelectorArrows(!1,y,E)),h.a.createElement(Q,null),h.a.createElement(Z,{isRange:s,startValue:o,endValue:u,dateRangeStart:d,dateRangeEnd:m,dateRangeEndOverwrite:n,currDisplayDate:b,hoverDate:r,setSelectedDate:c,isSelectingStartDate:p,setDateRangeEndOverwrite:this.setDateRangeEndOverwrite,setHoverDate:function(e){return t.setState({hoverDate:e})},offsetDays:g}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.isOpened,n=t.isRange,r=t.isArrowUp,l=t.inputWidth,i=t.isSelectingStartDate,s=t.isResp,c=a?"dateinner-opened":"",o=a?"date-container-opened":"date-container-closed",u=s?"inner-absolute":"",d=s||r,m=d?"arrow-up":"arrow-down",v="translateX(20px) ".concat(d?"":"rotate(180deg)");return n&&null!==l&&(v="translateX(".concat(20+(i?0:.5*l),"px) ").concat(d?"":"rotate(180deg)")),h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"".concat(c," ").concat(u," dateinner-v3")},h.a.createElement("div",{className:o},h.a.createElement("img",{className:["arrow-range",m,u].join(" "),src:H.a,alt:"triangle.svg",style:{transform:v}}),h.a.createElement("div",{className:"list-container list-opened ".concat(""),ref:function(t){return e.listCont=t}},this.renderDateInner(n&&!s?1:0),n&&!s&&this.renderDateInner(2)))))}}]),t}(p.Component));ee.defaultProps={startValue:null,endValue:null,inputWidth:0,offsetDays:0};var te=ee,ae=a(9),ne=(a(372),a(409),function(e){function t(e){var a;Object(n.a)(this,t);var r=(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).props,s=r.startDate,o=r.endDate,u=r.startValue||new Date,d=u.getFullYear(),m=u.getMonth(),p=new Date(d,m,1),h=new Date(d,m+1,0),v=null!=s?s:new Date(d-K,m),f=null!=o?o:new Date(d+K,m);return a.state={isOpened:!1,currDisplayDate:u,currFirstDay:p,currLastDay:h,dateRangeStart:v,dateRangeEnd:f,isArrowUp:!1,startDateString:"",endDateString:"",isSelectingStartDate:!0,inputWidth:0,isResp:!1},a.handleSelectClick=a.handleSelectClick.bind(Object(c.a)(Object(c.a)(a))),a.handleClickOutside=a.handleClickOutside.bind(Object(c.a)(Object(c.a)(a))),a.handleKeyPress=a.handleKeyPress.bind(Object(c.a)(Object(c.a)(a))),a.handleExit=a.handleExit.bind(Object(c.a)(Object(c.a)(a))),a.setSelectedDate=a.setSelectedDate.bind(Object(c.a)(Object(c.a)(a))),a.setNewDisplayDate=a.setNewDisplayDate.bind(Object(c.a)(Object(c.a)(a))),a.onMovement=a.onMovement.bind(Object(c.a)(Object(c.a)(a))),a.renderInputs=a.renderInputs.bind(Object(c.a)(Object(c.a)(a))),a.renderInner=a.renderInner.bind(Object(c.a)(Object(c.a)(a))),a.dateValidateAndUpdate=a.dateValidateAndUpdate.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){P.a.addEventListener("mousedown",this.handleClickOutside),u.a.addEventListener("scroll",this.onMovement),u.a.addEventListener("resize",this.onMovement);var e=this.props,t=e.startValue,a=e.endValue;t&&this.setSelectedDate(t,!0),a&&this.setSelectedDate(a<t?t:a,!1),this.setState({dateInnerDOM:I.a.findDOMNode(this.dateInner),datePickerDOM:I.a.findDOMNode(this.wrapperRef)}),this.onMovement()}},{key:"componentDidUpdate",value:function(){var e=Object(w.a)(S.a.mark(function e(t){var a,n,r,l;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this.props,n=a.startValue,r=a.endValue,((t.startValue||n)&&!Object(ae.h)(t.startValue,n)||(t.endValue||r)&&!Object(ae.h)(t.endValue,r))&&(l=this.dateValidateAndUpdate(),this.setState({startDateString:"Invalid Date"===l.startDateString?"":l.startDateString,endDateString:"Invalid Date"===l.endDateString?"":l.endDateString}));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){P.a.removeEventListener("mousedown",this.handleClickOutside),u.a.removeEventListener("scroll",this.onMovement),u.a.removeEventListener("resize",this.onMovement)}},{key:"onMovement",value:function(){var e=this.state,t=e.dateInnerDOM,a=e.datePickerDOM,n=e.isOpened,r=e.isResp,l=u.a.innerWidth;if(n){var i={},s=null,c=l<576;if(t&&a){var o=56,d=0,m=0;if(!c){s=a.getBoundingClientRect();var p=!c&&s.bottom+540>u.a.outerHeight;i.isArrowUp=!p;var h=s.left+530>u.a.innerWidth;d="".concat(h?u.a.innerWidth-530:s.left,"px"),o=!c&&p?s.top-330:s.bottom+10,m=""}t.style.left=d,t.style.right=m,t.style.top="".concat(o,"px"),i.inputWidth=this.wrapperRef.getBoundingClientRect().width}(r&&!c||!r&&c)&&(i.isResp=c),this.setState(i)}}},{key:"setNewDisplayDate",value:function(e){var t=e||new Date,a=t.getFullYear(),n=t.getMonth(),r=new Date(a,n,1),l=new Date(a,n+1,0);this.setState({currDisplayDate:t,currFirstDay:r,currLastDay:l})}},{key:"setSelectedDate",value:function(){var e=Object(w.a)(S.a.mark(function e(t){var a,n=this,r=arguments;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(r.length>1&&void 0!==r[1])||r[1],e.abrupt("return",new Promise(function(){var e=Object(w.a)(S.a.mark(function e(r){var l;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{(l=n.dateValidateAndUpdate(a&&t,!a&&t))&&a&&l.currStartValue&&n.setNewDisplayDate(l.currStartValue),n.setState({isOpened:!(!l||!l.isChooseEndDate),isSelectingStartDate:!1,startDateString:l.startDateString,endDateString:l.endDateString},r)}catch(i){r()}case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"getDateFromDateString",value:function(e){try{var t=Object(ae.i)(e);return t&&"Invalid Date"===t.toString()&&(t=M()(e).toDate()),t}catch(a){}return"Invalid Date"}},{key:"handleClickOutside",value:function(e){var t=this.state,a=t.isOpened,n=t.dateInnerDOM;a&&this.wrapperRef&&!this.wrapperRef.contains(e.target)&&n&&!n.contains(e.target)&&(this.setState({isOpened:!1}),this.handleExit())}},{key:"handleKeyPress",value:function(e){13===e.charCode&&(e.preventDefault(),this.handleExit())}},{key:"handleSelectClick",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=this.state,n=a.isOpened,r=a.isSelectingStartDate,l=this.props,i=l.startValue,s=l.endValue,c=l.isRange,o={},u={};n||(o={startDateString:i&&Object(ae.c)(i)},u={endDateString:s&&Object(ae.c)(s)}),this.setState(Object(j.a)({isOpened:r&&!t||!r&&t||!n,isSelectingStartDate:t},o,u),function(){if(e.state.isOpened)return e.onMovement(),void e.setNewDisplayDate(e.state.isSelectingStartDate?i:s);var t=e.state,a=t.startDateString,n=t.endDateString,r=e.getDateFromDateString(a),l=c&&e.getDateFromDateString(n),o=e.dateValidateAndUpdate(r,l);e.setState({startDateString:o.startDateString,endDateString:o.endDateString})})}},{key:"handleExit",value:function(e,t){var a=this.state,n=a.startDateString,r=a.endDateString,l=this.props.endName,i=t&&e,s=!t&&l&&e;try{i||(i=this.getDateFromDateString(n)),l&&!s&&(s=this.getDateFromDateString(r))}catch(o){}var c=this.dateValidateAndUpdate(i,s);c&&this.setState({isOpened:!1,isSelectingStartDate:!1,startDateString:c.startDateString,endDateString:c.endDateString})}},{key:"dateValidateAndUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this.state,n=a.dateRangeStart,r=a.dateRangeEnd,l=this.props,i=l.startValue,s=l.endValue,c=l.offsetDays,o=l.isRange,u=l.onChange,d=l.name,m=l.endName,p=!1,h=e&&"Invalid Date"===e.toString(),v=t&&"Invalid Date"===t.toString(),f=h?null:!h&&e||i,g=v?null:!v&&t||s,b=f,y=g,E="Invalid Date",O="Invalid Date";try{if(p=o&&e&&!s,o){var k=r&&M()(r).add(c,"days").toDate(),x=f&&M()(f).add(c,"days").toDate(),D=x<k?x:k;e&&f>g&&(y=M()(f).add(1,"days").toDate(),p=!0),t&&f>g&&(b=g,y=f,p=!0),y&&y<n&&(y=n),b&&b>D&&(b=D),y&&y>D&&(y=D),Object(ae.h)(s,y)||u("date",m,y)}b&&b<n&&(b=n),b&&b>r&&(b=r),Object(ae.h)(i,b)||u("date",d,b),E=b?M()(b).format("DD MMM YYYY"):E,O=y?M()(y).format("DD MMM YYYY"):E}catch(j){}return{isChooseEndDate:p,currEndValue:y,currStartValue:b,startDateString:E,endDateString:O}}},{key:"renderDropDownArrow",value:function(){var e=this.state.isOpened;return h.a.createElement("button",{type:"button",className:"selected-arrow",onMouseDown:this.handleSelectClick},h.a.createElement("img",{src:R.a,alt:"arrow.svg",className:"selected-arrow-style ".concat(e?"angle-up":"angle-down")}))}},{key:"renderInputField",value:function(e){var t=this,a=this.state,n=a.startDateString,r=a.endDateString,l=a.isSelectingStartDate,i=a.isOpened,s=this.props,c=s.name,o=s.endName,d=s.isDisableTyping,m=s.placeholderString,p=s.noInternalDesc,v=s.isRange,g=v?"range-style":"",b="";i&&v&&(b=l&&e||!l&&!e?"faded-style":"");var y=e?n:r,E=e?c:o;return h.a.createElement("button",{type:"button",className:"selected-text text-style ".concat(g," ").concat(b),onKeyPress:this.handleKeyPress,onMouseDown:function(a){u.a.innerWidth<=576&&a.preventDefault(),t.handleSelectClick(e)}},h.a.createElement(f.n,{value:y||"",name:E,onChange:function(a){return t.setState(Object(D.a)({},e?"startDateString":"endDateString",a.target.value))},placeholder:p?m:"",autoComplete:"off",disabled:d}))}},{key:"renderInputs",value:function(){return this.props.isRange?h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"date-input-container"},h.a.createElement("div",{className:"img-container"},h.a.createElement("img",{className:"date-in",src:B.a,alt:"Date Range Icon"})),this.renderInputField(!0)),h.a.createElement("div",{className:"seperator"}),h.a.createElement("div",{className:"date-input-container"},h.a.createElement("div",{className:"img-container"},h.a.createElement("img",{className:"date-out",src:A.a,alt:"Date Range Icon"})),this.renderInputField(!1)),this.renderDropDownArrow()):h.a.createElement(p.Fragment,null,this.renderInputField(!0),this.renderDropDownArrow())}},{key:"renderPopup",value:function(){var e=this,t=this.state,a=t.isOpened,n=t.currDisplayDate,r=t.currFirstDay,l=t.currLastDay,i=t.dateRangeStart,s=t.dateRangeEnd,c=t.isArrowUp,o=t.isSelectingStartDate,u=t.inputWidth,d=t.isResp,m=this.props,p=m.isRange,v=m.startValue,f=m.endValue,g=m.offsetDays;return h.a.createElement(te,{ref:function(t){return e.dateInner=t},isOpened:!!a,isRange:p,currDisplayDate:n,currFirstDay:r,currLastDay:l,startValue:v,endValue:f,dateRangeStart:i,dateRangeEnd:s,setSelectedDate:this.setSelectedDate,setNewDisplayDate:this.setNewDisplayDate,isArrowUp:c,isSelectingStartDate:!!o,inputWidth:u,isResp:d,offsetDays:g})}},{key:"renderInner",value:function(){var e=this,t=this.state.isOpened,a=this.props,n=a.errorString,r=a.placeholderString,l=a.noInternalDesc,i=t?"dropdown-container-opened":"dropdown-container-closed",s=n?"error":"",c=a.startValue?"focused-title":"",o=l?"no-internal-desc":"";return h.a.createElement("div",{className:"dropdown-container-v3 datepicker-container-v3 ".concat(o),ref:function(t){return e.wrapperRef=t}},h.a.createElement("div",{className:"dropdown-container ".concat(i,"  ").concat(s)},l?null:h.a.createElement("div",{className:"title-header ".concat(c)},r),h.a.createElement("div",{className:"selected-container align-items-center"},this.renderInputs())),this.renderPopup())}},{key:"render",value:function(){var e=this.props,t=e.isRange,a=e.desc,n=e.extraInfo,r=e.errorString;return t?this.renderInner():h.a.createElement(y.a,{desc:a,extraInfo:n,errorString:r},this.renderInner())}}]),t}(p.Component));ne.defaultProps={isRange:!1,startDate:null,endDate:null,desc:null,extraInfo:null,errorString:null,noInternalDesc:!1,isDisableTyping:!1,endName:null,placeholderString:null,startValue:null,endValue:null,offsetDays:0};var re=ne,le=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.values,a=e.onChange,n=e.desc,r=e.extraInfo,l=e.startName,i=e.endName,s=e.startDate,c=e.endDate,o=e.errorStringStart,u=e.errorStringEnd,d=e.offsetDays,m=(o||u)&&"".concat("".concat(o," ")||!1).concat(u||"");return h.a.createElement(y.a,{desc:n,extraInfo:r,errorString:m,isDateRange:!0},h.a.createElement("div",{className:"date-range-picker-new"},h.a.createElement(re,{startValue:t&&t[l]&&t[l].value,endValue:t&&t[i]&&t[i].value,onChange:a,name:l,endName:i,isRange:!0,startDate:s,endDate:c,errorString:m,offsetDays:d})))}}]),t}(p.Component);le.defaultProps={desc:null,extraInfo:null,startDate:null,endDate:null,errorStringStart:null,errorStringEnd:null,values:null,offsetDays:0};var ie=le,se=a(390),ce=(a(412),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).state={clickStyle:"click-right"},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"handleOnClick",value:function(e){try{var t=this.props,a=t.onChange,n=t.name,r=t.value,l=t.inputData,i=!1===l.is_required&&e===r?null:e;a(l.type,n,i)}catch(s){}}},{key:"renderTitle",value:function(){var e=this.props.inputData;if(!e.title&&!e.tooltip)return null;try{return h.a.createElement("div",{className:"title-container"},h.a.createElement("h3",null,e.title),e.tooltip&&h.a.createElement(se.a,{id:e.slug},h.a.createElement("p",null,e.tooltip)))}catch(t){}return null}},{key:"renderItem",value:function(e,t,a){var n=this,r=this.state.clickStyle,l=this.props,i=l.inputData,s=l.value;try{var c=i.is_required&&!s&&0===t||s&&s===e.value,o="".concat(i.slug,"-option-").concat(t);return h.a.createElement(f.f,{key:o,xs:6,className:"item-container-wrapper"},h.a.createElement("div",{className:"item-container-wrapper-inner"},h.a.createElement("button",{type:"button",className:"item-container ".concat(c&&"selected"," ").concat(r),onClick:function(){n.setState({clickStyle:t%2===0?"click-left":"click-right"},function(){return n.handleOnClick(e.value)})}},h.a.createElement("div",{className:"bg ".concat(c&&"bg-active")}),h.a.createElement("div",{className:"image"},h.a.createElement("img",{src:e.icon_img,alt:"".concat(o,".svg")}))),h.a.createElement("div",{className:"item-container-bottom"},a&&h.a.createElement("div",{className:"inner-tooltip"},e.tooltip&&h.a.createElement(se.a,{id:o},h.a.createElement("p",null,e.tooltip))),h.a.createElement("div",{className:["desc",a?"desc-padding":""].join(" ")},h.a.createElement("p",null,e.title),h.a.createElement("p",{className:"sub-title"},e.sub_title)))))}catch(u){}return null}},{key:"renderOptions",value:function(){var e=this,t=this.props.inputData;try{var a=m.a.find(t.options,function(e){return e&&e.tooltip});return m.a.map(t.options,function(t,n){return e.renderItem(t,n,a)})}catch(n){}return null}},{key:"render",value:function(){var e=this.props,t=e.inputData,a=e.errorString,n=e.extraInfo;return t?h.a.createElement(y.a,{className:"image-selection-margin",errorString:a,extraInfo:n},h.a.createElement("div",{className:"image-selection-container"},this.renderTitle(),h.a.createElement(f.y,{className:"options-container",noGutters:!0},this.renderOptions()))):null}}]),t}(p.Component));ce.defaultProps={value:null,errorString:null,extraInfo:null};var oe=ce,ue=a(22),de=(a(413),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).handleExit=a.handleExit.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"handleExit",value:function(e,t){var a=this.props.generateNewFormData;(t||!t&&13===e.charCode)&&a()}},{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.value,r=t.title,l=t.onChangeValue;return a?h.a.createElement(f.f,{className:"mb-3",xs:12,md:6,lg:6},h.a.createElement("div",{className:"age-group-item-container"},h.a.createElement("p",{className:"title"},r),h.a.createElement(f.y,{className:"selector",noGutters:!0},h.a.createElement(f.f,{className:"d-flex justify-content-center align-items-center",xs:12},h.a.createElement(f.n,{className:"age-group-input",type:"number",value:n||"",onChange:function(e){return l(a,e.target.value&&Math.max(0,Math.floor(e.target.value)))},onBlur:function(t){return e.handleExit(t,!0)},onKeyPress:function(t){return e.handleExit(t,!1)},placeholder:"Enter number"}))))):null}}]),t}(p.Component));de.defaultProps={value:null};var me=de,pe=(a(414),function(e){function t(e){var a;Object(n.a)(this,t);var r=(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).props,s=r.inputData,o=r.value,u=[];try{u=m.a.reduce(s.options,function(e,t){var a=m.a.find(o,function(e){return e.value===t.value});return e.push({key:t.value,title:t.title,value:a&&a.count||null}),e},[])}catch(d){}return a.state={values:u,count:0},a.onChangeValue=a.onChangeValue.bind(Object(c.a)(Object(c.a)(a))),a.getTotalCount=a.getTotalCount.bind(Object(c.a)(Object(c.a)(a))),a.generateNewFormData=a.generateNewFormData.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"onChangeValue",value:function(e,t){var a=this.state.values;try{var n=Object(ue.a)(a),r=m.a.find(n,function(t){return t.key===e});r&&(r.value=t,this.setState({values:n}))}catch(l){}}},{key:"getTotalCount",value:function(){var e=this.state.values;try{return m.a.reduce(e,function(e,t){return t.value>0?e+t.value:e},0)}catch(t){}return 0}},{key:"generateNewFormData",value:function(){var e=Object(w.a)(S.a.mark(function e(){var t,a,n,r,l,i;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.values,a=this.props,n=a.onChange,r=a.name,e.prev=2,l=0,i=m.a.reduce(t,function(e,t){return t.value>0&&(l+=t.value,e.push({value:t.key,count:t.value})),e},[]),this.setState({count:this.getTotalCount()}),e.next=8,n("age_group",r,i);case 8:return e.next=10,n("number","no_of_employees",l);case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:return e.abrupt("return",0);case 15:case"end":return e.stop()}},e,this,[[2,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderHeader",value:function(){var e=this.state.count,t=this.props.inputData;try{return h.a.createElement(f.y,{className:"title-container",noGutters:!0},h.a.createElement(f.f,{className:"d-none d-md-flex",md:{size:4,order:1}}),h.a.createElement(f.f,{md:{size:4,order:2},xs:{size:12,order:2}},h.a.createElement("h3",null,t.title)),h.a.createElement(f.f,{md:{size:4,order:3},xs:{size:12,order:4}},h.a.createElement("p",{className:"employees"},e," employees assigned")),h.a.createElement(f.f,{md:{size:12,order:4},xs:{size:12,order:3}},h.a.createElement("h6",null,"Employee\u2019s age for upcoming birthday\n(Current age + 1)")))}catch(a){}return null}},{key:"renderAgeGroupItems",value:function(){var e=this,t=this.state.values,a=this.props.inputData;try{return m.a.reduce(t,function(t,n,r){return t.push(h.a.createElement(me,{key:"age-group-".concat(a.slug,"-").concat(r),name:n.key,value:n.value,title:n.title,onChangeValue:e.onChangeValue,generateNewFormData:e.generateNewFormData})),t},[])}catch(n){}return null}},{key:"render",value:function(){var e=this.props,t=e.inputData,a=e.errorString,n=e.extraInfo;return t?h.a.createElement(y.a,{errorString:a,className:"age-group-margin",extraInfo:n},h.a.createElement("div",{className:"age-group-container"},this.renderHeader(),h.a.createElement(f.y,{className:"options-container"},this.renderAgeGroupItems()))):null}}]),t}(p.Component));pe.defaultProps={value:null,errorString:null,extraInfo:null};var he=pe,ve=a(122),fe=a.n(ve),ge=(a(415),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).state={isOpened:null},a.setError=a.setError.bind(Object(c.a)(Object(c.a)(a))),a.clearError=a.clearError.bind(Object(c.a)(Object(c.a)(a))),a.handleSelectClick=a.handleSelectClick.bind(Object(c.a)(Object(c.a)(a))),a.handleClickOutside=a.handleClickOutside.bind(Object(c.a)(Object(c.a)(a))),a.handleValue=a.handleValue.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){P.a.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){P.a.removeEventListener("mousedown",this.handleClickOutside)}},{key:"setError",value:function(e){this.formParent.setErrorString(e)}},{key:"clearError",value:function(){this.formParent.clearErrorString()}},{key:"handleClickOutside",value:function(e){this.state.isOpened&&this.wrapperRef&&this.wrapperRefControl&&!this.wrapperRef.contains(e.target)&&!this.wrapperRefControl.contains(e.target)&&this.setState({isOpened:!1})}},{key:"handleSelectClick",value:function(){var e=this.state.isOpened;this.setState({isOpened:!e})}},{key:"handleValue",value:function(){var e=Object(w.a)(S.a.mark(function e(t,a,n){var r,l,i,s,c,o,u,d,m,p,h,v,f,g,b;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=this.props,l=r.nameAdult,i=r.nameChildren,s=r.namePlanType,c=r.nameTripType,o=r.values,u=r.onChange,d=o[l]&&o[l].value||0,m=o[i]&&o[i].value||0,p=d,h=m,v=o[c]&&"Single Trip"===o[c].value,1,f=v?20:2,0,8,a===l?p=Math.min(Math.max(1,p+(n?1:-1)),f):h=Math.min(Math.max(0,h+(n?1:-1)),8),h>0&&(p=Math.min(Math.max(1,p),2)),d===p){e.next=16;break}return e.next=16,u("number",l,p);case 16:if(m===h){e.next=19;break}return e.next=19,u("number",i,h);case 19:if(g=o&&o[s]&&o[s].value,!(h>0)){e.next=26;break}if("Family"===g){e.next=24;break}return e.next=24,u("text",s,"Family");case 24:e.next=35;break;case 26:if(!(p>1)){e.next=32;break}if("Group"===g){e.next=30;break}return e.next=30,u("text",s,"Group");case 30:e.next=35;break;case 32:if("Individual"===g){e.next=35;break}return e.next=35,u("text",s,"Individual");case 35:if(b=o&&o[c]&&o[c].value,!(p>1&&0===h)){e.next=40;break}if("Single Trip"===b){e.next=40;break}return e.next=40,u("selection",c,"Single Trip");case 40:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.isOpened,a=this.props,n=a.desc,r=a.extraInfo,l=a.errorString,i=a.nameAdult,s=a.nameChildren,c=a.values,o=a.isPrex,u=l?"error":"",d=t?"angle-up":"angle-down",m=t?"drop-container-opened":"drop-container-closed";m=null===t?"drop-container-closed-init":m;var p=c[i]&&c[i].value||0,v=c[s]&&c[s].value||0,f=t?"drop-open":"drop-close";return h.a.createElement(y.a,{desc:n,extraInfo:r,errorString:l},h.a.createElement("div",{className:"position-relative"},h.a.createElement("div",{className:"persons-container ".concat(u," ").concat(f),ref:function(t){return e.wrapperRefControl=t}},h.a.createElement("div",{className:"img-container"},h.a.createElement("img",{src:fe.a,alt:"People.svg"})),h.a.createElement("div",{className:"text-input",onClick:function(){return e.handleSelectClick()},onKeyPress:function(){},role:"button",tabIndex:-1},h.a.createElement("p",null,p," adult, ",v," children")),h.a.createElement("div",{className:"drop-arrow",onClick:function(){return e.handleSelectClick()},onKeyPress:function(){},role:"button",tabIndex:-1},h.a.createElement("img",{src:R.a,alt:"arrow.svg",className:d})),h.a.createElement("div",{className:"drop-container ".concat(m),ref:function(t){return e.wrapperRef=t}},h.a.createElement("div",{className:"value-container"},h.a.createElement("button",{onClick:function(t){return e.handleValue(t,i,!1)}},h.a.createElement("div",{className:"minus fa fa-minus"})),h.a.createElement("p",null,h.a.createElement("span",{className:"count"},p),h.a.createElement("span",{className:"desc"},"adults")),h.a.createElement("button",{onClick:function(t){return e.handleValue(t,i,!0)}},h.a.createElement("div",{className:"plus fa fa-plus"}))),h.a.createElement("div",{className:"value-container"},!o&&h.a.createElement("button",{onClick:function(t){return e.handleValue(t,s,!1)}},h.a.createElement("div",{className:"minus fa fa-minus"})),h.a.createElement("p",null,h.a.createElement("span",{className:"count"},v),h.a.createElement("span",{className:"desc"},"children")),!o&&h.a.createElement("button",{onClick:function(t){return e.handleValue(t,s,!0)}},h.a.createElement("div",{className:"plus fa fa-plus"})))))))}}]),t}(p.Component));ge.defaultProps={desc:null,extraInfo:null,errorString:null,values:{},isPrex:!1};var be=ge,ye=(a(416),function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.desc,n=e.extraInfo,r=e.errorString,l=e.options,i=e.onChange,s=e.value,c=e.size;return h.a.createElement(y.a,{desc:a,extraInfo:n,errorString:r},h.a.createElement("div",{className:"position-relative"},h.a.createElement(f.y,{className:"selection-container-v3 w-100",noGutters:!0},m.a.map(l,function(e,a){var n=s===e.value?"selected":"";return h.a.createElement(f.f,{xs:12,sm:c,key:"".concat(e.value,"-").concat(a)},h.a.createElement("button",{type:"button",className:n,onClick:function(){return i("selection",t,e.value)}},e.display_name))}))))}}]),t}(p.Component));ye.defaultProps={value:null,desc:null,extraInfo:null,errorString:null,size:6};var Ee=ye,Oe=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).state={options:null},a.getOptions=a.getOptions.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.getOptions(),this.doPrefill()}},{key:"componentDidUpdate",value:function(e){this.getOptions(e),this.doPrefill(e.errors)}},{key:"getOptions",value:function(e){try{var t=this.state.options,a=this.props,n=a.constants,r=a.fieldData;!r||!r.options_constant_key||e&&t&&r.options_constant_key===e.fieldData.options_constant_key||this.setState({options:m.a.map(n[r.options_constant_key],function(e){return{display_name:e,value:e}})})}catch(l){console.log(l)}}},{key:"doPrefill",value:function(e){var t=this.props,a=t.values,n=t.onChangeValue,r=t.fieldData,l=t.errors;try{var i=r&&r.slug;a&&a[i]&&(a[i].type||n(r.type,i,a[i].value)),"image_selection"!==r.type||!1===r.is_required||a[i]||n(r.type,i,r.options[0].value);var s=l&&l[i],c=e&&e[i];s&&!c&&this.node&&u.a.scrollTo({top:this.node.getBoundingClientRect().y,left:0,behavior:"smooth"})}catch(s){}}},{key:"renderInput",value:function(){var e=this.state.options,t=this.props,a=t.fieldData,n=t.values,r=t.onChangeValue,l=t.errors,i=t.noInternalDesc,s=t.extraInfo,c=t.handlePostCode,o=t.isPrex,u=a&&a.slug,d=n&&n[u]&&n[u].value,p=l&&l[u];if(a){if("padding"===a.type)return null;var v=a.conditions,f=!0;try{m.a.each(v||[],function(e,t){var a=n[e.key].value===e.value;f=0===t?a:"or"===e.type?a||f:a&&f})}catch(y){f=!1}if(!f)return null;switch(a.type){case"email":case"number":case"time":case"text":case"textarea":case"password":case"postal":return h.a.createElement(O,{type:a.type,value:d,onChange:r,name:u,errorString:p,readOnly:a.readOnly,placeholderString:a.title,noInternalDesc:i,extraInfo:s,desc:a.display_name,handlePostCode:c});case"select":case"multiple_select":return h.a.createElement(k.a,{isMultiple:"multiple_select"===a.type,value:d,onChange:r,name:u,errorString:p,placeholderString:a.title,dropList:a.options||e,noInternalDesc:i,extraInfo:s,desc:a.display_name});case"checkbox":return h.a.createElement(x.a,{value:d,name:u,desc:a.title,onChange:r,errorString:p,extraInfo:s});case"image_selection":return h.a.createElement(oe,{value:d,onChange:r,name:u,inputData:a,errorString:p,extraInfo:s,desc:a.display_name});case"age_group":return h.a.createElement(he,{inputData:a,value:d,onChange:r,name:u,errorString:p,extraInfo:s,desc:a.display_name});case"date_range":var g="start_date",b="end_date";try{g=a.slugs&&a.slugs[0],b=a.slugs&&a.slugs[1]}catch(E){}return h.a.createElement(ie,{values:n,onChange:r,startName:g,endName:b,errorString:l,startDate:a.min_date,endDate:a.max_date,errorStringStart:l&&l[g],errorStringEnd:l&&l[b],extraInfo:s,noInternalDesc:i,offsetDays:a.offset_days});case"date":return h.a.createElement(re,{desc:a.display_name,startValue:d,onChange:r,name:u,placeholderString:a.title,errorString:p,noInternalDesc:i,extraInfo:s,startDate:a.min_date,endDate:a.max_date});case"persons":return h.a.createElement(be,{desc:a.desc,values:n,onChange:r,nameAdult:"num_adult",nameChildren:"num_children",namePlanType:"plan_type",nameTripType:"trip_type",errorString:p,extraInfo:s,isPrex:o});case"button_select":case"selection":return h.a.createElement(Ee,{desc:a.display_name,value:d,onChange:r,name:u,options:a.options,errorString:p,extraInfo:s,size:a.tab_size});default:return null}}return null}},{key:"render",value:function(){var e=this,t=this.props.fieldData;return t?h.a.createElement(f.f,{xs:12,sm:t.size||12},h.a.createElement("div",{ref:function(t){return e.node=t}},this.renderInput())):null}}]),t}(p.Component);Oe.defaultProps={values:{},errors:{},noInternalDesc:!1,extraInfo:null,constants:null,handlePostCode:null,isPrex:!1};t.a=Object(v.connect)(function(e){return{constants:e.insurance.constants}})(Oe)},390:function(e,t,a){"use strict";var n=a(45),r=a(46),l=a(48),i=a(47),s=a(49),c=a(114),o=a(1),u=a.n(o),d=a(115),m=a(410),p=a.n(m),h=(a(411),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).state={isOpen:!1},a.toggle=a.toggle.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"toggle",value:function(){}},{key:"render",value:function(){var e=this,t=this.state.isOpen,a=this.props,n=a.id,r=a.innerClassName;return u.a.createElement("div",{className:"tooltip-container "},u.a.createElement(d.C,{target:n,isOpen:t,toggle:function(){return e.setState({isOpen:!1})},className:"animated fade",innerClassName:[r,"tooltip-inner-custom"].join(" "),arrowClassName:"tooltip-arrow-custom",placement:"bottom-end"},this.props.children),u.a.createElement("img",{id:n,src:p.a,alt:"Tooltip.svg",onMouseEnter:function(){return e.setState({isOpen:!0})}}))}}]),t}(o.Component));h.defaultProps={innerClassName:""},t.a=h},404:function(e,t,a){e.exports=a.p+"static/media/triangle.9456eda2.svg"},405:function(e,t,a){},406:function(e,t,a){},407:function(e,t,a){},408:function(e,t,a){},409:function(e,t,a){},410:function(e,t,a){e.exports=a.p+"static/media/tooltip.52b21299.svg"},411:function(e,t,a){},412:function(e,t,a){},413:function(e,t,a){},414:function(e,t,a){},415:function(e,t,a){},416:function(e,t,a){},483:function(e,t,a){e.exports=a.p+"static/media/PiggyBank.1b55f856.svg"},484:function(e,t,a){},485:function(e,t,a){"use strict";var n=a(2),r=a(45),l=a(48),i=a(47),s=a(46),c=a(49),o=a(114),u=a(12),d=a.n(u),m=a(5),p=a.n(m),h=a(1),v=a.n(h),f=a(364),g=a(33),b=a.n(g),y=a(56),E=a(365),O=a(375),k=a(120),x=(a(486),function(e){function t(e){var a;Object(r.a)(this,t);var n=(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).props,s=n.padding,c=n.children,u=n.maxTabWidthPx,d=n.isDataFadeOnly,m=n.tabs,p=n.initialIndex,h=u>0,v=(100-s)/(d?m.length:c.length),f=h?u:v;return a.state={activeIndex:p,containerWidth:0,width:f,widthPercentage:h?"".concat(u,"px"):"".concat(f,"%"),maxWidth:"".concat(v,"%"),paddingWidth:u?"100%":"".concat(s,"%"),isControlVisible:!0,isUsingMaxWidth:h,fadeStyle:"",tabs:m},a.goToIndex=a.goToIndex.bind(Object(o.a)(Object(o.a)(a))),a.handleResize=a.handleResize.bind(Object(o.a)(Object(o.a)(a))),a.resizeTabHeight=a.resizeTabHeight.bind(Object(o.a)(Object(o.a)(a))),a.renderTabs=a.renderTabs.bind(Object(o.a)(Object(o.a)(a))),a.renderTabContent=a.renderTabContent.bind(Object(o.a)(Object(o.a)(a))),a.renderControls=a.renderControls.bind(Object(o.a)(Object(o.a)(a))),a.renderSlides=a.renderSlides.bind(Object(o.a)(Object(o.a)(a))),a.renderScollableTabs=a.renderScollableTabs.bind(Object(o.a)(Object(o.a)(a))),a.renderSelectableTabs=a.renderSelectableTabs.bind(Object(o.a)(Object(o.a)(a))),a.renderDropControls=a.renderDropControls.bind(Object(o.a)(Object(o.a)(a))),a}return Object(c.a)(t,e),Object(s.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.currentTabSelection,r=e.tabs,l=e.maxTabWidthPx,i=e.isDataFadeOnly,s=e.padding,c=e.children,o=t.activeIndex,u=null;if(r&&a){var d=p.a.findIndex(r,function(e){return e.desc===a});d>=0&&d!==o&&(u={activeIndex:d})}if(r!==t.tabs&&c){var m=l>0,h=(100-s)/(i?r.length:c.length),v=m?l:h;u=Object(n.a)({},u,{tabs:r,width:v,widthPercentage:m?"".concat(l,"px"):"".concat(v,"%"),maxWidth:"".concat(h,"%")})}return u}}]),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.tabs,t=this.props,a=t.initialIndex,n=t.name;(0,t.changeTab)(n,e[0].desc),d.a.addEventListener("resize",this.handleResize),this.handleResize(),this.resizeTabHeight(a,b.a.findDOMNode(this.carousel)),this.setState({activeIndex:a})}},{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.state,r=n.tabs,l=n.activeIndex,i=n.containerWidth,s=this.props.setTriggerHeightUpdate;if(!e.setTriggerHeightUpdate&&s){var c=this.resizeTabHeight;s(function(){c(l)})}if(r!==t.tabs&&this.resizeTabHeight(l),this.tabContainer){var o=this.tabContainer.getBoundingClientRect().width;o!==i&&setTimeout(function(){return a.setState({containerWidth:o})},100)}}},{key:"componentWillUnmount",value:function(){d.a.removeEventListener("resize",this.handleResize)}},{key:"handleResize",value:function(){var e=this.state,t=e.isControlVisible,a=e.activeIndex,n=this.props.hideWidth;if(this.resizeTabHeight(a),n){var r=d.a.innerWidth>n;this.setState({isControlVisible:r}),t&&!r&&this.goToIndex(0)}}},{key:"goToIndex",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.state,r=n.tabs,l=n.activeIndex;if(a||e!==l){var i=this.props,s=i.name,c=i.isDataFadeOnly,o=i.changeTab;c?(this.setState({fadeStyle:"animated fadeOut"}),this.setState({activeIndex:e}),o(s,r[e].desc),setTimeout(function(){r[e].onClick&&r[e].onClick(),t.setState({fadeStyle:"animated fadeIn"}),setTimeout(function(){t.setState({fadeStyle:""})},300)},300)):(this.setState({activeIndex:e}),o(s,r[e].desc),r[e].onClick&&r[e].onClick()),this.resizeTabHeight(e)}}},{key:"resizeTabHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.props.isConstantHeight,r=null!==t?t:b.a.findDOMNode(this.carousel);if(!n&&r){var l=r.getElementsByTagName("UL")[0],i=l.children[e];if(i){var s=l.parentNode,c=a?i.children[0].scrollHeight+a:i.children[0].scrollHeight;s.style.height=0===c?1e3:"".concat(c,"px")}}}},{key:"renderTabContent",value:function(e,t){var a=this.props.big?"tab-text-big":"",n=!p.a.isString(e),r=n?e.desc:e,l=n?e.img:null;return v.a.createElement(h.Fragment,null,l?v.a.createElement("div",{className:"img-container"},v.a.createElement("img",{className:t,src:l,alt:"".concat(r,".svg")})):null,v.a.createElement("p",{className:"".concat(t," ").concat(a)},r))}},{key:"renderTabs",value:function(e){var t=this,a=this.state,n=a.activeIndex,r=a.tabs,l=this.props,i=l.big,s=l.maxTabWidthPx,c=i?"tab-big":"";return p.a.map(r,function(a,r){var l=r===n?"active":"inactive",i=s>0?s:null;return v.a.createElement("div",{className:"tab ".concat(c),style:{width:e,maxWidth:i},key:"tab".concat(r)},v.a.createElement("div",{className:"tab-inner",onClick:function(){t.goToIndex(r)},role:"button",tabIndex:-1,onKeyDown:function(){}},t.renderTabContent(a,l)))})}},{key:"renderSlides",value:function(){var e=this,t=this.props.children,a=this.goToIndex;return p.a.map(t,function(t,n){return v.a.createElement("div",{key:"tab-item".concat(n)},v.a.cloneElement(t,{updateTabHeight:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e.resizeTabHeight(n,null,t)},goToIndex:a}))})}},{key:"renderScollableTabs",value:function(){var e=this,t=this.state,a=t.activeIndex,n=t.tabs,r=this.props.isDisableDropdown,l=r?"":"d-none d-sm-flex";return v.a.createElement(h.Fragment,null,v.a.createElement("div",{className:"scroll-tabs ".concat(l)},v.a.createElement(f.Scrollbars,{style:{width:"100%",height:"100%"}},v.a.createElement("div",{className:"scroll-tabs-inner"},p.a.map(n,function(t,n){var r=n===a?"active":"inactive";return v.a.createElement("div",{key:"tab".concat(n)},v.a.createElement("div",{className:"tab-inner ".concat(r),onClick:function(){e.goToIndex(n)},role:"button",tabIndex:-1,onKeyDown:function(){}},t.desc))})))),r?null:v.a.createElement("div",{className:"d-flex d-sm-none w-100"},this.renderDropControls()))}},{key:"renderDropControls",value:function(){var e=this,t=this.state,a=t.tabs,n=t.activeIndex,r=p.a.map(a,function(e){return{display_name:e.desc,value:e.desc}});return v.a.createElement("div",{className:"tab-container"},v.a.createElement(O.a,{placeholderString:"Make selection",dropList:r,value:{display_name:a[n].desc,value:a[n].desc},isDisableTyping:!0,onChange:function(t,n,r){e.goToIndex(p.a.findIndex(a,function(e){return e.desc===r.value}))},noInternalDesc:!0}))}},{key:"renderSelectableTabs",value:function(){var e=this,t=this.state,a=t.activeIndex,n=t.width,r=t.widthPercentage,l=t.maxWidth,i=t.containerWidth,s=t.paddingWidth,c=t.isUsingMaxWidth,o=t.tabs,u=this.props,d=u.style,m=u.big,p=u.charged,f=u.isDisableDropdown,g=o&&o.length*n>i,b=c&&!g?a*n:"".concat(a/o.length*100,"%"),y=m?"tab-big":"",E=p?"tab-container-charged":"",O=f?"":"d-none d-lg-flex";return v.a.createElement(h.Fragment,null,v.a.createElement("div",{style:d,className:"tab-container ".concat(E," tab-container-padding ").concat(O),ref:function(t){return e.tabContainer=t}},this.renderTabs(g?l:r),v.a.createElement("div",{className:"tab tab-padding",style:{width:s}}),v.a.createElement("div",{className:"selected-tab ".concat(y),style:{width:r,maxWidth:l,marginLeft:b}})),f?null:v.a.createElement("div",{className:"d-flex d-lg-none w-100"},this.renderDropControls()))}},{key:"renderControls",value:function(){return this.props.scrollTabs?this.renderScollableTabs():this.renderSelectableTabs()}},{key:"render",value:function(){var e=this,t=this.state,a=t.activeIndex,n=t.isControlVisible,r=t.fadeStyle,l=this.props,i=l.isDataFadeOnly,s=l.className;return v.a.createElement("div",{className:"tabview-container-new ".concat(s)},n?this.renderControls():null,v.a.createElement("div",{className:"tab-items-container ".concat(r)},i?this.props.children:v.a.createElement(E.Carousel,{showThumbs:!1,showIndicators:!1,showArrows:!1,showStatus:!1,selectedItem:a,swipeable:!1,onChange:function(t){return e.goToIndex(t)},ref:function(t){return e.carousel=t}},this.renderSlides())))}}]),t}(h.Component));x.defaultProps={padding:0,hideWidth:0,maxTabWidthPx:0,style:null,isDisableDropdown:!1,isConstantHeight:!1,initialIndex:0,setTriggerHeightUpdate:null,isDataFadeOnly:!1,big:!1,className:null,charged:null,scrollTabs:!1};t.a=Object(y.connect)(function(e,t){return{currentTabSelection:e.tab[t.name]}},function(e){return{changeTab:function(t,a){e(Object(k.b)(t,a))}}},null,{withRef:!0})(x)},486:function(e,t,a){},487:function(e,t,a){e.exports=a.p+"static/media/Label.0e35ceae.svg"},496:function(e,t,a){"use strict";var n=a(45),r=a(46),l=a(48),i=a(47),s=a(49),c=a(1),o=a.n(c),u=a(115),d=a(483),m=a.n(d),p=(a(484),function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.header,a=e.subHeader,n=e.onClick,r=e.isLoggedIn;return o.a.createElement("div",{className:"piggy-container-new ".concat(r?"piggy-hovered":"piggy-hover"),onClick:n,role:"button",tabIndex:-1,onKeyDown:null},o.a.createElement(u.f,{className:"d-flex d-sm-none wrap-container",xs:12},o.a.createElement("div",{className:"piggy-img-container"},o.a.createElement("img",{src:m.a,alt:"Pig.svg"})),o.a.createElement("div",{className:"piggy-right-container"},o.a.createElement("div",{className:"piggy-desc-container"},t,a))),o.a.createElement(u.f,{className:"d-none d-sm-flex wrap-container",xs:12},o.a.createElement("div",{className:"piggy-img-container"},o.a.createElement("img",{src:m.a,alt:"Pig.svg"})),o.a.createElement("div",{className:"piggy-right-container"},o.a.createElement("div",{className:"piggy-desc-container"},t,a))))}}]),t}(c.Component));p.defaultProps={onClick:function(){},isLoggedIn:!1,subHeader:null};var h=p,v=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,a=e.category,n=e.mainText,r=e.descText,l=e.isLoggedIn,i=e.cashback,s=n,c=r;return s||(s="life"===a||"endowment"===a||"retirement"===a?"Earn extra $5 Credits instantly!":"Sign in to get 5% Cashback on your purchase!"),c||(c="life"===a||"endowment"===a||"retirement"===a?"Submit the form below as a PolicyPal user to earn $5 Credits in your account.":"Purchase as a PolicyPal user to earn 5% Cashback in your account within 14 days."),l&&i&&(s="Proceed to earn ".concat(i," cashback now!"),c=null),o.a.createElement(h,{isLoggedIn:l,header:o.a.createElement("p",{className:"main-text"},s),subHeader:c&&o.a.createElement("p",{className:"desc-text"},c),onClick:!l&&t?t:null})}}]),t}(c.Component);v.defaultProps={onClick:function(){},mainText:null,descText:null,isLoggedIn:!1,cashback:null};t.a=v},557:function(e,t,a){e.exports=a.p+"static/media/TagLabel.8f22645f.svg"},565:function(e,t,a){"use strict";var n=a(45),r=a(46),l=a(48),i=a(47),s=a(49),c=a(114),o=a(1),u=a.n(o),d=a(115),m=a(301),p=a.n(m),h=(a(648),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).toggle=a.toggle.bind(Object(c.a)(Object(c.a)(a))),a.state={collapse:!1},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"toggle",value:function(){this.setState({collapse:!this.state.collapse})}},{key:"render",value:function(){var e=this.state.collapse,t=this.props,a=t.collapseOverwrite,n=t.useOverwrite,r=t.className,l=t.topHr,i=n?a:e;return u.a.createElement(d.f,{className:["detail-collapse-container",r].join(" "),xs:12},!n&&u.a.createElement(d.a,{onClick:this.toggle,className:"collapse-button"},u.a.createElement("p",{className:"grey-text collapse-text"},e?"Hide details":"More details"),u.a.createElement("img",{className:e?"rotate-arrow":"",src:p.a,alt:"Arrow.svg"})),!n&&i&&l&&u.a.createElement("hr",null),u.a.createElement(d.g,{isOpen:i},this.props.children),!n&&!l&&u.a.createElement("hr",null))}}]),t}(o.Component));h.defaultProps={collapseOverwrite:!1,useOverwrite:!1,className:"",topHr:!1},t.a=h},566:function(e,t,a){"use strict";var n=a(3),r=a.n(n),l=a(2),i=a(23),s=a(6),c=a(45),o=a(46),u=a(48),d=a(47),m=a(49),p=a(114),h=a(5),v=a.n(h),f=a(1),g=a.n(f),b=a(115),y=a(298),E=a(382),O=a(299),k=a(371),x=a(355),D=a.n(x),j=(a(646),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={animateStyle:"",showModal:!1},a.openCheckoutComplete=a.openCheckoutComplete.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"openCheckoutComplete",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.setState({showModal:!0},function(){setTimeout(function(){e.setState({animateStyle:"bounce-in",userName:t})},500)})}},{key:"renderUpperText",value:function(){var e=this.state.userName,t=this.props,a=t.isQuoteOnly,n=t.upperText;return a?g.a.createElement("p",null,n||"Success"):g.a.createElement(f.Fragment,null,g.a.createElement("p",null,"Thank you for your"),g.a.createElement("p",null,g.a.createElement("span",null,"purchase, "),g.a.createElement("span",{className:"focus-text"},e)))}},{key:"renderMidText",value:function(){var e=this.props,t=e.isQuoteOnly,a=e.midText;return t?null!==a?g.a.createElement(f.Fragment,null,g.a.createElement("p",null,a)):g.a.createElement(f.Fragment,null,g.a.createElement("p",null,"Thanks for submitting your request."),g.a.createElement("p",null,"The insurer\u2019s representative will contact you within 2 business days to share with you more about the selected product.")):g.a.createElement(f.Fragment,null,g.a.createElement("p",null,"A copy of the receipt has been sent to"),g.a.createElement("p",null,"your inbox."),g.a.createElement("p",null,"The policy will be reflected in PolicyPal's APP once approved."))}},{key:"renderButton",value:function(){var e=this,t=this.props,a=t.history,n=t.isQuoteOnly,r=t.buttonText,l=t.callback;return n?g.a.createElement(O.a,{className:"checkout-button",variant:"medium-flat-green",width:166,height:72,onClick:function(){if(l)return l(),void e.setState({showModal:!1});a.push("/")}},g.a.createElement("p",null,r||"OK")):g.a.createElement(f.Fragment,null,g.a.createElement(O.a,{className:"checkout-button",variant:"medium-flat",width:166,height:72,onClick:function(){return a.push("/gotoappstore")}},g.a.createElement("p",null,"Download APP")),g.a.createElement(O.a,{className:"checkout-button",variant:"medium-flat-green",width:166,height:72,onClick:function(){return e.setState({showModal:!1})}},g.a.createElement("p",null,"Details")))}},{key:"renderBody",value:function(){var e=this.state.animateStyle,t=this.props.isSellLeads?"In the event that you purchase a plan through our partner, PolicyPal receives a referral fee.":"";return g.a.createElement("div",{className:"check-out-complete"},g.a.createElement("img",{className:e,src:D.a,alt:"CheckoutComplete.svg"}),g.a.createElement("div",{className:"upper-container upper-margin-up"},this.renderUpperText()),g.a.createElement("div",{className:"mid-container"},this.renderMidText()),g.a.createElement("div",{className:"button-container"},this.renderButton()),g.a.createElement("div",{className:"extra-text"},g.a.createElement("p",null,t)))}},{key:"render",value:function(){var e=this,t=this.state.showModal;try{return g.a.createElement("div",null,g.a.createElement(k.a,{showModal:t,closeModal:function(){return e.setState({showModal:!1})},className:"check-out-complete-popup",backdropClassName:"blue-modal-backdrop",body:this.renderBody()}))}catch(a){}return null}}]),t}(f.Component));j.defaultProps={isQuoteOnly:!1,isSellLeads:!1,upperText:null,midText:null,buttonText:null,callback:null};var N=Object(y.a)(j,{withRef:!0}),S=a(13),w=a(121),C=(a(647),function(e){function t(e){var a;Object(c.a)(this,t);var n=(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).props.email;return a.state={values:{email:n},errors:{},formState:0,errorMsg:""},a.onChangeValue=a.onChangeValue.bind(Object(p.a)(Object(p.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(Object(p.a)(a))),a.hideModal=a.hideModal.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"onChangeValue",value:function(){var e=Object(s.a)(r.a.mark(function e(t,a,n){var s,c,o,u,d,m;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=this.state,c=s.values,o=s.errors,u=this.props.data,d=o&&o[a],m={},!d){e.next=12;break}return e.t0=i.a,e.t1={},e.t2=a,e.next=10,Object(w.b)(a,{type:t,value:n},c,u.form.forms);case 10:e.t3=e.sent,m=(0,e.t0)(e.t1,e.t2,e.t3);case 12:this.setState({values:Object(l.a)({},c,Object(i.a)({},a,{type:t,value:n})),errors:Object(l.a)({},o,m)});case 13:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(s.a)(r.a.mark(function e(){var t,a,n,i,s,c,o,u,d=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.values,a=this.props,n=a.handleAPI,i=a.errors,s=a.data,c=a.hideEnquiryModal,e.prev=2,e.next=5,Object(w.a)(t,null,s.form.forms);case 5:if(o=e.sent,v.a.isEmpty(o)){e.next=9;break}return this.setState({errors:o}),e.abrupt("return");case 9:return u={form_category:"Travel (Prex)",input_data:v.a.map(s.form.forms,function(e){return{name:e.title,value:t[e.slug].value,type:"text"}})},e.next=12,n(function(){return Object(S.I)(u)});case 12:e.sent?(c(),this.checkoutComplete&&setTimeout(function(){d.checkoutComplete.openCheckoutComplete()},300)):this.setState({errors:Object(l.a)({},i,{errorMsg:"Request failed! Please try again."})}),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(2);case 18:case"end":return e.stop()}},e,this,[[2,16]])}));return function(){return e.apply(this,arguments)}}()},{key:"hideModal",value:function(){var e=this.props,t=e.hideEnquiryModal,a=e.email;this.setState({values:{email:a},errors:{},formState:0,errorMsg:""}),t&&t()}},{key:"renderDisclaimer",value:function(){var e=this.props.data;return g.a.createElement(f.Fragment,null,v.a.map(e.disclaimer.details,function(e,t){return g.a.createElement(f.Fragment,{key:"discliamer-".concat(t)},v.a.map(e.title,function(e,a){return g.a.createElement("p",{key:"discliamer-title-".concat(t,"-").concat(a),className:"desc-text desc-heavy"},e)}),g.a.createElement("ol",null,v.a.map(e.desc,function(e,a){return g.a.createElement("li",{key:"discliamer-desc-".concat(t,"-").concat(a),className:"desc-text"},e)})))}))}},{key:"renderForm",value:function(){var e=this,t=this.state,a=t.values,n=t.errors,r=t.errorMsg,l=this.props.data;return g.a.createElement(b.y,{noGutters:!0},g.a.createElement(b.f,{xs:12},g.a.createElement("p",{className:"desc-text"},l.form.desc)),v.a.map(l.form.forms,function(t,r){return g.a.createElement(E.a,{key:"business-form-".concat(r),values:a,errors:n,fieldData:t,onChangeValue:e.onChangeValue,extraInfo:t.extra_info&&g.a.createElement("p",null,t.extra_info)})}),g.a.createElement(b.f,{xs:12},g.a.createElement("p",{className:"error-text"},r)))}},{key:"renderDisclaimerButton",value:function(){var e=this,t=this.props,a=t.onNext,n=t.data;return g.a.createElement(b.y,{className:"w-100",noGutters:!0},g.a.createElement(b.f,{className:"button-container",xs:12,sm:6},g.a.createElement(O.a,{className:"button-left cancel-btn",variant:"medium-outline",height:48,width:162,onClick:function(){return e.setState({formState:1})}},g.a.createElement("p",null,n.disagree_text))),g.a.createElement(b.f,{className:"button-container",xs:12,sm:6},g.a.createElement(O.a,{variant:"medium-flat-green",height:48,width:162,onClick:a},g.a.createElement("p",null,n.agree_text))))}},{key:"renderFormButton",value:function(){return g.a.createElement(b.y,{className:"w-100",noGutters:!0},g.a.createElement(b.f,{className:"button-container justify-content-center",xs:12},g.a.createElement(O.a,{variant:"medium-flat-green",height:48,width:114,onClick:this.handleSubmit},g.a.createElement("p",null,"Submit"))))}},{key:"render",value:function(){var e=this,t=this.state.formState,a=this.props,n=a.showModal,r=a.history,l=a.data,i=a.className;if(!l)return null;try{return g.a.createElement("div",null,g.a.createElement(k.a,{showModal:n,closeModal:this.hideModal,className:[i,"default-flow-enquiry-modal"].join(" "),backdropClassName:"blue-modal-backdrop",header:g.a.createElement("p",null,0===t?l.disclaimer.header:l.form.header),body:0===t?this.renderDisclaimer():this.renderForm(),footer:0===t?this.renderDisclaimerButton():this.renderFormButton()}),g.a.createElement(N,{className:"blue-popup-backdrop",isQuoteOnly:!0,upperText:"Submission Successful!",midText:"Thank You for Choosing PolicyPal! We will be contacting you within 2 business days.",buttonText:"Confirm",wrappedComponentRef:function(t){return e.checkoutComplete=t},callback:function(){return r.push("/")}}))}catch(s){}return null}}]),t}(f.Component));C.defaultProps={data:null,className:""};t.a=Object(y.a)(C)},624:function(e,t,a){"use strict";var n=a(45),r=a(46),l=a(48),i=a(47),s=a(49),c=a(1),o=a.n(c),u=a(298),d=a(557),m=a.n(d),p=(a(625),function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.history,a=e.className,n=e.teaser;return n?o.a.createElement("div",{className:["voucher-tag-container",a].join(" ")},o.a.createElement("img",{src:m.a,alt:"TagLabel.svg"}),n.is_url&&n.value?o.a.createElement("button",{type:"button",onClick:function(){return t.push(n.value)}},n.name):o.a.createElement("span",null,n.name)):null}}]),t}(c.Component));p.defaultProps={className:"",teaser:null},t.a=Object(u.a)(p)},625:function(e,t,a){},633:function(e,t,a){"use strict";var n=a(3),r=a.n(n),l=a(6),i=a(45),s=a(46),c=a(48),o=a(47),u=a(49),d=a(114),m=a(5),p=a.n(m),h=a(1),v=a.n(h),f=a(115),g=a(299),b=function(e){function t(e){var a;Object(i.a)(this,t);var n=(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).props,r=n.values,l=n.setCloseCallBack;return a.originalValues=p.a.cloneDeep(r),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(Object(d.a)(a))),a.handleCloseEdit=a.handleCloseEdit.bind(Object(d.a)(Object(d.a)(a))),a.handleRevert=a.handleRevert.bind(Object(d.a)(Object(d.a)(a))),l&&l(a.handleRevert),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleSubmit",value:function(){var e=Object(l.a)(r.a.mark(function e(t){var a,n,l,i,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=this.props,n=a.closePopUp,l=a.fields,i=a.validateForm,s=a.onSubmit,e.next=4,i(function(){n&&n(),s()},l);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleRevert",value:function(){var e=this.props.onUpdateValues;e&&e(this.originalValues)}},{key:"handleCloseEdit",value:function(){(0,this.props.closePopUp)(this.handleRevert)}},{key:"render",value:function(){var e=this,t=this.props,a=t.isPopUp,n=t.title,r=a?"":"landing-form-container-border";return v.a.createElement("div",{className:"landing-form-container-new ".concat(r)},a?v.a.createElement("p",{className:"edit-header"},n):null,v.a.createElement(f.m,{onSubmit:this.handleSubmit},v.a.createElement(f.y,{className:"input-offset",noGutters:!0},this.props.children,a?null:v.a.createElement(f.f,{className:"d-flex align-items-end justify-content-end button",xs:12,sm:6},v.a.createElement(g.a,{type:"submit",variant:"medium-flat-green",height:48},v.a.createElement("p",null,"Search Policies")))),v.a.createElement(f.y,{className:"align-items-center button-container",noGutters:!0},a?v.a.createElement(f.f,{className:"justify-content-center button",xs:12},v.a.createElement(f.y,{noGutters:!0},v.a.createElement(f.f,{className:"button-container-inner",xs:12,sm:6},v.a.createElement(g.a,{type:"button",className:"button-left",variant:"medium-outline-inverse",height:48,onClick:function(){return e.handleCloseEdit()}},v.a.createElement("p",null,"Cancel"))),v.a.createElement(f.f,{className:"button-container-inner",xs:12,sm:6},v.a.createElement(g.a,{type:"submit",variant:"medium-flat-green",height:48},v.a.createElement("p",null,"Save"))))):null)))}}]),t}(h.Component);b.defaultProps={values:null,closePopUp:null,setCloseCallBack:null,isPopUp:!1,onUpdateValues:null},t.a=b},644:function(e,t,a){"use strict";var n=a(22),r=a(45),l=a(46),i=a(48),s=a(47),c=a(49),o=a(114),u=a(5),d=a.n(u),m=a(14),p=a.n(m),h=a(1),v=a.n(h),f=a(115),g=a(380),b=a.n(g),y=a(299),E=a(8),O=(a(645),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).state={modal:!1,revertFunc:function(){},isToolTip:!1},a.renderDetailValues=a.renderDetailValues.bind(Object(o.a)(Object(o.a)(a))),a.renderEditButton=a.renderEditButton.bind(Object(o.a)(Object(o.a)(a))),a.toggle=a.toggle.bind(Object(o.a)(Object(o.a)(a))),a}return Object(c.a)(t,e),Object(l.a)(t,[{key:"toggle",value:function(e){var t=this.state.modal;t&&e&&e(),this.setState({modal:!t})}},{key:"renderDetailValues",value:function(e){var t=this,a=this.state.isToolTip,r=this.props,l=r.values,i=r.valuesToListen,s=r.conditions,c=s?l[s.key]&&l[s.key].value:null,o=c?s.values[c]:null;return l?v.a.createElement("div",{className:"edit-detail-value-container-new"},d.a.reduce(i,function(r,s,c){if(!o||o&&-1!==d.a.findIndex(o,function(e){return e===s.value})){var u=l[s.value]?l[s.value].value:"None",m=u,g=!1;s.customFunc?m=s.customFunc():"cost_simplify"===s.extra?m=Object(E.o)(u):u.constructor===Array?(g=!0,m=Object(n.a)(u),s.aggregateDesc&&m.length>1&&(m="".concat(m.length," ").concat(s.aggregateDesc))):u.constructor===Object?m=u.display_name:u.constructor===Date&&(m=p()(u).format("DD MMM YYYY")),m=m.toString();var b=null;if(e){var y=c===i.length-1?"":",";b=v.a.createElement("div",{key:"detail-".concat(c),className:"detail-resp-value"},m,y)}else b=v.a.createElement("div",{className:"edit-detail-value",key:"detail-".concat(c)},v.a.createElement("img",{src:s.logo,alt:"".concat(s.value,".svg"),className:"detail-logo"}),v.a.createElement("span",{className:"detail-value"},m,g&&u.length>1?v.a.createElement(h.Fragment,null,v.a.createElement(f.C,{target:"initial-form-tooltip-".concat(c),isOpen:a,toggle:function(){return t.setState({isToolTip:!1})},className:"animated fade"},d.a.map(u,function(e,t){return v.a.createElement("p",{key:"tooltip-value-".concat(t)},e)})),v.a.createElement("div",{id:"initial-form-tooltip-".concat(c),className:"tooltip-button",onMouseMove:function(){t.setState({isToolTip:!0})}},v.a.createElement("p",null,"i"))):null));r.push(b)}return r},[])):null}},{key:"renderEditButton",value:function(e){var t=this;return e?v.a.createElement("div",{role:"button",tabIndex:-1,onKeyDown:function(){},onClick:function(){t.toggle()}},v.a.createElement("img",{src:b.a,alt:"EditButton.svg"})):v.a.createElement(y.a,{variant:"medium-outline-edit",height:40,onClick:function(){t.toggle()}},v.a.createElement("p",null,"Edit"))}},{key:"render",value:function(){var e=this,t=this.state,a=t.modal,n=t.revertFunc,r=this.props,l=r.submitCallback;return r.displayOnly?this.renderDetailValues(!1):v.a.createElement("div",{className:"change-form-container-new"},v.a.createElement("div",{className:"edit-detail-container d-none d-lg-flex"},v.a.createElement("div",{className:"edit-detail-inner-container"},this.renderDetailValues(!1)),this.renderEditButton(!1)),v.a.createElement("div",{className:"edit-detail-resp-container d-flex d-lg-none"},v.a.createElement("div",{className:"detail-inner-resp-container"},this.renderDetailValues(!0)),this.renderEditButton(!0)),v.a.createElement(f.o,{isOpen:a,size:"lg",backdropClassName:"blue-modal-backdrop"},v.a.createElement(f.r,{toggle:function(){return e.toggle(n)}}),v.a.cloneElement(this.props.children,{submitCallback:l,closePopUp:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e.toggle(),t()},setCloseCallBack:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return e.setState({revertFunc:t})}})))}}]),t}(h.Component));O.defaultProps={submitCallback:null,conditions:null,headerValue:null,displayOnly:!1,values:null},t.a=O},645:function(e,t,a){},646:function(e,t,a){},647:function(e,t,a){},648:function(e,t,a){},693:function(e,t,a){e.exports=a.p+"static/media/Tooltip.1bc18b72.svg"}}]);
//# sourceMappingURL=TravelChoosePlanContainer.1810020a.chunk.js.map