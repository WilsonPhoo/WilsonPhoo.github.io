{"version":3,"sources":["components/Endowment/EndowmentDetail.js","containers/Endowment/EndowmentDetailContainer.js","assets/images/forms/arrow.svg","components/Forms/FormInputWrapper/FormInputWrapper.js","assets/images/forms/magnifyGlass.svg","assets/images/common/CheckoutComplete.svg","components/Templates/CheckoutPopup/CheckoutComplete.js"],"names":["EndowmentDetail","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","sessionId","errorStringData","errorArray","handleSubmit","bind","assertThisInitialized","validateForm","nextProps","prevState","_this2","loadingEnd","setTimeout","checkoutComplete","openCheckoutComplete","ampTag","e","error","setState","_","isEmpty","react_default","a","createElement","className","key","_this3","isFirstValidate","arguments","length","undefined","_this$props","checkOutOthers","loading","storeForm","errorResult","isEmptyResult","dateReValidate","popup","openPopupWithJSX","getSynergyJSX","fbTag","Product","Click_Text","gaEvent","event_category","event_label","window","scrollTo","document","body","scrollHeight","_this4","_this$state","_this$props2","form","change","planDetails","isLoggedIn","piggyCallback","changePlan","react","DetailForm","category","onSubmit","checkoutButtonDesc","reactstrap_es","noGutters","xs","TextInput","name","placeholderString","size","zIndex","desc","errorString","email","sm","DatePickerV2","birth_date","endDate","Date","mobile_number","PopupWithText","ref","node","showCancelButton","CheckoutComplete","isQuoteOnly","isSellLeads","wrappedComponentRef","Component","defaultProps","reduxForm","destroyOnUnmount","connect","getFormValues","constants","insurance","dispatch","callBack","errorMsg","time","setLoading","clearLoading","EndowmentDetailContainer","setFormState","FORMSTATES","DETAILFORM","index","gaTag","page_title","page_path","plansData","profileValues","endowmentFields","history","selectedData","logo","Logos","others","logoDesc","planName","planTotal","netPrice","policyInfo","planType","net_price","concat","toFixed","info","insurer_slug","insurer_name","product_name","console","log","Endowment_EndowmentDetail","goBack","withRouter","endowmentForm","endowment","userDetails","selectedPlanData","getAnonymousSession","params","setInsuranceFormState","propsFromState","propsFromDispatch","ownProps","objectSpread","detailForm","getSessionParams","module","exports","__webpack_require__","p","FormInputWrapper","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__","setErrorString","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","clearErrorString","refValue","message","extraInfo","react__WEBPACK_IMPORTED_MODULE_6___default","children","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","animateStyle","userName","popupRef","openPopup","upperText","react__WEBPACK_IMPORTED_MODULE_6__","midText","_this$props3","buttonText","callback","components_FormsV3_Button_Button__WEBPACK_IMPORTED_MODULE_9__","variant","width","height","onClick","togglePopup","push","closePopup","_this$props4","extraText","_Popup_Popup__WEBPACK_IMPORTED_MODULE_10__","hideCloseButton","r","src","CheckoutCompleteSVG","alt","renderUpperText","renderMidText","renderButton","withRef"],"mappings":"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","file":"static/js/EndowmentDetailContainer.c1ba2e3c.chunk.js","sourcesContent":["/**\r\n * EndowmentDetail.js\r\n * The Detail view for Endowment\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport document from 'global/document';\r\nimport window from 'global/window';\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { reduxForm, getFormValues } from 'redux-form';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\n// Import Insurer Logos\r\nimport DetailForm from '../Templates/DetailForm/DetailForm';\r\n\r\nimport TextInput from '../Forms/TextInput/TextInput';\r\nimport DatePickerV2 from '../Forms/DatePicker/DatePickerV2';\r\nimport CheckoutComplete from '../Templates/CheckoutPopup/CheckoutComplete';\r\nimport PopupWithText from '../Templates/PopupWithText/PopupWithText';\r\n\r\nimport { getSynergyJSX } from '../../actions/insuranceActions';\r\nimport { validateForm, dateReValidate } from '../../lib/validators';\r\nimport { setLoading, clearLoading } from '../../actions/loadingScreenActions';\r\nimport { fbTag, gaEvent, ampTag } from '../../lib/tagFunctions';\r\n\r\n// import './PetDetail.scss';\r\n\r\nconst formName = 'endowment-detail';\r\n\r\nclass EndowmentDetail extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const {\r\n      sessionId,\r\n    } = nextProps;\r\n\r\n    if (sessionId !== prevState.sessionId) {\r\n      return ({\r\n        sessionId,\r\n      });\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      sessionId: null,\r\n      errorStringData: {},\r\n      errorArray: [],\r\n    };\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.validateForm = this.validateForm.bind(this);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { sessionId } = this.state;\r\n    const { loadingEnd } = this.props;\r\n\r\n    if (sessionId) {\r\n      loadingEnd();\r\n      setTimeout(() => {\r\n        this.checkoutComplete.openCheckoutComplete();\r\n        ampTag('EndConfirmationS');\r\n      }, 300);\r\n    }\r\n  }\r\n\r\n  validateForm(e) {\r\n    const fieldsToCheck = [\r\n      'email',\r\n      'name',\r\n      'birth_date',\r\n      'mobile_number',\r\n    ];\r\n\r\n    const error = validateForm(e, fieldsToCheck);\r\n\r\n    this.setState({\r\n      errorStringData: error,\r\n    });\r\n\r\n    let errorArray = [];\r\n    if (!_.isEmpty(error)) {\r\n      errorArray = [<p className=\"error-string\" key=\"error-1\">Fields are not properly filled, please check again.</p>];\r\n    }\r\n\r\n    this.setState({\r\n      errorArray,\r\n    });\r\n\r\n    return error;\r\n  }\r\n\r\n  handleSubmit(e, isFirstValidate = true) {\r\n    // console.log(e);\r\n    const { checkOutOthers, loading, storeForm } = this.props;\r\n    const errorResult = this.validateForm(isFirstValidate ? e : storeForm);\r\n    const isEmptyResult = _.isEmpty(errorResult);\r\n\r\n    if (dateReValidate(\r\n      isEmptyResult,\r\n      isFirstValidate,\r\n      errorResult,\r\n      error => this.setState({ errorStringData: error, errorArray: null }),\r\n      () => this.handleSubmit(storeForm, false),\r\n    )) {\r\n      return;\r\n    }\r\n\r\n    if (isEmptyResult) {\r\n      ampTag('EndConfirm1A');\r\n      ampTag('EndNoticeS');\r\n      this.popup.openPopupWithJSX(getSynergyJSX(), true, () => {\r\n        setTimeout(() => {\r\n          loading();\r\n          checkOutOthers(e);\r\n\r\n          fbTag('PPS2 - ButtonClick - Endowment - DetailForm_Checkout', { Product: 'Endowment', Click_Text: 'Checkout' });\r\n          gaEvent('Endowment - DetailForm - Checkout', {\r\n            event_category: 'Endowment',\r\n            event_label: 'Endowment - DetailForm - Checkout',\r\n          });\r\n          ampTag('EndConfirm2A');\r\n        }, 350);\r\n      });\r\n    }\r\n    window.scrollTo(0, document.body.scrollHeight);\r\n  }\r\n\r\n  render() {\r\n    const { errorStringData, errorArray } = this.state;\r\n    const {\r\n      form,\r\n      change,\r\n      planDetails,\r\n      isLoggedIn,\r\n      piggyCallback,\r\n      changePlan,\r\n      storeForm,\r\n    } = this.props;\r\n\r\n    // console.log(petMinDate, petMaxDate);\r\n    return (\r\n      <Fragment>\r\n        <DetailForm\r\n          category=\"endowment\"\r\n          changePlan={changePlan}\r\n          handleSubmit={this.props.handleSubmit}\r\n          onSubmit={this.handleSubmit}\r\n          change={change}\r\n          form={form}\r\n          planDetails={planDetails}\r\n          isLoggedIn={isLoggedIn}\r\n          piggyCallback={piggyCallback}\r\n          errorArray={errorArray}\r\n          checkoutButtonDesc=\"Confirm\"\r\n        >\r\n          <Row className=\"main-form\" noGutters>\r\n            <Col xs={12}>\r\n              <TextInput\r\n                form={form}\r\n                change={change}\r\n                name=\"email\"\r\n                placeholderString=\"\"\r\n                size=\"medium\"\r\n                zIndex={99}\r\n                desc=\"Email Address\"\r\n                errorString={errorStringData.email}\r\n                validateForm={() => this.validateForm(storeForm)}\r\n              />\r\n            </Col>\r\n            <Col className=\"right-padding\" xs={12} sm={6}>\r\n              <TextInput\r\n                form={form}\r\n                change={change}\r\n                name=\"name\"\r\n                placeholderString=\"\"\r\n                size=\"medium\"\r\n                zIndex={98}\r\n                desc=\"Full Name\"\r\n                errorString={errorStringData.name}\r\n                validateForm={() => this.validateForm(storeForm)}\r\n              />\r\n            </Col>\r\n            <Col className=\"left-padding\" xs={12} sm={6}>\r\n              <DatePickerV2\r\n                form={form}\r\n                change={change}\r\n                name=\"birth_date\"\r\n                size=\"medium\"\r\n                zIndex={97}\r\n                desc=\"Date of Birth\"\r\n                errorString={errorStringData.birth_date}\r\n                validateForm={() => this.validateForm(storeForm)}\r\n                endDate={new Date()}\r\n              />\r\n            </Col>\r\n            <Col className=\"right-padding\" xs={12} sm={6}>\r\n              <TextInput\r\n                form={form}\r\n                change={change}\r\n                name=\"mobile_number\"\r\n                placeholderString=\"\"\r\n                size=\"medium\"\r\n                zIndex={96}\r\n                desc=\"Mobile Number\"\r\n                errorString={errorStringData.mobile_number}\r\n                validateForm={() => this.validateForm(storeForm)}\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </DetailForm>\r\n        <PopupWithText\r\n          ref={node => this.popup = node}\r\n          showCancelButton\r\n        />\r\n        <CheckoutComplete\r\n          isQuoteOnly\r\n          isSellLeads\r\n          wrappedComponentRef={node => this.checkoutComplete = node}\r\n        />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nEndowmentDetail.defaultProps = {\r\n  storeForm: null,\r\n};\r\n\r\nEndowmentDetail.propTypes = {\r\n  handleSubmit: PropTypes.func.isRequired,\r\n  checkOutOthers: PropTypes.func.isRequired,\r\n  form: PropTypes.string.isRequired,\r\n  change: PropTypes.func.isRequired,\r\n  planDetails: PropTypes.object.isRequired,\r\n  isLoggedIn: PropTypes.bool.isRequired,\r\n  piggyCallback: PropTypes.func.isRequired,\r\n  changePlan: PropTypes.func.isRequired,\r\n  storeForm: PropTypes.object,\r\n  loading: PropTypes.func.isRequired,\r\n  loadingEnd: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  storeForm: getFormValues(formName)(state),\r\n  constants: state.insurance.constants,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  loading: (callBack, errorMsg, time) => {\r\n    dispatch(setLoading(callBack, errorMsg, time));\r\n  },\r\n  loadingEnd: () => {\r\n    dispatch(clearLoading());\r\n  },\r\n});\r\n\r\nexport default reduxForm({\r\n  form: formName,\r\n  destroyOnUnmount: false,\r\n})(connect(mapStateToProps, mapDispatchToProps)(EndowmentDetail));\r\n","/**\r\n * EndowmentDetailContainer.js\r\n * Detail Container for Endowment\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { getFormValues } from 'redux-form';\r\nimport PropTypes from 'prop-types';\r\n\r\n// Import Insurer Logos\r\nimport Logos from 'assets/images/InsurerLogos';\r\n\r\nimport EndowmentDetail from '../../components/Endowment/EndowmentDetail';\r\nimport { getAnonymousSession, setInsuranceFormState, FORMSTATES } from '../../actions/insuranceActions';\r\nimport { getSessionParams } from '../../actions/endowmentActions';\r\nimport { fbTag, gaTag, gaEvent, ampTag } from '../../lib/tagFunctions';\r\n\r\nclass EndowmentDetailContainer extends Component {\r\n  componentDidMount() {\r\n    const { setFormState } = this.props;\r\n    setFormState(FORMSTATES.DETAILFORM.index);\r\n    fbTag('PPS2 - Pageview - Endowment - DetailForm', { Product: 'Endowment' });\r\n    gaTag({\r\n      page_title: 'Endowment - Detail Form',\r\n      page_path: '/endowment/detailform',\r\n    });\r\n    ampTag('EndDetailsS');\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      plansData,\r\n      isLoggedIn,\r\n      profileValues,\r\n      piggyCallback,\r\n      endowmentFields,\r\n      sessionId,\r\n      checkOutOthers,\r\n      history,\r\n    } = this.props;\r\n\r\n    if (!plansData) {\r\n      return null;\r\n    }\r\n\r\n    const selectedData = plansData;\r\n\r\n    let planDetails = {\r\n      logo: Logos.others,\r\n      logoDesc: '',\r\n      planName: '',\r\n      planTotal: null,\r\n    };\r\n\r\n    try {\r\n      let netPrice = selectedData.policyInfo[selectedData.planType].net_price;\r\n      netPrice = netPrice ? `$${netPrice.toFixed(2)}` : '';\r\n\r\n      planDetails = {\r\n        logo: Logos[selectedData.info.insurer_slug],\r\n        logoDesc: `${selectedData.info.insurer_name}.svg`,\r\n        planName: selectedData.info.product_name,\r\n        planTotal: netPrice,\r\n      };\r\n    } catch (error) {\r\n      console.log('Get plan details failed');\r\n    }\r\n\r\n    return (\r\n      <EndowmentDetail\r\n        endowmentFields={endowmentFields}\r\n        selectedData={selectedData}\r\n        planDetails={planDetails}\r\n        isLoggedIn={isLoggedIn}\r\n        sessionId={sessionId}\r\n        piggyCallback={piggyCallback}\r\n        checkOutOthers={checkOutOthers}\r\n        changePlan={() => {\r\n          history.goBack();\r\n          fbTag('PPS2 - ButtonClick - Endowment - DetailForm_ChangePlan', { Product: 'Endowment', Click_Text: 'ChangePlan' });\r\n          gaEvent('Endowment - DetailForm - ChangePlan', {\r\n            event_category: 'Endowment',\r\n            event_label: 'Endowment - DetailForm - ChangePlan',\r\n          });\r\n        }}\r\n        profileValues={profileValues}\r\n        // submitCallback={() => { setFormState(FORMSTATES.CHECKOUT); }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nEndowmentDetailContainer.defaultProps = {\r\n  sessionId: null,\r\n  plansData: null,\r\n};\r\n\r\nEndowmentDetailContainer.propTypes = {\r\n  plansData: PropTypes.object,\r\n  piggyCallback: PropTypes.func.isRequired,\r\n  isLoggedIn: PropTypes.bool.isRequired,\r\n  setFormState: PropTypes.func.isRequired,\r\n  profileValues: PropTypes.object.isRequired,\r\n  endowmentFields: PropTypes.object.isRequired,\r\n  sessionId: PropTypes.string,\r\n  checkOutOthers: PropTypes.func.isRequired,\r\n  history: PropTypes.object.isRequired,\r\n};\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n  endowmentForm: getFormValues('endowment')(state),\r\n  endowmentFields: state.endowment.endowmentFields,\r\n  profileValues: state.userDetails,\r\n  plansData: state.endowment.selectedPlanData,\r\n  sessionId: state.insurance.sessionId,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  getAnonymousSession: (params) => {\r\n    dispatch(getAnonymousSession(params, true));\r\n  },\r\n  setFormState: (state) => {\r\n    dispatch(setInsuranceFormState(state));\r\n  },\r\n});\r\n\r\nconst mergeProps = (propsFromState, propsFromDispatch, ownProps) => ({\r\n  ...ownProps,\r\n  ...propsFromState,\r\n  ...propsFromDispatch,\r\n  checkOutOthers: (detailForm) => {\r\n    propsFromDispatch.getAnonymousSession(getSessionParams(\r\n      propsFromState.endowmentForm,\r\n      detailForm,\r\n      propsFromState.plansData,\r\n    ), true);\r\n  },\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps, mergeProps)(EndowmentDetailContainer));\r\n","module.exports = __webpack_public_path__ + \"static/media/arrow.6b6008ba.svg\";","/**\r\n * FormInputWrapper.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './FormInputWrapper.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass FormInputWrapper extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    if (prevState.errorString !== nextProps.errorString) {\r\n      return {\r\n        errorString: nextProps.errorString,\r\n        refValue: nextProps.refValue,\r\n      };\r\n    }\r\n\r\n    if (nextProps.validateForm && prevState.errorString && prevState.refValue !== nextProps.refValue) {\r\n      nextProps.validateForm();\r\n      return {\r\n        errorString: null,\r\n      };\r\n    }\r\n    return null;\r\n  }\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {object} props Component props\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      errorString: null,\r\n    };\r\n\r\n    this.setErrorString = this.setErrorString.bind(this);\r\n    this.clearErrorString = this.clearErrorString.bind(this);\r\n  }\r\n\r\n  setErrorString(message) {\r\n    this.setState({\r\n      errorString: message,\r\n    });\r\n  }\r\n\r\n  clearErrorString() {\r\n    this.setState({\r\n      errorString: null,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      errorString,\r\n    } = this.state;\r\n\r\n    const {\r\n      desc,\r\n      extraInfo,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className=\"input-wrapper-main input-wrapper-error\">\r\n        {\r\n          desc !== null ?\r\n            <p className=\"input-wrapper-desc\">{desc}</p>\r\n          :\r\n            null\r\n        }\r\n        {this.props.children}\r\n        {\r\n          extraInfo !== null ?\r\n            <div className=\"extra-info-container\">\r\n              {extraInfo}\r\n            </div>\r\n          :\r\n            null\r\n        }\r\n        {\r\n          errorString !== null ?\r\n            <p className=\"input-wrapper-error-text\">\r\n              {errorString}\r\n            </p>\r\n          :\r\n            null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nFormInputWrapper.defaultProps = {\r\n  desc: null,\r\n  extraInfo: null,\r\n};\r\n\r\n\r\nFormInputWrapper.propTypes = {\r\n  desc: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n};\r\n\r\nexport default FormInputWrapper;\r\n","module.exports = __webpack_public_path__ + \"static/media/magnifyGlass.4cd15637.svg\";","module.exports = __webpack_public_path__ + \"static/media/CheckoutComplete.0dec4895.svg\";","/**\r\n * CheckoutComplete.js\r\n * Shows this when checkout is complete\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component, Fragment } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport CheckoutCompleteSVG from 'assets/images/common/CheckoutComplete.svg';\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport Popup from '../Popup/Popup';\r\n\r\nimport './CheckoutPopup.scss';\r\n\r\nclass CheckoutComplete extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      animateStyle: '',\r\n    };\r\n\r\n    this.openCheckoutComplete = this.openCheckoutComplete.bind(this);\r\n  }\r\n\r\n  openCheckoutComplete(userName = null) {\r\n    this.setState({\r\n      animateStyle: 'bounce-in',\r\n      userName,\r\n    });\r\n\r\n    setTimeout(() => {\r\n      this.popupRef.openPopup();\r\n    }, 10);\r\n  }\r\n\r\n  renderUpperText() {\r\n    const { userName } = this.state;\r\n    const { isQuoteOnly, upperText } = this.props;\r\n\r\n    if (!isQuoteOnly) {\r\n      return (\r\n        <Fragment>\r\n          <p>Thank you for your</p>\r\n          <p><span>purchase, </span><span className=\"focus-text\">{userName}</span></p>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <p>{upperText || 'Success'}</p>\r\n    );\r\n  }\r\n\r\n  renderMidText() {\r\n    const { isQuoteOnly, midText } = this.props;\r\n\r\n    const message = 'The insurerâ€™s representative will contact you within 2 business days to share with you more about the selected product.';\r\n\r\n    // Our partnered FA representative from Synergy Financial Advisers Pte Ltd will contact you within 48 hours to share with you more about the selected product.\r\n    if (!isQuoteOnly) {\r\n      return (\r\n        <Fragment>\r\n          <p>A copy of the receipt has been sent to</p>\r\n          <p>your inbox.</p>\r\n          <p>{'The policy will be reflected in PolicyPal\\'s APP once approved.'}</p>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    if (midText !== null) {\r\n      return (\r\n        <Fragment>\r\n          <p>{midText}</p>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        <p>Thanks for submitting your request.</p>\r\n        <p>{message}</p>\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderButton() {\r\n    const {\r\n      history,\r\n      isQuoteOnly,\r\n      buttonText,\r\n      callback,\r\n    } = this.props;\r\n\r\n    if (!isQuoteOnly) {\r\n      return (\r\n        <Fragment>\r\n          <Button\r\n            className=\"checkout-button\"\r\n            variant=\"medium-flat\"\r\n            width={166}\r\n            height={72}\r\n            onClick={() => history.push('/gotoappstore')}\r\n          >\r\n            <p>Download APP</p>\r\n          </Button>\r\n          <Button\r\n            className=\"checkout-button\"\r\n            variant=\"medium-flat-green\"\r\n            width={166}\r\n            height={72}\r\n            onClick={() => this.popupRef.closePopup()}\r\n          >\r\n            <p>Details</p>\r\n          </Button>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Button\r\n        className=\"checkout-button\"\r\n        variant=\"medium-flat-green\"\r\n        width={166}\r\n        height={72}\r\n        onClick={() => {\r\n          if (callback) {\r\n            callback();\r\n            this.popupRef.togglePopup(false);\r\n            return;\r\n          }\r\n          history.push('/');\r\n        }}\r\n      >\r\n        <p>{buttonText || 'OK'}</p>\r\n      </Button>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { animateStyle } = this.state;\r\n    const { isSellLeads, className } = this.props;\r\n\r\n    const extraText = !isSellLeads ? '' : 'In the event that you purchase a plan through our partner, PolicyPal receives a referral fee.';\r\n\r\n    return (\r\n      <Popup\r\n        className={className}\r\n        hideCloseButton ref={(r) => { this.popupRef = r; }}\r\n      >\r\n        <Fragment>\r\n          <div className=\"check-out-popup\">\r\n            <img className={animateStyle} src={CheckoutCompleteSVG} alt=\"CheckoutComplete.svg\" />\r\n            <div className=\"upper-container upper-margin-up\">\r\n              {this.renderUpperText()}\r\n            </div>\r\n            <div className=\"mid-container\">\r\n              {this.renderMidText()}\r\n            </div>\r\n            <div className=\"button-container\">\r\n              {this.renderButton()}\r\n            </div>\r\n            <div className=\"extra-text\"><p>{extraText}</p></div>\r\n          </div>\r\n        </Fragment>\r\n      </Popup>\r\n    );\r\n  }\r\n}\r\n\r\nCheckoutComplete.defaultProps = {\r\n  isQuoteOnly: false,\r\n  isSellLeads: false,\r\n  upperText: null,\r\n  midText: null,\r\n  buttonText: null,\r\n  callback: null,\r\n  className: '',\r\n};\r\n\r\nCheckoutComplete.propTypes = {\r\n  history: PropTypes.object.isRequired,\r\n  isQuoteOnly: PropTypes.bool,\r\n  isSellLeads: PropTypes.bool,\r\n  upperText: PropTypes.string,\r\n  midText: PropTypes.string,\r\n  buttonText: PropTypes.string,\r\n  callback: PropTypes.func,\r\n  className: PropTypes.string,\r\n};\r\n\r\nexport default withRouter(CheckoutComplete, { withRef: true });\r\n"],"sourceRoot":""}