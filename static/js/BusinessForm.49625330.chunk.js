(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1032:function(e,t,n){},1076:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n.n(a),o=n(5),i=n(28),l=n(29),s=n(31),c=n(30),u=n(32),m=n(26),p=n(7),h=n.n(p),d=n(1),f=n.n(d),y=n(84),v=n(289),b=n(620),E=n(2),k=n(22),w=n(184),g=n(187),O=n(274),x=n(246),j=n(12),N=n(205),C=(n(1032),[{size:12,title:"Email",slug:"email",placeholderString:"Enter company email address",type:"email",readOnly:!0,is_required:!0},{size:6,title:"Full name",slug:"full_name",placeholder:"E.g John Doe",type:"text",is_required:!0},{size:6,title:"Mobile no",slug:"mobile_number",placeholder:"E.g 8888 8888",type:"number",is_required:!0}]),P=["Based outside of Singapore.","Engaged in hazardous occupation. (E.g. welder, diver, sandblaster, offshore workers etc)","Currently hospitalised or requires frequent admission (e.g. hospital admission more than 2 times per year) to the hospital.","Suffer from any serious condition such as cancer, organ failure, heart disease, stroke, liver disorder, arthritis or any other disorder that cause progressive irreversible functional or physical disability."],S=function(e){function t(e){var n;Object(i.a)(this,t);var a=(n=Object(s.a)(this,Object(c.a)(t).call(this,e))).props.email;return n.state={values:{email:a},errors:{},formState:0,errorMsg:""},n.onChangeValue=n.onChangeValue.bind(Object(m.a)(Object(m.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(m.a)(Object(m.a)(n))),n.hideModal=n.hideModal.bind(Object(m.a)(Object(m.a)(n))),n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"onChangeValue",value:function(){var e=Object(o.a)(r.a.mark(function e(t,n,a){var o,i,l,s,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this.state,i=o.values,l=o.errors,s=l&&l[n],c={},!s){e.next=11;break}return e.t0=k.a,e.t1={},e.t2=n,e.next=9,Object(N.b)(n,{type:t,value:a},i,C);case 9:e.t3=e.sent,c=(0,e.t0)(e.t1,e.t2,e.t3);case 11:this.setState({values:Object(E.a)({},i,Object(k.a)({},n,{type:t,value:a})),errors:Object(E.a)({},l,c)});case 12:case"end":return e.stop()}},e,this)}));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(o.a)(r.a.mark(function e(){var t,n,a,o,i,l,s=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.values,n=this.props,a=n.handleAPI,o=n.errors,e.prev=2,e.next=5,Object(N.a)(t,null,C);case 5:if(i=e.sent,h.a.isEmpty(i)){e.next=9;break}return this.setState({errors:i}),e.abrupt("return");case 9:return l={form_category:"Business (Purchase Flow)",input_data:h.a.map(C,function(e){return{name:e.title,value:t[e.slug].value,type:"text"}})},e.next=12,a(function(){return Object(j.F)(l)});case 12:e.sent?this.checkoutComplete&&setTimeout(function(){s.checkoutComplete.openCheckoutComplete()},300):this.setState({errors:Object(E.a)({},o,{errorMsg:"Request failed! Please try again."})}),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(2);case 18:case"end":return e.stop()}},e,this,[[2,16]])}));return function(){return e.apply(this,arguments)}}()},{key:"hideModal",value:function(){var e=this.props,t=e.hideEnquiryModal,n=e.email;this.setState({values:{email:n},errors:{},formState:0,errorMsg:""}),t&&t()}},{key:"renderDisclaimer",value:function(){return f.a.createElement(d.Fragment,null,f.a.createElement("p",{className:"desc-text"},"I agree that none of my employees are:"),f.a.createElement("ol",null,h.a.map(P,function(e,t){return f.a.createElement("li",{key:"discliamer-".concat(t),className:"desc-text"},e)})))}},{key:"renderForm",value:function(){var e=this,t=this.state,n=t.values,a=t.errors,r=t.errorMsg;return f.a.createElement(y.y,{noGutters:!0},f.a.createElement(y.f,{xs:12},f.a.createElement("p",{className:"desc-text"},"Based on your declarations, your employees conditions may require a customized plan. Please leave down your contact details and we will contact you within 2 business days.")),h.a.map(C,function(t,r){return f.a.createElement(v.a,{key:"business-form-".concat(r),values:n,errors:a,fieldData:t,onChangeValue:e.onChangeValue,extraInfo:t.extra_info&&f.a.createElement("p",null,t.extra_info)})}),f.a.createElement(y.f,{xs:12},f.a.createElement("p",{className:"error-text"},r)))}},{key:"renderDisclaimerButton",value:function(){var e=this,t=this.props.onNext;return f.a.createElement(y.y,{className:"w-100",noGutters:!0},f.a.createElement(y.f,{className:"button-container",xs:12,sm:6},f.a.createElement(g.a,{className:"button-left cancel-btn",variant:"medium-outline",height:48,width:162,onClick:function(){return e.setState({formState:1})}},f.a.createElement("p",null,"No, I do not agree"))),f.a.createElement(y.f,{className:"button-container",xs:12,sm:6},f.a.createElement(g.a,{variant:"medium-flat-green",height:48,width:162,onClick:t},f.a.createElement("p",null,"Yes, I agree"))))}},{key:"renderFormButton",value:function(){return f.a.createElement(y.y,{className:"w-100",noGutters:!0},f.a.createElement(y.f,{className:"button-container",xs:12},f.a.createElement(g.a,{variant:"medium-flat-green",height:48,width:114,onClick:this.handleSubmit},f.a.createElement("p",null,"Submit"))))}},{key:"render",value:function(){var e=this,t=this.state.formState,n=this.props,a=n.showModal,r=n.history;try{return f.a.createElement("div",{className:"business-flow-enquiry-container"},f.a.createElement(O.a,{showModal:a,closeModal:this.hideModal,className:"business-flow-enquiry-modal",backdropClassName:"blue-modal-backdrop",header:f.a.createElement("p",null,0===t?"Policy Restrictions":"Thank you for your interest in EZCare PAL!"),body:0===t?this.renderDisclaimer():this.renderForm(),footer:0===t?this.renderDisclaimerButton():this.renderFormButton()}),f.a.createElement(x.a,{className:"blue-popup-backdrop",isQuoteOnly:!0,upperText:"Submission Successful!",midText:"Thank You for Choosing PolicyPal! We will be contacting you within 2 business days.",buttonText:"Confirm",wrappedComponentRef:function(t){return e.checkoutComplete=t},callback:function(){return r.push("/")}}))}catch(o){}return null}}]),t}(d.Component);S.defaultProps={};var M=Object(w.a)(S),T=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={showModal:!1},n.showEnquiryModal=n.showEnquiryModal.bind(Object(m.a)(Object(m.a)(n))),n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.$("#intercom-container")&&window.$("#intercom-container").hide()}},{key:"componentWillUnmount",value:function(){window.$("#intercom-container")&&window.$("#intercom-container").show()}},{key:"showEnquiryModal",value:function(e){this.setState({showModal:e})}},{key:"render",value:function(){var e=this,t=this.state.showModal,n=this.props,a=n.pageForms,i=n.currPage,l=n.values,s=n.errors,c=n.onChangeValue,u=n.onBack,m=n.onNext,p=n.headerImage,d=n.validateForm,E=n.transitionClass,k=n.stickyInfo,w=n.isFromSession,g=n.handleAPI;if(w)return null;if(!a||!i)return null;try{var O=h.a.findIndex(a,function(e){return e.slug===i});if(-1!==O){var x=a[O];return f.a.createElement(b.a,{usingSticky:!0,title:x.title,onNext:Object(o.a)(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(h.a.map(x.forms,function(e){return e.slug}),function(){O!==a.length-1?m():e.showEnquiryModal(!0)});case 2:case"end":return t.stop()}},t)})),onBack:0!==O?u:null,headerImage:p,transitionClass:E,stickyInfo:k},f.a.createElement(y.y,{noGutters:!0},h.a.map(x.forms,function(e,t){return f.a.createElement(v.a,{key:"business-form-".concat(t),values:l,errors:s,fieldData:e,onChangeValue:c})})),f.a.createElement(M,{showModal:t,hideEnquiryModal:function(){return e.showEnquiryModal(!1)},onNext:m,email:l&&l.email,handleAPI:g}))}}catch(j){}return null}}]),t}(d.Component);T.defaultProps={values:{},errors:{},onBack:null,onNext:null,pageForms:null,currPage:null,headerImage:null,stickyInfo:null,isFromSession:!1};t.default=T},217:function(e,t,n){},246:function(e,t,n){"use strict";var a=n(28),r=n(29),o=n(31),i=n(30),l=n(32),s=n(26),c=n(1),u=n.n(c),m=n(184),p=n(250),h=n.n(p),d=n(187),f=n(86),y=(n(217),function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={animateStyle:""},n.openCheckoutComplete=n.openCheckoutComplete.bind(Object(s.a)(Object(s.a)(n))),n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"openCheckoutComplete",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.setState({animateStyle:"bounce-in",userName:t}),setTimeout(function(){e.popupRef.openPopup()},10)}},{key:"renderUpperText",value:function(){var e=this.state.userName,t=this.props,n=t.isQuoteOnly,a=t.upperText;return n?u.a.createElement("p",null,a||"Success"):u.a.createElement(c.Fragment,null,u.a.createElement("p",null,"Thank you for your"),u.a.createElement("p",null,u.a.createElement("span",null,"purchase, "),u.a.createElement("span",{className:"focus-text"},e)))}},{key:"renderMidText",value:function(){var e=this.props,t=e.isQuoteOnly,n=e.midText;return t?null!==n?u.a.createElement(c.Fragment,null,u.a.createElement("p",null,n)):u.a.createElement(c.Fragment,null,u.a.createElement("p",null,"Thanks for submitting your request."),u.a.createElement("p",null,"The insurer\u2019s representative will contact you within 2 business days to share with you more about the selected product.")):u.a.createElement(c.Fragment,null,u.a.createElement("p",null,"A copy of the receipt has been sent to"),u.a.createElement("p",null,"your inbox."),u.a.createElement("p",null,"The policy will be reflected in PolicyPal's APP once approved."))}},{key:"renderButton",value:function(){var e=this,t=this.props,n=t.history,a=t.isQuoteOnly,r=t.buttonText,o=t.callback;return a?u.a.createElement(d.a,{className:"checkout-button",variant:"medium-flat-green",width:166,height:72,onClick:function(){if(o)return o(),void e.popupRef.togglePopup(!1);n.push("/")}},u.a.createElement("p",null,r||"OK")):u.a.createElement(c.Fragment,null,u.a.createElement(d.a,{className:"checkout-button",variant:"medium-flat",width:166,height:72,onClick:function(){return n.push("/gotoappstore")}},u.a.createElement("p",null,"Download APP")),u.a.createElement(d.a,{className:"checkout-button",variant:"medium-flat-green",width:166,height:72,onClick:function(){return e.popupRef.closePopup()}},u.a.createElement("p",null,"Details")))}},{key:"render",value:function(){var e=this,t=this.state.animateStyle,n=this.props,a=n.isSellLeads,r=n.className,o=a?"In the event that you purchase a plan through our partner, PolicyPal receives a referral fee.":"";return u.a.createElement(f.a,{className:r,hideCloseButton:!0,ref:function(t){e.popupRef=t}},u.a.createElement(c.Fragment,null,u.a.createElement("div",{className:"check-out-popup"},u.a.createElement("img",{className:t,src:h.a,alt:"CheckoutComplete.svg"}),u.a.createElement("div",{className:"upper-container upper-margin-up"},this.renderUpperText()),u.a.createElement("div",{className:"mid-container"},this.renderMidText()),u.a.createElement("div",{className:"button-container"},this.renderButton()),u.a.createElement("div",{className:"extra-text"},u.a.createElement("p",null,o)))))}}]),t}(c.Component));y.defaultProps={isQuoteOnly:!1,isSellLeads:!1,upperText:null,midText:null,buttonText:null,callback:null,className:""},t.a=Object(m.a)(y,{withRef:!0})},250:function(e,t,n){e.exports=n.p+"static/media/CheckoutComplete.7a48570a.svg"},616:function(e,t,n){},617:function(e,t,n){},618:function(e,t,n){},620:function(e,t,n){"use strict";var a=n(28),r=n(29),o=n(31),i=n(30),l=n(32),s=n(1),c=n.n(s),u=n(84),m=n(26),p=(n(616),function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={showSticky:!1},n.onMovement=n.onMovement.bind(Object(m.a)(Object(m.a)(n))),n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onMovement),window.addEventListener("resize",this.onMovement),this.onMovement()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onMovement),window.removeEventListener("resize",this.onMovement)}},{key:"onMovement",value:function(){if(this.node){var e=this.state.showSticky,t=window.scrollY,n=window.innerWidth<992&&!e?150:100;(t<n&&e||t>=n&&!e)&&this.setState({showSticky:t>=n})}}},{key:"render",value:function(){var e=this,t=this.state.showSticky,n=this.props.isTop,a=n?"top-sticky":"bottom-sticky",r="";return t&&(r=n?"show-top-sticky":"show-bottom-sticky"),c.a.createElement(s.Fragment,null,c.a.createElement("div",{ref:function(t){return e.node=t},className:"business-sticky ".concat(a," ").concat(r)},c.a.createElement("div",{className:"sticky-inner"},this.props.children)))}}]),t}(s.Component));p.defaultProps={isTop:!1};var h=p,d=n(326),f=n(187),y=n(191),v=(n(617),function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.data;return e?c.a.createElement("div",{className:"business-bottom-sticky-container"},c.a.createElement("div",{className:"product-info"},e.productName&&c.a.createElement("h6",null,e.productName),e.productInfo&&c.a.createElement("h3",null,e.productInfo)),c.a.createElement("div",{className:"price-info"},e.price&&c.a.createElement("h3",null,e.price))):null}}]),t}(s.Component));v.defaultProps={data:null};var b=v,E=(n(618),function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){window.$("#intercom-container")&&window.$("#intercom-container").hide()}},{key:"componentWillUnmount",value:function(){window.$("#intercom-container")&&window.$("#intercom-container").show()}},{key:"getStickyPrice",value:function(){var e=this.props.stickyInfo,t=e&&e.isDeposit,n=e&&e.isBalance,a=e&&e.quote&&e.quote.quote;return{stickyPrice:a&&(n?a.outstanding_premium:t?a.deposit_premium:a.final_premium),desc:n?"Balance":"Total price",totalCount:a&&a.total_count}}},{key:"renderTopFlow",value:function(e){var t=this.props,n=t.onBack,a=t.onNext,r=t.title,o=t.headerImage,i=this.getStickyPrice();return c.a.createElement(u.y,{className:e?"sticky-top-container":"top-container",noGutters:!0},c.a.createElement(u.f,{className:"flow-back",xs:3},n&&c.a.createElement(u.a,{onClick:n,color:"link"},c.a.createElement("h6",null,"Back"))),c.a.createElement(u.f,{className:"flow-title",xs:6},!e&&o&&c.a.createElement("div",{className:"title-img"},c.a.createElement("img",{src:o,alt:"flow-img.svg"})),r&&c.a.createElement("h3",null,r)),c.a.createElement(u.f,{className:"flow-next",xs:3},e&&i&&i.stickyPrice&&c.a.createElement("div",{className:"sticky-top-price"},c.a.createElement("p",null,i.desc),c.a.createElement("p",null,"$",Object(y.h)(i.stickyPrice))),a&&c.a.createElement(f.a,{variant:"medium-flat-green",height:48,width:168,onClick:a},c.a.createElement("p",null,"Next"))))}},{key:"render",value:function(){var e=this.props,t=e.noFooter,n=e.noPolicyPal,a=e.usingSticky,r=e.transitionClass,o=e.stickyInfo,i=o&&o.quote&&o.quote.info,l=this.getStickyPrice();return c.a.createElement("div",{className:"business-flow-container"},c.a.createElement("div",{className:["business-flow-inner-container",r].join(" ")},c.a.createElement(u.y,{noGutters:!0},c.a.createElement(u.f,{xs:12},this.renderTopFlow(!1)),c.a.createElement(u.f,{xs:12},this.props.children)),c.a.createElement(h,{isTop:!0},this.renderTopFlow(!0)),null!==o&&null!==l&&c.a.createElement("div",{className:"d-block d-lg-none"},c.a.createElement(h,null,c.a.createElement(b,{data:l&&l.stickyPrice&&{productName:i&&i.insurer_name,productInfo:"".concat(i&&i.product_name," - ").concat(l.totalCount," pax"),price:"$".concat(Object(y.h)(l.stickyPrice))}})))),t?null:c.a.createElement(d.a,{noPolicyPal:n,usingSticky:a}))}}]),t}(s.Component));E.defaultProps={title:"",onNext:null,onBack:null,noFooter:!1,noPolicyPal:!0,usingSticky:!1,headerImage:null,transitionClass:"",stickyInfo:null};t.a=E}}]);
//# sourceMappingURL=BusinessForm.49625330.chunk.js.map