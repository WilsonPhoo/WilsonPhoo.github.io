{"version":3,"sources":["components/Partnership/Enquiry/Enquiry.js","components/Partnership/Partnership.js","containers/Partnership/PartnershipContainer.js","assets/images/forms/arrow.svg","components/FormsV3/FormInputWrapper/FormInputWrapper.js","components/Page/Page.js","assets/logo.png","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","assets/images/forms/dateIn.svg","assets/images/forms/dateOut.svg","assets/images/forms/magnifyGlass.svg","assets/images/forms/cross.svg","assets/images/common/CheckoutComplete.svg","components/Templates/CheckoutPopup/CheckoutComplete.js","components/FormsV3/Checkbox/Checkbox.js","components/Templates/ModalPopup/ModalPopup.js","components/FormsV3/DropDown/DropDown.js","components/FormsV3/TextInput/TextInput.js","components/FormsV3/DatePicker/DatePicker.constants.js","components/FormsV3/DatePicker/MonthYearSelector/MonthYearSelector.js","components/FormsV3/DatePicker/DaysList/DaysList.js","components/FormsV3/DatePicker/Calender/Calender.js","components/FormsV3/DatePicker/DateInner/DateInner.js","components/FormsV3/DatePicker/DatePicker.js","components/FormsV3/DateRangePicker/DateRangePicker.js","components/FormsV3/ImageSelection/ImageSelection.js","components/FormsV3/AgeGroupV2/AgeGroupItem/AgeGroupItem.js","components/FormsV3/AgeGroupV2/AgeGroup.js","components/FormsV3/Persons/Persons.js","components/FormsV3/SelectionNew/Selection.js","components/FormsV3/FieldGenerator.js","components/Templates/Tooltip/Tooltip.js","assets/images/InfoPage/Subscribe.png","assets/images/forms/triangle.svg","assets/images/common/tooltip.svg","components/Templates/InfoPage/InfoPage.js","assets/images/FormLanding/Mouse.svg","components/Rewards/Mouse/Mouse.js","components/Rewards/Mouse/index.js","assets/images/Partnership/main.svg","assets/images/Partnership/icon__map.svg","assets/images/Partnership/icon__reward.svg"],"names":["forms","size","title","slug","type","is_required","ERROR_EXCEPTIONS","Enquiry","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","values","errors","groupError","getError","bind","assertThisInitialized","onChangeValue","handleSubmit","handleOnClose","name","value","validateFormValue","error","newState","objectSpread","defineProperty","_","pickBy","identity","setState","fieldsToCheck","Array","from","f","formErrors","validateForm","keys","length","interest","requestData","form_category","input_data","map","push","sendEmailForm","responseData","checkoutComplete","openCheckoutComplete","onClose","_this2","isOpen","_this$state2","react_default","a","createElement","react","ModalPopup","showModal","closeModal","className","backdropClassName","header","body","reactstrap_es","noGutters","form","index","FieldGenerator","key","concat","fieldData","extraInfo","extra_info","dangerouslySetInnerHTML","__html","includes","footer","Button","variant","height","width","disabled","onClick","CheckoutComplete","isQuoteOnly","upperText","midText","buttonText","wrappedComponentRef","node","callback","Component","defaultProps","FEATURES","icon","mapIcon","desc","link","rewardIcon","Partnership","isOpenEnquiryModal","featureName","handleOnClickApply","handleOnCloseEnquiryModal","renderFeature","window","scrollTo","data","xs","sm","offset","md","src","alt","_this3","_this$state","Page","id","InfoPage","noPolicyPal","subscribeOverwrite","noAutoMargin","mode","mainImg","Mouse","Partnership_Enquiry_Enquiry","connect","dispatch","module","exports","__webpack_require__","p","FormInputWrapper","_this$props","errorString","smallMargin","isDateRange","react__WEBPACK_IMPORTED_MODULE_5___default","join","children","SITE_URL","defaultImage","logo","pathname","_ref","description","image","contentType","twitter","noCrawl","published","updated","category","tags","theTitle","substring","theDescription","theImage","metaTags","itemprop","content","property","rest","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_6___default","react_helmet__WEBPACK_IMPORTED_MODULE_8___default","htmlAttributes","lang","itemscope","undefined","itemtype","schema","rel","href","location","meta","getMetaTags","withRouter","_objectWithoutProperties","source","excluded","i","target","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","d","__webpack_exports__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","animateStyle","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","userName","arguments","setTimeout","popupRef","openPopup","react__WEBPACK_IMPORTED_MODULE_6__","_this$props2","_this$props3","history","components_FormsV3_Button_Button__WEBPACK_IMPORTED_MODULE_9__","togglePopup","closePopup","_this4","_this$props4","isSellLeads","extraText","_Popup_Popup__WEBPACK_IMPORTED_MODULE_10__","hideCloseButton","ref","r","CheckoutCompleteSVG","renderUpperText","renderMidText","renderButton","withRef","Checkbox","onChange","_FormInputWrapper_FormInputWrapper__WEBPACK_IMPORTED_MODULE_7__","reactstrap__WEBPACK_IMPORTED_MODULE_6__","checked","setHiddenAuto","nextProps","clearInterval","setHiddenInterval","setInterval","document","style","overflow","zIndex","react__WEBPACK_IMPORTED_MODULE_8___default","reactstrap__WEBPACK_IMPORTED_MODULE_9__","tag","toggle","maxItemsDisplay","defaultHeight","resultNullString","display_name","DropDown","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","dropList","numItemsDisplay","isMultiple","numItems","maxheight","min","isOpened","listItems","selectedString","listHeight","multipleSelectedElements","listElementsCounter","clientHeight","extraPadding","noTransition","updateDimensions","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__","handleClickOutside","renderListItems","renderTextInput","handleSelectClick","handleOnInputChange","handleSetMultipleSelectedItem","handleDestroySelected","handleInputKeyPress","handleItemKeyPress","handleChange","handleExit","handleBlur","handleFocus","prevState","isEqual","initialListItems","addEventListener","overrideValue","prevProps","isElements","isEmpty","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","removeEventListener","newHeight","selectedItemsContainer","childElementCount","getBoundingClientRect","bottom","top","inputValue","notForm","valueChangeCallback","inputField","event","wrapperRef","contains","isFromFocus","_this$props5","placeholderString","preventDefault","Math","max","listElements","focus","stopPropagation","isOpenOnly","_this$state3","_this$props6","item","_this$state4","_this$state5","newArr","find","selectedContainer","slice","splice","result","filter","toString","toUpperCase","relatedTarget","_this$state7","_this$props7","resultValue","isError","finalString","some","obj","toLowerCase","_this$state8","react__WEBPACK_IMPORTED_MODULE_12___default","handleSelectItemClick","role","tabIndex","onKeyDown","onMouseUp","Cross","_this5","_this$props8","isDisableTyping","reactstrap__WEBPACK_IMPORTED_MODULE_13__","placeholder","autoComplete","_this6","_this$state9","_this$props9","maxWidth","noInternalDesc","actualListheight","dropDownOpenStyle","arrowStyle","transitionStyle","listStyle","multipleStyle","isErrorStyle","noInternalDescStyle","titleStyle","marginTop","marginBottom","logoImg","MagnifyGlass","zIndexStyle","_FormInputWrapper_FormInputWrapper__WEBPACK_IMPORTED_MODULE_15__","onBlur","onFocus","minHeight","paddingTop","paddingBottom","renderMultipleSelectedElements","onKeyPress","Arrow","react_custom_scrollbars__WEBPACK_IMPORTED_MODULE_14__","listContainer","TextInput","handlePostCode","rows","toUpper","readOnly","inputType","errorStyle","textareaStyle","inputStyle","readOnlyStyle","e","dayTextList","monthTextMapping","deafultYearRange","MonthYearSelector","updateScrollPosition","currDisplayDate","dateRangeStart","isYear","getFullYear","getMonth","scrollInput","scrollTop","dateRangeEnd","setCalender","startYear","endYear","currYear","startMonth","endMonth","reduce","jsx","start","end","_loop","isSingle","dateToUse","Date","displayText","month","dateMonthInput","caret","outline","lib","autoHeight","renderYears","renderMonths","DaysList","day","renderDaysText","Calender","dateRangeEndOverwrite","isSelectingStartDate","startValue","endValue","setSelectedDate","isRange","hoverDate","setDateRangeEndOverwrite","setHoverDate","offsetDays","currFirstDay","setDate","currLastDay","currFirstDayTime","getTime","currLastDayTime","year","startIndex","getDay","endIndex","getDate","currHoverTime","startTime","endTime","startTimeToUse","endTimetoUse","fixedDateTime","nonfixedDateTime","currDay","currDayOfWeek","currTime","isSat","isSun","isStartDate","isEndDate","isWithin","isFirstDay","isLastDay","isSameDay","isDayActive","leftBlockStyle","rightBlockStyle","endBlockStyle","dayStyle","focusStyle","isBlocked","isSelectingStartDateCurr","onMouseEnter","onMouseLeave","DateInner","newEnd","maxEnd","moment","add","toDate","setNewDisplayDate","date","isBack","isResp","setMonth","upperStyle","CloseIcon","renderMonthSelectorArrows","DatePicker_MonthYearSelector_MonthYearSelector","DatePicker_DaysList_DaysList","DatePicker_Calender_Calender","isArrowUp","inputWidth","openedStyle","dateOpenStyle","respStyle","isArrowUpToUse","transform","Triangle","listCont","renderDateInner","DatePicker","startDate","endDate","firstDay","lastDay","startDateString","endDateString","handleKeyPress","onMovement","renderInputs","renderInner","dateValidateAndUpdate","dateInnerDOM","ReactDOM","findDOMNode","dateInner","datePickerDOM","isDateEqual","updateData","innerWidth","clientRect","currIsResp","left","right","isOverHeight","outerHeight","isOverFlow","newYear","newMonth","isStart","Promise","asyncToGenerator","regenerator_default","mark","_callee2","resolve","wrap","_context2","prev","next","currStartValue","isChooseEndDate","stop","_x3","apply","dateString","slashedStringDateToDate","charCode","openStartDateString","openEndDateString","dateToString","_this3$state","closeStartDateString","closeEndDateString","getDateFromDateString","newDate","endName","newStartValue","newEndValue","isNewStartInvalid","isNewEndInvalid","startValueToUse","endValueToUse","currEndValue","trueMaxEnd","currMaxEnd","format","onMouseDown","_this$state6","rangeStyle","selectingDateStyle","displayValue","nameToUse","DateIn","renderInputField","DateOut","renderDropDownArrow","DatePicker_DateInner_DateInner","renderPopup","DateRangePicker","startName","errorStringStart","errorStringEnd","FormsV3_DatePicker_DatePicker","ImageSelection","clickStyle","oldValue","inputData","newValue","tooltip","Tooltip","itemData","isTooltip","isSelected","handleOnClick","icon_img","sub_title","options","option","renderItem","renderTitle","renderOptions","AgeGroupItem","isBlur","generateNewFormData","lg","floor","AgeGroup","v","originalData","vo","count","getTotalCount","toConsumableArray","group","newData","order","AgeGroupV2_AgeGroupItem_AgeGroupItem","renderHeader","renderAgeGroupItems","Persons","setError","clearError","handleValue","message","formParent","setErrorString","clearErrorString","wrapperRefControl","isAdd","nameAdult","nameChildren","namePlanType","nameTripType","oldNumAdult","oldNumChildren","numAdult","numChildren","isSingleTrip","maxAdult","planType","tripType","isPrex","People","Selection","selectedStyle","getOptions","doPrefill","constants","options_constant_key","console","log","prevErrors","prevError","y","behavior","conditions","isRenderable","each","condition","isValid","FormsV3_TextInput_TextInput","FormsV3_ImageSelection_ImageSelection","FormsV3_AgeGroupV2_AgeGroup","slugs","err","FormsV3_DateRangePicker_DateRangePicker","min_date","max_date","offset_days","FormsV3_Persons_Persons","FormsV3_SelectionNew_Selection","tab_size","renderInput","insurance","innerClassName","reactstrap__WEBPACK_IMPORTED_MODULE_7__","arrowClassName","placement","TooltipImg","scroll","react_lazy_load_image_component__WEBPACK_IMPORTED_MODULE_8__","Subscribe","AppStoreBadge","PlayStoreBadge","upperBG","noFooter","renderSubscribe","noBg","marginStyle","renderBackGround","renderSubscribeSection","_Templates_FormLanding_FormLandingFooter__WEBPACK_IMPORTED_MODULE_12__","big","getClasses","classes","mouseImg","Rewards_Mouse_Mouse"],"mappings":"mVAYMA,UAAQ,CACZ,CACEC,KAAM,GACNC,MAAO,QACPC,KAAM,QACNC,KAAM,QACNC,aAAa,GACZ,CACDJ,KAAM,EACNC,MAAO,YACPC,KAAM,OACNC,KAAM,OACNC,aAAa,GACZ,CACDJ,KAAM,EACNC,MAAO,gBACPC,KAAM,UACNC,KAAM,SACNC,aAAa,GACZ,CACDJ,KAAM,GACNC,MAAO,yBACPC,KAAM,OACNC,KAAM,WACNC,aAAa,KAIXC,EAAmB,CACvB,0BAIIC,cACJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAEDQ,MAAQ,CACXC,OAAQ,GACRC,OAAQ,GACRC,WAAY,IAGdV,EAAKW,SAAWX,EAAKW,SAASC,KAAdX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KAChBA,EAAKc,cAAgBd,EAAKc,cAAcF,KAAnBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KACrBA,EAAKe,aAAef,EAAKe,aAAaH,KAAlBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KACpBA,EAAKgB,cAAgBhB,EAAKgB,cAAcJ,KAAnBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KAZJA,qHAgBCL,EAAMsB,EAAMC,0FACHf,KAAKI,MAAxBC,WAAQC,oBACIU,YAAkBF,EAAM,CAAEtB,OAAMuB,SAASV,EAAQjB,UAA/D6B,SAEAC,EAAW,CACfb,OAAOP,OAAAqB,EAAA,EAAArB,CAAA,GAAMO,EAAPP,OAAAsB,EAAA,EAAAtB,CAAA,GAAgBgB,EAAO,CAAEtB,OAAMuB,WACrCT,OAAQe,IAAEC,OAAFxB,OAAAqB,EAAA,EAAArB,CAAA,GAAcQ,EAAdR,OAAAsB,EAAA,EAAAtB,CAAA,GAAuBgB,EAAOG,IAASI,IAAEE,WAGnDvB,KAAKwB,SAASN,6IAGL,IACDb,EAAWL,KAAKI,MAAhBC,OACFoB,EAAgBC,MAAMC,KAAKvC,EAAO,SAAAwC,GAAC,OAAIA,EAAErC,OACzCsC,EAAaC,YAAazB,EAAQoB,EAAerC,GACjD2C,EAAOjC,OAAOiC,KAAKF,GACzB,OAAIE,EAAKC,OAAS,IACFH,EAAWE,EAAK,KAAO,OAIhC,yKAICE,EAAajC,KAAKJ,MAAlBqC,SACA5B,EAAWL,KAAKI,MAAhBC,QAEF6B,EAAc,CAClBC,cAAeF,EACfG,WAAYf,IAAEgB,IAAIjD,EAAO,SAAAwC,GAAC,MAAK,CAC7Bd,KAAMc,EAAEtC,MACRyB,MAAOV,EAAOuB,EAAErC,MAAMwB,MACtBvB,KAAM,YAGE4C,WAAWE,KAAK,CAC1BxB,KAAM,YACNC,MAAOkB,GAAY,MACnBzC,KAAM,2BAIqB+C,YAAcL,eAAnCM,2BAGIC,EAAqBzC,KAArByC,iBACRzC,KAAKwB,SAAS,CAAEjB,WAAY,IAAM,kBAAMkC,EAAiBC,uDAElDF,4DAGTxC,KAAKwB,SAAS,CAAEjB,WAAY,gMAIhB,IACNoC,EAAY3C,KAAKJ,MAAjB+C,QAER3C,KAAKwB,SAAS,CACZnB,OAAQ,GACRC,OAAQ,GACRC,WAAY,KAGVoC,GACFA,qCAIK,IAAAC,EAAA5C,KACC6C,EAAW7C,KAAKJ,MAAhBiD,OADDC,EAEwB9C,KAAKI,MAA5BC,EAFDyC,EAECzC,OAAQE,EAFTuC,EAESvC,WACVU,EAAQjB,KAAKQ,WAEnB,OACEuC,EAAAC,EAAAC,cAACC,EAAA,SAAD,KACEH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACEC,UAAWP,EACXQ,WAAY,kBAAMT,EAAK/B,iBACvByC,UAAU,4BACVC,kBAAkB,sBAClBC,OAAQT,EAAAC,EAAAC,cAAA,2BACRQ,KACEV,EAAAC,EAAAC,cAACC,EAAA,SAAD,KACEH,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAKC,WAAS,GAEVtC,IAAEgB,IAAIjD,EAAO,SAACwE,EAAMC,GAAP,OACXd,EAAAC,EAAAC,cAACa,EAAA,EAAD,CACEC,IAAG,oBAAAC,OAAsBH,GACzBxD,OAAQA,EACR4D,UAAWL,EACXjD,cAAeiC,EAAKjC,cACpBuD,UAAWN,EAAKO,YAAcpB,EAAAC,EAAAC,cAAA,SAAIW,EAAKO,iBAK/CpB,EAAAC,EAAAC,cAAA,KACEK,UAAU,0BACVc,wBAAyB,CAAEC,QAAUhD,IAAEiD,SAAS5E,EAAkBuB,IAAUA,GAAUV,GAAc,aAI1GgE,OACExB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,qBACbP,EAAAC,EAAAC,cAACuB,EAAA,EAAD,CACEC,QAAQ,oBACRC,OAAQ,GACRC,MAAO,IACPC,WAAa3D,EACb4D,QAAS7E,KAAKY,cAEdmC,EAAAC,EAAAC,cAAA,uBAKRF,EAAAC,EAAAC,cAAC6B,EAAA,EAAD,CACExB,UAAU,sBACVyB,aAAW,EACXC,UAAU,yBACVC,QAAQ,wGACRC,WAAW,UACXC,oBAAqB,SAAAC,GAAI,OAAIxC,EAAKH,iBAAmB2C,GACrDC,SAAU,kBAAMzC,EAAK/B,2BA/ITyE,aAsJtB3F,EAAQ4F,aAAe,CACrB1C,QAAQ,EACRZ,SAAU,GACVU,QAAS,MAaIhD,8DC5LT6F,wBAAW,CACf,CACEC,KAAMC,IACNpG,MAAO,uBACPqG,KAAM,4JACNT,WAAY,YACZU,KAAM,IAER,CACEH,KAAMI,IACNvG,MAAO,sBACPqG,KAAM,sKACNT,WAAY,YACZU,KAAM,MAIJE,cACJ,SAAAA,EAAYlG,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA8F,IACjBjG,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAgG,GAAA3F,KAAAH,KAAMJ,KAEDQ,MAAQ,CACX2F,oBAAoB,EACpBC,YAAa,IAGfnG,EAAKoG,mBAAqBpG,EAAKoG,mBAAmBxF,KAAxBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KAC1BA,EAAKqG,0BAA4BrG,EAAKqG,0BAA0BzF,KAA/BX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KACjCA,EAAKsG,cAAgBtG,EAAKsG,cAAc1F,KAAnBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KAVJA,mFAcjBuG,IAAOC,SAAS,EAAG,uDAGO,IAClBN,EAAuB/F,KAAKI,MAA5B2F,mBACR/F,KAAKwB,SAAS,CACZuE,oBAAqBA,EACrBC,YAAa,gDAIEA,GAAa,IACtBD,EAAuB/F,KAAKI,MAA5B2F,mBACR/F,KAAKwB,SAAS,CACZuE,oBAAqBA,EACrBC,sDAIUM,EAAMzC,GAAO,IAAAjB,EAAA5C,KACjByF,EAAkCa,EAAlCb,KAAMnG,EAA4BgH,EAA5BhH,MAAOqG,EAAqBW,EAArBX,KAAMT,EAAeoB,EAAfpB,WAE3B,OACEnC,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAKK,IAAG,WAAAC,OAAaH,GAAS0C,GAAG,KAAKC,GAAI,CAACC,OAAQ,EAAGpH,KAAM,GAAIqH,GAAI,CAACD,OAAQ,EAAGpH,KAAM,IACpF0D,EAAAC,EAAAC,cAAA,OAAKK,UAAU,WACbP,EAAAC,EAAAC,cAAA,OAAK0D,IAAKlB,EAAMmB,IAAKtH,EAAOgE,UAAU,UACtCP,EAAAC,EAAAC,cAAA,MAAIK,UAAU,SAAShE,GACvByD,EAAAC,EAAAC,cAAA,KAAGK,UAAU,QAAQqC,GACrB5C,EAAAC,EAAAC,cAACuB,EAAA,EAAD,CACElB,UAAU,SACVmB,QAAQ,oBACRC,OAAQ,GACRC,MAAO,IACPE,QAAS,kBAAMjC,EAAKqD,mBAAmB3G,KAEvCyD,EAAAC,EAAAC,cAAA,SAAIiC,uCAOL,IAAA2B,EAAA7G,KAAA8G,EACqC9G,KAAKI,MAAzC2F,EADDe,EACCf,mBAAoBC,EADrBc,EACqBd,YAE5B,OACEjD,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CAAMC,GAAG,eACPjE,EAAAC,EAAAC,cAACgE,EAAA,EAAD,CACE3D,UAAU,yCACV4D,aAAW,EACXC,mBAAoBpE,EAAAC,EAAAC,cAACC,EAAA,SAAD,MACpBkE,cAAY,EACZC,KAAK,QAELtE,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAK6C,GAAG,MACNxD,EAAAC,EAAAC,cAAA,OAAKK,UAAU,eACbP,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAKJ,UAAU,qBAAqBK,WAAS,GAC3CZ,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAK6C,GAAG,KAAKG,GAAG,IAAIpD,UAAU,2BAC5BP,EAAAC,EAAAC,cAAA,OAAK0D,IAAKW,IAAShE,UAAU,QAAQsD,IAAI,kBAG3C7D,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAK6C,GAAG,KAAKG,GAAG,IAAIpD,UAAU,cAC5BP,EAAAC,EAAAC,cAAA,MAAIK,UAAU,kCAAd,gBACAP,EAAAC,EAAAC,cAAA,KAAGK,UAAU,iCAAb,kRAMRP,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAK6C,GAAG,MACNxD,EAAAC,EAAAC,cAACsE,EAAA,EAAD,CAAOjE,UAAU,iDAGnBP,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAK6C,GAAG,MACNxD,EAAAC,EAAAC,cAAA,OAAKK,UAAU,YACbP,EAAAC,EAAAC,cAACS,EAAA,EAAD,KACI8B,EAASnD,IAAIrC,KAAKmG,mBAM5BpD,EAAAC,EAAAC,cAACuE,EAAD,CACE3E,OAAQkD,EACR9D,SAAU+D,EACVrD,QAAS,kBAAMkE,EAAKX,uCApGJZ,aA2G1BQ,EAAYP,aAAe,GAMZO,QC/IA2B,4BANS,SAAArH,GAAK,MAAK,IAGP,SAAAsH,GAAQ,MAAK,IAGzBD,CAA6C3B,wBCV5D6B,EAAAC,QAAiBC,EAAAC,EAAuB,gICelCC,2LACK,IAAAC,EAQHhI,KAAKJ,MANPsE,EAFK8D,EAEL9D,UACAyB,EAHKqC,EAGLrC,KACAsC,EAJKD,EAILC,YACAC,EALKF,EAKLE,YACA5E,EANK0E,EAML1E,UACA6E,EAPKH,EAOLG,YAGF,OACEC,EAAApF,EAAAC,cAAA,OACEK,UAAW,CAAC,4CAA6C4E,GAAe,OAAQ5E,GAAW+E,KAAK,MAI9FF,EACEC,EAAApF,EAAAC,cAAA,OAAKK,UAAU,UACb8E,EAAApF,EAAAC,cAAA,KAAGK,UAAU,2BAAb,cACA8E,EAAApF,EAAAC,cAAA,KAAGK,UAAU,2BAAb,aAGK,OAATqC,EACEyC,EAAApF,EAAAC,cAAA,KAAGK,UAAU,sBAAsBqC,GAEnC,KAEH3F,KAAKJ,MAAM0I,SAEI,OAAdpE,EACEkE,EAAApF,EAAAC,cAAA,OAAKK,UAAU,wBACZY,GAGH,KAGc,OAAhB+D,EACEG,EAAApF,EAAAC,cAAA,OAAKK,UAAU,4BACb8E,EAAApF,EAAAC,cAAA,SAAIgF,IAGN,aA3CmB3C,cAkD/ByC,EAAiBxC,aAAe,CAC9BI,KAAM,KACNzB,UAAW,KACX+D,YAAa,KACbC,aAAa,EACb5E,UAAW,GACX6E,aAAa,GAaAJ,yJC/ETQ,EAGA,4BAOAC,EAAY,GAAAxE,OAAMuE,GAANvE,OAAiByE,KAI7B1B,wLAcF2B,GACA,IAZEpJ,EAYFqJ,EAZErJ,MACAsJ,EAWFD,EAXEC,YACAC,EAUFF,EAVEE,MACAC,EASFH,EATEG,YACAC,EAQFJ,EAREI,QACAC,EAOFL,EAPEK,QACAC,EAMFN,EANEM,UACAC,EAKFP,EALEO,QACAC,EAIFR,EAJEQ,SACAC,EAGFT,EAHES,KAIIC,EAAW/J,GACZA,EAnBU,iBAmByBgK,UAAU,EAAG,IAxBpC,aA0BXC,EAAiBX,EACnBA,EAAYU,UAAU,EAAG,KAzB/B,iFA2BQE,EAAWX,EAAK,GAAA7E,OAAMuE,GAANvE,OAAiB6E,GAAUL,EAE3CiB,EAAW,CACf,CAAEC,SAAU,OAAQC,QAASN,GAC7B,CAAEK,SAAU,cAAeC,QAASJ,GACpC,CAAEG,SAAU,QAASC,QAASH,GAC9B,CAAE1I,KAAM,cAAe6I,QAASJ,GAChC,CAAEzI,KAAM,eAAgB6I,QAAS,uBACjC,CAAE7I,KAAM,eAAgB6I,QAjCP,kBAkCjB,CAAE7I,KAAM,gBAAiB6I,QAASN,GAClC,CAAEvI,KAAM,sBAAuB6I,QAASJ,GACxC,CAAEzI,KAAM,kBAAmB6I,QAASZ,GApCnB,kBAqCjB,CAAEjI,KAAM,oBAAqB6I,QAASH,GACtC,CAAEI,SAAU,WAAYD,QAASN,GACjC,CAAEO,SAAU,UAAWD,QAASb,GAAe,WAC/C,CAAEc,SAAU,SAAUD,QAASpB,EAAWG,GAC1C,CAAEkB,SAAU,WAAYD,QAASH,GACjC,CAAEI,SAAU,iBAAkBD,QAASJ,GACvC,CAAEK,SAAU,eAAgBD,QA/Cb,cAgDf,CAAEC,SAAU,YAAaD,QAlDP,cAsEpB,OAjBIX,GACFS,EAASnH,KAAK,CAAExB,KAAM,SAAU6I,QAAS,sBAGvCV,GACFQ,EAASnH,KAAK,CAAExB,KAAM,yBAA0B6I,QAASV,IAEvDC,GACFO,EAASnH,KAAK,CAAExB,KAAM,wBAAyB6I,QAAST,IAEtDC,GACFM,EAASnH,KAAK,CAAExB,KAAM,kBAAmB6I,QAASR,IAEhDC,GACFK,EAASnH,KAAK,CAAExB,KAAM,cAAe6I,QAASP,IAGzCK,mCAGA,IAAAzB,EACsChI,KAAKJ,MAA1C0I,EADDN,EACCM,SAAUtB,EADXgB,EACWhB,GAAI1D,EADf0E,EACe1E,UAAcuG,EAD7B/J,OAAAgK,EAAA,EAAAhK,CAAAkI,EAAA,+BAGP,OACE+B,EAAA/G,EAAAC,cAAA,OAAK+D,GAAIA,EAAI1D,UAAWA,GACtByG,EAAA/G,EAAAC,cAAC+G,EAAAhH,EAAD,CACEiH,eAAgB,CACdC,KAAM,KACNC,eAAWC,EACXC,SAAQ,qBAAArG,OAAuB6F,EAAKS,QAAU,YAEhDhL,MACEuK,EAAKvK,MAAQuK,EAAKvK,MA9EX,gBALE,aAqFXsG,KAAM,CACJ,CACE2E,IAAK,YACLC,KAAMjC,EAAWvI,KAAKJ,MAAM6K,SAAS/B,WAGzCgC,KAAM1K,KAAK2K,YAAYd,EAAM7J,KAAKJ,MAAM6K,SAAS/B,YAElDJ,UAtFUhD,aA4FJsF,gBAAW7D,wBC/G1BY,EAAAC,QAAiBC,EAAAC,EAAuB,mECCzB,SAAA+C,EAAAC,EAAAC,GACf,SAAAD,EAAA,SACA,IACA/G,EAAAiH,EADAC,ECHe,SAAAH,EAAAC,GACf,SAAAD,EAAA,SACA,IAEA/G,EAAAiH,EAFAC,EAAA,GACAC,EAAApL,OAAAiC,KAAA+I,GAGA,IAAAE,EAAA,EAAaA,EAAAE,EAAAlJ,OAAuBgJ,IACpCjH,EAAAmH,EAAAF,GACAD,EAAAI,QAAApH,IAAA,IACAkH,EAAAlH,GAAA+G,EAAA/G,IAGA,OAAAkH,EDTeG,CAA4BN,EAAAC,GAG3C,GAAAjL,OAAAuL,sBAAA,CACA,IAAAC,EAAAxL,OAAAuL,sBAAAP,GAEA,IAAAE,EAAA,EAAeA,EAAAM,EAAAtJ,OAA6BgJ,IAC5CjH,EAAAuH,EAAAN,GACAD,EAAAI,QAAApH,IAAA,GACAjE,OAAAyL,UAAAC,qBAAArL,KAAA2K,EAAA/G,KACAkH,EAAAlH,GAAA+G,EAAA/G,IAIA,OAAAkH,EAjBApD,EAAA4D,EAAAC,EAAA,sBAAAb,yBEAAlD,EAAAC,QAAiBC,EAAAC,EAAuB,wDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,8DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,mQCiBlChD,sBACJ,SAAAA,EAAYlF,GAAO,IAAAC,EAAA,OAAAC,OAAA6L,EAAA,EAAA7L,CAAAE,KAAA8E,IACjBjF,EAAAC,OAAA8L,EAAA,EAAA9L,CAAAE,KAAAF,OAAA+L,EAAA,EAAA/L,CAAAgF,GAAA3E,KAAAH,KAAMJ,KAEDQ,MAAQ,CACX0L,aAAc,IAGhBjM,EAAK6C,qBAAuB7C,EAAK6C,qBAAqBjC,KAA1BX,OAAAiM,EAAA,EAAAjM,QAAAiM,EAAA,EAAAjM,CAAAD,KAPXA,sFAUmB,IAAA+C,EAAA5C,KAAjBgM,EAAiBC,UAAAjK,OAAA,QAAAoI,IAAA6B,UAAA,GAAAA,UAAA,GAAN,KAC9BjM,KAAKwB,SAAS,CACZsK,aAAc,YACdE,aAGFE,WAAW,WACTtJ,EAAKuJ,SAASC,aACb,8CAGa,IACRJ,EAAahM,KAAKI,MAAlB4L,SADQhE,EAEmBhI,KAAKJ,MAAhCmF,EAFQiD,EAERjD,YAAaC,EAFLgD,EAEKhD,UAErB,OAAKD,EAUHgF,EAAA/G,EAAAC,cAAA,SAAI+B,GAAa,WARf+E,EAAA/G,EAAAC,cAACoJ,EAAA,SAAD,KACEtC,EAAA/G,EAAAC,cAAA,+BACA8G,EAAA/G,EAAAC,cAAA,SAAG8G,EAAA/G,EAAAC,cAAA,0BAAuB8G,EAAA/G,EAAAC,cAAA,QAAMK,UAAU,cAAc0I,6CAUhD,IAAAM,EACmBtM,KAAKJ,MAA9BmF,EADMuH,EACNvH,YAAaE,EADPqH,EACOrH,QAKrB,OAAKF,EAUW,OAAZE,EAEA8E,EAAA/G,EAAAC,cAACoJ,EAAA,SAAD,KACEtC,EAAA/G,EAAAC,cAAA,SAAIgC,IAMR8E,EAAA/G,EAAAC,cAACoJ,EAAA,SAAD,KACEtC,EAAA/G,EAAAC,cAAA,gDACA8G,EAAA/G,EAAAC,cAAA,SAxBY,iIAKZ8G,EAAA/G,EAAAC,cAACoJ,EAAA,SAAD,KACEtC,EAAA/G,EAAAC,cAAA,mDACA8G,EAAA/G,EAAAC,cAAA,wBACA8G,EAAA/G,EAAAC,cAAA,SAAI,0GAqBG,IAAA4D,EAAA7G,KAAAuM,EAMTvM,KAAKJ,MAJP4M,EAFWD,EAEXC,QACAzH,EAHWwH,EAGXxH,YACAG,EAJWqH,EAIXrH,WACAG,EALWkH,EAKXlH,SAGF,OAAKN,EA0BHgF,EAAA/G,EAAAC,cAACwJ,EAAA,EAAD,CACEnJ,UAAU,kBACVmB,QAAQ,oBACRE,MAAO,IACPD,OAAQ,GACRG,QAAS,WACP,GAAIQ,EAGF,OAFAA,SACAwB,EAAKsF,SAASO,aAAY,GAG5BF,EAAQlK,KAAK,OAGfyH,EAAA/G,EAAAC,cAAA,SAAIiC,GAAc,OAtClB6E,EAAA/G,EAAAC,cAACoJ,EAAA,SAAD,KACEtC,EAAA/G,EAAAC,cAACwJ,EAAA,EAAD,CACEnJ,UAAU,kBACVmB,QAAQ,cACRE,MAAO,IACPD,OAAQ,GACRG,QAAS,kBAAM2H,EAAQlK,KAAK,mBAE5ByH,EAAA/G,EAAAC,cAAA,0BAEF8G,EAAA/G,EAAAC,cAACwJ,EAAA,EAAD,CACEnJ,UAAU,kBACVmB,QAAQ,oBACRE,MAAO,IACPD,OAAQ,GACRG,QAAS,kBAAMgC,EAAKsF,SAASQ,eAE7B5C,EAAA/G,EAAAC,cAAA,uDA0BD,IAAA2J,EAAA5M,KACC8L,EAAiB9L,KAAKI,MAAtB0L,aADDe,EAE4B7M,KAAKJ,MAAhCkN,EAFDD,EAECC,YAAaxJ,EAFduJ,EAEcvJ,UAEfyJ,EAAaD,EAAmB,gGAAL,GAEjC,OACE/C,EAAA/G,EAAAC,cAAC+J,EAAA,EAAD,CACE1J,UAAWA,EACX2J,iBAAe,EAACC,IAAK,SAACC,GAAQP,EAAKT,SAAWgB,IAE9CpD,EAAA/G,EAAAC,cAACoJ,EAAA,SAAD,KACEtC,EAAA/G,EAAAC,cAAA,OAAKK,UAAU,mBACbyG,EAAA/G,EAAAC,cAAA,OAAKK,UAAWwI,EAAcnF,IAAKyG,IAAqBxG,IAAI,yBAC5DmD,EAAA/G,EAAAC,cAAA,OAAKK,UAAU,mCACZtD,KAAKqN,mBAERtD,EAAA/G,EAAAC,cAAA,OAAKK,UAAU,iBACZtD,KAAKsN,iBAERvD,EAAA/G,EAAAC,cAAA,OAAKK,UAAU,oBACZtD,KAAKuN,gBAERxD,EAAA/G,EAAAC,cAAA,OAAKK,UAAU,cAAayG,EAAA/G,EAAAC,cAAA,SAAI8J,cApJbzH,cA4J/BR,EAAiBS,aAAe,CAC9BR,aAAa,EACb+H,aAAa,EACb9H,UAAW,KACXC,QAAS,KACTC,WAAY,KACZG,SAAU,KACV/B,UAAW,IAcEsH,gBAAW9F,EAAkB,CAAE0I,SAAS,0KC3LlCC,2LACV,IAAAzF,EAQHhI,KAAKJ,MANPkB,EAFKkH,EAELlH,KACAC,EAHKiH,EAGLjH,MACA4E,EAJKqC,EAILrC,KACA+H,EALK1F,EAKL0F,SACAzF,EANKD,EAMLC,YACA/D,EAPK8D,EAOL9D,UAGF,OACEkE,EAAApF,EAAAC,cAAC0K,EAAA,EAAD,CACE1F,YAAaA,EACb/D,UAAWA,EACXgE,aAAW,GAEXE,EAAApF,EAAAC,cAAA,OAAKK,UAAU,yBACb8E,EAAApF,EAAAC,cAAC2K,EAAA,EAAD,CACE5G,GAAIlG,EACJwC,UAAU,iBACV9D,KAAK,WACLkO,SAAU,kBAAMA,EAAS,WAAY5M,GAAOC,IAC5C8M,UAAW9M,IAGbqH,EAAApF,EAAAC,cAAA,KACEK,UAAU,uBAGTqC,YA9ByBL,cAsCtCmI,EAASlI,aAAe,CACtBxE,MAAO,KACPkH,YAAa,KACb/D,UAAW,uJCvBPf,sBACJ,SAAAA,EAAYvD,GAAO,IAAAC,EAAA,OAAAC,OAAA6L,EAAA,EAAA7L,CAAAE,KAAAmD,IACjBtD,EAAAC,OAAA8L,EAAA,EAAA9L,CAAAE,KAAAF,OAAA+L,EAAA,EAAA/L,CAAAqD,GAAAhD,KAAAH,KAAMJ,KAEDQ,MAAQ,CACXgD,UAAWxD,EAAMwD,WAGnBvD,EAAKiO,cAAgBjO,EAAKiO,cAAcrN,KAAnBX,OAAAiM,EAAA,EAAAjM,QAAAiM,EAAA,EAAAjM,CAAAD,KAPJA,mFAWKG,KAAKJ,MAAnBwD,WAGNpD,KAAK8N,kEAKiBC,GAAW,IAC3B3K,EAAcpD,KAAKJ,MAAnBwD,UACJ2K,EAAU3K,YAAcA,IAC1BpD,KAAKwB,SAAS,CAAE4B,UAAW2K,EAAU3K,YAEhC2K,EAAU3K,WACbpD,KAAK8N,gEAMTE,cAAchO,KAAKiO,2DAIL,IAAArL,EAAA5C,KACdgO,cAAchO,KAAKiO,mBACnBjO,KAAKiO,kBAAoBC,YAAY,WAC9BtL,EAAKhD,MAAMwD,WAAc/B,IAAEiD,SAAS6J,IAAS1K,KAAK2K,MAAMC,SAAU,UACrEF,IAAS1K,KAAK2K,MAAMC,SAAW,cAC/BL,cAAcpL,EAAKqL,qBAEpB,sCAGI,IACC7K,EAAcpD,KAAKI,MAAnBgD,UADD4E,EAUHhI,KAAKJ,MAPPyD,EAHK2E,EAGL3E,WACAG,EAJKwE,EAILxE,OACAC,EALKuE,EAKLvE,KACAc,EANKyD,EAMLzD,OACAjB,EAPK0E,EAOL1E,UACAC,EARKyE,EAQLzE,kBACA+K,EATKtG,EASLsG,OAGF,OACEC,EAAAvL,EAAAC,cAACuL,EAAA,EAAD,CACE3L,OAAQO,EACR/D,KAAK,KACLiE,UAAS,sBAAAU,OAAwBV,GACjCC,kBAAmBA,EACnB+K,OAAQA,GAGN9K,GACA+K,EAAAvL,EAAAC,cAACuL,EAAA,EAAD,CACEC,IAAI,KACJC,OAAQrL,GAEPG,GAIHC,GACA8K,EAAAvL,EAAAC,cAACuL,EAAA,EAAD,KACG/K,GAIHc,GACAgK,EAAAvL,EAAAC,cAACuL,EAAA,EAAD,KACGjK,WApFYe,cA4FzBnC,EAAWoC,aAAe,CACxBnC,WAAW,EACXI,OAAQ,KACRC,KAAM,KACNc,OAAQ,KACRjB,UAAW,KACXC,kBAAmB,KACnB+K,OAAQ,MAcKnL,qSChHTwL,iBAAkB,GAElBC,EAAgB,GAIhBC,EAAmB,CACvBC,aAAc,mBACd/N,MAAO,MAMHgO,cA2BJ,SAAAA,EAAYnP,GAAO,IAAAC,EAAAC,OAAAkP,EAAA,EAAAlP,CAAAE,KAAA+O,GAAA,IAAA/G,GACjBnI,EAAAC,OAAAmP,EAAA,EAAAnP,CAAAE,KAAAF,OAAAoP,EAAA,EAAApP,CAAAiP,GAAA5O,KAAAH,KAAMJ,KAWGA,MAJPuP,EARenH,EAQfmH,SACAC,EATepH,EASfoH,gBACArO,EAVeiH,EAUfjH,MACAsO,EAXerH,EAWfqH,WAII3K,EAASkK,EAETU,EAAWF,GAAmBT,EAE9BY,GAAalO,IAAEmO,IAAI,CAACL,EAAWA,EAASnN,OAAS,EAAGsN,IAAa,GAAK5K,EAnB3D,OA+BjB7E,EAAKO,MAAQ,CACXqP,UAAU,EACVC,UAAWP,EACXQ,gBAAkBN,GAActO,GAASA,EAAM+N,cAAiB,GAChEpK,SACA0K,gBAAiBE,EACjBC,YACAK,WAAYL,EACZM,yBAA0B,KAC1BC,qBAAsB,EACtBC,aAAcrL,EACdsL,aAAc,EACdC,cAAc,GAGhBpQ,EAAKqQ,iBAAmBrQ,EAAKqQ,iBAAiBzP,KAAtBX,OAAAqQ,EAAA,EAAArQ,QAAAqQ,EAAA,EAAArQ,CAAAD,KACxBA,EAAKuQ,mBAAqBvQ,EAAKuQ,mBAAmB3P,KAAxBX,OAAAqQ,EAAA,EAAArQ,QAAAqQ,EAAA,EAAArQ,CAAAD,KAC1BA,EAAKwQ,gBAAkBxQ,EAAKwQ,gBAAgB5P,KAArBX,OAAAqQ,EAAA,EAAArQ,QAAAqQ,EAAA,EAAArQ,CAAAD,KACvBA,EAAKyQ,gBAAkBzQ,EAAKyQ,gBAAgB7P,KAArBX,OAAAqQ,EAAA,EAAArQ,QAAAqQ,EAAA,EAAArQ,CAAAD,KACvBA,EAAK0Q,kBAAoB1Q,EAAK0Q,kBAAkB9P,KAAvBX,OAAAqQ,EAAA,EAAArQ,QAAAqQ,EAAA,EAAArQ,CAAAD,KACzBA,EAAK2Q,oBAAsB3Q,EAAK2Q,oBAAoB/P,KAAzBX,OAAAqQ,EAAA,EAAArQ,QAAAqQ,EAAA,EAAArQ,CAAAD,KAC3BA,EAAK4Q,8BAAgC5Q,EAAK4Q,8BAA8BhQ,KAAnCX,OAAAqQ,EAAA,EAAArQ,QAAAqQ,EAAA,EAAArQ,CAAAD,KACrCA,EAAK6Q,sBAAwB7Q,EAAK6Q,sBAAsBjQ,KAA3BX,OAAAqQ,EAAA,EAAArQ,QAAAqQ,EAAA,EAAArQ,CAAAD,KAC7BA,EAAK8Q,oBAAsB9Q,EAAK8Q,oBAAoBlQ,KAAzBX,OAAAqQ,EAAA,EAAArQ,QAAAqQ,EAAA,EAAArQ,CAAAD,KAC3BA,EAAK+Q,mBAAqB/Q,EAAK+Q,mBAAmBnQ,KAAxBX,OAAAqQ,EAAA,EAAArQ,QAAAqQ,EAAA,EAAArQ,CAAAD,KAC1BA,EAAKgR,aAAehR,EAAKgR,aAAapQ,KAAlBX,OAAAqQ,EAAA,EAAArQ,QAAAqQ,EAAA,EAAArQ,CAAAD,KACpBA,EAAKiR,WAAajR,EAAKiR,WAAWrQ,KAAhBX,OAAAqQ,EAAA,EAAArQ,QAAAqQ,EAAA,EAAArQ,CAAAD,KAClBA,EAAKkR,WAAalR,EAAKkR,WAAWtQ,KAAhBX,OAAAqQ,EAAA,EAAArQ,QAAAqQ,EAAA,EAAArQ,CAAAD,KAClBA,EAAKmR,YAAcnR,EAAKmR,YAAYvQ,KAAjBX,OAAAqQ,EAAA,EAAArQ,QAAAqQ,EAAA,EAAArQ,CAAAD,KA3DFA,6FA1BakO,EAAWkD,GAAW,IAElD9B,EAEEpB,EAFFoB,SACAC,EACErB,EADFqB,gBAGF,IAAK/N,IAAE6P,QAAQ/B,EAAU8B,EAAUE,kBAAmB,CACpD,IAAMzM,EAASkK,EACTU,EAAWF,GAAmBT,EAC9BY,GAAalO,IAAEmO,IAAI,CAACL,EAAWA,EAASnN,OAAS,EAAGsN,IAAa,GAAK5K,EAE5E,MAAO,CACLyM,iBAAkBhC,EAClBO,UAAWP,EACXI,YACAK,WAAYL,GAIhB,OAAO,kEAwEW,IAAAjD,EACYtM,KAAKJ,MAA3BmB,EADUuL,EACVvL,MAAOsO,EADG/C,EACH+C,WAGflB,IAASiD,iBAAiB,YAAapR,KAAKoQ,oBAE5ChK,IAAOgL,iBAAiB,SAAUpR,KAAKkQ,kBAEvClQ,KAAKkQ,mBARa,IAUVmB,EAAkBrR,KAAKJ,MAAvByR,cAEJtQ,GACEsO,GACFrP,KAAKwB,SAAS,CACZqO,yBAA0B9O,IAK5BsQ,GACFrR,KAAK6Q,aAAaQ,GAGpBrR,KAAKwB,SAAS,CAAEyO,cAAc,+CAMbqB,GAAW,IACpBzB,EAA6B7P,KAAKI,MAAlCyP,yBADoBtD,EAEiBvM,KAAKJ,MAA1CyR,EAFoB9E,EAEpB8E,cAAetQ,EAFKwL,EAELxL,MAAOsO,EAFF9C,EAEE8C,WAGzBhO,IAAE6P,QAAQG,EAAeC,EAAUD,gBACtCrR,KAAK6Q,aAAaQ,GAGpB,IAAME,GAAclQ,IAAEmQ,QAAQ3B,GAEzBxO,IAAE6P,QAAQnQ,EAAOuQ,EAAUvQ,QAC9Bf,KAAKwB,SAAS,CACZmO,eAAiB5O,GAASA,EAAM+N,cAAiB,KAIjD/N,KACGwQ,GAAeA,IAAelQ,IAAE6P,QAAQnQ,EAAO8O,KAC9CR,GACFrP,KAAKwB,SAAS,CACZqO,yBAAyB/P,OAAA2R,EAAA,EAAA3R,CAAKiB,KAOlCwQ,IAAexQ,GACjBf,KAAKwB,SAAS,CACZqO,yBAA0B,OAK9B7P,KAAKkQ,kEAQL/B,IAASuD,oBAAoB,YAAa1R,KAAKoQ,oBAC/ChK,IAAOsL,oBAAoB,SAAU1R,KAAKkQ,6DAc1C,GAHuBlQ,KAAKJ,MAApByP,WAGR,CAJiB,IAAAvI,EAYb9G,KAAKI,MAHP2P,EATejJ,EASfiJ,aACArL,EAVeoC,EAUfpC,OACAsL,EAXelJ,EAWfkJ,aAGE2B,EAAY/C,EAChB,IAEE+C,GADAA,EAAY3R,KAAK4R,uBAAuBtJ,SAAStI,KAAK4R,uBAAuBC,kBAAoB,GAAGC,wBAAwBC,OAAS/R,KAAK4R,uBAAuBtJ,SAAS,GAAGwJ,wBAAwBE,KAC7KpD,EAAgBA,EAAgB+C,EAAY,GACpE,MAAO1Q,IAKL8O,IAAiB4B,GACnB3R,KAAKwB,SAAS,CACZuO,aAAc4B,EACd3B,aAAc2B,EAAY,EAAI3B,EAAetL,EApNrB,EAoNwD,0CAKzEuN,GAAY,IAAApF,EAOnB7M,KAAKJ,MALPkB,EAFqB+L,EAErB/L,KACA4M,EAHqBb,EAGrBa,SACAwE,EAJqBrF,EAIrBqF,QACAC,EALqBtF,EAKrBsF,oBACA9C,EANqBxC,EAMrBwC,WAGF,GAAI6C,EAKF,OAJIC,GACFA,EAAoBF,QAEtBjS,KAAKoS,WAAWrR,MAAQkR,EAAWnD,cAIrCpB,EAAS2B,EAAa,kBAAoB,SAAUvO,EAAMmR,8CAQzCI,GACIrS,KAAKI,MAAlBqP,UAKNzP,KAAKsS,aACJtS,KAAKsS,WAAWC,SAASF,EAAMpH,UAGhCjL,KAAKwB,SAAS,CACZiO,UAAU,IAIZzP,KAAKwS,aAAc,+CASHH,GAAO,IAAAvP,EAMrB9C,KAAKI,MAJPqP,EAFuB3M,EAEvB2M,SACAK,EAHuBhN,EAGvBgN,oBACAH,EAJuB7M,EAIvB6M,eACAE,EALuB/M,EAKvB+M,yBALuB4C,EAQiBzS,KAAKJ,MAAvCyP,EARiBoD,EAQjBpD,WAAYqD,EARKD,EAQLC,kBAGpB,GAAkB,UAAdL,EAAMtO,IAGR,OAFA/D,KAAK8Q,kBACLuB,EAAMM,iBAKU,cAAdN,EAAMtO,MACJ0L,IAC2B,IAAzBK,GACFuC,EAAMM,iBAER3S,KAAK4Q,mBAAmByB,IAExBrS,KAAKwB,SAAS,CACZiO,UAAU,MAMdJ,GACc,cAAdgD,EAAMtO,KACc,KAAnB4L,GAAyBA,IAAmB+C,GAC5CrR,IAAEmQ,QAAQ3B,IAEX7P,KAAK0Q,sBAAsBb,EAAyBA,EAAyB7N,OAAS,+CASvEqQ,EAAOJ,GAAY,IAElCnC,EACE9P,KAAKI,MADP0P,oBAGEjM,EAAQiM,EAGZ,GAAkB,UAAduC,EAAMtO,IAMR,OAFA/D,KAAK8Q,WAAWmB,QAChBI,EAAMM,iBAKU,cAAdN,EAAMtO,IACRF,EAAQiM,EAAsB,EACP,YAAduC,EAAMtO,MACfF,EAAQiM,EAAsB,GAIhCjM,EAAQ+O,KAAKC,IAAI,EAAGD,KAAKpD,IAAI3L,EAAO7D,KAAK8S,aAAa9Q,OAAS,IAE/DhC,KAAK8S,aAAajP,GAAOkP,QAGrBlP,IAAUiM,GACZ9P,KAAKwB,SAAS,CACZsO,oBAAqBjM,IAIzBwO,EAAMW,8DAQ8B,IAApBC,EAAoBhH,UAAAjK,OAAA,QAAAoI,IAAA6B,UAAA,IAAAA,UAAA,GAAAiH,EAMhClT,KAAKI,MAJPqP,EAFkCyD,EAElCzD,SACAE,EAHkCuD,EAGlCvD,eACAJ,EAJkC2D,EAIlC3D,UACAM,EALkCqD,EAKlCrD,yBALkCsD,EAWhCnT,KAAKJ,MAFPuP,EATkCgE,EASlChE,SACAE,EAVkC8D,EAUlC9D,WAIGrP,KAAKwS,gBAEHS,GAAeA,IAAexD,IACjCzP,KAAKwB,SAAS,CACZiO,UAAWA,IAKVE,GAAkBA,IAAmBd,EAAiBC,eACzD9O,KAAKwB,SAAS,CACZkO,UAAWP,EACXS,WAAYL,EACZO,qBAAsB,MAGnBT,GAAeA,GAAchO,IAAEmQ,QAAQ3B,KAC1C7P,KAAK6Q,aAAa,QAMxB7Q,KAAKwS,aAAc,gDASCH,EAAOe,GAAM,IAAAxQ,EAAA5C,KAEjC,GAAIoT,EAAKrS,QAAU8N,EAAiB9N,MAApC,CAFiC,IAAAsS,EAMGrT,KAAKI,MAAjCgP,EANyBiE,EAMzBjE,gBAAiB1K,EANQ2O,EAMR3O,OACjByK,EAAanP,KAAKJ,MAAlBuP,SAGNE,EACErP,KAAKJ,MADPyP,WAKFrP,KAAKwB,SAAS,CACZkO,UAAWP,EACXS,YAAavO,IAAEmO,IAAI,CAAEL,GAAYA,EAASnN,QAAW,EAAGoN,IAAoB,GAAK1K,IAK/E2K,GAEFrP,KAAKwB,SAAS,CACZmO,eAAgB,KAIlB3P,KAAKoS,WAAWrR,MAAQ,GAKxBf,KAAKyQ,8BAA8B2C,IAEnCpT,KAAKwB,SAAS,CACZmO,eAAgByD,EAAKtE,cACpB,WAEDlM,EAAK2N,oBAGL3N,EAAKiO,aAAauC,GAGlBxQ,EAAKpB,SAAS,CACZiO,UAAU,MAKhB4C,EAAMW,yEAQsBI,GAAM,IAAAE,EACWtT,KAAKI,MAA1CyP,EAD0ByD,EAC1BzD,yBAA0BnL,EADA4O,EACA5O,OAE5B6O,EAAS1D,GAA4B,GAGtCxO,IAAEmS,KAAKD,EAAQ,SAAAvI,GAAC,OAAIA,EAAEjK,QAAUqS,EAAKrS,UAExCwS,EAAOjR,KAAK8Q,GAGZpT,KAAKwB,SAAS,CACZqO,yBAA0B0D,EAC1BxD,aAAc/P,KAAKyT,kBAAoBzT,KAAKyT,kBAAkB1D,aAAerL,EAC7E+K,UAAU,IAIZzP,KAAK6Q,aAAa0C,kDASAH,GAAM,IAClB1O,EAAW1E,KAAKI,MAAhBsE,OAIJ6O,EAFiCvT,KAAKI,MAAlCyP,yBAE8B6D,QAEhC7P,EAAQ0P,EAAOpI,QAAQiI,GAC7BG,EAAOI,OAAO9P,EAAO,GAErB0P,EAA2B,IAAlBA,EAAOvR,OAAe,KAAOuR,EAGtCvT,KAAKwB,SAAS,CACZqO,yBAA0B0D,EAC1BxD,aAAc/P,KAAKyT,kBAAoBzT,KAAKyT,kBAAkB1D,aAAerL,IAI/E1E,KAAK6Q,aAAa0C,GAClBvT,KAAKwS,aAAc,sFAQKH,qFAEhBtR,EAAUsR,EAAMpH,OAAhBlK,MAEAoO,EAAanP,KAAKJ,MAAlBuP,WAC4BnP,KAAKI,MAAjCsE,WAAQ0K,oBAGVwE,EAASvS,IAAEwS,OACf1E,EACA,SAAAiE,GAAI,OAA2F,IAAvFA,EAAKtE,aAAagF,WAAWC,cAAc5I,QAAQpK,EAAM+S,WAAWC,iBAIxE/R,EAAS4R,EAAO5R,OAAS4R,EAAO5R,OAAS,EAI/ChC,KAAKwB,SAAS,CACZkO,UAAWkE,EAAO5R,OAAS4R,EAAS,CAAC/E,GACrCe,YAAavO,IAAEmO,IAAI,CAACxN,EAAQoN,IAAoB,GAAK1K,EACrD+K,UAAU,EACVE,eAAgB5O,EAChB+O,qBAAsB,0IASfuC,GAEUrS,KAAKsS,WAAWC,SAASF,EAAM2B,iBAKhDhU,KAAKwB,SAAS,CACZiO,UAAU,IAGZzP,KAAK8Q,aACL9Q,KAAKwS,aAAc,uCASXH,GAAO,IACT5C,EAAazP,KAAKI,MAAlBqP,SAGWzP,KAAKsS,WAAWC,SAASF,EAAM2B,gBAI3CvE,IACHzP,KAAKuQ,mBAAkB,GAEvBvQ,KAAKwS,aAAc,wCAUK,IAAnBP,EAAmBhG,UAAAjK,OAAA,QAAAoI,IAAA6B,UAAA,GAAAA,UAAA,GAAN,KAAMgI,EAIxBjU,KAAKI,MAFPuP,EAF0BsE,EAE1BtE,eACAD,EAH0BuE,EAG1BvE,UAH0BwE,EAUxBlU,KAAKJ,MAHP8S,EAP0BwB,EAO1BxB,kBACAvD,EAR0B+E,EAQ1B/E,SACAE,EAT0B6E,EAS1B7E,WAIE8E,EAAc,KAEdC,GAAU,EAERC,EAA6B,OAAfpC,EAAsBA,EAAWnD,aAAea,EAIlE0E,GACAA,IAAgB3B,GACA,KAAhB2B,IAGA3E,EAAU4E,KAAK,SAACC,GACd,IAAMX,EAASW,EAAIzF,aAAagF,WAAWU,gBAAkBH,EAAYP,WAAWU,cAKpF,OAJIZ,IACFO,EAAcI,GAGTX,IAMTO,GAFAC,GAAWD,GAEa,KAAOA,EAE3B9E,GACG+E,GACHpU,KAAKyQ,8BAA8B0D,GAGrCnU,KAAKoS,WAAWrR,MAAQ,KAGxBf,KAAK6Q,aAAasD,GAElBnU,KAAKwB,SAAS,CACZiO,UAAU,MAQhBzP,KAAKwB,SAAS,CACZkO,UAAW0E,EAAU1E,EAAYP,EACjCQ,eAAiBwE,GAAeA,EAAYrF,cAAiB,+CAO/C,IAAAjI,EAAA7G,KAAAyU,EACczU,KAAKI,MAA3BsP,EADQ+E,EACR/E,UAAWhL,EADH+P,EACG/P,OAmBnB,OAlBA1E,KAAK8S,aAAe,GAELzR,IAAEgB,IAAIqN,EAAW,SAAA0D,GAAI,OAClCsB,EAAA1R,EAAAC,cAAA,MAAIc,IAAKqP,EAAKrS,OACZ2T,EAAA1R,EAAAC,cAAA,OACEK,UAAU,uBACV8K,MAAO,CAAE1J,UACTG,QAAS,SAAAwN,GAAK,OAAIxL,EAAK8N,sBAAsBtC,EAAOe,IACpDwB,KAAK,SACLC,UAAW,EACXC,UAAW,SAACzC,GAAYxL,EAAK+J,mBAAmByB,EAAOe,IACvDlG,IAAK,SAAC9H,GAAwB,OAATA,GAAeyB,EAAKiM,aAAaxQ,KAAK8C,KAE3DsP,EAAA1R,EAAAC,cAAA,SAAImQ,EAAKtE,2EAWgB,IAAAlC,EAAA5M,KACvB6P,EAA6B7P,KAAKI,MAAlCyP,yBAGR,OAFuB7P,KAAKJ,MAApByP,WAMDhO,IAAEgB,IAAIwN,EAA0B,SAAAuD,GAAI,OACzCsB,EAAA1R,EAAAC,cAAA,OAAKK,UAAU,0BAA0BS,IAAKqP,EAAKrS,OACjD2T,EAAA1R,EAAAC,cAAA,OAAKK,UAAU,iBACboR,EAAA1R,EAAAC,cAAA,SAAImQ,EAAKtE,cACT4F,EAAA1R,EAAAC,cAAA,UACEzD,KAAK,SACL8D,UAAU,wBACVyR,UAAW,kBAAMnI,EAAK8D,sBAAsB0C,IAC5CyB,UAAW,GAEXH,EAAA1R,EAAAC,cAAA,OAAK0D,IAAKqO,IAAOpO,IAAI,mBAbpB,+CAoBO,IAAAqO,EAAAjV,KACR2P,EAAmB3P,KAAKI,MAAxBuP,eADQuF,EAQZlV,KAAKJ,MALPyP,EAHc6F,EAGd7F,WACA8F,EAJcD,EAIdC,gBACAzC,EALcwC,EAKdxC,kBACA5R,EANcoU,EAMdpU,KACAoR,EAPcgD,EAOdhD,QAGF,OACEwC,EAAA1R,EAAAC,cAACmS,EAAA,EAAD,CACErU,MAAO4O,GAAkB,GACzB7O,KAAMA,EACNuU,aAAehG,GAAc6C,IAAYQ,GAAsB,GAC/D4C,aAAa,MACbpI,IAAK,SAAA9H,GAAI,OAAK6P,EAAK7C,WAAahN,GAChCsI,SAAU,SAAA2E,GAAK,OAAI4C,EAAKzE,oBAAoB6B,IAC5CyC,UAAW,SAAAzC,GAAK,OAAI4C,EAAKtE,oBAAoB0B,IAC7CxN,QAAS,kBAAMoQ,EAAK1E,mBAAkB,IACtC3L,SAAUuQ,qCAQP,IAAAI,EAAAvV,KAAAwV,EAQHxV,KAAKI,MANPqP,EAFK+F,EAEL/F,SACAG,EAHK4F,EAGL5F,WACAlL,EAJK8Q,EAIL9Q,OACAqL,EALKyF,EAKLzF,aACAC,EANKwF,EAMLxF,aACAC,EAPKuF,EAOLvF,aAKF,GAAIvL,GAAUkL,EAAY,KAAA6F,EAWpBzV,KAAKJ,MATP8V,EAFsBD,EAEtBC,SACArG,EAHsBoG,EAGtBpG,WACA1J,EAJsB8P,EAItB9P,KACAzB,EALsBuR,EAKtBvR,UACA+D,EANsBwN,EAMtBxN,YACA0N,EAPsBF,EAOtBE,eACAlN,EARsBgN,EAQtBhN,KACAiK,EATsB+C,EAStB/C,kBACA3R,EAVsB0U,EAUtB1U,MAMI6U,GAFenG,EAAWG,EAAalL,GAELA,EAGlCmR,EAAoBpG,EAAW,4BAA8B,4BAC7DqG,EAAarG,EAAW,WAAa,aACrCsG,EAAkB9F,EAAe,GAAK,gBACtC+F,EAAYvG,EAAQ,eAAAzL,OAAkB+R,GAAlB,eAAA/R,OAAqD+R,GACzEE,EAAgB5G,GAAc5G,EAAO,gBAAkB,GACvDyN,EAAejO,EAAc,QAAU,GAEvCkO,EAAsBR,EAAiB,mBAAqB,GAE5DS,EAAarV,EAAQ,gBAAkB,GACvCsV,EAAYtG,EAAenB,GAAiBa,EAAWM,EAAe,EACtEuG,EAAevG,EAAenB,EAAgB,EAAI,EAElD2H,EAAUlH,EAAamH,IAAe/N,EACtCgO,EAAchH,EAAW,YAAc,aAE7C,OACEiF,EAAA1R,EAAAC,cAACyT,EAAA,EAAD,CACE/Q,KAAMA,EACNzB,UAAWA,EACX+D,YAAaA,GAEbyM,EAAA1R,EAAAC,cAAA,OACEK,UAAS,yBAAAU,OAA2ByS,EAA3B,KAAAzS,OAA0CiS,EAA1C,KAAAjS,OAA2DmS,GACpE/H,MAAO,CACL1J,OAAQqL,EACR2F,WACAY,gBAEFpJ,IAAK,SAAA9H,GAAI,OAAKmQ,EAAKjD,WAAalN,GAChCuR,OAAQ,SAAAtE,GAAK,OAAIkD,EAAKxE,WAAWsB,IACjCuE,QAAS,SAAAvE,GAAK,OAAIkD,EAAKvE,YAAYqB,KAEnCqC,EAAA1R,EAAAC,cAAA,OACEK,UAAS,sBAAAU,OAAwB6R,EAAxB,KAAA7R,OAA6CkS,IAGpD7G,GAAcsG,EAAiB,KAC/BjB,EAAA1R,EAAAC,cAAA,OAAKK,UAAS,gBAAAU,OAAkBoS,IAC7B1D,GAGLgC,EAAA1R,EAAAC,cAAA,OACEK,UAAU,qBACVwR,UAAW,SAAAzC,GAAK,OAAIkD,EAAK5E,oBAAoB0B,IAC7CuC,KAAK,SACLxG,MAAO,CAAEyI,UAAWnS,GACpBmQ,UAAW,EACX3H,IAAK,SAAA9H,GAAI,OAAKmQ,EAAK9B,kBAAoBrO,IAGrCmR,EACE7B,EAAA1R,EAAAC,cAAA,OAAKK,UAAU,iBAAiB8K,MAAO,CAAEyI,UAAWnS,IAClDgQ,EAAA1R,EAAAC,cAAA,OACE0D,IAAK4P,EACL3P,IAAI,uBAIR,KAEJ8N,EAAA1R,EAAAC,cAAA,OACEK,UAAU,2BACV4J,IAAK,SAAA9H,GAAI,OAAImQ,EAAK3D,uBAAyBxM,GAC3CgJ,MAAO,CAAE0I,WAAY9G,EAAc+G,cAAe/G,IAEjDhQ,KAAKgX,iCACNtC,EAAA1R,EAAAC,cAAA,OAAKK,UAAU,qCACZtD,KAAKsQ,oBAGVoE,EAAA1R,EAAAC,cAAA,OACEK,UAAU,iBACVuB,QAAS,kBAAM0Q,EAAKhF,qBACpB0G,WAAY,aACZrC,KAAK,SACLC,UAAW,GAEXH,EAAA1R,EAAAC,cAAA,OACE0D,IAAKuQ,IACLtQ,IAAI,YACJtD,UAAS,wBAAAU,OAA0B8R,OAIzCpB,EAAA1R,EAAAC,cAACkU,EAAA,WAAD,CACE7T,UAAS,kBAAAU,OAAoBgS,GAC7B5H,MAAO,CACLyI,UAAWjB,EACXS,aAEFnJ,IAAK,SAAA9H,GAAI,OAAImQ,EAAK6B,cAAgBhS,GAClCyP,UAAW,GAGTpF,EACEzP,KAAKqQ,kBAEL,SAShB,OAAO,YAl2BY/K,aAs2BvByJ,EAASxJ,aAAe,CACtBmQ,SAAU,OACVtG,gBAAiBT,EACjBU,YAAY,EACZ1J,KAAM,KACNwP,iBAAiB,EACjBjR,UAAW,KACXgO,SAAS,EACTb,cAAe,KACfpJ,YAAa,KACbkH,SAAU,KACVgD,oBAAqB,KACrBrR,KAAM,KACN6U,gBAAgB,EAChBlN,KAAM,KACN1H,MAAO,MAuBMgO,gNCl6BTsI,2LACK,IAAArP,EAeHhI,KAAKJ,MAbPkB,EAFKkH,EAELlH,KACA6E,EAHKqC,EAGLrC,KACA+M,EAJK1K,EAIL0K,kBACAxO,EALK8D,EAKL9D,UACA+D,EANKD,EAMLC,YACAlH,EAPKiH,EAOLjH,MACA2M,EARK1F,EAQL0F,SACA4J,EATKtP,EASLsP,eACAC,EAVKvP,EAULuP,KACA5B,EAXK3N,EAWL2N,eACAnW,EAZKwI,EAYLxI,KACAgY,EAbKxP,EAaLwP,QACAC,EAdKzP,EAcLyP,SAIIC,EAAqB,aAATlY,EAAsB,WAAsB,aAATA,EAAsB,WAAsB,WAATA,EAAoB,SAAW,GAEjHmY,EAAa1P,EAAc,QAAU,GACrCmO,EAAarV,EAAQ,gBAAkB,GACvC6W,EAA8B,aAAdF,EAA2B,mBAAqB,GAChEG,EAA2B,aAAdH,EAA2B,GAAK,iBAC7CvB,EAAsBR,EAAiB,mBAAqB,GAC5DmC,EAAgBL,EAAW,YAAc,GAE/C,OACE1U,EAAAC,EAAAC,cAAC8E,EAAA,EAAD,CACEpC,KAAMA,EACNzB,UAAWA,EACX+D,YAAaA,GAEblF,EAAAC,EAAAC,cAAA,OAAKK,UAAU,qBACbP,EAAAC,EAAAC,cAAA,OACEK,UAAS,2BAAAU,OAA6B4T,EAA7B,KAAA5T,OAA8C2T,EAA9C,KAAA3T,OAA4D8T,KAGlEnC,GACD5S,EAAAC,EAAAC,cAAA,OAAKK,UAAS,gBAAAU,OAAkBoS,IAC7B1D,GAGL3P,EAAAC,EAAAC,cAAA,OAAKK,UAAW,CAAC,aAAc6S,EAAqB0B,GAAYxP,KAAK,MACnEtF,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEJ,UAAU,OACV9D,KAAMkY,EACNrC,YAAcM,GAAkBjD,GAAsB,GACtD5R,KAAMA,EACNC,MAAOA,GAAS,GAChB2M,SAAU,SAAAqK,GAAC,OAAIrK,EAASlO,EAAMsB,EAAMiX,EAAE9M,OAAOlK,OAASyW,EAAUO,EAAE9M,OAAOlK,MAAMgT,cAAgBgE,EAAE9M,OAAOlK,QACxGwW,KAAMA,EACN3S,SAAU6S,KAIH,WAATjY,GAAqB8X,EACnBvU,EAAAC,EAAAC,cAAA,UACEzD,KAAK,SACL8D,UAAU,WACVuB,QAASyS,GAETvU,EAAAC,EAAAC,cAAA,OAAK0D,IAAK6P,IAAc5P,IAAI,kBAG9B,eAlEQtB,cA2ExB+R,EAAU9R,aAAe,CACvBxE,MAAO,KACP4E,KAAM,KACNzB,UAAW,KACX+D,YAAa,KACbqP,eAAgB,KAChBC,KAAM,EACN5B,gBAAgB,EAChB6B,SAAS,EACTC,UAAU,GAoBGJ,sNCzHFW,EAAc,CACzB,KACA,KACA,KACA,KACA,KACA,KACA,MAIWC,EAAmB,CAC9B,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,YAMWC,EAAmB,ICF1BC,sBACJ,SAAAA,EAAYvY,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAmY,IACjBtY,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAqY,GAAAhY,KAAAH,KAAMJ,KAEDwY,qBAAuBvY,EAAKuY,qBAAqB3X,KAA1BX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KAHXA,sFAMI,IAAA+C,EAAA5C,KAAAgI,EAKjBhI,KAAKJ,MAHPyY,EAFmBrQ,EAEnBqQ,gBACAC,EAHmBtQ,EAGnBsQ,eACAC,EAJmBvQ,EAInBuQ,OAGF,IACE,IAAM7T,EApBO,IAoBgB6T,EAASF,EAAgBG,cAAgBF,EAAeE,cAAgBH,EAAgBI,YAGjHzY,KAAK0Y,aACPxM,WAAW,kBAAMtJ,EAAK8V,YAAYC,UAAUjU,IAAS,IAEvD,MAAOzD,4CAUI,IAAAqL,EAMTtM,KAAKJ,MAJPyY,EAFW/L,EAEX+L,gBACAC,EAHWhM,EAGXgM,eACAM,EAJWtM,EAIXsM,aACAC,EALWvM,EAKXuM,YAGF,IACE,IAAMC,EAAYR,EAAeE,cAC3BO,EAAUH,EAAaJ,cACvBQ,EAAWX,EAAgBG,cAE3BS,EAAaD,IAAaF,EAAYR,EAAeG,WAAa,EAClES,EAAWF,IAAaD,EAAUH,EAAaH,WAAa,GAElE,OAAOpX,IAAE8X,OAAOlB,EAAkB,SAACrE,EAAQR,EAAMvP,GAC/C,GAAIoV,GAAcpV,GAASA,GAASqV,EAAU,CAC5C,IAAME,EACJrW,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEmB,QAAS,WACPgU,EAAYhV,EAAOmV,IAErBjV,IAAG,SAAAC,OAAWH,EAAMiQ,aAEnBV,GAGLQ,EAAOtR,KAAK8W,GAGd,OAAOxF,GACN,IACH,MAAO3S,IAIT,OAAO,2CAQK,IAAAsL,EAMRvM,KAAKJ,MAJPyY,EAFU9L,EAEV8L,gBACAC,EAHU/L,EAGV+L,eACAM,EAJUrM,EAIVqM,aACAC,EALUtM,EAKVsM,YAGF,IAKE,IAJA,IAAMQ,EAAQf,EAAeE,cACvBc,EAAMV,EAAaJ,cAEnB5E,EAAS,GAJb2F,EAAA,SAKOvO,GACP4I,EAAOtR,KACLS,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEmB,QAAS,WACPgU,EAAYR,EAAgBI,WAAYzN,IAE1CjH,IAAG,QAAAC,OAAUgH,EAAE8I,aAEd9I,KAREA,EAAIqO,EAAOrO,GAAKsO,IAAOtO,EAAGuO,EAA1BvO,GAaT,OAAO4I,EACP,MAAO3S,IAIT,OAAO,sCAGA,IAAA4F,EAAA7G,KAAA6M,EACuC7M,KAAKJ,MAA3C2Y,EADD1L,EACC0L,OAAQF,EADTxL,EACSwL,gBAAiBmB,EAD1B3M,EAC0B2M,SAEjC,IACE,IAAMC,EAAY,IAAIC,KAAKrB,EAAgBG,cAAeH,EAAgBI,WAAY,GAElFkB,EAAc,GAElB,GAAIpB,EACFoB,EAAcF,EAAUjB,kBACnB,CACL,IAAMoB,EAAQH,EAAUhB,WACxBkB,EAAc1B,EAAiB2B,GAGjC,OAAKJ,EAKHzW,EAAAC,EAAAC,cAAA,OAAKK,UAAU,uBACbP,EAAAC,EAAAC,cAACS,EAAA,EAAD,KACEX,EAAAC,EAAAC,cAAA,OAAKiK,IAAK,SAAC2M,GAAqBhT,EAAKgT,eAAiBA,IACpD9W,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEoW,OAAK,EACLC,SAAO,EACPlV,QAAS7E,KAAKoY,sBAEbuB,IAGL5W,EAAAC,EAAAC,cAACS,EAAA,EAAD,KACEX,EAAAC,EAAAC,cAAC+W,EAAA,WAAD,CACEC,YAAU,EACV/M,IAAK,SAACwL,GAAkB7R,EAAK6R,YAAcA,IAE1CH,EAASvY,KAAKka,cAAgBla,KAAKma,mBApBrCpX,EAAAC,EAAAC,cAAA,SAAI0W,GA0Bb,MAAO1Y,IAIT,OAAO,YA5JqBqE,cAgKhC6S,EAAkB5S,aAAe,CAC/BgT,QAAQ,EACRiB,UAAU,GAYGrB,QCxJAiC,mMAzBX,OAAO/Y,IAAEgB,IAAI2V,EAAa,SAAAqC,GAAG,OAC3BtX,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACE6C,GAAG,OACHjD,UAAU,OACVS,IAAKsW,GAELtX,EAAAC,EAAAC,cAAA,SAAIoX,uCAMR,OACEtX,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAKJ,UAAU,sBAAsBK,WAAS,GAC5CZ,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAKJ,UAAU,kBAAkBiD,GAAI,IACnCxD,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAKJ,UAAU,QAAQK,WAAS,GAC7B3D,KAAKsa,mBAGVvX,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAKJ,UAAU,oBAAoBiD,GAAI,aA1BxBjB,cCIjBiV,2LACK,IAAA1a,EAAAG,KAAAgI,EAeHhI,KAAKJ,MAbP4a,EAFKxS,EAELwS,sBACAC,EAHKzS,EAGLyS,qBACAC,EAJK1S,EAIL0S,WACAC,EALK3S,EAKL2S,SACArC,EANKtQ,EAMLsQ,eACAM,EAPK5Q,EAOL4Q,aACAgC,EARK5S,EAQL4S,gBACAC,EATK7S,EASL6S,QACAxC,EAVKrQ,EAULqQ,gBACAyC,EAXK9S,EAWL8S,UACAC,EAZK/S,EAYL+S,yBACAC,EAbKhT,EAaLgT,aACAC,EAdKjT,EAcLiT,WAGIC,EAAe,IAAIxB,KAAKrB,GAC9B6C,EAAaC,QAAQ,GAErB,IAAMC,EAAc,IAAI1B,KAAKwB,EAAa1C,cAAe0C,EAAazC,WAAa,EAAG,GAEhF4C,EAAmBH,EAAaI,UAChCC,EAAkBH,EAAYE,UAE9B1B,EAAQsB,EAAazC,WACrB+C,EAAON,EAAa1C,cAGpBiD,EAAaP,EAAaQ,SAE1BC,EAAWP,EAAYQ,UAGvBC,EAAgBf,GAAaA,EAAUQ,UACvCQ,EAAYpB,GAAcA,EAAWY,UACrCS,EAAUpB,GAAYA,EAASW,UAEjCU,EAAiBF,EACjBG,EAAeF,EAEbG,EAAgBzB,EAAuBsB,EAAUD,EACjDK,EAAoB1B,EAAiCqB,EAAVC,EAE7CjB,IAEFkB,EAAiBH,EAAgBK,EAAgBL,EAAgBK,EAEjED,EAAeJ,EAAgBK,EAAgBL,EAAgBK,GAMjE,IAHA,IAAMtI,EAAS,GAGN5I,EAAI,EAAGA,EAAIyQ,IAAczQ,EAChC4I,EAAOtR,KAAKS,EAAAC,EAAAC,cAAA,OAAKK,UAAU,WAAWS,IAAG,QAAAC,OAAUgH,EAAE8I,eAGvD,IA1DO,IAAAyF,EAAA,SA0DEvO,GACP,IAAMoR,EAAU,IAAI1C,KAAK8B,EAAM5B,EAAO5O,GAChCqR,EAAgBD,EAAQV,SACxBY,EAAWF,EAAQd,UAEnBiB,EAA0B,IAAlBF,EACRG,EAA0B,IAAlBH,EACRI,EAAcT,IAAmBM,EACjCI,EAAYT,IAAiBK,EAC7BK,EAAWX,GAAkBC,GAAgBD,EAAiBM,GAAYA,EAAWL,EACrFW,EAAavB,IAAqBiB,EAClCO,EAAYtB,IAAoBe,EAEhCQ,EAAYd,IAAmBC,GAAiBnB,GAAaoB,IAAkBL,EAK/EkB,EAAcN,GAAeC,EAI7BM,GARqBF,IAAeN,IAAUI,IAAiBF,GAAaV,GACrDW,GAOc,cAAgB,gBACrDM,GAPsBH,IAAeP,IAAUM,IAAgBJ,GAAeR,GACvDU,GAMgB,eAAiB,iBACxDO,EALcH,GAAgBJ,IAAaJ,GAASC,GAASI,GAAcC,GAK7C,aAAe,eAC7CM,EAAWJ,EAAc,aAAe,eACxCK,EAAcvB,GAAiBA,IAAkBS,IAAeT,GAAiBM,IAAqBG,EAAY,YAAc,GAGlIe,GAAY,EAUXA,IACHA,EAAYjB,EAAU9D,GAAkB8D,GAAW5B,GAAyB5B,IAG9EhF,EAAOtR,KACLS,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEK,IAAG,MAAAC,OAAQgH,EAAE8I,YACbxQ,UAAU,WACViD,GAAG,QAEHxD,EAAAC,EAAAC,cAAA,UACEK,UAAU,gBACV9D,KAAK,SACLqF,QAAS,WACP,IAAKwY,EAAW,KACgBC,EAA6Bzd,EAAKD,MAAxD6a,qBACRG,EAAgB,IAAIlB,KAAK8B,EAAM5B,EAAO5O,GAAIsS,GAC1CtC,EAAa,MAETH,GAAWyC,GACbvC,EAAyB,IAAIrB,KAAK8B,EAAM5B,EAAO5O,EAAIiQ,MAIzDsC,aAAc,WACLF,GACHrC,EAAa,IAAItB,KAAK8B,EAAM5B,EAAO5O,KAGzCwS,aAAc,WAERxC,EAAa,QAInBjY,EAAAC,EAAAC,cAAA,OAAKK,UAAS,cAAAU,OAAgBgZ,KAC9Bja,EAAAC,EAAAC,cAAA,OAAKK,UAAS,cAAAU,OAAgBiZ,KAC9Bla,EAAAC,EAAAC,cAAA,OAAKK,UAAS,GAAAU,OAAKkZ,KAEjBG,EACEta,EAAAC,EAAAC,cAAA,OAAKK,UAAU,gBACbP,EAAAC,EAAAC,cAAA,KAAGK,UAAU,WAAW0H,IAG1BjI,EAAAC,EAAAC,cAAA,OAAKK,UAAS,OAAAU,OAASmZ,EAAT,KAAAnZ,OAAqBoZ,IACjCra,EAAAC,EAAAC,cAAA,SAAI+H,QApFTA,EAAI,EAAGA,GAAK2Q,IAAY3Q,EAAGuO,EAA3BvO,GA4FT,OACEjI,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAKJ,UAAU,qBAAqBK,WAAS,GAC1CiQ,UAzJctO,cA+JvBiV,EAAShV,aAAe,CACtBmV,WAAY,KACZC,SAAU,KACVH,sBAAuB,KACvBnC,gBAAiB,KACjByC,UAAW,KACXG,WAAY,GAmBCV,QC9KTkD,uBACJ,SAAAA,EAAY7d,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAyd,IACjB5d,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA2d,GAAAtd,KAAAH,KAAMJ,KAEDQ,MAAQ,CACX0a,UAAW,KACXN,sBAAuB,MAGzB3a,EAAKgZ,YAAchZ,EAAKgZ,YAAYpY,KAAjBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KACnBA,EAAKkb,yBAA2Blb,EAAKkb,yBAAyBta,KAA9BX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KATfA,wFAoBMkB,GAAO,IAAAiH,EAI1BhI,KAAKJ,MAFPgZ,EAF4B5Q,EAE5B4Q,aACAqC,EAH4BjT,EAG5BiT,WAGEyC,EAAS3c,EAEb,GAAI6X,EAAc,CAChB,IAAM+E,EAASC,IAAOhF,GAAciF,IAAI5C,EAAY,QAAQ6C,SAC5DJ,EAASA,EAASC,EAASA,EAASD,EAGtC1d,KAAKwB,SAAS,CAAEgZ,sBAAuBkD,wCAW7B9D,EAAO4B,GAAM,IAErBhB,EACExa,KAAKI,MADPoa,sBAFqBlO,EASnBtM,KAAKJ,MAHP0Y,EANqBhM,EAMrBgM,eACAM,EAPqBtM,EAOrBsM,aACAmF,EARqBzR,EAQrByR,kBAGEC,EAAO,IAAItE,KAAK8B,EAAM5B,GAGtBoE,EAAO1F,EACT0F,EAAO1F,EACE0F,GAAQxD,GAAyB5B,KAC1CoF,EAAOxD,GAAyBA,EAAwB5B,EAAe4B,EAAwB5B,GAGjGmF,EAAkBC,qDAGMC,EAAQrE,EAAO4B,GAAM,IAAA5Y,EAAA5C,KAAAuM,EACjBvM,KAAKJ,MAAzBib,EADqCtO,EACrCsO,QAASqD,EAD4B3R,EAC5B2R,OAEjB,OACEnb,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACE6C,GAAI,EACJjD,UAAU,oBAEVP,EAAAC,EAAAC,cAAA,UACEzD,KAAK,SACLqF,QAAS,WAEPjC,EAAKiW,YAAYoF,EAASrE,EAAQ,EAAKiB,IAAYqD,EAAStE,EAAQA,EAAQ,EAAI4B,KAGlFzY,EAAAC,EAAAC,cAAA,OACE0D,IAAKuQ,IACLtQ,IAAI,YACJtD,UAAW2a,EAAS,aAAe,0DAY7Bze,GAAM,IAAAqH,EAAA7G,KAAA8G,EACyB9G,KAAKI,MAA1Coa,EADY1T,EACZ0T,sBAAuBM,EADXhU,EACWgU,UADXjO,EAchB7M,KAAKJ,MAVPyY,EAJkBxL,EAIlBwL,gBACAwC,EALkBhO,EAKlBgO,QACAD,EANkB/N,EAMlB+N,gBACAF,EAPkB7N,EAOlB6N,WACAC,EARkB9N,EAQlB8N,SACArC,EATkBzL,EASlByL,eACAM,EAVkB/L,EAUlB+L,aACA6B,EAXkB5N,EAWlB4N,qBACAyD,EAZkBrR,EAYlBqR,OACAjD,EAbkBpO,EAalBoO,WAGIxB,EAAY,IAAIC,KAAKrB,EAAgBG,cAAeH,EAAgBI,WAAY,GAvHpE,IAwHdjZ,GACFia,EAAU0E,SAAS1E,EAAUhB,WAAa,GAG5C,IAAMmB,EAAQH,EAAUhB,WAClB+C,EAAO/B,EAAUjB,cAEnB4F,EAAa,GAKjB,OAJIvD,IAAYqD,IACdE,EAjIgB,IAiIH5e,EAAyB,cAAgB,cAItDuD,EAAAC,EAAAC,cAAA,OAAKK,UAAU,wBArIC,IAuIZ9D,EACEuD,EAAAC,EAAAC,cAAA,OACE2R,KAAK,SACLtR,UAAU,yBACV2T,WAAY,aACZpS,QAAS,WACP+V,EAAgBF,GAAY,GAC5BE,EAAgBD,GAAU,IAE5B9F,UAAW,GAEX9R,EAAAC,EAAAC,cAAA,OAAK0D,IAAK0X,IAAW/a,UAAU,aAAasD,IAAI,WAEhD,KAEN7D,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAKJ,UAAW8a,EAAYza,WAAS,GAtJvB,IAuJXnE,GAA0BQ,KAAKse,2BAA0B,EAAM1E,EAAO4B,GACvEzY,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAK6C,GAAI,EAAGjD,UAAU,iBACpBP,EAAAC,EAAAC,cAACsb,EAAD,CACE1F,YAAa7Y,KAAK6Y,YAClBR,gBAAiBoB,EACjBnB,eAAgBA,EAChBM,aAAcA,EACdY,SAhKC,IAgKSha,KAGduD,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAK6C,GAAI,EAAGjD,UAAU,kBACpBP,EAAAC,EAAAC,cAACsb,EAAD,CACEhG,QAAM,EACNM,YAAa7Y,KAAK6Y,YAClBR,gBAAiBoB,EACjBnB,eAAgBA,EAChBM,aAAcA,EACdY,SA1KC,IA0KSha,KAzKH,IA4KVA,GAAyBQ,KAAKse,2BAA0B,EAAO1E,EAAO4B,IAEzEzY,EAAAC,EAAAC,cAACub,EAAD,MACAzb,EAAAC,EAAAC,cAACwb,EAAD,CACE5D,QAASA,EACTH,WAAYA,EACZC,SAAUA,EACVrC,eAAgBA,EAChBM,aAAcA,EACd4B,sBAAuBA,EACvBnC,gBAAiBoB,EACjBqB,UAAWA,EACXF,gBAAiBA,EACjBH,qBAAsBA,EACtBM,yBAA0B/a,KAAK+a,yBAC/BC,aAAc,SAAAja,GAAK,OAAI8F,EAAKrF,SAAS,CAAEsZ,UAAW/Z,KAClDka,WAAYA,sCAMX,IAAArO,EAAA5M,KAAAyS,EAQHzS,KAAKJ,MANP6P,EAFKgD,EAELhD,SACAoL,EAHKpI,EAGLoI,QACA6D,EAJKjM,EAILiM,UACAC,EALKlM,EAKLkM,WACAlE,EANKhI,EAMLgI,qBACAyD,EAPKzL,EAOLyL,OAGIU,EAAcnP,EAAW,mBAAqB,GAC9CoP,EAAgBpP,EAAW,wBAA0B,wBAGrDqP,EAAYZ,EAAS,iBAAmB,GACxCa,EAAiBb,GAAUQ,EAC3B5I,EAAaiJ,EAAiB,WAAa,aAG7CC,EAAS,oBAAAhb,OAAuB+a,EAAiB,GAAK,kBAK1D,OAJIlE,GAA0B,OAAf8D,IACbK,EAAS,cAAAhb,OAAiE,IAA/CyW,EAAuB,EAAiB,GAAbkE,GAA7C,QAAA3a,OAA0E+a,EAAiB,GAAK,mBAIzGhc,EAAAC,EAAAC,cAACC,EAAA,SAAD,KACEH,EAAAC,EAAAC,cAAA,OAAKK,UAAS,GAAAU,OAAK4a,EAAL,KAAA5a,OAAoB8a,EAApB,kBACZ/b,EAAAC,EAAAC,cAAA,OAAKK,UAAWub,GACd9b,EAAAC,EAAAC,cAAA,OACEK,UAAW,CAAC,cAAewS,EAAYgJ,GAAWzW,KAAK,KACvD1B,IAAKsY,IACLrY,IAAI,eACJwH,MAAO,CAAE4Q,eAEXjc,EAAAC,EAAAC,cAAA,OACEK,UAAS,8BAAAU,OAlBY,IAmBrBkJ,IAAK,SAAA9H,GAAI,OAAIwH,EAAKsS,SAAW9Z,IAE5BpF,KAAKmf,gBAAgBtE,IAAYqD,EAxO3B,EADN,GA0OArD,IAAYqD,GAAUle,KAAKmf,gBAxOpB,cAKE7Z,cA4OxBmY,GAAUlY,aAAe,CACvBmV,WAAY,KACZC,SAAU,KACVgE,WAAY,EACZ1D,WAAY,GAoBCwC,kBC7PT2B,8BAMJ,SAAAA,EAAYxf,GAAO,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAof,GAAA,IAAApX,GACjBnI,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAsf,GAAAjf,KAAAH,KAAMJ,KAUGA,MAHPyf,EARerX,EAQfqX,UACAC,EATetX,EASfsX,QAKItB,EAdWhW,EAUf0S,YAIyB,IAAIhB,KACzB8B,EAAOwC,EAAKxF,cACZoB,EAAQoE,EAAKvF,WAEb8G,EAAW,IAAI7F,KAAK8B,EAAM5B,EAAO,GACjC4F,EAAU,IAAI9F,KAAK8B,EAAM5B,EAAQ,EAAG,GAEpCtB,EAA8B,MAAb+G,EAAoBA,EAAY,IAAI3F,KAAK8B,EAAOtD,EAAkB0B,GACnFhB,EAA0B,MAAX0G,EAAkBA,EAAU,IAAI5F,KAAK8B,EAAOtD,EAAkB0B,GAtBlE,OAkCjB/Z,EAAKO,MAAQ,CACXqP,UAAU,EACV4I,gBAAiB2F,EACjB9C,aAAcqE,EACdnE,YAAaoE,EACblH,iBACAM,eACA8F,WAAW,EACXe,gBAAiB,GACjBC,cAAe,GACfjF,sBAAsB,EACtBkE,WAAY,EACZT,QAAQ,GAGVre,EAAK0Q,kBAAoB1Q,EAAK0Q,kBAAkB9P,KAAvBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KACzBA,EAAKuQ,mBAAqBvQ,EAAKuQ,mBAAmB3P,KAAxBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KAE1BA,EAAK8f,eAAiB9f,EAAK8f,eAAelf,KAApBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KACtBA,EAAKiR,WAAajR,EAAKiR,WAAWrQ,KAAhBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KAElBA,EAAK+a,gBAAkB/a,EAAK+a,gBAAgBna,KAArBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KACvBA,EAAKke,kBAAoBle,EAAKke,kBAAkBtd,KAAvBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KACzBA,EAAK+f,WAAa/f,EAAK+f,WAAWnf,KAAhBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KAElBA,EAAKggB,aAAehgB,EAAKggB,aAAapf,KAAlBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KACpBA,EAAKigB,YAAcjgB,EAAKigB,YAAYrf,KAAjBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KAEnBA,EAAKkgB,sBAAwBlgB,EAAKkgB,sBAAsBtf,KAA3BX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KA9DZA,mFAsEjBsO,IAASiD,iBAAiB,YAAapR,KAAKoQ,oBAC5ChK,IAAOgL,iBAAiB,SAAUpR,KAAK4f,YACvCxZ,IAAOgL,iBAAiB,SAAUpR,KAAK4f,YAJrB,IAAAtT,EASdtM,KAAKJ,MAFP8a,EAPgBpO,EAOhBoO,WACAC,EARgBrO,EAQhBqO,SAGED,GACF1a,KAAK4a,gBAAgBF,GAAY,GAG/BC,GACF3a,KAAK4a,gBAAgBD,EAAWD,EAAaA,EAAaC,GAAU,GAGtE3a,KAAKwB,SAAS,CACZwe,aAAcC,IAASC,YAAYlgB,KAAKmgB,WACxCC,cAAeH,IAASC,YAAYlgB,KAAKsS,cAG3CtS,KAAK4f,gGASkBtO,iFAInBtR,KAAKJ,MAFP8a,eACAC,eAIErJ,EAAUoJ,YAAcA,KAAgB2F,aAAY/O,EAAUoJ,WAAYA,KAC1EpJ,EAAUqJ,UAAYA,KAAc0F,aAAY/O,EAAUqJ,SAAUA,MAEhE2F,EAAatgB,KAAK+f,wBAExB/f,KAAKwB,SAAS,CACZie,gBAAgD,iBAA/Ba,EAAWb,gBAAqC,GAAKa,EAAWb,gBACjFC,cAA4C,iBAA7BY,EAAWZ,cAAmC,GAAKY,EAAWZ,mKAUjFvR,IAASuD,oBAAoB,YAAa1R,KAAKoQ,oBAC/ChK,IAAOsL,oBAAoB,SAAU1R,KAAK4f,YAC1CxZ,IAAOsL,oBAAoB,SAAU1R,KAAK4f,iDAK/B,IAAA9Y,EAMP9G,KAAKI,MAJP4f,EAFSlZ,EAETkZ,aACAI,EAHStZ,EAGTsZ,cACA3Q,EAJS3I,EAIT2I,SACAyO,EALSpX,EAKToX,OAGMqC,EAAena,IAAfma,WAER,GAAI9Q,EAAU,CACZ,IAAMvO,EAAW,GACbsf,EAAa,KACXC,EAAaF,EAAa,IAEhC,GAAIP,GAAgBI,EAAe,CACjC,IAAIpO,EAAM,GACN0O,EAAO,EACPC,EAAQ,EACZ,IAAKF,EAAY,CACfD,EAAaJ,EAActO,wBAC3B,IAAM8O,GAAgBH,GAAcD,EAAWzO,OAAS,IAAM3L,IAAOya,YACrE3f,EAASwd,WAAakC,EAEtB,IAAME,EAAaN,EAAWE,KAAO,IAAMta,IAAOma,WAClDG,EAAiB,GAAA1c,OAAV8c,EAAgB1a,IAAOma,WAAa,IAAaC,EAAWE,KAAlD,MACjB1O,GAAOyO,GAAcG,EAAeJ,EAAWxO,IAAM,IAAMwO,EAAWzO,OAAS,GAC/E4O,EAAQ,GAGVX,EAAa5R,MAAMsS,KAAOA,EAC1BV,EAAa5R,MAAMuS,MAAQA,EAC3BX,EAAa5R,MAAM4D,IAAnB,GAAAhO,OAA4BgO,EAA5B,MACA9Q,EAASyd,WAAa3e,KAAKsS,WAAWR,wBAAwBnN,OAG3DuZ,IAAWuC,IAAiBvC,GAAUuC,KACzCvf,EAASgd,OAASuC,GAGpBzgB,KAAKwB,SAASN,8CAYA8c,GAChB,IAAMvE,EAAYuE,GAAQ,IAAItE,KACxBqH,EAAUtH,EAAUjB,cACpBwI,EAAWvH,EAAUhB,WAGrB8G,EAAW,IAAI7F,KAAKqH,EAASC,EAAU,GACvCxB,EAAU,IAAI9F,KAAKqH,EAASC,EAAW,EAAG,GAGhDhhB,KAAKwB,SAAS,CACZ6W,gBAAiBoB,EACjByB,aAAcqE,EACdnE,YAAaoE,oFAWKxB,mGAAMiD,uDACnB,IAAIC,QAAJ,eAAAvY,EAAA7I,OAAAqhB,EAAA,EAAArhB,CAAAshB,EAAApe,EAAAqe,KAAY,SAAAC,EAAOC,GAAP,IAAAjB,EAAA,OAAAc,EAAApe,EAAAwe,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACjB,KACQrB,EAAa1d,EAAKmd,sBAAsBkB,GAAWjD,GAAOiD,GAAWjD,KAGrEiD,GAAWX,EAAWsB,gBACxBhf,EAAKmb,kBAAkBuC,EAAWsB,gBAItChf,EAAKpB,SAAS,CACZiO,YAAa6Q,IAAcA,EAAWuB,iBACtCpH,sBAAsB,EACtBgF,gBAAiBa,EAAWb,gBAC5BC,cAAeY,EAAWZ,eACzB6B,GACH,MAAOtgB,GAEPsgB,IAlBe,wBAAAE,EAAAK,SAAAR,MAAZ,gBAAAS,GAAA,OAAApZ,EAAAqZ,MAAAhiB,KAAAiM,YAAA,iJAuBagW,GACpB,IACE,IAAIjE,EAAOkE,aAAwBD,GAKnC,OAJIjE,GAA4B,iBAApBA,EAAKlK,aACfkK,EAAOJ,IAAOqE,GAAYnE,UAGrBE,EACP,MAAO/c,IAIT,MAAO,0DAQUoR,GAAO,IAAAvP,EACW9C,KAAKI,MAAhCqP,EADgB3M,EAChB2M,SAAUuQ,EADMld,EACNkd,aAIhBvQ,GACAzP,KAAKsS,aACJtS,KAAKsS,WAAWC,SAASF,EAAMpH,SAChC+U,IACCA,EAAazN,SAASF,EAAMpH,UAE7BjL,KAAKwB,SAAS,CACZiO,UAAU,IAGZzP,KAAK8Q,qDAWM7F,GAEW,KAApBA,EAAOkX,WACTlX,EAAO0H,iBACP3S,KAAK8Q,0DASyB,IAAAjK,EAAA7G,KAAhBihB,IAAgBhV,UAAAjK,OAAA,QAAAoI,IAAA6B,UAAA,KAAAA,UAAA,GAAAiH,EAI5BlT,KAAKI,MAFPqP,EAF8ByD,EAE9BzD,SACAgL,EAH8BvH,EAG9BuH,qBAH8B5N,EAU5B7M,KAAKJ,MAHP8a,EAP8B7N,EAO9B6N,WACAC,EAR8B9N,EAQ9B8N,SACAE,EAT8BhO,EAS9BgO,QAGEuH,EAAsB,GACtBC,EAAoB,GAEnB5S,IACH2S,EAAsB,CAAE3C,gBAAiB/E,GAAc4H,aAAa5H,IACpE2H,EAAoB,CAAE3C,cAAe/E,GAAY2H,aAAa3H,KAGhE3a,KAAKwB,SAAL1B,OAAAqB,EAAA,EAAArB,CAAA,CACE2P,SAAYgL,IAAyBwG,IAAcxG,GAAwBwG,IAAaxR,EACxFgL,qBAAsBwG,GACnBmB,EACAC,GACF,WACD,GAAIxb,EAAKzG,MAAMqP,SAGb,OAFA5I,EAAK+Y,kBACL/Y,EAAKkX,kBAAkBlX,EAAKzG,MAAMqa,qBAAuBC,EAAaC,GAHjE,IAAA4H,EAUH1b,EAAKzG,MAFUoiB,EARZD,EAQL9C,gBACegD,EATVF,EASL7C,cAGIL,EAAYxY,EAAK6b,sBAAsBF,GACvClD,EAAUzE,GAAWhU,EAAK6b,sBAAsBD,GAEhDnC,EAAazZ,EAAKkZ,sBAAsBV,EAAWC,GAEzDzY,EAAKrF,SAAS,CACZie,gBAAiBa,EAAWb,gBAC5BC,cAAeY,EAAWZ,qDAUrBiD,EAAS1B,GAAS,IAAA5N,EAIvBrT,KAAKI,MAFPqf,EAFyBpM,EAEzBoM,gBACAC,EAHyBrM,EAGzBqM,cAIAkD,EACE5iB,KAAKJ,MADPgjB,QAGEvD,EAAY4B,GAAW0B,EACvBrD,GAAW2B,GAAW2B,GAAWD,EAErC,IACOtD,IACHA,EAAYrf,KAAK0iB,sBAAsBjD,IAErCmD,IAAYtD,IACdA,EAAUtf,KAAK0iB,sBAAsBhD,IAEvC,MAAOze,IAIT,IAAMqf,EAAatgB,KAAK+f,sBAAsBV,EAAWC,GAErDgB,GACFtgB,KAAKwB,SAAS,CACZiO,UAAU,EACVgL,sBAAsB,EACtBgF,gBAAiBa,EAAWb,gBAC5BC,cAAeY,EAAWZ,gEAKgC,IAA1CmD,EAA0C5W,UAAAjK,OAAA,QAAAoI,IAAA6B,UAAA,GAAAA,UAAA,GAA1B,KAAM6W,EAAoB7W,UAAAjK,OAAA,QAAAoI,IAAA6B,UAAA,GAAAA,UAAA,GAAN,KAAMqH,EACrBtT,KAAKI,MAAtCkY,EADsDhF,EACtDgF,eAAgBM,EADsCtF,EACtCsF,aADsCnG,EAU1DzS,KAAKJ,MAPP8a,EAH4DjI,EAG5DiI,WACAC,EAJ4DlI,EAI5DkI,SACAM,EAL4DxI,EAK5DwI,WACAJ,EAN4DpI,EAM5DoI,QACAnN,EAP4D+E,EAO5D/E,SACA5M,EAR4D2R,EAQ5D3R,KACA8hB,EAT4DnQ,EAS5DmQ,QAIEf,GAAkB,EAGhBkB,EAAoBF,GAA8C,iBAA7BA,EAAc/O,WACnDkP,EAAkBF,GAA0C,iBAA3BA,EAAYhP,WAG7CmP,EAAkBF,EAAoB,MAAUA,GAAqBF,GAAkBnI,EACvFwI,EAAgBF,EAAkB,MAAUA,GAAmBF,GAAgBnI,EAGjFiH,EAAiBqB,EACjBE,EAAeD,EAGfzD,EAAkB,eAClBC,EAAgB,eAEpB,IAKE,GAHAmC,EAAkBhH,GAAWgI,IAAkBlI,EAG3CE,EAAS,CAEX,IAAMuI,EAAaxK,GAAgBgF,IAAOhF,GAAciF,IAAI5C,EAAY,QAAQ6C,SAE1EuF,EAAaJ,GAAmBrF,IAAOqF,GAAiBpF,IAAI5C,EAAY,QAAQ6C,SAEhFH,EAAS0F,EAAaD,EAAaC,EAAaD,EAKlDP,GAAiBI,EAAkBC,IACrCC,EAAevF,IAAOqF,GAAiBpF,IAAI,EAAG,QAAQC,SACtD+D,GAAkB,GAMhBiB,GAAeG,EAAkBC,IACnCtB,EAAiBsB,EACjBC,EAAeF,EACfpB,GAAkB,GAIhBsB,GAAgBA,EAAe7K,IACjC6K,EAAe7K,GAIbsJ,GAAkBA,EAAiBjE,IACrCiE,EAAiBjE,GAIfwF,GAAgBA,EAAexF,IACjCwF,EAAexF,GAIZ0C,aAAY1F,EAAUwI,IACzBzV,EAAS,OAAQkV,EAASO,GAK1BvB,GAAkBA,EAAiBtJ,IACrCsJ,EAAiBtJ,GAKfsJ,GAAkBA,EAAiBhJ,IACrCgJ,EAAiBhJ,GAIdyH,aAAY3F,EAAYkH,IAC3BlU,EAAS,OAAQ5M,EAAM8gB,GAIzBnC,EAAkBmC,EAAiBhE,IAAOgE,GAAgB0B,OAAO,eAAiB7D,EAClFC,EAAgByD,EAAevF,IAAOuF,GAAcG,OAAO,eAAiB7D,EAC5E,MAAOxe,IAIT,MAAO,CACL4gB,kBACAsB,eACAvB,iBACAnC,kBACAC,+DAIkB,IACZjQ,EAAazP,KAAKI,MAAlBqP,SAER,OACE1M,EAAAC,EAAAC,cAAA,UACEzD,KAAK,SACL8D,UAAU,iBACVigB,YAAavjB,KAAKuQ,mBAElBxN,EAAAC,EAAAC,cAAA,OACE0D,IAAKuQ,IACLtQ,IAAI,YACJtD,UAAS,wBAAAU,OAA0ByL,EAAW,WAAa,0DAMlDwR,GAAS,IAAArU,EAAA5M,KAAAwjB,EAMpBxjB,KAAKI,MAJPqf,EAFsB+D,EAEtB/D,gBACAC,EAHsB8D,EAGtB9D,cACAjF,EAJsB+I,EAItB/I,qBACAhL,EALsB+T,EAKtB/T,SALsB0D,EAepBnT,KAAKJ,MANPkB,EATsBqS,EAStBrS,KACA8hB,EAVsBzP,EAUtByP,QACAzN,EAXsBhC,EAWtBgC,gBACAzC,EAZsBS,EAYtBT,kBACAiD,EAbsBxC,EAatBwC,eACAkF,EAdsB1H,EActB0H,QAGI4I,EAAa5I,EAAU,cAAgB,GACzC6I,EAAqB,GACrBjU,GAAYoL,IACd6I,EAAsBjJ,GAAwBwG,IAAcxG,IAAyBwG,EAAW,cAAgB,IAGlH,IAAM0C,EAAe1C,EAAUxB,EAAkBC,EAC3CkE,EAAY3C,EAAUngB,EAAO8hB,EAEnC,OACE7f,EAAAC,EAAAC,cAAA,UACEzD,KAAK,SACL8D,UAAS,4BAAAU,OAA8Byf,EAA9B,KAAAzf,OAA4C0f,GACrDzM,WAAYjX,KAAK2f,eACjB4D,YAAa,SAACxL,GACR3R,IAAOma,YAAc,KACvBxI,EAAEpF,iBAEJ/F,EAAK2D,kBAAkB0Q,KAGzBle,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACE3C,MAAO4iB,GAAgB,GACvB7iB,KAAM8iB,EACNlW,SAAU,SAAAqK,GAAC,OAAInL,EAAKpL,SAAL1B,OAAAsB,EAAA,EAAAtB,CAAA,GACZmhB,EAAU,kBAAoB,gBAAkBlJ,EAAE9M,OAAOlK,SAE5DsU,YAAaM,EAAiBjD,EAAoB,GAClD4C,aAAa,MACb1Q,SAAUuQ,4CAWhB,OAFInV,KAAKJ,MADPib,QAaA9X,EAAAC,EAAAC,cAACC,EAAA,SAAD,KACEH,EAAAC,EAAAC,cAAA,OAAKK,UAAU,wBACbP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,iBACbP,EAAAC,EAAAC,cAAA,OACEK,UAAU,UACVqD,IAAKkd,IACLjd,IAAI,qBAGP5G,KAAK8jB,kBAAiB,IAEzB/gB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,cACfP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,wBACbP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,iBACbP,EAAAC,EAAAC,cAAA,OACEK,UAAU,WACVqD,IAAKod,IACLnd,IAAI,qBAGP5G,KAAK8jB,kBAAiB,IAExB9jB,KAAKgkB,uBA9BNjhB,EAAAC,EAAAC,cAACC,EAAA,SAAD,KACGlD,KAAK8jB,kBAAiB,GACtB9jB,KAAKgkB,6DAiCA,IAAA/O,EAAAjV,KAAAiU,EAYRjU,KAAKI,MAVPqP,EAFUwE,EAEVxE,SACA4I,EAHUpE,EAGVoE,gBACA6C,EAJUjH,EAIViH,aACAE,EALUnH,EAKVmH,YACA9C,EANUrE,EAMVqE,eACAM,EAPU3E,EAOV2E,aACA8F,EARUzK,EAQVyK,UACAjE,EATUxG,EASVwG,qBACAkE,EAVU1K,EAUV0K,WACAT,EAXUjK,EAWViK,OAXUhK,EAmBRlU,KAAKJ,MAJPib,EAfU3G,EAeV2G,QACAH,EAhBUxG,EAgBVwG,WACAC,EAjBUzG,EAiBVyG,SACAM,EAlBU/G,EAkBV+G,WAIF,OACElY,EAAAC,EAAAC,cAACghB,GAAD,CACE/W,IAAK,SAAA9H,GAAI,OAAI6P,EAAKkL,UAAY/a,GAC9BqK,WAAYA,EACZoL,QAASA,EACTxC,gBAAiBA,EACjB6C,aAAcA,EACdE,YAAaA,EACbV,WAAYA,EACZC,SAAUA,EACVrC,eAAgBA,EAChBM,aAAcA,EACdgC,gBAAiB5a,KAAK4a,gBACtBmD,kBAAmB/d,KAAK+d,kBACxBW,UAAWA,EACXjE,uBAAwBA,EACxBkE,WAAYA,EACZT,OAAQA,EACRjD,WAAYA,0CAQJ,IAAA1F,EAAAvV,KACJyP,EAAazP,KAAKI,MAAlBqP,SADIyF,EAQRlV,KAAKJ,MAJPqI,EAJUiN,EAIVjN,YACAyK,EALUwC,EAKVxC,kBACAiD,EANUT,EAMVS,eAIIE,EAAoBpG,EAAW,4BAA8B,4BAC7DyG,EAAejO,EAAc,QAAU,GACvCmO,EAZMlB,EAOVwF,WAK8B,gBAAkB,GAC5CvE,EAAsBR,EAAiB,mBAAqB,GAElE,OACE5S,EAAAC,EAAAC,cAAA,OACEK,UAAS,iDAAAU,OAAmDmS,GAC5DjJ,IAAK,SAAA9H,GAAI,OAAKmQ,EAAKjD,WAAalN,IAEhCrC,EAAAC,EAAAC,cAAA,OAAKK,UAAS,sBAAAU,OAAwB6R,EAAxB,MAAA7R,OAA8CkS,IAExDP,EAAiB,KACjB5S,EAAAC,EAAAC,cAAA,OAAKK,UAAS,gBAAAU,OAAkBoS,IAC7B1D,GAGL3P,EAAAC,EAAAC,cAAA,OAAKK,UAAU,yCACZtD,KAAK6f,iBAGT7f,KAAKkkB,gDAQH,IAAAzO,EAMHzV,KAAKJ,MAJPib,EAFKpF,EAELoF,QACAlV,EAHK8P,EAGL9P,KACAzB,EAJKuR,EAILvR,UACA+D,EALKwN,EAKLxN,YAIF,OAAK4S,EAYE7a,KAAK8f,cAVR/c,EAAAC,EAAAC,cAAC8E,EAAA,EAAD,CACEpC,KAAMA,EACNzB,UAAWA,EACX+D,YAAaA,GAEZjI,KAAK8f,sBA5sBSxa,cAqtBzB8Z,GAAW7Z,aAAe,CACxBsV,SAAS,EACTwE,UAAW,KACXC,QAAS,KACT3Z,KAAM,KACNzB,UAAW,KACX+D,YAAa,KACb0N,gBAAgB,EAChBR,iBAAiB,EACjByN,QAAS,KACTlQ,kBAAmB,KACnBgI,WAAY,KACZC,SAAU,KACVM,WAAY,GAqBCmE,UC9wBT+E,oLACK,IAAAnc,EAaHhI,KAAKJ,MAXPS,EAFK2H,EAEL3H,OACAqN,EAHK1F,EAGL0F,SACA/H,EAJKqC,EAILrC,KACAzB,EALK8D,EAKL9D,UACAkgB,EANKpc,EAMLoc,UACAxB,EAPK5a,EAOL4a,QACAvD,EARKrX,EAQLqX,UACAC,EATKtX,EASLsX,QACA+E,EAVKrc,EAULqc,iBACAC,EAXKtc,EAWLsc,eACArJ,EAZKjT,EAYLiT,WAGIhT,GAAeoc,GAAoBC,IAArB,GAAAtgB,OAA2C,GAAAA,OAAGqgB,EAAH,OAA0B,GAArErgB,OAA0EsgB,GAAkB,IAEhH,OACEvhB,EAAAC,EAAAC,cAAC8E,EAAA,EAAD,CACEpC,KAAMA,EACNzB,UAAWA,EACX+D,YAAaA,EACbE,aAAW,GAEXpF,EAAAC,EAAAC,cAAA,OAAKK,UAAU,yBACbP,EAAAC,EAAAC,cAACshB,GAAD,CACE7J,WAAYra,GAAUA,EAAO+jB,IAAc/jB,EAAO+jB,GAAWrjB,MAC7D4Z,SAAUta,GAAUA,EAAOuiB,IAAYviB,EAAOuiB,GAAS7hB,MACvD2M,SAAUA,EACV5M,KAAMsjB,EACNxB,QAASA,EACT/H,SAAO,EACPwE,UAAWA,EACXC,QAASA,EACTrX,YAAaA,EACbgT,WAAYA,aApCM3V,aA4C9B6e,GAAgB5e,aAAe,CAC7BI,KAAM,KACNzB,UAAW,KACXmb,UAAW,KACXC,QAAS,KACT+E,iBAAkB,KAClBC,eAAgB,KAChBjkB,OAAQ,KACR4a,WAAY,GAiBCkJ,oBCjETK,uBACJ,SAAAA,EAAY5kB,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAwkB,IACjB3kB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA0kB,GAAArkB,KAAAH,KAAMJ,KAEDQ,MAAQ,CACXqkB,WAAY,eAJG5kB,6EAQLkB,GACZ,IAAI,IAAAiH,EAMEhI,KAAKJ,MAJP8N,EAFA1F,EAEA0F,SACA5M,EAHAkH,EAGAlH,KACO4jB,EAJP1c,EAIAjH,MACA4jB,EALA3c,EAKA2c,UAGIC,GAAqC,IAA1BD,EAAUllB,aAAyBsB,IAAU2jB,EAAW,KAAO3jB,EAChF2M,EAASiX,EAAUnlB,KAAMsB,EAAM8jB,GAC/B,MAAO3jB,2CAKG,IACJ0jB,EAAc3kB,KAAKJ,MAAnB+kB,UAER,IAAKA,EAAUrlB,QAAUqlB,EAAUE,QACjC,OAAO,KAGT,IACE,OACE9hB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,mBACbP,EAAAC,EAAAC,cAAA,UAAK0hB,EAAUrlB,OAEbqlB,EAAUE,SACV9hB,EAAAC,EAAAC,cAAC6hB,GAAA,EAAD,CACE9d,GAAI2d,EAAUplB,MAEdwD,EAAAC,EAAAC,cAAA,SAAI0hB,EAAUE,WAKtB,MAAO5jB,IAIT,OAAO,wCAGE8jB,EAAUlhB,EAAOmhB,GAAW,IAAApiB,EAAA5C,KAC7BykB,EAAezkB,KAAKI,MAApBqkB,WAD6BnY,EAERtM,KAAKJ,MAA1B+kB,EAF6BrY,EAE7BqY,UAAW5jB,EAFkBuL,EAElBvL,MAEnB,IACE,IAAMkkB,EAAcN,EAAUllB,cAAgBsB,GAAmB,IAAV8C,GAAiB9C,GAASA,IAAUgkB,EAAShkB,MAC9FgD,EAAG,GAAAC,OAAM2gB,EAAUplB,KAAhB,YAAAyE,OAA+BH,GAExC,OACEd,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEK,IAAKA,EACLwC,GAAI,EACJjD,UAAU,0BAEVP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,gCACbP,EAAAC,EAAAC,cAAA,UACEzD,KAAK,SACL8D,UAAS,kBAAAU,OAAoBihB,GAAc,WAAlC,KAAAjhB,OAAgDygB,GACzD5f,QAAS,WACPjC,EAAKpB,SAAS,CACZijB,WAAY5gB,EAAQ,IAAM,EAAI,aAAe,eAC5C,kBAAMjB,EAAKsiB,cAAcH,EAAShkB,WAGvCgC,EAAAC,EAAAC,cAAA,OAAKK,UAAS,MAAAU,OAAQihB,GAAc,eACpCliB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,SACbP,EAAAC,EAAAC,cAAA,OAAK0D,IAAKoe,EAASI,SAAUve,IAAG,GAAA5C,OAAKD,EAAL,YAGpChB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,yBAEX0hB,GACAjiB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,iBAEXyhB,EAASF,SACT9hB,EAAAC,EAAAC,cAAC6hB,GAAA,EAAD,CACE9d,GAAIjD,GAEJhB,EAAAC,EAAAC,cAAA,SAAI8hB,EAASF,WAKrB9hB,EAAAC,EAAAC,cAAA,OAAKK,UAAW,CAAC,OAAQ0hB,EAAY,eAAiB,IAAI3c,KAAK,MAC7DtF,EAAAC,EAAAC,cAAA,SAAI8hB,EAASzlB,OACbyD,EAAAC,EAAAC,cAAA,KAAGK,UAAU,aAAayhB,EAASK,eAM7C,MAAOnkB,IAIT,OAAO,6CAGO,IAAA4F,EAAA7G,KACN2kB,EAAc3kB,KAAKJ,MAAnB+kB,UAER,IACE,IAAMK,EAAY3jB,IAAEmS,KAAKmR,EAAUU,QAAS,SAAAC,GAAM,OAAIA,GAAUA,EAAOT,UAEvE,OAAOxjB,IAAEgB,IAAIsiB,EAAUU,QAAS,SAACC,EAAQzhB,GAAT,OAAmBgD,EAAK0e,WAAWD,EAAQzhB,EAAOmhB,KAClF,MAAO/jB,IAIT,OAAO,sCAGA,IAAAsL,EACuCvM,KAAKJ,MAA3C+kB,EADDpY,EACCoY,UAAW1c,EADZsE,EACYtE,YAAa/D,EADzBqI,EACyBrI,UAEhC,OAAKygB,EAKH5hB,EAAAC,EAAAC,cAAC8E,EAAA,EAAD,CACEzE,UAAU,yBACV2E,YAAaA,EACb/D,UAAWA,GAEXnB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,6BACZtD,KAAKwlB,cACNziB,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAKJ,UAAU,oBAAoBK,WAAS,GACzC3D,KAAKylB,mBAZL,YAjIgBngB,cAqJ7Bkf,GAAejf,aAAe,CAC5BxE,MAAO,KACPkH,YAAa,KACb/D,UAAW,MAaEsgB,mBCzKTkB,uBACJ,SAAAA,EAAY9lB,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA0lB,IACjB7lB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA4lB,GAAAvlB,KAAAH,KAAMJ,KAEDkR,WAAajR,EAAKiR,WAAWrQ,KAAhBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KAHDA,0EAMRkY,EAAG4N,GAAQ,IACZC,EAAwB5lB,KAAKJ,MAA7BgmB,qBAEJD,IAAYA,GAAyB,KAAf5N,EAAEoK,WAC1ByD,qCAIK,IAAAhjB,EAAA5C,KAAAgI,EAMHhI,KAAKJ,MAJPkB,EAFKkH,EAELlH,KACAC,EAHKiH,EAGLjH,MACAzB,EAJK0I,EAIL1I,MACAqB,EALKqH,EAKLrH,cAGF,OAAKG,EAKHiC,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAKJ,UAAU,OAAOiD,GAAI,GAAIG,GAAI,EAAGmf,GAAI,GACvC9iB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,4BACbP,EAAAC,EAAAC,cAAA,KAAGK,UAAU,SAAShE,GACtByD,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAKJ,UAAU,WAAWK,WAAS,GACjCZ,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAKJ,UAAU,mDAAmDiD,GAAI,IACpExD,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEJ,UAAU,kBACV9D,KAAK,SACLuB,MAAOA,GAAS,GAChB2M,SAAU,SAAAqK,GAAC,OAAIpX,EAAcG,EAAMiX,EAAE9M,OAAOlK,OAAS6R,KAAKC,IAAI,EAAGD,KAAKkT,MAAM/N,EAAE9M,OAAOlK,UACrF4V,OAAQ,SAAAoB,GAAC,OAAInV,EAAKkO,WAAWiH,GAAG,IAChCd,WAAY,SAAAc,GAAC,OAAInV,EAAKkO,WAAWiH,GAAG,IACpC1C,YAAY,qBAhBf,YAxBc/P,cAkD3BogB,GAAangB,aAAe,CAC1BxE,MAAO,MAeM2kB,UC7DTK,uBACJ,SAAAA,EAAYnmB,GAAO,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA+lB,GAAA,IAAA/d,GACjBnI,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAimB,GAAA5lB,KAAAH,KAAMJ,KAE4BA,MAA1B+kB,EAHS3c,EAGT2c,UAAW5jB,EAHFiH,EAGEjH,MACfV,EAAS,GAEb,IACEA,EAASgB,IAAE8X,OAAOwL,EAAUU,QAAS,SAACzR,EAAQoS,GAC5C,IAAMC,EAAe5kB,IAAEmS,KAAKzS,EAAO,SAAAmlB,GAAE,OAAIA,EAAGnlB,QAAUilB,EAAEjlB,QAOxD,OALA6S,EAAOtR,KAAK,CACVyB,IAAKiiB,EAAEjlB,MACPzB,MAAO0mB,EAAE1mB,MACTyB,MAAQklB,GAAgBA,EAAaE,OAAU,OAE1CvS,GACN,IACH,MAAO3S,IAjBQ,OAqBjBpB,EAAKO,MAAQ,CACXC,SACA8lB,MAAO,GAGTtmB,EAAKc,cAAgBd,EAAKc,cAAcF,KAAnBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KAErBA,EAAKumB,cAAgBvmB,EAAKumB,cAAc3lB,KAAnBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KACrBA,EAAK+lB,oBAAsB/lB,EAAK+lB,oBAAoBnlB,KAAzBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KA7BVA,6EAiCLkE,EAAKhD,GAAO,IAChBV,EAAWL,KAAKI,MAAhBC,OAER,IACE,IAAMukB,EAAQ9kB,OAAAumB,GAAA,EAAAvmB,CAAOO,GACfimB,EAAQjlB,IAAEmS,KAAKoR,EAAU,SAAAoB,GAAC,OAAIA,EAAEjiB,MAAQA,IAE1CuiB,IACFA,EAAMvlB,MAAQA,EACdf,KAAKwB,SAAS,CACZnB,OAAQukB,KAGZ,MAAO3jB,6CAKK,IACNZ,EAAWL,KAAKI,MAAhBC,OAER,IACE,OAAOgB,IAAE8X,OAAO9Y,EAAQ,SAACuT,EAAQoS,GAC/B,OAAIA,EAAEjlB,MAAQ,EACL6S,EAASoS,EAAEjlB,MAGb6S,GACN,GACH,MAAO3S,IAIT,OAAO,+KAICZ,EAAWL,KAAKI,MAAhBC,SACmBL,KAAKJ,MAAxB8N,aAAU5M,kBAGZqlB,EAAQ,EACNI,EAAUllB,IAAE8X,OAAO9Y,EAAQ,SAACuT,EAAQoS,GASxC,OARIA,EAAEjlB,MAAQ,IACZolB,GAASH,EAAEjlB,MACX6S,EAAOtR,KAAK,CACVvB,MAAOilB,EAAEjiB,IACToiB,MAAOH,EAAEjlB,SAIN6S,GACN,IAEH5T,KAAKwB,SAAS,CACZ2kB,MAAOnmB,KAAKomB,2BAGR1Y,EAAS,YAAa5M,EAAMylB,2BAC5B7Y,EAAS,SAAU,kBAAmByY,8FAKvC,sJAGM,IACLA,EAAUnmB,KAAKI,MAAf+lB,MACAxB,EAAc3kB,KAAKJ,MAAnB+kB,UAER,IACE,OACE5hB,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAKJ,UAAU,kBAAkBK,WAAS,GACxCZ,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAKJ,UAAU,mBAAmBoD,GAAI,CAAErH,KAAM,EAAGmnB,MAAO,KACxDzjB,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAKgD,GAAI,CAAErH,KAAM,EAAGmnB,MAAO,GAAKjgB,GAAI,CAAElH,KAAM,GAAImnB,MAAO,IACrDzjB,EAAAC,EAAAC,cAAA,UAAK0hB,EAAUrlB,QAEjByD,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAKgD,GAAI,CAAErH,KAAM,EAAGmnB,MAAO,GAAKjgB,GAAI,CAAElH,KAAM,GAAImnB,MAAO,IACrDzjB,EAAAC,EAAAC,cAAA,KAAGK,UAAU,aAAa6iB,EAA1B,wBAEFpjB,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAKgD,GAAI,CAAErH,KAAM,GAAImnB,MAAO,GAAKjgB,GAAI,CAAElH,KAAM,GAAImnB,MAAO,IACtDzjB,EAAAC,EAAAC,cAAA,UAAK,kEAIX,MAAOhC,IAIT,OAAO,mDAGa,IAAA2B,EAAA5C,KACZK,EAAWL,KAAKI,MAAhBC,OACAskB,EAAc3kB,KAAKJ,MAAnB+kB,UAER,IACE,OAAQtjB,IAAE8X,OAAO9Y,EAAQ,SAACuT,EAAQ0S,EAAOviB,GAYvC,OAXA6P,EAAOtR,KACLS,EAAAC,EAAAC,cAACwjB,GAAD,CACE1iB,IAAG,aAAAC,OAAe2gB,EAAUplB,KAAzB,KAAAyE,OAAiCD,GACpCjD,KAAMwlB,EAAMviB,IACZhD,MAAOulB,EAAMvlB,MACbzB,MAAOgnB,EAAMhnB,MACbqB,cAAeiC,EAAKjC,cACpBilB,oBAAqBhjB,EAAKgjB,uBAIvBhS,GACN,IACH,MAAO3S,IAIT,OAAO,sCAEA,IAAAsL,EACuCvM,KAAKJ,MAA3C+kB,EADDpY,EACCoY,UAAW1c,EADZsE,EACYtE,YAAa/D,EADzBqI,EACyBrI,UAEhC,OAAKygB,EAKH5hB,EAAAC,EAAAC,cAAC8E,EAAA,EAAD,CACEE,YAAaA,EACb3E,UAAU,mBACVY,UAAWA,GAEXnB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,uBACZtD,KAAK0mB,eACN3jB,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAKJ,UAAU,qBACZtD,KAAK2mB,yBAZL,YA5JUrhB,cAgLvBygB,GAASxgB,aAAe,CACtBxE,MAAO,KACPkH,YAAa,KACb/D,UAAW,MAaE6hB,+BChMTa,uBAMJ,SAAAA,EAAYhnB,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA4mB,IACjB/mB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA8mB,GAAAzmB,KAAAH,KAAMJ,KASDQ,MAAQ,CACXqP,SAAU,MAGZ5P,EAAKgnB,SAAWhnB,EAAKgnB,SAASpmB,KAAdX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KAChBA,EAAKinB,WAAajnB,EAAKinB,WAAWrmB,KAAhBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KAClBA,EAAK0Q,kBAAoB1Q,EAAK0Q,kBAAkB9P,KAAvBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KACzBA,EAAKuQ,mBAAqBvQ,EAAKuQ,mBAAmB3P,KAAxBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KAE1BA,EAAKknB,YAAclnB,EAAKknB,YAAYtmB,KAAjBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KAnBFA,mFAwBjBsO,IAASiD,iBAAiB,YAAapR,KAAKoQ,mEAI5CjC,IAASuD,oBAAoB,YAAa1R,KAAKoQ,qDAGxC4W,GACPhnB,KAAKinB,WAAWC,eAAeF,wCAI/BhnB,KAAKinB,WAAWE,8DAQC9U,GACIrS,KAAKI,MAAlBqP,UAKNzP,KAAKsS,YACLtS,KAAKonB,oBACHpnB,KAAKsS,WAAWC,SAASF,EAAMpH,UAAYjL,KAAKonB,kBAAkB7U,SAASF,EAAMpH,SAGnFjL,KAAKwB,SAAS,CACZiO,UAAU,gDAKI,IACVA,EAAazP,KAAKI,MAAlBqP,SACRzP,KAAKwB,SAAS,CAAEiO,UAAWA,gFAGX4C,EAAOvR,EAAMumB,wGAC7BhV,EAAMM,mBAQF3S,KAAKJ,MANP0nB,cACAC,iBACAC,iBACAC,iBACApnB,WACAqN,aAGIga,EAAernB,EAAOinB,IAAcjnB,EAAOinB,GAAWvmB,OAAU,EAChE4mB,EAAkBtnB,EAAOknB,IAAiBlnB,EAAOknB,GAAcxmB,OAAU,EAE3E6mB,EAAWF,EACXG,EAAcF,EACZG,EAAeznB,EAAOonB,IAAgD,gBAA/BpnB,EAAOonB,GAAc1mB,MAEjD,EACXgnB,EAAWD,EAAe,GAAK,EACjB,EACA,EAEhBhnB,IAASwmB,EACXM,EAAWhV,KAAKpD,IAAIoD,KAAKC,IANV,EAMwB+U,GAAYP,EAAQ,GAAK,IAAKU,GAErEF,EAAcjV,KAAKpD,IAAIoD,KAAKC,IANV,EAM2BgV,GAAeR,EAAQ,GAAK,IALvD,GAQhBQ,EAAc,IAChBD,EAAWhV,KAAKpD,IAAIoD,KAAKC,IAAI,EAAG+U,GAAW,IAGzCF,IAAgBE,oCACZla,EAAS,SAAU4Z,EAAWM,cAElCD,IAAmBE,oCACfna,EAAS,SAAU6Z,EAAcM,cAGnCG,EAAW3nB,GAAUA,EAAOmnB,IAAiBnnB,EAAOmnB,GAAczmB,QAEpE8mB,EAAc,uBACC,WAAbG,oCACIta,EAAS,OAAQ8Z,EAAc,+CAE9BI,EAAW,uBACH,UAAbI,oCACIta,EAAS,OAAQ8Z,EAAc,4CAEjB,eAAbQ,oCACHta,EAAS,OAAQ8Z,EAAc,yBAGjCS,EAAW5nB,GAAUA,EAAOonB,IAAiBpnB,EAAOonB,GAAc1mB,QACpE6mB,EAAW,GAAqB,IAAhBC,uBACD,gBAAbI,oCACIva,EAAS,YAAa+Z,EAAc,wJAKvC,IAAA7kB,EAAA5C,KACCyP,EAAazP,KAAKI,MAAlBqP,SADDnD,EAWHtM,KAAKJ,MAPP+F,EAJK2G,EAIL3G,KACAzB,EALKoI,EAKLpI,UACA+D,EANKqE,EAMLrE,YACAqf,EAPKhb,EAOLgb,UACAC,EARKjb,EAQLib,aACAlnB,EATKiM,EASLjM,OACA6nB,EAVK5b,EAUL4b,OAGIvQ,EAAa1P,EAAc,QAAU,GACrC6N,EAAarG,EAAW,WAAa,aACvCmP,EAAcnP,EAAW,wBAA0B,wBACvDmP,EAA2B,OAAbnP,EAAoB,6BAA+BmP,EAEjE,IAAMgJ,EAAYvnB,EAAOinB,IAAcjnB,EAAOinB,GAAWvmB,OAAU,EAC7D8mB,EAAexnB,EAAOknB,IAAiBlnB,EAAOknB,GAAcxmB,OAAU,EAEtE0V,EAAchH,EAAW,YAAc,aAE7C,OACE1M,EAAAC,EAAAC,cAAC8E,EAAA,EAAD,CACEpC,KAAMA,EACNzB,UAAWA,EACX+D,YAAaA,GAEblF,EAAAC,EAAAC,cAAA,OAAKK,UAAU,qBACbP,EAAAC,EAAAC,cAAA,OACEK,UAAS,qBAAAU,OAAuB2T,EAAvB,KAAA3T,OAAqCyS,GAC9CvJ,IAAK,SAAA9H,GAAI,OAAIxC,EAAKwkB,kBAAoBhiB,IAEtCrC,EAAAC,EAAAC,cAAA,OAAKK,UAAU,iBACbP,EAAAC,EAAAC,cAAA,OACE0D,IAAKwhB,KACLvhB,IAAI,gBAGR7D,EAAAC,EAAAC,cAAA,OACEK,UAAU,aACVuB,QAAS,kBAAMjC,EAAK2N,qBACpB0G,WAAY,aACZrC,KAAK,SACLC,UAAW,GAEX9R,EAAAC,EAAAC,cAAA,SAAI2kB,EAAJ,WAAsBC,EAAtB,cAEF9kB,EAAAC,EAAAC,cAAA,OACEK,UAAU,aACVuB,QAAS,kBAAMjC,EAAK2N,qBACpB0G,WAAY,aACZrC,KAAK,SACLC,UAAW,GAEX9R,EAAAC,EAAAC,cAAA,OACE0D,IAAKuQ,IACLtQ,IAAI,YACJtD,UAAWwS,KAGf/S,EAAAC,EAAAC,cAAA,OACEK,UAAS,kBAAAU,OAAoB4a,GAC7B1R,IAAK,SAAA9H,GAAI,OAAIxC,EAAK0P,WAAalN,IAE/BrC,EAAAC,EAAAC,cAAA,OAAKK,UAAU,mBACbP,EAAAC,EAAAC,cAAA,UAAQ4B,QAAS,SAAAkT,GAAC,OAAInV,EAAKmkB,YAAYhP,EAAGuP,GAAW,KAAQvkB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,uBAC5EP,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,QAAMK,UAAU,SAASskB,GACzB7kB,EAAAC,EAAAC,cAAA,QAAMK,UAAU,QAAhB,WAEFP,EAAAC,EAAAC,cAAA,UAAQ4B,QAAS,SAAAkT,GAAC,OAAInV,EAAKmkB,YAAYhP,EAAGuP,GAAW,KAAOvkB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,sBAE7EP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,oBACX4kB,GAAUnlB,EAAAC,EAAAC,cAAA,UAAQ4B,QAAS,SAAAkT,GAAC,OAAInV,EAAKmkB,YAAYhP,EAAGwP,GAAc,KAAQxkB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,uBAC3FP,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,QAAMK,UAAU,SAASukB,GACzB9kB,EAAAC,EAAAC,cAAA,QAAMK,UAAU,QAAhB,cAEA4kB,GAAUnlB,EAAAC,EAAAC,cAAA,UAAQ4B,QAAS,SAAAkT,GAAC,OAAInV,EAAKmkB,YAAYhP,EAAGwP,GAAc,KAAOxkB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,iCAtNpFgC,cAgOtBshB,GAAQrhB,aAAe,CACrBI,KAAM,KACNzB,UAAW,KACX+D,YAAa,KACb5H,OAAQ,GACR6nB,QAAQ,GAiBKtB,UCzPTwB,4LACK,IAAApgB,EAUHhI,KAAKJ,MARPkB,EAFKkH,EAELlH,KACA6E,EAHKqC,EAGLrC,KACAzB,EAJK8D,EAIL9D,UACA+D,EALKD,EAKLC,YACAod,EANKrd,EAMLqd,QACA3X,EAPK1F,EAOL0F,SACA3M,EARKiH,EAQLjH,MACA1B,EATK2I,EASL3I,KAGF,OACE0D,EAAAC,EAAAC,cAAC8E,EAAA,EAAD,CACEpC,KAAMA,EACNzB,UAAWA,EACX+D,YAAaA,GAEblF,EAAAC,EAAAC,cAAA,OAAKK,UAAU,qBACbP,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEJ,UAAU,+BACVK,WAAS,GAGPtC,IAAEgB,IAAIgjB,EAAS,SAACC,EAAQzhB,GACtB,IAAMwkB,EAAgBtnB,IAAUukB,EAAOvkB,MAAQ,WAAa,GAE5D,OACEgC,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACE6C,GAAI,GACJC,GAAInH,EACJ0E,IAAG,GAAAC,OAAKshB,EAAOvkB,MAAZ,KAAAiD,OAAqBH,IAExBd,EAAAC,EAAAC,cAAA,UACEzD,KAAK,SACL8D,UAAW+kB,EACXxjB,QAAS,kBAAM6I,EAAS,YAAa5M,EAAMwkB,EAAOvkB,SAEjDukB,EAAOxW,2BAvCNxJ,cAoDxB8iB,GAAU7iB,aAAe,CACvBxE,MAAO,KACP4E,KAAM,KACNzB,UAAW,KACX+D,YAAa,KACb5I,KAAM,GAeO+oB,UClETtkB,eACJ,SAAAA,EAAYlE,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA8D,IACjBjE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAgE,GAAA3D,KAAAH,KAAMJ,KAEDQ,MAAQ,CACXilB,QAAS,MAGXxlB,EAAKyoB,WAAazoB,EAAKyoB,WAAW7nB,KAAhBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KAPDA,mFAWjBG,KAAKsoB,aACLtoB,KAAKuoB,uDAGYjX,GACjBtR,KAAKsoB,WAAWhX,GAChBtR,KAAKuoB,UAAUjX,EAAUhR,2CAGhBgR,GACT,IAAI,IACM+T,EAAYrlB,KAAKI,MAAjBilB,QADNrd,EAE+BhI,KAAKJ,MAA9B4oB,EAFNxgB,EAEMwgB,UAAWvkB,EAFjB+D,EAEiB/D,WACfA,IAAaA,EAAUwkB,sBACvBnX,GAAc+T,GAAYphB,EAAUwkB,uBAAyBnX,EAAUrN,UAAUwkB,sBACnFzoB,KAAKwB,SAAS,CACZ6jB,QAAShkB,IAAEgB,IAAImmB,EAAUvkB,EAAUwkB,sBAAuB,SAAAzC,GAAC,MAAK,CAAElX,aAAckX,EAAGjlB,MAAOilB,OAG9F,MAAO/kB,GAEPynB,QAAQC,IAAI1nB,sCAIN2nB,GAAY,IAAAtc,EAMhBtM,KAAKJ,MAJPS,EAFkBiM,EAElBjM,OACAM,EAHkB2L,EAGlB3L,cACAsD,EAJkBqI,EAIlBrI,UACA3D,EALkBgM,EAKlBhM,OAGF,IACE,IAAMQ,EAAOmD,GAAaA,EAAU1E,KAChCc,GAAUA,EAAOS,KAEdT,EAAOS,GAAMtB,MAChBmB,EAAcsD,EAAUzE,KAAMsB,EAAMT,EAAOS,GAAMC,QAMhC,oBAAnBkD,EAAUzE,OACiB,IAA1ByE,EAAUxE,aACVY,EAAOS,IAERH,EAAcsD,EAAUzE,KAAMsB,EAAMmD,EAAUohB,QAAQ,GAAGtkB,OAG3D,IAAME,EAAQX,GAAUA,EAAOQ,GACzB+nB,EAAYD,GAAcA,EAAW9nB,GAEvCG,IAAU4nB,GAAa7oB,KAAKoF,MAE9BgB,IAAOC,SAAS,CACd2L,IAAKhS,KAAKoF,KAAK0M,wBAAwBgX,EACvCpI,KAAM,EACNqI,SAAU,WAGd,MAAO9nB,2CAKG,IACJokB,EAAYrlB,KAAKI,MAAjBilB,QADI9Y,EAYRvM,KAAKJ,MARPqE,EAJUsI,EAIVtI,UACA5D,EALUkM,EAKVlM,OACAM,EANU4L,EAMV5L,cACAL,EAPUiM,EAOVjM,OACAqV,EARUpJ,EAQVoJ,eACAzR,EATUqI,EASVrI,UACAoT,EAVU/K,EAUV+K,eACA4Q,EAXU3b,EAWV2b,OAGIpnB,EAAOmD,GAAaA,EAAU1E,KAC9BwB,EAAQV,GAAUA,EAAOS,IAAST,EAAOS,GAAMC,MAC/CE,EAAQX,GAAUA,EAAOQ,GAE/B,GAAImD,EAAW,CACb,GAAuB,YAAnBA,EAAUzE,KACZ,OAAO,KAFI,IAKLwpB,EAAe/kB,EAAf+kB,WAEJC,GAAe,EACnB,IACE5nB,IAAE6nB,KAAKF,GAAc,GAAI,SAACG,EAAWtlB,GACnC,IAAMulB,EAAU/oB,EAAO8oB,EAAUplB,KAAKhD,QAAUooB,EAAUpoB,MAExDkoB,EADY,IAAVplB,EACaulB,EAEmB,OAAnBD,EAAU3pB,KAAgB4pB,GAAWH,EAAeG,GAAWH,IAGlF,MAAOlR,GACPkR,GAAe,EAGjB,IAAKA,EACH,OAAO,KAGT,OAAQhlB,EAAUzE,MAChB,IAAK,QACL,IAAK,SACL,IAAK,OACL,IAAK,OACL,IAAK,WACL,IAAK,WACL,IAAK,SACH,OACEuD,EAAAC,EAAAC,cAAComB,EAAD,CACE7pB,KAAMyE,EAAUzE,KAChBuB,MAAOA,EACP2M,SAAU/M,EACVG,KAAMA,EACNmH,YAAahH,EACbwW,SAAUxT,EAAUwT,SACpB/E,kBAAmBzO,EAAU3E,MAC7BqW,eAAgBA,EAChBzR,UAAWA,EACXyB,KAAM1B,EAAU6K,aAChBwI,eAAgBA,IAItB,IAAK,SACL,IAAK,kBACH,OACEvU,EAAAC,EAAAC,cAAC8L,EAAA,EAAD,CACEM,WAA+B,oBAAnBpL,EAAUzE,KACtBuB,MAAOA,EACP2M,SAAU/M,EACVG,KAAMA,EACNmH,YAAahH,EACbyR,kBAAmBzO,EAAU3E,MAC7B6P,SAAUlL,EAAUohB,SAAWA,EAC/B1P,eAAgBA,EAChBzR,UAAWA,EACXyB,KAAM1B,EAAU6K,eAItB,IAAK,WACH,OACE/L,EAAAC,EAAAC,cAACwK,EAAA,EAAD,CACE1M,MAAOA,EACPD,KAAMA,EACN6E,KAAM1B,EAAU3E,MAChBoO,SAAU/M,EACVsH,YAAahH,EACbiD,UAAWA,IAIjB,IAAK,kBACH,OACEnB,EAAAC,EAAAC,cAACqmB,GAAD,CACEvoB,MAAOA,EACP2M,SAAU/M,EACVG,KAAMA,EACN6jB,UAAW1gB,EACXgE,YAAahH,EACbiD,UAAWA,EACXyB,KAAM1B,EAAU6K,eAItB,IAAK,YACH,OACE/L,EAAAC,EAAAC,cAACsmB,GAAD,CACE5E,UAAW1gB,EACXlD,MAAOA,EACP2M,SAAU/M,EACVG,KAAMA,EACNmH,YAAahH,EACbiD,UAAWA,EACXyB,KAAM1B,EAAU6K,eAItB,IAAK,aACH,IAAIsV,EAAY,aACZxB,EAAU,WAEd,IACEwB,EAAYngB,EAAUulB,OAASvlB,EAAUulB,MAAM,GAC/C5G,EAAU3e,EAAUulB,OAASvlB,EAAUulB,MAAM,GAC7C,MAAOC,IAIT,OACE1mB,EAAAC,EAAAC,cAACymB,GAAD,CACErpB,OAAQA,EACRqN,SAAU/M,EACVyjB,UAAWA,EACXxB,QAASA,EACT3a,YAAa3H,EACb+e,UAAWpb,EAAU0lB,SACrBrK,QAASrb,EAAU2lB,SACnBvF,iBAAkB/jB,GAAUA,EAAO8jB,GACnCE,eAAgBhkB,GAAUA,EAAOsiB,GACjC1e,UAAWA,EACXyR,eAAgBA,EAEhBsF,WAAYhX,EAAU4lB,cAI5B,IAAK,OACH,OACE9mB,EAAAC,EAAAC,cAACshB,GAAD,CACE5e,KAAM1B,EAAU6K,aAChB4L,WAAY3Z,EACZ2M,SAAU/M,EACVG,KAAMA,EACN4R,kBAAmBzO,EAAU3E,MAC7B2I,YAAahH,EACb0U,eAAgBA,EAChBzR,UAAWA,EACXmb,UAAWpb,EAAU0lB,SACrBrK,QAASrb,EAAU2lB,WAIzB,IAAK,UACH,OACE7mB,EAAAC,EAAAC,cAAC6mB,GAAD,CACEnkB,KAAM1B,EAAU0B,KAChBtF,OAAQA,EACRqN,SAAU/M,EACV2mB,UAAU,YACVC,aAAa,eACbC,aAAa,YACbC,aAAa,YACbxf,YAAahH,EACbiD,UAAWA,EACXgkB,OAAQA,IAId,IAAK,gBACL,IAAK,YACH,OACEnlB,EAAAC,EAAAC,cAAC8mB,GAAD,CACEpkB,KAAM1B,EAAU6K,aAChB/N,MAAOA,EACP2M,SAAU/M,EACVG,KAAMA,EACNukB,QAASphB,EAAUohB,QACnBpd,YAAahH,EACbiD,UAAWA,EACX7E,KAAM4E,EAAU+lB,WAItB,QAAS,OAAO,MAIpB,OAAO,sCAGA,IAAApnB,EAAA5C,KACCiE,EAAcjE,KAAKJ,MAAnBqE,UAER,OAAKA,EAKHlB,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAK6C,GAAI,GAAIC,GAAIvC,EAAU5E,MAAQ,IACjC0D,EAAAC,EAAAC,cAAA,OAAKiK,IAAK,SAAA9H,GAAI,OAAIxC,EAAKwC,KAAOA,IAC3BpF,KAAKiqB,gBANH,YAhSgB3kB,aA6S7BxB,GAAeyB,aAAe,CAC5BlF,OAAQ,GACRC,OAAQ,GACRqV,gBAAgB,EAChBzR,UAAW,KACXskB,UAAW,KACXlR,eAAgB,KAChB4Q,QAAQ,GAmBKzgB,sBAJS,SAAArH,GAAK,MAAK,CAChCooB,UAAWpoB,EAAM8pB,UAAU1B,YAGd/gB,CAAyB3D,sIC7UlCghB,sBACJ,SAAAA,EAAYllB,GAAO,IAAAC,EAAA,OAAAC,OAAA6L,EAAA,EAAA7L,CAAAE,KAAA8kB,IACjBjlB,EAAAC,OAAA8L,EAAA,EAAA9L,CAAAE,KAAAF,OAAA+L,EAAA,EAAA/L,CAAAglB,GAAA3kB,KAAAH,KAAMJ,KAEDQ,MAAQ,CACXyC,QAAQ,GAGVhD,EAAK6O,OAAS7O,EAAK6O,OAAOjO,KAAZX,OAAAiM,EAAA,EAAAjM,QAAAiM,EAAA,EAAAjM,CAAAD,KAPGA,0GAcV,IAAA+C,EAAA5C,KACC6C,EAAW7C,KAAKI,MAAhByC,OADDmF,EAEwBhI,KAAKJ,MAA5BoH,EAFDgB,EAEChB,GAAImjB,EAFLniB,EAEKmiB,eAEZ,OACEpgB,EAAA/G,EAAAC,cAAA,OAAKK,UAAU,sBACbyG,EAAA/G,EAAAC,cAACmnB,EAAA,EAAD,CACEnf,OAAQjE,EACRnE,OAAQA,EACR6L,OAAQ,kBAAM9L,EAAKpB,SAAS,CAAEqB,QAAQ,KACtCS,UAAU,gBACV6mB,eAAgB,CAACA,EAAgB,wBAAwB9hB,KAAK,KAC9DgiB,eAAe,uBACfC,UAAU,cAETtqB,KAAKJ,MAAM0I,UAEdyB,EAAA/G,EAAAC,cAAA,OACE+D,GAAIA,EACJL,IAAK4jB,IACL3jB,IAAI,cACJ2W,aAAc,kBAAM3a,EAAKpB,SAAS,CAAEqB,QAAQ,eApChCyC,cA2CtBwf,EAAQvf,aAAe,CACrB4kB,eAAgB,IAQHrF,2BCtEfnd,EAAAC,QAAiBC,EAAAC,EAAuB,uGCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,wKCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,wWCwBlCb,sMAEFb,IAAOokB,OAAO,EAAG,6CAIjB,OACEzgB,EAAA/G,EAAAC,cAACmnB,EAAA,EAAD,CAAK9mB,UAAU,sBAAsBK,WAAS,GAC5CoG,EAAA/G,EAAAC,cAACmnB,EAAA,EAAD,CAAK9mB,UAAU,mBAAmBiD,GAAI,GAAIC,GAAI,GAC5CuD,EAAA/G,EAAAC,cAACwnB,EAAA,cAAD,CAAennB,UAAU,qBAAqBqD,IAAK+jB,IAAW9jB,IAAI,uBAEpEmD,EAAA/G,EAAAC,cAACmnB,EAAA,EAAD,CAAK9mB,UAAU,kBAAkBiD,GAAI,GAAIC,GAAI,GAC3CuD,EAAA/G,EAAAC,cAAA,mCACA8G,EAAA/G,EAAAC,cAAA,uFACA8G,EAAA/G,EAAAC,cAACmnB,EAAA,EAAD,CAAKzmB,WAAS,GACZoG,EAAA/G,EAAAC,cAACmnB,EAAA,EAAD,CAAK9mB,UAAU,2CAA2CiD,GAAI,GAC5DwD,EAAA/G,EAAAC,cAAA,KAAGuH,KAAK,+DACNT,EAAA/G,EAAAC,cAACwnB,EAAA,cAAD,CACE9jB,IAAKgkB,IACL/jB,IAAI,eACJtD,UAAU,gBAKhByG,EAAA/G,EAAAC,cAACmnB,EAAA,EAAD,CAAK9mB,UAAU,2CAA2CiD,GAAI,GAC5DwD,EAAA/G,EAAAC,cAAA,KAAGuH,KAAK,iFACNT,EAAA/G,EAAAC,cAACwnB,EAAA,cAAD,CACE9jB,IAAKikB,IACLhkB,IAAI,gBACJtD,UAAU,8DAWP,IACTunB,EAAY7qB,KAAKJ,MAAjBirB,QAER,OACE9gB,EAAA/G,EAAAC,cAACoJ,EAAA,SAAD,KACGwe,GAAW9gB,EAAA/G,EAAAC,cAAA,OAAKK,UAAU,8BAC3ByG,EAAA/G,EAAAC,cAAA,OAAKK,UAAU,+BACdunB,GAAW9gB,EAAA/G,EAAAC,cAAA,OAAKK,UAAU,mEAKR,IAAA0E,EACkBhI,KAAKJ,MAAtCkrB,EADe9iB,EACf8iB,SAAU3jB,EADKa,EACLb,mBAElB,OAAK2jB,EAUE,KATD3jB,GAIF4C,EAAA/G,EAAAC,cAACmnB,EAAA,EAAD,CAAK7jB,GAAI,IACNY,GAAsBnH,KAAK+qB,oDAO3B,IAAAze,EAQHtM,KAAKJ,MANP0D,EAFKgJ,EAELhJ,UACA0nB,EAHK1e,EAGL0e,KACA9jB,EAJKoF,EAILpF,YACA4jB,EALKxe,EAKLwe,SACA1jB,EANKkF,EAMLlF,aACAC,EAPKiF,EAOLjF,KAGI4jB,EAAc7jB,GAAgB,YAEpC,OACE2C,EAAA/G,EAAAC,cAAA,OAAKK,UAAU,qBACbyG,EAAA/G,EAAAC,cAACmnB,EAAA,EAAD,CAAK9mB,UAAS,aAAAU,OAAeV,GAAaK,WAAS,GACjDoG,EAAA/G,EAAAC,cAACmnB,EAAA,EAAD,CAAK7jB,GAAI,GAAIjD,UAAW,CAAC,mCAAoC2nB,GAAa5iB,KAAK,MAE1E2iB,EAAiC,KAA1BhrB,KAAKkrB,mBAEfnhB,EAAA/G,EAAAC,cAACmnB,EAAA,EAAD,CAAKzmB,WAAS,GACV3D,KAAKJ,MAAM0I,SACXtI,KAAKmrB,4BAKVL,EAMC,KALA/gB,EAAA/G,EAAAC,cAACmoB,EAAA,EAAD,CACEC,KAAG,EACHnkB,YAAaA,EACbG,KAAMA,YAnGG/B,cA4GvB2B,EAAS1B,aAAe,CACtBjC,UAAW,GACX0nB,MAAM,EACN9jB,aAAa,EACb4jB,UAAU,EACV3jB,mBAAoB,KACpBC,cAAc,EACdC,KAAM,QACNwjB,SAAS,GAaI5jB,iDCzJfU,EAAAC,QAAiBC,EAAAC,EAAuB,uMCKlCP,sBACJ,SAAAA,EAAY3H,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAuH,IACjB1H,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAyH,GAAApH,KAAAH,KAAMJ,KAED0rB,WAAazrB,EAAKyrB,WAAW7qB,KAAhBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KAHDA,4EAMN,IACHyD,EAActD,KAAKJ,MAAnB0D,UACFioB,EAAU,CAAC,kBAMjB,OAJIjoB,GACFioB,EAAQjpB,KAAKgB,GAGRioB,EAAQljB,KAAK,sCAIpB,OACEtF,EAAAC,EAAAC,cAAA,OAAKK,UAAWtD,KAAKsrB,cACnBvoB,EAAAC,EAAAC,cAAA,OAAK0D,IAAK6kB,IAAUloB,UAAU,aAAasD,IAAI,kBArBnCtB,cA2BpBiC,EAAMhC,aAAe,CACnBjC,UAAW,IAOEiE,QCxCfM,EAAA4D,EAAAC,EAAA,sBAAA+f,+CCAA9jB,EAAAC,QAAiBC,EAAAC,EAAuB,sDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,2DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB","file":"static/js/partnership.0dffb47e.chunk.js","sourcesContent":["import React, { Component, Fragment } from 'react';\r\nimport { Row } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\nimport _ from 'lodash';\r\nimport FieldGenerator from 'components/FormsV3/FieldGenerator';\r\nimport CheckoutComplete from 'components/Templates/CheckoutPopup/CheckoutComplete';\r\nimport { validateFormValue, validateForm } from 'lib/validatorsV2';\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport ModalPopup from 'components/Templates/ModalPopup/ModalPopup';\r\nimport { sendEmailForm } from 'actions/insuranceActions';\r\nimport './Enquiry.scss';\r\n\r\nconst forms = [\r\n  {\r\n    size: 12,\r\n    title: 'Email',\r\n    slug: 'email',\r\n    type: 'email',\r\n    is_required: true,\r\n  }, {\r\n    size: 6,\r\n    title: 'Full name',\r\n    slug: 'name',\r\n    type: 'text',\r\n    is_required: true,\r\n  }, {\r\n    size: 6,\r\n    title: 'Mobile number',\r\n    slug: 'contact',\r\n    type: 'number',\r\n    is_required: true,\r\n  }, {\r\n    size: 12,\r\n    title: 'Drop your enquiry here',\r\n    slug: 'note',\r\n    type: 'textarea',\r\n    is_required: true,\r\n  },\r\n];\r\n\r\nconst ERROR_EXCEPTIONS = [\r\n  'Field cannot be empty!',\r\n];\r\n\r\n\r\nclass Enquiry extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      values: {},\r\n      errors: {},\r\n      groupError: '',\r\n    };\r\n\r\n    this.getError = this.getError.bind(this);\r\n    this.onChangeValue = this.onChangeValue.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleOnClose = this.handleOnClose.bind(this);\r\n  }\r\n\r\n  // Update form values on change\r\n  async onChangeValue(type, name, value) {\r\n    const { values, errors } = this.state;\r\n    const error = await validateFormValue(name, { type, value }, values, forms);\r\n\r\n    const newState = {\r\n      values: { ...values, [name]: { type, value } },\r\n      errors: _.pickBy({ ...errors, [name]: error }, _.identity),\r\n    };\r\n\r\n    this.setState(newState);\r\n  }\r\n\r\n  getError() {\r\n    const { values } = this.state;\r\n    const fieldsToCheck = Array.from(forms, f => f.slug);\r\n    const formErrors = validateForm(values, fieldsToCheck, forms);\r\n    const keys = Object.keys(formErrors);\r\n    if (keys.length > 0) {\r\n      const error = formErrors[keys[0]] || null;\r\n      return error || null;\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  async handleSubmit() {\r\n    const { interest } = this.props;\r\n    const { values } = this.state;\r\n\r\n    const requestData = {\r\n      form_category: interest,\r\n      input_data: _.map(forms, f => ({\r\n        name: f.title,\r\n        value: values[f.slug].value,\r\n        type: 'text',\r\n      })),\r\n    };\r\n    requestData.input_data.push({\r\n      name: 'Interests',\r\n      value: interest || 'N/A',\r\n      type: 'text',\r\n    });\r\n\r\n    try {\r\n      const responseData = await sendEmailForm(requestData);\r\n\r\n      if (responseData) {\r\n        const { checkoutComplete } = this;\r\n        this.setState({ groupError: '' }, () => checkoutComplete.openCheckoutComplete());\r\n      } else {\r\n        throw (responseData);\r\n      }\r\n    } catch (errors) {\r\n      this.setState({ groupError: 'Request failed! Please try again later.' });\r\n    }\r\n  }\r\n\r\n  handleOnClose() {\r\n    const { onClose } = this.props;\r\n\r\n    this.setState({\r\n      values: {},\r\n      errors: {},\r\n      groupError: '',\r\n    });\r\n\r\n    if (onClose) {\r\n      onClose();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { isOpen } = this.props;\r\n    const { values, groupError } = this.state;\r\n    const error = this.getError();\r\n\r\n    return (\r\n      <Fragment>\r\n        <ModalPopup\r\n          showModal={isOpen}\r\n          closeModal={() => this.handleOnClose()}\r\n          className=\"partnership-enquiry-modal\"\r\n          backdropClassName=\"blue-modal-backdrop\"\r\n          header={<p>Submit enquiry</p>}\r\n          body={\r\n            <Fragment>\r\n              <Row noGutters>\r\n                {\r\n                  _.map(forms, (form, index) => (\r\n                    <FieldGenerator\r\n                      key={`partnership-form-${index}`}\r\n                      values={values}\r\n                      fieldData={form}\r\n                      onChangeValue={this.onChangeValue}\r\n                      extraInfo={form.extra_info && <p>{form.extra_info}</p>}\r\n                    />\r\n                  ))\r\n                }\r\n              </Row>\r\n              <p\r\n                className=\"text-danger text-center\"\r\n                dangerouslySetInnerHTML={{ __html: (!_.includes(ERROR_EXCEPTIONS, error) && error) || groupError || '&nbsp;' }}\r\n              />\r\n            </Fragment>\r\n          }\r\n          footer={\r\n            <div className=\"w-100 text-center\">\r\n              <Button\r\n                variant=\"medium-flat-green\"\r\n                height={48}\r\n                width={162}\r\n                disabled={(!!error)}\r\n                onClick={this.handleSubmit}\r\n              >\r\n                <p>Submit</p>\r\n              </Button>\r\n            </div>\r\n          }\r\n        />\r\n        <CheckoutComplete\r\n          className=\"blue-popup-backdrop\"\r\n          isQuoteOnly\r\n          upperText=\"Submission Successful!\"\r\n          midText=\"Thank you for your interest in partnering PolicyPal. We will be contacting you within 2 working days.\"\r\n          buttonText=\"Confirm\"\r\n          wrappedComponentRef={node => this.checkoutComplete = node}\r\n          callback={() => this.handleOnClose()}\r\n        />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nEnquiry.defaultProps = {\r\n  isOpen: false,\r\n  interest: '',\r\n  onClose: null,\r\n  // onSubmit: null,\r\n};\r\n\r\nEnquiry.propTypes = {\r\n  isOpen: PropTypes.bool,\r\n  interest: PropTypes.string,\r\n\r\n  onClose: PropTypes.func,\r\n  // onSubmit: PropTypes.func,\r\n  // handleAPI: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Enquiry;\r\n","/**\r\n * Referral.js\r\n * Referral Page For PolicyPal\r\n *\r\n * @version 0.0.1\r\n * @author [Nicolette](nicolette@policypal.com)\r\n */\r\nimport window from 'global/window';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { Col, Row } from 'reactstrap';\r\nimport Page from 'components/Page/Page';\r\n\r\nimport InfoPage from 'components/Templates/InfoPage/InfoPage';\r\nimport Mouse from 'components/Rewards/Mouse';\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport Enquiry from './Enquiry';\r\nimport mainImg from 'assets/images/Partnership/main.svg';\r\nimport mapIcon from 'assets/images/Partnership/icon__map.svg';\r\nimport rewardIcon from 'assets/images/Partnership/icon__reward.svg';\r\nimport './Partnership.scss';\r\nimport 'components/Templates/FormLanding/FormLandingNew.scss';\r\nimport 'components/Templates/FormLanding/FormLandingInformation.scss';\r\n\r\nconst FEATURES = [\r\n  {\r\n    icon: mapIcon,\r\n    title: 'Strategy Partnership',\r\n    desc: 'Everyone deserves a wholesome user experience. Join us as an API partner and direct your users to our portal in exchange for a small fee. Everybody wins!',\r\n    buttonText: 'Apply Now',\r\n    link: '',\r\n  },\r\n  {\r\n    icon: rewardIcon,\r\n    title: 'Rewards Partnership',\r\n    desc: 'Elevate your brand to greater heights as a rewards partner. Rewards Marketplace is an in-app feature for PolicyPal users to redeem exclusive deals with $P credits.',\r\n    buttonText: 'Apply Now',\r\n    link: '',\r\n  },\r\n]\r\n\r\nclass Partnership extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      isOpenEnquiryModal: false,\r\n      featureName: '',\r\n    }\r\n\r\n    this.handleOnClickApply = this.handleOnClickApply.bind(this);\r\n    this.handleOnCloseEnquiryModal = this.handleOnCloseEnquiryModal.bind(this);\r\n    this.renderFeature = this.renderFeature.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.scrollTo(0, 0);\r\n  }\r\n\r\n  handleOnCloseEnquiryModal() {\r\n    const { isOpenEnquiryModal } = this.state;\r\n    this.setState({\r\n      isOpenEnquiryModal: !isOpenEnquiryModal,\r\n      featureName: '',\r\n    });\r\n  }\r\n\r\n  handleOnClickApply(featureName) {\r\n    const { isOpenEnquiryModal } = this.state;\r\n    this.setState({\r\n      isOpenEnquiryModal: !isOpenEnquiryModal,\r\n      featureName,\r\n    })\r\n  }\r\n\r\n  renderFeature(data, index) {\r\n    const { icon, title, desc, buttonText } = data;\r\n\r\n    return (\r\n      <Col key={`feature-${index}`} xs=\"12\" sm={{offset: 2, size: 8}} md={{offset: 0, size: 6}}>\r\n        <div className=\"feature\">\r\n          <img src={icon} alt={title} className=\"image\" />\r\n          <h5 className=\"title\">{title}</h5>\r\n          <p className=\"desc\">{desc}</p>\r\n          <Button\r\n            className=\"button\"\r\n            variant=\"medium-flat-green\"\r\n            height={48}\r\n            width={162}\r\n            onClick={() => this.handleOnClickApply(title)}\r\n          >\r\n            <p>{buttonText}</p>\r\n          </Button>\r\n        </div>\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { isOpenEnquiryModal, featureName } = this.state;\r\n\r\n    return (\r\n      <Page id=\"partnership\">\r\n        <InfoPage\r\n          className=\"partnership-container info-page-margin\"\r\n          noPolicyPal\r\n          subscribeOverwrite={<Fragment />}\r\n          noAutoMargin\r\n          mode=\"full\"\r\n        >\r\n          <Col xs=\"12\">\r\n            <div className=\"why-partner\">\r\n              <Row className=\"align-items-center\" noGutters>\r\n                <Col xs=\"12\" md=\"6\" className=\"order-md-2 mb-5 mb-md-0\">\r\n                  <img src={mainImg} className=\"image\" alt=\"Why partner?\" />\r\n                </Col>\r\n\r\n                <Col xs=\"12\" md=\"6\" className=\"order-md-1\">\r\n                  <h1 className=\"title text-center text-md-left\">Why Partner?</h1>\r\n                  <p className=\"desc text-center text-md-left\">We’re all ears for new collaborations. Have a big idea to share? We’d love to partner with you and benefit our 50,000 PolicyPal users. Let's work together to design long-term, innovative and integrated product solutions to better serve your business needs.</p>\r\n                </Col>\r\n              </Row>\r\n            </div>\r\n          </Col>\r\n\r\n          <Col xs=\"12\">\r\n            <Mouse className=\"d-none d-md-block ml-auto mr-auto mt-2 mb-5\" />\r\n          </Col>\r\n\r\n          <Col xs=\"12\">\r\n            <div className=\"features\">\r\n              <Row>\r\n                { FEATURES.map(this.renderFeature) }\r\n              </Row>\r\n            </div>\r\n          </Col>\r\n        </InfoPage>\r\n\r\n        <Enquiry\r\n          isOpen={isOpenEnquiryModal}\r\n          interest={featureName}\r\n          onClose={() => this.handleOnCloseEnquiryModal()}\r\n        />\r\n      </Page>\r\n    );\r\n  }\r\n}\r\n\r\nPartnership.defaultProps = {\r\n};\r\n\r\nPartnership.propTypes = {\r\n};\r\n\r\nexport default Partnership;\r\n","import { connect } from 'react-redux';\r\nimport Partnership from 'components/Partnership/Partnership';\r\n\r\n// eslint-disable-next-line\r\nconst mapStateToProps = state => ({\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Partnership);\r\n","module.exports = __webpack_public_path__ + \"static/media/arrow.6b6008ba.svg\";","/**\r\n * FormInputWrapper.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './FormInputWrapper.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass FormInputWrapper extends Component {\r\n  render() {\r\n    const {\r\n      extraInfo,\r\n      desc,\r\n      errorString,\r\n      smallMargin,\r\n      className,\r\n      isDateRange,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div\r\n        className={['input-wrapper-main-v3 input-wrapper-error', smallMargin && 'my-1', className].join(' ')}\r\n      >\r\n        {\r\n          // eslint-disable-next-line\r\n          isDateRange ?\r\n            <div className=\"d-flex\">\r\n              <p className=\"input-wrapper-desc w-50\">Start Date</p>\r\n              <p className=\"input-wrapper-desc w-50\">End Date</p>\r\n            </div>\r\n          :\r\n          desc !== null ?\r\n            <p className=\"input-wrapper-desc\">{desc}</p>\r\n          :\r\n            null\r\n        }\r\n        {this.props.children}\r\n        {\r\n          extraInfo !== null ?\r\n            <div className=\"extra-info-container\">\r\n              {extraInfo}\r\n            </div>\r\n          :\r\n            null\r\n        }\r\n        {\r\n          errorString !== null ?\r\n            <div className=\"input-wrapper-error-text\">\r\n              <p>{errorString}</p>\r\n            </div>\r\n          :\r\n            null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nFormInputWrapper.defaultProps = {\r\n  desc: null,\r\n  extraInfo: null,\r\n  errorString: null,\r\n  smallMargin: false,\r\n  className: '',\r\n  isDateRange: false,\r\n};\r\n\r\n\r\nFormInputWrapper.propTypes = {\r\n  desc: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  errorString: PropTypes.string,\r\n  smallMargin: PropTypes.bool,\r\n  className: PropTypes.string,\r\n  isDateRange: PropTypes.bool,\r\n};\r\n\r\nexport default FormInputWrapper;\r\n","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport Helmet from 'react-helmet';\r\nimport logo from '../../assets/logo.png';\r\n\r\nconst SITE_URL =\r\n  process.env.NODE_ENV === 'development'\r\n    ? 'http://localhost:3000'\r\n    : 'https://web.policypal.com';\r\n\r\nconst FACEBOOK_APP_ID = 'XXXXXXXXX';\r\n\r\nconst defaultTitle = 'My Website';\r\nconst defaultDescription =\r\n  'This is a really awesome website where we can render on the server. Supa cool.';\r\nconst defaultImage = `${SITE_URL}${logo}`;\r\nconst defaultTwitter = '@cereallarceny';\r\nconst defaultSep = ' | ';\r\n\r\nclass Page extends Component {\r\n  getMetaTags(\r\n    {\r\n      title,\r\n      description,\r\n      image,\r\n      contentType,\r\n      twitter,\r\n      noCrawl,\r\n      published,\r\n      updated,\r\n      category,\r\n      tags\r\n    },\r\n    pathname\r\n  ) {\r\n    const theTitle = title\r\n      ? (title + defaultSep + defaultTitle).substring(0, 60)\r\n      : defaultTitle;\r\n    const theDescription = description\r\n      ? description.substring(0, 155)\r\n      : defaultDescription;\r\n    const theImage = image ? `${SITE_URL}${image}` : defaultImage;\r\n\r\n    const metaTags = [\r\n      { itemprop: 'name', content: theTitle },\r\n      { itemprop: 'description', content: theDescription },\r\n      { itemprop: 'image', content: theImage },\r\n      { name: 'description', content: theDescription },\r\n      { name: 'twitter:card', content: 'summary_large_image' },\r\n      { name: 'twitter:site', content: defaultTwitter },\r\n      { name: 'twitter:title', content: theTitle },\r\n      { name: 'twitter:description', content: theDescription },\r\n      { name: 'twitter:creator', content: twitter || defaultTwitter },\r\n      { name: 'twitter:image:src', content: theImage },\r\n      { property: 'og:title', content: theTitle },\r\n      { property: 'og:type', content: contentType || 'website' },\r\n      { property: 'og:url', content: SITE_URL + pathname },\r\n      { property: 'og:image', content: theImage },\r\n      { property: 'og:description', content: theDescription },\r\n      { property: 'og:site_name', content: defaultTitle },\r\n      { property: 'fb:app_id', content: FACEBOOK_APP_ID }\r\n    ];\r\n\r\n    if (noCrawl) {\r\n      metaTags.push({ name: 'robots', content: 'noindex, nofollow' });\r\n    }\r\n\r\n    if (published) {\r\n      metaTags.push({ name: 'article:published_time', content: published });\r\n    }\r\n    if (updated) {\r\n      metaTags.push({ name: 'article:modified_time', content: updated });\r\n    }\r\n    if (category) {\r\n      metaTags.push({ name: 'article:section', content: category });\r\n    }\r\n    if (tags) {\r\n      metaTags.push({ name: 'article:tag', content: tags });\r\n    }\r\n\r\n    return metaTags;\r\n  }\r\n\r\n  render() {\r\n    const { children, id, className, ...rest } = this.props;\r\n\r\n    return (\r\n      <div id={id} className={className}>\r\n        <Helmet\r\n          htmlAttributes={{\r\n            lang: 'en',\r\n            itemscope: undefined,\r\n            itemtype: `http://schema.org/${rest.schema || 'WebPage'}`\r\n          }}\r\n          title={\r\n            rest.title ? rest.title + defaultSep + defaultTitle : defaultTitle\r\n          }\r\n          link={[\r\n            {\r\n              rel: 'canonical',\r\n              href: SITE_URL + this.props.location.pathname\r\n            }\r\n          ]}\r\n          meta={this.getMetaTags(rest, this.props.location.pathname)}\r\n        />\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Page);\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.f0988bd7.png\";","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","module.exports = __webpack_public_path__ + \"static/media/dateIn.1b60a0c4.svg\";","module.exports = __webpack_public_path__ + \"static/media/dateOut.98be354a.svg\";","module.exports = __webpack_public_path__ + \"static/media/magnifyGlass.4cd15637.svg\";","module.exports = __webpack_public_path__ + \"static/media/cross.8df9f59e.svg\";","module.exports = __webpack_public_path__ + \"static/media/CheckoutComplete.0dec4895.svg\";","/**\r\n * CheckoutComplete.js\r\n * Shows this when checkout is complete\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component, Fragment } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport CheckoutCompleteSVG from 'assets/images/common/CheckoutComplete.svg';\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport Popup from '../Popup/Popup';\r\n\r\nimport './CheckoutPopup.scss';\r\n\r\nclass CheckoutComplete extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      animateStyle: '',\r\n    };\r\n\r\n    this.openCheckoutComplete = this.openCheckoutComplete.bind(this);\r\n  }\r\n\r\n  openCheckoutComplete(userName = null) {\r\n    this.setState({\r\n      animateStyle: 'bounce-in',\r\n      userName,\r\n    });\r\n\r\n    setTimeout(() => {\r\n      this.popupRef.openPopup();\r\n    }, 10);\r\n  }\r\n\r\n  renderUpperText() {\r\n    const { userName } = this.state;\r\n    const { isQuoteOnly, upperText } = this.props;\r\n\r\n    if (!isQuoteOnly) {\r\n      return (\r\n        <Fragment>\r\n          <p>Thank you for your</p>\r\n          <p><span>purchase, </span><span className=\"focus-text\">{userName}</span></p>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <p>{upperText || 'Success'}</p>\r\n    );\r\n  }\r\n\r\n  renderMidText() {\r\n    const { isQuoteOnly, midText } = this.props;\r\n\r\n    const message = 'The insurer’s representative will contact you within 2 business days to share with you more about the selected product.';\r\n\r\n    // Our partnered FA representative from Synergy Financial Advisers Pte Ltd will contact you within 48 hours to share with you more about the selected product.\r\n    if (!isQuoteOnly) {\r\n      return (\r\n        <Fragment>\r\n          <p>A copy of the receipt has been sent to</p>\r\n          <p>your inbox.</p>\r\n          <p>{'The policy will be reflected in PolicyPal\\'s APP once approved.'}</p>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    if (midText !== null) {\r\n      return (\r\n        <Fragment>\r\n          <p>{midText}</p>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        <p>Thanks for submitting your request.</p>\r\n        <p>{message}</p>\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderButton() {\r\n    const {\r\n      history,\r\n      isQuoteOnly,\r\n      buttonText,\r\n      callback,\r\n    } = this.props;\r\n\r\n    if (!isQuoteOnly) {\r\n      return (\r\n        <Fragment>\r\n          <Button\r\n            className=\"checkout-button\"\r\n            variant=\"medium-flat\"\r\n            width={166}\r\n            height={72}\r\n            onClick={() => history.push('/gotoappstore')}\r\n          >\r\n            <p>Download APP</p>\r\n          </Button>\r\n          <Button\r\n            className=\"checkout-button\"\r\n            variant=\"medium-flat-green\"\r\n            width={166}\r\n            height={72}\r\n            onClick={() => this.popupRef.closePopup()}\r\n          >\r\n            <p>Details</p>\r\n          </Button>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Button\r\n        className=\"checkout-button\"\r\n        variant=\"medium-flat-green\"\r\n        width={166}\r\n        height={72}\r\n        onClick={() => {\r\n          if (callback) {\r\n            callback();\r\n            this.popupRef.togglePopup(false);\r\n            return;\r\n          }\r\n          history.push('/');\r\n        }}\r\n      >\r\n        <p>{buttonText || 'OK'}</p>\r\n      </Button>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { animateStyle } = this.state;\r\n    const { isSellLeads, className } = this.props;\r\n\r\n    const extraText = !isSellLeads ? '' : 'In the event that you purchase a plan through our partner, PolicyPal receives a referral fee.';\r\n\r\n    return (\r\n      <Popup\r\n        className={className}\r\n        hideCloseButton ref={(r) => { this.popupRef = r; }}\r\n      >\r\n        <Fragment>\r\n          <div className=\"check-out-popup\">\r\n            <img className={animateStyle} src={CheckoutCompleteSVG} alt=\"CheckoutComplete.svg\" />\r\n            <div className=\"upper-container upper-margin-up\">\r\n              {this.renderUpperText()}\r\n            </div>\r\n            <div className=\"mid-container\">\r\n              {this.renderMidText()}\r\n            </div>\r\n            <div className=\"button-container\">\r\n              {this.renderButton()}\r\n            </div>\r\n            <div className=\"extra-text\"><p>{extraText}</p></div>\r\n          </div>\r\n        </Fragment>\r\n      </Popup>\r\n    );\r\n  }\r\n}\r\n\r\nCheckoutComplete.defaultProps = {\r\n  isQuoteOnly: false,\r\n  isSellLeads: false,\r\n  upperText: null,\r\n  midText: null,\r\n  buttonText: null,\r\n  callback: null,\r\n  className: '',\r\n};\r\n\r\nCheckoutComplete.propTypes = {\r\n  history: PropTypes.object.isRequired,\r\n  isQuoteOnly: PropTypes.bool,\r\n  isSellLeads: PropTypes.bool,\r\n  upperText: PropTypes.string,\r\n  midText: PropTypes.string,\r\n  buttonText: PropTypes.string,\r\n  callback: PropTypes.func,\r\n  className: PropTypes.string,\r\n};\r\n\r\nexport default withRouter(CheckoutComplete, { withRef: true });\r\n","import React, { Component } from 'react';\r\nimport { CustomInput } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport './Checkbox.scss';\r\n\r\nexport default class Checkbox extends Component {\r\n  render() {\r\n    const {\r\n      name,\r\n      value,\r\n      desc,\r\n      onChange,\r\n      errorString,\r\n      extraInfo,\r\n    } = this.props;\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        errorString={errorString}\r\n        extraInfo={extraInfo}\r\n        smallMargin\r\n      >\r\n        <div className=\"checkbox-container-v3\">\r\n          <CustomInput\r\n            id={name}\r\n            className=\"checkbox-input\"\r\n            type=\"checkbox\"\r\n            onChange={() => onChange('checkbox', name, !value)}\r\n            checked={!!value}\r\n          />\r\n          {/* eslint-disable-next-line */}\r\n          <p\r\n            className=\"checkbox-input-desc\"\r\n            // onClick={() => onChange('checkbox', name, !value)}\r\n          >\r\n            {desc}\r\n          </p>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nCheckbox.defaultProps = {\r\n  value: null,\r\n  errorString: null,\r\n  extraInfo: null,\r\n};\r\n\r\nCheckbox.propTypes = {\r\n  value: PropTypes.bool,\r\n  name: PropTypes.string.isRequired,\r\n  desc: PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.array]).isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  errorString: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n};\r\n","/**\r\n * ChangeInitialFormData.js\r\n * This is the green pencil button that appears mainly on\r\n * the compare view which will render the Edit Detail forms\r\n * of each category.\r\n *\r\n * Users will be able to change that form through this component\r\n * and will do a callback to update any changes, eg for compare view.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport document from 'global/document';\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport {\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n} from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './ModalPopup.scss';\r\n\r\nclass ModalPopup extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      showModal: props.showModal,\r\n    };\r\n\r\n    this.setHiddenAuto = this.setHiddenAuto.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { showModal } = this.props;\r\n\r\n    if (!showModal) {\r\n      this.setHiddenAuto();\r\n    }\r\n  }\r\n\r\n  // Toggle modal\r\n  componentWillReceiveProps(nextProps) {\r\n    const { showModal } = this.props;\r\n    if (nextProps.showModal !== showModal) {\r\n      this.setState({ showModal: nextProps.showModal });\r\n\r\n      if (!nextProps.showModal) {\r\n        this.setHiddenAuto();\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.setHiddenInterval);\r\n  }\r\n\r\n\r\n  setHiddenAuto() {\r\n    clearInterval(this.setHiddenInterval);\r\n    this.setHiddenInterval = setInterval(() => {\r\n      if (!this.props.showModal && !_.includes(document.body.style.overflow, 'auto')) {\r\n        document.body.style.overflow = 'hidden auto';\r\n        clearInterval(this.setHiddenInterval);\r\n      }\r\n    }, 100);\r\n  }\r\n\r\n  render() {\r\n    const { showModal } = this.state;\r\n    const {\r\n      closeModal,\r\n      header,\r\n      body,\r\n      footer,\r\n      className,\r\n      backdropClassName,\r\n      zIndex,\r\n    } = this.props;\r\n\r\n    return (\r\n      <Modal\r\n        isOpen={showModal}\r\n        size=\"lg\"\r\n        className={`modal-popup-custom ${className}`}\r\n        backdropClassName={backdropClassName}\r\n        zIndex={zIndex}\r\n      >\r\n        {\r\n          header &&\r\n          <ModalHeader\r\n            tag=\"h3\"\r\n            toggle={closeModal}\r\n          >\r\n            {header}\r\n          </ModalHeader>\r\n        }\r\n        {\r\n          body &&\r\n          <ModalBody>\r\n            {body}\r\n          </ModalBody>\r\n        }\r\n        {\r\n          footer &&\r\n          <ModalFooter>\r\n            {footer}\r\n          </ModalFooter>\r\n        }\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nModalPopup.defaultProps = {\r\n  showModal: false,\r\n  header: null,\r\n  body: null,\r\n  footer: null,\r\n  className: null,\r\n  backdropClassName: null,\r\n  zIndex: 1050,\r\n};\r\n\r\nModalPopup.propTypes = {\r\n  showModal: PropTypes.bool,\r\n  closeModal: PropTypes.func.isRequired,\r\n  header: PropTypes.object,\r\n  body: PropTypes.object,\r\n  footer: PropTypes.object,\r\n  className: PropTypes.string,\r\n  backdropClassName: PropTypes.string,\r\n  zIndex: PropTypes.number,\r\n};\r\n\r\nexport default ModalPopup;\r\n","/**\r\n * DropDown.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport document from 'global/document';\r\nimport window from 'global/window';\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { Input } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\n\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport Arrow from '../../../assets/images/forms/arrow.svg';\r\nimport Cross from '../../../assets/images/forms/cross.svg';\r\nimport MagnifyGlass from '../../../assets/images/forms/magnifyGlass.svg';\r\n\r\nimport './DropDown.scss';\r\nimport './MultipleSelectDropDown.scss';\r\n\r\n// How many items to display\r\nconst maxItemsDisplay = 5;\r\n// Height for dropdown\r\nconst defaultHeight = 48;\r\n// Padding for when multiple items overflow\r\nconst extraPaddingForMultiple = 5;\r\n// Error text to display when error\r\nconst resultNullString = {\r\n  display_name: 'No results found',\r\n  value: null,\r\n};\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass DropDown extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const {\r\n      dropList,\r\n      numItemsDisplay,\r\n    } = nextProps;\r\n\r\n    if (!_.isEqual(dropList, prevState.initialListItems)) {\r\n      const height = defaultHeight;\r\n      const numItems = numItemsDisplay || maxItemsDisplay;\r\n      const maxheight = (_.min([dropList ? dropList.length : 0, numItems]) + 1) * height;\r\n\r\n      return {\r\n        initialListItems: dropList,\r\n        listItems: dropList,\r\n        maxheight,\r\n        listHeight: maxheight,\r\n      };\r\n    }\r\n\r\n    return null;\r\n  }\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {object} props Component props\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // dropList - The passed down dropdown list items\r\n    // placeholderString - Placeholder string for input\r\n    // size - Size of this control\r\n    // numItemsDisplay - Max items to display on view\r\n    const {\r\n      dropList,\r\n      numItemsDisplay,\r\n      value,\r\n      isMultiple,\r\n    } = this.props;\r\n\r\n    // Get the control height\r\n    const height = defaultHeight;\r\n    // Get number of items to display\r\n    const numItems = numItemsDisplay || maxItemsDisplay;\r\n    // Get the max height of list\r\n    const maxheight = (_.min([dropList ? dropList.length : 0, numItems]) + 1) * height;\r\n    // isOpened - Whether dropdown is opened\r\n    // isError - Whether there is input error\r\n    // listItems - The actual dropdown list\r\n    // selectedString - The selected item string\r\n    // height - Preferred Control height\r\n    // numItemsDisplay - How many items to display\r\n    // maxheight - Max height of the list\r\n    // listHeight - Height of the list. (Items count + control)\r\n    // multipleSelectedElements - Array of multiple selected items\r\n    // listElementsCounter - Up down selection position\r\n    // clientHeight - Actual height of the control\r\n    this.state = {\r\n      isOpened: false,\r\n      listItems: dropList,\r\n      selectedString: (!isMultiple && value && value.display_name) || '',\r\n      height,\r\n      numItemsDisplay: numItems,\r\n      maxheight,\r\n      listHeight: maxheight,\r\n      multipleSelectedElements: null,\r\n      listElementsCounter: -1,\r\n      clientHeight: height,\r\n      extraPadding: 0,\r\n      noTransition: true,\r\n    };\r\n\r\n    this.updateDimensions = this.updateDimensions.bind(this);\r\n    this.handleClickOutside = this.handleClickOutside.bind(this);\r\n    this.renderListItems = this.renderListItems.bind(this);\r\n    this.renderTextInput = this.renderTextInput.bind(this);\r\n    this.handleSelectClick = this.handleSelectClick.bind(this);\r\n    this.handleOnInputChange = this.handleOnInputChange.bind(this);\r\n    this.handleSetMultipleSelectedItem = this.handleSetMultipleSelectedItem.bind(this);\r\n    this.handleDestroySelected = this.handleDestroySelected.bind(this);\r\n    this.handleInputKeyPress = this.handleInputKeyPress.bind(this);\r\n    this.handleItemKeyPress = this.handleItemKeyPress.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleExit = this.handleExit.bind(this);\r\n    this.handleBlur = this.handleBlur.bind(this);\r\n    this.handleFocus = this.handleFocus.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentDidMount\r\n   */\r\n  componentDidMount() {\r\n    const { value, isMultiple } = this.props;\r\n\r\n    // Add Handler to handle click outside of screen\r\n    document.addEventListener('mousedown', this.handleClickOutside);\r\n    // Update control height on resize in case it squeezes down\r\n    window.addEventListener('resize', this.updateDimensions);\r\n    // Update for the first time\r\n    this.updateDimensions();\r\n\r\n    const { overrideValue } = this.props;\r\n\r\n    if (value) {\r\n      if (isMultiple) {\r\n        this.setState({\r\n          multipleSelectedElements: value,\r\n        });\r\n      }\r\n    }\r\n\r\n    if (overrideValue) {\r\n      this.handleChange(overrideValue);\r\n    }\r\n\r\n    this.setState({ noTransition: false });\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentDidUpdate\r\n   */\r\n  componentDidUpdate(prevProps) {\r\n    const { multipleSelectedElements } = this.state;\r\n    const { overrideValue, value, isMultiple } = this.props;\r\n\r\n    // Use override mode if not using form\r\n    if (!_.isEqual(overrideValue, prevProps.overrideValue)) {\r\n      this.handleChange(overrideValue);\r\n    }\r\n\r\n    const isElements = !_.isEmpty(multipleSelectedElements);\r\n\r\n    if (!_.isEqual(value, prevProps.value)) {\r\n      this.setState({\r\n        selectedString: (value && value.display_name) || '',\r\n      });\r\n    }\r\n\r\n    if (value) {\r\n      if (!isElements || (isElements && !_.isEqual(value, multipleSelectedElements))) {\r\n        if (isMultiple) {\r\n          this.setState({\r\n            multipleSelectedElements: [...value],\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    // For re-render fix where multiple changed to single\r\n    if (isElements && !value) {\r\n      this.setState({\r\n        multipleSelectedElements: null,\r\n      });\r\n    }\r\n    // Update control height if necessary, since the\r\n    // height may change after render\r\n    this.updateDimensions();\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentWillUnmount\r\n   */\r\n  componentWillUnmount() {\r\n    // Remove Handler to handle click outside of screen\r\n    document.removeEventListener('mousedown', this.handleClickOutside);\r\n    window.removeEventListener('resize', this.updateDimensions);\r\n  }\r\n\r\n  /**\r\n   * Get client height of the selection container\r\n   * to determine the height of the whole control.\r\n   * (For multiple only)\r\n   *\r\n   * @param {object} event\r\n   */\r\n  updateDimensions() {\r\n    const { isMultiple } = this.props;\r\n\r\n    // Only multiple will expand\r\n    if (!isMultiple) {\r\n      return;\r\n    }\r\n\r\n    const {\r\n      clientHeight,\r\n      height,\r\n      extraPadding,\r\n    } = this.state;\r\n\r\n    let newHeight = defaultHeight;\r\n    try {\r\n      newHeight = this.selectedItemsContainer.children[this.selectedItemsContainer.childElementCount - 1].getBoundingClientRect().bottom - this.selectedItemsContainer.children[0].getBoundingClientRect().top;\r\n      newHeight = newHeight < defaultHeight ? defaultHeight : newHeight + 10;\r\n    } catch (error) {\r\n      // eslint-disable-next-line no-empty\r\n    }\r\n\r\n    // if client height is not same as DOM, update with padding if expanded\r\n    if (clientHeight !== newHeight) {\r\n      this.setState({\r\n        clientHeight: newHeight,\r\n        extraPadding: newHeight - 2 * extraPadding > height ? extraPaddingForMultiple : 0,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleChange(inputValue) {\r\n    const {\r\n      name,\r\n      onChange,\r\n      notForm,\r\n      valueChangeCallback,\r\n      isMultiple,\r\n    } = this.props;\r\n\r\n    if (notForm) {\r\n      if (valueChangeCallback) {\r\n        valueChangeCallback(inputValue);\r\n      }\r\n      this.inputField.value = inputValue.display_name;\r\n      return;\r\n    }\r\n\r\n    onChange(isMultiple ? 'multiple_select' : 'select', name, inputValue);\r\n  }\r\n\r\n  /**\r\n   * End selection if click on outside\r\n   *\r\n   * @param {object} event\r\n   */\r\n  handleClickOutside(event) {\r\n    const { isOpened } = this.state;\r\n\r\n    // If clicked outside, go to exit\r\n    if (\r\n      isOpened &&\r\n      this.wrapperRef &&\r\n      !this.wrapperRef.contains(event.target)\r\n    ) {\r\n      // Close it\r\n      this.setState({\r\n        isOpened: false,\r\n      });\r\n\r\n      // Unset from focus\r\n      this.isFromFocus = false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle on enter key\r\n   *\r\n   * @param {object} event\r\n   */\r\n  handleInputKeyPress(event) {\r\n    const {\r\n      isOpened,\r\n      listElementsCounter,\r\n      selectedString,\r\n      multipleSelectedElements,\r\n    } = this.state;\r\n\r\n    const { isMultiple, placeholderString } = this.props;\r\n\r\n    // If pressed on enter, go to exit\r\n    if (event.key === 'Enter') {\r\n      this.handleExit();\r\n      event.preventDefault();\r\n      return;\r\n    }\r\n\r\n    // Press down arrow from input\r\n    if (event.key === 'ArrowDown') {\r\n      if (isOpened) {\r\n        if (listElementsCounter === -1) {\r\n          event.preventDefault();\r\n        }\r\n        this.handleItemKeyPress(event);\r\n      } else {\r\n        this.setState({\r\n          isOpened: true,\r\n        });\r\n      }\r\n    }\r\n\r\n    if (\r\n      isMultiple &&\r\n      event.key === 'Backspace' &&\r\n      (selectedString === '' || selectedString === placeholderString) &&\r\n      !_.isEmpty(multipleSelectedElements)\r\n    ) {\r\n      this.handleDestroySelected(multipleSelectedElements[multipleSelectedElements.length - 1]);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Key press on list items\r\n   *\r\n   * @param {object} event\r\n   */\r\n  handleItemKeyPress(event, inputValue) {\r\n    const {\r\n      listElementsCounter,\r\n    } = this.state;\r\n\r\n    let index = listElementsCounter;\r\n\r\n    // If click enter on list item\r\n    if (event.key === 'Enter') {\r\n      // Focus input field\r\n      // this.inputField.focus();\r\n      // Handle exit with the item value\r\n      this.handleExit(inputValue);\r\n      event.preventDefault();\r\n      return;\r\n    }\r\n\r\n    // Navigate list with up down arrow\r\n    if (event.key === 'ArrowDown') {\r\n      index = listElementsCounter + 1;\r\n    } else if (event.key === 'ArrowUp') {\r\n      index = listElementsCounter - 1;\r\n    }\r\n\r\n    // Cap index within list\r\n    index = Math.max(0, Math.min(index, this.listElements.length - 1));\r\n    // Focus on the next item\r\n    this.listElements[index].focus();\r\n\r\n    // If index changed, update state\r\n    if (index !== listElementsCounter) {\r\n      this.setState({\r\n        listElementsCounter: index,\r\n      });\r\n    }\r\n\r\n    event.stopPropagation();\r\n  }\r\n\r\n  /**\r\n   * Handle toggling of dropdown list\r\n   *\r\n   * @param {bool} isOpenOnly - Only can open\r\n   */\r\n  handleSelectClick(isOpenOnly = false) {\r\n    const {\r\n      isOpened,\r\n      selectedString,\r\n      maxheight,\r\n      multipleSelectedElements,\r\n    } = this.state;\r\n\r\n    const {\r\n      dropList,\r\n      isMultiple,\r\n    } = this.props;\r\n\r\n    // If this frame is not from focus\r\n    if (!this.isFromFocus) {\r\n      // Set open state\r\n      if (!isOpenOnly || (isOpenOnly && !isOpened)) {\r\n        this.setState({\r\n          isOpened: !isOpened,\r\n        });\r\n      }\r\n\r\n      // If previously invalid, reset list\r\n      if (!selectedString || selectedString === resultNullString.display_name) {\r\n        this.setState({\r\n          listItems: dropList,\r\n          listHeight: maxheight,\r\n          listElementsCounter: -1,\r\n        });\r\n\r\n        if (!isMultiple || (isMultiple && _.isEmpty(multipleSelectedElements))) {\r\n          this.handleChange(null);\r\n        }\r\n      }\r\n    }\r\n\r\n    // Unlock from focus\r\n    this.isFromFocus = false;\r\n  }\r\n\r\n  /**\r\n   * Handles selection of dropdown item\r\n   *\r\n   * @param {object} event - Click event\r\n   * @param {string} item - Input string\r\n   */\r\n  handleSelectItemClick(event, item) {\r\n    // If click on null item return\r\n    if (item.value === resultNullString.value) {\r\n      return;\r\n    }\r\n\r\n    const { numItemsDisplay, height } = this.state;\r\n    const { dropList } = this.props;\r\n\r\n    const {\r\n      isMultiple,\r\n    } = this.props;\r\n\r\n    // Reset drop list items to all, set selected string,\r\n    // and reset any errors\r\n    this.setState({\r\n      listItems: dropList,\r\n      listHeight: (_.min([(dropList && dropList.length) || 0, numItemsDisplay]) + 1) * height,\r\n    });\r\n\r\n    // this.formParent.clearErrorString();\r\n\r\n    if (isMultiple) {\r\n      // If multiple dropdown, reset selected string\r\n      this.setState({\r\n        selectedString: '',\r\n      });\r\n\r\n      // Set input field text to empty\r\n      this.inputField.value = '';\r\n      // Refocus input bar\r\n      // this.inputField.focus();\r\n\r\n      // Set multiple selected item\r\n      this.handleSetMultipleSelectedItem(item);\r\n    } else {\r\n      this.setState({\r\n        selectedString: item.display_name,\r\n      }, () => {\r\n        // Toggle the dropdown menu\r\n        this.handleSelectClick();\r\n\r\n        // Update redux state\r\n        this.handleChange(item);\r\n\r\n        // Close dropdown\r\n        this.setState({\r\n          isOpened: false,\r\n        });\r\n      });\r\n    }\r\n\r\n    event.stopPropagation();\r\n  }\r\n\r\n  /**\r\n   * Selection of multi select dropdown\r\n   *\r\n   * @param {string} item\r\n   */\r\n  handleSetMultipleSelectedItem(item) {\r\n    const { multipleSelectedElements, height } = this.state;\r\n\r\n    const newArr = multipleSelectedElements || [];\r\n\r\n    // If item does not exists in the selected list\r\n    if (!_.find(newArr, i => i.value === item.value)) {\r\n      // Add item to list\r\n      newArr.push(item);\r\n\r\n      // Change state\r\n      this.setState({\r\n        multipleSelectedElements: newArr,\r\n        clientHeight: this.selectedContainer ? this.selectedContainer.clientHeight : height,\r\n        isOpened: false,\r\n      });\r\n\r\n      // Update redux store\r\n      this.handleChange(newArr);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Destroys multi selected item\r\n   *\r\n   * @param {string} item\r\n   */\r\n  handleDestroySelected(item) {\r\n    const { height } = this.state;\r\n\r\n    const { multipleSelectedElements } = this.state;\r\n    // Duplicate clean copy\r\n    let newArr = multipleSelectedElements.slice();\r\n    // Delete chosen item\r\n    const index = newArr.indexOf(item);\r\n    newArr.splice(index, 1);\r\n    // Set null if empty\r\n    newArr = newArr.length === 0 ? null : newArr;\r\n\r\n    // Update state\r\n    this.setState({\r\n      multipleSelectedElements: newArr,\r\n      clientHeight: this.selectedContainer ? this.selectedContainer.clientHeight : height,\r\n    });\r\n\r\n    // Update redux state\r\n    this.handleChange(newArr);\r\n    this.isFromFocus = false;\r\n  }\r\n\r\n  /**\r\n   * Handles on input changes\r\n   *\r\n   * @param {object} event\r\n   */\r\n  async handleOnInputChange(event) {\r\n    // Get current input value\r\n    const { value } = event.target;\r\n\r\n    const { dropList } = this.props;\r\n    const { height, numItemsDisplay } = this.state;\r\n\r\n    // Attempt to match value to list\r\n    const result = _.filter(\r\n      dropList,\r\n      item => item.display_name.toString().toUpperCase().indexOf(value.toString().toUpperCase()) === 0,\r\n    );\r\n\r\n    // Get length of new list, min 1 which is error string\r\n    const length = result.length ? result.length : 1;\r\n\r\n    // Set new list items, height of dropdown list,\r\n    // Force open list on type, and set selected string to value\r\n    this.setState({\r\n      listItems: result.length ? result : [resultNullString],\r\n      listHeight: (_.min([length, numItemsDisplay]) + 1) * height,\r\n      isOpened: true,\r\n      selectedString: value,\r\n      listElementsCounter: -1,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Handle Blur event\r\n   *\r\n   * @param {object} event\r\n   */\r\n  handleBlur(event) {\r\n    // Check if focus event contains children\r\n    const isChildren = this.wrapperRef.contains(event.relatedTarget);\r\n\r\n    // If outside of children\r\n    if (!isChildren) {\r\n      // Close dropdown\r\n      this.setState({\r\n        isOpened: false,\r\n      });\r\n      // Handle exit case\r\n      this.handleExit();\r\n      this.isFromFocus = false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle Focus event\r\n   *\r\n   * @param {object} event\r\n   */\r\n  handleFocus(event) {\r\n    const { isOpened } = this.state;\r\n\r\n    // Check if focus event contains children\r\n    const isChildren = this.wrapperRef.contains(event.relatedTarget);\r\n    // If not from children\r\n    if (!isChildren) {\r\n      // Open dropdown\r\n      if (!isOpened) {\r\n        this.handleSelectClick(true);\r\n        // Prevent double click\r\n        this.isFromFocus = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle exit selection of entered input\r\n   *\r\n   * @param {string} inputValue - From selection\r\n   */\r\n  handleExit(inputValue = null) {\r\n    const {\r\n      selectedString,\r\n      listItems,\r\n    } = this.state;\r\n\r\n    const {\r\n      placeholderString,\r\n      dropList,\r\n      isMultiple,\r\n    } = this.props;\r\n\r\n    // Result string if match original list\r\n    let resultValue = null;\r\n    // If input causes an error\r\n    let isError = false;\r\n    // The string to use\r\n    const finalString = inputValue !== null ? inputValue.display_name : selectedString;\r\n\r\n    // If possible valid input\r\n    if (\r\n      finalString &&\r\n      finalString !== placeholderString &&\r\n      finalString !== ''\r\n    ) {\r\n      // Attempt to match finalString to original list\r\n      listItems.some((obj) => {\r\n        const result = obj.display_name.toString().toLowerCase() === finalString.toString().toLowerCase();\r\n        if (result) {\r\n          resultValue = obj;\r\n        }\r\n\r\n        return result;\r\n      });\r\n\r\n      // Check error if no match\r\n      isError = !resultValue;\r\n      // Set result string to match value or error value\r\n      resultValue = isError ? null : resultValue;\r\n\r\n      if (isMultiple) {\r\n        if (!isError) {\r\n          this.handleSetMultipleSelectedItem(resultValue);\r\n        }\r\n\r\n        this.inputField.value = '';\r\n      } else {\r\n        // Update redux value\r\n        this.handleChange(resultValue);\r\n\r\n        this.setState({\r\n          isOpened: false,\r\n        });\r\n      }\r\n    }\r\n\r\n    // If not error, reset list to list all,\r\n    // Set selected string and error if possible\r\n    // and close the list\r\n    this.setState({\r\n      listItems: isError ? listItems : dropList,\r\n      selectedString: (resultValue && resultValue.display_name) || '',\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Renders the dropdown list items\r\n   */\r\n  renderListItems() {\r\n    const { listItems, height } = this.state;\r\n    this.listElements = [];\r\n\r\n    const result = _.map(listItems, item => (\r\n      <li key={item.value}>\r\n        <div\r\n          className=\"list-item text-style\"\r\n          style={{ height }}\r\n          onClick={event => this.handleSelectItemClick(event, item)}\r\n          role=\"button\"\r\n          tabIndex={-1}\r\n          onKeyDown={(event) => { this.handleItemKeyPress(event, item); }}\r\n          ref={(node) => { if (node !== null) this.listElements.push(node); }}\r\n        >\r\n          <p>{item.display_name}</p>\r\n        </div>\r\n      </li>\r\n    ));\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Render the multiple selected elements in the input container\r\n   */\r\n  renderMultipleSelectedElements() {\r\n    const { multipleSelectedElements } = this.state;\r\n    const { isMultiple } = this.props;\r\n\r\n    if (!isMultiple) {\r\n      return null;\r\n    }\r\n\r\n    return _.map(multipleSelectedElements, item => (\r\n      <div className=\"selected-item-container\" key={item.value}>\r\n        <div className=\"selected-item\">\r\n          <p>{item.display_name}</p>\r\n          <button\r\n            type=\"button\"\r\n            className=\"selected-item-destroy\"\r\n            onMouseUp={() => this.handleDestroySelected(item)}\r\n            tabIndex={-1}\r\n          >\r\n            <img src={Cross} alt=\"cross.svg\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    ));\r\n  }\r\n\r\n  renderTextInput() {\r\n    const { selectedString } = this.state;\r\n    const {\r\n      isMultiple,\r\n      isDisableTyping,\r\n      placeholderString,\r\n      name,\r\n      notForm,\r\n    } = this.props;\r\n\r\n    return (\r\n      <Input\r\n        value={selectedString || ''}\r\n        name={name}\r\n        placeholder={((isMultiple || notForm) && placeholderString) || ''}\r\n        autoComplete=\"off\"\r\n        ref={node => (this.inputField = node)}\r\n        onChange={event => this.handleOnInputChange(event)}\r\n        onKeyDown={event => this.handleInputKeyPress(event)}\r\n        onClick={() => this.handleSelectClick(true)}\r\n        disabled={isDisableTyping}\r\n      />\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Render component\r\n   */\r\n  render() {\r\n    const {\r\n      isOpened,\r\n      listHeight,\r\n      height,\r\n      clientHeight,\r\n      extraPadding,\r\n      noTransition,\r\n    } = this.state;\r\n\r\n    // const isOpened = true;\r\n\r\n    if (height && listHeight) {\r\n      const {\r\n        maxWidth,\r\n        isMultiple,\r\n        desc,\r\n        extraInfo,\r\n        errorString,\r\n        noInternalDesc,\r\n        logo,\r\n        placeholderString,\r\n        value,\r\n      } = this.props;\r\n\r\n      // Actual height of the whole control\r\n      const actualheight = isOpened ? listHeight : height;\r\n      // Actual height of only the list\r\n      const actualListheight = actualheight - height;\r\n\r\n      // Dynamic styles\r\n      const dropDownOpenStyle = isOpened ? 'dropdown-container-opened' : 'dropdown-container-closed';\r\n      const arrowStyle = isOpened ? 'angle-up' : 'angle-down';\r\n      const transitionStyle = noTransition ? '' : 'do-transition';\r\n      const listStyle = isOpened ? `list-opened ${transitionStyle}` : `list-closed ${transitionStyle}`;\r\n      const multipleStyle = isMultiple || logo ? 'multi-drop-v3' : '';\r\n      const isErrorStyle = errorString ? 'error' : '';\r\n\r\n      const noInternalDescStyle = noInternalDesc ? 'no-internal-desc' : '';\r\n\r\n      const titleStyle = value ? 'focused-title' : '';\r\n      const marginTop = clientHeight > defaultHeight || isOpened ? clientHeight : 0;\r\n      const marginBottom = clientHeight > defaultHeight ? 6 : 0;\r\n\r\n      const logoImg = isMultiple ? MagnifyGlass : logo;\r\n      const zIndexStyle = isOpened ? 'drop-open' : 'drop-close';\r\n\r\n      return (\r\n        <FormInputWrapper\r\n          desc={desc}\r\n          extraInfo={extraInfo}\r\n          errorString={errorString}\r\n        >\r\n          <div\r\n            className={`dropdown-container-v3 ${zIndexStyle} ${multipleStyle} ${noInternalDescStyle}`}\r\n            style={{\r\n              height: clientHeight,\r\n              maxWidth,\r\n              marginBottom,\r\n            }}\r\n            ref={node => (this.wrapperRef = node)}\r\n            onBlur={event => this.handleBlur(event)}\r\n            onFocus={event => this.handleFocus(event)}\r\n          >\r\n            <div\r\n              className={`dropdown-container ${dropDownOpenStyle} ${isErrorStyle}`}\r\n            >\r\n              {\r\n                isMultiple || noInternalDesc ? null :\r\n                <div className={`title-header ${titleStyle}`}>\r\n                  {placeholderString}\r\n                </div>\r\n              }\r\n              <div\r\n                className=\"selected-container\"\r\n                onKeyDown={event => this.handleInputKeyPress(event)}\r\n                role=\"button\"\r\n                style={{ minHeight: height }}\r\n                tabIndex={-1}\r\n                ref={node => (this.selectedContainer = node)}\r\n              >\r\n                {\r\n                  logoImg ?\r\n                    <div className=\"icon-container\" style={{ minHeight: height }}>\r\n                      <img\r\n                        src={logoImg}\r\n                        alt=\"DropdownImage.svg\"\r\n                      />\r\n                    </div>\r\n                  :\r\n                    null\r\n                }\r\n                <div\r\n                  className=\"selected-items-container\"\r\n                  ref={node => this.selectedItemsContainer = node}\r\n                  style={{ paddingTop: extraPadding, paddingBottom: extraPadding }}\r\n                >\r\n                  {this.renderMultipleSelectedElements()}\r\n                  <div className=\"selected-text selected-text-multi\">\r\n                    {this.renderTextInput()}\r\n                  </div>\r\n                </div>\r\n                <div\r\n                  className=\"selected-arrow\"\r\n                  onClick={() => this.handleSelectClick()}\r\n                  onKeyPress={() => {}}\r\n                  role=\"button\"\r\n                  tabIndex={-1}\r\n                >\r\n                  <img\r\n                    src={Arrow}\r\n                    alt=\"arrow.svg\"\r\n                    className={`selected-arrow-style ${arrowStyle}`}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <Scrollbars\r\n                className={`list-container ${listStyle}`}\r\n                style={{\r\n                  minHeight: actualListheight,\r\n                  marginTop,\r\n                }}\r\n                ref={node => this.listContainer = node}\r\n                tabIndex={-1}\r\n              >\r\n                {\r\n                  isOpened ?\r\n                    this.renderListItems()\r\n                  :\r\n                    null\r\n                }\r\n              </Scrollbars>\r\n            </div>\r\n          </div>\r\n        </FormInputWrapper>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\nDropDown.defaultProps = {\r\n  maxWidth: '100%',\r\n  numItemsDisplay: maxItemsDisplay,\r\n  isMultiple: false,\r\n  desc: null,\r\n  isDisableTyping: false,\r\n  extraInfo: null,\r\n  notForm: false,\r\n  overrideValue: null,\r\n  errorString: null,\r\n  dropList: null,\r\n  valueChangeCallback: null,\r\n  name: null,\r\n  noInternalDesc: false,\r\n  logo: null,\r\n  value: null,\r\n};\r\n\r\nDropDown.propTypes = {\r\n  dropList: PropTypes.array,\r\n  placeholderString: PropTypes.string.isRequired,\r\n  maxWidth: PropTypes.string,\r\n  name: PropTypes.string,\r\n  numItemsDisplay: PropTypes.number,\r\n  isMultiple: PropTypes.bool,\r\n  desc: PropTypes.string,\r\n  isDisableTyping: PropTypes.bool,\r\n  extraInfo: PropTypes.object,\r\n  notForm: PropTypes.bool,\r\n  overrideValue: PropTypes.string,\r\n  errorString: PropTypes.string,\r\n  valueChangeCallback: PropTypes.func,\r\n  noInternalDesc: PropTypes.bool,\r\n  logo: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  value: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\r\n};\r\n\r\nexport default DropDown;\r\n","/**\r\n * DropDown.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Input } from 'reactstrap';\r\nimport MagnifyGlass from 'assets/images/forms/magnifyGlass.svg';\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport './TextInput.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass TextInput extends Component {\r\n  render() {\r\n    const {\r\n      name,\r\n      desc,\r\n      placeholderString,\r\n      extraInfo,\r\n      errorString,\r\n      value,\r\n      onChange,\r\n      handlePostCode,\r\n      rows,\r\n      noInternalDesc,\r\n      type,\r\n      toUpper,\r\n      readOnly,\r\n    } = this.props;\r\n\r\n    // eslint-disable-next-line\r\n    const inputType = type === 'password' ? 'password' : type === 'textarea' ? 'textarea' : type === 'number' ? 'number' : '';\r\n\r\n    const errorStyle = errorString ? 'error' : '';\r\n    const titleStyle = value ? 'focused-title' : '';\r\n    const textareaStyle = inputType === 'textarea' ? 'textarea-padding' : '';\r\n    const inputStyle = inputType === 'textarea' ? '' : 'absolute-input';\r\n    const noInternalDescStyle = noInternalDesc ? 'no-internal-desc' : '';\r\n    const readOnlyStyle = readOnly ? 'read-only' : '';\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        desc={desc}\r\n        extraInfo={extraInfo}\r\n        errorString={errorString}\r\n      >\r\n        <div className=\"position-relative\">\r\n          <div\r\n            className={`text-input-container-v3 ${textareaStyle} ${errorStyle} ${readOnlyStyle}`}\r\n          >\r\n            {\r\n              !noInternalDesc &&\r\n              <div className={`title-header ${titleStyle}`}>\r\n                {placeholderString}\r\n              </div>\r\n            }\r\n            <div className={['text-input', noInternalDescStyle, inputStyle].join(' ')}>\r\n              <Input\r\n                className=\"text\"\r\n                type={inputType}\r\n                placeholder={(noInternalDesc && placeholderString) || ''}\r\n                name={name}\r\n                value={value || ''}\r\n                onChange={e => onChange(type, name, e.target.value && toUpper ? e.target.value.toUpperCase() : e.target.value)}\r\n                rows={rows}\r\n                disabled={readOnly}\r\n              />\r\n            </div>\r\n            {\r\n              type === 'postal' && handlePostCode ?\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"postcode\"\r\n                  onClick={handlePostCode}\r\n                >\r\n                  <img src={MagnifyGlass} alt=\"magGlass.svg\" />\r\n                </button>\r\n              :\r\n                null\r\n            }\r\n          </div>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nTextInput.defaultProps = {\r\n  value: null,\r\n  desc: null,\r\n  extraInfo: null,\r\n  errorString: null,\r\n  handlePostCode: null,\r\n  rows: 4,\r\n  noInternalDesc: false,\r\n  toUpper: false,\r\n  readOnly: false,\r\n};\r\n\r\n\r\nTextInput.propTypes = {\r\n  placeholderString: PropTypes.string.isRequired,\r\n  value: PropTypes.string,\r\n  name: PropTypes.string.isRequired,\r\n  desc: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  errorString: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  handlePostCode: PropTypes.func,\r\n  rows: PropTypes.number,\r\n  noInternalDesc: PropTypes.bool,\r\n  type: PropTypes.string.isRequired,\r\n  toUpper: PropTypes.bool,\r\n  readOnly: PropTypes.bool,\r\n};\r\n\r\nexport default TextInput;\r\n","// Day Text for display\r\nexport const dayTextList = [\r\n  'SU',\r\n  'MO',\r\n  'TU',\r\n  'WE',\r\n  'TH',\r\n  'FR',\r\n  'SA',\r\n];\r\n\r\n// Month text for display\r\nexport const monthTextMapping = [\r\n  'January',\r\n  'Feburary',\r\n  'March',\r\n  'April',\r\n  'May',\r\n  'June',\r\n  'July',\r\n  'August',\r\n  'September',\r\n  'October',\r\n  'November',\r\n  'December',\r\n];\r\n\r\n// Height for medium dropdown\r\nexport const defaultHeight = 48;\r\n// Default year range if not user defined\r\nexport const deafultYearRange = 100;\r\n","/**\r\n * DateInner.js\r\n * DateView only for rendering\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport PropTypes from 'prop-types';\r\nimport React, { Component } from 'react';\r\nimport {\r\n  UncontrolledDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n} from 'reactstrap';\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\n\r\nimport { monthTextMapping } from '../DatePicker.constants';\r\n\r\nimport './MonthYearSelector.scss';\r\n\r\n// Height for month and year dropdown items\r\nconst itemHeight = 32;\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass MonthYearSelector extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.updateScrollPosition = this.updateScrollPosition.bind(this);\r\n  }\r\n\r\n  updateScrollPosition() {\r\n    const {\r\n      currDisplayDate,\r\n      dateRangeStart,\r\n      isYear,\r\n    } = this.props;\r\n\r\n    try {\r\n      const height = itemHeight * (isYear ? currDisplayDate.getFullYear() - dateRangeStart.getFullYear() : currDisplayDate.getMonth());\r\n\r\n      // Update year scroll position to current year\r\n      if (this.scrollInput) {\r\n        setTimeout(() => this.scrollInput.scrollTop(height), 10);\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n  }\r\n\r\n  /**\r\n   * renderMonths\r\n   *\r\n   * Render months dropdown\r\n   */\r\n  renderMonths() {\r\n    const {\r\n      currDisplayDate,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      setCalender,\r\n    } = this.props;\r\n\r\n    try {\r\n      const startYear = dateRangeStart.getFullYear();\r\n      const endYear = dateRangeEnd.getFullYear();\r\n      const currYear = currDisplayDate.getFullYear();\r\n\r\n      const startMonth = currYear === startYear ? dateRangeStart.getMonth() : 0;\r\n      const endMonth = currYear === endYear ? dateRangeEnd.getMonth() : 11;\r\n\r\n      return _.reduce(monthTextMapping, (result, item, index) => {\r\n        if (startMonth <= index && index <= endMonth) {\r\n          const jsx = (\r\n            <DropdownItem\r\n              onClick={() => {\r\n                setCalender(index, currYear);\r\n              }}\r\n              key={`month-${index.toString()}`}\r\n            >\r\n              {item}\r\n            </DropdownItem>\r\n          );\r\n          result.push(jsx);\r\n        }\r\n\r\n        return result;\r\n      }, []);\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * renderYears\r\n   *\r\n   * Render years dropdown\r\n   */\r\n  renderYears() {\r\n    const {\r\n      currDisplayDate,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      setCalender,\r\n    } = this.props;\r\n\r\n    try {\r\n      const start = dateRangeStart.getFullYear();\r\n      const end = dateRangeEnd.getFullYear();\r\n\r\n      const result = [];\r\n      for (let i = start; i <= end; ++i) {\r\n        result.push((\r\n          <DropdownItem\r\n            onClick={() => {\r\n              setCalender(currDisplayDate.getMonth(), i);\r\n            }}\r\n            key={`year-${i.toString()}`}\r\n          >\r\n            {i}\r\n          </DropdownItem>\r\n        ));\r\n      }\r\n\r\n      return result;\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const { isYear, currDisplayDate, isSingle } = this.props;\r\n\r\n    try {\r\n      const dateToUse = new Date(currDisplayDate.getFullYear(), currDisplayDate.getMonth(), 1);\r\n\r\n      let displayText = '';\r\n\r\n      if (isYear) {\r\n        displayText = dateToUse.getFullYear();\r\n      } else {\r\n        const month = dateToUse.getMonth();\r\n        displayText = monthTextMapping[month];\r\n      }\r\n\r\n      if (!isSingle) {\r\n        return <p>{displayText}</p>;\r\n      }\r\n\r\n      return (\r\n        <div className=\"month-year-selector\">\r\n          <UncontrolledDropdown>\r\n            <div ref={(dateMonthInput) => { this.dateMonthInput = dateMonthInput; }}>\r\n              <DropdownToggle\r\n                caret\r\n                outline\r\n                onClick={this.updateScrollPosition}\r\n              >\r\n                {displayText}\r\n              </DropdownToggle>\r\n            </div>\r\n            <DropdownMenu>\r\n              <Scrollbars\r\n                autoHeight\r\n                ref={(scrollInput) => { this.scrollInput = scrollInput; }}\r\n              >\r\n                {isYear ? this.renderYears() : this.renderMonths()}\r\n              </Scrollbars>\r\n            </DropdownMenu>\r\n          </UncontrolledDropdown>\r\n        </div>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\nMonthYearSelector.defaultProps = {\r\n  isYear: false,\r\n  isSingle: false,\r\n};\r\n\r\nMonthYearSelector.propTypes = {\r\n  isYear: PropTypes.bool,\r\n  setCalender: PropTypes.func.isRequired,\r\n  currDisplayDate: PropTypes.instanceOf(Date).isRequired,\r\n  dateRangeStart: PropTypes.instanceOf(Date).isRequired,\r\n  dateRangeEnd: PropTypes.instanceOf(Date).isRequired,\r\n  isSingle: PropTypes.bool,\r\n};\r\n\r\nexport default MonthYearSelector;\r\n","/**\r\n * DateInner.js\r\n * DateView only for rendering\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\n\r\nimport { dayTextList /* , deafultYearRange */ } from '../DatePicker.constants';\r\n\r\nimport './DaysList.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass DaysList extends Component {\r\n  /**\r\n   * renderDaysText\r\n   *\r\n   * Render the days text\r\n   */\r\n  renderDaysText() {\r\n    return _.map(dayTextList, day => (\r\n      <Col\r\n        xs=\"auto\"\r\n        className=\"days\"\r\n        key={day}\r\n      >\r\n        <p>{day}</p>\r\n      </Col>\r\n    ));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Row className=\"days-list-container\" noGutters>\r\n        <Col className=\"days-list-inner\" xs={12}>\r\n          <Row className=\"w-100\" noGutters>\r\n            {this.renderDaysText()}\r\n          </Row>\r\n        </Col>\r\n        <Col className=\"days-list-divider\" xs={12} />\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DaysList;\r\n","/**\r\n * DateInner.js\r\n * DateView only for rendering\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React, { Component } from 'react';\r\nimport {\r\n  Row,\r\n  Col,\r\n} from 'reactstrap';\r\n\r\nimport './Calender.scss';\r\n\r\n/**\r\n * Calender\r\n *\r\n * Render calender days for range selection\r\n */\r\nclass Calender extends Component {\r\n  render() {\r\n    const {\r\n      dateRangeEndOverwrite,\r\n      isSelectingStartDate,\r\n      startValue,\r\n      endValue,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      setSelectedDate,\r\n      isRange,\r\n      currDisplayDate,\r\n      hoverDate,\r\n      setDateRangeEndOverwrite,\r\n      setHoverDate,\r\n      offsetDays,\r\n    } = this.props;\r\n\r\n    const currFirstDay = new Date(currDisplayDate);\r\n    currFirstDay.setDate(1);\r\n\r\n    const currLastDay = new Date(currFirstDay.getFullYear(), currFirstDay.getMonth() + 1, 0);\r\n\r\n    const currFirstDayTime = currFirstDay.getTime();\r\n    const currLastDayTime = currLastDay.getTime();\r\n\r\n    const month = currFirstDay.getMonth();\r\n    const year = currFirstDay.getFullYear();\r\n\r\n    // Get the starting blank days of the calender\r\n    const startIndex = currFirstDay.getDay();\r\n    // Get the end day\r\n    const endIndex = currLastDay.getDate();\r\n\r\n    // Get starting time\r\n    const currHoverTime = hoverDate && hoverDate.getTime();\r\n    const startTime = startValue && startValue.getTime();\r\n    const endTime = endValue && endValue.getTime();\r\n\r\n    let startTimeToUse = startTime;\r\n    let endTimetoUse = endTime;\r\n\r\n    const fixedDateTime = isSelectingStartDate ? endTime : startTime;\r\n    const nonfixedDateTime = !isSelectingStartDate ? endTime : startTime;\r\n\r\n    if (hoverDate) {\r\n      // eslint-disable-next-line\r\n      startTimeToUse = currHoverTime < fixedDateTime ? currHoverTime : fixedDateTime;\r\n      // eslint-disable-next-line\r\n      endTimetoUse = currHoverTime > fixedDateTime ? currHoverTime : fixedDateTime;\r\n    }\r\n\r\n    const result = [];\r\n\r\n    // These are blank elements to simulate last month dates\r\n    for (let i = 0; i < startIndex; ++i) {\r\n      result.push(<div className=\"date-col\" key={`blank${i.toString()}`} />);\r\n    }\r\n\r\n    for (let i = 1; i <= endIndex; ++i) {\r\n      const currDay = new Date(year, month, i);\r\n      const currDayOfWeek = currDay.getDay();\r\n      const currTime = currDay.getTime();\r\n\r\n      const isSat = currDayOfWeek === 6;\r\n      const isSun = currDayOfWeek === 0;\r\n      const isStartDate = startTimeToUse === currTime;\r\n      const isEndDate = endTimetoUse === currTime;\r\n      const isWithin = startTimeToUse && endTimetoUse && startTimeToUse < currTime && currTime < endTimetoUse;\r\n      const isFirstDay = currFirstDayTime === currTime;\r\n      const isLastDay = currLastDayTime === currTime;\r\n\r\n      const isSameDay = startTimeToUse === endTimetoUse || (hoverDate && fixedDateTime === currHoverTime);\r\n      const isLeftBlockActive = !isSameDay && (!isSun && !isFirstDay) && ((isEndDate && startTimeToUse)\r\n                                || isWithin);\r\n      const isRightBlockActive = !isSameDay && (!isSat && !isLastDay) && ((isStartDate && endTimetoUse)\r\n                                || isWithin);\r\n      const isDayActive = isStartDate || isEndDate;\r\n      const isEndActive = isDayActive || (isWithin && (isSat || isSun || isFirstDay || isLastDay));\r\n\r\n      // Left bock, right block, circle block and selected circle block\r\n      const leftBlockStyle = isLeftBlockActive ? 'left-active' : 'left-inactive';\r\n      const rightBlockStyle = isRightBlockActive ? 'right-active' : 'right-inactive';\r\n      const endBlockStyle = isEndActive ? 'end-active' : 'end-inactive';\r\n      const dayStyle = isDayActive ? 'day-active' : 'day-inactive';\r\n      const focusStyle = (currHoverTime && currHoverTime === currTime) || (!currHoverTime && nonfixedDateTime === currTime) ? 'day-focus' : '';\r\n\r\n      // Check if day is in within selected range\r\n      let isBlocked = false;\r\n      // if (isRange) {\r\n      //   if (isSelectingStartDate && endValue) {\r\n      //     // isBlocked = currDay > endValue;\r\n      //   } else if (!isSelectingStartDate && startValue) {\r\n      //     // isBlocked = currDay < startValue;\r\n      //   }\r\n      // }\r\n\r\n      // Check if day is out of calender range\r\n      if (!isBlocked) {\r\n        isBlocked = currDay < dateRangeStart || currDay > (dateRangeEndOverwrite || dateRangeEnd);\r\n      }\r\n\r\n      result.push((\r\n        <Col\r\n          key={`day${i.toString()}`}\r\n          className=\"date-col\"\r\n          xs=\"auto\"\r\n        >\r\n          <button\r\n            className=\"day-container\"\r\n            type=\"button\"\r\n            onClick={() => {\r\n              if (!isBlocked) {\r\n                const { isSelectingStartDate: isSelectingStartDateCurr } = this.props;\r\n                setSelectedDate(new Date(year, month, i), isSelectingStartDateCurr);\r\n                setHoverDate(null);\r\n\r\n                if (isRange && isSelectingStartDateCurr) {\r\n                  setDateRangeEndOverwrite(new Date(year, month, i + offsetDays));\r\n                }\r\n              }\r\n            }}\r\n            onMouseEnter={() => {\r\n                if (!isBlocked) {\r\n                  setHoverDate(new Date(year, month, i));\r\n                }\r\n            }}\r\n            onMouseLeave={() => {\r\n                // if (!isSelectingStartDate) {\r\n                  setHoverDate(null);\r\n                // }\r\n            }}\r\n          >\r\n            <div className={`day-range  ${leftBlockStyle}`} />\r\n            <div className={`day-range  ${rightBlockStyle}`} />\r\n            <div className={`${endBlockStyle}`} />\r\n            {\r\n              isBlocked ?\r\n                <div className=\"day-disabled\">\r\n                  <p className=\"blocked\">{i}</p>\r\n                </div>\r\n              :\r\n                <div className={`day ${dayStyle} ${focusStyle}`}>\r\n                  <p>{i}</p>\r\n                </div>\r\n            }\r\n          </button>\r\n        </Col>\r\n      ));\r\n    }\r\n\r\n    return (\r\n      <Row className=\"calender-container\" noGutters>\r\n        {result}\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nCalender.defaultProps = {\r\n  startValue: null,\r\n  endValue: null,\r\n  dateRangeEndOverwrite: null,\r\n  currDisplayDate: null,\r\n  hoverDate: null,\r\n  offsetDays: 0,\r\n};\r\n\r\nCalender.propTypes = {\r\n  isRange: PropTypes.bool.isRequired,\r\n  startValue: PropTypes.instanceOf(Date),\r\n  endValue: PropTypes.instanceOf(Date),\r\n  dateRangeStart: PropTypes.instanceOf(Date).isRequired,\r\n  dateRangeEnd: PropTypes.instanceOf(Date).isRequired,\r\n  dateRangeEndOverwrite: PropTypes.instanceOf(Date),\r\n  currDisplayDate: PropTypes.instanceOf(Date),\r\n  hoverDate: PropTypes.instanceOf(Date),\r\n  setSelectedDate: PropTypes.func.isRequired,\r\n  isSelectingStartDate: PropTypes.bool.isRequired,\r\n  setDateRangeEndOverwrite: PropTypes.func.isRequired,\r\n  setHoverDate: PropTypes.func.isRequired,\r\n  offsetDays: PropTypes.number,\r\n};\r\n\r\nexport default Calender;\r\n","/**\r\n * DateInner.js\r\n * DateView only for rendering\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport PropTypes from 'prop-types';\r\nimport React, { Component, Fragment } from 'react';\r\nimport {\r\n  Row,\r\n  Col,\r\n} from 'reactstrap';\r\nimport moment from 'moment';\r\n\r\nimport CloseIcon from 'assets/images/common/CloseIcon.svg';\r\nimport Arrow from 'assets/images/forms/arrow.svg';\r\nimport Triangle from 'assets/images/forms/triangle.svg';\r\n\r\nimport MonthYearSelector from '../MonthYearSelector/MonthYearSelector';\r\nimport DaysList from '../DaysList/DaysList';\r\nimport Calender from '../Calender/Calender';\r\n\r\nimport './DateInner.scss';\r\n\r\nconst SINGLE = 0;\r\nconst MULTIPLELEFT = 1;\r\nconst MULTIPLERIGHT = 2;\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass DateInner extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      hoverDate: null,\r\n      dateRangeEndOverwrite: null,\r\n    };\r\n\r\n    this.setCalender = this.setCalender.bind(this);\r\n    this.setDateRangeEndOverwrite = this.setDateRangeEndOverwrite.bind(this);\r\n  }\r\n\r\n  // componentDidUpdate(prevProps) {\r\n  //   const { startValue } = this.props;\r\n\r\n  //   if (!isDateEqual(startValue, prevProps.startValue)) {\r\n  //     this.setDateRangeEndOverwrite(startValue);\r\n  //   }\r\n  // }\r\n\r\n  setDateRangeEndOverwrite(value) {\r\n    const {\r\n      dateRangeEnd,\r\n      offsetDays,\r\n    } = this.props;\r\n\r\n    let newEnd = value;\r\n\r\n    if (dateRangeEnd) {\r\n      const maxEnd = moment(dateRangeEnd).add(offsetDays, 'days').toDate();\r\n      newEnd = newEnd > maxEnd ? maxEnd : newEnd;\r\n    }\r\n\r\n    this.setState({ dateRangeEndOverwrite: newEnd });\r\n  }\r\n\r\n  /**\r\n   * setCalender\r\n   *\r\n   * Set visible calender\r\n   *\r\n   * @param {number} month\r\n   * @param {number} year\r\n   */\r\n  setCalender(month, year) {\r\n    const {\r\n      dateRangeEndOverwrite,\r\n    } = this.state;\r\n\r\n    const {\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      setNewDisplayDate,\r\n    } = this.props;\r\n\r\n    let date = new Date(year, month);\r\n\r\n    // Cap date range\r\n    if (date < dateRangeStart) {\r\n      date = dateRangeStart;\r\n    } else if (date > (dateRangeEndOverwrite || dateRangeEnd)) {\r\n      date = dateRangeEndOverwrite && dateRangeEndOverwrite > dateRangeEnd ? dateRangeEndOverwrite : dateRangeEnd;\r\n    }\r\n\r\n    setNewDisplayDate(date);\r\n  }\r\n\r\n  renderMonthSelectorArrows(isBack, month, year) {\r\n    const { isRange, isResp } = this.props;\r\n\r\n    return (\r\n      <Col\r\n        xs={1}\r\n        className=\"date-arrow-style\"\r\n      >\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => {\r\n            // eslint-disable-next-line\r\n            this.setCalender(isBack ? month - 1 : (isRange && !isResp ? month : month + 1), year);\r\n          }}\r\n        >\r\n          <img\r\n            src={Arrow}\r\n            alt=\"arrow.svg\"\r\n            className={isBack ? 'angle-left' : 'angle-right'}\r\n          />\r\n        </button>\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * renderDateInner\r\n   *\r\n   * Render the popup od the datepicker\r\n   */\r\n  renderDateInner(type) {\r\n    const { dateRangeEndOverwrite, hoverDate } = this.state;\r\n\r\n    const {\r\n      currDisplayDate,\r\n      isRange,\r\n      setSelectedDate,\r\n      startValue,\r\n      endValue,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      isSelectingStartDate,\r\n      isResp,\r\n      offsetDays,\r\n    } = this.props;\r\n\r\n    const dateToUse = new Date(currDisplayDate.getFullYear(), currDisplayDate.getMonth(), 1);\r\n    if (type === MULTIPLERIGHT) {\r\n      dateToUse.setMonth(dateToUse.getMonth() + 1);\r\n    }\r\n\r\n    const month = dateToUse.getMonth();\r\n    const year = dateToUse.getFullYear();\r\n\r\n    let upperStyle = '';\r\n    if (isRange && !isResp) {\r\n      upperStyle = type === MULTIPLERIGHT ? 'range-right' : 'range-left';\r\n    }\r\n\r\n    return (\r\n      <div className=\"date-inner-container\">\r\n        {\r\n          type !== MULTIPLERIGHT ?\r\n            <div\r\n              role=\"button\"\r\n              className=\"close-button-container\"\r\n              onKeyPress={() => {}}\r\n              onClick={() => {\r\n                setSelectedDate(startValue, true);\r\n                setSelectedDate(endValue, false);\r\n              }}\r\n              tabIndex={-1}\r\n            >\r\n              <img src={CloseIcon} className=\"close-icon\" alt=\"close\" />\r\n            </div>\r\n            : null\r\n        }\r\n        <Row className={upperStyle} noGutters>\r\n          {type !== MULTIPLERIGHT && this.renderMonthSelectorArrows(true, month, year)}\r\n          <Col xs={6} className=\"selector-left\">\r\n            <MonthYearSelector\r\n              setCalender={this.setCalender}\r\n              currDisplayDate={dateToUse}\r\n              dateRangeStart={dateRangeStart}\r\n              dateRangeEnd={dateRangeEnd}\r\n              isSingle={type === SINGLE}\r\n            />\r\n          </Col>\r\n          <Col xs={4} className=\"selector-right\">\r\n            <MonthYearSelector\r\n              isYear\r\n              setCalender={this.setCalender}\r\n              currDisplayDate={dateToUse}\r\n              dateRangeStart={dateRangeStart}\r\n              dateRangeEnd={dateRangeEnd}\r\n              isSingle={type === SINGLE}\r\n            />\r\n          </Col>\r\n          {type !== MULTIPLELEFT && this.renderMonthSelectorArrows(false, month, year)}\r\n        </Row>\r\n        <DaysList />\r\n        <Calender\r\n          isRange={isRange}\r\n          startValue={startValue}\r\n          endValue={endValue}\r\n          dateRangeStart={dateRangeStart}\r\n          dateRangeEnd={dateRangeEnd}\r\n          dateRangeEndOverwrite={dateRangeEndOverwrite}\r\n          currDisplayDate={dateToUse}\r\n          hoverDate={hoverDate}\r\n          setSelectedDate={setSelectedDate}\r\n          isSelectingStartDate={isSelectingStartDate}\r\n          setDateRangeEndOverwrite={this.setDateRangeEndOverwrite}\r\n          setHoverDate={value => this.setState({ hoverDate: value })}\r\n          offsetDays={offsetDays}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isOpened,\r\n      isRange,\r\n      isArrowUp,\r\n      inputWidth,\r\n      isSelectingStartDate,\r\n      isResp,\r\n    } = this.props;\r\n\r\n    const openedStyle = isOpened ? 'dateinner-opened' : '';\r\n    const dateOpenStyle = isOpened ? 'date-container-opened' : 'date-container-closed';\r\n\r\n\r\n    const respStyle = isResp ? 'inner-absolute' : '';\r\n    const isArrowUpToUse = isResp || isArrowUp;\r\n    const arrowStyle = isArrowUpToUse ? 'arrow-up' : 'arrow-down';\r\n    const rangeBorders = isRange ? '' : '';\r\n\r\n    let transform = `translateX(20px) ${isArrowUpToUse ? '' : 'rotate(180deg)'}`;\r\n    if (isRange && inputWidth !== null) {\r\n      transform = `translateX(${(isSelectingStartDate ? 0 : inputWidth * 0.5) + 20}px) ${isArrowUpToUse ? '' : 'rotate(180deg)'}`;\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        <div className={`${openedStyle} ${respStyle} dateinner-v3`}>\r\n          <div className={dateOpenStyle}>\r\n            <img\r\n              className={['arrow-range', arrowStyle, respStyle].join(' ')}\r\n              src={Triangle}\r\n              alt=\"triangle.svg\"\r\n              style={{ transform }}\r\n            />\r\n            <div\r\n              className={`list-container list-opened ${rangeBorders}`}\r\n              ref={node => this.listCont = node}\r\n            >\r\n              {this.renderDateInner(isRange && !isResp ? MULTIPLELEFT : SINGLE)}\r\n              {isRange && !isResp && this.renderDateInner(MULTIPLERIGHT)}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nDateInner.defaultProps = {\r\n  startValue: null,\r\n  endValue: null,\r\n  inputWidth: 0,\r\n  offsetDays: 0,\r\n};\r\n\r\nDateInner.propTypes = {\r\n  isOpened: PropTypes.bool.isRequired,\r\n  isRange: PropTypes.bool.isRequired,\r\n  currDisplayDate: PropTypes.instanceOf(Date).isRequired,\r\n  startValue: PropTypes.instanceOf(Date),\r\n  endValue: PropTypes.instanceOf(Date),\r\n  dateRangeStart: PropTypes.instanceOf(Date).isRequired,\r\n  dateRangeEnd: PropTypes.instanceOf(Date).isRequired,\r\n  setSelectedDate: PropTypes.func.isRequired,\r\n  setNewDisplayDate: PropTypes.func.isRequired,\r\n  isArrowUp: PropTypes.bool.isRequired,\r\n  isSelectingStartDate: PropTypes.bool.isRequired,\r\n  inputWidth: PropTypes.number,\r\n  isResp: PropTypes.bool.isRequired,\r\n  offsetDays: PropTypes.number,\r\n};\r\n\r\nexport default DateInner;\r\n","/**\r\n * DatePickerV2.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport document from 'global/document';\r\nimport window from 'global/window';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { Input } from 'reactstrap';\r\nimport ReactDOM from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\n\r\nimport Arrow from 'assets/images/forms/arrow.svg';\r\nimport DateIn from 'assets/images/forms/dateIn.svg';\r\nimport DateOut from 'assets/images/forms/dateOut.svg';\r\n\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\nimport DateInner from './DateInner/DateInner';\r\n\r\nimport { deafultYearRange } from './DatePicker.constants';\r\n\r\nimport {\r\n  isDateEqual,\r\n  // storeStringToDate,\r\n  slashedStringDateToDate,\r\n  dateToString,\r\n  // dateToStoreString,\r\n} from '../../../lib/dateFunctions';\r\n\r\nimport '../DropDown/DropDown.scss';\r\nimport './DatePicker.scss';\r\n\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass DatePicker extends Component {\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {object} props Component props\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // size - Size of this control\r\n    // startDate - Start range of date\r\n    // endDate - End range of date\r\n    // currDisplayDate - Day to set current view in calender (Default to today)\r\n    const {\r\n      startDate,\r\n      endDate,\r\n      startValue,\r\n    } = this.props;\r\n\r\n    // Get current date\r\n    const date = startValue || new Date();\r\n    const year = date.getFullYear();\r\n    const month = date.getMonth();\r\n    // Get first and last day of the month to display\r\n    const firstDay = new Date(year, month, 1);\r\n    const lastDay = new Date(year, month + 1, 0);\r\n    // Get the calender range\r\n    const dateRangeStart = startDate != null ? startDate : new Date(year - deafultYearRange, month);\r\n    const dateRangeEnd = endDate != null ? endDate : new Date(year + deafultYearRange, month);\r\n\r\n    // isOpened - Whether dropdown is opened\r\n    // isError - Whether there is input error\r\n    // selectedString - The selected date string\r\n    // currDisplayDate - Current selected date in view\r\n    // currFirstDay - Current first day of the month in view\r\n    // currLastDay - Current last day of the month in view\r\n    // monthDropdownOpen - Whether month selector is opened\r\n    // yearDropdownOpen - Whether year selector is opened\r\n    // dateRangeStart - The actual calender start range\r\n    // dateRangeEnd - The actual calender end range\r\n    this.state = {\r\n      isOpened: false,\r\n      currDisplayDate: date,\r\n      currFirstDay: firstDay,\r\n      currLastDay: lastDay,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      isArrowUp: false,\r\n      startDateString: '',\r\n      endDateString: '',\r\n      isSelectingStartDate: true,\r\n      inputWidth: 0,\r\n      isResp: false,\r\n    };\r\n\r\n    this.handleSelectClick = this.handleSelectClick.bind(this);\r\n    this.handleClickOutside = this.handleClickOutside.bind(this);\r\n\r\n    this.handleKeyPress = this.handleKeyPress.bind(this);\r\n    this.handleExit = this.handleExit.bind(this);\r\n\r\n    this.setSelectedDate = this.setSelectedDate.bind(this);\r\n    this.setNewDisplayDate = this.setNewDisplayDate.bind(this);\r\n    this.onMovement = this.onMovement.bind(this);\r\n\r\n    this.renderInputs = this.renderInputs.bind(this);\r\n    this.renderInner = this.renderInner.bind(this);\r\n\r\n    this.dateValidateAndUpdate = this.dateValidateAndUpdate.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentDidMount\r\n   */\r\n  componentDidMount() {\r\n    // Add Handler to handle click outside of screen\r\n    document.addEventListener('mousedown', this.handleClickOutside);\r\n    window.addEventListener('scroll', this.onMovement);\r\n    window.addEventListener('resize', this.onMovement);\r\n\r\n    const {\r\n      startValue,\r\n      endValue,\r\n    } = this.props;\r\n\r\n    if (startValue) {\r\n      this.setSelectedDate(startValue, true);\r\n    }\r\n\r\n    if (endValue) {\r\n      this.setSelectedDate(endValue < startValue ? startValue : endValue, false);\r\n    }\r\n\r\n    this.setState({\r\n      dateInnerDOM: ReactDOM.findDOMNode(this.dateInner),\r\n      datePickerDOM: ReactDOM.findDOMNode(this.wrapperRef),\r\n    });\r\n\r\n    this.onMovement();\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentDidUpdate\r\n   *\r\n   * Used to update dropdown position\r\n   * of month and year selector\r\n   */\r\n  async componentDidUpdate(prevProps) {\r\n    const {\r\n      startValue,\r\n      endValue,\r\n    } = this.props;\r\n\r\n    if (\r\n      ((prevProps.startValue || startValue) && !isDateEqual(prevProps.startValue, startValue)) ||\r\n      ((prevProps.endValue || endValue) && !isDateEqual(prevProps.endValue, endValue))\r\n    ) {\r\n      const updateData = this.dateValidateAndUpdate();\r\n\r\n      this.setState({\r\n        startDateString: updateData.startDateString === 'Invalid Date' ? '' : updateData.startDateString,\r\n        endDateString: updateData.endDateString === 'Invalid Date' ? '' : updateData.endDateString,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentWillUnmount\r\n   */\r\n  componentWillUnmount() {\r\n    // Remove Handler to handle click outside of screen\r\n    document.removeEventListener('mousedown', this.handleClickOutside);\r\n    window.removeEventListener('scroll', this.onMovement);\r\n    window.removeEventListener('resize', this.onMovement);\r\n  }\r\n\r\n\r\n  // Make sure that the popup is always in the window\r\n  onMovement() {\r\n    const {\r\n      dateInnerDOM,\r\n      datePickerDOM,\r\n      isOpened,\r\n      isResp,\r\n    } = this.state;\r\n\r\n    const { innerWidth } = window;\r\n\r\n    if (isOpened) {\r\n      const newState = {};\r\n      let clientRect = null;\r\n      const currIsResp = innerWidth < 576;\r\n\r\n      if (dateInnerDOM && datePickerDOM) {\r\n        let top = 56;\r\n        let left = 0;\r\n        let right = 0;\r\n        if (!currIsResp) {\r\n          clientRect = datePickerDOM.getBoundingClientRect();\r\n          const isOverHeight = !currIsResp && clientRect.bottom + 540 > window.outerHeight;\r\n          newState.isArrowUp = !isOverHeight;\r\n\r\n          const isOverFlow = clientRect.left + 530 > window.innerWidth;\r\n          left = isOverFlow ? `${window.innerWidth - 530}px` : `${clientRect.left}px`;\r\n          top = !currIsResp && isOverHeight ? clientRect.top - 330 : clientRect.bottom + 10;\r\n          right = '';\r\n        }\r\n\r\n        dateInnerDOM.style.left = left;\r\n        dateInnerDOM.style.right = right;\r\n        dateInnerDOM.style.top = `${top}px`;\r\n        newState.inputWidth = this.wrapperRef.getBoundingClientRect().width;\r\n      }\r\n\r\n      if ((isResp && !currIsResp) || (!isResp && currIsResp)) {\r\n        newState.isResp = currIsResp;\r\n      }\r\n\r\n      this.setState(newState);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * setNewDisplayDate\r\n   *\r\n   * Set new current date and\r\n   * start and end of calender\r\n   *\r\n   * @param {date} date\r\n   */\r\n  setNewDisplayDate(date) {\r\n    const dateToUse = date || new Date();\r\n    const newYear = dateToUse.getFullYear();\r\n    const newMonth = dateToUse.getMonth();\r\n\r\n    // Get first and last day of visible month\r\n    const firstDay = new Date(newYear, newMonth, 1);\r\n    const lastDay = new Date(newYear, newMonth + 1, 0);\r\n\r\n    // Set new calender values\r\n    this.setState({\r\n      currDisplayDate: dateToUse,\r\n      currFirstDay: firstDay,\r\n      currLastDay: lastDay,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * setSelectedDate\r\n   *\r\n   * Updated selected date to store\r\n   *\r\n   * @param {date} date\r\n   */\r\n  async setSelectedDate(date, isStart = true) {\r\n    return new Promise(async (resolve) => {\r\n      try {\r\n        const updateData = this.dateValidateAndUpdate(isStart && date, !isStart && date);\r\n\r\n        if (updateData) {\r\n          if (isStart && updateData.currStartValue) {\r\n            this.setNewDisplayDate(updateData.currStartValue);\r\n          }\r\n        }\r\n\r\n        this.setState({\r\n          isOpened: !!(updateData && updateData.isChooseEndDate),\r\n          isSelectingStartDate: false,\r\n          startDateString: updateData.startDateString,\r\n          endDateString: updateData.endDateString,\r\n        }, resolve);\r\n      } catch (error) {\r\n        // eslint-disable-next-line\r\n        resolve();\r\n      }\r\n    });\r\n  }\r\n\r\n  getDateFromDateString(dateString) {\r\n    try {\r\n      let date = slashedStringDateToDate(dateString);\r\n      if (date && date.toString() === 'Invalid Date') {\r\n        date = moment(dateString).toDate();\r\n      }\r\n\r\n      return date;\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return 'Invalid Date';\r\n  }\r\n\r\n  /**\r\n   * End selection if click on outside\r\n   *\r\n   * @param {object} event\r\n   */\r\n  handleClickOutside(event) {\r\n    const { isOpened, dateInnerDOM } = this.state;\r\n\r\n    // If clicked outside of daterpicekr Inner or wrapper, go to exit\r\n    if (\r\n      isOpened &&\r\n      this.wrapperRef &&\r\n      !this.wrapperRef.contains(event.target) &&\r\n      dateInnerDOM &&\r\n      !dateInnerDOM.contains(event.target)\r\n    ) {\r\n      this.setState({\r\n        isOpened: false,\r\n      });\r\n\r\n      this.handleExit();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * handleKeyPress\r\n   *\r\n   * Handle on enter key\r\n   *\r\n   * @param {object} target\r\n   */\r\n  handleKeyPress(target) {\r\n    // If pressed on enter, go to exit\r\n    if (target.charCode === 13) {\r\n      target.preventDefault();\r\n      this.handleExit();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * handleSelectClick\r\n   *\r\n   * Handle toggling of datepicker\r\n   */\r\n  handleSelectClick(isStart = true) {\r\n    const {\r\n      isOpened,\r\n      isSelectingStartDate,\r\n    } = this.state;\r\n\r\n    const {\r\n      startValue,\r\n      endValue,\r\n      isRange,\r\n    } = this.props;\r\n\r\n    let openStartDateString = {};\r\n    let openEndDateString = {};\r\n\r\n    if (!isOpened) {\r\n      openStartDateString = { startDateString: startValue && dateToString(startValue) };\r\n      openEndDateString = { endDateString: endValue && dateToString(endValue) };\r\n    }\r\n\r\n    this.setState({\r\n      isOpened: ((isSelectingStartDate && !isStart) || (!isSelectingStartDate && isStart) || !isOpened),\r\n      isSelectingStartDate: isStart,\r\n      ...openStartDateString,\r\n      ...openEndDateString,\r\n    }, () => {\r\n      if (this.state.isOpened) {\r\n        this.onMovement();\r\n        this.setNewDisplayDate(this.state.isSelectingStartDate ? startValue : endValue);\r\n        return;\r\n      }\r\n\r\n      const {\r\n        startDateString: closeStartDateString,\r\n        endDateString: closeEndDateString,\r\n      } = this.state;\r\n\r\n      const startDate = this.getDateFromDateString(closeStartDateString);\r\n      const endDate = isRange && this.getDateFromDateString(closeEndDateString);\r\n\r\n      const updateData = this.dateValidateAndUpdate(startDate, endDate);\r\n\r\n      this.setState({\r\n        startDateString: updateData.startDateString,\r\n        endDateString: updateData.endDateString,\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * handleExit\r\n   *\r\n   * Handle exit selection of entered input\r\n   */\r\n  handleExit(newDate, isStart) {\r\n    const {\r\n      startDateString,\r\n      endDateString,\r\n    } = this.state;\r\n\r\n    const {\r\n      endName,\r\n    } = this.props;\r\n\r\n    let startDate = isStart && newDate;\r\n    let endDate = !isStart && endName && newDate;\r\n\r\n    try {\r\n      if (!startDate) {\r\n        startDate = this.getDateFromDateString(startDateString);\r\n      }\r\n      if (endName && !endDate) {\r\n        endDate = this.getDateFromDateString(endDateString);\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    const updateData = this.dateValidateAndUpdate(startDate, endDate);\r\n\r\n    if (updateData) {\r\n      this.setState({\r\n        isOpened: false,\r\n        isSelectingStartDate: false,\r\n        startDateString: updateData.startDateString,\r\n        endDateString: updateData.endDateString,\r\n      });\r\n    }\r\n  }\r\n\r\n  dateValidateAndUpdate(newStartValue = null, newEndValue = null) {\r\n    const { dateRangeStart, dateRangeEnd } = this.state;\r\n    const {\r\n      startValue,\r\n      endValue,\r\n      offsetDays,\r\n      isRange,\r\n      onChange,\r\n      name,\r\n      endName,\r\n    } = this.props;\r\n\r\n    // Whether need user to choose new end date\r\n    let isChooseEndDate = false;\r\n\r\n    // Check if inputs are invalid dates\r\n    const isNewStartInvalid = newStartValue && newStartValue.toString() === 'Invalid Date';\r\n    const isNewEndInvalid = newEndValue && newEndValue.toString() === 'Invalid Date';\r\n\r\n    // Get new or existing dates\r\n    const startValueToUse = isNewStartInvalid ? null : ((!isNewStartInvalid && newStartValue) || startValue);\r\n    const endValueToUse = isNewEndInvalid ? null : ((!isNewEndInvalid && newEndValue) || endValue);\r\n\r\n    // Dates to be modified later\r\n    let currStartValue = startValueToUse;\r\n    let currEndValue = endValueToUse;\r\n\r\n    // The date string for the input field\r\n    let startDateString = 'Invalid Date';\r\n    let endDateString = 'Invalid Date';\r\n\r\n    try {\r\n      // Choose end date if is range picker and have new start but no end value\r\n      isChooseEndDate = isRange && newStartValue && !endValue;\r\n\r\n      // For range only\r\n      if (isRange) {\r\n        // The max date is end range + 181 days\r\n        const trueMaxEnd = dateRangeEnd && moment(dateRangeEnd).add(offsetDays, 'days').toDate();\r\n        // Max curr date is current start date + 181\r\n        const currMaxEnd = startValueToUse && moment(startValueToUse).add(offsetDays, 'days').toDate();\r\n        // Get the smallest end date\r\n        const maxEnd = currMaxEnd < trueMaxEnd ? currMaxEnd : trueMaxEnd;\r\n\r\n        // If selected new start date is greater than end date,\r\n        // make end date to be 1 day after new start date\r\n        // and let user choose end date again\r\n        if (newStartValue && startValueToUse > endValueToUse) {\r\n          currEndValue = moment(startValueToUse).add(1, 'days').toDate();\r\n          isChooseEndDate = true;\r\n        }\r\n\r\n        // If selected new end date is less than start date,\r\n        // swap both dates\r\n        // and let user choose end date again\r\n        if (newEndValue && startValueToUse > endValueToUse) {\r\n          currStartValue = endValueToUse;\r\n          currEndValue = startValueToUse;\r\n          isChooseEndDate = true;\r\n        }\r\n\r\n        // If end date is less than start range, make it to start range\r\n        if (currEndValue && currEndValue < dateRangeStart) {\r\n          currEndValue = dateRangeStart;\r\n        }\r\n\r\n        // If start date is greater than end range, make it to end range\r\n        if (currStartValue && currStartValue > maxEnd) {\r\n          currStartValue = maxEnd;\r\n        }\r\n\r\n        // If end date is more than end range, make it to end range\r\n        if (currEndValue && currEndValue > maxEnd) {\r\n          currEndValue = maxEnd;\r\n        }\r\n\r\n        // if new end date is diff from state, update it\r\n        if (!isDateEqual(endValue, currEndValue)) {\r\n          onChange('date', endName, currEndValue);\r\n        }\r\n      }\r\n\r\n      // If start date is less than start range, make it to start range\r\n      if (currStartValue && currStartValue < dateRangeStart) {\r\n        currStartValue = dateRangeStart;\r\n      }\r\n\r\n      // If start date is greater than end range, make it to end range\r\n      // No need max end as start date need to be within end range\r\n      if (currStartValue && currStartValue > dateRangeEnd) {\r\n        currStartValue = dateRangeEnd;\r\n      }\r\n\r\n      // if new start date is diff from state, update it\r\n      if (!isDateEqual(startValue, currStartValue)) {\r\n        onChange('date', name, currStartValue);\r\n      }\r\n\r\n      // Get new input strings\r\n      startDateString = currStartValue ? moment(currStartValue).format('DD MMM YYYY') : startDateString;\r\n      endDateString = currEndValue ? moment(currEndValue).format('DD MMM YYYY') : startDateString;\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return {\r\n      isChooseEndDate,\r\n      currEndValue,\r\n      currStartValue,\r\n      startDateString,\r\n      endDateString,\r\n    };\r\n  }\r\n\r\n  renderDropDownArrow() {\r\n    const { isOpened } = this.state;\r\n\r\n    return (\r\n      <button\r\n        type=\"button\"\r\n        className=\"selected-arrow\"\r\n        onMouseDown={this.handleSelectClick}\r\n      >\r\n        <img\r\n          src={Arrow}\r\n          alt=\"arrow.svg\"\r\n          className={`selected-arrow-style ${isOpened ? 'angle-up' : 'angle-down'}`}\r\n        />\r\n      </button>\r\n    );\r\n  }\r\n\r\n  renderInputField(isStart) {\r\n    const {\r\n      startDateString,\r\n      endDateString,\r\n      isSelectingStartDate,\r\n      isOpened,\r\n    } = this.state;\r\n\r\n    const {\r\n      name,\r\n      endName,\r\n      isDisableTyping,\r\n      placeholderString,\r\n      noInternalDesc,\r\n      isRange,\r\n    } = this.props;\r\n\r\n    const rangeStyle = isRange ? 'range-style' : '';\r\n    let selectingDateStyle = '';\r\n    if (isOpened && isRange) {\r\n      selectingDateStyle = (isSelectingStartDate && isStart) || (!isSelectingStartDate && !isStart) ? 'faded-style' : '';\r\n    }\r\n\r\n    const displayValue = isStart ? startDateString : endDateString;\r\n    const nameToUse = isStart ? name : endName;\r\n\r\n    return (\r\n      <button\r\n        type=\"button\"\r\n        className={`selected-text text-style ${rangeStyle} ${selectingDateStyle}`}\r\n        onKeyPress={this.handleKeyPress}\r\n        onMouseDown={(e) => {\r\n          if (window.innerWidth <= 576) {\r\n            e.preventDefault();\r\n          }\r\n          this.handleSelectClick(isStart);\r\n        }}\r\n      >\r\n        <Input\r\n          value={displayValue || ''}\r\n          name={nameToUse}\r\n          onChange={e => this.setState({\r\n            [isStart ? 'startDateString' : 'endDateString']: e.target.value,\r\n          })}\r\n          placeholder={noInternalDesc ? placeholderString : ''}\r\n          autoComplete=\"off\"\r\n          disabled={isDisableTyping}\r\n        />\r\n      </button>\r\n    );\r\n  }\r\n\r\n  renderInputs() {\r\n    const {\r\n      isRange,\r\n    } = this.props;\r\n\r\n    if (!isRange) {\r\n      return (\r\n        <Fragment>\r\n          {this.renderInputField(true)}\r\n          {this.renderDropDownArrow()}\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        <div className=\"date-input-container\">\r\n          <div className=\"img-container\">\r\n            <img\r\n              className=\"date-in\"\r\n              src={DateIn}\r\n              alt=\"Date Range Icon\"\r\n            />\r\n          </div>\r\n          {this.renderInputField(true)}\r\n        </div>\r\n        <div className=\"seperator\" />\r\n        <div className=\"date-input-container\">\r\n          <div className=\"img-container\">\r\n            <img\r\n              className=\"date-out\"\r\n              src={DateOut}\r\n              alt=\"Date Range Icon\"\r\n            />\r\n          </div>\r\n          {this.renderInputField(false)}\r\n        </div>\r\n        {this.renderDropDownArrow()}\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderPopup() {\r\n    const {\r\n      isOpened,\r\n      currDisplayDate,\r\n      currFirstDay,\r\n      currLastDay,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      isArrowUp,\r\n      isSelectingStartDate,\r\n      inputWidth,\r\n      isResp,\r\n    } = this.state;\r\n\r\n    const {\r\n      isRange,\r\n      startValue,\r\n      endValue,\r\n      offsetDays,\r\n    } = this.props;\r\n\r\n\r\n    return (\r\n      <DateInner\r\n        ref={node => this.dateInner = node}\r\n        isOpened={!!isOpened}\r\n        isRange={isRange}\r\n        currDisplayDate={currDisplayDate}\r\n        currFirstDay={currFirstDay}\r\n        currLastDay={currLastDay}\r\n        startValue={startValue}\r\n        endValue={endValue}\r\n        dateRangeStart={dateRangeStart}\r\n        dateRangeEnd={dateRangeEnd}\r\n        setSelectedDate={this.setSelectedDate}\r\n        setNewDisplayDate={this.setNewDisplayDate}\r\n        isArrowUp={isArrowUp}\r\n        isSelectingStartDate={!!isSelectingStartDate}\r\n        inputWidth={inputWidth}\r\n        isResp={isResp}\r\n        offsetDays={offsetDays}\r\n      />\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Render component\r\n   */\r\n  renderInner() {\r\n    const { isOpened } = this.state;\r\n\r\n    const {\r\n      errorString,\r\n      placeholderString,\r\n      noInternalDesc,\r\n      startValue,\r\n    } = this.props;\r\n\r\n    const dropDownOpenStyle = isOpened ? 'dropdown-container-opened' : 'dropdown-container-closed';\r\n    const isErrorStyle = errorString ? 'error' : '';\r\n    const titleStyle = startValue ? 'focused-title' : '';\r\n    const noInternalDescStyle = noInternalDesc ? 'no-internal-desc' : '';\r\n\r\n    return (\r\n      <div\r\n        className={`dropdown-container-v3 datepicker-container-v3 ${noInternalDescStyle}`}\r\n        ref={node => (this.wrapperRef = node)}\r\n      >\r\n        <div className={`dropdown-container ${dropDownOpenStyle}  ${isErrorStyle}`}>\r\n          {\r\n            noInternalDesc ? null :\r\n            <div className={`title-header ${titleStyle}`}>\r\n              {placeholderString}\r\n            </div>\r\n          }\r\n          <div className=\"selected-container align-items-center\">\r\n            {this.renderInputs()}\r\n          </div>\r\n        </div>\r\n        {this.renderPopup()}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Render component\r\n   */\r\n  render() {\r\n    const {\r\n      isRange,\r\n      desc,\r\n      extraInfo,\r\n      errorString,\r\n    } = this.props;\r\n\r\n    // Range picker will take over the wrapper\r\n    if (!isRange) {\r\n      return (\r\n        <FormInputWrapper\r\n          desc={desc}\r\n          extraInfo={extraInfo}\r\n          errorString={errorString}\r\n        >\r\n          {this.renderInner()}\r\n        </FormInputWrapper>\r\n      );\r\n    }\r\n\r\n    return this.renderInner();\r\n  }\r\n}\r\n\r\nDatePicker.defaultProps = {\r\n  isRange: false,\r\n  startDate: null,\r\n  endDate: null,\r\n  desc: null,\r\n  extraInfo: null,\r\n  errorString: null,\r\n  noInternalDesc: false,\r\n  isDisableTyping: false,\r\n  endName: null,\r\n  placeholderString: null,\r\n  startValue: null,\r\n  endValue: null,\r\n  offsetDays: 0,\r\n};\r\n\r\nDatePicker.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  endName: PropTypes.string,\r\n  isRange: PropTypes.bool,\r\n  startDate: PropTypes.instanceOf(Date),\r\n  endDate: PropTypes.instanceOf(Date),\r\n  desc: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  errorString: PropTypes.string,\r\n  isDisableTyping: PropTypes.bool,\r\n  noInternalDesc: PropTypes.bool,\r\n  onChange: PropTypes.func.isRequired,\r\n  placeholderString: PropTypes.string,\r\n  startValue: PropTypes.instanceOf(Date),\r\n  endValue: PropTypes.instanceOf(Date),\r\n  offsetDays: PropTypes.number,\r\n};\r\n\r\nexport default DatePicker;\r\n","/**\r\n * DatePicker.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport DatePicker from '../DatePicker/DatePicker';\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass DateRangePicker extends Component {\r\n  render() {\r\n    const {\r\n      values,\r\n      onChange,\r\n      desc,\r\n      extraInfo,\r\n      startName,\r\n      endName,\r\n      startDate,\r\n      endDate,\r\n      errorStringStart,\r\n      errorStringEnd,\r\n      offsetDays,\r\n    } = this.props;\r\n\r\n    const errorString = (errorStringStart || errorStringEnd) && `${`${errorStringStart} ` || ''}${errorStringEnd || ''}`;\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        desc={desc}\r\n        extraInfo={extraInfo}\r\n        errorString={errorString}\r\n        isDateRange\r\n      >\r\n        <div className=\"date-range-picker-new\">\r\n          <DatePicker\r\n            startValue={values && values[startName] && values[startName].value}\r\n            endValue={values && values[endName] && values[endName].value}\r\n            onChange={onChange}\r\n            name={startName}\r\n            endName={endName}\r\n            isRange\r\n            startDate={startDate}\r\n            endDate={endDate}\r\n            errorString={errorString}\r\n            offsetDays={offsetDays}\r\n          />\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nDateRangePicker.defaultProps = {\r\n  desc: null,\r\n  extraInfo: null,\r\n  startDate: null,\r\n  endDate: null,\r\n  errorStringStart: null,\r\n  errorStringEnd: null,\r\n  values: null,\r\n  offsetDays: 0,\r\n};\r\n\r\nDateRangePicker.propTypes = {\r\n  onChange: PropTypes.func.isRequired,\r\n  startName: PropTypes.string.isRequired,\r\n  endName: PropTypes.string.isRequired,\r\n  desc: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  startDate: PropTypes.instanceOf(Date),\r\n  endDate: PropTypes.instanceOf(Date),\r\n  errorStringStart: PropTypes.string,\r\n  errorStringEnd: PropTypes.string,\r\n  values: PropTypes.object,\r\n  offsetDays: PropTypes.number,\r\n};\r\n\r\nexport default DateRangePicker;\r\n","/**\r\n * DropDown.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Tooltip from 'components/Templates/Tooltip/Tooltip';\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport './ImageSelection.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass ImageSelection extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      clickStyle: 'click-right',\r\n    };\r\n  }\r\n\r\n  handleOnClick(value) {\r\n    try {\r\n      const {\r\n        onChange,\r\n        name,\r\n        value: oldValue,\r\n        inputData,\r\n      } = this.props;\r\n\r\n      const newValue = inputData.is_required === false && value === oldValue ? null : value;\r\n      onChange(inputData.type, name, newValue);\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n  }\r\n\r\n  renderTitle() {\r\n    const { inputData } = this.props;\r\n\r\n    if (!inputData.title && !inputData.tooltip) {\r\n      return null;\r\n    }\r\n\r\n    try {\r\n      return (\r\n        <div className=\"title-container\">\r\n          <h3>{inputData.title}</h3>\r\n          {\r\n            inputData.tooltip &&\r\n            <Tooltip\r\n              id={inputData.slug}\r\n            >\r\n              <p>{inputData.tooltip}</p>\r\n            </Tooltip>\r\n          }\r\n        </div>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderItem(itemData, index, isTooltip) {\r\n    const { clickStyle } = this.state;\r\n    const { inputData, value } = this.props;\r\n\r\n    try {\r\n      const isSelected = (inputData.is_required && !value && index === 0) || (value && value === itemData.value);\r\n      const key = `${inputData.slug}-option-${index}`;\r\n\r\n      return (\r\n        <Col\r\n          key={key}\r\n          xs={6}\r\n          className=\"item-container-wrapper\"\r\n        >\r\n          <div className=\"item-container-wrapper-inner\">\r\n            <button\r\n              type=\"button\"\r\n              className={`item-container ${isSelected && 'selected'} ${clickStyle}`}\r\n              onClick={() => {\r\n                this.setState({\r\n                  clickStyle: index % 2 === 0 ? 'click-left' : 'click-right',\r\n                }, () => this.handleOnClick(itemData.value));\r\n              }}\r\n            >\r\n              <div className={`bg ${isSelected && 'bg-active'}`} />\r\n              <div className=\"image\">\r\n                <img src={itemData.icon_img} alt={`${key}.svg`} />\r\n              </div>\r\n            </button>\r\n            <div className=\"item-container-bottom\">\r\n              {\r\n                isTooltip &&\r\n                <div className=\"inner-tooltip\">\r\n                  {\r\n                    itemData.tooltip &&\r\n                    <Tooltip\r\n                      id={key}\r\n                    >\r\n                      <p>{itemData.tooltip}</p>\r\n                    </Tooltip>\r\n                  }\r\n                </div>\r\n              }\r\n              <div className={['desc', isTooltip ? 'desc-padding' : ''].join(' ')}>\r\n                <p>{itemData.title}</p>\r\n                <p className=\"sub-title\">{itemData.sub_title}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderOptions() {\r\n    const { inputData } = this.props;\r\n\r\n    try {\r\n      const isTooltip = _.find(inputData.options, option => option && option.tooltip);\r\n\r\n      return _.map(inputData.options, (option, index) => this.renderItem(option, index, isTooltip));\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const { inputData, errorString, extraInfo } = this.props;\r\n\r\n    if (!inputData) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        className=\"image-selection-margin\"\r\n        errorString={errorString}\r\n        extraInfo={extraInfo}\r\n      >\r\n        <div className=\"image-selection-container\">\r\n          {this.renderTitle()}\r\n          <Row className=\"options-container\" noGutters>\r\n            {this.renderOptions()}\r\n          </Row>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nImageSelection.defaultProps = {\r\n  value: null,\r\n  errorString: null,\r\n  extraInfo: null,\r\n};\r\n\r\n\r\nImageSelection.propTypes = {\r\n  value: PropTypes.string,\r\n  inputData: PropTypes.object.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  errorString: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n};\r\n\r\nexport default ImageSelection;\r\n","/**\r\n * DropDown.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Row, Col, Input } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './AgeGroupItem.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass AgeGroupItem extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleExit = this.handleExit.bind(this);\r\n  }\r\n\r\n  handleExit(e, isBlur) {\r\n    const { generateNewFormData } = this.props;\r\n\r\n    if (isBlur || (!isBlur && e.charCode === 13)) {\r\n      generateNewFormData();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      name,\r\n      value,\r\n      title,\r\n      onChangeValue,\r\n    } = this.props;\r\n\r\n    if (!name) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Col className=\"mb-3\" xs={12} md={6} lg={6}>\r\n        <div className=\"age-group-item-container\">\r\n          <p className=\"title\">{title}</p>\r\n          <Row className=\"selector\" noGutters>\r\n            <Col className=\"d-flex justify-content-center align-items-center\" xs={12}>\r\n              <Input\r\n                className=\"age-group-input\"\r\n                type=\"number\"\r\n                value={value || ''}\r\n                onChange={e => onChangeValue(name, e.target.value && Math.max(0, Math.floor(e.target.value)))}\r\n                onBlur={e => this.handleExit(e, true)}\r\n                onKeyPress={e => this.handleExit(e, false)}\r\n                placeholder=\"Enter number\"\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nAgeGroupItem.defaultProps = {\r\n  value: null,\r\n};\r\n\r\n\r\nAgeGroupItem.propTypes = {\r\n  value: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.number,\r\n  ]),\r\n  name: PropTypes.string.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  onChangeValue: PropTypes.func.isRequired,\r\n  generateNewFormData: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AgeGroupItem;\r\n","/**\r\n * DropDown.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport AgeGroupItem from './AgeGroupItem/AgeGroupItem';\r\n\r\nimport './AgeGroup.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass AgeGroup extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { inputData, value } = this.props;\r\n    let values = [];\r\n\r\n    try {\r\n      values = _.reduce(inputData.options, (result, v) => {\r\n        const originalData = _.find(value, vo => vo.value === v.value);\r\n\r\n        result.push({\r\n          key: v.value,\r\n          title: v.title,\r\n          value: (originalData && originalData.count) || null,\r\n        });\r\n        return result;\r\n      }, []);\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    this.state = {\r\n      values,\r\n      count: 0,\r\n    };\r\n\r\n    this.onChangeValue = this.onChangeValue.bind(this);\r\n\r\n    this.getTotalCount = this.getTotalCount.bind(this);\r\n    this.generateNewFormData = this.generateNewFormData.bind(this);\r\n  }\r\n\r\n  // Update form values on change\r\n  onChangeValue(key, value) {\r\n    const { values } = this.state;\r\n\r\n    try {\r\n      const newValue = [...values];\r\n      const group = _.find(newValue, v => v.key === key);\r\n\r\n      if (group) {\r\n        group.value = value;\r\n        this.setState({\r\n          values: newValue,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n  }\r\n\r\n  getTotalCount() {\r\n    const { values } = this.state;\r\n\r\n    try {\r\n      return _.reduce(values, (result, v) => {\r\n        if (v.value > 0) {\r\n          return result + v.value;\r\n        }\r\n\r\n        return result;\r\n      }, 0);\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return 0;\r\n  }\r\n\r\n  async generateNewFormData() {\r\n    const { values } = this.state;\r\n    const { onChange, name } = this.props;\r\n\r\n    try {\r\n      let count = 0;\r\n      const newData = _.reduce(values, (result, v) => {\r\n        if (v.value > 0) {\r\n          count += v.value;\r\n          result.push({\r\n            value: v.key,\r\n            count: v.value,\r\n          });\r\n        }\r\n\r\n        return result;\r\n      }, []);\r\n\r\n      this.setState({\r\n        count: this.getTotalCount(),\r\n      });\r\n\r\n      await onChange('age_group', name, newData);\r\n      await onChange('number', 'no_of_employees', count);\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return 0;\r\n  }\r\n\r\n  renderHeader() {\r\n    const { count } = this.state;\r\n    const { inputData } = this.props;\r\n\r\n    try {\r\n      return (\r\n        <Row className=\"title-container\" noGutters>\r\n          <Col className=\"d-none d-md-flex\" md={{ size: 4, order: 1 }} />\r\n          <Col md={{ size: 4, order: 2 }} xs={{ size: 12, order: 2 }}>\r\n            <h3>{inputData.title}</h3>\r\n          </Col>\r\n          <Col md={{ size: 4, order: 3 }} xs={{ size: 12, order: 4 }}>\r\n            <p className=\"employees\">{count} employees assigned</p>\r\n          </Col>\r\n          <Col md={{ size: 12, order: 4 }} xs={{ size: 12, order: 3 }}>\r\n            <h6>{'Employee’s age for upcoming birthday\\n(Current age + 1)'}</h6>\r\n          </Col>\r\n        </Row>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderAgeGroupItems() {\r\n    const { values } = this.state;\r\n    const { inputData } = this.props;\r\n\r\n    try {\r\n      return (_.reduce(values, (result, group, key) => {\r\n        result.push((\r\n          <AgeGroupItem\r\n            key={`age-group-${inputData.slug}-${key}`}\r\n            name={group.key}\r\n            value={group.value}\r\n            title={group.title}\r\n            onChangeValue={this.onChangeValue}\r\n            generateNewFormData={this.generateNewFormData}\r\n          />\r\n        ));\r\n\r\n        return result;\r\n      }, []));\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n  render() {\r\n    const { inputData, errorString, extraInfo } = this.props;\r\n\r\n    if (!inputData) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        errorString={errorString}\r\n        className=\"age-group-margin\"\r\n        extraInfo={extraInfo}\r\n      >\r\n        <div className=\"age-group-container\">\r\n          {this.renderHeader()}\r\n          <Row className=\"options-container\">\r\n            {this.renderAgeGroupItems()}\r\n          </Row>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nAgeGroup.defaultProps = {\r\n  value: null,\r\n  errorString: null,\r\n  extraInfo: null,\r\n};\r\n\r\n\r\nAgeGroup.propTypes = {\r\n  value: PropTypes.array,\r\n  inputData: PropTypes.object.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  errorString: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n};\r\n\r\nexport default AgeGroup;\r\n","/**\r\n * DropDown.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport document from 'global/document';\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport People from 'assets/images/EditForm/People.svg';\r\nimport Arrow from '../../../assets/images/forms/arrow.svg';\r\n\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport './Persons.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass Persons extends Component {\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {object} props Component props\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // isOpened - Whether dropdown is opened\r\n    // listItems - The actual dropdown list\r\n    // selectedString - The selected item string\r\n    // height - Control height\r\n    // numItemsDisplay - How many items to display\r\n    // maxheight - Max height of the list\r\n    // listHeight - Height of the list. (Items count + control)\r\n    this.state = {\r\n      isOpened: null,\r\n    };\r\n\r\n    this.setError = this.setError.bind(this);\r\n    this.clearError = this.clearError.bind(this);\r\n    this.handleSelectClick = this.handleSelectClick.bind(this);\r\n    this.handleClickOutside = this.handleClickOutside.bind(this);\r\n\r\n    this.handleValue = this.handleValue.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Add Handler to handle click outside of screen\r\n    document.addEventListener('mousedown', this.handleClickOutside);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('mousedown', this.handleClickOutside);\r\n  }\r\n\r\n  setError(message) {\r\n    this.formParent.setErrorString(message);\r\n  }\r\n\r\n  clearError() {\r\n    this.formParent.clearErrorString();\r\n  }\r\n\r\n  /**\r\n   * End selection if click on outside\r\n   *\r\n   * @param {object} event\r\n   */\r\n  handleClickOutside(event) {\r\n    const { isOpened } = this.state;\r\n\r\n    // If clicked outside, go to exit\r\n    if (\r\n      isOpened &&\r\n      this.wrapperRef &&\r\n      this.wrapperRefControl &&\r\n      (!this.wrapperRef.contains(event.target) && !this.wrapperRefControl.contains(event.target))\r\n    ) {\r\n      // Close it\r\n      this.setState({\r\n        isOpened: false,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSelectClick() {\r\n    const { isOpened } = this.state;\r\n    this.setState({ isOpened: !isOpened });\r\n  }\r\n\r\n  async handleValue(event, name, isAdd) {\r\n    event.preventDefault();\r\n    const {\r\n      nameAdult,\r\n      nameChildren,\r\n      namePlanType,\r\n      nameTripType,\r\n      values,\r\n      onChange,\r\n    } = this.props;\r\n\r\n    const oldNumAdult = (values[nameAdult] && values[nameAdult].value) || 0;\r\n    const oldNumChildren = (values[nameChildren] && values[nameChildren].value) || 0;\r\n\r\n    let numAdult = oldNumAdult;\r\n    let numChildren = oldNumChildren;\r\n    const isSingleTrip = values[nameTripType] && values[nameTripType].value === 'Single Trip';\r\n\r\n    const minAdult = 1;\r\n    const maxAdult = isSingleTrip ? 20 : 2;\r\n    const minChildren = 0;\r\n    const maxChildren = 8;\r\n\r\n    if (name === nameAdult) {\r\n      numAdult = Math.min(Math.max(minAdult, numAdult + (isAdd ? 1 : -1)), maxAdult);\r\n    } else {\r\n      numChildren = Math.min(Math.max(minChildren, numChildren + (isAdd ? 1 : -1)), maxChildren);\r\n    }\r\n\r\n    if (numChildren > 0) {\r\n      numAdult = Math.min(Math.max(1, numAdult), 2);\r\n    }\r\n\r\n    if (oldNumAdult !== numAdult) {\r\n      await onChange('number', nameAdult, numAdult);\r\n    }\r\n    if (oldNumChildren !== numChildren) {\r\n      await onChange('number', nameChildren, numChildren);\r\n    }\r\n\r\n    const planType = values && values[namePlanType] && values[namePlanType].value;\r\n\r\n    if (numChildren > 0) {\r\n      if (planType !== 'Family') {\r\n        await onChange('text', namePlanType, 'Family');\r\n      }\r\n    } else if (numAdult > 1) {\r\n      if (planType !== 'Group') {\r\n        await onChange('text', namePlanType, 'Group');\r\n      }\r\n    } else if (planType !== 'Individual') {\r\n      await onChange('text', namePlanType, 'Individual');\r\n    }\r\n\r\n    const tripType = values && values[nameTripType] && values[nameTripType].value;\r\n    if (numAdult > 1 && numChildren === 0) {\r\n      if (tripType !== 'Single Trip') {\r\n        await onChange('selection', nameTripType, 'Single Trip');\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { isOpened } = this.state;\r\n\r\n    const {\r\n      desc,\r\n      extraInfo,\r\n      errorString,\r\n      nameAdult,\r\n      nameChildren,\r\n      values,\r\n      isPrex,\r\n    } = this.props;\r\n\r\n    const errorStyle = errorString ? 'error' : '';\r\n    const arrowStyle = isOpened ? 'angle-up' : 'angle-down';\r\n    let openedStyle = isOpened ? 'drop-container-opened' : 'drop-container-closed';\r\n    openedStyle = isOpened === null ? 'drop-container-closed-init' : openedStyle;\r\n\r\n    const numAdult = (values[nameAdult] && values[nameAdult].value) || 0;\r\n    const numChildren = (values[nameChildren] && values[nameChildren].value) || 0;\r\n\r\n    const zIndexStyle = isOpened ? 'drop-open' : 'drop-close';\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        desc={desc}\r\n        extraInfo={extraInfo}\r\n        errorString={errorString}\r\n      >\r\n        <div className=\"position-relative\">\r\n          <div\r\n            className={`persons-container ${errorStyle} ${zIndexStyle}`}\r\n            ref={node => this.wrapperRefControl = node}\r\n          >\r\n            <div className=\"img-container\">\r\n              <img\r\n                src={People}\r\n                alt=\"People.svg\"\r\n              />\r\n            </div>\r\n            <div\r\n              className=\"text-input\"\r\n              onClick={() => this.handleSelectClick()}\r\n              onKeyPress={() => {}}\r\n              role=\"button\"\r\n              tabIndex={-1}\r\n            >\r\n              <p>{numAdult} adult, {numChildren} children</p>\r\n            </div>\r\n            <div\r\n              className=\"drop-arrow\"\r\n              onClick={() => this.handleSelectClick()}\r\n              onKeyPress={() => {}}\r\n              role=\"button\"\r\n              tabIndex={-1}\r\n            >\r\n              <img\r\n                src={Arrow}\r\n                alt=\"arrow.svg\"\r\n                className={arrowStyle}\r\n              />\r\n            </div>\r\n            <div\r\n              className={`drop-container ${openedStyle}`}\r\n              ref={node => this.wrapperRef = node}\r\n            >\r\n              <div className=\"value-container\">\r\n                <button onClick={e => this.handleValue(e, nameAdult, false)}><div className=\"minus fa fa-minus\" /></button>\r\n                <p>\r\n                  <span className=\"count\">{numAdult}</span>\r\n                  <span className=\"desc\">adults</span>\r\n                </p>\r\n                <button onClick={e => this.handleValue(e, nameAdult, true)}><div className=\"plus fa fa-plus\" /></button>\r\n              </div>\r\n              <div className=\"value-container\">\r\n                {!isPrex && <button onClick={e => this.handleValue(e, nameChildren, false)}><div className=\"minus fa fa-minus\" /></button>}\r\n                <p>\r\n                  <span className=\"count\">{numChildren}</span>\r\n                  <span className=\"desc\">children</span>\r\n                </p>\r\n                {!isPrex && <button onClick={e => this.handleValue(e, nameChildren, true)}><div className=\"plus fa fa-plus\" /></button>}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nPersons.defaultProps = {\r\n  desc: null,\r\n  extraInfo: null,\r\n  errorString: null,\r\n  values: {},\r\n  isPrex: false,\r\n};\r\n\r\n\r\nPersons.propTypes = {\r\n  desc: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  errorString: PropTypes.string,\r\n  nameAdult: PropTypes.string.isRequired,\r\n  nameChildren: PropTypes.string.isRequired,\r\n  namePlanType: PropTypes.string.isRequired,\r\n  nameTripType: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  values: PropTypes.object,\r\n  isPrex: PropTypes.bool,\r\n};\r\n\r\nexport default Persons;\r\n","/**\r\n * DropDown.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Row, Col } from 'reactstrap';\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport './Selection.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass Selection extends Component {\r\n  render() {\r\n    const {\r\n      name,\r\n      desc,\r\n      extraInfo,\r\n      errorString,\r\n      options,\r\n      onChange,\r\n      value,\r\n      size,\r\n    } = this.props;\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        desc={desc}\r\n        extraInfo={extraInfo}\r\n        errorString={errorString}\r\n      >\r\n        <div className=\"position-relative\">\r\n          <Row\r\n            className=\"selection-container-v3 w-100\"\r\n            noGutters\r\n          >\r\n            {\r\n              _.map(options, (option, index) => {\r\n                const selectedStyle = value === option.value ? 'selected' : '';\r\n\r\n                return (\r\n                  <Col\r\n                    xs={12}\r\n                    sm={size}\r\n                    key={`${option.value}-${index}`}\r\n                  >\r\n                    <button\r\n                      type=\"button\"\r\n                      className={selectedStyle}\r\n                      onClick={() => onChange('selection', name, option.value)}\r\n                    >\r\n                      {option.display_name}\r\n                    </button>\r\n                  </Col>\r\n                );\r\n              })\r\n            }\r\n          </Row>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nSelection.defaultProps = {\r\n  value: null,\r\n  desc: null,\r\n  extraInfo: null,\r\n  errorString: null,\r\n  size: 6,\r\n};\r\n\r\n\r\nSelection.propTypes = {\r\n  value: PropTypes.string,\r\n  name: PropTypes.string.isRequired,\r\n  desc: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  errorString: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  options: PropTypes.array.isRequired,\r\n  size: PropTypes.number,\r\n};\r\n\r\nexport default Selection;\r\n","/**\r\n * TravelDetail.js\r\n * Detail View for travel\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport window from 'global/window';\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport TextInput from './TextInput/TextInput';\r\nimport Dropdown from './DropDown/DropDown';\r\nimport Checkbox from './Checkbox/Checkbox';\r\nimport DatePicker from './DatePicker/DatePicker';\r\nimport DateRangePicker from './DateRangePicker/DateRangePicker';\r\nimport ImageSelection from './ImageSelection/ImageSelection';\r\nimport AgeGroup from './AgeGroupV2/AgeGroup';\r\nimport Persons from './Persons/Persons';\r\nimport Selection from './SelectionNew/Selection';\r\n\r\nclass FieldGenerator extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      options: null,\r\n    };\r\n\r\n    this.getOptions = this.getOptions.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getOptions();\r\n    this.doPrefill();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    this.getOptions(prevProps);\r\n    this.doPrefill(prevProps.errors);\r\n  }\r\n\r\n  getOptions(prevProps) {\r\n    try {\r\n      const { options } = this.state;\r\n      const { constants, fieldData } = this.props;\r\n      if (fieldData && fieldData.options_constant_key &&\r\n        (!prevProps || !options || (fieldData.options_constant_key !== prevProps.fieldData.options_constant_key))) {\r\n        this.setState({\r\n          options: _.map(constants[fieldData.options_constant_key], v => ({ display_name: v, value: v })),\r\n        });\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  doPrefill(prevErrors) {\r\n    const {\r\n      values,\r\n      onChangeValue,\r\n      fieldData,\r\n      errors,\r\n    } = this.props;\r\n\r\n    try {\r\n      const name = fieldData && fieldData.slug;\r\n      if (values && values[name]) {\r\n        // Set field type to values if contains prefill data\r\n        if (!values[name].type) {\r\n          onChangeValue(fieldData.type, name, values[name].value);\r\n        }\r\n      }\r\n\r\n      // Set default selection for image selection\r\n      if (\r\n        fieldData.type === 'image_selection' &&\r\n        (fieldData.is_required !== false) &&\r\n        !values[name]\r\n      ) {\r\n        onChangeValue(fieldData.type, name, fieldData.options[0].value);\r\n      }\r\n\r\n      const error = errors && errors[name];\r\n      const prevError = prevErrors && prevErrors[name];\r\n\r\n      if (error && !prevError && this.node) {\r\n        // window.scrollTo(0, this.node.getBoundingClientRect().y);\r\n        window.scrollTo({\r\n          top: this.node.getBoundingClientRect().y,\r\n          left: 0,\r\n          behavior: 'smooth',\r\n        });\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n  }\r\n\r\n  renderInput() {\r\n    const { options } = this.state;\r\n\r\n    const {\r\n      fieldData,\r\n      values,\r\n      onChangeValue,\r\n      errors,\r\n      noInternalDesc,\r\n      extraInfo,\r\n      handlePostCode,\r\n      isPrex,\r\n    } = this.props;\r\n\r\n    const name = fieldData && fieldData.slug;\r\n    const value = values && values[name] && values[name].value;\r\n    const error = errors && errors[name];\r\n\r\n    if (fieldData) {\r\n      if (fieldData.type === 'padding') {\r\n        return null;\r\n      }\r\n\r\n      const { conditions } = fieldData;\r\n\r\n      let isRenderable = true;\r\n      try {\r\n        _.each(conditions || [], (condition, index) => {\r\n          const isValid = values[condition.key].value === condition.value;\r\n          if (index === 0) {\r\n            isRenderable = isValid;\r\n          } else {\r\n            isRenderable = condition.type === 'or' ? isValid || isRenderable : isValid && isRenderable;\r\n          }\r\n        });\r\n      } catch (e) {\r\n        isRenderable = false;\r\n      }\r\n\r\n      if (!isRenderable) {\r\n        return null;\r\n      }\r\n\r\n      switch (fieldData.type) {\r\n        case 'email':\r\n        case 'number':\r\n        case 'time':\r\n        case 'text':\r\n        case 'textarea':\r\n        case 'password':\r\n        case 'postal': {\r\n          return (\r\n            <TextInput\r\n              type={fieldData.type}\r\n              value={value}\r\n              onChange={onChangeValue}\r\n              name={name}\r\n              errorString={error}\r\n              readOnly={fieldData.readOnly}\r\n              placeholderString={fieldData.title}\r\n              noInternalDesc={noInternalDesc}\r\n              extraInfo={extraInfo}\r\n              desc={fieldData.display_name}\r\n              handlePostCode={handlePostCode}\r\n            />\r\n          );\r\n        }\r\n        case 'select':\r\n        case 'multiple_select': {\r\n          return (\r\n            <Dropdown\r\n              isMultiple={fieldData.type === 'multiple_select'}\r\n              value={value}\r\n              onChange={onChangeValue}\r\n              name={name}\r\n              errorString={error}\r\n              placeholderString={fieldData.title}\r\n              dropList={fieldData.options || options}\r\n              noInternalDesc={noInternalDesc}\r\n              extraInfo={extraInfo}\r\n              desc={fieldData.display_name}\r\n            />\r\n          );\r\n        }\r\n        case 'checkbox': {\r\n          return (\r\n            <Checkbox\r\n              value={value}\r\n              name={name}\r\n              desc={fieldData.title}\r\n              onChange={onChangeValue}\r\n              errorString={error}\r\n              extraInfo={extraInfo}\r\n            />\r\n          );\r\n        }\r\n        case 'image_selection': {\r\n          return (\r\n            <ImageSelection\r\n              value={value}\r\n              onChange={onChangeValue}\r\n              name={name}\r\n              inputData={fieldData}\r\n              errorString={error}\r\n              extraInfo={extraInfo}\r\n              desc={fieldData.display_name}\r\n            />\r\n          );\r\n        }\r\n        case 'age_group': {\r\n          return (\r\n            <AgeGroup\r\n              inputData={fieldData}\r\n              value={value}\r\n              onChange={onChangeValue}\r\n              name={name}\r\n              errorString={error}\r\n              extraInfo={extraInfo}\r\n              desc={fieldData.display_name}\r\n            />\r\n          );\r\n        }\r\n        case 'date_range': {\r\n          let startName = 'start_date';\r\n          let endName = 'end_date';\r\n\r\n          try {\r\n            startName = fieldData.slugs && fieldData.slugs[0];\r\n            endName = fieldData.slugs && fieldData.slugs[1];\r\n          } catch (err) {\r\n            // eslint-disable-next-line\r\n          }\r\n\r\n          return (\r\n            <DateRangePicker\r\n              values={values}\r\n              onChange={onChangeValue}\r\n              startName={startName}\r\n              endName={endName}\r\n              errorString={errors}\r\n              startDate={fieldData.min_date}\r\n              endDate={fieldData.max_date}\r\n              errorStringStart={errors && errors[startName]}\r\n              errorStringEnd={errors && errors[endName]}\r\n              extraInfo={extraInfo}\r\n              noInternalDesc={noInternalDesc}\r\n              // desc={fieldData.display_name}\r\n              offsetDays={fieldData.offset_days}\r\n            />\r\n          );\r\n        }\r\n        case 'date': {\r\n          return (\r\n            <DatePicker\r\n              desc={fieldData.display_name}\r\n              startValue={value}\r\n              onChange={onChangeValue}\r\n              name={name}\r\n              placeholderString={fieldData.title}\r\n              errorString={error}\r\n              noInternalDesc={noInternalDesc}\r\n              extraInfo={extraInfo}\r\n              startDate={fieldData.min_date}\r\n              endDate={fieldData.max_date}\r\n            />\r\n          );\r\n        }\r\n        case 'persons': {\r\n          return (\r\n            <Persons\r\n              desc={fieldData.desc}\r\n              values={values}\r\n              onChange={onChangeValue}\r\n              nameAdult=\"num_adult\"\r\n              nameChildren=\"num_children\"\r\n              namePlanType=\"plan_type\"\r\n              nameTripType=\"trip_type\"\r\n              errorString={error}\r\n              extraInfo={extraInfo}\r\n              isPrex={isPrex}\r\n            />\r\n          );\r\n        }\r\n        case 'button_select':\r\n        case 'selection': {\r\n          return (\r\n            <Selection\r\n              desc={fieldData.display_name}\r\n              value={value}\r\n              onChange={onChangeValue}\r\n              name={name}\r\n              options={fieldData.options}\r\n              errorString={error}\r\n              extraInfo={extraInfo}\r\n              size={fieldData.tab_size}\r\n            />\r\n          );\r\n        }\r\n        default: return null;\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const { fieldData } = this.props;\r\n\r\n    if (!fieldData) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Col xs={12} sm={fieldData.size || 12}>\r\n        <div ref={node => this.node = node}>\r\n          {this.renderInput()}\r\n        </div>\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nFieldGenerator.defaultProps = {\r\n  values: {},\r\n  errors: {},\r\n  noInternalDesc: false,\r\n  extraInfo: null,\r\n  constants: null,\r\n  handlePostCode: null,\r\n  isPrex: false,\r\n};\r\n\r\nFieldGenerator.propTypes = {\r\n  values: PropTypes.object,\r\n  errors: PropTypes.object,\r\n  onChangeValue: PropTypes.func.isRequired,\r\n  fieldData: PropTypes.object.isRequired,\r\n  noInternalDesc: PropTypes.bool,\r\n  extraInfo: PropTypes.object,\r\n  constants: PropTypes.object,\r\n  handlePostCode: PropTypes.func,\r\n  isPrex: PropTypes.bool,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  constants: state.insurance.constants,\r\n});\r\n\r\nexport default connect(mapStateToProps)(FieldGenerator);\r\n","/**\r\n * SpeechScroll.js\r\n * The hovering dropdown that appears in the navbar and\r\n * the multi compare view insurer's row.\r\n *\r\n * It will auto close when out of the box.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Tooltip as TooltipStrap } from 'reactstrap';\r\n\r\nimport TooltipImg from 'assets/images/common/tooltip.svg';\r\n\r\nimport './Tooltip.scss';\r\n\r\nclass Tooltip extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isOpen: false,\r\n    };\r\n\r\n    this.toggle = this.toggle.bind(this);\r\n  }\r\n\r\n  toggle() {\r\n\r\n  }\r\n\r\n  render() {\r\n    const { isOpen } = this.state;\r\n    const { id, innerClassName } = this.props;\r\n\r\n    return (\r\n      <div className=\"tooltip-container \">\r\n        <TooltipStrap\r\n          target={id}\r\n          isOpen={isOpen}\r\n          toggle={() => this.setState({ isOpen: false })}\r\n          className=\"animated fade\"\r\n          innerClassName={[innerClassName, 'tooltip-inner-custom'].join(' ')}\r\n          arrowClassName=\"tooltip-arrow-custom\"\r\n          placement=\"bottom-end\"\r\n        >\r\n          {this.props.children}\r\n        </TooltipStrap>\r\n        <img\r\n          id={id}\r\n          src={TooltipImg}\r\n          alt=\"Tooltip.svg\"\r\n          onMouseEnter={() => this.setState({ isOpen: true })}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTooltip.defaultProps = {\r\n  innerClassName: '',\r\n};\r\n\r\nTooltip.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  innerClassName: PropTypes.string,\r\n};\r\n\r\nexport default Tooltip;\r\n","module.exports = __webpack_public_path__ + \"static/media/Subscribe.a8fcfbe3.png\";","module.exports = __webpack_public_path__ + \"static/media/triangle.64c3289a.svg\";","module.exports = __webpack_public_path__ + \"static/media/tooltip.d8150eb9.svg\";","/**\r\n * Referral.js\r\n * Referral Page For PolicyPal\r\n *\r\n * @version 0.0.1\r\n * @author [Nicolette](nicolette@policypal.com)\r\n */\r\nimport window from 'global/window';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\r\n\r\nimport Subscribe from 'assets/images/InfoPage/Subscribe.png';\r\n\r\n// import appstore and playstore logo\r\nimport AppStoreBadge from 'assets/images/app-store-badge.png';\r\nimport PlayStoreBadge from 'assets/images/google-play-badge.png';\r\n\r\n// Footer\r\nimport FormLandingFooter from '../../Templates/FormLanding/FormLandingFooter';\r\n\r\nimport './InfoPage.scss';\r\n\r\nclass InfoPage extends Component {\r\n  componentDidMount() {\r\n    window.scroll(0, 0);\r\n  }\r\n\r\n  renderSubscribe() {\r\n    return (\r\n      <Row className=\"subscribe-container\" noGutters>\r\n        <Col className=\"d-none d-sm-flex\" xs={12} sm={5}>\r\n          <LazyLoadImage className=\"subscribe-main-img\" src={Subscribe} alt=\"subscribe-img.svg\" />\r\n        </Col>\r\n        <Col className=\"right-container\" xs={12} sm={7}>\r\n          <h3>Download our free app</h3>\r\n          <h5>Get covered on the go, manage all your insurance matters in a single app.</h5>\r\n          <Row noGutters>\r\n            <Col className=\"d-flex d-lg-block justify-content-center\" xs={6}>\r\n              <a href=\"https://itunes.apple.com/sg/app/policypal/id1118511972?mt=8\">\r\n                <LazyLoadImage\r\n                  src={AppStoreBadge}\r\n                  alt=\"appstore.jpg\"\r\n                  className=\"store-btn\"\r\n                  // effect=\"opacity\"\r\n                />\r\n              </a>\r\n            </Col>\r\n            <Col className=\"d-flex d-lg-block justify-content-center\" xs={6}>\r\n              <a href=\"https://play.google.com/store/apps/details?id=com.idvsgjo31w9m05f6raeb3&amp;hl=en\">\r\n                <LazyLoadImage\r\n                  src={PlayStoreBadge}\r\n                  alt=\"playstore.jpg\"\r\n                  className=\"store-btn\"\r\n                  // effect=\"opacity\"\r\n                />\r\n              </a>\r\n            </Col>\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n\r\n  renderBackGround() {\r\n    const { upperBG } = this.props;\r\n\r\n    return (\r\n      <Fragment>\r\n        {upperBG && <div className=\"circle-shape circle-upper\" />}\r\n        <div className=\"circle-shape circle-bottom\" />\r\n        {upperBG && <div className=\"circle-green\" />}\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderSubscribeSection() {\r\n    const { noFooter, subscribeOverwrite } = this.props;\r\n\r\n    if (!noFooter) {\r\n      if (subscribeOverwrite) {\r\n        return subscribeOverwrite;\r\n      }\r\n      return (\r\n        <Col xs={12}>\r\n          {subscribeOverwrite || this.renderSubscribe()}\r\n        </Col>\r\n      );\r\n    }\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      className,\r\n      noBg,\r\n      noPolicyPal,\r\n      noFooter,\r\n      noAutoMargin,\r\n      mode,\r\n    } = this.props;\r\n\r\n    const marginStyle = noAutoMargin && 'no-margin';\r\n\r\n    return (\r\n      <div className=\"position-relative\">\r\n        <Row className={`info-page ${className}`} noGutters>\r\n          <Col xs={12} className={['landing-form-outer-container-new', marginStyle].join(' ')}>\r\n            {\r\n              !noBg ? this.renderBackGround() : null\r\n            }\r\n            <Row noGutters>\r\n              { this.props.children }\r\n              { this.renderSubscribeSection() }\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n        {\r\n          !noFooter ?\r\n            <FormLandingFooter\r\n              big\r\n              noPolicyPal={noPolicyPal}\r\n              mode={mode}\r\n            />\r\n          : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nInfoPage.defaultProps = {\r\n  className: '',\r\n  noBg: false,\r\n  noPolicyPal: false,\r\n  noFooter: false,\r\n  subscribeOverwrite: null,\r\n  noAutoMargin: false,\r\n  mode: 'short',\r\n  upperBG: false,\r\n};\r\nInfoPage.propTypes = {\r\n  className: PropTypes.string,\r\n  mode: PropTypes.string,\r\n  noBg: PropTypes.bool,\r\n  noPolicyPal: PropTypes.bool,\r\n  noFooter: PropTypes.bool,\r\n  subscribeOverwrite: PropTypes.object,\r\n  noAutoMargin: PropTypes.bool,\r\n  upperBG: PropTypes.bool,\r\n};\r\n\r\nexport default InfoPage;\r\n","module.exports = __webpack_public_path__ + \"static/media/Mouse.b9427b8a.svg\";","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport mouseImg from 'assets/images/FormLanding/Mouse.svg';\r\nimport './Mouse.scss';\r\n\r\nclass Mouse extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.getClasses = this.getClasses.bind(this);\r\n  }\r\n\r\n  getClasses() {\r\n    const { className } = this.props;\r\n    const classes = ['mouse__wrapper'];\r\n\r\n    if (className) {\r\n      classes.push(className);\r\n    }\r\n\r\n    return classes.join(' ');\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={this.getClasses()}>\r\n        <img src={mouseImg} className=\"mouse__img\" alt=\"Mouse\" />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nMouse.defaultProps = {\r\n  className: '',\r\n};\r\n\r\nMouse.propTypes = {\r\n  className: PropTypes.string,\r\n};\r\n\r\nexport default Mouse;","export { default } from './Mouse';\r\n","module.exports = __webpack_public_path__ + \"static/media/main.e414fcdc.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon__map.d63d6a28.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon__reward.c6d63d1c.svg\";"],"sourceRoot":""}