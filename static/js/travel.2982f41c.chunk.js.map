{"version":3,"sources":["components/Templates/FormLanding/FormLandingSplash.js","components/Templates/FormLanding/FormLandingNew.js","components/TokioMarinePopUp/TokioMarinePopUp.js","components/Templates/FormLanding/FormLandingInformation.js","components/Travel/TravelEditDetail.js","components/Travel/TravelMain.js","containers/Travel/TravelMainContainer.js","components/Templates/ChangeInitialFormData/ChangeInitialFormDataNew.js","assets/images/ProductPage/index.js","components/Templates/ProductDetails/ProductDetails.js","components/Templates/ListViewMultiCompareNew/ListViewItem/ListViewItemDetails/ListViewItemDetails.js","components/Templates/ListViewMultiCompareNew/ListViewItem/ListViewItem.js","components/Templates/ListViewMultiCompareNew/ListView/ListView.js","components/Templates/ListViewMultiCompareNew/ListViewTierToolTip/ListViewTierToolTip.js","components/Templates/ListViewMultiCompareNew/ListViewMultiCompare.js","components/Travel/TravelChoosePlan.js","containers/Travel/TravelChoosePlanContainer.js","components/FormsV3/SingleCheckBox/SingleCheckBox.js","components/Templates/DetailForm/DetailFormNew.js","components/Travel/TravelDetail.js","containers/Travel/TravelDetailContainer.js","containers/Travel/TravelRouteContainer.js","components/FormsV3/FormInputWrapper/FormInputWrapper.js","components/Templates/ReactSlickCarousel/ReactSlickCarousel.js","components/Templates/ModalPopup/ModalPopup.js","components/FormsV3/TextInput/TextInput.js","components/FormsV3/DatePicker/DatePicker.constants.js","components/FormsV3/DatePicker/MonthYearSelector/MonthYearSelector.js","components/FormsV3/DatePicker/DaysList/DaysList.js","components/FormsV3/DatePicker/Calender/Calender.js","components/FormsV3/DatePicker/DateInner/DateInner.js","components/FormsV3/DatePicker/DatePicker.js","components/FormsV3/DateRangePicker/DateRangePicker.js","components/FormsV3/ImageSelection/ImageSelection.js","components/FormsV3/AgeGroupV2/AgeGroupItem/AgeGroupItem.js","components/FormsV3/AgeGroupV2/AgeGroup.js","components/FormsV3/Persons/Persons.js","components/FormsV3/SelectionNew/Selection.js","components/FormsV3/FieldGenerator.js","assets/images/FormLanding/Mouse.svg","assets/images/common/CashbackLogo.svg","components/Templates/LoadingScreenV2/LogoSlider.js","components/Templates/LoadingScreenV2/LoadingScreenV2.js","lib/trackingHelper.js","components/FormsV3/DropDown/DropDown.js","components/FormsV3/Checkbox/Checkbox.js","components/Templates/Tooltip/Tooltip.js","components/Templates/TabView/TabViewNew.js","assets/images/forms/Label.svg","components/FormsV3/PromoCode/PromoCode.js","components/Templates/StripePayment/StripePayment.js","components/Templates/PiggySignUp/PiggySignUpNew.js","components/Templates/PiggySignUp/PiggyFillFormNew.js","components/Templates/RedirectPopup/RedirectPopupForm.js","components/Templates/RedirectPopup/RedirectPopup.js","assets/images/common/TagLabel.svg","assets/images/common/CreditCards.png","components/Templates/CheckoutPopup/CheckoutUsingCashback.js","components/Templates/DetailCollapse/DetailCollapse.js","components/Templates/CheckoutComplete/CheckoutComplete.js","components/Templates/FlowEnquiry/FlowEnquiry.js","components/Templates/VoucherTag/VoucherTag.js","components/Templates/APILoader/APILoader.js","assets/images/common/tooltip.svg","assets/images/forms/PiggyBank.svg","components/Templates/InsurerFormHeader/HeaderDescWithTypeDateNew.js","components/Templates/CheckoutV1/CheckoutDetailsTable/CheckoutDetailsTable.js","components/Templates/CheckoutV1/CheckoutPriceSummary/CheckoutPriceSummary.js","components/Templates/CashbackBalance/CashbackBalanceNew.js","components/Templates/CheckoutV1/CheckoutCashback/CheckoutCashback.js","components/Templates/CheckoutV1/CheckoutTotal/CheckoutTotal.js","components/Templates/CheckoutV1/CheckoutDisclaimer/CheckoutDisclaimer.js","components/Templates/CheckoutV1/CheckoutPayment/CheckoutPayment.js","components/Templates/CheckoutV1/Checkout.js","containers/Travel/TravelCheckoutContainer.js","components/FormsNew/FormInputWrapper/FormInputWrapper.js","components/FormsNew/DropDown/DropDownV2.js","components/FormsNew/Slider/SliderNew.js","components/FormsV3/Slider/SliderNew.js","components/Templates/StepProgressBar/StepProgressBarNew.js","assets/images/forms/Tooltip.svg","assets/images/FormLanding/InformationLogos/PiggyBank.svg","assets/images/FormLanding/InformationLogos/HandWithMoney.svg","assets/images/FormLanding/InformationLogos/CircuitBoard.svg","assets/images/FormLanding/InformationLogos/Clock.svg","assets/images/FormLanding/InformationLogos/Luggauge.svg","assets/images/FormLanding/InformationLogos/Plane.svg","assets/images/FormLanding/InformationLogos/Medic.svg","assets/images/FormLanding/InformationLogos/Disaster.svg","assets/images/Travel/TravelSplash.svg","assets/images/TokioMarine/PopupBanner.svg","assets/images/TokioMarine/PopupBannerResp.svg","assets/images/TokioMarine/Plane.svg","assets/images/TokioMarine/Hospital.svg","assets/images/TokioMarine/Language.svg","assets/images/EditForm/Dollar.svg","assets/images/forms/Clock.svg","assets/images/ProductPage/Document.svg","assets/images/ProductPage/Exercise.svg","assets/images/ProductPage/Head.svg","assets/images/ProductPage/Medicine.svg","assets/images/ProductPage/Others.svg","assets/images/ProductPage/Plane.svg","assets/images/ProductPage/DocumentsResp.svg","assets/images/forms/TickRounded.svg"],"names":["FormLandingSplash","logosToUse","this","props","colorLogos","Logos","small","smallTinted","_","map","logo","index","react_default","a","createElement","className","key","src","alt","concat","_this$props","desc","img","reactstrap_es","noGutters","xs","size","offset","ReactSlickCarousel","lazyLoad","autoplay","slidesToShow","arrows","renderLogo","Component","defaultProps","FormLandingNew","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","pageState","onPageInsurance","ACTIVE","resetMore","onPageMore","NONE","resetBusiness","onPageBusiness","setPage","resetIndicatorMore","resetIndicatorBusiness","renderBackGround","bind","assertThisInitialized","react","_this2","_this$props2","splashImg","formInformation","sm","Templates_FormLanding_FormLandingSplash","lg","children","Mouse","FormLandingFooter","PromoPopup","ref","node","promoPopup","withRouter","connect","dispatch","setStateInsurance","setStateMore","setStateBusiness","infoData","Hospital","title","Plane","Language","TokioMarinePopUp","PopupBanner","PopupBannerResp","data","onSkip","onInterested","closeModal","order","Button","variant","height","onClick","type","showModal","ModalPopup","backdropClassName","header","body","renderBanner","renderInfo","renderButtons","FormLandingInformation","width","length","d","style","subTitle","colorStyle","renderData","TravelEditDetail","values","setCloseCallBack","originalValues","cloneDeep","handleSubmit","handleCloseEdit","handleRevert","e","preventDefault","closePopUp","fields","validateForm","onSubmit","onUpdateValues","_this$props3","isPopUp","borderStyle","TravelMain","state","showTMModal","openTMModal","closeTMModal","setState","travelPromoGiveAway","onChangeValue","errors","mainFormFields","handleGoNext","Templates_FormLanding_FormLandingNew","imgAlt","promo","Templates_FormLanding_FormLandingInformation","Luggague","Medic","Disaster","PiggyBank","HandWithMoney","CircuitBoard","Clock","Travel_TravelEditDetail","f","FieldGenerator","fieldData","name","value","extraInfo","extra_info","noInternalDesc","no_internal_desc","components_TokioMarinePopUp_TokioMarinePopUp","TravelMainContainer","setFormState","doSetCategoryNavBar","history","handleAPI","getMainFields","constants","setPlansData","FORMSTATES","MAIN","window","scrollTo","gaTag","page_title","page_path","location","search","ampTag","goBack","push","nextProps","isEqual","gaEvent","event_category","event_label","adults","num_adult","num_children","travellers","tripType","trip_type","planType","plan_type","countries","region","for","destination","duration","daysDiff","start_date","end_date","find","country","lowerCase","goToProduct","CHOOSEPLAN","productLink","path","Travel_TravelMain","assign","travel","insurance","promoGiveaways","getMainFormFields","setInsuranceFormState","isCategory","setCategoryNavBar","ChangeInitialFormDataNew","modal","revertFunc","isToolTip","renderDetailValues","renderEditButton","toggle","isResp","valuesToListen","conditions","conditonValue","valuesArrayToListen","reduce","result","findIndex","displayValue","isArray","customFunc","extra","simplifyCost","constructor","Array","toConsumableArray","aggregateDesc","display_name","Date","moment","format","toString","jsx","comma","target","isOpen","v","idx","id","onMouseMove","_this3","role","tabIndex","onKeyDown","EditButton","_this4","_this$state","submitCallback","displayOnly","React","cloneElement","func","arguments","undefined","headerValue","ProductPage","Travel Inconvenience","Medical Coverage","Medicine","Personal Protection","Head","Leisure Activities","Exercise","Others","OthersImg","Policy Documents","DocumentImg","documentsResp","DocumentsResp","ProductDetails","productData","showTooltips","showPrexModal","isShowBottomPrice","emailPopupData","handleOnClick","handleRestrictions","getNewData","hideModal","onMovement","showEnquiryModal","form","splitParams","hideInterval","setInterval","isEmpty","$","hide","clearInterval","addEventListener","product","insurer","prevProps","prevStates","plansData","pathname","indexOf","info","policy_info","trackData","getAddToCartData","objectSpread","pick","coverage_level","price","premium","net_price","ReactPixel","track","show","removeEventListener","bannerDOM","innerWidth","scrollY","getBoundingClientRect","y","parseForm","setOverridePlanTypes","switchView","insurances_all","insurer_slug","product_slug","requestData","getProductDetails","policy_types","startCase","_this$props4","doSetRestrictionPopup","i","insurer_product_slug","error","callback","restrictions","clickCallback","isRespBannerActive","_this$props5","logoImage","InsurersLogo","pricePlan","product_details","coverages","cashback","toFixed","discount","display","join","product_name","teaser","VoucherTag","bannerImg","banner_img","bannerRespImg","banner_mobile_img","isXploraJapan","features","feature","md","icon_img","description","highlights","highlight","defineProperty","tooltip","TooltipImg","onMouseEnter","coverage","_this5","contents","content","index2","isContentAvaliable","bottomPaddingStyle","sub_contents","href","renderValue","sub","index3","_this6","isPrex","prex_coverages","policy_documents","isPolicyDocuments","image","ProductImages","ClockImg","renderInnerDetails","_this7","JSX","isTabView","tabs","TabViewNew","marginTop","marginBottom","autoHeight","scrollTabs","isDisableDropdown","open","_this$state2","outerStyle","innerStyle","_this8","_this$state3","_this$props6","renderHeader","renderFeature","renderHighlights","renderDetails","renderDetailsResp","renderDocumentsResp","renderPriceResp","footer","RestrictionsPopup","FlowEnquiry","hideEnquiryModal","onNext","setRestrictionPopup","ListViewItemDetails","planData","subData","leisureActivitiesData","DetailCollapse","topHr","borderless","insurerSlug","ListViewItem","renderCompareTab","renderInsuranceInfo","renderInsuranceDetail","renderPriceBuy","renderInsuranceDetailResp","netPrice","handleProductPage","productName","productSlug","detail","productIndex","buyCallBack","LabelImg","TagLabel","is_url","ListViewItem_ListViewItemDetails_ListViewItemDetails","renderEnquiry","ListView","renderListSelectionButtons","renderList","renderListItem","renderPiggy","listData","setButtonSelected","selectionButtonIndex","selectedStyle","color","toMatch","isFavourite","voidIndices","keyIndex","lastItem","selectedProducts","insurances_prex","insurances","getNetPrice","orderBy","filter","selection","each","insurerIndex","isPromo","isValid","isEndPromo","indexToMatch","Math","min","isRecommended","promoGiveAway","selectedArray","fadingList","dataInfo","isSelected","selected","amount","selectedEmailPopupData","wording","wording_url","noPopup","promoJsx","promoEndJSX","renderPromoBanner","main","fadingStyle","ListViewMultiCompareNew_ListViewItem_ListViewItem","promoData","isMain","promoRespJSX","currDate","startDate","start_at","endDate","end_at","image_url","cta_url","image_url_resp","piggyData","category","PiggyFillFormNew","mainText","descText","resPopup","ListViewTierToolTip","Tooltip_Tooltip","innerClassName","viewState","planTypesList","ListViewMultiCompare","currViewState","isFadeOut","overridePlanTypes","renderLeftContainer","renderBackToListButton","handleTierSelection","getPlans","setPlanType","planTypeUpper","p","setSelectionButtonIndex","resetPath","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","Promise","resolve","setTimeout","stop","newPlanType","mutex","r","toLowerCase","revalidateSelection","Arrow","editForm","choosePlanListData","promoJSX","selectionButtonsArray","minHeight","ListViewMultiCompareNew_ListViewTierToolTip_ListViewTierToolTip","DropDown","dropList","placeholderString","DollarLogo","isDisableTyping","noExternalDesc","onChange","Templates_ChangeInitialFormData_ChangeInitialFormDataNew","editDetail","react_stickynode_default","enabled","top","bottomBoundary","choosePlanPiggyData","fadeStyle","rightContainer","ListViewMultiCompareNew_ListView_ListView","Templates_ProductDetails_ProductDetails","selectedInsurers","compare","TravelChoosePlan","includes","ListViewMultiCompareNew_ListViewMultiCompare","slug","forceFixedOnDesktop","TravelChoosePlanContainer","match","params","prevState","document","backgroundColor","parsedParams","parseTravelForm","getTravelPlans","newPlansData","setSelectedPlanData","doTrackingTagsChoosePlan","DETAILFORM","doAcceptTag","Travel_TravelChoosePlan","loadingFailBackState","replace","getValuesToListen","msigPrexPopup","SingleCheckBox","checked","checkedStyle","TickRounded","DetailFormNew","rightStickyStyle","isSignUp","handlePreSubmit","handleScroll","renderSignUp","renderSignUpButton","renderUpperRightContainer","renderBottomContainer","login","loginContainer","setSuccessCallback","setInitialIndex","popup","openPopup","upperMarker","stickyStyle","isLoggedIn","piggyCallback","planDetails","isPlanTotal","signUpStyle","FormsV3_SingleCheckBox_SingleCheckBox","checkoutButtonDesc","upperRightContainer","logoDesc","planName","planTotal","planSubTotal","discountPercentage","discountAmount","selectedPlanData","errorArray","defaultFormName","TravelDetail","formName","generateTabs","renderMain","renderFields","renderForm","tabView","_loop","numAdults","_loop2","numChildren","isBlk","detailValues","detailErrors","onChangeDetailValue","handlePostCode","adult_0","getIndividualFields","adultFields","childFields","iFields","maxTabWidthPx","isDataFadeOnly","Templates_DetailForm_DetailFormNew","TravelDetailContainer","others","discountTripType","getFormValue","discountData","insurer_name","travelRedirect","isNormalAddress","postcode","postal","getPostal","street","block","concatAddress","validateRestrictionParams","birth_dates","adultName","errorPersons","errorTabIndex","validated","birth_date","validateResult","person","isLast","restrictionValid","validateRestrictions","restrictionResult","valid","idtype","id_type","nationality","gender","marital","marital_status","race","occupation","wrappedInstance","goToIndex","scrollHeight","deep_link","integration_type","CHECKOUT","RedirectPop","openRedirectPopup","postToRedirect","url","redirectButton","firstChild","removeChild","range","createRange","appendChild","createContextualFragment","form_html","form_id","get","submit","Travel_TravelDetail","normalIndividualFields","etiqaMsigIndividualFields","RedirectPopup","noEmail","onConfirm","getAnonymousSession","TravelRouteContainer","newValues","defaultValues","formIndex","bypassParams","charged","apiLoader","renderStepProgress","renderTravelForms","setCharged","setSelectedArray","changeUserDetails","validateDetailsForm","isMounted","formState","routeResult","routeHandler","doGetPromoGiveaways","APILoader","newError","validateFormValue","detailName","array","plansArray","plan","specialFields","newErrors","userDetails","email","given_name","firstName","family_name","surname","nric","dateOfBirth","toDate","mobile_number","contact","address","unit_no","postal_code","_this$state5","StepProgressBarNew","inputList","stateList","stateDescriptions","_this$state6","mainFields","Travel_TravelChoosePlanContainer","Travel_TravelDetailContainer","SUBMITTED","TravelCheckoutContainer","Travel_TravelMainContainer","_this$state7","checkoutStyle","meta","isProduction","Helmet","RefreshTimer","refresher","invokeNewTimer","getPromoGiveaways","FormInputWrapper","errorString","smallMargin","isDateRange","react__WEBPACK_IMPORTED_MODULE_5___default","react_slick__WEBPACK_IMPORTED_MODULE_6___default","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","setHiddenAuto","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","setHiddenInterval","overflow","zIndex","react__WEBPACK_IMPORTED_MODULE_7___default","reactstrap__WEBPACK_IMPORTED_MODULE_8__","tag","TextInput","rows","toUpper","readOnly","inputType","errorStyle","titleStyle","textareaStyle","inputStyle","noInternalDescStyle","readOnlyStyle","placeholder","toUpperCase","disabled","MagnifyGlass","dayTextList","monthTextMapping","deafultYearRange","MonthYearSelector","updateScrollPosition","currDisplayDate","dateRangeStart","isYear","getFullYear","getMonth","scrollInput","scrollTop","dateRangeEnd","setCalender","startYear","endYear","currYear","startMonth","endMonth","item","start","end","isSingle","dateToUse","displayText","month","dateMonthInput","caret","outline","lib","renderYears","renderMonths","DaysList","day","renderDaysText","Calender","dateRangeEndOverwrite","isSelectingStartDate","startValue","endValue","setSelectedDate","isRange","hoverDate","setDateRangeEndOverwrite","setHoverDate","offsetDays","currFirstDay","setDate","currLastDay","currFirstDayTime","getTime","currLastDayTime","year","startIndex","getDay","endIndex","getDate","currHoverTime","startTime","endTime","startTimeToUse","endTimetoUse","fixedDateTime","nonfixedDateTime","currDay","currDayOfWeek","currTime","isSat","isSun","isStartDate","isEndDate","isWithin","isFirstDay","isLastDay","isSameDay","isDayActive","leftBlockStyle","rightBlockStyle","endBlockStyle","dayStyle","focusStyle","isBlocked","isSelectingStartDateCurr","onMouseLeave","DateInner","newEnd","maxEnd","add","setNewDisplayDate","date","isBack","setMonth","upperStyle","onKeyPress","CloseIcon","renderMonthSelectorArrows","DatePicker_MonthYearSelector_MonthYearSelector","DatePicker_DaysList_DaysList","DatePicker_Calender_Calender","isOpened","isArrowUp","inputWidth","openedStyle","dateOpenStyle","respStyle","isArrowUpToUse","arrowStyle","transform","Triangle","listCont","renderDateInner","DatePicker","firstDay","lastDay","startDateString","endDateString","handleSelectClick","handleClickOutside","handleKeyPress","handleExit","renderInputs","renderInner","dateValidateAndUpdate","dateInnerDOM","ReactDOM","findDOMNode","dateInner","datePickerDOM","wrapperRef","isDateEqual","updateData","newState","clientRect","currIsResp","left","right","isOverHeight","bottom","outerHeight","isOverFlow","newYear","newMonth","isStart","_ref","_callee2","_context2","currStartValue","isChooseEndDate","_x3","apply","dateString","slashedStringDateToDate","event","contains","charCode","openStartDateString","openEndDateString","dateToString","_this3$state","closeStartDateString","closeEndDateString","getDateFromDateString","newDate","_this$state4","endName","newStartValue","newEndValue","isNewStartInvalid","isNewEndInvalid","startValueToUse","endValueToUse","currEndValue","trueMaxEnd","currMaxEnd","onMouseDown","rangeStyle","selectingDateStyle","nameToUse","autoComplete","DateIn","renderInputField","DateOut","renderDropDownArrow","_this$props7","DatePicker_DateInner_DateInner","_this$props8","dropDownOpenStyle","isErrorStyle","renderPopup","_this$props9","DateRangePicker","startName","errorStringStart","errorStringEnd","FormsV3_DatePicker_DatePicker","ImageSelection","clickStyle","oldValue","inputData","newValue","is_required","Tooltip","itemData","isTooltip","sub_title","options","option","renderItem","renderTitle","renderOptions","AgeGroupItem","isBlur","generateNewFormData","max","floor","onBlur","AgeGroup","originalData","vo","count","getTotalCount","group","newData","AgeGroupV2_AgeGroupItem_AgeGroupItem","renderAgeGroupItems","Persons","setError","clearError","handleValue","message","formParent","setErrorString","clearErrorString","wrapperRefControl","isAdd","nameAdult","nameChildren","namePlanType","nameTripType","oldNumAdult","oldNumChildren","numAdult","isSingleTrip","maxAdult","zIndexStyle","People","Selection","getOptions","doPrefill","options_constant_key","console","log","prevErrors","prevError","behavior","isRenderable","condition","FormsV3_TextInput_TextInput","isMultiple","Checkbox","FormsV3_ImageSelection_ImageSelection","FormsV3_AgeGroupV2_AgeGroup","slugs","err","FormsV3_DateRangePicker_DateRangePicker","min_date","max_date","offset_days","FormsV3_Persons_Persons","FormsV3_SelectionNew_Selection","tab_size","renderInput","module","exports","__webpack_require__","LogoSlider","logos","keyFrameLogo","keyframes","_templateObject","AnimatedContainer","styled","div","_templateObject2","renderLogos","interval","LoadingScreenV2","overwriteShowWarning","closeLoading","handleChange","isLoading","timer","clearTimeout","showLoadingError","showLoading","errorCallback","isLoadingError","noLogos","loadingStyle","SpinnerAnimation","LoadingScreenV2_LogoSlider","getInsurerLogo","keys","_params$insurer_slug","_params$product_slug","_params$values","_params$price","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","isObject","from","c","parseValues","product_image","quantity","content_ids","content_name","content_type","currency","Number","maxItemsDisplay","defaultHeight","resultNullString","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","numItemsDisplay","numItems","maxheight","listItems","selectedString","listHeight","multipleSelectedElements","listElementsCounter","clientHeight","extraPadding","noTransition","updateDimensions","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__","renderListItems","renderTextInput","handleOnInputChange","handleSetMultipleSelectedItem","handleDestroySelected","handleInputKeyPress","handleItemKeyPress","handleBlur","handleFocus","initialListItems","overrideValue","isElements","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","newHeight","selectedItemsContainer","childElementCount","inputValue","notForm","valueChangeCallback","inputField","isFromFocus","listElements","focus","stopPropagation","isOpenOnly","newArr","selectedContainer","slice","splice","relatedTarget","resultValue","isError","finalString","some","obj","_this$state8","react__WEBPACK_IMPORTED_MODULE_10___default","handleSelectItemClick","onMouseUp","Cross","reactstrap__WEBPACK_IMPORTED_MODULE_11__","_this$state9","maxWidth","actualListheight","transitionStyle","listStyle","multipleStyle","logoImg","_FormInputWrapper_FormInputWrapper__WEBPACK_IMPORTED_MODULE_13__","onFocus","paddingTop","paddingBottom","renderMultipleSelectedElements","react_custom_scrollbars__WEBPACK_IMPORTED_MODULE_12__","listContainer","_FormInputWrapper_FormInputWrapper__WEBPACK_IMPORTED_MODULE_7__","reactstrap__WEBPACK_IMPORTED_MODULE_6__","react__WEBPACK_IMPORTED_MODULE_6___default","reactstrap__WEBPACK_IMPORTED_MODULE_7__","arrowClassName","placement","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","padding","initialIndex","isUsingMaxWidth","tabWidth","activeIndex","containerWidth","widthPercentage","paddingWidth","isControlVisible","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__","handleResize","resizeTabHeight","renderTabs","renderTabContent","renderControls","renderSlides","renderScollableTabs","renderSelectableTabs","renderDropControls","currentTabSelection","newIndex","tab","changeTab","carousel","setTriggerHeightUpdate","tabContainer","hideWidth","isVisibleNow","isForced","carouselIncoming","overrideNegation","isConstantHeight","carouselToUse","list","getElementsByTagName","sliderWrapper","parentNode","itemHeight","activeStyle","bigTextStyle","big","isWithImg","isString","react__WEBPACK_IMPORTED_MODULE_8___default","react__WEBPACK_IMPORTED_MODULE_8__","bigTabStyle","tabStyle","updateTabHeight","displayStyle","react_custom_scrollbars__WEBPACK_IMPORTED_MODULE_9__","droplist","_FormsV3_DropDown_DropDown__WEBPACK_IMPORTED_MODULE_13__","isOverContainer","selectedMargin","bigStyle","marginLeft","_this9","react_responsive_carousel__WEBPACK_IMPORTED_MODULE_12__","showThumbs","showIndicators","showArrows","showStatus","selectedItem","swipeable","tabName","setTabSelection","withRef","PromoCode","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","isComMounted","propsValue","postCheckout","buttonText","_FormInputWrapper_FormInputWrapper__WEBPACK_IMPORTED_MODULE_10__","components_FormsV3_Button_Button__WEBPACK_IMPORTED_MODULE_9__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","abrupt","sent","t0","StripePayment","currMarkup","extraData","cleanCheckoutButtonContainer","setNewMarkup","invokeClick","markup","paymentCallback","replacementIDString","checkoutButton","serializeArray","failCallback","doTag","zeroPaymentCallback","failCallTimeout","ele","getElementsByName","getElementsByClassName","dataset","button","trigger","react__WEBPACK_IMPORTED_MODULE_7__","components_Templates_LoadingScreenV2_LoadingScreenV2__WEBPACK_IMPORTED_MODULE_8__","PiggySignUpNew","subHeader","mainTextToUse","descTextToUse","Templates_PiggySignUp_PiggySignUpNew","RedirectPopupForm","errorResult","disclaimer","change","sizeInSM","reduxForm","popupRef","Popup","RedirectPopup_RedirectPopupForm","closPopup","closePopup","CheckoutUsingCashback","openCheckoutUsingCashback","_Popup_Popup__WEBPACK_IMPORTED_MODULE_9__","react__WEBPACK_IMPORTED_MODULE_6__","CashbackLogo","components_FormsV3_Button_Button__WEBPACK_IMPORTED_MODULE_8__","collapse","collapseOverwrite","useOverwrite","collapseToUse","CheckoutComplete","animateStyle","openCheckoutComplete","userName","isQuoteOnly","upperText","midText","extraText","isSellLeads","CheckoutCompleteSVG","renderUpperText","renderMidText","renderButton","renderBody","errorMsg","forms","form_category","input_data","sendEmailForm","checkoutComplete","details","disagree_text","agree_text","renderDisclaimer","renderDisclaimerButton","renderFormButton","Templates_CheckoutComplete_CheckoutComplete","wrappedComponentRef","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__","apiCallback","overwriteWarning","showLoadigInterval","showError","_context3","components_Templates_LoadingScreenV2_LoadingScreenV2__WEBPACK_IMPORTED_MODULE_9__","HeaderDescWithTypeDateNew","logoName","insurerDesc","data1","data1Value","data2","data2Value","CheckoutDetailsTable","subDetails","isFullWidth","transactionData","smLeftWidth","smRightWidth","coverageData","transaction","attributes","infoList","mainDetails","leftDetail","rightDetail","marginRight","renderMainDetails","renderSubDetails","CheckoutPriceSummary","getPromo","isAdHoc","promoCode","handleOnChange","promoResult","code","_x","isRenderPromo","priceData","noTitle","extraCol","promoStyle","subTotalExtra","element","renderPromoCodeButton","CashbackBalanceNew","cashbackBalance","CheckoutCashback","rewardPoints","cashbackData","cashbackUsed","chargedBalanceStyle","_x2","isRequired","Templates_CashbackBalance_CashbackBalanceNew","CheckoutTotal","totalData","CheckoutDisclaimer","wordings","CheckoutPayment","handlePaymentCallback","handleOnCheckout","handleOnCheckoutZero","renderCashBackEarned","checkout","sessionId","trackingTags","checkoutResult","receipt","user","userData","users","familyName","givenName","gaReceipt","useCashback","getStripe","setErrors","isTnCChecked","validatedTnC","w","stripePayment","payment","goog_report_conversion","CreditCards","checkoutUsingCashback","Checkout","renderDetailsTable","renderPriceSummary","renderTotal","renderCashBack","renderBackToDetail","renderPayment","verifyParams","newSessionId","token","promo_code","gaCheckOut","headerData","Templates_InsurerFormHeader_HeaderDescWithTypeDateNew","CheckoutV1_CheckoutDetailsTable_CheckoutDetailsTable","promoErrorString","CheckoutV1_CheckoutPriceSummary_CheckoutPriceSummary","CheckoutV1_CheckoutTotal_CheckoutTotal","CheckoutV1_CheckoutCashback_CheckoutCashback","reward_points","CheckoutV1_CheckoutDisclaimer_CheckoutDisclaimer","backToDetails","_this$props10","CheckoutV1_CheckoutPayment_CheckoutPayment","getTransactionStripeSession","renderChargedHeader","renderWarning","ownProps","adHocCharged","adHocData","status","isCharged","propsFromState","propsFromDispatch","getReceipt","userToken","promocode","useReward","getPromoCode","paramsWording","getCheckoutParamsWordingNew","getSessionParams","headerCoverage","getCheckoutHeaderDataCoverageNew","sessionParamsToUse","session_params","sessionParams","travelDate","getTravelDate","travellingString","getTravellingString","getTravellersDetails","countryName","compactCheckoutAttributes","whoTravelling","mainAdultDetail","adultsDetail","childrenDetail","blkNo","blk_no","getCompactSubDetails","citizenship","arrayName","relationship","Templates_CheckoutV1_Checkout","amountPayable","refValue","mediumHeight","bigHeight","DropDownV2","formStore","formValues","isForm","formChange","getAttribute","inputString","resultString","component","Field","externalDesc","FormsNew_FormInputWrapper_FormInputWrapper","getFormValues","marginTopDefault","SLIDERSTATE","ONIDLE","ONDOWN","ONUP","SliderNew","sliderWidth","sliderState","isUseDropDown","renderKnobs","renderSummary","handleSliderDown","handleSliderMove","handleSliderUp","storeForm","formStateList","indexToChange","selectedTabString","selectedTabIndex","formStateIndex","listState","isProductSlider","isDrop","rect","sliderStart","position","clientX","x","handleClick","len","indexToUse","handleProductSlider","round","newWidth","IDLE","isValidSelection","displayList","inputLength","leftOffset","isProductPassedPage","sliderStyle","dataToUse","descStyle","prefix","suffix","valueToUse","knobColor1","knobColor2","DropDown_DropDownV2","slider","FormsV3_FormInputWrapper_FormInputWrapper","DropDown_DropDown","getStateList","renderDescription","currIndex","s","go","mainDesc","subDesc","formStates","v3Slider","components_FormsV3_Slider_SliderNew","FormsNew_Slider_SliderNew","setInsurFormState"],"mappings":"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B,uDCAxCmjB,EAAAC,QAAiBC,EAAArjB,EAAuB,uDCAxCmjB,EAAAC,QAAiBC,EAAArjB,EAAuB,0DCAxCmjB,EAAAC,QAAiBC,EAAArjB,EAAuB,0GCAxCmjB,EAAAC,QAAiBC,EAAArjB,EAAuB,6DCAxCmjB,EAAAC,QAAiBC,EAAArjB,EAAuB,iECAxCmjB,EAAAC,QAAiBC,EAAArjB,EAAuB,uDCAxCmjB,EAAAC,QAAiBC,EAAArjB,EAAuB,0DCAxCmjB,EAAAC,QAAiBC,EAAArjB,EAAuB,4HCAxCmjB,EAAAC,QAAiBC,EAAArjB,EAAuB,8ECAxCmjB,EAAAC,QAAiBC,EAAArjB,EAAuB,uDCAxCmjB,EAAAC,QAAiBC,EAAArjB,EAAuB,0DCAxCmjB,EAAAC,QAAiBC,EAAArjB,EAAuB,0DCAxCmjB,EAAAC,QAAiBC,EAAArjB,EAAuB,sDCAxCmjB,EAAAC,QAAiBC,EAAArjB,EAAuB,0DCAxCmjB,EAAAC,QAAiBC,EAAArjB,EAAuB,wDCAxCmjB,EAAAC,QAAiBC,EAAArjB,EAAuB,uDCAxCmjB,EAAAC,QAAiBC,EAAArjB,EAAuB,uJCAxCmjB,EAAAC,QAAiBC,EAAArjB,EAAuB","file":"static/js/travel.2982f41c.chunk.js","sourcesContent":["/**\r\n * FormLanding.js\r\n * Wrapper that takes in the main landing form and\r\n * renders the 3 images with description, along\r\n * with the promo button\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Logos from 'assets/images/InsurerLogos';\r\nimport ReactSlickCarousel from 'components/Templates/ReactSlickCarousel/ReactSlickCarousel';\r\n\r\nimport './FormLandingSplash.scss';\r\n\r\nclass FormLandingSplash extends Component {\r\n  renderLogo() {\r\n    const { colorLogos } = this.props;\r\n    const logosToUse = colorLogos ? Logos.small : Logos.smallTinted;\r\n\r\n    return _.map(logosToUse, (logo, index) => (\r\n      <div className=\"insurer-logo-sq\" key={index}>\r\n        <img src={logo} alt={`logo-${index}`} />\r\n      </div>\r\n    ));\r\n  }\r\n\r\n  render() {\r\n    const { desc, img } = this.props;\r\n    return (\r\n      <Row className=\"form-landing-splash-container form-landing-insurer-carousel\" noGutters>\r\n        <Col xs={12}>\r\n          <img className=\"splash-img\" src={img} alt=\"splash-img\" />\r\n          {desc}\r\n          <div className=\"mas-container\">\r\n            {/* <img src={Mas} alt=\"Mas.svg\" />\r\n            <p className=\"h7\">Licensed Insurance Broker & Exempted Financial Advisor</p> */}\r\n          </div>\r\n        </Col>\r\n        <Col xs={{ size: 10, offset: 1 }} className=\"insurer-logo-carousel\">\r\n          <div className=\"carousel-container\">\r\n            <ReactSlickCarousel\r\n              lazyLoad\r\n              autoplay\r\n              slidesToShow={5}\r\n              arrows\r\n              className=\"white-sliders\"\r\n            >\r\n              {this.renderLogo()}\r\n            </ReactSlickCarousel>\r\n          </div>\r\n          <p className=\"h7\">Over 20 trusted insurance partners and 50,000 registered users got their insurance solutions via PolicyPal</p>\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nFormLandingSplash.defaultProps = {\r\n  colorLogos: false,\r\n};\r\n\r\nFormLandingSplash.propTypes = {\r\n  desc: PropTypes.object.isRequired,\r\n  img: PropTypes.string.isRequired,\r\n  colorLogos: PropTypes.bool,\r\n};\r\n\r\nexport default FormLandingSplash;\r\n","/**\r\n * FormLanding.js\r\n * Wrapper that takes in the main landing form and\r\n * renders the 3 images with description, along\r\n * with the promo button\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component, Fragment } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Mouse from 'assets/images/FormLanding/Mouse.svg';\r\n\r\nimport FormLandingSplash from './FormLandingSplash';\r\nimport FormLandingFooter from './FormLandingFooter';\r\nimport PromoPopup from '../PromoPopup/PromoPopup';\r\n\r\nimport {\r\n  onPageInsurance,\r\n  setStateInsurance,\r\n  onPageMore,\r\n  setStateMore,\r\n  onPageBusiness,\r\n  setStateBusiness,\r\n} from '../../../actions/navActions';\r\n\r\nimport './FormLandingNew.scss';\r\n\r\nclass FormLandingNew extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // Set Insurance Page Indicator\r\n    const pageState = onPageInsurance.ACTIVE;\r\n    // Reset More Page Indicator\r\n    const resetMore = onPageMore.NONE;\r\n\r\n    // Reset Business Page Indicator\r\n    const resetBusiness = onPageBusiness.NONE;\r\n\r\n    const {\r\n      setPage,\r\n      resetIndicatorMore,\r\n      resetIndicatorBusiness,\r\n    } = this.props;\r\n    setPage(pageState);\r\n    resetIndicatorMore(resetMore);\r\n    resetIndicatorBusiness(resetBusiness);\r\n\r\n    this.renderBackGround = this.renderBackGround.bind(this);\r\n  }\r\n\r\n  renderBackGround() {\r\n    return (\r\n      <Fragment>\r\n        <div className=\"circle-shape circle-upper\" />\r\n        <div className=\"circle-shape circle-bottom\" />\r\n        <div className=\"circle-green\" />\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      splashImg,\r\n      desc,\r\n      formInformation,\r\n    } = this.props;\r\n\r\n    return (\r\n      <Fragment>\r\n        <Row noGutters>\r\n          <Col className=\"landing-form-outer-container-new\">\r\n            {this.renderBackGround()}\r\n            <Row noGutters>\r\n              <Col xs={12}>\r\n                <div className=\"d-block d-lg-none\">{desc}</div>\r\n              </Col>\r\n              <Col xs={12} sm={7} className=\"d-none d-lg-block\">\r\n                <FormLandingSplash\r\n                  desc={desc}\r\n                  img={splashImg}\r\n                />\r\n              </Col>\r\n              <Col xs={12} lg={5}>\r\n                {this.props.children}\r\n              </Col>\r\n              <Col xs={12} className=\"mouse d-none d-md-flex\">\r\n                <img src={Mouse} alt=\"Mouse.svg\" />\r\n              </Col>\r\n              {formInformation}\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n        <FormLandingFooter />\r\n        <PromoPopup\r\n          ref={node => this.promoPopup = node}\r\n        />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nFormLandingNew.defaultProps = {\r\n  setPage: null,\r\n  resetIndicatorMore: null,\r\n  resetIndicatorBusiness: null,\r\n  formInformation: null,\r\n};\r\n\r\nFormLandingNew.propTypes = {\r\n  splashImg: PropTypes.string.isRequired,\r\n  desc: PropTypes.object.isRequired,\r\n  setPage: PropTypes.func,\r\n  resetIndicatorMore: PropTypes.func,\r\n  resetIndicatorBusiness: PropTypes.func,\r\n  formInformation: PropTypes.object,\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setPage: (pageState) => {\r\n    dispatch(setStateInsurance(pageState));\r\n  },\r\n  resetIndicatorMore: (resetMore) => {\r\n    dispatch(setStateMore(resetMore));\r\n  },\r\n  resetIndicatorBusiness: (resetBusiness) => {\r\n    dispatch(setStateBusiness(resetBusiness));\r\n  },\r\n});\r\n\r\nexport default withRouter(connect(null, mapDispatchToProps)(FormLandingNew));\r\n","/**\r\n * ChangeInitialFormData.js\r\n * This is the green pencil button that appears mainly on\r\n * the compare view which will render the Edit Detail forms\r\n * of each category.\r\n *\r\n * Users will be able to change that form through this component\r\n * and will do a callback to update any changes, eg for compare view.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport {\r\n  Row,\r\n  Col,\r\n} from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport PopupBanner from 'assets/images/TokioMarine/PopupBanner.svg';\r\nimport PopupBannerResp from 'assets/images/TokioMarine/PopupBannerResp.svg';\r\nimport Plane from 'assets/images/TokioMarine/Plane.svg';\r\nimport Hospital from 'assets/images/TokioMarine/Hospital.svg';\r\nimport Language from 'assets/images/TokioMarine/Language.svg';\r\n\r\nimport ModalPopup from 'components/Templates/ModalPopup/ModalPopup';\r\nimport Button from 'components/FormsV3/Button/Button';\r\n\r\nimport './TokioMarinePopUp.scss';\r\n\r\nconst infoData = [{\r\n  img: Hospital,\r\n  title: 'Cashless service over 300 medical facilities',\r\n  desc: 'Tokio Marine refers you to the nearest hospital most suited to your urgent needs and pays medical expenses directly to the medical facility.',\r\n}, {\r\n  img: Plane,\r\n  title: 'Emergency repatriation',\r\n  desc: 'Tokio Marine offers full support of repatriation to a medical institution in Singapore.',\r\n}, {\r\n  img: Language,\r\n  title: 'Translation',\r\n  desc: 'Tokio Marine provides medical care with interpreting service via phone in both English and Mandarin.',\r\n}];\r\n\r\nclass TokioMarinePopUp extends Component {\r\n  renderBanner() {\r\n    return (\r\n      <Row noGutters>\r\n        <Col xs={12} className=\"banner\">\r\n          <img className=\"d-none d-sm-block\" src={PopupBanner} alt=\"PopupBanner.svg\" />\r\n          <img className=\"d-block d-sm-none\" src={PopupBannerResp} alt=\"PopupBannerResp.svg\" />\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n\r\n  renderInfo() {\r\n    return (\r\n      <Row>\r\n        {\r\n          _.map(infoData, (data, index) => (\r\n            <Col\r\n              key={`tm-info-${index}`}\r\n              xs={12}\r\n              lg={4}\r\n              className=\"info-container\"\r\n            >\r\n              <div className=\"image\">\r\n                <img src={data.img} alt={`tm-info-${index}.svg`} />\r\n              </div>\r\n              <div className=\"desc\">\r\n                <h4>{data.title}</h4>\r\n                <p>{data.desc}</p>\r\n              </div>\r\n            </Col>\r\n          ))\r\n        }\r\n      </Row>\r\n    );\r\n  }\r\n\r\n  renderButtons() {\r\n    const { onSkip, onInterested, closeModal } = this.props;\r\n\r\n    return (\r\n      <Row className=\"d-flex justify-content-center\" noGutters>\r\n        <Col className=\"button-container\">\r\n          <Row className=\"w-100\" noGutters>\r\n            <Col className=\"button-container-inner\" xs={{ size: 12, order: 2 }} sm={{ size: 6, order: 1 }}>\r\n              <Button\r\n                className=\"button-left\"\r\n                variant=\"medium-outline\"\r\n                height={48}\r\n                onClick={() => { closeModal(); onSkip(); }}\r\n              >\r\n                <p>Skip</p>\r\n              </Button>\r\n            </Col>\r\n            <Col className=\"button-container-inner\" xs={{ size: 12, order: 1 }} sm={{ size: 6, order: 2 }}>\r\n              <Button\r\n                type=\"submit\"\r\n                variant=\"medium-flat-green\"\r\n                height={48}\r\n                onClick={() => { closeModal(); onInterested(); }}\r\n              >\r\n                <p>Im interested!</p>\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { showModal, closeModal } = this.props;\r\n\r\n    return (\r\n      <ModalPopup\r\n        showModal={showModal}\r\n        closeModal={closeModal}\r\n        className=\"tokio-marine-xplora-japan-popup\"\r\n        backdropClassName=\"blue-modal-backdrop\"\r\n        header={<span>A Japan-Exclusive Plan Not to Be Missed!</span>}\r\n        body={(\r\n          <Fragment>\r\n            {this.renderBanner()}\r\n            {this.renderInfo()}\r\n            {this.renderButtons()}\r\n          </Fragment>\r\n        )}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nTokioMarinePopUp.defaultProps = {\r\n  showModal: false,\r\n  onSkip: () => {},\r\n  onInterested: () => {},\r\n};\r\n\r\nTokioMarinePopUp.propTypes = {\r\n  showModal: PropTypes.bool,\r\n  closeModal: PropTypes.func.isRequired,\r\n  onSkip: PropTypes.func,\r\n  onInterested: PropTypes.func,\r\n};\r\n\r\nexport default TokioMarinePopUp;\r\n","/**\r\n * FormLanding.js\r\n * Wrapper that takes in the main landing form and\r\n * renders the 3 images with description, along\r\n * with the promo button\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './FormLandingInformation.scss';\r\n\r\nclass FormLandingInformation extends Component {\r\n  renderData() {\r\n    const { data, title } = this.props;\r\n    const width = data && data.length > 0 ? `${(100.0 / data.length)}%` : '0%';\r\n\r\n    return _.map(data, d => (\r\n      <div\r\n        key={`${title}-${d.title}`}\r\n        className=\"desc-container\"\r\n        style={{ width }}\r\n      >\r\n        <div className=\"img-container\">\r\n          <img src={d.img} alt={d.title} />\r\n        </div>\r\n        <h3>{d.title}</h3>\r\n        <h5>{d.desc}</h5>\r\n      </div>\r\n    ));\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      title,\r\n      subTitle,\r\n      colorStyle,\r\n    } = this.props;\r\n\r\n    return (\r\n      <Row className={`form-landing-information-container ${colorStyle}`} noGutters>\r\n        <Col xs={12}>\r\n          <h2 className=\"main-title\">{title}</h2>\r\n          <h2 className=\"sub-title\">{subTitle}</h2>\r\n        </Col>\r\n        <Col xs={12} className=\"information-container\">\r\n          {this.renderData()}\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nFormLandingInformation.defaultProps = {\r\n};\r\n\r\nFormLandingInformation.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  subTitle: PropTypes.string.isRequired,\r\n  colorStyle: PropTypes.string.isRequired,\r\n  data: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default FormLandingInformation;\r\n","/**\r\n * TravelEditDetail.js\r\n * Edit Detail View for travel\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { Row, Col, Form } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Button from 'components/FormsV3/Button/Button';\r\n\r\n\r\nclass TravelEditDetail extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { values, setCloseCallBack } = this.props;\r\n    this.originalValues = _.cloneDeep(values);\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleCloseEdit = this.handleCloseEdit.bind(this);\r\n    this.handleRevert = this.handleRevert.bind(this);\r\n\r\n    if (setCloseCallBack) {\r\n      setCloseCallBack(this.handleRevert);\r\n    }\r\n  }\r\n\r\n  async handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const {\r\n      closePopUp,\r\n      fields,\r\n      validateForm,\r\n      onSubmit,\r\n    } = this.props;\r\n\r\n    await validateForm(() => {\r\n      if (closePopUp) {\r\n        closePopUp();\r\n      }\r\n\r\n      onSubmit();\r\n    }, fields);\r\n  }\r\n\r\n  handleRevert() {\r\n    const { onUpdateValues } = this.props;\r\n\r\n    if (onUpdateValues) {\r\n      onUpdateValues(this.originalValues);\r\n    }\r\n  }\r\n\r\n  handleCloseEdit() {\r\n    const { closePopUp } = this.props;\r\n    closePopUp(this.handleRevert);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isPopUp,\r\n      title,\r\n    } = this.props;\r\n\r\n    const borderStyle = isPopUp ? '' : 'landing-form-container-border';\r\n\r\n    return (\r\n      <div className={`landing-form-container-new ${borderStyle}`}>\r\n        {\r\n          isPopUp ?\r\n            <p className=\"edit-header\">{title}</p>\r\n          :\r\n            null\r\n        }\r\n        <Form onSubmit={this.handleSubmit}>\r\n          <Row className=\"input-offset\" noGutters>\r\n            {this.props.children}\r\n            {\r\n              !isPopUp ?\r\n                <Col className=\"d-flex align-items-end justify-content-end button\" xs={12} sm={6}>\r\n                  <Button type=\"submit\" variant=\"medium-flat-green\" height={48}>\r\n                    <p>Search Policies</p>\r\n                  </Button>\r\n                </Col>\r\n              :\r\n                null\r\n            }\r\n          </Row>\r\n          <Row className=\"align-items-center button-container\" noGutters>\r\n            {\r\n              isPopUp ?\r\n                <Col className=\"justify-content-center button\" xs={12}>\r\n                  <Row noGutters>\r\n                    <Col className=\"button-container-inner\" xs={12} sm={6}>\r\n                      <Button\r\n                        type=\"button\"\r\n                        className=\"button-left\"\r\n                        variant=\"medium-outline-inverse\"\r\n                        height={48}\r\n                        onClick={() => this.handleCloseEdit()}\r\n                      >\r\n                        <p>Cancel</p>\r\n                      </Button>\r\n                    </Col>\r\n                    <Col className=\"button-container-inner\" xs={12} sm={6}>\r\n                      <Button\r\n                        type=\"submit\"\r\n                        variant=\"medium-flat-green\"\r\n                        height={48}\r\n                      >\r\n                        <p>Save</p>\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                </Col>\r\n              :\r\n                null\r\n            }\r\n          </Row>\r\n        </Form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTravelEditDetail.defaultProps = {\r\n  values: null,\r\n  closePopUp: null,\r\n  setCloseCallBack: null,\r\n  isPopUp: false,\r\n  onUpdateValues: null,\r\n};\r\n\r\nTravelEditDetail.propTypes = {\r\n  values: PropTypes.object,\r\n  isPopUp: PropTypes.bool,\r\n\r\n  closePopUp: PropTypes.func,\r\n  setCloseCallBack: PropTypes.func,\r\n\r\n  onUpdateValues: PropTypes.func,\r\n  title: PropTypes.string.isRequired,\r\n\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default TravelEditDetail;\r\n","/**\r\n * TravelMain.js\r\n * Main Landing View for travel\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport PiggyBank from 'assets/images/FormLanding/InformationLogos/PiggyBank.svg';\r\nimport HandWithMoney from 'assets/images/FormLanding/InformationLogos/HandWithMoney.svg';\r\nimport CircuitBoard from 'assets/images/FormLanding/InformationLogos/CircuitBoard.svg';\r\nimport Clock from 'assets/images/FormLanding/InformationLogos/Clock.svg';\r\nimport Luggague from 'assets/images/FormLanding/InformationLogos/Luggauge.svg';\r\nimport Plane from 'assets/images/FormLanding/InformationLogos/Plane.svg';\r\nimport Medic from 'assets/images/FormLanding/InformationLogos/Medic.svg';\r\nimport Disaster from 'assets/images/FormLanding/InformationLogos/Disaster.svg';\r\nimport splashImg from 'assets/images/Travel/TravelSplash.svg';\r\n\r\nimport FormLandingNew from 'components/Templates/FormLanding/FormLandingNew';\r\nimport TokioMarinePopUp from 'components/TokioMarinePopUp/TokioMarinePopUp';\r\nimport FormLandingInformation from 'components/Templates/FormLanding/FormLandingInformation';\r\nimport FieldGenerator from 'components/FormsV3/FieldGenerator';\r\n\r\nimport TravelEditDetail from './TravelEditDetail';\r\n\r\nimport './Travel.scss';\r\n\r\nclass TravelMain extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      showTMModal: false,\r\n    };\r\n\r\n    this.openTMModal = this.openTMModal.bind(this);\r\n    this.closeTMModal = this.closeTMModal.bind(this);\r\n  }\r\n\r\n  openTMModal() {\r\n    this.setState({ showTMModal: true });\r\n  }\r\n\r\n  closeTMModal() {\r\n    this.setState({ showTMModal: false });\r\n  }\r\n\r\n  render() {\r\n    const { showTMModal } = this.state;\r\n    const {\r\n      travelPromoGiveAway,\r\n      onChangeValue,\r\n      values,\r\n      errors,\r\n      mainFormFields,\r\n      validateForm,\r\n      onSubmit,\r\n      handleGoNext,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className=\"travel-container \">\r\n        <FormLandingNew\r\n          splashImg={splashImg}\r\n          imgAlt=\"PolicyPal Travel Insurance\"\r\n          promo={travelPromoGiveAway}\r\n          desc={\r\n            <Fragment>\r\n              <h1>Get 5% Cashback </h1>\r\n              <h1>upon purchase of Travel Insurance!</h1>\r\n            </Fragment>\r\n          }\r\n          formInformation={(\r\n            <Fragment>\r\n              <Col xs={12}>\r\n                <FormLandingInformation\r\n                  colorStyle=\"landing-green-style\"\r\n                  title=\"BENEFITS\"\r\n                  subTitle=\"Why you need Travel Insurance?\"\r\n                  data={[\r\n                    {\r\n                      img: Luggague,\r\n                      title: 'Protect Your Belongings',\r\n                      desc: 'Your personal belongings are as important to us as they are to you. Have a peace of mind in the event you lose or damage your belongings.',\r\n                    }, {\r\n                      img: Plane,\r\n                      title: 'Flight Delay or Cancellation',\r\n                      desc: 'Your flights may be delayed or cancelled due to unforeseen circumstances like bad weather. Protect yourself from lost time.',\r\n                    }, {\r\n                      img: Medic,\r\n                      title: 'Medical Coverage',\r\n                      desc: 'Your healthcare is looked out for no matter which part of the world you travel to. Worry about one less thing when you seek medical attention.',\r\n                    }, {\r\n                      img: Disaster,\r\n                      title: 'Disasters Protection',\r\n                      desc: 'Your risk exposure to natural disasters can be covered with insurance - get protected against earthquakes, hurricanes, tsunami & more.',\r\n                    },\r\n                  ]}\r\n                />\r\n              </Col>\r\n              <Col className=\"travel-top-info\" xs={12}>\r\n                <FormLandingInformation\r\n                  colorStyle=\"landing-blue-style\"\r\n                  title=\"HOW IT WORKS\"\r\n                  subTitle=\"It's better to buy from PolicyPal\"\r\n                  data={[\r\n                    {\r\n                      img: PiggyBank,\r\n                      title: 'Value for Money',\r\n                      desc: 'We compare policies listed by our partners to give you a comprehensive overview of the coverages best suited to your needs at the most affordable price.',\r\n                    }, {\r\n                      img: HandWithMoney,\r\n                      title: 'Cashback Benefits',\r\n                      desc: 'We reward you with 5% cashback in P$ credits with each Travel, Motor or Pet insurance purchase. Accumulate P$ credits & offset your subsequent purchases.',\r\n                    }, {\r\n                      img: CircuitBoard,\r\n                      title: 'Automated Claims',\r\n                      desc: 'We automatically process your claims from ERGO Automated Flight Delay Plans instantly and securely on our blockchain protocol.',\r\n                    }, {\r\n                      img: Clock,\r\n                      title: 'Time-Saving',\r\n                      desc: 'We store your details to save you time and replicate the information on your subsequent purchases on our one-stop platform.',\r\n                    },\r\n                  ]}\r\n                />\r\n              </Col>\r\n            </Fragment>\r\n          )}\r\n        >\r\n          {\r\n            mainFormFields &&\r\n            <TravelEditDetail\r\n              title=\"Edit Travel Insurance Details\"\r\n              fields={mainFormFields}\r\n              values={values}\r\n              validateForm={validateForm}\r\n              onSubmit={() => onSubmit(this.openTMModal)}\r\n            >\r\n              {\r\n                _.map(mainFormFields, (f, index) => (\r\n                  <FieldGenerator\r\n                    key={`business-form-${index}`}\r\n                    values={values}\r\n                    errors={errors}\r\n                    fieldData={f}\r\n                    onChangeValue={(type, name, value) => onChangeValue(type, name, value, mainFormFields)}\r\n                    extraInfo={f.extra_info && <p>{f.extra_info}</p>}\r\n                    noInternalDesc={f.no_internal_desc}\r\n                  />\r\n                ))\r\n              }\r\n            </TravelEditDetail>\r\n          }\r\n        </FormLandingNew>\r\n        <TokioMarinePopUp\r\n          showModal={showTMModal}\r\n          closeModal={() => {\r\n            this.closeTMModal();\r\n            handleGoNext(false);\r\n          }}\r\n          onSkip={handleGoNext}\r\n          onInterested={() => handleGoNext(true)}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTravelMain.defaultProps = {\r\n  travelPromoGiveAway: null,\r\n  mainFormFields: null,\r\n  values: null,\r\n  errors: null,\r\n};\r\n\r\nTravelMain.propTypes = {\r\n  mainFormFields: PropTypes.array,\r\n  travelPromoGiveAway: PropTypes.object,\r\n  onChangeValue: PropTypes.func.isRequired,\r\n  values: PropTypes.object,\r\n  errors: PropTypes.object,\r\n  onSubmit: PropTypes.func.isRequired,\r\n  validateForm: PropTypes.func.isRequired,\r\n  handleGoNext: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default TravelMain;\r\n","/**\r\n * TravelMainContainer.js\r\n * The main container for travel\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport TravelMain from 'components/Travel/TravelMain';\r\n\r\nimport { setCategoryNavBar } from 'actions/navActions';\r\nimport { setInsuranceFormState, FORMSTATES } from 'actions/insuranceActions';\r\nimport { getMainFormFields } from 'actions/travelActions';\r\n\r\nimport { daysDiff } from 'lib/dateFunctions';\r\nimport { gaEvent, ampTag, gaTag } from 'lib/tagFunctions';\r\n\r\nclass TravelMainContainer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.handleGoNext = this.handleGoNext.bind(this);\r\n  }\r\n  async componentDidMount() {\r\n    const {\r\n      setFormState,\r\n      doSetCategoryNavBar,\r\n      history,\r\n      handleAPI,\r\n      mainFormFields,\r\n      getMainFields,\r\n      constants,\r\n      setPlansData,\r\n    } = this.props;\r\n\r\n    setFormState(FORMSTATES.MAIN.index);\r\n\r\n    window.scrollTo(0, 0);\r\n    gaTag({\r\n      page_title: 'Travel',\r\n      page_path: `/travel${history.location.search}`,\r\n    });\r\n    ampTag('TravelFormS');\r\n    doSetCategoryNavBar(true);\r\n\r\n    if (!mainFormFields) {\r\n      const mainFields = await handleAPI(\r\n        () => getMainFields(constants),\r\n        false,\r\n        'Unable to get form fields. Please try again!',\r\n        () => history.goBack(),\r\n      );\r\n\r\n      if (!mainFields) {\r\n        history.push('/');\r\n      }\r\n    }\r\n\r\n    setPlansData();\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps) {\r\n    const { mainFormFields, values, errors } = this.props;\r\n\r\n    return !_.isEqual(mainFormFields, nextProps.mainFormFields) ||\r\n          !_.isEqual(values, nextProps.values) ||\r\n          !_.isEqual(errors, nextProps.errors);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { doSetCategoryNavBar } = this.props;\r\n    doSetCategoryNavBar(false);\r\n  }\r\n\r\n  async onSubmit(openTMModal) {\r\n    const { values } = this.props;\r\n\r\n    gaEvent('Travel - Get Quote', {\r\n      event_category: 'Travel',\r\n      event_label: 'Button - Travel - Get Quote',\r\n    });\r\n\r\n    const adults = (values.num_adult && values.num_adult.value) || 0;\r\n    const children = (values.num_children && values.num_children.value) || 0;\r\n    const travellers = adults + children;\r\n\r\n    const tripType = values.trip_type && values.trip_type.value;\r\n    const planType = values.plan_type && values.plan_type.value;\r\n\r\n    const countries = values.countries && values.countries.value;\r\n    const region = values.region && values.region.value;\r\n\r\n    ampTag('TravelGetQuoteA', {\r\n      type: tripType,\r\n      for: planType,\r\n      destination: tripType === 'Single Trip' ? countries : region,\r\n      duration: tripType === 'Annual Multi-Trip' ? 365 : daysDiff(values.start_date && values.start_date.value, values.end_date && values.end_date.value),\r\n      adults,\r\n      children,\r\n      travellers,\r\n    });\r\n\r\n    // TM Explora Japan\r\n    const isJapan = countries && countries.length === 1 && _.find(countries, country => _.lowerCase(country.value) === 'japan');\r\n    if (isJapan) {\r\n      openTMModal();\r\n      return;\r\n    }\r\n\r\n    this.handleGoNext();\r\n  }\r\n\r\n  handleGoNext(goToProduct) {\r\n    const { setFormState, history } = this.props;\r\n    setFormState(FORMSTATES.CHOOSEPLAN.index);\r\n    const productLink = goToProduct ? '/tokio_marine/xplora_japan' : '';\r\n    history.push(`/travel${FORMSTATES.CHOOSEPLAN.path}${productLink}`);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <TravelMain\r\n        {...this.props}\r\n        onSubmit={this.onSubmit}\r\n        handleGoNext={this.handleGoNext}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nTravelMainContainer.defaultProps = {\r\n  mainFormFields: null,\r\n  travelPromoGiveAway: null,\r\n  values: null,\r\n  errors: null,\r\n};\r\n\r\nTravelMainContainer.propTypes = {\r\n  values: PropTypes.object,\r\n  errors: PropTypes.object,\r\n  onChangeValue: PropTypes.func.isRequired,\r\n  getMainFields: PropTypes.func.isRequired,\r\n  mainFormFields: PropTypes.array,\r\n  travelPromoGiveAway: PropTypes.object,\r\n  history: PropTypes.object.isRequired,\r\n  setFormState: PropTypes.func.isRequired,\r\n  doSetCategoryNavBar: PropTypes.func.isRequired,\r\n  validateForm: PropTypes.func.isRequired,\r\n  setPlansData: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  mainFormFields: state.travel.mainFormFields,\r\n  travelPromoGiveAway: state.insurance.promoGiveaways.travel,\r\n  constants: state.insurance.constants,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  getMainFields: constants => dispatch(getMainFormFields(constants)),\r\n  setFormState: (state) => {\r\n    dispatch(setInsuranceFormState(state));\r\n  },\r\n  doSetCategoryNavBar: (isCategory) => {\r\n    dispatch(setCategoryNavBar(isCategory, true));\r\n  },\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(TravelMainContainer));\r\n","/**\r\n * ChangeInitialFormData.js\r\n * This is the green pencil button that appears mainly on\r\n * the compare view which will render the Edit Detail forms\r\n * of each category.\r\n *\r\n * Users will be able to change that form through this component\r\n * and will do a callback to update any changes, eg for compare view.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport moment from 'moment';\r\nimport React, { Component, Fragment } from 'react';\r\n// import { connect } from 'react-redux';\r\nimport { Modal, ModalHeader, Tooltip } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport EditButton from 'assets/images/forms/EditButton.svg';\r\n\r\nimport Button from 'components/FormsV3/Button/Button';\r\n\r\nimport { simplifyCost } from '../../../lib/helperFunctions';\r\n\r\nimport './ChangeInitialFormDataNew.scss';\r\n\r\nclass ChangeInitialFormDataNew extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      modal: false,\r\n      revertFunc: () => {},\r\n      isToolTip: false,\r\n    };\r\n\r\n    // this.renderHeader = this.renderHeader.bind(this);\r\n    this.renderDetailValues = this.renderDetailValues.bind(this);\r\n    this.renderEditButton = this.renderEditButton.bind(this);\r\n    this.toggle = this.toggle.bind(this);\r\n  }\r\n\r\n  // componentDidMount() {\r\n  //   const { resetSubmit } = this.props;\r\n\r\n  //   resetSubmit();\r\n  // }\r\n\r\n  // shouldComponentUpdate(nextProps, nextState) {\r\n  //   const {\r\n  //     closePopUp,\r\n  //     toolTipData,\r\n  //     modal,\r\n  //     isToolTip,\r\n  //   } = this.state;\r\n  //   const { resetSubmit } = this.props;\r\n\r\n  //   if (nextProps.isEditSubmitted) {\r\n  //     resetSubmit();\r\n  //   }\r\n\r\n  //   return nextProps.isEditSubmitted ||\r\n  //         closePopUp !== nextState.closePopUp ||\r\n  //         toolTipData !== nextState.toolTipData ||\r\n  //         modal !== nextState.modal ||\r\n  //         isToolTip !== nextState.isToolTip;\r\n  // }\r\n\r\n  toggle(revertFunc) {\r\n    const { modal } = this.state;\r\n\r\n    if (modal && revertFunc) {\r\n      revertFunc();\r\n    }\r\n\r\n    this.setState({\r\n      modal: !modal,\r\n    });\r\n  }\r\n\r\n  // renderHeader() {\r\n  //   const { headerValue, storeForm } = this.props;\r\n  //   if (storeForm && headerValue) {\r\n  //     const value = storeForm[headerValue] ? storeForm[headerValue] : '';\r\n  //     return <span className=\"edit-detail-header\">{value}</span>;\r\n  //   }\r\n\r\n  //   return null;\r\n  // }\r\n\r\n  renderDetailValues(isResp) {\r\n    const { isToolTip } = this.state;\r\n    const {\r\n      values,\r\n      valuesToListen,\r\n      conditions,\r\n    } = this.props;\r\n\r\n    const conditonValue = conditions ? values[conditions.key] && values[conditions.key].value : null;\r\n    const valuesArrayToListen = conditonValue ? conditions.values[conditonValue] : null;\r\n\r\n    if (!values) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className=\"edit-detail-value-container-new\">\r\n        {\r\n          _.reduce(valuesToListen, (result, data, index) => {\r\n            if (\r\n              !valuesArrayToListen ||\r\n              (valuesArrayToListen && _.findIndex(valuesArrayToListen, value => value === data.value) !== -1)\r\n            ) {\r\n              const value = values[data.value] ? values[data.value].value : 'None';\r\n              let displayValue = value;\r\n              let isArray = false;\r\n\r\n              if (data.customFunc) {\r\n                displayValue = data.customFunc();\r\n              } else if (data.extra === 'cost_simplify') {\r\n                displayValue = simplifyCost(value);\r\n              } else if (value.constructor === Array) {\r\n                isArray = true;\r\n                displayValue = [...value];\r\n                if (data.aggregateDesc && displayValue.length > 1) {\r\n                  displayValue = `${displayValue.length} ${data.aggregateDesc}`;\r\n                }\r\n              } else if (value.constructor === Object) {\r\n                displayValue = value.display_name;\r\n              } else if (value.constructor === Date) {\r\n                displayValue = moment(value).format('DD MMM YYYY');\r\n              }\r\n\r\n              displayValue = displayValue.toString();\r\n\r\n              let jsx = null;\r\n              if (isResp) {\r\n                const isLast = index === valuesToListen.length - 1;\r\n                const comma = isLast ? '' : ',';\r\n                jsx = (\r\n                  <div key={`detail-${index}`} className=\"detail-resp-value\">{displayValue}{comma}</div>\r\n                );\r\n              } else {\r\n                jsx = (\r\n                  <div className=\"edit-detail-value\" key={`detail-${index}`}>\r\n                    <img\r\n                      src={data.logo}\r\n                      alt={`${data.value}.svg`}\r\n                      className=\"detail-logo\"\r\n                    />\r\n                    <span className=\"detail-value\">\r\n                      {displayValue}\r\n                      {\r\n                        isArray && value.length > 1 ?\r\n                          <Fragment>\r\n                            <Tooltip\r\n                              target={`initial-form-tooltip-${index}`}\r\n                              isOpen={isToolTip}\r\n                              toggle={() => this.setState({ isToolTip: false })}\r\n                              className=\"animated fade\"\r\n                            >\r\n                              {_.map(value, (v, idx) => <p key={`tooltip-value-${idx}`}>{v}</p>)}\r\n                            </Tooltip>\r\n                            <div\r\n                              id={`initial-form-tooltip-${index}`}\r\n                              className=\"tooltip-button\"\r\n                              onMouseMove={() => {\r\n                                this.setState({\r\n                                  isToolTip: true,\r\n                                });\r\n                              }}\r\n                            >\r\n                              <p>i</p>\r\n                            </div>\r\n                          </Fragment>\r\n                        :\r\n                          null\r\n                      }\r\n                    </span>\r\n                  </div>\r\n                );\r\n              }\r\n              result.push(jsx);\r\n            }\r\n\r\n            return result;\r\n          }, [])\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderEditButton(isResp) {\r\n    if (isResp) {\r\n      return (\r\n        <div\r\n          role=\"button\"\r\n          tabIndex={-1}\r\n          onKeyDown={() => {}}\r\n          onClick={() => {\r\n            // this.popupRef.openPopup();\r\n            this.toggle();\r\n          }}\r\n        >\r\n          <img src={EditButton} alt=\"EditButton.svg\" />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Button\r\n        variant=\"medium-outline-edit\"\r\n        height={40}\r\n        onClick={() => {\r\n          // this.popupRef.openPopup();\r\n          this.toggle();\r\n        }}\r\n      >\r\n        <p>Edit</p>\r\n      </Button>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { modal, revertFunc } = this.state;\r\n    const { submitCallback, displayOnly } = this.props;\r\n\r\n    if (displayOnly) {\r\n      return (\r\n        this.renderDetailValues(false)\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"change-form-container-new\">\r\n        <div className=\"edit-detail-container d-none d-lg-flex\">\r\n          {/* {this.renderHeader()} */}\r\n          <div className=\"edit-detail-inner-container\">\r\n            {this.renderDetailValues(false)}\r\n          </div>\r\n          {this.renderEditButton(false)}\r\n        </div>\r\n        <div className=\"edit-detail-resp-container d-flex d-lg-none\">\r\n          <div className=\"detail-inner-resp-container\">\r\n            {this.renderDetailValues(true)}\r\n          </div>\r\n          {this.renderEditButton(true)}\r\n        </div>\r\n        <Modal\r\n          isOpen={modal}\r\n          size=\"lg\"\r\n          backdropClassName=\"blue-modal-backdrop\"\r\n        >\r\n          <ModalHeader toggle={() => this.toggle(revertFunc)} />\r\n          {React.cloneElement(this.props.children, {\r\n            submitCallback,\r\n            closePopUp: (func = () => {}) => { this.toggle(); func(); },\r\n            setCloseCallBack: (func = () => {}) => this.setState({ revertFunc: func }),\r\n          })}\r\n        </Modal>\r\n        {/* <Popup ref={(r) => { this.popupRef = r; }}>\r\n          {React.cloneElement(this.props.children, {\r\n            submitCallback,\r\n          })}\r\n        </Popup> */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nChangeInitialFormDataNew.defaultProps = {\r\n  submitCallback: null,\r\n  conditions: null,\r\n  headerValue: null,\r\n  displayOnly: false,\r\n  values: null,\r\n};\r\n\r\nChangeInitialFormDataNew.propTypes = {\r\n  valuesToListen: PropTypes.array.isRequired,\r\n  // storeForm: PropTypes.object.isRequired,\r\n  // isEditSubmitted: PropTypes.bool.isRequired,\r\n  // resetSubmit: PropTypes.func.isRequired,\r\n  submitCallback: PropTypes.func,\r\n  conditions: PropTypes.object,\r\n  headerValue: PropTypes.string,\r\n  displayOnly: PropTypes.bool,\r\n  values: PropTypes.object,\r\n};\r\n\r\n// const mapStateToProps = (state, ownProps) => ({\r\n//   // isEditSubmitted: state.editForm.isEditSubmitted,\r\n// });\r\n\r\n// const mapDispatchToProps = dispatch => ({\r\n// });\r\n\r\n// connect(mapStateToProps, mapDispatchToProps)(ChangeInitialFormDataNew);\r\n\r\nexport default ChangeInitialFormDataNew;\r\n","import DocumentImg from './Document.svg';\r\nimport Exercise from './Exercise.svg';\r\nimport Head from './Head.svg';\r\nimport Medicine from './Medicine.svg';\r\nimport OthersImg from './Others.svg';\r\nimport Plane from './Plane.svg';\r\nimport DocumentsResp from './DocumentsResp.svg';\r\n\r\nexport default {\r\n  'Travel Inconvenience': Plane,\r\n  'Medical Coverage': Medicine,\r\n  'Personal Protection': Head,\r\n  'Leisure Activities': Exercise,\r\n  Others: OthersImg,\r\n  'Policy Documents': DocumentImg,\r\n  documentsResp: DocumentsResp,\r\n};\r\n","/**\r\n * PromoPopup.js\r\n * popup used to display promos on Form landings\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { Row, Col, Tooltip } from 'reactstrap';\r\nimport ReactPixel from 'react-facebook-pixel';\r\nimport ModalPopup from 'components/Templates/ModalPopup/ModalPopup';\r\nimport { getAddToCartData } from 'lib/trackingHelper';\r\n\r\nimport TooltipImg from 'assets/images/forms/Tooltip.svg';\r\n// import LabelImg from 'assets/images/forms/Label.svg';\r\nimport ClockImg from 'assets/images/forms/Clock.svg';\r\nimport ProductImages from 'assets/images/ProductPage';\r\n\r\nimport VoucherTag from 'components/Templates/VoucherTag/VoucherTag';\r\nimport InsurersLogo from 'assets/images/InsurerLogos';\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport TabView from 'components/Templates/TabView/TabViewNew';\r\nimport RestrictionsPopup from '../RestrictionsPopup/RestrictionsPopup';\r\nimport FlowEnquiry from '../FlowEnquiry/FlowEnquiry';\r\n\r\nimport { FORMSTATES } from 'actions/insuranceActions';\r\nimport { getProductDetails } from '../../../actions/insuranceActions';\r\nimport { setRestrictionPopup } from '../../../actions/restrictionsActions';\r\n\r\nimport { gaTag } from '../../../lib/tagFunctions';\r\n\r\nimport './ProductDetails.scss';\r\n\r\nclass ProductDetails extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      productData: null,\r\n      showTooltips: {},\r\n      showModal: false,\r\n      showPrexModal: false,\r\n      isShowBottomPrice: false,\r\n      emailPopupData: null,\r\n    };\r\n\r\n    this.handleOnClick = this.handleOnClick.bind(this);\r\n    this.handleRestrictions = this.handleRestrictions.bind(this);\r\n    this.getNewData = this.getNewData.bind(this);\r\n\r\n    this.showModal = this.showModal.bind(this);\r\n    this.hideModal = this.hideModal.bind(this);\r\n\r\n    this.onMovement = this.onMovement.bind(this);\r\n\r\n    this.showEnquiryModal = this.showEnquiryModal.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { form, splitParams } = this.props;\r\n\r\n    this.getNewData();\r\n\r\n    this.hideInterval = setInterval(() => {\r\n      if (!_.isEmpty(window.$('#intercom-container'))) {\r\n        window.$('#intercom-container').hide();\r\n        clearInterval(this.hideInterval);\r\n      }\r\n    }, 10);\r\n\r\n    window.addEventListener('scroll', this.onMovement);\r\n    window.addEventListener('resize', this.onMovement);\r\n\r\n    this.onMovement();\r\n\r\n    if (splitParams && splitParams.product && splitParams.insurer) {\r\n      gaTag({\r\n        page_title: 'Travel - Product Page',\r\n        page_path: `/${form}/plan/${splitParams.insurer}/${splitParams.product}`,\r\n      });\r\n    }\r\n\r\n    window.scrollTo(0, 0);\r\n  }\r\n\r\n  async componentDidUpdate(prevProps, prevStates) {\r\n    const { plansData } = this.props;\r\n    const { productData } = this.state;\r\n\r\n    if (!_.isEqual(plansData, prevProps.plansData)) {\r\n      this.getNewData();\r\n    }\r\n\r\n    if (!prevStates.productData && !_.isEqual(prevStates.productData, productData)) {\r\n      const { history } = this.props;\r\n      const { pathname } = history.location;\r\n      if (history.location.pathname) {\r\n        const path = `/travel${FORMSTATES.CHOOSEPLAN.path}`;\r\n        if (path.length !== pathname.length && pathname.indexOf(path) === 0) {\r\n          const { values, planType } = this.props;\r\n          const { info, policy_info } = productData;\r\n          \r\n          const trackData = getAddToCartData({\r\n            ..._.pick(info, ['insurer_slug', 'insurer_name', 'product_slug', 'product_name']),\r\n            values,\r\n            coverage_level: planType,\r\n            price: `$${policy_info[planType].premium.net_price}`,\r\n          });\r\n          \r\n          ReactPixel.track('ViewContent', trackData);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.setState({\r\n      isShowBottomPrice: false,\r\n    });\r\n\r\n    if (window.$('#intercom-container')) {\r\n      window.$('#intercom-container').show();\r\n    }\r\n\r\n    clearInterval(this.hideInterval);\r\n\r\n    window.removeEventListener('scroll', this.onMovement);\r\n    window.removeEventListener('resize', this.onMovement);\r\n  }\r\n\r\n  onMovement() {\r\n    if (this.bannerDOM) {\r\n      const { isShowBottomPrice } = this.state;\r\n\r\n      if (window.innerWidth < 768 && !isShowBottomPrice) {\r\n        this.setState({\r\n          isShowBottomPrice: true,\r\n        });\r\n      } else if (window.innerWidth >= 768) {\r\n        const scrollY = this.bannerDOM.getBoundingClientRect().y;\r\n        if (\r\n          (scrollY < 0 && !isShowBottomPrice) ||\r\n          (scrollY >= 0 && isShowBottomPrice)\r\n        ) {\r\n          this.setState({\r\n            isShowBottomPrice: scrollY < 0,\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  async getNewData() {\r\n    const {\r\n      splitParams,\r\n      parseForm,\r\n      values,\r\n      setOverridePlanTypes,\r\n      plansData,\r\n      handleAPI,\r\n      switchView,\r\n    } = this.props;\r\n\r\n    if (splitParams && splitParams.product && splitParams.insurer) {\r\n      let productData = plansData && _.find(plansData.insurances_all, data => data && data.info && data.info.insurer_slug === splitParams.insurer && data.info.product_slug === splitParams.product);\r\n      if (!productData) {\r\n        const requestData = parseForm(values);\r\n        productData = await handleAPI(\r\n          () => getProductDetails(splitParams.insurer, splitParams.product, requestData),\r\n          false,\r\n          'Unable to get product data! Please try again.',\r\n          switchView,\r\n        );\r\n      }\r\n\r\n      if (productData) {\r\n        setOverridePlanTypes(_.map(productData.policy_types, type => ({ display_name: _.startCase(type), value: _.startCase(type) })));\r\n\r\n        this.setState({\r\n          productData,\r\n        });\r\n\r\n        return;\r\n      }\r\n\r\n      // Cannot get data, so show error\r\n      this.showModal();\r\n    }\r\n  }\r\n\r\n  showEnquiryModal(showPrexModal) {\r\n    this.setState({ showPrexModal });\r\n  }\r\n\r\n  showModal() {\r\n    const { showModal } = this.state;\r\n\r\n    if (!showModal) {\r\n      this.setState({ showModal: true });\r\n    }\r\n  }\r\n\r\n  hideModal() {\r\n    const { switchView } = this.props;\r\n    this.setState({ showModal: false });\r\n    switchView();\r\n  }\r\n\r\n  handleOnClick() {\r\n    const { productData } = this.state;\r\n    const { handleOnClick, doSetRestrictionPopup, emailPopupData } = this.props;\r\n\r\n    try {\r\n      for (let i = 0; i < emailPopupData.length; ++i) {\r\n        if (productData.info.insurer_product_slug === emailPopupData[i].insurer_product_slug) {\r\n          this.setState({\r\n            emailPopupData: emailPopupData[i],\r\n            showPrexModal: true,\r\n          });\r\n          return;\r\n        }\r\n      }\r\n      handleOnClick(productData, doSetRestrictionPopup);\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n      // Cannot proceed to next flow, show error\r\n      this.showModal();\r\n    }\r\n  }\r\n\r\n  handleRestrictions(callback) {\r\n    const { productData } = this.state;\r\n    const {\r\n      doSetRestrictionPopup,\r\n    } = this.props;\r\n\r\n    doSetRestrictionPopup({\r\n      values: productData.restrictions,\r\n      clickCallback: callback,\r\n      // doAcceptTag: () => ampTag(`${_.startCase(category)}AcceptA`),\r\n    });\r\n  }\r\n\r\n  renderHeader(isRespBannerActive) {\r\n    const { productData } = this.state;\r\n    const { planType, values } = this.props;\r\n\r\n    try {\r\n      const logoImage = InsurersLogo[productData.info.insurer_slug];\r\n      const pricePlan = productData.product_details.coverages[planType].premium;\r\n\r\n      const cashback = `$${(productData.info.cashback * pricePlan.net_price).toFixed(2)}`;\r\n      let discount = null;\r\n      let price = null;\r\n\r\n      if (pricePlan.net_price !== pricePlan.price) {\r\n        const tripType = values.trip_type.value === 'Single Trip' ? 'single' : 'annual';\r\n        discount = productData.info.discount[tripType] ? productData.info.discount[tripType].display : productData.info.discount.display;\r\n        if (!discount || discount === '') {\r\n          discount = null;\r\n        }\r\n        // eslint-disable-next-line\r\n        price = pricePlan.price;\r\n      }\r\n\r\n      return (\r\n        <Fragment>\r\n          <Col\r\n            className={[!isRespBannerActive ? 'd-flex' : 'd-none d-md-flex', 'product-header-container-wrapper'].join(' ')}\r\n            xs={12}\r\n          >\r\n            <div\r\n              className=\"product-header-container\"\r\n              ref={node => this.bannerDOM = node}\r\n            >\r\n              <div className=\"product-logo\">\r\n                <img src={logoImage} alt={`${productData.info.insurer_slug}.svg`} />\r\n              </div>\r\n              <div className=\"product-name-container\">\r\n                <h2>{productData.info.product_name}</h2>\r\n                {\r\n                  discount &&\r\n                  <div className={`discount-container ${!discount && 'hidden'}`}>\r\n                    <p>{discount} Discount</p>\r\n                  </div>\r\n                }\r\n                {\r\n                  productData.info.teaser &&\r\n                  <VoucherTag\r\n                    className={discount ? 'tag-label-margin' : ''}\r\n                    teaser={productData.info.teaser}\r\n                  />\r\n                }\r\n              </div>\r\n            </div>\r\n            <div className=\"price-container d-none d-md-flex\">\r\n              <div className=\"price-inner-container\">\r\n                <div className=\"price-value-container\">\r\n                  <h2 className=\"net-price\">${pricePlan.net_price.toFixed(2)}</h2>\r\n                  {\r\n                    price ?\r\n                      <p className=\"price\"><span>${price.toFixed(2)}</span></p>\r\n                    :\r\n                      null\r\n                  }\r\n                </div>\r\n                <div className=\"button-container\">\r\n                  <Button\r\n                    variant=\"medium-flat-green\"\r\n                    height={48}\r\n                    onClick={this.handleOnClick}\r\n                  >\r\n                    <p>Buy Policy</p>\r\n                  </Button>\r\n                  <div className=\"cashback-earned-container\">\r\n                    {/* <img src={LabelImg} alt=\"Label.svg\" /> */}\r\n                    <span>Earn {cashback} Cashback</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n        </Fragment>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderBanner() {\r\n    const { productData } = this.state;\r\n    const { splitParams } = this.props;\r\n\r\n    try {\r\n      const logoImage = InsurersLogo[productData.info.insurer_slug];\r\n      const bannerImg = productData.product_details.banner_img;\r\n      const bannerRespImg = productData.product_details.banner_mobile_img;\r\n      const isXploraJapan = splitParams && splitParams.insurer === 'tokio_marine' && splitParams.product === 'xplora_japan';\r\n\r\n      return (\r\n        <Col className=\"banner-container\" xs={12}>\r\n          <div className=\"banner\">\r\n            {bannerImg && <img className=\"d-none d-md-block\" src={bannerImg} alt=\"productBanner.svg\" />}\r\n            {bannerRespImg && <img className=\"d-block d-md-none\" src={bannerRespImg} alt=\"productBanner.svg\" />}\r\n          </div>\r\n          {\r\n            bannerRespImg &&\r\n            <div className=\"bottom-banner\">\r\n              <div className=\"banner-logo d-flex d-md-none\">\r\n                <img src={logoImage} alt={`${productData.info.insurer_slug}.svg`} />\r\n              </div>\r\n              { isXploraJapan && <h5>*This plan covers only Japan</h5> }\r\n            </div>\r\n          }\r\n        </Col>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderFeature() {\r\n    const { productData } = this.state;\r\n\r\n    try {\r\n      if (!productData.product_details.features) {\r\n        return null;\r\n      }\r\n\r\n      return (\r\n        <Col xs={12} className=\"segment\">\r\n          <Row noGutters>\r\n            {\r\n              _.map(productData.product_details.features, (feature, index) => (\r\n                <Col\r\n                  key={`feature-info-${index}`}\r\n                  xs={12}\r\n                  md={4}\r\n                  className=\"feature-container\"\r\n                >\r\n                  <div className=\"image\">\r\n                    <img src={feature.icon_img} alt={`tm-info-${index}.svg`} />\r\n                  </div>\r\n                  <div className=\"desc\">\r\n                    <h4>{feature.title}</h4>\r\n                    <p>{feature.description}</p>\r\n                  </div>\r\n                </Col>\r\n              ))\r\n            }\r\n          </Row>\r\n        </Col>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderHighlights() {\r\n    const { productData, showTooltips } = this.state;\r\n    const { planType } = this.props;\r\n\r\n    try {\r\n      return (\r\n        <Col xs={12} className=\"segment d-none d-md-flex\">\r\n          <Row className=\"w-100\" noGutters>\r\n            {\r\n              _.reduce(productData.product_details.coverages[planType].highlights, (result, highlight, index) => {\r\n                if (index < 3) {\r\n                  const id = `highlight-info-tooltip-${index}`;\r\n                  result.push((\r\n                    <Col\r\n                      key={`highlight-info-${index}`}\r\n                      xs={4}\r\n                      className=\"highlight-container\"\r\n                    >\r\n                      <Row className=\"d-flex justify-content-center h-100\" noGutters>\r\n                        <div className=\"d-flex flex-column\">\r\n                          <div className=\"highlight-title-container\">\r\n                            <div className=\"title\">\r\n                              {highlight.title}\r\n                            </div>\r\n                            <div className=\"highlight-tooltip\">\r\n                              <Tooltip\r\n                                target={id}\r\n                                isOpen={showTooltips[id]}\r\n                                toggle={() => this.setState({ showTooltips: { ...showTooltips, [id]: false } })}\r\n                                className=\"animated fade\"\r\n                              >\r\n                                {highlight.tooltip}\r\n                              </Tooltip>\r\n                              <img\r\n                                className={`${!highlight.tooltip && 'tooltip-hidden'}`}\r\n                                id={id}\r\n                                src={TooltipImg}\r\n                                alt=\"Tooltip.svg\"\r\n                                onMouseEnter={() => { if (highlight.tooltip) this.setState({ showTooltips: { ...showTooltips, [id]: true } }); }}\r\n                              />\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"d-flex justify-content-left align-items-end h-100\">\r\n                            <p className=\"value\">{highlight.value}</p>\r\n                          </div>\r\n                        </div>\r\n                      </Row>\r\n                    </Col>\r\n                  ));\r\n                }\r\n\r\n                return result;\r\n              }, [])\r\n            }\r\n          </Row>\r\n        </Col>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderValue(data) {\r\n    if (data.type === 'boolean') {\r\n      return <i className={`fa ${data.value === 'Yes' ? 'fa-check' : 'fa-times'}`} />;\r\n    }\r\n\r\n    return data.value;\r\n  }\r\n\r\n  renderInnerDetails(coverage, index, borderStyle = '') {\r\n    return (\r\n      <Row className={`content-container ${borderStyle}`} noGutters>\r\n        {\r\n          _.map(coverage.contents, (content, index2) => {\r\n            const isContentAvaliable = content && content.value;\r\n            const bottomPaddingStyle = index2 !== coverage.contents.length - 1 ? 'content-sub-container-padding' : '';\r\n\r\n            return (\r\n              <Fragment key={`coverage-detail-${index}-${index2}`}>\r\n                {\r\n                  isContentAvaliable &&\r\n                  <Col\r\n                    className={`content ${!content.sub_contents && content.type !== 'url' ? 'content-padding' : ''}`}\r\n                    xs={12}\r\n                  >\r\n                    <Row className=\"w-100\" noGutters>\r\n                      <Col xs={6}>\r\n                        <p className=\"title content-bold\">{content.title}</p>\r\n                      </Col>\r\n                      <Col xs={6}>\r\n                        {\r\n                          content.type === 'url' ?\r\n                            <a\r\n                              className=\"content-bold\"\r\n                              href={content.value}\r\n                              target=\"__blank\"\r\n                            >\r\n                              Read\r\n                            </a>\r\n                          :\r\n                            <p className=\"content-bold\">{this.renderValue(content)}</p>\r\n                        }\r\n                      </Col>\r\n                    </Row>\r\n                  </Col>\r\n                }\r\n                {\r\n                  content.sub_contents && (\r\n                    <Col xs={12}>\r\n                      <Row className={`content-sub-container w-100 ${bottomPaddingStyle}`} noGutters>\r\n                        {\r\n                          _.map(content.sub_contents, (sub, index3) => (\r\n                            <Col\r\n                              xs={12}\r\n                              key={`coverage-detail-${index}-${index2}-${index3}`}\r\n                            >\r\n                              <Row className=\"content-sub w-100\" noGutters>\r\n                                <Col xs={6}>\r\n                                  <p className=\"title\">{sub.title}</p>\r\n                                </Col>\r\n                                <Col xs={6}>\r\n                                  {\r\n                                    sub.type === 'url' ?\r\n                                      <a\r\n                                        href={sub.value}\r\n                                        target=\"__blank\"\r\n                                      >\r\n                                        read\r\n                                      </a>\r\n                                    :\r\n                                      <p>{this.renderValue(sub)}</p>\r\n                                  }\r\n                                </Col>\r\n                              </Row>\r\n                            </Col>\r\n                          ))\r\n                        }\r\n                      </Row>\r\n                    </Col>\r\n                  )\r\n                }\r\n                {\r\n                  index2 !== coverage.contents.length - 1 && <Col className=\"d-block d-md-none content-break\" xs={12} />\r\n                }\r\n              </Fragment>\r\n            );\r\n          })\r\n        }\r\n      </Row>\r\n    );\r\n  }\r\n\r\n  renderDetails(isPrex = false) {\r\n    const { productData } = this.state;\r\n    const { planType } = this.props;\r\n\r\n    try {\r\n      const coverages = [...(isPrex ? productData.product_details.coverages[planType].prex_coverages : productData.product_details.coverages[planType].coverages)];\r\n      if (_.isEmpty(coverages)) {\r\n        return null;\r\n      }\r\n\r\n      if (!isPrex && productData.product_details.policy_documents) {\r\n        coverages.push(productData.product_details.policy_documents);\r\n      }\r\n\r\n      return (\r\n        <Col xs={12} className=\"d-none d-md-block segment coverage-container\">\r\n          { isPrex && <p className=\"prex-text\">Sub-limit claims relating to your pre-existing medical conditions</p> }\r\n          {\r\n            _.map(coverages, (coverage, index) => {\r\n              const isPolicyDocuments = _.lowerCase(coverage.header) === 'policy documents';\r\n              // eslint-disable-next-line\r\n              const borderStyle = index === coverages.length - 1 ? isPolicyDocuments ? '' : 'no-bottom-padding' : 'content-border';\r\n              const image = ProductImages[coverage.header] || ClockImg;\r\n\r\n              return (\r\n                <Row\r\n                  key={`coverage-detail-${index}`}\r\n                  className=\"coverage-inner-container\"\r\n                  noGutters\r\n                >\r\n                  <Col className=\"coverage-header\" xs={4}>\r\n                    <img src={image} alt=\"clockImg.svg\" />\r\n                    <h5 className=\"content-bold\">{coverage.header}</h5>\r\n                  </Col>\r\n                  <Col xs={8}>\r\n                    {this.renderInnerDetails(coverage, index, borderStyle)}\r\n                  </Col>\r\n                </Row>\r\n              );\r\n            })\r\n          }\r\n        </Col>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderDetailsResp(isPrex) {\r\n    const { productData } = this.state;\r\n    const { planType } = this.props;\r\n\r\n    try {\r\n      const coverages = [...(isPrex ? productData.product_details.coverages[planType].prex_coverages : productData.product_details.coverages[planType].coverages)];\r\n      if (_.isEmpty(coverages)) {\r\n        return null;\r\n      }\r\n\r\n      const JSX = _.map(coverages, (coverage, index) => {\r\n        const image = ProductImages[coverage.header] || ClockImg;\r\n\r\n        return (\r\n          <Fragment key={`coverage-resp-${index}`}>\r\n            <Col\r\n              className=\"coverage-resp-container\"\r\n              xs={12}\r\n            >\r\n              <Row noGutters>\r\n                <Col xs={12}>\r\n                  { isPrex && <p className=\"prex-text\">Sub-limit claims relating to your pre-existing medical conditions</p> }\r\n                </Col>\r\n                <Col className=\"coverage-resp-main-title\" xs={12}>\r\n                  <div className=\"coverage-resp-img\">\r\n                    <img src={image} alt=\"coverage-resp.svg\" />\r\n                  </div>\r\n                  <h4>{coverage.header}</h4>\r\n                </Col>\r\n              </Row>\r\n              {this.renderInnerDetails(coverage, index)}\r\n            </Col>\r\n          </Fragment>\r\n        );\r\n      });\r\n\r\n      const isTabView = JSX && JSX.length > 1;\r\n      let tabs = null;\r\n      if (isTabView) {\r\n        tabs = _.reduce(coverages, (result, coverage) => {\r\n          result.push({ desc: coverage.header });\r\n          return result;\r\n        }, []);\r\n      }\r\n\r\n      return (\r\n        <Col className=\"d-flex d-md-none mb-4 flex-column\" xs={12}>\r\n          {\r\n            isTabView ?\r\n              <TabView\r\n                style={{ marginTop: 44, marginBottom: 34 }}\r\n                tabs={tabs}\r\n                autoHeight\r\n                name=\"overview-tab\"\r\n                scrollTabs\r\n                isDisableDropdown\r\n              >\r\n                {JSX}\r\n              </TabView>\r\n            : JSX\r\n          }\r\n        </Col>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderDocumentsResp() {\r\n    const { productData } = this.state;\r\n\r\n    try {\r\n      return _.map(productData.product_details.policy_documents.contents, (content, index) => (\r\n        <Col\r\n          className=\"d-block d-md-none\"\r\n          xs={12}\r\n          key={`document-${index}`}\r\n        >\r\n          <button\r\n            className=\"document-container\"\r\n            onClick={() => {\r\n              window.open(content.value);\r\n            }}\r\n          >\r\n            <div className=\"document\">\r\n              <img src={ProductImages.documentsResp} alt=\"Bell.svg\" />\r\n              <p>{content.title}</p>\r\n            </div>\r\n          </button>\r\n        </Col>\r\n      ));\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderPriceResp() {\r\n    const { productData, isShowBottomPrice } = this.state;\r\n    const { planType } = this.props;\r\n\r\n    try {\r\n      const pricePlan = productData.product_details.coverages[planType].premium;\r\n\r\n      let price = null;\r\n\r\n      if (pricePlan.net_price !== pricePlan.price) {\r\n        // eslint-disable-next-line\r\n        price = pricePlan.price;\r\n      }\r\n\r\n      const outerStyle = isShowBottomPrice ? 'bottom-opened-outer' : '';\r\n      const innerStyle = isShowBottomPrice ? 'bottom-opened-inner' : '';\r\n\r\n      // d-md-none\r\n      return (\r\n        <Fragment>\r\n          <div\r\n            className={`d-flex ${outerStyle} product-price-resp-outer-container`}\r\n          />\r\n          <div\r\n            className={`d-flex ${innerStyle} product-price-resp-container`}\r\n          >\r\n            <div className=\"price-container\">\r\n              <h5>{productData.info.product_name}</h5>\r\n              <h6>{_.startCase(planType)}</h6>\r\n              <h4>\r\n                <span>${pricePlan.net_price.toFixed(2)}</span>\r\n                {\r\n                  price && <span className=\"price\">${price.toFixed(2)}</span>\r\n                }\r\n              </h4>\r\n            </div>\r\n            <div>\r\n              <Button\r\n                variant=\"medium-flat-green\"\r\n                height={48}\r\n                onClick={this.handleOnClick}\r\n              >\r\n                <p>Buy Policy</p>\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Fragment>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      productData,\r\n      showModal,\r\n      showPrexModal,\r\n      emailPopupData,\r\n    } = this.state;\r\n    const { handleOnClick, handleAPI } = this.props;\r\n\r\n    if (!productData) {\r\n      return null;\r\n    }\r\n\r\n    let isRespBannerActive = false;\r\n    try {\r\n      isRespBannerActive = productData.product_details.banner_mobile_img;\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return (\r\n      <Row className=\"product-detail-container\" noGutters>\r\n        {this.renderHeader(isRespBannerActive)}\r\n        {this.renderBanner()}\r\n        {this.renderFeature()}\r\n        {this.renderHighlights()}\r\n        {this.renderDetails(true)}\r\n        {this.renderDetailsResp(true)}\r\n        {this.renderDetails(false)}\r\n        {this.renderDetailsResp(false)}\r\n        {this.renderDocumentsResp()}\r\n        {this.renderPriceResp()}\r\n        <ModalPopup\r\n          showModal={showModal}\r\n          closeModal={this.hideModal}\r\n          className=\"product-detail-error\"\r\n          backdropClassName=\"blue-modal-backdrop\"\r\n          header={<p />}\r\n          body={<p>An error has occured! Inputs might be invalid for this plan. Please try again.</p>}\r\n          footer={\r\n            <Button\r\n              variant=\"medium-flat-green\"\r\n              height={48}\r\n              onClick={this.hideModal}\r\n            >\r\n              <p>Ok</p>\r\n            </Button>\r\n          }\r\n        />\r\n        <RestrictionsPopup />\r\n        <FlowEnquiry\r\n          showModal={showPrexModal}\r\n          hideEnquiryModal={() => this.showEnquiryModal(false)}\r\n          onNext={() => handleOnClick(productData)}\r\n          handleAPI={handleAPI}\r\n          data={emailPopupData}\r\n        />\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nProductDetails.defaultProps = {\r\n  splitParams: null,\r\n  plansData: null,\r\n  values: null,\r\n  emailPopupData: [],\r\n};\r\n\r\nProductDetails.propTypes = {\r\n  history: PropTypes.object.isRequired,\r\n  planType: PropTypes.string.isRequired,\r\n  splitParams: PropTypes.object,\r\n  setOverridePlanTypes: PropTypes.func.isRequired,\r\n  doSetRestrictionPopup: PropTypes.func.isRequired,\r\n  plansData: PropTypes.object,\r\n  handleOnClick: PropTypes.func.isRequired,\r\n  values: PropTypes.object,\r\n  switchView: PropTypes.func.isRequired,\r\n  handleAPI: PropTypes.func.isRequired,\r\n  emailPopupData: PropTypes.array,\r\n};\r\n\r\n// const mapStateToProps = (state, ownProps) => ({\r\n// });\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  doSetRestrictionPopup: (data) => {\r\n    dispatch(setRestrictionPopup(data));\r\n  },\r\n});\r\n\r\nexport default withRouter(connect(null, mapDispatchToProps)(ProductDetails));\r\n","/**\r\n * HeaderDescWithTypeDate.js\r\n * Product summary with type and date\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { Row, Col, Table } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport DetailCollapse from 'components/Templates/DetailCollapse/DetailCollapse';\r\n\r\nimport './ListViewItemDetails.scss';\r\n\r\nclass ListViewItemDetails extends Component {\r\n  renderValue(data) {\r\n    if (data.type === 'boolean') {\r\n      return <i className={`fa ${data.value === 'Yes' ? 'fa-check' : 'fa-times'}`} />;\r\n    }\r\n\r\n    return data.value;\r\n  }\r\n\r\n  render() {\r\n    const { planData } = this.props;\r\n\r\n    try {\r\n      if (!planData) {\r\n        return null;\r\n      }\r\n\r\n      let subData = [];\r\n      try {\r\n        const leisureActivitiesData = _.find(planData.coverages.coverages, coverage => coverage.header === 'Leisure Activities');\r\n        if (leisureActivitiesData) {\r\n          subData = leisureActivitiesData.contents[0].sub_contents;\r\n        }\r\n      } catch (error) {\r\n        // eslint-disable-next-line\r\n      }\r\n\r\n      return (\r\n        <div className=\"list-view-item-details-container\">\r\n          <DetailCollapse topHr>\r\n            <Row className=\"inner-container\" noGutters>\r\n              <Col className=\"table-container\" xs={12} md={6}>\r\n                <h6 className=\"title\">Highlights</h6>\r\n                <Table borderless>\r\n                  <tbody>\r\n                    {\r\n                      _.reduce(planData && planData.coverages && planData.coverages.highlights, (result, highlight, index) => {\r\n                        if (index >= 3) {\r\n                          result.push((\r\n                            <tr key={`${planData.insurerSlug}_highlight_${index}`}>\r\n                              <td className=\"desc\">{highlight.title}</td>\r\n                              <td className=\"value\">{this.renderValue(highlight)}</td>\r\n                            </tr>\r\n                          ));\r\n                        }\r\n\r\n                        return result;\r\n                      }, [])\r\n                    }\r\n                  </tbody>\r\n                </Table>\r\n              </Col>\r\n              <Col className=\"table-container\" xs={12} md={6}>\r\n                <h6 className=\"title\">Leisure Activities Covered</h6>\r\n                <Table borderless>\r\n                  <tbody>\r\n                    {\r\n                      _.map(subData, (data, index) => (\r\n                        <tr key={`${planData.insurerSlug}_sub_${index}`}>\r\n                          <td className=\"desc\">{data.title}</td>\r\n                          <td className=\"value\">{this.renderValue(data)}</td>\r\n                        </tr>\r\n                      ))\r\n                    }\r\n                  </tbody>\r\n                </Table>\r\n              </Col>\r\n            </Row>\r\n          </DetailCollapse>\r\n        </div>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\nListViewItemDetails.defaultProps = {\r\n  planData: null,\r\n};\r\n\r\nListViewItemDetails.propTypes = {\r\n  planData: PropTypes.object,\r\n};\r\n\r\nexport default ListViewItemDetails;\r\n","/**\r\n * HeaderDescWithTypeDate.js\r\n * Product summary with type and date\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { Row, Col, Tooltip } from 'reactstrap';\r\nimport { withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport InsurersLogo from 'assets/images/InsurerLogos';\r\nimport TooltipImg from 'assets/images/forms/Tooltip.svg';\r\nimport LabelImg from 'assets/images/forms/Label.svg';\r\nimport TagLabel from 'assets/images/common/TagLabel.svg';\r\n\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport FlowEnquiry from 'components/Templates/FlowEnquiry/FlowEnquiry';\r\n// import SingleCheckBox from 'components/FormsV3/SingleCheckBox/SingleCheckBox';\r\n\r\nimport ListViewItemDetails from './ListViewItemDetails/ListViewItemDetails';\r\n\r\nimport './ListViewItem.scss';\r\n\r\nclass ListViewItem extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      showTooltips: {},\r\n      showPrexModal: false,\r\n    };\r\n\r\n    this.renderCompareTab = this.renderCompareTab.bind(this);\r\n    this.renderInsuranceInfo = this.renderInsuranceInfo.bind(this);\r\n    this.renderInsuranceDetail = this.renderInsuranceDetail.bind(this);\r\n    this.renderPriceBuy = this.renderPriceBuy.bind(this);\r\n    this.renderInsuranceDetailResp = this.renderInsuranceDetailResp.bind(this);\r\n\r\n    this.showEnquiryModal = this.showEnquiryModal.bind(this);\r\n  }\r\n\r\n  showEnquiryModal(showPrexModal) {\r\n    this.setState({ showPrexModal });\r\n  }\r\n\r\n  renderCompareTab() {\r\n    const { planData } = this.props;\r\n    const price = planData.discount ? planData.price : '';\r\n\r\n    // const compareStyle = planData.promo ? '' : 'compare-extra';\r\n\r\n    return (\r\n      <div className=\"compare-container w-100 d-flex d-md-block flex-wrap\">\r\n        <div className=\"compare-price w-100 d-md-none\">\r\n          <p className=\"total d-none d-md-block\">Total</p>\r\n          <p className=\"net-price\">{planData.netPrice}</p>\r\n          {\r\n            price ?\r\n              <p className=\"price\"><span>{planData.discount}</span><span>{price}</span></p>\r\n            :\r\n              null\r\n          }\r\n        </div>\r\n        {/* {\r\n          planData.promo ?\r\n            <div>\r\n              <span className=\"d-block d-md-none promo-tag\">\r\n                Recommended\r\n              </span>\r\n            </div>\r\n          : null\r\n        }\r\n        <div className={`compare ${compareStyle} d-block d-md-none`}>\r\n          <SingleCheckBox\r\n            id={`checkbox-${planData.productName}`}\r\n            onChange={() => planData.handleCompareCheck(planData.insurerSlug)}\r\n            checked={!!planData.isSelected}\r\n          >\r\n            Compare\r\n          </SingleCheckBox>\r\n        </div> */}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderInsuranceInfo() {\r\n    const { planData, handleProductPage } = this.props;\r\n\r\n    try {\r\n      const image = InsurersLogo[planData.insurerSlug];\r\n\r\n      return (\r\n        <div className=\"insur-container\">\r\n          <img className=\"logo\" src={image} alt=\"InsurerLogo.png\" />\r\n          <div className=\"header-inner\">\r\n            <h2>{planData.productName}</h2>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => handleProductPage(planData.insurerSlug, planData.productSlug)}\r\n            >\r\n              <p>Read more</p>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderInsuranceDetail() {\r\n    const { showTooltips } = this.state;\r\n    const { planData } = this.props;\r\n\r\n    return (\r\n      <div className=\"detail-container d-none d-md-flex\">\r\n        {\r\n          _.reduce(planData.coverages && planData.coverages.highlights, (result, detail, index) => {\r\n            if (index < 3) {\r\n              const tooltip = `tool-tip-${planData.productIndex}-${index}`;\r\n\r\n              result.push((\r\n                <div className=\"detail-inner-wrapper\" key={tooltip}>\r\n                  <div className=\"detail-inner\">\r\n                    <div>\r\n                      <p className=\"detail-title\">{detail.title}</p>\r\n                      <p className=\"detail-value\">{detail.value}</p>\r\n                    </div>\r\n                    {\r\n                      detail.tooltip ?\r\n                        <div className=\"d-flex align-items-start\">\r\n                          <Tooltip\r\n                            target={tooltip}\r\n                            isOpen={showTooltips[tooltip]}\r\n                            toggle={() => this.setState({ showTooltips: { ...showTooltips, [tooltip]: false } })}\r\n                            className=\"animated fade\"\r\n                          >\r\n                            {detail.tooltip}\r\n                          </Tooltip>\r\n                          <img\r\n                            id={tooltip}\r\n                            src={TooltipImg}\r\n                            alt=\"Tooltip.svg\"\r\n                            onMouseEnter={() => this.setState({ showTooltips: { ...showTooltips, [tooltip]: true } })}\r\n                          />\r\n                        </div>\r\n                      : null\r\n                    }\r\n                  </div>\r\n                </div>\r\n              ));\r\n            }\r\n\r\n            return result;\r\n          }, [])\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderInsuranceDetailResp() {\r\n    const { showTooltips } = this.state;\r\n    const { planData } = this.props;\r\n\r\n    return (\r\n      <div className=\"detail-container d-flex d-md-none\">\r\n        <div className=\"detail-inner\">\r\n          <div>\r\n            {\r\n              _.reduce(planData.coverages && planData.coverages.highlights, (result, detail, index) => {\r\n                if (index < 3) {\r\n                  result.push((\r\n                    <p\r\n                      key={`detail-title-${planData.productName}-${index}`}\r\n                      className=\"detail-title\"\r\n                    >\r\n                      {detail.title}\r\n                    </p>\r\n                  ));\r\n                }\r\n\r\n                return result;\r\n              }, [])\r\n            }\r\n          </div>\r\n          <div className=\"detail-price-container\">\r\n            {\r\n              _.reduce(planData.coverages && planData.coverages.highlights, (result, detail, index) => {\r\n                if (index < 3) {\r\n                  const tooltip = `tool-tip-small-${planData.productIndex}-${index}`;\r\n\r\n                  result.push((\r\n                    <div className=\"d-flex\" key={`detail-price-${planData.productName}-${index}`}>\r\n                      {\r\n                        detail.tooltip ?\r\n                          <Fragment>\r\n                            <Tooltip\r\n                              target={tooltip}\r\n                              isOpen={showTooltips[tooltip]}\r\n                              toggle={() => this.setState({ showTooltips: { ...showTooltips, [tooltip]: false } })}\r\n                              className=\"animated fade\"\r\n                            >\r\n                              {detail.tooltip}\r\n                            </Tooltip>\r\n                            <img\r\n                              id={tooltip}\r\n                              src={TooltipImg}\r\n                              alt=\"Tooltip.svg\"\r\n                              onMouseEnter={() => this.setState({ showTooltips: { ...showTooltips, [tooltip]: true } })}\r\n                            />\r\n                          </Fragment>\r\n                        : null\r\n                      }\r\n                      <p className=\"detail-value\">{detail.value}</p>\r\n                    </div>\r\n                  ));\r\n                }\r\n\r\n                return result;\r\n              }, [])\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderPriceBuy() {\r\n    const { planData } = this.props;\r\n\r\n    const price = planData.discount ? planData.price : '';\r\n\r\n    // const compareStyle = planData.promo ? '' : 'compare-extra';\r\n\r\n\r\n    return (\r\n      <Row className=\"w-100\" noGutters>\r\n        <Col className=\"non-resp-compare-reco\" xs={12}>\r\n          {/* <div className={`compare ${compareStyle} ${planData.promo ? '' : 'compare-padding'} d-none d-md-block`}>\r\n            <SingleCheckBox\r\n              id={`checkbox-${planData.productName}`}\r\n              onChange={() => planData.handleCompareCheck(planData.insurerSlug)}\r\n              checked={!!planData.isSelected}\r\n            >\r\n              Compare\r\n            </SingleCheckBox>\r\n          </div>\r\n          {\r\n            planData.promo &&\r\n            <div className=\"h-100\">\r\n              <span className=\"d-none d-md-block promo-tag\">\r\n                Recommended\r\n              </span>\r\n            </div>\r\n          } */}\r\n        </Col>\r\n        <Col className=\"d-none d-md-flex price-non-resp\" xs={12} md={6}>\r\n          <p className=\"net-price\">{planData.netPrice}</p>\r\n          {\r\n            price ?\r\n              <p className=\"price\">\r\n                <span>{planData.discount}</span>\r\n                <span>{price}</span>\r\n              </p>\r\n            :\r\n              null\r\n          }\r\n        </Col>\r\n        <Col className=\"button-container\" xs={12} md={6}>\r\n          <Button\r\n            variant=\"medium-flat-green\"\r\n            height={40}\r\n            onClick={() => {\r\n              if (planData.emailPopupData) {\r\n                this.showEnquiryModal(true);\r\n                return;\r\n              }\r\n              planData.buyCallBack();\r\n            }}\r\n          >\r\n            <p>Buy Policy</p>\r\n          </Button>\r\n          <div className=\"cashback-earned-container\">\r\n            <img src={LabelImg} alt=\"Label.svg\" />\r\n            <p><span>{planData.cashback} Cashback</span></p>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n\r\n  renderEnquiry() {\r\n    const { showPrexModal } = this.state;\r\n    const { planData, handleAPI } = this.props;\r\n\r\n    if (!(planData && planData.emailPopupData)) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <FlowEnquiry\r\n        showModal={showPrexModal}\r\n        hideEnquiryModal={() => this.showEnquiryModal(false)}\r\n        onNext={() => planData.buyCallBack(true)}\r\n        handleAPI={handleAPI}\r\n        data={planData.emailPopupData}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { planData, history } = this.props;\r\n\r\n    if (!planData) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Row className=\"header-list-view-container\" noGutters>\r\n        <Col md={12} className=\"info-container w-100 d-none d-md-flex\">\r\n          {this.renderCompareTab()}\r\n        </Col>\r\n        <Col xs={12} md={7} className=\"info-container\">\r\n          {this.renderInsuranceInfo()}\r\n          {this.renderInsuranceDetail()}\r\n          {this.renderInsuranceDetailResp()}\r\n        </Col>\r\n        <Col xs={7} className=\"info-container d-flex d-md-none\">\r\n          {this.renderCompareTab()}\r\n        </Col>\r\n        <Col xs={5} md={5} className=\"price-container\">\r\n          {this.renderPriceBuy()}\r\n        </Col>\r\n        {\r\n          planData.teaser &&\r\n          <Col className=\"tag-label\" xs={12}>\r\n            <img src={TagLabel} alt=\"TagLabel.svg\" />\r\n            {\r\n              planData.teaser.is_url && planData.teaser.value ?\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => history.push(planData.teaser.value)}\r\n                >\r\n                  {planData.teaser.name}\r\n                </button>\r\n              :\r\n                <span>{planData.teaser.name}</span>\r\n            }\r\n          </Col>\r\n        }\r\n        <Col xs={12}>\r\n          <ListViewItemDetails\r\n            planData={planData}\r\n          />\r\n        </Col>\r\n        {this.renderEnquiry()}\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nListViewItem.defaultProps = {\r\n  planData: null,\r\n};\r\n\r\nListViewItem.propTypes = {\r\n  planData: PropTypes.object,\r\n  handleProductPage: PropTypes.func.isRequired,\r\n  history: PropTypes.object.isRequired,\r\n  handleAPI: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withRouter(ListViewItem);\r\n","/**\r\n* LandingHeader.js\r\n* Landing Header Page - container for advertisement carousel\r\n*\r\n* @version 0.0.1\r\n* @author [Nicolette Chan](nicolette@policypal.com)\r\n*/\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport PiggyFillForm from 'components/Templates/PiggySignUp/PiggyFillFormNew';\r\nimport RestrictionsPopup from 'components/Templates/RestrictionsPopup/RestrictionsPopup';\r\n\r\nimport { setRestrictionPopup } from 'actions/restrictionsActions';\r\nimport ListViewItem from '../ListViewItem/ListViewItem';\r\n\r\n// import css\r\nimport './ListView.scss';\r\n\r\nclass ListView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.renderListSelectionButtons = this.renderListSelectionButtons.bind(this);\r\n    this.renderList = this.renderList.bind(this);\r\n    this.renderListItem = this.renderListItem.bind(this);\r\n    this.renderPiggy = this.renderPiggy.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (window.$('#intercom-container')) {\r\n      window.$('#intercom-container').hide();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (window.$('#intercom-container')) {\r\n      window.$('#intercom-container').show();\r\n    }\r\n  }\r\n\r\n  renderListSelectionButtons() {\r\n    const { listData, setButtonSelected, selectionButtonIndex } = this.props;\r\n\r\n    if (listData) {\r\n      return _.map(listData, (data, index) => {\r\n        const selectedStyle = selectionButtonIndex === index ? 'coverage-active-button' : '';\r\n        return (\r\n          <Button\r\n            key={`selection-button-${index}`}\r\n            className={`coverage-button ${selectedStyle}`}\r\n            color=\"primary\"\r\n            onClick={() => setButtonSelected(index)}\r\n          >\r\n            {data.type}\r\n          </Button>\r\n        );\r\n      });\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderList() {\r\n    const {\r\n      listData,\r\n      plansData,\r\n      selectionButtonIndex,\r\n      planType,\r\n    } = this.props;\r\n\r\n    try {\r\n      const toMatch = listData[selectionButtonIndex];\r\n      const isFavourite = toMatch.type === 'PolicyPal\\'s Favourite';\r\n      const isPrex = toMatch.type === 'Pre-Existing Medical Conditions';\r\n\r\n      const result = [];\r\n      const voidIndices = [];\r\n      let keyIndex = 0;\r\n      let lastItem = 0;\r\n      let selectedProducts = [...(isPrex ? plansData.insurances_prex : plansData.insurances)];\r\n\r\n      const getNetPrice = product => product &&\r\n        product.policy_info &&\r\n        product.policy_info[planType] &&\r\n        product.policy_info[planType].premium &&\r\n        product.policy_info[planType].premium.net_price;\r\n\r\n      try {\r\n        selectedProducts = _.orderBy(selectedProducts, product => getNetPrice(product) || null, ['asc']);\r\n        selectedProducts = _.filter(selectedProducts, product => getNetPrice(product));\r\n      } catch (error) {\r\n        // eslint-disable-next-line\r\n      }\r\n\r\n      if (listData) {\r\n        if (isFavourite && toMatch.selection) {\r\n          _.each(toMatch.selection, (data, index) => {\r\n            const insurerIndex = _.findIndex(selectedProducts, product => product && product.info && product.info.insurer_product_slug === data);\r\n            if (insurerIndex !== -1) {\r\n              const isPromo = index === toMatch.selection.length - 1;\r\n              result.push(this.renderListItem(selectedProducts[insurerIndex], insurerIndex, keyIndex, true, isPromo));\r\n              voidIndices.push(insurerIndex);\r\n              keyIndex += 1;\r\n            }\r\n          });\r\n        }\r\n      }\r\n\r\n      _.each(selectedProducts, (data, index) => {\r\n        const isValid = _.find(voidIndices, idx => idx === index) === undefined;\r\n        if (isValid) {\r\n          lastItem = index;\r\n        }\r\n      });\r\n\r\n      _.each(selectedProducts, (data, index) => {\r\n        const isValid = _.find(voidIndices, idx => idx === index) === undefined;\r\n        let isPromo = false;\r\n        let isEndPromo = false;\r\n\r\n        try {\r\n          const indexToMatch = Math.min(selectedProducts.length - 1, 1);\r\n          isPromo = !listData[selectionButtonIndex].selection && index === indexToMatch;\r\n          isEndPromo = index === lastItem;\r\n        } catch (error) {\r\n          // eslint-disable-next-line\r\n        }\r\n\r\n        if (isValid) {\r\n          result.push(this.renderListItem(data, index, keyIndex, false, !isEndPromo && isPromo, isEndPromo));\r\n          keyIndex += 1;\r\n        }\r\n      });\r\n\r\n      if (_.isEmpty(result)) {\r\n        return <h3 className=\"text-center mt-5\">Sorry! No results for current inputs.</h3>;\r\n      }\r\n\r\n      return result;\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return <h3 className=\"text-center mt-5\">Sorry! No results for current inputs.</h3>;\r\n  }\r\n\r\n  renderListItem(data, index, keyIndex, isRecommended = false, isPromo = false, isEndPromo = false) {\r\n    const {\r\n      values,\r\n      promoGiveAway,\r\n      planType,\r\n      // setCompareSelected,\r\n      selectedArray,\r\n      fadingList,\r\n      handleProductPage,\r\n      handleOnClick,\r\n      emailPopupData,\r\n      handleAPI,\r\n    } = this.props;\r\n\r\n    let planData = null;\r\n    try {\r\n      const premium = data.policy_info && data.policy_info[planType] && data.policy_info[planType].premium;\r\n      const dataInfo = data.info;\r\n\r\n      const promo = isRecommended ? 'recommended' : null;\r\n      const isSelected = _.find(selectedArray, selected => selected === (dataInfo && dataInfo.insurer_product_slug));\r\n\r\n      let tripType = 'default';\r\n      if (values.trip_type.value === 'Single Trip') {\r\n        tripType = 'single';\r\n      } else if (values.trip_type.value === 'Annual Multi-Trip') {\r\n        tripType = 'annual';\r\n      }\r\n\r\n      const discount = dataInfo &&\r\n      dataInfo.discount &&\r\n      dataInfo.discount[tripType] &&\r\n      dataInfo.discount[tripType].amount > 0 ? ` ${dataInfo.discount[tripType].display} OFF` : null;\r\n\r\n      let coverages = null;\r\n      try {\r\n        coverages = data.product_details && data.product_details.coverages[planType];\r\n      } catch (error) {\r\n        // eslint-disable-next-line\r\n      }\r\n\r\n      let selectedEmailPopupData = null;\r\n      for (let i = 0; i < emailPopupData.length; ++i) {\r\n        if (dataInfo.insurer_product_slug === emailPopupData[i].insurer_product_slug) {\r\n          selectedEmailPopupData = emailPopupData[i];\r\n          break;\r\n        }\r\n      }\r\n\r\n      planData = {\r\n        productIndex: index,\r\n        insurerSlug: dataInfo && dataInfo.insurer_slug,\r\n        productName: dataInfo && dataInfo.product_name,\r\n        productSlug: dataInfo && dataInfo.product_slug,\r\n        wording: dataInfo && dataInfo.wording_url,\r\n        teaser: dataInfo && dataInfo.teaser,\r\n        promo,\r\n        coverages,\r\n        netPrice: premium ? `$${premium.net_price.toFixed(2)}` : '',\r\n        price: premium && premium.price !== premium.net_price ? `$${premium.price.toFixed(2)}` : '',\r\n        cashback: premium && dataInfo ? `$${((dataInfo.cashback || 0) * premium.net_price).toFixed(2)}` : '',\r\n        discount,\r\n        // handleCompareCheck: () => setCompareSelected(dataInfo && dataInfo.insurer_product_slug),\r\n        buyCallBack: noPopup => handleOnClick(data, noPopup ? null : this.props.setRestrictionPopup),\r\n        isSelected,\r\n        emailPopupData: selectedEmailPopupData,\r\n      };\r\n    } catch (error) {\r\n      // console.log(error);\r\n    }\r\n\r\n    // console.log(planData);\r\n    let promoJsx = null;\r\n    let promoEndJSX = null;\r\n\r\n    try {\r\n      promoJsx = isPromo && promoGiveAway.sub ? this.renderPromoBanner(promoGiveAway.sub[0]) : null;\r\n      promoJsx = isPromo && !promoJsx && promoGiveAway.main ? this.renderPromoBanner(promoGiveAway.main[0], true) : promoJsx;\r\n      promoEndJSX = isEndPromo && !_.isEmpty(promoGiveAway.sub) && promoGiveAway.main ? this.renderPromoBanner(promoGiveAway.main[0], true) : null;\r\n    } catch (error) {\r\n      // eslint-error-next-line\r\n    }\r\n\r\n    const fadingStyle = fadingList && keyIndex < fadingList.length ? fadingList[keyIndex] : '';\r\n    return (\r\n      <div\r\n        className=\"list-item-wrapper\"\r\n        key={`listview-item-${keyIndex}`}\r\n      >\r\n        <div className={['list-item', fadingStyle].join(' ')}>\r\n          <ListViewItem\r\n            planData={planData}\r\n            handleProductPage={handleProductPage}\r\n            handleAPI={handleAPI}\r\n          />\r\n          {promoJsx}\r\n          {promoEndJSX}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderPromoBanner(promoData, isMain = false) {\r\n    let promoJsx = null;\r\n    let promoRespJSX = null;\r\n\r\n    try {\r\n      const currDate = new Date();\r\n      const startDate = new Date(promoData.start_at);\r\n      const endDate = new Date(promoData.end_at);\r\n      if (!(startDate <= currDate && currDate <= endDate)) {\r\n        return null;\r\n      }\r\n    } catch (error) {\r\n      // eslint-error-next-line\r\n      return null;\r\n    }\r\n\r\n    try {\r\n      promoJsx = promoData.image_url && !isMain ? (\r\n        <a className=\"sub-promo d-none d-lg-flex\" href={promoData.cta_url} target=\"__blank\">\r\n          <img\r\n            src={promoData.image_url}\r\n            alt=\"PromoSub.png\"\r\n          />\r\n        </a>\r\n      ) : null;\r\n    } catch (error) {\r\n      // eslint-error-next-line\r\n    }\r\n\r\n    try {\r\n      promoRespJSX = promoData.image_url_resp ? (\r\n        <a className=\"sub-promo d-flex d-lg-none\" href={promoData.cta_url} target=\"__blank\">\r\n          <img\r\n            src={promoData.image_url_resp}\r\n            alt=\"PromoSubResp.png\"\r\n          />\r\n        </a>\r\n      ) : null;\r\n    } catch (error) {\r\n      // eslint-error-next-line\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        {promoJsx}\r\n        {promoRespJSX}\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderPiggy() {\r\n    const { piggyData, category } = this.props;\r\n\r\n    if (!piggyData) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className=\"piggy-list-container\">\r\n        <PiggyFillForm\r\n          category={category}\r\n          mainText={piggyData.mainText}\r\n          descText={piggyData.descText}\r\n          onClick={piggyData.onClick}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <div className=\"d-none d-lg-flex top-right-container\">\r\n          <div className=\"buttons\">\r\n            {this.renderListSelectionButtons()}\r\n          </div>\r\n          {this.renderPiggy()}\r\n        </div>\r\n        <div>\r\n          <div className=\"d-flex d-lg-none\">\r\n            {this.renderPiggy()}\r\n          </div>\r\n          {this.renderList()}\r\n        </div>\r\n        <RestrictionsPopup ref={node => this.resPopup = node} />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nListView.defaultProps = {\r\n  promoGiveAway: null,\r\n  listData: null,\r\n  selectionButtonIndex: 0,\r\n  piggyData: null,\r\n  fadingList: [],\r\n  values: null,\r\n  plansData: null,\r\n  emailPopupData: null,\r\n};\r\n\r\nListView.propTypes = {\r\n  // setCompareSelected: PropTypes.func.isRequired,\r\n  planType: PropTypes.string.isRequired,\r\n  promoGiveAway: PropTypes.object,\r\n  selectedArray: PropTypes.array.isRequired,\r\n  listData: PropTypes.array,\r\n  setButtonSelected: PropTypes.func.isRequired,\r\n  selectionButtonIndex: PropTypes.number,\r\n  category: PropTypes.string.isRequired,\r\n  piggyData: PropTypes.object,\r\n  fadingList: PropTypes.array,\r\n  handleProductPage: PropTypes.func.isRequired,\r\n  values: PropTypes.object,\r\n  plansData: PropTypes.object,\r\n  handleOnClick: PropTypes.func.isRequired,\r\n  setRestrictionPopup: PropTypes.func.isRequired,\r\n  handleAPI: PropTypes.func.isRequired,\r\n  emailPopupData: PropTypes.array,\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setRestrictionPopup: (data) => {\r\n    dispatch(setRestrictionPopup(data));\r\n  },\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(ListView);\r\n","/**\r\n * TravelChoosePlan.js\r\n * Choose Plan view for travel\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\n\r\nimport Tooltip from 'components/Templates/Tooltip/Tooltip';\r\n\r\nclass ListViewTierToolTip extends Component {\r\n  render() {\r\n    return (\r\n      <Tooltip\r\n        id=\"compare_form_tier_tooltip\"\r\n        innerClassName=\"tooltip-wide-modal \"\r\n      >\r\n        <p><span className=\"desc-text\">We have made it easier for you to do an apple to apple comparison by classifying the different plans into 3 levels of cover.</span></p>\r\n        <p className=\" mt-4\"><span className=\"desc-text\">Insurers typically offers 3 levels of cover.</span></p>\r\n        <Row className=\"w-100\" noGutters>\r\n          <Col xs={4}>\r\n            <span className=\"title-text\">Basic:</span>\r\n          </Col>\r\n          <Col xs={8}>\r\n            <span className=\"desc-text\">Lowest protection benefit.</span>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"w-100\" noGutters>\r\n          <Col xs={4}>\r\n            <span className=\"title-text\">Essential:</span>\r\n          </Col>\r\n          <Col xs={8}>\r\n            <span className=\"desc-text\">Mid-range protection benefit.</span>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"w-100\" noGutters>\r\n          <Col xs={4}>\r\n            <span className=\"title-text\">Elite:</span>\r\n          </Col>\r\n          <Col xs={8}>\r\n            <span className=\"desc-text\">Comprehensive protection benefit.</span>\r\n          </Col>\r\n        </Row>\r\n      </Tooltip>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ListViewTierToolTip;\r\n","/**\r\n * MultiCompareView.js\r\n * Multi Compare view with different insurers\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\n// import PropTypes from 'prop-types';\r\nimport Sticky from 'react-stickynode';\r\n\r\nimport DollarLogo from 'assets/images/EditForm/Dollar.svg';\r\nimport Arrow from 'assets/images/forms/arrow.svg';\r\n\r\nimport DropDown from 'components/FormsV3/DropDown/DropDown';\r\nimport ChangeInitialFormDataNew from 'components/Templates/ChangeInitialFormData/ChangeInitialFormDataNew';\r\n// import CompareView from 'components/Templates/CompareViewNew/CompareView';\r\nimport ProductDetails from 'components/Templates/ProductDetails/ProductDetails';\r\n\r\nimport { ampTag } from 'lib/tagFunctions';\r\nimport { setRestrictionPopup } from 'actions/restrictionsActions';\r\n\r\nimport ListView from './ListView/ListView';\r\n// import ListCompareBottom from './ListCompareBottom/ListCompareBottom';\r\nimport ListViewTierToolTip from './ListViewTierToolTip/ListViewTierToolTip';\r\n\r\nconst planTypes = ['Basic', 'Essential', 'Elite'];\r\nconst viewState = ['list', 'compare', 'product'];\r\n\r\nconst planTypesList = _.map(planTypes, type => ({ display_name: type, value: type }));\r\n\r\nclass ListViewMultiCompare extends Component {\r\n  /**\r\n   * Lifecycle Method - constructor\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const {\r\n      splitParams,\r\n    } = this.props;\r\n\r\n    this.state = {\r\n      currViewState: splitParams.product && splitParams.insurer ? viewState[2] : viewState[0],\r\n      isFadeOut: false,\r\n      overridePlanTypes: null,\r\n      fadingList: [],\r\n    };\r\n\r\n    this.renderLeftContainer = this.renderLeftContainer.bind(this);\r\n    this.renderBackToListButton = this.renderBackToListButton.bind(this);\r\n    // this.setCompareSelected = this.setCompareSelected.bind(this);\r\n    // this.setCancelSelected = this.setCancelSelected.bind(this);\r\n    this.switchView = this.switchView.bind(this);\r\n    // this.scrollPopUpCallback = this.scrollPopUpCallback.bind(this);\r\n    this.setButtonSelected = this.setButtonSelected.bind(this);\r\n    // this.revalidateSelection = this.revalidateSelection.bind(this);\r\n    this.setOverridePlanTypes = this.setOverridePlanTypes.bind(this);\r\n    this.handleTierSelection = this.handleTierSelection.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { getPlans, plansData } = this.props;\r\n\r\n    // Get list plans\r\n    if (!plansData) {\r\n      getPlans();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const {\r\n      splitParams,\r\n    } = this.props;\r\n\r\n    // For product page use\r\n    // If detected is product, goes to product view\r\n    if (!_.isEqual(splitParams, prevProps.splitParams) && splitParams.insurer && splitParams.product) {\r\n      this.switchView(viewState[2]);\r\n    }\r\n  }\r\n\r\n  setOverridePlanTypes(overridePlanTypes) {\r\n    const { planType, setPlanType } = this.props;\r\n\r\n    const planTypeUpper = _.startCase(planType);\r\n\r\n    if (overridePlanTypes &&\r\n      overridePlanTypes.length > 0 &&\r\n      !_.find(overridePlanTypes, p => p.value === planTypeUpper)) {\r\n      const value = _.find(planTypesList, p => p.value === overridePlanTypes[0].value);\r\n      setPlanType(value && value.value);\r\n    }\r\n\r\n    this.setState({ overridePlanTypes });\r\n  }\r\n\r\n  // setCompareSelected(item) {\r\n  //   const { selectedArray, setSelectedArray } = this.props;\r\n  //   const newSelectedArray = [...selectedArray];\r\n\r\n  //   let result = false;\r\n\r\n  //   // Null = No empty slot\r\n  //   // -1 = Deselection\r\n  //   // 0,1,2 - Empty slot\r\n  //   let emptySlot = null;\r\n\r\n  //   for (let i = 0; i < newSelectedArray.length; ++i) {\r\n  //     if (newSelectedArray[i] === null) {\r\n  //       if (emptySlot === null) {\r\n  //         emptySlot = i;\r\n  //       }\r\n  //     } else if (newSelectedArray[i] === item) {\r\n  //       newSelectedArray[i] = null;\r\n  //       emptySlot = -1;\r\n  //     }\r\n  //   }\r\n\r\n  //   // Can select\r\n  //   if (emptySlot !== null && emptySlot >= 0) {\r\n  //     newSelectedArray[emptySlot] = item;\r\n  //     result = true;\r\n  //   }\r\n\r\n  //   setSelectedArray(newSelectedArray);\r\n\r\n  //   return result;\r\n  // }\r\n\r\n  // setCancelSelected(item, isAll = false) {\r\n  //   const { setSelectedArray, selectedArray } = this.props;\r\n\r\n  //   if (isAll) {\r\n  //     setSelectedArray([null, null, null]);\r\n  //     return;\r\n  //   }\r\n\r\n  //   const newSelectedArray = [...selectedArray];\r\n\r\n  //   const index = _.findIndex(newSelectedArray, selected => selected === item);\r\n  //   if (index !== -1) {\r\n  //     newSelectedArray[index] = null;\r\n  //   }\r\n\r\n  //   setSelectedArray(newSelectedArray);\r\n  // }\r\n\r\n  // Sets the tab selection\r\n  setButtonSelected(index) {\r\n    const { setSelectionButtonIndex } = this.props;\r\n    setSelectionButtonIndex(index);\r\n  }\r\n\r\n  // revalidateSelection(planTypeOverwrite = null) {\r\n  //   const {\r\n  //     selectedArray,\r\n  //     setSelectedArray,\r\n  //     plansData,\r\n  //     planType,\r\n  //   } = this.props;\r\n\r\n  //   const planTypeToUse = planTypeOverwrite || planType;\r\n  //   const newSelectedArray = [...selectedArray];\r\n\r\n  //   for (let i = 0; i < newSelectedArray.length; ++i) {\r\n  //     try {\r\n  //       const product = _.find(plansData.insurances_all, p => p && p.info && p.info.insurer_product_slug === newSelectedArray[i]);\r\n  //       if (!product.policy_info[planTypeToUse].premium) {\r\n  //         newSelectedArray[i] = null;\r\n  //       }\r\n  //     } catch (error) {\r\n  //       // eslint-disable-next-line\r\n  //       newSelectedArray[i] = null;\r\n  //     }\r\n  //   }\r\n\r\n  //   setSelectedArray(newSelectedArray);\r\n  // }\r\n\r\n  async switchView(state) {\r\n    // const {\r\n    //   currViewState,\r\n    // } = this.state;\r\n    const { category, resetPath } = this.props;\r\n\r\n    // if (currViewState !== viewState[0]) {\r\n    //   this.revalidateSelection();\r\n    // }\r\n\r\n    this.setState({\r\n      isFadeOut: true,\r\n      overridePlanTypes: null,\r\n    }, async () => {\r\n      await new Promise(resolve => setTimeout(() => this.setState({ currViewState: state }, resolve), 300));\r\n      if (state === viewState[2]) {\r\n        await new Promise(resolve => setTimeout(resolve, 100));\r\n      }\r\n\r\n      this.setState({\r\n        isFadeOut: false,\r\n      });\r\n\r\n      if (state === viewState[1]) {\r\n        ampTag(`${_.startCase(category)}CompareS`);\r\n      }\r\n\r\n      if (state !== viewState[2] && resetPath) {\r\n        resetPath();\r\n      }\r\n    });\r\n  }\r\n\r\n  // scrollPopUpCallback(insurerProductSlug, hoveredIndex) {\r\n  //   const { selectedArray, setSelectedArray } = this.props;\r\n  //   const newSelectedArray = [...selectedArray];\r\n\r\n  //   newSelectedArray[hoveredIndex] = insurerProductSlug;\r\n  //   setSelectedArray(newSelectedArray);\r\n  // }\r\n\r\n  // Change tier\r\n  async handleTierSelection(newPlanType) {\r\n    const { currViewState } = this.state;\r\n    const { plansData, setPlanType } = this.props;\r\n\r\n    try {\r\n      if (!this.mutex && newPlanType && plansData && plansData.insurances_all) {\r\n        this.mutex = true;\r\n        let fadingList = [];\r\n\r\n        if (currViewState === viewState[0]) {\r\n          for (let i = 0; i < plansData.insurances_all.length; ++i) {\r\n            fadingList.push('list-item-fade');\r\n            this.setState({\r\n              fadingList: [...fadingList],\r\n            });\r\n\r\n            // eslint-disable-next-line\r\n            await new Promise((r) => { setInterval(r, 10); });\r\n          }\r\n\r\n          // this.setState({\r\n          //   fadingList: [...fadingList],\r\n          // });\r\n          // await new Promise((r) => { setInterval(r, 250); });\r\n          await new Promise((r) => { setInterval(r, 100); });\r\n        }\r\n\r\n        setPlanType(newPlanType.toLowerCase());\r\n\r\n        if (currViewState === viewState[0]) {\r\n          fadingList = _.map(plansData.insurances_all, () => 'list-item-fade');\r\n          for (let i = 0; i < fadingList.length; ++i) {\r\n            fadingList[i] = '';\r\n            this.setState({\r\n              fadingList: [...fadingList],\r\n            });\r\n\r\n            // eslint-disable-next-line\r\n            await new Promise((r) => { setInterval(r, 10); });\r\n          }\r\n\r\n          // this.setState({\r\n          //   fadingList: [...fadingList],\r\n          // });\r\n        }\r\n\r\n        this.revalidateSelection();\r\n\r\n        this.mutex = false;\r\n      }\r\n    } catch (error) {\r\n      this.mutex = false;\r\n      this.setState({\r\n        fadingList: [],\r\n      });\r\n    }\r\n  }\r\n\r\n  renderBackToListButton() {\r\n    const { currViewState } = this.state;\r\n\r\n    if (currViewState !== viewState[0]) {\r\n      return (\r\n        <button\r\n          className=\"back-list-button\"\r\n          onClick={() => this.switchView(viewState[0])}\r\n        >\r\n          <img src={Arrow} alt=\"Arrow.svg\" />\r\n          Back to Product List\r\n        </button>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderLeftContainer() {\r\n    const { currViewState, overridePlanTypes } = this.state;\r\n    const {\r\n      editForm,\r\n      form,\r\n      promoGiveAway,\r\n      choosePlanListData,\r\n      selectionButtonIndex,\r\n      planType,\r\n      values,\r\n      getPlans,\r\n    } = this.props;\r\n\r\n    let promoJSX = null;\r\n    const selectionButtonsArray = _.map(choosePlanListData || [], data => ({ display_name: data.type, value: data.type }));\r\n\r\n    try {\r\n      const currDate = new Date();\r\n      const startDate = new Date(promoGiveAway.main[0].start_at);\r\n      const endDate = new Date(promoGiveAway.main[0].end_at);\r\n      if (startDate <= currDate && currDate <= endDate) {\r\n        promoJSX = (\r\n          <a className=\"d-none d-lg-block\" href={promoGiveAway.main[0].cta_url} target=\"__blank\">\r\n            <img\r\n              className=\"main-promo\"\r\n              src={promoGiveAway.main[0].image_url}\r\n              alt=\"PromoMain.png\"\r\n            />\r\n          </a>\r\n        );\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n      // console.log(error);\r\n    }\r\n\r\n    const JSX = (\r\n      <Fragment>\r\n        <Row noGutters>\r\n          {\r\n            currViewState !== viewState[0] ?\r\n              <Col className=\"plantype-drop\" style={{ minHeight: 0 }} xs={{ size: 6, order: 3 }} lg={{ size: 12, order: 1 }}>\r\n                {this.renderBackToListButton()}\r\n              </Col>\r\n            : null\r\n          }\r\n          <Col className=\"plantype-drop d-none d-lg-block\" xs={{ size: 6, order: 2 }} lg={{ size: 12, order: 2 }}>\r\n            <div className=\"tier-selection-checkbox-container\">\r\n              <div className=\"tier-header\">\r\n                <p className=\"my-0 detail-value\"><span>Coverage Level</span></p>\r\n                <ListViewTierToolTip />\r\n              </div>\r\n              <h6>Please select one</h6>\r\n              <div className=\"options-container\">\r\n                {\r\n                  _.map(overridePlanTypes || planTypesList, (type, index) => (\r\n                    <div className=\"option\" key={`planType-checkbox-${index}`}>\r\n                      <button\r\n                        className={['option-button', type.value.toLowerCase() === planType ? 'selected' : ''].join(' ')}\r\n                        type=\"button\"\r\n                        onClick={() => this.handleTierSelection(type.value)}\r\n                      />\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => this.handleTierSelection(type.value)}\r\n                      >\r\n                        <span className=\"detail-value\">{type.value}</span>\r\n                      </button>\r\n                    </div>\r\n                  ))\r\n                }\r\n              </div>\r\n            </div>\r\n          </Col>\r\n          <Col className=\"plantype-drop d-block d-lg-none\" xs={{ size: 6, order: 2 }} lg={{ size: 12, order: 2 }}>\r\n            <DropDown\r\n              dropList={overridePlanTypes || planTypesList}\r\n              placeholderString=\"Coverage Level\"\r\n              logo={DollarLogo}\r\n              value={{ display_name: _.startCase(planType), value: _.startCase(planType) }}\r\n              isDisableTyping\r\n              noExternalDesc\r\n              onChange={(type, name, value) => {\r\n                this.handleTierSelection(value.value);\r\n              }}\r\n            />\r\n            {/* <ListViewTierToolTip /> */}\r\n          </Col>\r\n          {\r\n            currViewState === viewState[0] && selectionButtonsArray ?\r\n              <Col xs={{ size: 6, order: 3 }} lg={{ size: 12, order: 3 }} className=\"d-block d-lg-none filter-container\">\r\n                <DropDown\r\n                  dropList={selectionButtonsArray}\r\n                  placeholderString=\"Filter\"\r\n                  isDisableTyping\r\n                  noExternalDesc\r\n                  value={selectionButtonsArray[selectionButtonIndex]}\r\n                  onChange={(type, name, value) => {\r\n                    const index = _.findIndex(selectionButtonsArray, selection => selection.value === value.value);\r\n                    this.setButtonSelected(index);\r\n                  }}\r\n                />\r\n              </Col>\r\n            : null\r\n          }\r\n          <Col xs={{ size: 12, order: 1 }} lg={{ size: 12, order: 4 }}>\r\n            <ChangeInitialFormDataNew\r\n              submitCallback={getPlans}\r\n              form={form}\r\n              headerValue={editForm.headerValue}\r\n              valuesToListen={editForm.valuesToListen}\r\n              conditions={editForm.conditions}\r\n              values={values}\r\n            >\r\n              {editForm.editDetail}\r\n            </ChangeInitialFormDataNew>\r\n          </Col>\r\n        </Row>\r\n        {promoJSX}\r\n      </Fragment>\r\n    );\r\n\r\n    return (\r\n      <div className=\"left-container\" >\r\n        <div className=\"d-none d-lg-block\">\r\n          <Sticky\r\n            enabled={true}\r\n            top={100}\r\n            bottomBoundary={0}\r\n          >\r\n            {JSX}\r\n          </Sticky>\r\n        </div>\r\n        <div className=\"d-block d-lg-none\">\r\n          {JSX}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Render\r\n   */\r\n  render() {\r\n    try {\r\n      const {\r\n        currViewState,\r\n        isFadeOut,\r\n        fadingList,\r\n      } = this.state;\r\n\r\n      const {\r\n        plansData,\r\n        // tripType,\r\n        choosePlanListData,\r\n        choosePlanPiggyData,\r\n      } = this.props;\r\n\r\n      // Do not render if no data\r\n      if (!plansData) {\r\n        return null;\r\n      }\r\n\r\n      const fadeStyle = isFadeOut ? 'animated fadeOut' : 'animated fadeIn';\r\n\r\n      return (\r\n        <div className=\"listview-container d-block d-md-flex justify-content-center\">\r\n          {this.renderLeftContainer()}\r\n          <div\r\n            className=\"right-container\"\r\n            ref={node => this.rightContainer = node}\r\n          >\r\n            <div className={`fade-container ${fadeStyle}`}>\r\n              {\r\n                // eslint-disable-next-line\r\n                currViewState === viewState[0] ?\r\n                  <ListView\r\n                    {...this.props}\r\n                    // setCompareSelected={this.setCompareSelected}\r\n                    setButtonSelected={this.setButtonSelected}\r\n                    fadingList={fadingList}\r\n                    listData={choosePlanListData}\r\n                    piggyData={choosePlanPiggyData}\r\n                  />\r\n                // : currViewState === viewState[1] ?\r\n                //   <CompareView\r\n                //     {...this.props}\r\n                //     key=\"overview\"\r\n                //     className=\"overview-container-padding\"\r\n                //     notAccordion\r\n                //     productChangable\r\n                //     scrollPopUpCallback={this.scrollPopUpCallback}\r\n                //     tripType={tripType}\r\n                //   />\r\n                :\r\n                  <ProductDetails\r\n                    {...this.props}\r\n                    setOverridePlanTypes={this.setOverridePlanTypes}\r\n                    switchView={() => this.switchView(viewState[0])}\r\n                  />\r\n              }\r\n            </div>\r\n            {/* <ListCompareBottom\r\n              {...this.props}\r\n              isListView={currViewState === viewState[0]}\r\n              clearAllCallBack={() => this.setCancelSelected(null, true)}\r\n              compareCallback={() => this.switchView(viewState[1])}\r\n              cancelSelectedCallBack={item => this.setCancelSelected(item, false)}\r\n            /> */}\r\n          </div>\r\n        </div>\r\n      );\r\n    } catch (error) {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nListViewMultiCompare.defaultProps = {\r\n  // initialIndex: 0,\r\n  // plansData: null,\r\n  // selectedInsurers: null,\r\n  // trackingTags: null,\r\n  // defaultInsurers: null,\r\n  // buttonDesc: null,\r\n  // forceFixedOnDesktop: false,\r\n  // category: null,\r\n  // promoGiveAway: null,\r\n  // listData: null,\r\n  // piggyData: null,\r\n  // splitParams: null,\r\n  // resetPath: null,\r\n};\r\n\r\nListViewMultiCompare.propTypes = {\r\n  // setSelectedInsurers: PropTypes.func.isRequired,\r\n  // mainForm: PropTypes.object.isRequired,\r\n  // parseForm: PropTypes.func.isRequired,\r\n  // getPlans: PropTypes.func.isRequired,\r\n  // clearData: PropTypes.func.isRequired,\r\n  // loading: PropTypes.func.isRequired,\r\n  // defaultInsurers: PropTypes.array,\r\n  // editForm: PropTypes.object.isRequired,\r\n  // form: PropTypes.string.isRequired,\r\n  // initialIndex: PropTypes.number,\r\n  // plansData: PropTypes.array,\r\n  // selectedInsurers: PropTypes.array,\r\n  // setSelectedPlanData: PropTypes.func.isRequired,\r\n  // loadingEnd: PropTypes.func.isRequired,\r\n  // setFormState: PropTypes.func.isRequired,\r\n  // setRestrictionPopup: PropTypes.func.isRequired,\r\n  // loadingFailBackState: PropTypes.func.isRequired,\r\n  // trackingTags: PropTypes.object,\r\n  // buttonDesc: PropTypes.string,\r\n  // forceFixedOnDesktop: PropTypes.bool,\r\n  // category: PropTypes.string,\r\n  // promoGiveAway: PropTypes.object,\r\n  // listData: PropTypes.array,\r\n  // piggyData: PropTypes.object,\r\n  // setSelectedArray: PropTypes.func.isRequired,\r\n  // setSelectionButtonIndex: PropTypes.func.isRequired,\r\n  // selectedArray: PropTypes.array.isRequired,\r\n  // selectionButtonIndex: PropTypes.number.isRequired,\r\n  // planType: PropTypes.string.isRequired,\r\n  // setPlanType: PropTypes.func.isRequired,\r\n  // splitParams: PropTypes.object,\r\n  // resetPath: PropTypes.func,\r\n  // handleProductPage: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  selectedInsurers: state.compare.selectedInsurers,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  // loading: (callBack, errorMsg, time, mainMsg) => {\r\n  //   dispatch(setLoading(callBack, errorMsg, time, mainMsg));\r\n  // },\r\n  // loadingEnd: () => {\r\n  //   dispatch(clearLoading());\r\n  // },\r\n  setRestrictionPopup: (data) => {\r\n    dispatch(setRestrictionPopup(data));\r\n  },\r\n  // setSelectedInsurers: (array) => {\r\n  //   dispatch(setSelectedInsurers(array));\r\n  // },\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ListViewMultiCompare);\r\n","/**\r\n * TravelChoosePlan.js\r\n * Choose Plan view for travel\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ListViewMultiCompare from 'components/Templates/ListViewMultiCompareNew/ListViewMultiCompare';\r\nimport FieldGenerator from 'components/FormsV3/FieldGenerator';\r\n\r\nimport TravelEditDetail from './TravelEditDetail';\r\n\r\nclass TravelChoosePlan extends Component {\r\n  render() {\r\n    const {\r\n      splitParams,\r\n      mainFormFields,\r\n      errors,\r\n      onChangeValue,\r\n      onUpdateValues,\r\n      values,\r\n      valuesToListen,\r\n      conditions,\r\n      validateForm,\r\n      getPlans,\r\n    } = this.props;\r\n\r\n    const isXploraJapan = splitParams && splitParams.insurer === 'tokio_marine' && splitParams.product === 'xplora_japan';\r\n    const isPrex = splitParams && _.includes(splitParams.product, 'prex');\r\n\r\n    return (\r\n      <ListViewMultiCompare\r\n        {...this.props}\r\n        category=\"travel\"\r\n        form=\"travel\"\r\n        editForm={{\r\n          valuesToListen: valuesToListen(values),\r\n          conditions,\r\n          editDetail: (\r\n            <TravelEditDetail\r\n              isPopUp\r\n              onUpdateValues={onUpdateValues}\r\n              values={values}\r\n              title=\"Edit Travel Insurance Details\"\r\n              validateForm={validateForm}\r\n              onSubmit={getPlans}\r\n            >\r\n              {\r\n                _.reduce(mainFormFields, (result, f, index) => {\r\n                  if (isXploraJapan && (f.slug === 'countries' || f.slug === 'region')) {\r\n                    return result;\r\n                  }\r\n                  result.push((<FieldGenerator\r\n                    key={`business-form-${index}`}\r\n                    values={values}\r\n                    errors={errors}\r\n                    fieldData={f}\r\n                    onChangeValue={(type, name, value) => onChangeValue(type, name, value, mainFormFields)}\r\n                    extraInfo={f.extra_info && <p>{f.extra_info}</p>}\r\n                    noInternalDesc={f.no_internal_desc}\r\n                    isPrex={isPrex}\r\n                  />));\r\n\r\n                  return result;\r\n                }, [])\r\n              }\r\n            </TravelEditDetail>\r\n          ),\r\n        }}\r\n        forceFixedOnDesktop\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nTravelChoosePlan.defaultProps = {\r\n  splitParams: null,\r\n};\r\n\r\nTravelChoosePlan.propTypes = {\r\n  splitParams: PropTypes.object,\r\n};\r\n\r\nexport default TravelChoosePlan;\r\n","/**\r\n * TravelChoosePlanContainer.js\r\n * The choose plan container for travel\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport ReactPixel from 'react-facebook-pixel';\r\n\r\nimport TravelChoosePlan from 'components/Travel/TravelChoosePlan';\r\n\r\nimport { setCategoryNavBar } from 'actions/navActions';\r\nimport { setInsuranceFormState, FORMSTATES } from 'actions/insuranceActions';\r\nimport { parseTravelForm, getTravelPlans, getMainFormFields } from 'actions/travelActions';\r\n\r\nimport {\r\n  getValuesToListen,\r\n  conditions,\r\n  doTrackingTagsChoosePlan,\r\n  choosePlanListData,\r\n  choosePlanPiggyData,\r\n  msigPrexPopup,\r\n} from './Travel.constants';\r\n\r\nimport { gaTag, ampTag } from '../../lib/tagFunctions';\r\n\r\nclass TravelChoosePlanContainer extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const { splitParams } = prevState;\r\n    const { match } = nextProps;\r\n\r\n    if (!_.isEqual(splitParams, match.params)) {\r\n      return {\r\n        splitParams: match.params,\r\n      };\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { match } = this.props;\r\n    this.state = {\r\n      splitParams: match.params,\r\n    };\r\n\r\n    this.getPlans = this.getPlans.bind(this);\r\n    this.handleOnClick = this.handleOnClick.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const {\r\n      setFormState,\r\n      doSetCategoryNavBar,\r\n      mainFormFields,\r\n      handleAPI,\r\n      getMainFields,\r\n      constants,\r\n      history,\r\n    } = this.props;\r\n    setFormState(FORMSTATES.CHOOSEPLAN.index);\r\n\r\n    if (history.location.pathname) {\r\n      const path = `/travel${FORMSTATES.CHOOSEPLAN.path}`;\r\n      if (history.location.pathname === path) {\r\n        ReactPixel.track('Search');\r\n      }\r\n    }\r\n\r\n    gaTag({\r\n      page_title: 'Travel - Choose Plan',\r\n      page_path: '/travel/chooseplan',\r\n    });\r\n    ampTag('TravelResultsS');\r\n    document.body.style.backgroundColor = '#F9FAFF';\r\n    doSetCategoryNavBar(true);\r\n\r\n    if (!mainFormFields) {\r\n      const mainFields = await handleAPI(\r\n        () => getMainFields(constants),\r\n        false,\r\n        'Unable to get form fields. Please try again!',\r\n        () => history.goBack(),\r\n      );\r\n\r\n      if (!mainFields) {\r\n        history.push('/');\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { doSetCategoryNavBar } = this.props;\r\n    document.body.style.backgroundColor = '#FFFFFF';\r\n    doSetCategoryNavBar(false);\r\n  }\r\n\r\n  async getPlans() {\r\n    const {\r\n      values,\r\n      handleAPI,\r\n      setPlansData,\r\n      history,\r\n    } = this.props;\r\n\r\n    const parsedParams = parseTravelForm(values);\r\n\r\n    // Get plans and valid insurers list\r\n    const newPlansData = await handleAPI(\r\n      () => getTravelPlans(parsedParams),\r\n      false,\r\n      'Unable to get products! Please try again.',\r\n      () => history.goBack(),\r\n    );\r\n\r\n    if (newPlansData) {\r\n      setPlansData(newPlansData);\r\n    }\r\n  }\r\n\r\n  handleOnClick(product, setRestrictionPopup) {\r\n    const {\r\n      category,\r\n      setFormState,\r\n      setSelectedPlanData,\r\n      planType,\r\n      history,\r\n    } = this.props;\r\n\r\n    try {\r\n      doTrackingTagsChoosePlan(planType, product);\r\n\r\n      const clickCallback = () => {\r\n        setSelectedPlanData(product);\r\n        setFormState(FORMSTATES.DETAILFORM.index);\r\n        history.push(`/travel${FORMSTATES.DETAILFORM.path}`);\r\n      };\r\n\r\n      if (product.restrictions) {\r\n        ampTag(`${_.startCase(category)}RestrictionsS`);\r\n\r\n        if (setRestrictionPopup) {\r\n          setRestrictionPopup({\r\n            values: product.restrictions,\r\n            clickCallback,\r\n            doAcceptTag: () => ampTag(`${_.startCase(category)}AcceptA`),\r\n          });\r\n          return true;\r\n        }\r\n      }\r\n\r\n      ampTag(`${_.startCase(category)}AcceptA`);\r\n      clickCallback();\r\n      return true;\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    const { splitParams } = this.state;\r\n\r\n    const {\r\n      history,\r\n      values,\r\n      mainFormFields,\r\n    } = this.props;\r\n\r\n    if (!mainFormFields) {\r\n      return null;\r\n    }\r\n\r\n    let tripType = 'default';\r\n    try {\r\n      if (values.trip_type.value === 'Single Trip') {\r\n        tripType = 'single';\r\n      } else if (values.trip_type.value === 'Annual Multi-Trip') {\r\n        tripType = 'annual';\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-lien\r\n    }\r\n\r\n    return (\r\n      <TravelChoosePlan\r\n        {...this.props}\r\n        loadingFailBackState={() => history.goBack()}\r\n        resetPath={() => history.replace(`/travel${FORMSTATES.CHOOSEPLAN.path}`)}\r\n        getPlans={this.getPlans}\r\n        splitParams={splitParams}\r\n        valuesToListen={getValuesToListen}\r\n        conditions={conditions}\r\n        choosePlanListData={choosePlanListData}\r\n        choosePlanPiggyData={choosePlanPiggyData}\r\n        handleOnClick={this.handleOnClick}\r\n        tripType={tripType}\r\n        parseForm={parseTravelForm}\r\n        emailPopupData={[msigPrexPopup]}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nTravelChoosePlanContainer.defaultProps = {\r\n  values: null,\r\n};\r\n\r\nTravelChoosePlanContainer.propTypes = {\r\n  history: PropTypes.object.isRequired,\r\n  values: PropTypes.object,\r\n  constants: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  travelPromoGiveAway: state.insurance.promoGiveaways.travel,\r\n  mainFormFields: state.travel.mainFormFields,\r\n  constants: state.insurance.constants,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  getMainFields: constants => dispatch(getMainFormFields(constants)),\r\n  setFormState: (state) => {\r\n    dispatch(setInsuranceFormState(state));\r\n  },\r\n  doSetCategoryNavBar: (isCategory) => {\r\n    dispatch(setCategoryNavBar(isCategory));\r\n  },\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(TravelChoosePlanContainer));\r\n","/**\r\n * DropDown.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport TickRounded from 'assets/images/forms/TickRounded.svg';\r\n\r\nimport './SingleCheckBox.scss';\r\n\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass SingleCheckBox extends Component {\r\n  render() {\r\n    const {\r\n      id,\r\n      onChange,\r\n      checked,\r\n    } = this.props;\r\n\r\n    const checkedStyle = checked ? 'single-check-box-checked' : 'single-check-box-non-checked';\r\n\r\n    return (\r\n      <div\r\n        className={`single-check-box-container ${checkedStyle}`}\r\n        id={id}\r\n        onClick={onChange}\r\n        checked={checked}\r\n        tabIndex={-1}\r\n        onKeyDown={null}\r\n        role=\"button\"\r\n      >\r\n        <div className=\"bg\" />\r\n        <div className=\"box\">\r\n          <img src={TickRounded} alt=\"Tick.svg\" />\r\n        </div>\r\n        <p className=\"desc\">\r\n          {this.props.children}\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nSingleCheckBox.defaultProps = {\r\n  checked: false,\r\n};\r\n\r\n\r\nSingleCheckBox.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  checked: PropTypes.bool,\r\n};\r\n\r\nexport default SingleCheckBox;\r\n","/**\r\n * DetailForm.js\r\n * Wrapper that contains the piggy login and the\r\n * right container to checkout or choose plan\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { Row, Col } from 'reactstrap';\r\n\r\nimport LabelImg from 'assets/images/forms/Label.svg';\r\n\r\n// Import Insurer Logos\r\nimport PiggyFillForm from 'components/Templates/PiggySignUp/PiggyFillFormNew';\r\nimport ChangeInitialFormDataNew from 'components/Templates/ChangeInitialFormData/ChangeInitialFormDataNew';\r\n\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport SingleCheckBox from 'components/FormsV3/SingleCheckBox/SingleCheckBox';\r\n\r\nimport './DetailFormNew.scss';\r\n\r\nclass DetailFormNew extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      rightStickyStyle: 'right-scroll',\r\n      isSignUp: false,\r\n    };\r\n\r\n    this.handlePreSubmit = this.handlePreSubmit.bind(this);\r\n    this.handleScroll = this.handleScroll.bind(this);\r\n    this.renderSignUp = this.renderSignUp.bind(this);\r\n    this.renderSignUpButton = this.renderSignUpButton.bind(this);\r\n    this.renderUpperRightContainer = this.renderUpperRightContainer.bind(this);\r\n    this.renderBottomContainer = this.renderBottomContainer.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('scroll', this.handleScroll);\r\n    window.scrollTo(0, 0);\r\n    this.handleScroll();\r\n\r\n    if (window.$('#intercom-container')) {\r\n      window.$('#intercom-container').hide();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (window.$('#intercom-container')) {\r\n      window.$('#intercom-container').show();\r\n    }\r\n\r\n    window.removeEventListener('scroll', this.handleScroll);\r\n  }\r\n\r\n  handlePreSubmit(e) {\r\n    const { isSignUp } = this.state;\r\n    const { onSubmit, login } = this.props;\r\n    if (isSignUp) {\r\n      login.loginContainer.setSuccessCallback(() => onSubmit(e));\r\n      login.loginContainer.setInitialIndex(2);\r\n      login.popup.openPopup();\r\n      return;\r\n    }\r\n    onSubmit(e);\r\n  }\r\n\r\n  handleScroll() {\r\n    if (this.upperMarker) {\r\n      const { rightStickyStyle } = this.state;\r\n      const stickyStyle = this.upperMarker.getBoundingClientRect().y < 84 ? 'right-sticky' : 'right-scroll';\r\n\r\n      if (rightStickyStyle !== stickyStyle) {\r\n        this.setState({\r\n          rightStickyStyle: stickyStyle,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  renderSignUp() {\r\n    const {\r\n      isLoggedIn,\r\n      login,\r\n      piggyCallback,\r\n      category,\r\n      planDetails,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className=\"piggy\">\r\n        <PiggyFillForm\r\n          isLoggedIn={isLoggedIn}\r\n          cashback={planDetails && planDetails.cashback}\r\n          category={category}\r\n          onClick={() => {\r\n            login.loginContainer.setSuccessCallback(piggyCallback);\r\n            login.loginContainer.setInitialIndex(1);\r\n            login.popup.openPopup();\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderSignUpButton(isPlanTotal) {\r\n    const { isSignUp } = this.state;\r\n    const { isLoggedIn } = this.props;\r\n    const signUpStyle = isPlanTotal ? '' : 'no-total';\r\n\r\n    if (!isLoggedIn) {\r\n      return (\r\n        <div className={`sign-up ${signUpStyle}`}>\r\n          <SingleCheckBox\r\n            id=\"checkbox-detail-form\"\r\n            onChange={() => this.setState({ isSignUp: !isSignUp })}\r\n            checked={!!isSignUp}\r\n          >\r\n            Sign Up\r\n          </SingleCheckBox>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderUpperRightContainer() {\r\n    const { rightStickyStyle } = this.state;\r\n\r\n    const {\r\n      planDetails,\r\n      checkoutButtonDesc,\r\n      editForm,\r\n      category,\r\n      values,\r\n    } = this.props;\r\n\r\n    return (\r\n      <Fragment>\r\n        <div className=\"d-none d-lg-block\">\r\n          {this.renderSignUp()}\r\n        </div>\r\n        <div\r\n          className={`upper-right-container ${rightStickyStyle}`}\r\n        >\r\n          <div ref={node => this.upperRightContainer = node} />\r\n          <div className=\"logo-container\">\r\n            <div className=\"logo-inner-container\">\r\n              <img className=\"company-logo\" src={planDetails.logo} alt={`${planDetails.logoDesc}.png`} />\r\n            </div>\r\n            <p className=\"plan-name\">{planDetails.planName}</p>\r\n            {this.renderSignUpButton(planDetails.planTotal)}\r\n            <ChangeInitialFormDataNew\r\n              values={values}\r\n              displayOnly={editForm.displayOnly}\r\n              form={category}\r\n              headerValue={editForm.headerValue}\r\n              valuesToListen={editForm.valuesToListen}\r\n              conditions={editForm.conditions}\r\n            />\r\n          </div>\r\n          <div className=\"submit-container\">\r\n            <div className=\"sign-up-container\">\r\n              {\r\n                planDetails.planSubTotal ?\r\n                  <div className=\"cost-container\">\r\n                    <p>\r\n                      <span className=\"total-text\">SubTotal</span>\r\n                      <span className=\"cost-text\">{planDetails.planSubTotal}</span>\r\n                    </p>\r\n                    <p className=\"gst-text\">GST 7% included</p>\r\n                  </div>\r\n                :\r\n                  null\r\n              }\r\n              {\r\n                planDetails.discountPercentage && planDetails.discountAmount ?\r\n                  <div className=\"cost-container\">\r\n                    <p>\r\n                      <span className=\"total-text\">Discount {planDetails.discountPercentage}</span>\r\n                      <span className=\"cost-text\">{planDetails.discountAmount}</span>\r\n                    </p>\r\n                  </div>\r\n                :\r\n                  null\r\n              }\r\n            </div>\r\n            <div className=\"divider\" />\r\n            <div className=\"sign-up-container\">\r\n              {\r\n                planDetails.planTotal ?\r\n                  <div className=\"cost-container\">\r\n                    <p>\r\n                      <span className=\"total-text\">Total</span>\r\n                      <span className=\"final-cost-text\">{planDetails.planTotal}</span>\r\n                    </p>\r\n                  </div>\r\n                :\r\n                  null\r\n              }\r\n              <Button\r\n                variant=\"medium-flat-green\"\r\n                height={48}\r\n                onClick={this.handlePreSubmit}\r\n              >\r\n                <p>{checkoutButtonDesc}</p>\r\n              </Button>\r\n              {\r\n                planDetails.cashback ?\r\n                  <div className=\"cashback-earned-container\">\r\n                    <img src={LabelImg} alt=\"Label.svg\" />\r\n                    <span>Earn {planDetails.cashback} Cashback</span>\r\n                  </div>\r\n                :\r\n                  null\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderBottomContainer() {\r\n    const { rightStickyStyle } = this.state;\r\n\r\n    const {\r\n      planDetails,\r\n      checkoutButtonDesc,\r\n      selectedPlanData,\r\n      isLoggedIn,\r\n    } = this.props;\r\n\r\n    return (\r\n      <Fragment>\r\n        <div\r\n          className={`bottom-container ${rightStickyStyle}`}\r\n        >\r\n          <div className=\"bottom-inner-container\">\r\n            {\r\n              planDetails.planTotal ?\r\n                <div className=\"price-container\">\r\n                  <h5>{planDetails.planName}</h5>\r\n                  {selectedPlanData && selectedPlanData.planType && <h6>{_.startCase(selectedPlanData.planType)}</h6>}\r\n                  <h4>\r\n                    <span>${planDetails.planTotal}</span>\r\n                    {\r\n                      planDetails.planSubTotal && <span className=\"price\">{planDetails.planSubTotal}</span>\r\n                    }\r\n                  </h4>\r\n                </div>\r\n              :\r\n                null\r\n            }\r\n            <div className={`resp-button-container ${isLoggedIn ? 'big' : 'small'}`}>\r\n              {this.renderSignUpButton(planDetails.planTotal)}\r\n              <Button\r\n                variant=\"medium-flat-green\"\r\n                height={48}\r\n                onClick={this.handlePreSubmit}\r\n              >\r\n                <p>{checkoutButtonDesc}</p>\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { errorArray } = this.props;\r\n    return (\r\n      <Fragment>\r\n        <Row className=\"detail-main-container-new\" noGutters>\r\n          <div ref={node => this.upperMarker = node} />\r\n          <Col xs={12} lg={7}>\r\n            <div className=\"d-block d-lg-none\">\r\n              {this.renderSignUp()}\r\n            </div>\r\n            <div className=\"detail-left-container\">\r\n              {this.props.children}\r\n              {errorArray}\r\n            </div>\r\n          </Col>\r\n          <Col lg={5} className=\"d-none d-lg-block\">\r\n            {this.renderUpperRightContainer()}\r\n          </Col>\r\n          <Col xs={12} className=\"d-block d-lg-none\">\r\n            {this.renderBottomContainer()}\r\n          </Col>\r\n        </Row>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nDetailFormNew.defaultProps = {\r\n  errorArray: null,\r\n  checkoutButtonDesc: 'Checkout',\r\n  editForm: null,\r\n  selectedPlanData: null,\r\n  values: null,\r\n};\r\n\r\nDetailFormNew.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n  piggyCallback: PropTypes.func.isRequired,\r\n  planDetails: PropTypes.object.isRequired,\r\n  isLoggedIn: PropTypes.bool.isRequired,\r\n  errorArray: PropTypes.array,\r\n  login: PropTypes.object.isRequired,\r\n  checkoutButtonDesc: PropTypes.string,\r\n  category: PropTypes.string.isRequired,\r\n  editForm: PropTypes.object,\r\n  selectedPlanData: PropTypes.object,\r\n  values: PropTypes.object,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  login: state.login,\r\n});\r\n\r\nexport default connect(mapStateToProps)(DetailFormNew);\r\n","/**\r\n * TravelDetail.js\r\n * Detail View for travel\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Row } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport FieldGenerator from 'components/FormsV3/FieldGenerator';\r\nimport DetailForm from 'components/Templates/DetailForm/DetailFormNew';\r\nimport TabView from 'components/Templates/TabView/TabViewNew';\r\n\r\nconst defaultFormName = 'adult_0';\r\n\r\nclass TravelDetail extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      formName: defaultFormName,\r\n    };\r\n\r\n    this.generateTabs = this.generateTabs.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n\r\n    this.renderMain = this.renderMain.bind(this);\r\n    this.renderFields = this.renderFields.bind(this);\r\n    this.renderForm = this.renderForm.bind(this);\r\n  }\r\n\r\n  async handleSubmit() {\r\n    const { handleSubmit } = this.props;\r\n    const errorArray = await handleSubmit(this.tabView);\r\n\r\n    if (!_.isEmpty(errorArray)) {\r\n      this.setState({\r\n        errorArray,\r\n      });\r\n    }\r\n  }\r\n\r\n  generateTabs() {\r\n    const { planData, values } = this.props;\r\n    const name = values.plan_type.value === 'Group' ? 'Person' : 'Adult';\r\n\r\n    const result = [];\r\n    if (values.num_adult && values.num_adult.value) {\r\n      for (let i = 0; i < planData.numAdults; ++i) {\r\n        result.push({\r\n          desc: `${name} ${i + 1}`,\r\n          onClick: () => { this.setState({ formName: `adult_${i}` }); },\r\n        });\r\n      }\r\n    }\r\n\r\n    for (let i = 0; i < planData.numChildren; ++i) {\r\n      result.push({\r\n        desc: `Child ${i + 1}`,\r\n        onClick: () => { this.setState({ formName: `child_${i}` }); },\r\n      });\r\n    }\r\n    return result;\r\n  }\r\n\r\n  renderFields(fields, isBlk = false) {\r\n    const { formName } = this.state;\r\n\r\n    const {\r\n      detailValues,\r\n      detailErrors,\r\n      onChangeDetailValue,\r\n      handlePostCode,\r\n    } = this.props;\r\n\r\n    return (\r\n      <Fragment>\r\n        {\r\n          _.map(fields, (f, index) => (\r\n            <FieldGenerator\r\n              key={`business-form-${index}`}\r\n              values={detailValues[formName]}\r\n              errors={detailErrors[formName]}\r\n              fieldData={f}\r\n              onChangeValue={(type, name, value) => onChangeDetailValue(type, name, value, formName)}\r\n              extraInfo={f.extra_info && <p>{f.extra_info}</p>}\r\n              noInternalDesc={f.no_internal_desc}\r\n              handlePostCode={() => handlePostCode(detailValues.adult_0, onChangeDetailValue, !isBlk, 'adult_0')}\r\n            />\r\n          ))\r\n        }\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderMain() {\r\n    const { formName } = this.state;\r\n    const {\r\n      getIndividualFields,\r\n      adultFields,\r\n      childFields,\r\n      selectedPlanData,\r\n    } = this.props;\r\n\r\n    if (formName === defaultFormName) {\r\n      const iFields = getIndividualFields(selectedPlanData);\r\n      return this.renderFields(iFields.fields, iFields.isBlk);\r\n    }\r\n\r\n    if (_.includes(formName, 'child_')) {\r\n      return this.renderFields(childFields);\r\n    }\r\n\r\n    return this.renderFields(adultFields);\r\n  }\r\n\r\n  renderForm() {\r\n    const { values } = this.props;\r\n    if (values.plan_type && values.plan_type.value === 'Individual') {\r\n      return (\r\n        <Row className=\"main-form\" noGutters>\r\n          {this.renderMain()}\r\n        </Row>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <TabView\r\n        ref={node => this.tabView = node}\r\n        maxTabWidthPx={128}\r\n        className=\"tabview-margin-top\"\r\n        tabs={this.generateTabs()}\r\n        isDataFadeOnly\r\n        name=\"travel-detail-tab\"\r\n        scrollTabs\r\n      >\r\n        <Row className=\"main-form\" noGutters>\r\n          {this.renderMain()}\r\n        </Row>\r\n      </TabView>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { errorArray } = this.state;\r\n    const {\r\n      isLoggedIn,\r\n      planDetails,\r\n      piggyCallback,\r\n      selectedPlanData,\r\n      values,\r\n      valuesToListen,\r\n      conditions,\r\n    } = this.props;\r\n\r\n    return (\r\n      <DetailForm\r\n        category=\"travel\"\r\n        values={values}\r\n        // planChange={() => {}}\r\n        onSubmit={this.handleSubmit}\r\n        planDetails={planDetails}\r\n        selectedPlanData={selectedPlanData}\r\n        isLoggedIn={isLoggedIn}\r\n        piggyCallback={piggyCallback}\r\n        errorArray={errorArray}\r\n        editForm={{\r\n          displayOnly: true,\r\n          valuesToListen: valuesToListen(values),\r\n          conditions,\r\n        }}\r\n      >\r\n        {this.renderForm()}\r\n      </DetailForm>\r\n    );\r\n  }\r\n}\r\n\r\nTravelDetail.defaultProps = {\r\n  detailValues: null,\r\n  detailErrors: null,\r\n  values: null,\r\n};\r\n\r\nTravelDetail.propTypes = {\r\n  isLoggedIn: PropTypes.bool.isRequired,\r\n  planDetails: PropTypes.object.isRequired,\r\n  piggyCallback: PropTypes.func.isRequired,\r\n  planData: PropTypes.object.isRequired,\r\n  handleSubmit: PropTypes.func.isRequired,\r\n  getIndividualFields: PropTypes.func.isRequired,\r\n  selectedPlanData: PropTypes.object.isRequired,\r\n  childFields: PropTypes.array.isRequired,\r\n  adultFields: PropTypes.array.isRequired,\r\n  valuesToListen: PropTypes.func.isRequired,\r\n  conditions: PropTypes.object.isRequired,\r\n  handlePostCode: PropTypes.func.isRequired,\r\n  values: PropTypes.object,\r\n  detailValues: PropTypes.object,\r\n  detailErrors: PropTypes.object,\r\n  onChangeDetailValue: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  constants: state.insurance.constants,\r\n});\r\n\r\nexport default connect(mapStateToProps)(TravelDetail);\r\n","/**\r\n * TravelDetailContainer.js\r\n * The detail container for travel\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport moment from 'moment';\r\nimport React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport ReactPixel from 'react-facebook-pixel';\r\n\r\n// Import Insurer Logos\r\nimport Logos from 'assets/images/InsurerLogos';\r\n\r\nimport RedirectPopup from 'components/Templates/RedirectPopup/RedirectPopup';\r\nimport TravelDetail from 'components/Travel/TravelDetail';\r\n\r\nimport { getAddToCartData } from 'lib/trackingHelper';\r\nimport { setCategoryNavBar } from 'actions/navActions';\r\nimport { postToRedirect, validateRestrictions } from 'actions/travelActions';\r\nimport { setInsuranceFormState, getAnonymousSession, getPostal, FORMSTATES } from 'actions/insuranceActions';\r\n\r\nimport { gaTag, gaEvent, ampTag } from 'lib/tagFunctions';\r\nimport { getFormValue } from 'lib/helperFunctions';\r\n\r\nimport {\r\n  normalIndividualFields,\r\n  etiqaMsigIndividualFields,\r\n  adultFields,\r\n  childFields,\r\n  getValuesToListen,\r\n  conditions,\r\n  getIndividualFields,\r\n} from './Travel.constants';\r\n\r\nclass TravelDetailContainer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { values, selectedPlanData, planType } = this.props;\r\n\r\n    let planDetails = {\r\n      logo: Logos.others,\r\n      logoDesc: '',\r\n      planName: '',\r\n      planTotal: null,\r\n    };\r\n\r\n    try {\r\n      let discountTripType = 'default';\r\n      const tripType = getFormValue(values.trip_type);\r\n      if (tripType) {\r\n        discountTripType = tripType === 'Single Trip' ? 'single' : 'annual';\r\n      }\r\n\r\n      const { premium } = selectedPlanData.policy_info[planType];\r\n      const discountData = selectedPlanData.info.discount ? selectedPlanData.info.discount[discountTripType] : null;\r\n      const discount = discountData ? premium.price * discountData.amount : null;\r\n\r\n      planDetails = {\r\n        logo: Logos[selectedPlanData.info.insurer_slug],\r\n        logoDesc: `${selectedPlanData.info.insurer_name}.svg`,\r\n        planName: selectedPlanData.info.product_name,\r\n        planTotal: `$${premium.net_price.toFixed(2)}`,\r\n        planSubTotal: `$${premium.price.toFixed(2)}`,\r\n        discountPercentage: discountData ? discountData.display : null,\r\n        discountAmount: discount && discount !== 0 ? `$${(premium.price * discountData.amount).toFixed(2)}` : null,\r\n        cashback: selectedPlanData.info.cashback ? `$${(selectedPlanData.info.cashback * premium.net_price).toFixed(2)}` : null,\r\n      };\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    if (values) {\r\n      this.state = {\r\n        planData: {\r\n          planType,\r\n          numAdults: getFormValue(values.num_adult),\r\n          numChildren: getFormValue(values.num_children),\r\n        },\r\n        planDetails,\r\n      };\r\n    }\r\n\r\n    this.travelRedirect = this.travelRedirect.bind(this);\r\n    this.submitCallback = this.submitCallback.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handlePostCode = this.handlePostCode.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { setFormState, doSetCategoryNavBar, selectedPlanData, planType, values } = this.props;\r\n    const { planTotal } = this.state.planDetails;\r\n\r\n    setFormState(FORMSTATES.DETAILFORM.index);\r\n\r\n    const trackData = getAddToCartData({\r\n      ..._.pick(selectedPlanData.info, ['insurer_slug', 'insurer_name', 'product_slug', 'product_name']),\r\n      values,\r\n      coverage_level: planType,\r\n      price: planTotal,\r\n    });\r\n    ReactPixel.track('AddToCart', trackData);\r\n\r\n    gaTag({\r\n      page_title: 'Travel - Detail Form',\r\n      page_path: '/travel/detailform',\r\n    });\r\n    ampTag('TravelDetailsS');\r\n    document.body.style.backgroundColor = '#F9FAFF';\r\n    doSetCategoryNavBar(true);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { doSetCategoryNavBar } = this.props;\r\n    document.body.style.backgroundColor = '#FFFFFF';\r\n    doSetCategoryNavBar(false);\r\n  }\r\n\r\n  async handlePostCode(values, onChangeDetailValue, isNormalAddress, formName = null) {\r\n    try {\r\n      if (values) {\r\n        const postcode = values.postal.value;\r\n        const result = await getPostal(postcode);\r\n        if (result) {\r\n          // const streetName = result.name === '' ? '' : `${result.name} `;\r\n          const street = result.street === '' ? '' : `${result.street} `;\r\n          const block = result.block === '' ? '' : `${result.block} `;\r\n          // let concatAddress = `${block}${streetName}${street}`;\r\n          let concatAddress = `${block}${street}`;\r\n\r\n          if (!isNormalAddress) {\r\n            onChangeDetailValue('text', 'blk_no', result.block, formName);\r\n            concatAddress = street;\r\n          }\r\n\r\n          onChangeDetailValue('text', 'address', concatAddress, formName);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n  }\r\n\r\n  async handleSubmit(tabView) {\r\n    const {\r\n      values,\r\n      detailValues,\r\n      selectedPlanData,\r\n      validateForm,\r\n    } = this.props;\r\n\r\n    try {\r\n      const numAdults = getFormValue(values.num_adult);\r\n      const numChildren = getFormValue(values.num_children);\r\n\r\n      const iFields = getIndividualFields(selectedPlanData);\r\n\r\n      const validateRestrictionParams = {\r\n        plan_type: getFormValue(values.plan_type),\r\n        trip_type: getFormValue(values.trip_type),\r\n        num_adult: numAdults.toString(),\r\n        num_children: numChildren.toString(),\r\n        insurer_slug: selectedPlanData.info.insurer_slug,\r\n        product_name: selectedPlanData.info.product_name,\r\n        birth_dates: {\r\n          adults: [],\r\n          children: [],\r\n        },\r\n      };\r\n\r\n      const adultName = getFormValue(values.plan_type) === 'Group' ? 'Person' : 'Adult';\r\n\r\n      let errorArray = null;\r\n      const errorPersons = [];\r\n      let errorTabIndex = null;\r\n\r\n      let validated = await validateForm('adult_0', null, iFields.fields, { insurer_slug: selectedPlanData.info.insurer_slug });\r\n      if (!validated) {\r\n        errorPersons.push(`${adultName} 1`);\r\n        errorTabIndex = 0;\r\n      } else {\r\n        validateRestrictionParams.birth_dates.adults.push(moment(getFormValue(detailValues.adult_0.birth_date)).format('DD/MM/YYYY'));\r\n      }\r\n\r\n      for (let i = 1; i < numAdults; ++i) {\r\n        const name = `adult_${i}`;\r\n        // eslint-disable-next-line\r\n        const validateResult = await validateForm(name, null, adultFields);\r\n        validated = validated ? validateResult : false;\r\n\r\n        if (!validateResult) {\r\n          errorPersons.push(`${adultName} ${i + 1}`);\r\n          errorTabIndex = i;\r\n        } else {\r\n          validateRestrictionParams.birth_dates.adults.push(moment(getFormValue(detailValues[name].birth_date)).format('DD/MM/YYYY'));\r\n        }\r\n      }\r\n\r\n      for (let i = 0; i < numChildren; ++i) {\r\n        const name = `child_${i}`;\r\n        // eslint-disable-next-line\r\n        const validateResult = await validateForm(name, null, childFields);\r\n        validated = validated ? validateResult : false;\r\n\r\n        if (!validateResult) {\r\n          errorPersons.push(`Child ${i + 1}`);\r\n          errorTabIndex = numAdults + i;\r\n        } else {\r\n          validateRestrictionParams.birth_dates.children.push(moment(getFormValue(detailValues[name].birth_date)).format('DD/MM/YYYY'));\r\n        }\r\n      }\r\n\r\n      if (!validated && errorPersons.length > 0) {\r\n        errorArray = _.reduce(errorPersons, (result, person, index) => {\r\n          const isLast = index === errorPersons.length - 1;\r\n          return `${result} ${person}${isLast ? '' : ','}`;\r\n        }, 'Forms not filled for: ');\r\n        errorArray = [<p className=\"error-string\" key=\"error-1\">{errorArray}</p>];\r\n      }\r\n\r\n      let restrictionValid = false;\r\n      if (validated) {\r\n        const restrictionResult = await validateRestrictions(validateRestrictionParams);\r\n        restrictionValid = restrictionResult && restrictionResult.valid;\r\n\r\n        if (!restrictionResult) {\r\n          errorArray = [<p className=\"error-string\" key=\"error-1\">Birth date validation failed! Please try again.</p>];\r\n        } else if (!restrictionResult.valid) {\r\n          errorArray = _.map(restrictionResult.errors, (error, index) => (\r\n            <p className=\"error-string\" key={`error-${index}`}>{error}</p>\r\n          ));\r\n        }\r\n\r\n        if (restrictionValid) {\r\n          gaEvent('Travel - DetailForm - Checkout', {\r\n            event_category: 'Travel',\r\n            event_label: 'Travel - DetailForm - Checkout',\r\n          });\r\n          ampTag('TravelCheckoutA', {\r\n            idtype: getFormValue(detailValues.adult_0.id_type),\r\n            nationality: getFormValue(detailValues.adult_0.nationality),\r\n            gender: getFormValue(detailValues.adult_0.gender),\r\n            marital: getFormValue(detailValues.adult_0.marital_status),\r\n            race: getFormValue(detailValues.adult_0.race),\r\n            occupation: getFormValue(detailValues.adult_0.occupation),\r\n          });\r\n\r\n          this.submitCallback();\r\n          return [];\r\n        }\r\n      }\r\n\r\n      if (tabView && errorTabIndex !== null) {\r\n        tabView.wrappedInstance.goToIndex(errorTabIndex);\r\n      }\r\n\r\n      if (!restrictionValid) {\r\n        window.scrollTo(0, document.body.scrollHeight);\r\n      }\r\n\r\n      return errorArray;\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return [];\r\n  }\r\n\r\n  submitCallback() {\r\n    const { selectedPlanData, history } = this.props;\r\n    if (selectedPlanData.info.deep_link.integration_type === 'webview') {\r\n      this.RedirectPop.openRedirectPopup();\r\n\r\n      return;\r\n    }\r\n\r\n    this.props.setFormState(FORMSTATES.CHECKOUT.index);\r\n    history.push(`/travel${FORMSTATES.CHECKOUT.path}`);\r\n  }\r\n\r\n  async travelRedirect() {\r\n    const {\r\n      values,\r\n      detailValues,\r\n      planType,\r\n      selectedPlanData,\r\n      handleAPI,\r\n    } = this.props;\r\n\r\n\r\n    const result = await handleAPI(() => postToRedirect(values, detailValues, selectedPlanData, planType));\r\n    if (result) {\r\n      if (selectedPlanData.info.insurer_slug === 'fwd') {\r\n        window.location = result.url;\r\n      } else if (selectedPlanData.info.insurer_slug === 'etiqa' || selectedPlanData.info.insurer_slug === 'tiq') {\r\n        while (this.redirectButton.firstChild) {\r\n          this.redirectButton.removeChild(this.redirectButton.firstChild);\r\n        }\r\n        const range = document.createRange();\r\n        this.redirectButton.appendChild(range.createContextualFragment(result.form_html));\r\n\r\n        setTimeout(() => window.$(`#${result.form_id}`).get(0).submit(), 300);\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { planData, planDetails } = this.state;\r\n    // const { history } = this.props;\r\n\r\n    return (\r\n      <div className=\"travel-detail-container\">\r\n        <TravelDetail\r\n          {...this.props}\r\n          planData={planData}\r\n          planDetails={planDetails}\r\n          // changePlan={() => {\r\n          //   history.goBack();\r\n          //   gaEvent('Travel - DetailForm - ChangePlan', {\r\n          //     event_category: 'Travel',\r\n          //     event_label: 'Travel - DetailForm - ChangePlan',\r\n          //   });\r\n          // }}\r\n          normalIndividualFields={normalIndividualFields}\r\n          etiqaMsigIndividualFields={etiqaMsigIndividualFields}\r\n          adultFields={adultFields}\r\n          childFields={childFields}\r\n          valuesToListen={getValuesToListen}\r\n          conditions={conditions}\r\n          getIndividualFields={getIndividualFields}\r\n          handlePostCode={this.handlePostCode}\r\n          handleSubmit={this.handleSubmit}\r\n        />\r\n        <RedirectPopup\r\n          ref={node => this.RedirectPop = node}\r\n          noEmail\r\n          onConfirm={this.travelRedirect}\r\n        />\r\n        <div className=\"redirect-button\" ref={node => this.redirectButton = node} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTravelDetailContainer.defaultProps = {\r\n};\r\n\r\nTravelDetailContainer.propTypes = {\r\n  setFormState: PropTypes.func.isRequired,\r\n  isLoggedIn: PropTypes.bool.isRequired,\r\n  piggyCallback: PropTypes.func.isRequired,\r\n  selectedPlanData: PropTypes.object.isRequired,\r\n  history: PropTypes.object.isRequired,\r\n  doSetCategoryNavBar: PropTypes.func.isRequired,\r\n};\r\n\r\n// const mapStateToProps = state => ({\r\n// });\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  getAnonymousSession: (params) => {\r\n    dispatch(getAnonymousSession(params, true));\r\n  },\r\n  setFormState: (state) => {\r\n    dispatch(setInsuranceFormState(state));\r\n  },\r\n  doSetCategoryNavBar: (isCategory) => {\r\n    dispatch(setCategoryNavBar(isCategory));\r\n  },\r\n});\r\n\r\nexport default withRouter(connect(null, mapDispatchToProps)(TravelDetailContainer));\r\n","/**\r\n * TravelRouteContainer.js\r\n * The wrapper container for travel\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport ReactPixel from 'react-facebook-pixel';\r\n\r\nimport StepProgressBar from 'components/Templates/StepProgressBar/StepProgressBarNew';\r\nimport RefreshTimer from 'components/Templates/RefreshTimer/RefreshTimer';\r\n\r\nimport { getPromoGiveaways, setInsuranceFormState, FORMSTATES } from 'actions/insuranceActions';\r\nimport { isProduction } from 'lib/tagFunctions';\r\nimport { routeHandler } from 'lib/helperFunctions';\r\nimport { validateForm, validateFormValue } from 'lib/validatorsV2';\r\n\r\nimport APILoader from 'components/Templates/APILoader/APILoader';\r\nimport TravelMainContainer from './TravelMainContainer';\r\nimport TravelChoosePlanContainer from './TravelChoosePlanContainer';\r\nimport TravelDetailContainer from './TravelDetailContainer';\r\nimport TravelCheckoutContainer from './TravelCheckoutContainer';\r\n\r\n// Default values\r\nimport { defaultValues } from './Travel.constants';\r\n\r\nclass TravelRouteContainer extends Component {\r\n  // Route handler\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const { formIndex, isMounted } = prevState;\r\n    const { formState, match, history } = nextProps;\r\n\r\n    if (isMounted) {\r\n      const routeResult = routeHandler('travel', formState, formIndex, match, history);\r\n      if (routeResult && routeResult.formIndex !== null) {\r\n        return ({\r\n          formIndex: routeResult.formIndex,\r\n        });\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const {\r\n      match,\r\n      history,\r\n    } = this.props;\r\n\r\n    // Check if first load is product page\r\n    const isProductPage = match && match.params && match.params.insurer && match.params.product;\r\n    // Check if first load if from TM Japan\r\n    const isXploraJapan = isProductPage && match.params.insurer === 'tokio_marine' && match.params.product === 'xplora_japan';\r\n\r\n    // Set default values\r\n    const newValues = { ...defaultValues };\r\n    if (isXploraJapan) {\r\n      newValues.countries = { type: 'multi_select', value: [{ display_name: 'Japan', value: 'Japan' }] };\r\n      newValues.region = { type: 'select', value: { display_name: 'Asia', value: 'Asia' } };\r\n    }\r\n\r\n    this.state = {\r\n      formIndex: 0,\r\n      selectedArray: [null, null, null],\r\n      selectionButtonIndex: 0,\r\n      planType: 'essential',\r\n      bypassParams: { ...match.params },\r\n      values: newValues,\r\n      errors: {},\r\n      detailValues: {},\r\n      detailErrors: {},\r\n      plansData: null,\r\n      selectedPlanData: null,\r\n      charged: false,\r\n      apiLoader: null,\r\n    };\r\n\r\n    // Reset route\r\n    history.replace(`/travel${history.location.search}`);\r\n\r\n    this.renderStepProgress = this.renderStepProgress.bind(this);\r\n    this.renderTravelForms = this.renderTravelForms.bind(this);\r\n\r\n    this.setCharged = this.setCharged.bind(this);\r\n    this.setSelectedArray = this.setSelectedArray.bind(this);\r\n    this.setSelectionButtonIndex = this.setSelectionButtonIndex.bind(this);\r\n    this.setPlanType = this.setPlanType.bind(this);\r\n    this.setPlansData = this.setPlansData.bind(this);\r\n    this.setSelectedPlanData = this.setSelectedPlanData.bind(this);\r\n\r\n    this.changeUserDetails = this.changeUserDetails.bind(this);\r\n    this.handleProductPage = this.handleProductPage.bind(this);\r\n\r\n    this.onChangeValue = this.onChangeValue.bind(this);\r\n    this.onChangeDetailValue = this.onChangeDetailValue.bind(this);\r\n    this.onUpdateValues = this.onUpdateValues.bind(this);\r\n    this.validateForm = this.validateForm.bind(this);\r\n    this.validateDetailsForm = this.validateDetailsForm.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { bypassParams } = this.state;\r\n    const {\r\n      history,\r\n      setFormState,\r\n      travelPromoGiveAway,\r\n      doGetPromoGiveaways,\r\n    } = this.props;\r\n\r\n    ReactPixel.track('CustomizeProduct');\r\n\r\n    // Prefill login details\r\n    this.changeUserDetails();\r\n    // Set to mounted\r\n    this.setState({\r\n      isMounted: true,\r\n      apiLoader: this.APILoader,\r\n    });\r\n\r\n    // If is product page, straight away go to choose plan\r\n    const isProductPage = bypassParams && bypassParams.insurer && bypassParams.product;\r\n    if (isProductPage) {\r\n      setFormState(FORMSTATES.CHOOSEPLAN.index);\r\n      history.push(`/travel${FORMSTATES.CHOOSEPLAN.path}/${bypassParams.insurer}/${bypassParams.product}`);\r\n    }\r\n\r\n    // Get promo giveaway\r\n    if (travelPromoGiveAway === undefined && this.APILoader) {\r\n      doGetPromoGiveaways();\r\n    }\r\n\r\n    window.scrollTo(0, 0);\r\n  }\r\n\r\n  // Update form values on change\r\n  async onChangeValue(type, name, value, fields) {\r\n    const {\r\n      values,\r\n      errors,\r\n    } = this.state;\r\n\r\n    try {\r\n      const error = errors && errors[name];\r\n      let newError = {};\r\n\r\n      if (error) {\r\n        newError = { [name]: await validateFormValue(name, { type, value }, values, fields) };\r\n      }\r\n\r\n      return new Promise((resolve) => {\r\n        this.setState({\r\n          values: {\r\n            ...values,\r\n            [name]: { type, value },\r\n          },\r\n          errors: { ...errors, ...newError },\r\n        }, resolve);\r\n      });\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  async onChangeDetailValue(type, name, value, detailName, fields) {\r\n    const {\r\n      detailValues,\r\n      detailErrors,\r\n    } = this.state;\r\n\r\n    try {\r\n      const error = detailErrors && detailErrors[detailName] && detailErrors[detailName][name];\r\n      let newError = {};\r\n\r\n      if (error) {\r\n        newError = { [name]: await validateFormValue(name, { type, value }, detailValues[detailName], fields) };\r\n      }\r\n\r\n      return new Promise((resolve) => {\r\n        this.setState({\r\n          detailValues: {\r\n            ...detailValues,\r\n            [detailName]: {\r\n              ...detailValues[detailName],\r\n              [name]: { type, value },\r\n            },\r\n          },\r\n          detailErrors: {\r\n            ...detailErrors,\r\n            [detailName]: {\r\n              ...detailErrors[detailName],\r\n              ...newError,\r\n            },\r\n          },\r\n        }, resolve);\r\n      });\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  async onUpdateValues(values) {\r\n    await new Promise((resolve) => {\r\n      this.setState({\r\n        values,\r\n      }, resolve);\r\n    });\r\n  }\r\n\r\n  setSelectedPlanData(selectedPlanData) {\r\n    this.setState({ selectedPlanData });\r\n  }\r\n\r\n  setSelectedArray(array) {\r\n    this.setState({ selectedArray: array });\r\n  }\r\n\r\n  setSelectionButtonIndex(index) {\r\n    this.setState({ selectionButtonIndex: index });\r\n  }\r\n\r\n  setPlanType(planType) {\r\n    this.setState({ planType });\r\n  }\r\n\r\n  async setCharged(charged) {\r\n    await new Promise(resolve => this.setState({ charged }, resolve));\r\n  }\r\n\r\n  setPlansData(plansData) {\r\n    if (!plansData) {\r\n      this.setState({\r\n        plansData: null,\r\n      });\r\n\r\n      return;\r\n    }\r\n\r\n    const newPlansData = { ...plansData };\r\n\r\n    try {\r\n      newPlansData.insurances_all = [...plansData.insurances, ...(plansData.insurances_prex || [])];\r\n\r\n      _.each(newPlansData, (plansArray) => {\r\n        _.each(plansArray, (plan) => {\r\n          if (plan && plan.info && plan.info.insurer_slug && plan.info.product_slug) {\r\n            // eslint-disable-next-line\r\n            plan.info.insurer_product_slug = `${plan.info.insurer_slug}_${plan.info.product_slug}`;\r\n          }\r\n        });\r\n      });\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n      // console.log(error);\r\n    }\r\n\r\n    this.setState({\r\n      plansData: newPlansData,\r\n    });\r\n  }\r\n\r\n  async validateForm(callback = null, fields = null, specialFields = null) {\r\n    const {\r\n      values,\r\n      errors,\r\n    } = this.state;\r\n\r\n    let newErrors = { ...errors };\r\n    try {\r\n      newErrors = await validateForm(values, null, fields, specialFields);\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return new Promise((resolve) => {\r\n      this.setState({\r\n        errors: newErrors,\r\n      }, () => {\r\n        if (_.isEmpty(newErrors)) {\r\n          if (callback) {\r\n            callback();\r\n          }\r\n          resolve(true);\r\n        }\r\n        resolve(false);\r\n      });\r\n    });\r\n  }\r\n\r\n  async validateDetailsForm(formName, callback = null, fields = null, specialFields = null) {\r\n    const {\r\n      detailValues,\r\n      detailErrors,\r\n    } = this.state;\r\n\r\n    let newErrors = { ...detailErrors[formName] };\r\n    try {\r\n      newErrors = await validateForm(detailValues[formName], null, fields, specialFields);\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return new Promise((resolve) => {\r\n      this.setState({\r\n        detailErrors: {\r\n          ...detailErrors,\r\n          [formName]: newErrors,\r\n        },\r\n      }, () => {\r\n        if (_.isEmpty(newErrors)) {\r\n          if (callback) {\r\n            callback();\r\n          }\r\n          resolve(true);\r\n        }\r\n        resolve(false);\r\n      });\r\n    });\r\n  }\r\n\r\n  changeUserDetails() {\r\n    const { detailValues } = this.state;\r\n    const { userDetails } = this.props;\r\n\r\n    if (userDetails) {\r\n      this.setState({\r\n        detailValues: {\r\n          ...detailValues,\r\n          adult_0: {\r\n            email: { type: 'email', value: userDetails.email },\r\n            given_name: { type: 'text', value: userDetails.firstName },\r\n            family_name: { type: 'text', value: userDetails.surname },\r\n            id_type: { type: 'select', value: { display_name: userDetails.id_type, value: userDetails.id_type } },\r\n            nric: { type: 'text', value: userDetails.nric },\r\n            nationality: { type: 'select', value: { display_name: userDetails.nationality, value: userDetails.nationality } },\r\n            birth_date: { type: 'date', value: moment(userDetails.dateOfBirth).toDate() },\r\n            gender: { type: 'select', value: { display_name: userDetails.gender, value: userDetails.gender } },\r\n            marital_status: { type: 'select', value: { display_name: userDetails.marital_status, value: userDetails.marital_status } },\r\n            race: { type: 'select', value: { display_name: userDetails.race, value: userDetails.race } },\r\n            occupation: { type: 'select', value: { display_name: userDetails.occupation, value: userDetails.occupation } },\r\n            mobile_number: { type: 'number', value: userDetails.contact },\r\n            address: { type: 'text', value: userDetails.address },\r\n            unit_no: { type: 'text', value: userDetails.unit_no },\r\n            postal: { type: 'text', value: userDetails.postal_code },\r\n          },\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  handleProductPage(insurerSlug, productSlug) {\r\n    const { history } = this.props;\r\n\r\n    if (insurerSlug && productSlug) {\r\n      history.push(`/travel${FORMSTATES.CHOOSEPLAN.path}/${insurerSlug}/${productSlug}`);\r\n    }\r\n  }\r\n\r\n  renderStepProgress() {\r\n    const { formIndex, charged } = this.state;\r\n\r\n    return (\r\n      <StepProgressBar\r\n        formState={formIndex}\r\n        inputList={[\r\n          'Choose Plan',\r\n          'Details',\r\n          'Checkout',\r\n        ]}\r\n        form=\"travel\"\r\n        stateList={[\r\n          FORMSTATES.CHOOSEPLAN,\r\n          FORMSTATES.DETAILFORM,\r\n          FORMSTATES.CHECKOUT,\r\n        ]}\r\n        stateDescriptions={[\r\n          { main: '' /* 'Choose your Plan', sub: 'Compare price plans from multiple companies' */ },\r\n          { main: 'Details' },\r\n          { main: 'Checkout -  Please check your details' },\r\n        ]}\r\n        charged={charged}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderTravelForms() {\r\n    const {\r\n      formIndex,\r\n      selectedArray,\r\n      selectionButtonIndex,\r\n      planType,\r\n      values,\r\n      errors,\r\n      detailValues,\r\n      detailErrors,\r\n      mainFields,\r\n      plansData,\r\n      selectedPlanData,\r\n      charged,\r\n      apiLoader,\r\n    } = this.state;\r\n\r\n    const { userDetails } = this.props;\r\n    const isLoggedIn = !_.isEmpty(userDetails);\r\n\r\n    const props = {\r\n      values,\r\n      errors,\r\n    };\r\n\r\n    switch (formIndex) {\r\n      case FORMSTATES.CHOOSEPLAN.index:\r\n        return (\r\n          <TravelChoosePlanContainer\r\n            {...props}\r\n            isLoggedIn={isLoggedIn}\r\n            setSelectedArray={this.setSelectedArray}\r\n            setSelectionButtonIndex={this.setSelectionButtonIndex}\r\n            selectedArray={selectedArray}\r\n            selectionButtonIndex={selectionButtonIndex}\r\n            planType={planType}\r\n            setPlanType={this.setPlanType}\r\n            handleProductPage={this.handleProductPage}\r\n            setSelectedPlanData={this.setSelectedPlanData}\r\n            onChangeValue={this.onChangeValue}\r\n            onUpdateValues={this.onUpdateValues}\r\n            mainFields={mainFields}\r\n            plansData={plansData}\r\n            selectedPlanData={selectedPlanData}\r\n            setPlansData={this.setPlansData}\r\n            handleAPI={apiLoader ? apiLoader.handleAPI : () => {}}\r\n            validateForm={this.validateForm}\r\n          />\r\n        );\r\n      case FORMSTATES.DETAILFORM.index:\r\n        return (\r\n          <TravelDetailContainer\r\n            isLoggedIn={isLoggedIn}\r\n            planType={planType}\r\n            piggyCallback={this.changeUserDetails}\r\n            values={values}\r\n            errors={errors}\r\n            onChangeValue={this.onChangeValue}\r\n            detailValues={detailValues}\r\n            detailErrors={detailErrors}\r\n            onChangeDetailValue={this.onChangeDetailValue}\r\n            plansData={plansData}\r\n            selectedPlanData={selectedPlanData}\r\n            handleAPI={apiLoader ? apiLoader.handleAPI : () => {}}\r\n            validateForm={this.validateDetailsForm}\r\n          />\r\n        );\r\n      case FORMSTATES.CHECKOUT.index:\r\n      case FORMSTATES.SUBMITTED.index:\r\n        return (\r\n          <TravelCheckoutContainer\r\n            values={values}\r\n            detailValues={detailValues}\r\n            planType={planType}\r\n            isLoggedIn={isLoggedIn}\r\n            charged={charged}\r\n            plansData={plansData}\r\n            selectedPlanData={selectedPlanData}\r\n            handleAPI={apiLoader ? apiLoader.handleAPI : () => {}}\r\n            setCharged={this.setCharged}\r\n          />\r\n        );\r\n      default:\r\n        return (\r\n          <TravelMainContainer\r\n            isLoggedIn={isLoggedIn}\r\n            values={values}\r\n            errors={errors}\r\n            onChangeValue={this.onChangeValue}\r\n            handleAPI={apiLoader ? apiLoader.handleAPI : () => {}}\r\n            validateForm={this.validateForm}\r\n            setPlansData={this.setPlansData}\r\n          />\r\n        );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { formIndex, apiLoader } = this.state;\r\n    const { constants } = this.props;\r\n\r\n    const checkoutStyle = formIndex === FORMSTATES.CHECKOUT.index ? 'travel-checkout-container' : '';\r\n    const meta = isProduction ? 'travel insurance, travel insurance \bsingapore, travel insurance discount, travel insurance promotion,  singapore travel insurance, buy travel insurance, buy travel insurance online, singapore travel insurance promotion, travel insurance singapore comparison, best travel insurance singapore, travel insurance comparison singapore, best travel insurance, travel insurance compare, compare travel insurance singapore, travel insurance comparison, travel insurance online, compare travel insurance, Annual travel insurance promotion, travel insurance direct, single trip travel insurance, policypal travel insurance' : '';\r\n    return (\r\n      <div className={checkoutStyle}>\r\n        <Helmet>\r\n          <meta name=\"keywords\" content={meta} />\r\n          <title>PolicyPal 2.0 - Travel Insurance</title>\r\n          <meta name=\"title\" content=\"PolicyPal 2.0 - Travel Insurance\" />\r\n          <meta name=\"description\" content=\"Browse products for travel insurance.\" />\r\n        </Helmet>\r\n        {\r\n          constants && apiLoader &&\r\n          <Fragment>\r\n            {this.renderStepProgress()}\r\n            {this.renderTravelForms()}\r\n          </Fragment>\r\n        }\r\n        <RefreshTimer ref={(node) => {\r\n            if (!this.refresher) {\r\n              node.invokeNewTimer();\r\n            }\r\n            this.refresher = node;\r\n          }}\r\n        />\r\n        <APILoader ref={(node) => { this.APILoader = node; }} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTravelRouteContainer.defaultProps = {\r\n  userDetails: null,\r\n  travelPromoGiveAway: undefined,\r\n  constants: null,\r\n};\r\n\r\nTravelRouteContainer.propTypes = {\r\n  userDetails: PropTypes.object,\r\n  travelPromoGiveAway: PropTypes.object,\r\n  constants: PropTypes.object,\r\n  history: PropTypes.object.isRequired,\r\n  setFormState: PropTypes.func.isRequired,\r\n  match: PropTypes.object.isRequired,\r\n  doGetPromoGiveaways: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  formState: state.insurance.formState,\r\n  travelPromoGiveAway: state.insurance.promoGiveaways.travel,\r\n  userDetails: state.userDetails.data,\r\n  constants: state.insurance.constants,\r\n  login: state.login,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setFormState: (state) => {\r\n    dispatch(setInsuranceFormState(state));\r\n  },\r\n  doGetPromoGiveaways: () => dispatch(getPromoGiveaways('travel')),\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(TravelRouteContainer));\r\n","/**\r\n * FormInputWrapper.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './FormInputWrapper.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass FormInputWrapper extends Component {\r\n  render() {\r\n    const {\r\n      extraInfo,\r\n      desc,\r\n      errorString,\r\n      smallMargin,\r\n      className,\r\n      isDateRange,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div\r\n        className={['input-wrapper-main-v3 input-wrapper-error', smallMargin && 'my-1', className].join(' ')}\r\n      >\r\n        {\r\n          // eslint-disable-next-line\r\n          isDateRange ?\r\n            <div className=\"d-flex\">\r\n              <p className=\"input-wrapper-desc w-50\">Start Date</p>\r\n              <p className=\"input-wrapper-desc w-50\">End Date</p>\r\n            </div>\r\n          :\r\n          desc !== null ?\r\n            <p className=\"input-wrapper-desc\">{desc}</p>\r\n          :\r\n            null\r\n        }\r\n        {this.props.children}\r\n        {\r\n          extraInfo !== null ?\r\n            <div className=\"extra-info-container\">\r\n              {extraInfo}\r\n            </div>\r\n          :\r\n            null\r\n        }\r\n        {\r\n          errorString !== null ?\r\n            <div className=\"input-wrapper-error-text\">\r\n              <p>{errorString}</p>\r\n            </div>\r\n          :\r\n            null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nFormInputWrapper.defaultProps = {\r\n  desc: null,\r\n  extraInfo: null,\r\n  errorString: null,\r\n  smallMargin: false,\r\n  className: '',\r\n  isDateRange: false,\r\n};\r\n\r\n\r\nFormInputWrapper.propTypes = {\r\n  desc: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  errorString: PropTypes.string,\r\n  smallMargin: PropTypes.bool,\r\n  className: PropTypes.string,\r\n  isDateRange: PropTypes.bool,\r\n};\r\n\r\nexport default FormInputWrapper;\r\n","/**\r\n * Referral.js\r\n * Referral Page For PolicyPal\r\n *\r\n * @version 0.0.1\r\n * @author [Nicolette](nicolette@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport Slider from 'react-slick';\r\n\r\nimport './slick.scss';\r\nimport './slick-theme.scss';\r\nimport './ReactSlickCarousel.scss';\r\n\r\nclass ReactSlickCarousel extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"react-slick-carousel\">\r\n        <Slider\r\n          {...this.props}\r\n        >\r\n          {this.props.children}\r\n        </Slider>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ReactSlickCarousel;\r\n","/**\r\n * ChangeInitialFormData.js\r\n * This is the green pencil button that appears mainly on\r\n * the compare view which will render the Edit Detail forms\r\n * of each category.\r\n *\r\n * Users will be able to change that form through this component\r\n * and will do a callback to update any changes, eg for compare view.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport {\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n} from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './ModalPopup.scss';\r\n\r\nclass ModalPopup extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      showModal: props.showModal,\r\n    };\r\n\r\n    this.setHiddenAuto = this.setHiddenAuto.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { showModal } = this.props;\r\n\r\n    if (!showModal) {\r\n      this.setHiddenAuto();\r\n    }\r\n  }\r\n\r\n  // Toggle modal\r\n  componentWillReceiveProps(nextProps) {\r\n    const { showModal } = this.props;\r\n    if (nextProps.showModal !== showModal) {\r\n      this.setState({ showModal: nextProps.showModal });\r\n\r\n      if (!nextProps.showModal) {\r\n        this.setHiddenAuto();\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.setHiddenInterval);\r\n  }\r\n\r\n\r\n  setHiddenAuto() {\r\n    clearInterval(this.setHiddenInterval);\r\n    this.setHiddenInterval = setInterval(() => {\r\n      if (!this.props.showModal && !_.includes(document.body.style.overflow, 'auto')) {\r\n        document.body.style.overflow = 'hidden auto';\r\n        clearInterval(this.setHiddenInterval);\r\n      }\r\n    }, 100);\r\n  }\r\n\r\n  render() {\r\n    const { showModal } = this.state;\r\n    const {\r\n      closeModal,\r\n      header,\r\n      body,\r\n      footer,\r\n      className,\r\n      backdropClassName,\r\n      zIndex,\r\n    } = this.props;\r\n\r\n    return (\r\n      <Modal\r\n        isOpen={showModal}\r\n        size=\"lg\"\r\n        className={`modal-popup-custom ${className}`}\r\n        backdropClassName={backdropClassName}\r\n        zIndex={zIndex}\r\n      >\r\n        {\r\n          header &&\r\n          <ModalHeader\r\n            tag=\"h3\"\r\n            toggle={closeModal}\r\n          >\r\n            {header}\r\n          </ModalHeader>\r\n        }\r\n        {\r\n          body &&\r\n          <ModalBody>\r\n            {body}\r\n          </ModalBody>\r\n        }\r\n        {\r\n          footer &&\r\n          <ModalFooter>\r\n            {footer}\r\n          </ModalFooter>\r\n        }\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nModalPopup.defaultProps = {\r\n  showModal: false,\r\n  header: null,\r\n  body: null,\r\n  footer: null,\r\n  className: null,\r\n  backdropClassName: null,\r\n  zIndex: 1050,\r\n};\r\n\r\nModalPopup.propTypes = {\r\n  showModal: PropTypes.bool,\r\n  closeModal: PropTypes.func.isRequired,\r\n  header: PropTypes.object,\r\n  body: PropTypes.object,\r\n  footer: PropTypes.object,\r\n  className: PropTypes.string,\r\n  backdropClassName: PropTypes.string,\r\n  zIndex: PropTypes.number,\r\n};\r\n\r\nexport default ModalPopup;\r\n","/**\r\n * DropDown.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Input } from 'reactstrap';\r\nimport MagnifyGlass from 'assets/images/forms/magnifyGlass.svg';\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport './TextInput.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass TextInput extends Component {\r\n  render() {\r\n    const {\r\n      name,\r\n      desc,\r\n      placeholderString,\r\n      extraInfo,\r\n      errorString,\r\n      value,\r\n      onChange,\r\n      handlePostCode,\r\n      rows,\r\n      noInternalDesc,\r\n      type,\r\n      toUpper,\r\n      readOnly,\r\n    } = this.props;\r\n\r\n    // eslint-disable-next-line\r\n    const inputType = type === 'password' ? 'password' : type === 'textarea' ? 'textarea' : type === 'number' ? 'number' : '';\r\n\r\n    const errorStyle = errorString ? 'error' : '';\r\n    const titleStyle = value ? 'focused-title' : '';\r\n    const textareaStyle = inputType === 'textarea' ? 'textarea-padding' : '';\r\n    const inputStyle = inputType === 'textarea' ? '' : 'absolute-input';\r\n    const noInternalDescStyle = noInternalDesc ? 'no-internal-desc' : '';\r\n    const readOnlyStyle = readOnly ? 'read-only' : '';\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        desc={desc}\r\n        extraInfo={extraInfo}\r\n        errorString={errorString}\r\n      >\r\n        <div className=\"position-relative\">\r\n          <div\r\n            className={`text-input-container-v3 ${textareaStyle} ${errorStyle} ${readOnlyStyle}`}\r\n          >\r\n            {\r\n              !noInternalDesc &&\r\n              <div className={`title-header ${titleStyle}`}>\r\n                {placeholderString}\r\n              </div>\r\n            }\r\n            <div className={['text-input', noInternalDescStyle, inputStyle].join(' ')}>\r\n              <Input\r\n                className=\"text\"\r\n                type={inputType}\r\n                placeholder={(noInternalDesc && placeholderString) || ''}\r\n                name={name}\r\n                value={value || ''}\r\n                onChange={e => onChange(type, name, e.target.value && toUpper ? e.target.value.toUpperCase() : e.target.value)}\r\n                rows={rows}\r\n                disabled={readOnly}\r\n              />\r\n            </div>\r\n            {\r\n              type === 'postal' && handlePostCode ?\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"postcode\"\r\n                  onClick={handlePostCode}\r\n                >\r\n                  <img src={MagnifyGlass} alt=\"magGlass.svg\" />\r\n                </button>\r\n              :\r\n                null\r\n            }\r\n          </div>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nTextInput.defaultProps = {\r\n  value: null,\r\n  desc: null,\r\n  extraInfo: null,\r\n  errorString: null,\r\n  handlePostCode: null,\r\n  rows: 4,\r\n  noInternalDesc: false,\r\n  toUpper: false,\r\n  readOnly: false,\r\n};\r\n\r\n\r\nTextInput.propTypes = {\r\n  placeholderString: PropTypes.string.isRequired,\r\n  value: PropTypes.string,\r\n  name: PropTypes.string.isRequired,\r\n  desc: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  errorString: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  handlePostCode: PropTypes.func,\r\n  rows: PropTypes.number,\r\n  noInternalDesc: PropTypes.bool,\r\n  type: PropTypes.string.isRequired,\r\n  toUpper: PropTypes.bool,\r\n  readOnly: PropTypes.bool,\r\n};\r\n\r\nexport default TextInput;\r\n","// Day Text for display\r\nexport const dayTextList = [\r\n  'SU',\r\n  'MO',\r\n  'TU',\r\n  'WE',\r\n  'TH',\r\n  'FR',\r\n  'SA',\r\n];\r\n\r\n// Month text for display\r\nexport const monthTextMapping = [\r\n  'January',\r\n  'Feburary',\r\n  'March',\r\n  'April',\r\n  'May',\r\n  'June',\r\n  'July',\r\n  'August',\r\n  'September',\r\n  'October',\r\n  'November',\r\n  'December',\r\n];\r\n\r\n// Height for medium dropdown\r\nexport const defaultHeight = 48;\r\n// Default year range if not user defined\r\nexport const deafultYearRange = 100;\r\n","/**\r\n * DateInner.js\r\n * DateView only for rendering\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport PropTypes from 'prop-types';\r\nimport React, { Component } from 'react';\r\nimport {\r\n  UncontrolledDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n} from 'reactstrap';\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\n\r\nimport { monthTextMapping } from '../DatePicker.constants';\r\n\r\nimport './MonthYearSelector.scss';\r\n\r\n// Height for month and year dropdown items\r\nconst itemHeight = 32;\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass MonthYearSelector extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.updateScrollPosition = this.updateScrollPosition.bind(this);\r\n  }\r\n\r\n  updateScrollPosition() {\r\n    const {\r\n      currDisplayDate,\r\n      dateRangeStart,\r\n      isYear,\r\n    } = this.props;\r\n\r\n    try {\r\n      const height = itemHeight * (isYear ? currDisplayDate.getFullYear() - dateRangeStart.getFullYear() : currDisplayDate.getMonth());\r\n\r\n      // Update year scroll position to current year\r\n      if (this.scrollInput) {\r\n        setTimeout(() => this.scrollInput.scrollTop(height), 10);\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n  }\r\n\r\n  /**\r\n   * renderMonths\r\n   *\r\n   * Render months dropdown\r\n   */\r\n  renderMonths() {\r\n    const {\r\n      currDisplayDate,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      setCalender,\r\n    } = this.props;\r\n\r\n    try {\r\n      const startYear = dateRangeStart.getFullYear();\r\n      const endYear = dateRangeEnd.getFullYear();\r\n      const currYear = currDisplayDate.getFullYear();\r\n\r\n      const startMonth = currYear === startYear ? dateRangeStart.getMonth() : 0;\r\n      const endMonth = currYear === endYear ? dateRangeEnd.getMonth() : 11;\r\n\r\n      return _.reduce(monthTextMapping, (result, item, index) => {\r\n        if (startMonth <= index && index <= endMonth) {\r\n          const jsx = (\r\n            <DropdownItem\r\n              onClick={() => {\r\n                setCalender(index, currYear);\r\n              }}\r\n              key={`month-${index.toString()}`}\r\n            >\r\n              {item}\r\n            </DropdownItem>\r\n          );\r\n          result.push(jsx);\r\n        }\r\n\r\n        return result;\r\n      }, []);\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * renderYears\r\n   *\r\n   * Render years dropdown\r\n   */\r\n  renderYears() {\r\n    const {\r\n      currDisplayDate,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      setCalender,\r\n    } = this.props;\r\n\r\n    try {\r\n      const start = dateRangeStart.getFullYear();\r\n      const end = dateRangeEnd.getFullYear();\r\n\r\n      const result = [];\r\n      for (let i = start; i <= end; ++i) {\r\n        result.push((\r\n          <DropdownItem\r\n            onClick={() => {\r\n              setCalender(currDisplayDate.getMonth(), i);\r\n            }}\r\n            key={`year-${i.toString()}`}\r\n          >\r\n            {i}\r\n          </DropdownItem>\r\n        ));\r\n      }\r\n\r\n      return result;\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const { isYear, currDisplayDate, isSingle } = this.props;\r\n\r\n    try {\r\n      const dateToUse = new Date(currDisplayDate.getFullYear(), currDisplayDate.getMonth(), 1);\r\n\r\n      let displayText = '';\r\n\r\n      if (isYear) {\r\n        displayText = dateToUse.getFullYear();\r\n      } else {\r\n        const month = dateToUse.getMonth();\r\n        displayText = monthTextMapping[month];\r\n      }\r\n\r\n      if (!isSingle) {\r\n        return <p>{displayText}</p>;\r\n      }\r\n\r\n      return (\r\n        <div className=\"month-year-selector\">\r\n          <UncontrolledDropdown>\r\n            <div ref={(dateMonthInput) => { this.dateMonthInput = dateMonthInput; }}>\r\n              <DropdownToggle\r\n                caret\r\n                outline\r\n                onClick={this.updateScrollPosition}\r\n              >\r\n                {displayText}\r\n              </DropdownToggle>\r\n            </div>\r\n            <DropdownMenu>\r\n              <Scrollbars\r\n                autoHeight\r\n                ref={(scrollInput) => { this.scrollInput = scrollInput; }}\r\n              >\r\n                {isYear ? this.renderYears() : this.renderMonths()}\r\n              </Scrollbars>\r\n            </DropdownMenu>\r\n          </UncontrolledDropdown>\r\n        </div>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\nMonthYearSelector.defaultProps = {\r\n  isYear: false,\r\n  isSingle: false,\r\n};\r\n\r\nMonthYearSelector.propTypes = {\r\n  isYear: PropTypes.bool,\r\n  setCalender: PropTypes.func.isRequired,\r\n  currDisplayDate: PropTypes.instanceOf(Date).isRequired,\r\n  dateRangeStart: PropTypes.instanceOf(Date).isRequired,\r\n  dateRangeEnd: PropTypes.instanceOf(Date).isRequired,\r\n  isSingle: PropTypes.bool,\r\n};\r\n\r\nexport default MonthYearSelector;\r\n","/**\r\n * DateInner.js\r\n * DateView only for rendering\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\n\r\nimport { dayTextList /* , deafultYearRange */ } from '../DatePicker.constants';\r\n\r\nimport './DaysList.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass DaysList extends Component {\r\n  /**\r\n   * renderDaysText\r\n   *\r\n   * Render the days text\r\n   */\r\n  renderDaysText() {\r\n    return _.map(dayTextList, day => (\r\n      <Col\r\n        xs=\"auto\"\r\n        className=\"days\"\r\n        key={day}\r\n      >\r\n        <p>{day}</p>\r\n      </Col>\r\n    ));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Row className=\"days-list-container\" noGutters>\r\n        <Col className=\"days-list-inner\" xs={12}>\r\n          <Row className=\"w-100\" noGutters>\r\n            {this.renderDaysText()}\r\n          </Row>\r\n        </Col>\r\n        <Col className=\"days-list-divider\" xs={12} />\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DaysList;\r\n","/**\r\n * DateInner.js\r\n * DateView only for rendering\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React, { Component } from 'react';\r\nimport {\r\n  Row,\r\n  Col,\r\n} from 'reactstrap';\r\n\r\nimport './Calender.scss';\r\n\r\n/**\r\n * Calender\r\n *\r\n * Render calender days for range selection\r\n */\r\nclass Calender extends Component {\r\n  render() {\r\n    const {\r\n      dateRangeEndOverwrite,\r\n      isSelectingStartDate,\r\n      startValue,\r\n      endValue,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      setSelectedDate,\r\n      isRange,\r\n      currDisplayDate,\r\n      hoverDate,\r\n      setDateRangeEndOverwrite,\r\n      setHoverDate,\r\n      offsetDays,\r\n    } = this.props;\r\n\r\n    const currFirstDay = new Date(currDisplayDate);\r\n    currFirstDay.setDate(1);\r\n\r\n    const currLastDay = new Date(currFirstDay.getFullYear(), currFirstDay.getMonth() + 1, 0);\r\n\r\n    const currFirstDayTime = currFirstDay.getTime();\r\n    const currLastDayTime = currLastDay.getTime();\r\n\r\n    const month = currFirstDay.getMonth();\r\n    const year = currFirstDay.getFullYear();\r\n\r\n    // Get the starting blank days of the calender\r\n    const startIndex = currFirstDay.getDay();\r\n    // Get the end day\r\n    const endIndex = currLastDay.getDate();\r\n\r\n    // Get starting time\r\n    const currHoverTime = hoverDate && hoverDate.getTime();\r\n    const startTime = startValue && startValue.getTime();\r\n    const endTime = endValue && endValue.getTime();\r\n\r\n    let startTimeToUse = startTime;\r\n    let endTimetoUse = endTime;\r\n\r\n    const fixedDateTime = isSelectingStartDate ? endTime : startTime;\r\n    const nonfixedDateTime = !isSelectingStartDate ? endTime : startTime;\r\n\r\n    if (hoverDate) {\r\n      // eslint-disable-next-line\r\n      startTimeToUse = currHoverTime < fixedDateTime ? currHoverTime : fixedDateTime;\r\n      // eslint-disable-next-line\r\n      endTimetoUse = currHoverTime > fixedDateTime ? currHoverTime : fixedDateTime;\r\n    }\r\n\r\n    const result = [];\r\n\r\n    // These are blank elements to simulate last month dates\r\n    for (let i = 0; i < startIndex; ++i) {\r\n      result.push(<div className=\"date-col\" key={`blank${i.toString()}`} />);\r\n    }\r\n\r\n    for (let i = 1; i <= endIndex; ++i) {\r\n      const currDay = new Date(year, month, i);\r\n      const currDayOfWeek = currDay.getDay();\r\n      const currTime = currDay.getTime();\r\n\r\n      const isSat = currDayOfWeek === 6;\r\n      const isSun = currDayOfWeek === 0;\r\n      const isStartDate = startTimeToUse === currTime;\r\n      const isEndDate = endTimetoUse === currTime;\r\n      const isWithin = startTimeToUse && endTimetoUse && startTimeToUse < currTime && currTime < endTimetoUse;\r\n      const isFirstDay = currFirstDayTime === currTime;\r\n      const isLastDay = currLastDayTime === currTime;\r\n\r\n      const isSameDay = startTimeToUse === endTimetoUse || (hoverDate && fixedDateTime === currHoverTime);\r\n      const isLeftBlockActive = !isSameDay && (!isSun && !isFirstDay) && ((isEndDate && startTimeToUse)\r\n                                || isWithin);\r\n      const isRightBlockActive = !isSameDay && (!isSat && !isLastDay) && ((isStartDate && endTimetoUse)\r\n                                || isWithin);\r\n      const isDayActive = isStartDate || isEndDate;\r\n      const isEndActive = isDayActive || (isWithin && (isSat || isSun || isFirstDay || isLastDay));\r\n\r\n      // Left bock, right block, circle block and selected circle block\r\n      const leftBlockStyle = isLeftBlockActive ? 'left-active' : 'left-inactive';\r\n      const rightBlockStyle = isRightBlockActive ? 'right-active' : 'right-inactive';\r\n      const endBlockStyle = isEndActive ? 'end-active' : 'end-inactive';\r\n      const dayStyle = isDayActive ? 'day-active' : 'day-inactive';\r\n      const focusStyle = (currHoverTime && currHoverTime === currTime) || (!currHoverTime && nonfixedDateTime === currTime) ? 'day-focus' : '';\r\n\r\n      // Check if day is in within selected range\r\n      let isBlocked = false;\r\n      // if (isRange) {\r\n      //   if (isSelectingStartDate && endValue) {\r\n      //     // isBlocked = currDay > endValue;\r\n      //   } else if (!isSelectingStartDate && startValue) {\r\n      //     // isBlocked = currDay < startValue;\r\n      //   }\r\n      // }\r\n\r\n      // Check if day is out of calender range\r\n      if (!isBlocked) {\r\n        isBlocked = currDay < dateRangeStart || currDay > (dateRangeEndOverwrite || dateRangeEnd);\r\n      }\r\n\r\n      result.push((\r\n        <Col\r\n          key={`day${i.toString()}`}\r\n          className=\"date-col\"\r\n          xs=\"auto\"\r\n        >\r\n          <button\r\n            className=\"day-container\"\r\n            type=\"button\"\r\n            onClick={() => {\r\n              if (!isBlocked) {\r\n                const { isSelectingStartDate: isSelectingStartDateCurr } = this.props;\r\n                setSelectedDate(new Date(year, month, i), isSelectingStartDateCurr);\r\n                setHoverDate(null);\r\n\r\n                if (isRange && isSelectingStartDateCurr) {\r\n                  setDateRangeEndOverwrite(new Date(year, month, i + offsetDays));\r\n                }\r\n              }\r\n            }}\r\n            onMouseEnter={() => {\r\n                if (!isBlocked) {\r\n                  setHoverDate(new Date(year, month, i));\r\n                }\r\n            }}\r\n            onMouseLeave={() => {\r\n                // if (!isSelectingStartDate) {\r\n                  setHoverDate(null);\r\n                // }\r\n            }}\r\n          >\r\n            <div className={`day-range  ${leftBlockStyle}`} />\r\n            <div className={`day-range  ${rightBlockStyle}`} />\r\n            <div className={`${endBlockStyle}`} />\r\n            {\r\n              isBlocked ?\r\n                <div className=\"day-disabled\">\r\n                  <p className=\"blocked\">{i}</p>\r\n                </div>\r\n              :\r\n                <div className={`day ${dayStyle} ${focusStyle}`}>\r\n                  <p>{i}</p>\r\n                </div>\r\n            }\r\n          </button>\r\n        </Col>\r\n      ));\r\n    }\r\n\r\n    return (\r\n      <Row className=\"calender-container\" noGutters>\r\n        {result}\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nCalender.defaultProps = {\r\n  startValue: null,\r\n  endValue: null,\r\n  dateRangeEndOverwrite: null,\r\n  currDisplayDate: null,\r\n  hoverDate: null,\r\n  offsetDays: 0,\r\n};\r\n\r\nCalender.propTypes = {\r\n  isRange: PropTypes.bool.isRequired,\r\n  startValue: PropTypes.instanceOf(Date),\r\n  endValue: PropTypes.instanceOf(Date),\r\n  dateRangeStart: PropTypes.instanceOf(Date).isRequired,\r\n  dateRangeEnd: PropTypes.instanceOf(Date).isRequired,\r\n  dateRangeEndOverwrite: PropTypes.instanceOf(Date),\r\n  currDisplayDate: PropTypes.instanceOf(Date),\r\n  hoverDate: PropTypes.instanceOf(Date),\r\n  setSelectedDate: PropTypes.func.isRequired,\r\n  isSelectingStartDate: PropTypes.bool.isRequired,\r\n  setDateRangeEndOverwrite: PropTypes.func.isRequired,\r\n  setHoverDate: PropTypes.func.isRequired,\r\n  offsetDays: PropTypes.number,\r\n};\r\n\r\nexport default Calender;\r\n","/**\r\n * DateInner.js\r\n * DateView only for rendering\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport PropTypes from 'prop-types';\r\nimport React, { Component, Fragment } from 'react';\r\nimport {\r\n  Row,\r\n  Col,\r\n} from 'reactstrap';\r\nimport moment from 'moment';\r\n\r\nimport CloseIcon from 'assets/images/common/CloseIcon.svg';\r\nimport Arrow from 'assets/images/forms/arrow.svg';\r\nimport Triangle from 'assets/images/forms/triangle.svg';\r\n\r\nimport MonthYearSelector from '../MonthYearSelector/MonthYearSelector';\r\nimport DaysList from '../DaysList/DaysList';\r\nimport Calender from '../Calender/Calender';\r\n\r\nimport './DateInner.scss';\r\n\r\nconst SINGLE = 0;\r\nconst MULTIPLELEFT = 1;\r\nconst MULTIPLERIGHT = 2;\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass DateInner extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      hoverDate: null,\r\n      dateRangeEndOverwrite: null,\r\n    };\r\n\r\n    this.setCalender = this.setCalender.bind(this);\r\n    this.setDateRangeEndOverwrite = this.setDateRangeEndOverwrite.bind(this);\r\n  }\r\n\r\n  // componentDidUpdate(prevProps) {\r\n  //   const { startValue } = this.props;\r\n\r\n  //   if (!isDateEqual(startValue, prevProps.startValue)) {\r\n  //     this.setDateRangeEndOverwrite(startValue);\r\n  //   }\r\n  // }\r\n\r\n  setDateRangeEndOverwrite(value) {\r\n    const {\r\n      dateRangeEnd,\r\n      offsetDays,\r\n    } = this.props;\r\n\r\n    let newEnd = value;\r\n\r\n    if (dateRangeEnd) {\r\n      const maxEnd = moment(dateRangeEnd).add(offsetDays, 'days').toDate();\r\n      newEnd = newEnd > maxEnd ? maxEnd : newEnd;\r\n    }\r\n\r\n    this.setState({ dateRangeEndOverwrite: newEnd });\r\n  }\r\n\r\n  /**\r\n   * setCalender\r\n   *\r\n   * Set visible calender\r\n   *\r\n   * @param {number} month\r\n   * @param {number} year\r\n   */\r\n  setCalender(month, year) {\r\n    const {\r\n      dateRangeEndOverwrite,\r\n    } = this.state;\r\n\r\n    const {\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      setNewDisplayDate,\r\n    } = this.props;\r\n\r\n    let date = new Date(year, month);\r\n\r\n    // Cap date range\r\n    if (date < dateRangeStart) {\r\n      date = dateRangeStart;\r\n    } else if (date > (dateRangeEndOverwrite || dateRangeEnd)) {\r\n      date = dateRangeEndOverwrite && dateRangeEndOverwrite > dateRangeEnd ? dateRangeEndOverwrite : dateRangeEnd;\r\n    }\r\n\r\n    setNewDisplayDate(date);\r\n  }\r\n\r\n  renderMonthSelectorArrows(isBack, month, year) {\r\n    const { isRange, isResp } = this.props;\r\n\r\n    return (\r\n      <Col\r\n        xs={1}\r\n        className=\"date-arrow-style\"\r\n      >\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => {\r\n            // eslint-disable-next-line\r\n            this.setCalender(isBack ? month - 1 : (isRange && !isResp ? month : month + 1), year);\r\n          }}\r\n        >\r\n          <img\r\n            src={Arrow}\r\n            alt=\"arrow.svg\"\r\n            className={isBack ? 'angle-left' : 'angle-right'}\r\n          />\r\n        </button>\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * renderDateInner\r\n   *\r\n   * Render the popup od the datepicker\r\n   */\r\n  renderDateInner(type) {\r\n    const { dateRangeEndOverwrite, hoverDate } = this.state;\r\n\r\n    const {\r\n      currDisplayDate,\r\n      isRange,\r\n      setSelectedDate,\r\n      startValue,\r\n      endValue,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      isSelectingStartDate,\r\n      isResp,\r\n      offsetDays,\r\n    } = this.props;\r\n\r\n    const dateToUse = new Date(currDisplayDate.getFullYear(), currDisplayDate.getMonth(), 1);\r\n    if (type === MULTIPLERIGHT) {\r\n      dateToUse.setMonth(dateToUse.getMonth() + 1);\r\n    }\r\n\r\n    const month = dateToUse.getMonth();\r\n    const year = dateToUse.getFullYear();\r\n\r\n    let upperStyle = '';\r\n    if (isRange && !isResp) {\r\n      upperStyle = type === MULTIPLERIGHT ? 'range-right' : 'range-left';\r\n    }\r\n\r\n    return (\r\n      <div className=\"date-inner-container\">\r\n        {\r\n          type !== MULTIPLERIGHT ?\r\n            <div\r\n              role=\"button\"\r\n              className=\"close-button-container\"\r\n              onKeyPress={() => {}}\r\n              onClick={() => {\r\n                setSelectedDate(startValue, true);\r\n                setSelectedDate(endValue, false);\r\n              }}\r\n              tabIndex={-1}\r\n            >\r\n              <img src={CloseIcon} className=\"close-icon\" alt=\"close\" />\r\n            </div>\r\n            : null\r\n        }\r\n        <Row className={upperStyle} noGutters>\r\n          {type !== MULTIPLERIGHT && this.renderMonthSelectorArrows(true, month, year)}\r\n          <Col xs={6} className=\"selector-left\">\r\n            <MonthYearSelector\r\n              setCalender={this.setCalender}\r\n              currDisplayDate={dateToUse}\r\n              dateRangeStart={dateRangeStart}\r\n              dateRangeEnd={dateRangeEnd}\r\n              isSingle={type === SINGLE}\r\n            />\r\n          </Col>\r\n          <Col xs={4} className=\"selector-right\">\r\n            <MonthYearSelector\r\n              isYear\r\n              setCalender={this.setCalender}\r\n              currDisplayDate={dateToUse}\r\n              dateRangeStart={dateRangeStart}\r\n              dateRangeEnd={dateRangeEnd}\r\n              isSingle={type === SINGLE}\r\n            />\r\n          </Col>\r\n          {type !== MULTIPLELEFT && this.renderMonthSelectorArrows(false, month, year)}\r\n        </Row>\r\n        <DaysList />\r\n        <Calender\r\n          isRange={isRange}\r\n          startValue={startValue}\r\n          endValue={endValue}\r\n          dateRangeStart={dateRangeStart}\r\n          dateRangeEnd={dateRangeEnd}\r\n          dateRangeEndOverwrite={dateRangeEndOverwrite}\r\n          currDisplayDate={dateToUse}\r\n          hoverDate={hoverDate}\r\n          setSelectedDate={setSelectedDate}\r\n          isSelectingStartDate={isSelectingStartDate}\r\n          setDateRangeEndOverwrite={this.setDateRangeEndOverwrite}\r\n          setHoverDate={value => this.setState({ hoverDate: value })}\r\n          offsetDays={offsetDays}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isOpened,\r\n      isRange,\r\n      isArrowUp,\r\n      inputWidth,\r\n      isSelectingStartDate,\r\n      isResp,\r\n    } = this.props;\r\n\r\n    const openedStyle = isOpened ? 'dateinner-opened' : '';\r\n    const dateOpenStyle = isOpened ? 'date-container-opened' : 'date-container-closed';\r\n\r\n\r\n    const respStyle = isResp ? 'inner-absolute' : '';\r\n    const isArrowUpToUse = isResp || isArrowUp;\r\n    const arrowStyle = isArrowUpToUse ? 'arrow-up' : 'arrow-down';\r\n    const rangeBorders = isRange ? '' : '';\r\n\r\n    let transform = `translateX(20px) ${isArrowUpToUse ? '' : 'rotate(180deg)'}`;\r\n    if (isRange && inputWidth !== null) {\r\n      transform = `translateX(${(isSelectingStartDate ? 0 : inputWidth * 0.5) + 20}px) ${isArrowUpToUse ? '' : 'rotate(180deg)'}`;\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        <div className={`${openedStyle} ${respStyle} dateinner-v3`}>\r\n          <div className={dateOpenStyle}>\r\n            <img\r\n              className={['arrow-range', arrowStyle, respStyle].join(' ')}\r\n              src={Triangle}\r\n              alt=\"triangle.svg\"\r\n              style={{ transform }}\r\n            />\r\n            <div\r\n              className={`list-container list-opened ${rangeBorders}`}\r\n              ref={node => this.listCont = node}\r\n            >\r\n              {this.renderDateInner(isRange && !isResp ? MULTIPLELEFT : SINGLE)}\r\n              {isRange && !isResp && this.renderDateInner(MULTIPLERIGHT)}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nDateInner.defaultProps = {\r\n  startValue: null,\r\n  endValue: null,\r\n  inputWidth: 0,\r\n  offsetDays: 0,\r\n};\r\n\r\nDateInner.propTypes = {\r\n  isOpened: PropTypes.bool.isRequired,\r\n  isRange: PropTypes.bool.isRequired,\r\n  currDisplayDate: PropTypes.instanceOf(Date).isRequired,\r\n  startValue: PropTypes.instanceOf(Date),\r\n  endValue: PropTypes.instanceOf(Date),\r\n  dateRangeStart: PropTypes.instanceOf(Date).isRequired,\r\n  dateRangeEnd: PropTypes.instanceOf(Date).isRequired,\r\n  setSelectedDate: PropTypes.func.isRequired,\r\n  setNewDisplayDate: PropTypes.func.isRequired,\r\n  isArrowUp: PropTypes.bool.isRequired,\r\n  isSelectingStartDate: PropTypes.bool.isRequired,\r\n  inputWidth: PropTypes.number,\r\n  isResp: PropTypes.bool.isRequired,\r\n  offsetDays: PropTypes.number,\r\n};\r\n\r\nexport default DateInner;\r\n","/**\r\n * DatePickerV2.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component, Fragment } from 'react';\r\nimport { Input } from 'reactstrap';\r\nimport ReactDOM from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\n\r\nimport Arrow from 'assets/images/forms/arrow.svg';\r\nimport DateIn from 'assets/images/forms/dateIn.svg';\r\nimport DateOut from 'assets/images/forms/dateOut.svg';\r\n\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\nimport DateInner from './DateInner/DateInner';\r\n\r\nimport { deafultYearRange } from './DatePicker.constants';\r\n\r\nimport {\r\n  isDateEqual,\r\n  // storeStringToDate,\r\n  slashedStringDateToDate,\r\n  dateToString,\r\n  // dateToStoreString,\r\n} from '../../../lib/dateFunctions';\r\n\r\nimport '../DropDown/DropDown.scss';\r\nimport './DatePicker.scss';\r\n\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass DatePicker extends Component {\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {object} props Component props\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // size - Size of this control\r\n    // startDate - Start range of date\r\n    // endDate - End range of date\r\n    // currDisplayDate - Day to set current view in calender (Default to today)\r\n    const {\r\n      startDate,\r\n      endDate,\r\n      startValue,\r\n    } = this.props;\r\n\r\n    // Get current date\r\n    const date = startValue || new Date();\r\n    const year = date.getFullYear();\r\n    const month = date.getMonth();\r\n    // Get first and last day of the month to display\r\n    const firstDay = new Date(year, month, 1);\r\n    const lastDay = new Date(year, month + 1, 0);\r\n    // Get the calender range\r\n    const dateRangeStart = startDate != null ? startDate : new Date(year - deafultYearRange, month);\r\n    const dateRangeEnd = endDate != null ? endDate : new Date(year + deafultYearRange, month);\r\n\r\n    // isOpened - Whether dropdown is opened\r\n    // isError - Whether there is input error\r\n    // selectedString - The selected date string\r\n    // currDisplayDate - Current selected date in view\r\n    // currFirstDay - Current first day of the month in view\r\n    // currLastDay - Current last day of the month in view\r\n    // monthDropdownOpen - Whether month selector is opened\r\n    // yearDropdownOpen - Whether year selector is opened\r\n    // dateRangeStart - The actual calender start range\r\n    // dateRangeEnd - The actual calender end range\r\n    this.state = {\r\n      isOpened: false,\r\n      currDisplayDate: date,\r\n      currFirstDay: firstDay,\r\n      currLastDay: lastDay,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      isArrowUp: false,\r\n      startDateString: '',\r\n      endDateString: '',\r\n      isSelectingStartDate: true,\r\n      inputWidth: 0,\r\n      isResp: false,\r\n    };\r\n\r\n    this.handleSelectClick = this.handleSelectClick.bind(this);\r\n    this.handleClickOutside = this.handleClickOutside.bind(this);\r\n\r\n    this.handleKeyPress = this.handleKeyPress.bind(this);\r\n    this.handleExit = this.handleExit.bind(this);\r\n\r\n    this.setSelectedDate = this.setSelectedDate.bind(this);\r\n    this.setNewDisplayDate = this.setNewDisplayDate.bind(this);\r\n    this.onMovement = this.onMovement.bind(this);\r\n\r\n    this.renderInputs = this.renderInputs.bind(this);\r\n    this.renderInner = this.renderInner.bind(this);\r\n\r\n    this.dateValidateAndUpdate = this.dateValidateAndUpdate.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentDidMount\r\n   */\r\n  componentDidMount() {\r\n    // Add Handler to handle click outside of screen\r\n    document.addEventListener('mousedown', this.handleClickOutside);\r\n    window.addEventListener('scroll', this.onMovement);\r\n    window.addEventListener('resize', this.onMovement);\r\n\r\n    const {\r\n      startValue,\r\n      endValue,\r\n    } = this.props;\r\n\r\n    if (startValue) {\r\n      this.setSelectedDate(startValue, true);\r\n    }\r\n\r\n    if (endValue) {\r\n      this.setSelectedDate(endValue < startValue ? startValue : endValue, false);\r\n    }\r\n\r\n    this.setState({\r\n      dateInnerDOM: ReactDOM.findDOMNode(this.dateInner),\r\n      datePickerDOM: ReactDOM.findDOMNode(this.wrapperRef),\r\n    });\r\n\r\n    this.onMovement();\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentDidUpdate\r\n   *\r\n   * Used to update dropdown position\r\n   * of month and year selector\r\n   */\r\n  async componentDidUpdate(prevProps) {\r\n    const {\r\n      startValue,\r\n      endValue,\r\n    } = this.props;\r\n\r\n    if (\r\n      ((prevProps.startValue || startValue) && !isDateEqual(prevProps.startValue, startValue)) ||\r\n      ((prevProps.endValue || endValue) && !isDateEqual(prevProps.endValue, endValue))\r\n    ) {\r\n      const updateData = this.dateValidateAndUpdate();\r\n\r\n      this.setState({\r\n        startDateString: updateData.startDateString === 'Invalid Date' ? '' : updateData.startDateString,\r\n        endDateString: updateData.endDateString === 'Invalid Date' ? '' : updateData.endDateString,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentWillUnmount\r\n   */\r\n  componentWillUnmount() {\r\n    // Remove Handler to handle click outside of screen\r\n    document.removeEventListener('mousedown', this.handleClickOutside);\r\n    window.removeEventListener('scroll', this.onMovement);\r\n    window.removeEventListener('resize', this.onMovement);\r\n  }\r\n\r\n\r\n  // Make sure that the popup is always in the window\r\n  onMovement() {\r\n    const {\r\n      dateInnerDOM,\r\n      datePickerDOM,\r\n      isOpened,\r\n      isResp,\r\n    } = this.state;\r\n\r\n    const { innerWidth } = window;\r\n\r\n    if (isOpened) {\r\n      const newState = {};\r\n      let clientRect = null;\r\n      const currIsResp = innerWidth < 576;\r\n\r\n      if (dateInnerDOM && datePickerDOM) {\r\n        let top = 56;\r\n        let left = 0;\r\n        let right = 0;\r\n        if (!currIsResp) {\r\n          clientRect = datePickerDOM.getBoundingClientRect();\r\n          const isOverHeight = !currIsResp && clientRect.bottom + 540 > window.outerHeight;\r\n          newState.isArrowUp = !isOverHeight;\r\n\r\n          const isOverFlow = clientRect.left + 530 > window.innerWidth;\r\n          left = isOverFlow ? `${window.innerWidth - 530}px` : `${clientRect.left}px`;\r\n          top = !currIsResp && isOverHeight ? clientRect.top - 330 : clientRect.bottom + 10;\r\n          right = '';\r\n        }\r\n\r\n        dateInnerDOM.style.left = left;\r\n        dateInnerDOM.style.right = right;\r\n        dateInnerDOM.style.top = `${top}px`;\r\n        newState.inputWidth = this.wrapperRef.getBoundingClientRect().width;\r\n      }\r\n\r\n      if ((isResp && !currIsResp) || (!isResp && currIsResp)) {\r\n        newState.isResp = currIsResp;\r\n      }\r\n\r\n      this.setState(newState);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * setNewDisplayDate\r\n   *\r\n   * Set new current date and\r\n   * start and end of calender\r\n   *\r\n   * @param {date} date\r\n   */\r\n  setNewDisplayDate(date) {\r\n    const dateToUse = date || new Date();\r\n    const newYear = dateToUse.getFullYear();\r\n    const newMonth = dateToUse.getMonth();\r\n\r\n    // Get first and last day of visible month\r\n    const firstDay = new Date(newYear, newMonth, 1);\r\n    const lastDay = new Date(newYear, newMonth + 1, 0);\r\n\r\n    // Set new calender values\r\n    this.setState({\r\n      currDisplayDate: dateToUse,\r\n      currFirstDay: firstDay,\r\n      currLastDay: lastDay,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * setSelectedDate\r\n   *\r\n   * Updated selected date to store\r\n   *\r\n   * @param {date} date\r\n   */\r\n  async setSelectedDate(date, isStart = true) {\r\n    return new Promise(async (resolve) => {\r\n      try {\r\n        const updateData = this.dateValidateAndUpdate(isStart && date, !isStart && date);\r\n\r\n        if (updateData) {\r\n          if (isStart && updateData.currStartValue) {\r\n            this.setNewDisplayDate(updateData.currStartValue);\r\n          }\r\n        }\r\n\r\n        this.setState({\r\n          isOpened: !!(updateData && updateData.isChooseEndDate),\r\n          isSelectingStartDate: false,\r\n          startDateString: updateData.startDateString,\r\n          endDateString: updateData.endDateString,\r\n        }, resolve);\r\n      } catch (error) {\r\n        // eslint-disable-next-line\r\n        resolve();\r\n      }\r\n    });\r\n  }\r\n\r\n  getDateFromDateString(dateString) {\r\n    try {\r\n      let date = slashedStringDateToDate(dateString);\r\n      if (date && date.toString() === 'Invalid Date') {\r\n        date = moment(dateString).toDate();\r\n      }\r\n\r\n      return date;\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return 'Invalid Date';\r\n  }\r\n\r\n  /**\r\n   * End selection if click on outside\r\n   *\r\n   * @param {object} event\r\n   */\r\n  handleClickOutside(event) {\r\n    const { isOpened, dateInnerDOM } = this.state;\r\n\r\n    // If clicked outside of daterpicekr Inner or wrapper, go to exit\r\n    if (\r\n      isOpened &&\r\n      this.wrapperRef &&\r\n      !this.wrapperRef.contains(event.target) &&\r\n      dateInnerDOM &&\r\n      !dateInnerDOM.contains(event.target)\r\n    ) {\r\n      this.setState({\r\n        isOpened: false,\r\n      });\r\n\r\n      this.handleExit();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * handleKeyPress\r\n   *\r\n   * Handle on enter key\r\n   *\r\n   * @param {object} target\r\n   */\r\n  handleKeyPress(target) {\r\n    // If pressed on enter, go to exit\r\n    if (target.charCode === 13) {\r\n      target.preventDefault();\r\n      this.handleExit();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * handleSelectClick\r\n   *\r\n   * Handle toggling of datepicker\r\n   */\r\n  handleSelectClick(isStart = true) {\r\n    const {\r\n      isOpened,\r\n      isSelectingStartDate,\r\n    } = this.state;\r\n\r\n    const {\r\n      startValue,\r\n      endValue,\r\n      isRange,\r\n    } = this.props;\r\n\r\n    let openStartDateString = {};\r\n    let openEndDateString = {};\r\n\r\n    if (!isOpened) {\r\n      openStartDateString = { startDateString: startValue && dateToString(startValue) };\r\n      openEndDateString = { endDateString: endValue && dateToString(endValue) };\r\n    }\r\n\r\n    this.setState({\r\n      isOpened: ((isSelectingStartDate && !isStart) || (!isSelectingStartDate && isStart) || !isOpened),\r\n      isSelectingStartDate: isStart,\r\n      ...openStartDateString,\r\n      ...openEndDateString,\r\n    }, () => {\r\n      if (this.state.isOpened) {\r\n        this.onMovement();\r\n        this.setNewDisplayDate(this.state.isSelectingStartDate ? startValue : endValue);\r\n        return;\r\n      }\r\n\r\n      const {\r\n        startDateString: closeStartDateString,\r\n        endDateString: closeEndDateString,\r\n      } = this.state;\r\n\r\n      const startDate = this.getDateFromDateString(closeStartDateString);\r\n      const endDate = isRange && this.getDateFromDateString(closeEndDateString);\r\n\r\n      const updateData = this.dateValidateAndUpdate(startDate, endDate);\r\n\r\n      this.setState({\r\n        startDateString: updateData.startDateString,\r\n        endDateString: updateData.endDateString,\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * handleExit\r\n   *\r\n   * Handle exit selection of entered input\r\n   */\r\n  handleExit(newDate, isStart) {\r\n    const {\r\n      startDateString,\r\n      endDateString,\r\n    } = this.state;\r\n\r\n    const {\r\n      endName,\r\n    } = this.props;\r\n\r\n    let startDate = isStart && newDate;\r\n    let endDate = !isStart && endName && newDate;\r\n\r\n    try {\r\n      if (!startDate) {\r\n        startDate = this.getDateFromDateString(startDateString);\r\n      }\r\n      if (endName && !endDate) {\r\n        endDate = this.getDateFromDateString(endDateString);\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    const updateData = this.dateValidateAndUpdate(startDate, endDate);\r\n\r\n    if (updateData) {\r\n      this.setState({\r\n        isOpened: false,\r\n        isSelectingStartDate: false,\r\n        startDateString: updateData.startDateString,\r\n        endDateString: updateData.endDateString,\r\n      });\r\n    }\r\n  }\r\n\r\n  dateValidateAndUpdate(newStartValue = null, newEndValue = null) {\r\n    const { dateRangeStart, dateRangeEnd } = this.state;\r\n    const {\r\n      startValue,\r\n      endValue,\r\n      offsetDays,\r\n      isRange,\r\n      onChange,\r\n      name,\r\n      endName,\r\n    } = this.props;\r\n\r\n    // Whether need user to choose new end date\r\n    let isChooseEndDate = false;\r\n\r\n    // Check if inputs are invalid dates\r\n    const isNewStartInvalid = newStartValue && newStartValue.toString() === 'Invalid Date';\r\n    const isNewEndInvalid = newEndValue && newEndValue.toString() === 'Invalid Date';\r\n\r\n    // Get new or existing dates\r\n    const startValueToUse = isNewStartInvalid ? null : ((!isNewStartInvalid && newStartValue) || startValue);\r\n    const endValueToUse = isNewEndInvalid ? null : ((!isNewEndInvalid && newEndValue) || endValue);\r\n\r\n    // Dates to be modified later\r\n    let currStartValue = startValueToUse;\r\n    let currEndValue = endValueToUse;\r\n\r\n    // The date string for the input field\r\n    let startDateString = 'Invalid Date';\r\n    let endDateString = 'Invalid Date';\r\n\r\n    try {\r\n      // Choose end date if is range picker and have new start but no end value\r\n      isChooseEndDate = isRange && newStartValue && !endValue;\r\n\r\n      // For range only\r\n      if (isRange) {\r\n        // The max date is end range + 181 days\r\n        const trueMaxEnd = dateRangeEnd && moment(dateRangeEnd).add(offsetDays, 'days').toDate();\r\n        // Max curr date is current start date + 181\r\n        const currMaxEnd = startValueToUse && moment(startValueToUse).add(offsetDays, 'days').toDate();\r\n        // Get the smallest end date\r\n        const maxEnd = currMaxEnd < trueMaxEnd ? currMaxEnd : trueMaxEnd;\r\n\r\n        // If selected new start date is greater than end date,\r\n        // make end date to be 1 day after new start date\r\n        // and let user choose end date again\r\n        if (newStartValue && startValueToUse > endValueToUse) {\r\n          currEndValue = moment(startValueToUse).add(1, 'days').toDate();\r\n          isChooseEndDate = true;\r\n        }\r\n\r\n        // If selected new end date is less than start date,\r\n        // swap both dates\r\n        // and let user choose end date again\r\n        if (newEndValue && startValueToUse > endValueToUse) {\r\n          currStartValue = endValueToUse;\r\n          currEndValue = startValueToUse;\r\n          isChooseEndDate = true;\r\n        }\r\n\r\n        // If end date is less than start range, make it to start range\r\n        if (currEndValue && currEndValue < dateRangeStart) {\r\n          currEndValue = dateRangeStart;\r\n        }\r\n\r\n        // If start date is greater than end range, make it to end range\r\n        if (currStartValue && currStartValue > maxEnd) {\r\n          currStartValue = maxEnd;\r\n        }\r\n\r\n        // If end date is more than end range, make it to end range\r\n        if (currEndValue && currEndValue > maxEnd) {\r\n          currEndValue = maxEnd;\r\n        }\r\n\r\n        // if new end date is diff from state, update it\r\n        if (!isDateEqual(endValue, currEndValue)) {\r\n          onChange('date', endName, currEndValue);\r\n        }\r\n      }\r\n\r\n      // If start date is less than start range, make it to start range\r\n      if (currStartValue && currStartValue < dateRangeStart) {\r\n        currStartValue = dateRangeStart;\r\n      }\r\n\r\n      // If start date is greater than end range, make it to end range\r\n      // No need max end as start date need to be within end range\r\n      if (currStartValue && currStartValue > dateRangeEnd) {\r\n        currStartValue = dateRangeEnd;\r\n      }\r\n\r\n      // if new start date is diff from state, update it\r\n      if (!isDateEqual(startValue, currStartValue)) {\r\n        onChange('date', name, currStartValue);\r\n      }\r\n\r\n      // Get new input strings\r\n      startDateString = currStartValue ? moment(currStartValue).format('DD MMM YYYY') : startDateString;\r\n      endDateString = currEndValue ? moment(currEndValue).format('DD MMM YYYY') : startDateString;\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return {\r\n      isChooseEndDate,\r\n      currEndValue,\r\n      currStartValue,\r\n      startDateString,\r\n      endDateString,\r\n    };\r\n  }\r\n\r\n  renderDropDownArrow() {\r\n    const { isOpened } = this.state;\r\n\r\n    return (\r\n      <button\r\n        type=\"button\"\r\n        className=\"selected-arrow\"\r\n        onMouseDown={this.handleSelectClick}\r\n      >\r\n        <img\r\n          src={Arrow}\r\n          alt=\"arrow.svg\"\r\n          className={`selected-arrow-style ${isOpened ? 'angle-up' : 'angle-down'}`}\r\n        />\r\n      </button>\r\n    );\r\n  }\r\n\r\n  renderInputField(isStart) {\r\n    const {\r\n      startDateString,\r\n      endDateString,\r\n      isSelectingStartDate,\r\n      isOpened,\r\n    } = this.state;\r\n\r\n    const {\r\n      name,\r\n      endName,\r\n      isDisableTyping,\r\n      placeholderString,\r\n      noInternalDesc,\r\n      isRange,\r\n    } = this.props;\r\n\r\n    const rangeStyle = isRange ? 'range-style' : '';\r\n    let selectingDateStyle = '';\r\n    if (isOpened && isRange) {\r\n      selectingDateStyle = (isSelectingStartDate && isStart) || (!isSelectingStartDate && !isStart) ? 'faded-style' : '';\r\n    }\r\n\r\n    const displayValue = isStart ? startDateString : endDateString;\r\n    const nameToUse = isStart ? name : endName;\r\n\r\n    return (\r\n      <button\r\n        type=\"button\"\r\n        className={`selected-text text-style ${rangeStyle} ${selectingDateStyle}`}\r\n        onKeyPress={this.handleKeyPress}\r\n        onMouseDown={(e) => {\r\n          if (window.innerWidth <= 576) {\r\n            e.preventDefault();\r\n          }\r\n          this.handleSelectClick(isStart);\r\n        }}\r\n      >\r\n        <Input\r\n          value={displayValue || ''}\r\n          name={nameToUse}\r\n          onChange={e => this.setState({\r\n            [isStart ? 'startDateString' : 'endDateString']: e.target.value,\r\n          })}\r\n          placeholder={noInternalDesc ? placeholderString : ''}\r\n          autoComplete=\"off\"\r\n          disabled={isDisableTyping}\r\n        />\r\n      </button>\r\n    );\r\n  }\r\n\r\n  renderInputs() {\r\n    const {\r\n      isRange,\r\n    } = this.props;\r\n\r\n    if (!isRange) {\r\n      return (\r\n        <Fragment>\r\n          {this.renderInputField(true)}\r\n          {this.renderDropDownArrow()}\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        <div className=\"date-input-container\">\r\n          <div className=\"img-container\">\r\n            <img\r\n              className=\"date-in\"\r\n              src={DateIn}\r\n              alt=\"Date Range Icon\"\r\n            />\r\n          </div>\r\n          {this.renderInputField(true)}\r\n        </div>\r\n        <div className=\"seperator\" />\r\n        <div className=\"date-input-container\">\r\n          <div className=\"img-container\">\r\n            <img\r\n              className=\"date-out\"\r\n              src={DateOut}\r\n              alt=\"Date Range Icon\"\r\n            />\r\n          </div>\r\n          {this.renderInputField(false)}\r\n        </div>\r\n        {this.renderDropDownArrow()}\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderPopup() {\r\n    const {\r\n      isOpened,\r\n      currDisplayDate,\r\n      currFirstDay,\r\n      currLastDay,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      isArrowUp,\r\n      isSelectingStartDate,\r\n      inputWidth,\r\n      isResp,\r\n    } = this.state;\r\n\r\n    const {\r\n      isRange,\r\n      startValue,\r\n      endValue,\r\n      offsetDays,\r\n    } = this.props;\r\n\r\n\r\n    return (\r\n      <DateInner\r\n        ref={node => this.dateInner = node}\r\n        isOpened={!!isOpened}\r\n        isRange={isRange}\r\n        currDisplayDate={currDisplayDate}\r\n        currFirstDay={currFirstDay}\r\n        currLastDay={currLastDay}\r\n        startValue={startValue}\r\n        endValue={endValue}\r\n        dateRangeStart={dateRangeStart}\r\n        dateRangeEnd={dateRangeEnd}\r\n        setSelectedDate={this.setSelectedDate}\r\n        setNewDisplayDate={this.setNewDisplayDate}\r\n        isArrowUp={isArrowUp}\r\n        isSelectingStartDate={!!isSelectingStartDate}\r\n        inputWidth={inputWidth}\r\n        isResp={isResp}\r\n        offsetDays={offsetDays}\r\n      />\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Render component\r\n   */\r\n  renderInner() {\r\n    const { isOpened } = this.state;\r\n\r\n    const {\r\n      errorString,\r\n      placeholderString,\r\n      noInternalDesc,\r\n      startValue,\r\n    } = this.props;\r\n\r\n    const dropDownOpenStyle = isOpened ? 'dropdown-container-opened' : 'dropdown-container-closed';\r\n    const isErrorStyle = errorString ? 'error' : '';\r\n    const titleStyle = startValue ? 'focused-title' : '';\r\n    const noInternalDescStyle = noInternalDesc ? 'no-internal-desc' : '';\r\n\r\n    return (\r\n      <div\r\n        className={`dropdown-container-v3 datepicker-container-v3 ${noInternalDescStyle}`}\r\n        ref={node => (this.wrapperRef = node)}\r\n      >\r\n        <div className={`dropdown-container ${dropDownOpenStyle}  ${isErrorStyle}`}>\r\n          {\r\n            noInternalDesc ? null :\r\n            <div className={`title-header ${titleStyle}`}>\r\n              {placeholderString}\r\n            </div>\r\n          }\r\n          <div className=\"selected-container align-items-center\">\r\n            {this.renderInputs()}\r\n          </div>\r\n        </div>\r\n        {this.renderPopup()}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Render component\r\n   */\r\n  render() {\r\n    const {\r\n      isRange,\r\n      desc,\r\n      extraInfo,\r\n      errorString,\r\n    } = this.props;\r\n\r\n    // Range picker will take over the wrapper\r\n    if (!isRange) {\r\n      return (\r\n        <FormInputWrapper\r\n          desc={desc}\r\n          extraInfo={extraInfo}\r\n          errorString={errorString}\r\n        >\r\n          {this.renderInner()}\r\n        </FormInputWrapper>\r\n      );\r\n    }\r\n\r\n    return this.renderInner();\r\n  }\r\n}\r\n\r\nDatePicker.defaultProps = {\r\n  isRange: false,\r\n  startDate: null,\r\n  endDate: null,\r\n  desc: null,\r\n  extraInfo: null,\r\n  errorString: null,\r\n  noInternalDesc: false,\r\n  isDisableTyping: false,\r\n  endName: null,\r\n  placeholderString: null,\r\n  startValue: null,\r\n  endValue: null,\r\n  offsetDays: 0,\r\n};\r\n\r\nDatePicker.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  endName: PropTypes.string,\r\n  isRange: PropTypes.bool,\r\n  startDate: PropTypes.instanceOf(Date),\r\n  endDate: PropTypes.instanceOf(Date),\r\n  desc: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  errorString: PropTypes.string,\r\n  isDisableTyping: PropTypes.bool,\r\n  noInternalDesc: PropTypes.bool,\r\n  onChange: PropTypes.func.isRequired,\r\n  placeholderString: PropTypes.string,\r\n  startValue: PropTypes.instanceOf(Date),\r\n  endValue: PropTypes.instanceOf(Date),\r\n  offsetDays: PropTypes.number,\r\n};\r\n\r\nexport default DatePicker;\r\n","/**\r\n * DatePicker.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport DatePicker from '../DatePicker/DatePicker';\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass DateRangePicker extends Component {\r\n  render() {\r\n    const {\r\n      values,\r\n      onChange,\r\n      desc,\r\n      extraInfo,\r\n      startName,\r\n      endName,\r\n      startDate,\r\n      endDate,\r\n      errorStringStart,\r\n      errorStringEnd,\r\n      offsetDays,\r\n    } = this.props;\r\n\r\n    const errorString = (errorStringStart || errorStringEnd) && `${`${errorStringStart} ` || ''}${errorStringEnd || ''}`;\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        desc={desc}\r\n        extraInfo={extraInfo}\r\n        errorString={errorString}\r\n        isDateRange\r\n      >\r\n        <div className=\"date-range-picker-new\">\r\n          <DatePicker\r\n            startValue={values && values[startName] && values[startName].value}\r\n            endValue={values && values[endName] && values[endName].value}\r\n            onChange={onChange}\r\n            name={startName}\r\n            endName={endName}\r\n            isRange\r\n            startDate={startDate}\r\n            endDate={endDate}\r\n            errorString={errorString}\r\n            offsetDays={offsetDays}\r\n          />\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nDateRangePicker.defaultProps = {\r\n  desc: null,\r\n  extraInfo: null,\r\n  startDate: null,\r\n  endDate: null,\r\n  errorStringStart: null,\r\n  errorStringEnd: null,\r\n  values: null,\r\n  offsetDays: 0,\r\n};\r\n\r\nDateRangePicker.propTypes = {\r\n  onChange: PropTypes.func.isRequired,\r\n  startName: PropTypes.string.isRequired,\r\n  endName: PropTypes.string.isRequired,\r\n  desc: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  startDate: PropTypes.instanceOf(Date),\r\n  endDate: PropTypes.instanceOf(Date),\r\n  errorStringStart: PropTypes.string,\r\n  errorStringEnd: PropTypes.string,\r\n  values: PropTypes.object,\r\n  offsetDays: PropTypes.number,\r\n};\r\n\r\nexport default DateRangePicker;\r\n","/**\r\n * DropDown.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Tooltip from 'components/Templates/Tooltip/Tooltip';\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport './ImageSelection.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass ImageSelection extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      clickStyle: 'click-right',\r\n    };\r\n  }\r\n\r\n  handleOnClick(value) {\r\n    try {\r\n      const {\r\n        onChange,\r\n        name,\r\n        value: oldValue,\r\n        inputData,\r\n      } = this.props;\r\n\r\n      const newValue = inputData.is_required === false && value === oldValue ? null : value;\r\n      onChange(inputData.type, name, newValue);\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n  }\r\n\r\n  renderTitle() {\r\n    const { inputData } = this.props;\r\n\r\n    if (!inputData.title && !inputData.tooltip) {\r\n      return null;\r\n    }\r\n\r\n    try {\r\n      return (\r\n        <div className=\"title-container\">\r\n          <h3>{inputData.title}</h3>\r\n          {\r\n            inputData.tooltip &&\r\n            <Tooltip\r\n              id={inputData.slug}\r\n            >\r\n              <p>{inputData.tooltip}</p>\r\n            </Tooltip>\r\n          }\r\n        </div>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderItem(itemData, index, isTooltip) {\r\n    const { clickStyle } = this.state;\r\n    const { inputData, value } = this.props;\r\n\r\n    try {\r\n      const isSelected = (inputData.is_required && !value && index === 0) || (value && value === itemData.value);\r\n      const key = `${inputData.slug}-option-${index}`;\r\n\r\n      return (\r\n        <Col\r\n          key={key}\r\n          xs={6}\r\n          className=\"item-container-wrapper\"\r\n        >\r\n          <div className=\"item-container-wrapper-inner\">\r\n            <button\r\n              type=\"button\"\r\n              className={`item-container ${isSelected && 'selected'} ${clickStyle}`}\r\n              onClick={() => {\r\n                this.setState({\r\n                  clickStyle: index % 2 === 0 ? 'click-left' : 'click-right',\r\n                }, () => this.handleOnClick(itemData.value));\r\n              }}\r\n            >\r\n              <div className={`bg ${isSelected && 'bg-active'}`} />\r\n              <div className=\"image\">\r\n                <img src={itemData.icon_img} alt={`${key}.svg`} />\r\n              </div>\r\n            </button>\r\n            <div className=\"item-container-bottom\">\r\n              {\r\n                isTooltip &&\r\n                <div className=\"inner-tooltip\">\r\n                  {\r\n                    itemData.tooltip &&\r\n                    <Tooltip\r\n                      id={key}\r\n                    >\r\n                      <p>{itemData.tooltip}</p>\r\n                    </Tooltip>\r\n                  }\r\n                </div>\r\n              }\r\n              <div className={['desc', isTooltip ? 'desc-padding' : ''].join(' ')}>\r\n                <p>{itemData.title}</p>\r\n                <p className=\"sub-title\">{itemData.sub_title}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderOptions() {\r\n    const { inputData } = this.props;\r\n\r\n    try {\r\n      const isTooltip = _.find(inputData.options, option => option && option.tooltip);\r\n\r\n      return _.map(inputData.options, (option, index) => this.renderItem(option, index, isTooltip));\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const { inputData, errorString, extraInfo } = this.props;\r\n\r\n    if (!inputData) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        className=\"image-selection-margin\"\r\n        errorString={errorString}\r\n        extraInfo={extraInfo}\r\n      >\r\n        <div className=\"image-selection-container\">\r\n          {this.renderTitle()}\r\n          <Row className=\"options-container\" noGutters>\r\n            {this.renderOptions()}\r\n          </Row>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nImageSelection.defaultProps = {\r\n  value: null,\r\n  errorString: null,\r\n  extraInfo: null,\r\n};\r\n\r\n\r\nImageSelection.propTypes = {\r\n  value: PropTypes.string,\r\n  inputData: PropTypes.object.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  errorString: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n};\r\n\r\nexport default ImageSelection;\r\n","/**\r\n * DropDown.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Row, Col, Input } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './AgeGroupItem.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass AgeGroupItem extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleExit = this.handleExit.bind(this);\r\n  }\r\n\r\n  handleExit(e, isBlur) {\r\n    const { generateNewFormData } = this.props;\r\n\r\n    if (isBlur || (!isBlur && e.charCode === 13)) {\r\n      generateNewFormData();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      name,\r\n      value,\r\n      title,\r\n      onChangeValue,\r\n    } = this.props;\r\n\r\n    if (!name) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Col className=\"mb-3\" xs={12} md={6} lg={6}>\r\n        <div className=\"age-group-item-container\">\r\n          <p className=\"title\">{title}</p>\r\n          <Row className=\"selector\" noGutters>\r\n            <Col className=\"d-flex justify-content-center align-items-center\" xs={12}>\r\n              <Input\r\n                className=\"age-group-input\"\r\n                type=\"number\"\r\n                value={value || ''}\r\n                onChange={e => onChangeValue(name, e.target.value && Math.max(0, Math.floor(e.target.value)))}\r\n                onBlur={e => this.handleExit(e, true)}\r\n                onKeyPress={e => this.handleExit(e, false)}\r\n                placeholder=\"Enter number\"\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nAgeGroupItem.defaultProps = {\r\n  value: null,\r\n};\r\n\r\n\r\nAgeGroupItem.propTypes = {\r\n  value: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.number,\r\n  ]),\r\n  name: PropTypes.string.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  onChangeValue: PropTypes.func.isRequired,\r\n  generateNewFormData: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AgeGroupItem;\r\n","/**\r\n * DropDown.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport AgeGroupItem from './AgeGroupItem/AgeGroupItem';\r\n\r\nimport './AgeGroup.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass AgeGroup extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { inputData, value } = this.props;\r\n    let values = [];\r\n\r\n    try {\r\n      values = _.reduce(inputData.options, (result, v) => {\r\n        const originalData = _.find(value, vo => vo.value === v.value);\r\n\r\n        result.push({\r\n          key: v.value,\r\n          title: v.title,\r\n          value: (originalData && originalData.count) || null,\r\n        });\r\n        return result;\r\n      }, []);\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    this.state = {\r\n      values,\r\n      count: 0,\r\n    };\r\n\r\n    this.onChangeValue = this.onChangeValue.bind(this);\r\n\r\n    this.getTotalCount = this.getTotalCount.bind(this);\r\n    this.generateNewFormData = this.generateNewFormData.bind(this);\r\n  }\r\n\r\n  // Update form values on change\r\n  onChangeValue(key, value) {\r\n    const { values } = this.state;\r\n\r\n    try {\r\n      const newValue = [...values];\r\n      const group = _.find(newValue, v => v.key === key);\r\n\r\n      if (group) {\r\n        group.value = value;\r\n        this.setState({\r\n          values: newValue,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n  }\r\n\r\n  getTotalCount() {\r\n    const { values } = this.state;\r\n\r\n    try {\r\n      return _.reduce(values, (result, v) => {\r\n        if (v.value > 0) {\r\n          return result + v.value;\r\n        }\r\n\r\n        return result;\r\n      }, 0);\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return 0;\r\n  }\r\n\r\n  async generateNewFormData() {\r\n    const { values } = this.state;\r\n    const { onChange, name } = this.props;\r\n\r\n    try {\r\n      let count = 0;\r\n      const newData = _.reduce(values, (result, v) => {\r\n        if (v.value > 0) {\r\n          count += v.value;\r\n          result.push({\r\n            value: v.key,\r\n            count: v.value,\r\n          });\r\n        }\r\n\r\n        return result;\r\n      }, []);\r\n\r\n      this.setState({\r\n        count: this.getTotalCount(),\r\n      });\r\n\r\n      await onChange('age_group', name, newData);\r\n      await onChange('number', 'no_of_employees', count);\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return 0;\r\n  }\r\n\r\n  renderHeader() {\r\n    const { count } = this.state;\r\n    const { inputData } = this.props;\r\n\r\n    try {\r\n      return (\r\n        <Row className=\"title-container\" noGutters>\r\n          <Col className=\"d-none d-md-flex\" md={{ size: 4, order: 1 }} />\r\n          <Col md={{ size: 4, order: 2 }} xs={{ size: 12, order: 2 }}>\r\n            <h3>{inputData.title}</h3>\r\n          </Col>\r\n          <Col md={{ size: 4, order: 3 }} xs={{ size: 12, order: 4 }}>\r\n            <p className=\"employees\">{count} employees assigned</p>\r\n          </Col>\r\n          <Col md={{ size: 12, order: 4 }} xs={{ size: 12, order: 3 }}>\r\n            <h6>{'Employees age for upcoming birthday\\n(Current age + 1)'}</h6>\r\n          </Col>\r\n        </Row>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderAgeGroupItems() {\r\n    const { values } = this.state;\r\n    const { inputData } = this.props;\r\n\r\n    try {\r\n      return (_.reduce(values, (result, group, key) => {\r\n        result.push((\r\n          <AgeGroupItem\r\n            key={`age-group-${inputData.slug}-${key}`}\r\n            name={group.key}\r\n            value={group.value}\r\n            title={group.title}\r\n            onChangeValue={this.onChangeValue}\r\n            generateNewFormData={this.generateNewFormData}\r\n          />\r\n        ));\r\n\r\n        return result;\r\n      }, []));\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n  render() {\r\n    const { inputData, errorString, extraInfo } = this.props;\r\n\r\n    if (!inputData) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        errorString={errorString}\r\n        className=\"age-group-margin\"\r\n        extraInfo={extraInfo}\r\n      >\r\n        <div className=\"age-group-container\">\r\n          {this.renderHeader()}\r\n          <Row className=\"options-container\">\r\n            {this.renderAgeGroupItems()}\r\n          </Row>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nAgeGroup.defaultProps = {\r\n  value: null,\r\n  errorString: null,\r\n  extraInfo: null,\r\n};\r\n\r\n\r\nAgeGroup.propTypes = {\r\n  value: PropTypes.array,\r\n  inputData: PropTypes.object.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  errorString: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n};\r\n\r\nexport default AgeGroup;\r\n","/**\r\n * DropDown.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport People from 'assets/images/EditForm/People.svg';\r\nimport Arrow from '../../../assets/images/forms/arrow.svg';\r\n\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport './Persons.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass Persons extends Component {\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {object} props Component props\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // isOpened - Whether dropdown is opened\r\n    // listItems - The actual dropdown list\r\n    // selectedString - The selected item string\r\n    // height - Control height\r\n    // numItemsDisplay - How many items to display\r\n    // maxheight - Max height of the list\r\n    // listHeight - Height of the list. (Items count + control)\r\n    this.state = {\r\n      isOpened: null,\r\n    };\r\n\r\n    this.setError = this.setError.bind(this);\r\n    this.clearError = this.clearError.bind(this);\r\n    this.handleSelectClick = this.handleSelectClick.bind(this);\r\n    this.handleClickOutside = this.handleClickOutside.bind(this);\r\n\r\n    this.handleValue = this.handleValue.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Add Handler to handle click outside of screen\r\n    document.addEventListener('mousedown', this.handleClickOutside);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('mousedown', this.handleClickOutside);\r\n  }\r\n\r\n  setError(message) {\r\n    this.formParent.setErrorString(message);\r\n  }\r\n\r\n  clearError() {\r\n    this.formParent.clearErrorString();\r\n  }\r\n\r\n  /**\r\n   * End selection if click on outside\r\n   *\r\n   * @param {object} event\r\n   */\r\n  handleClickOutside(event) {\r\n    const { isOpened } = this.state;\r\n\r\n    // If clicked outside, go to exit\r\n    if (\r\n      isOpened &&\r\n      this.wrapperRef &&\r\n      this.wrapperRefControl &&\r\n      (!this.wrapperRef.contains(event.target) && !this.wrapperRefControl.contains(event.target))\r\n    ) {\r\n      // Close it\r\n      this.setState({\r\n        isOpened: false,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSelectClick() {\r\n    const { isOpened } = this.state;\r\n    this.setState({ isOpened: !isOpened });\r\n  }\r\n\r\n  async handleValue(event, name, isAdd) {\r\n    event.preventDefault();\r\n    const {\r\n      nameAdult,\r\n      nameChildren,\r\n      namePlanType,\r\n      nameTripType,\r\n      values,\r\n      onChange,\r\n    } = this.props;\r\n\r\n    const oldNumAdult = (values[nameAdult] && values[nameAdult].value) || 0;\r\n    const oldNumChildren = (values[nameChildren] && values[nameChildren].value) || 0;\r\n\r\n    let numAdult = oldNumAdult;\r\n    let numChildren = oldNumChildren;\r\n    const isSingleTrip = values[nameTripType] && values[nameTripType].value === 'Single Trip';\r\n\r\n    const minAdult = 1;\r\n    const maxAdult = isSingleTrip ? 20 : 2;\r\n    const minChildren = 0;\r\n    const maxChildren = 8;\r\n\r\n    if (name === nameAdult) {\r\n      numAdult = Math.min(Math.max(minAdult, numAdult + (isAdd ? 1 : -1)), maxAdult);\r\n    } else {\r\n      numChildren = Math.min(Math.max(minChildren, numChildren + (isAdd ? 1 : -1)), maxChildren);\r\n    }\r\n\r\n    if (numChildren > 0) {\r\n      numAdult = Math.min(Math.max(1, numAdult), 2);\r\n    }\r\n\r\n    if (oldNumAdult !== numAdult) {\r\n      await onChange('number', nameAdult, numAdult);\r\n    }\r\n    if (oldNumChildren !== numChildren) {\r\n      await onChange('number', nameChildren, numChildren);\r\n    }\r\n\r\n    const planType = values && values[namePlanType] && values[namePlanType].value;\r\n\r\n    if (numChildren > 0) {\r\n      if (planType !== 'Family') {\r\n        await onChange('text', namePlanType, 'Family');\r\n      }\r\n    } else if (numAdult > 1) {\r\n      if (planType !== 'Group') {\r\n        await onChange('text', namePlanType, 'Group');\r\n      }\r\n    } else if (planType !== 'Individual') {\r\n      await onChange('text', namePlanType, 'Individual');\r\n    }\r\n\r\n    const tripType = values && values[nameTripType] && values[nameTripType].value;\r\n    if (numAdult > 1 && numChildren === 0) {\r\n      if (tripType !== 'Single Trip') {\r\n        await onChange('selection', nameTripType, 'Single Trip');\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { isOpened } = this.state;\r\n\r\n    const {\r\n      desc,\r\n      extraInfo,\r\n      errorString,\r\n      nameAdult,\r\n      nameChildren,\r\n      values,\r\n      isPrex,\r\n    } = this.props;\r\n\r\n    const errorStyle = errorString ? 'error' : '';\r\n    const arrowStyle = isOpened ? 'angle-up' : 'angle-down';\r\n    let openedStyle = isOpened ? 'drop-container-opened' : 'drop-container-closed';\r\n    openedStyle = isOpened === null ? 'drop-container-closed-init' : openedStyle;\r\n\r\n    const numAdult = (values[nameAdult] && values[nameAdult].value) || 0;\r\n    const numChildren = (values[nameChildren] && values[nameChildren].value) || 0;\r\n\r\n    const zIndexStyle = isOpened ? 'drop-open' : 'drop-close';\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        desc={desc}\r\n        extraInfo={extraInfo}\r\n        errorString={errorString}\r\n      >\r\n        <div className=\"position-relative\">\r\n          <div\r\n            className={`persons-container ${errorStyle} ${zIndexStyle}`}\r\n            ref={node => this.wrapperRefControl = node}\r\n          >\r\n            <div className=\"img-container\">\r\n              <img\r\n                src={People}\r\n                alt=\"People.svg\"\r\n              />\r\n            </div>\r\n            <div\r\n              className=\"text-input\"\r\n              onClick={() => this.handleSelectClick()}\r\n              onKeyPress={() => {}}\r\n              role=\"button\"\r\n              tabIndex={-1}\r\n            >\r\n              <p>{numAdult} adult, {numChildren} children</p>\r\n            </div>\r\n            <div\r\n              className=\"drop-arrow\"\r\n              onClick={() => this.handleSelectClick()}\r\n              onKeyPress={() => {}}\r\n              role=\"button\"\r\n              tabIndex={-1}\r\n            >\r\n              <img\r\n                src={Arrow}\r\n                alt=\"arrow.svg\"\r\n                className={arrowStyle}\r\n              />\r\n            </div>\r\n            <div\r\n              className={`drop-container ${openedStyle}`}\r\n              ref={node => this.wrapperRef = node}\r\n            >\r\n              <div className=\"value-container\">\r\n                <button onClick={e => this.handleValue(e, nameAdult, false)}><div className=\"minus fa fa-minus\" /></button>\r\n                <p>\r\n                  <span className=\"count\">{numAdult}</span>\r\n                  <span className=\"desc\">adults</span>\r\n                </p>\r\n                <button onClick={e => this.handleValue(e, nameAdult, true)}><div className=\"plus fa fa-plus\" /></button>\r\n              </div>\r\n              <div className=\"value-container\">\r\n                {!isPrex && <button onClick={e => this.handleValue(e, nameChildren, false)}><div className=\"minus fa fa-minus\" /></button>}\r\n                <p>\r\n                  <span className=\"count\">{numChildren}</span>\r\n                  <span className=\"desc\">children</span>\r\n                </p>\r\n                {!isPrex && <button onClick={e => this.handleValue(e, nameChildren, true)}><div className=\"plus fa fa-plus\" /></button>}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nPersons.defaultProps = {\r\n  desc: null,\r\n  extraInfo: null,\r\n  errorString: null,\r\n  values: {},\r\n  isPrex: false,\r\n};\r\n\r\n\r\nPersons.propTypes = {\r\n  desc: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  errorString: PropTypes.string,\r\n  nameAdult: PropTypes.string.isRequired,\r\n  nameChildren: PropTypes.string.isRequired,\r\n  namePlanType: PropTypes.string.isRequired,\r\n  nameTripType: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  values: PropTypes.object,\r\n  isPrex: PropTypes.bool,\r\n};\r\n\r\nexport default Persons;\r\n","/**\r\n * DropDown.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Row, Col } from 'reactstrap';\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport './Selection.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass Selection extends Component {\r\n  render() {\r\n    const {\r\n      name,\r\n      desc,\r\n      extraInfo,\r\n      errorString,\r\n      options,\r\n      onChange,\r\n      value,\r\n      size,\r\n    } = this.props;\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        desc={desc}\r\n        extraInfo={extraInfo}\r\n        errorString={errorString}\r\n      >\r\n        <div className=\"position-relative\">\r\n          <Row\r\n            className=\"selection-container-v3 w-100\"\r\n            noGutters\r\n          >\r\n            {\r\n              _.map(options, (option, index) => {\r\n                const selectedStyle = value === option.value ? 'selected' : '';\r\n\r\n                return (\r\n                  <Col\r\n                    xs={12}\r\n                    sm={size}\r\n                    key={`${option.value}-${index}`}\r\n                  >\r\n                    <button\r\n                      type=\"button\"\r\n                      className={selectedStyle}\r\n                      onClick={() => onChange('selection', name, option.value)}\r\n                    >\r\n                      {option.display_name}\r\n                    </button>\r\n                  </Col>\r\n                );\r\n              })\r\n            }\r\n          </Row>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nSelection.defaultProps = {\r\n  value: null,\r\n  desc: null,\r\n  extraInfo: null,\r\n  errorString: null,\r\n  size: 6,\r\n};\r\n\r\n\r\nSelection.propTypes = {\r\n  value: PropTypes.string,\r\n  name: PropTypes.string.isRequired,\r\n  desc: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  errorString: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  options: PropTypes.array.isRequired,\r\n  size: PropTypes.number,\r\n};\r\n\r\nexport default Selection;\r\n","/**\r\n * TravelDetail.js\r\n * Detail View for travel\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport TextInput from './TextInput/TextInput';\r\nimport Dropdown from './DropDown/DropDown';\r\nimport Checkbox from './Checkbox/Checkbox';\r\nimport DatePicker from './DatePicker/DatePicker';\r\nimport DateRangePicker from './DateRangePicker/DateRangePicker';\r\nimport ImageSelection from './ImageSelection/ImageSelection';\r\nimport AgeGroup from './AgeGroupV2/AgeGroup';\r\nimport Persons from './Persons/Persons';\r\nimport Selection from './SelectionNew/Selection';\r\n\r\nclass FieldGenerator extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      options: null,\r\n    };\r\n\r\n    this.getOptions = this.getOptions.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getOptions();\r\n    this.doPrefill();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    this.getOptions(prevProps);\r\n    this.doPrefill(prevProps.errors);\r\n  }\r\n\r\n  getOptions(prevProps) {\r\n    try {\r\n      const { options } = this.state;\r\n      const { constants, fieldData } = this.props;\r\n      if (fieldData && fieldData.options_constant_key &&\r\n        (!prevProps || !options || (fieldData.options_constant_key !== prevProps.fieldData.options_constant_key))) {\r\n        this.setState({\r\n          options: _.map(constants[fieldData.options_constant_key], v => ({ display_name: v, value: v })),\r\n        });\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  doPrefill(prevErrors) {\r\n    const {\r\n      values,\r\n      onChangeValue,\r\n      fieldData,\r\n      errors,\r\n    } = this.props;\r\n\r\n    try {\r\n      const name = fieldData && fieldData.slug;\r\n      if (values && values[name]) {\r\n        // Set field type to values if contains prefill data\r\n        if (!values[name].type) {\r\n          onChangeValue(fieldData.type, name, values[name].value);\r\n        }\r\n      }\r\n\r\n      // Set default selection for image selection\r\n      if (\r\n        fieldData.type === 'image_selection' &&\r\n        (fieldData.is_required !== false) &&\r\n        !values[name]\r\n      ) {\r\n        onChangeValue(fieldData.type, name, fieldData.options[0].value);\r\n      }\r\n\r\n      const error = errors && errors[name];\r\n      const prevError = prevErrors && prevErrors[name];\r\n\r\n      if (error && !prevError && this.node) {\r\n        // window.scrollTo(0, this.node.getBoundingClientRect().y);\r\n        window.scrollTo({\r\n          top: this.node.getBoundingClientRect().y,\r\n          left: 0,\r\n          behavior: 'smooth',\r\n        });\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n  }\r\n\r\n  renderInput() {\r\n    const { options } = this.state;\r\n\r\n    const {\r\n      fieldData,\r\n      values,\r\n      onChangeValue,\r\n      errors,\r\n      noInternalDesc,\r\n      extraInfo,\r\n      handlePostCode,\r\n      isPrex,\r\n    } = this.props;\r\n\r\n    const name = fieldData && fieldData.slug;\r\n    const value = values && values[name] && values[name].value;\r\n    const error = errors && errors[name];\r\n\r\n    if (fieldData) {\r\n      if (fieldData.type === 'padding') {\r\n        return null;\r\n      }\r\n\r\n      const { conditions } = fieldData;\r\n\r\n      let isRenderable = true;\r\n      try {\r\n        _.each(conditions || [], (condition, index) => {\r\n          const isValid = values[condition.key].value === condition.value;\r\n          if (index === 0) {\r\n            isRenderable = isValid;\r\n          } else {\r\n            isRenderable = condition.type === 'or' ? isValid || isRenderable : isValid && isRenderable;\r\n          }\r\n        });\r\n      } catch (e) {\r\n        isRenderable = false;\r\n      }\r\n\r\n      if (!isRenderable) {\r\n        return null;\r\n      }\r\n\r\n      switch (fieldData.type) {\r\n        case 'email':\r\n        case 'number':\r\n        case 'time':\r\n        case 'text':\r\n        case 'textarea':\r\n        case 'password':\r\n        case 'postal': {\r\n          return (\r\n            <TextInput\r\n              type={fieldData.type}\r\n              value={value}\r\n              onChange={onChangeValue}\r\n              name={name}\r\n              errorString={error}\r\n              readOnly={fieldData.readOnly}\r\n              placeholderString={fieldData.title}\r\n              noInternalDesc={noInternalDesc}\r\n              extraInfo={extraInfo}\r\n              desc={fieldData.display_name}\r\n              handlePostCode={handlePostCode}\r\n            />\r\n          );\r\n        }\r\n        case 'select':\r\n        case 'multiple_select': {\r\n          return (\r\n            <Dropdown\r\n              isMultiple={fieldData.type === 'multiple_select'}\r\n              value={value}\r\n              onChange={onChangeValue}\r\n              name={name}\r\n              errorString={error}\r\n              placeholderString={fieldData.title}\r\n              dropList={fieldData.options || options}\r\n              noInternalDesc={noInternalDesc}\r\n              extraInfo={extraInfo}\r\n              desc={fieldData.display_name}\r\n            />\r\n          );\r\n        }\r\n        case 'checkbox': {\r\n          return (\r\n            <Checkbox\r\n              value={value}\r\n              name={name}\r\n              desc={fieldData.title}\r\n              onChange={onChangeValue}\r\n              errorString={error}\r\n              extraInfo={extraInfo}\r\n            />\r\n          );\r\n        }\r\n        case 'image_selection': {\r\n          return (\r\n            <ImageSelection\r\n              value={value}\r\n              onChange={onChangeValue}\r\n              name={name}\r\n              inputData={fieldData}\r\n              errorString={error}\r\n              extraInfo={extraInfo}\r\n              desc={fieldData.display_name}\r\n            />\r\n          );\r\n        }\r\n        case 'age_group': {\r\n          return (\r\n            <AgeGroup\r\n              inputData={fieldData}\r\n              value={value}\r\n              onChange={onChangeValue}\r\n              name={name}\r\n              errorString={error}\r\n              extraInfo={extraInfo}\r\n              desc={fieldData.display_name}\r\n            />\r\n          );\r\n        }\r\n        case 'date_range': {\r\n          let startName = 'start_date';\r\n          let endName = 'end_date';\r\n\r\n          try {\r\n            startName = fieldData.slugs && fieldData.slugs[0];\r\n            endName = fieldData.slugs && fieldData.slugs[1];\r\n          } catch (err) {\r\n            // eslint-disable-next-line\r\n          }\r\n\r\n          return (\r\n            <DateRangePicker\r\n              values={values}\r\n              onChange={onChangeValue}\r\n              startName={startName}\r\n              endName={endName}\r\n              errorString={errors}\r\n              startDate={fieldData.min_date}\r\n              endDate={fieldData.max_date}\r\n              errorStringStart={errors && errors[startName]}\r\n              errorStringEnd={errors && errors[endName]}\r\n              extraInfo={extraInfo}\r\n              noInternalDesc={noInternalDesc}\r\n              // desc={fieldData.display_name}\r\n              offsetDays={fieldData.offset_days}\r\n            />\r\n          );\r\n        }\r\n        case 'date': {\r\n          return (\r\n            <DatePicker\r\n              desc={fieldData.display_name}\r\n              startValue={value}\r\n              onChange={onChangeValue}\r\n              name={name}\r\n              placeholderString={fieldData.title}\r\n              errorString={error}\r\n              noInternalDesc={noInternalDesc}\r\n              extraInfo={extraInfo}\r\n              startDate={fieldData.min_date}\r\n              endDate={fieldData.max_date}\r\n            />\r\n          );\r\n        }\r\n        case 'persons': {\r\n          return (\r\n            <Persons\r\n              desc={fieldData.desc}\r\n              values={values}\r\n              onChange={onChangeValue}\r\n              nameAdult=\"num_adult\"\r\n              nameChildren=\"num_children\"\r\n              namePlanType=\"plan_type\"\r\n              nameTripType=\"trip_type\"\r\n              errorString={error}\r\n              extraInfo={extraInfo}\r\n              isPrex={isPrex}\r\n            />\r\n          );\r\n        }\r\n        case 'button_select':\r\n        case 'selection': {\r\n          return (\r\n            <Selection\r\n              desc={fieldData.display_name}\r\n              value={value}\r\n              onChange={onChangeValue}\r\n              name={name}\r\n              options={fieldData.options}\r\n              errorString={error}\r\n              extraInfo={extraInfo}\r\n              size={fieldData.tab_size}\r\n            />\r\n          );\r\n        }\r\n        default: return null;\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const { fieldData } = this.props;\r\n\r\n    if (!fieldData) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Col xs={12} sm={fieldData.size || 12}>\r\n        <div ref={node => this.node = node}>\r\n          {this.renderInput()}\r\n        </div>\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nFieldGenerator.defaultProps = {\r\n  values: {},\r\n  errors: {},\r\n  noInternalDesc: false,\r\n  extraInfo: null,\r\n  constants: null,\r\n  handlePostCode: null,\r\n  isPrex: false,\r\n};\r\n\r\nFieldGenerator.propTypes = {\r\n  values: PropTypes.object,\r\n  errors: PropTypes.object,\r\n  onChangeValue: PropTypes.func.isRequired,\r\n  fieldData: PropTypes.object.isRequired,\r\n  noInternalDesc: PropTypes.bool,\r\n  extraInfo: PropTypes.object,\r\n  constants: PropTypes.object,\r\n  handlePostCode: PropTypes.func,\r\n  isPrex: PropTypes.bool,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  constants: state.insurance.constants,\r\n});\r\n\r\nexport default connect(mapStateToProps)(FieldGenerator);\r\n","module.exports = __webpack_public_path__ + \"static/media/Mouse.b9427b8a.svg\";","module.exports = __webpack_public_path__ + \"static/media/CashbackLogo.8368adf4.svg\";","/**\r\n * LoadingScreen.js\r\n * Loading screen for anywhere use\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport styled, { keyframes } from 'styled-components';\r\n\r\nimport Logos from 'assets/images/InsurerLogos';\r\nimport './LoadingScreenV2.scss';\r\n\r\nclass LogoSlider extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const logos = _.map(Logos.small, logo => logo);\r\n    const keyFrameLogo = keyframes`\r\n      0%    { transform: translateX(0); }\r\n      100%  { transform: translateX(calc(-84px * ${logos.length})); }\r\n    `;\r\n\r\n    const AnimatedContainer = styled.div`\r\n      animation: ${keyFrameLogo} 5s linear infinite;\r\n    `;\r\n\r\n    this.state = {\r\n      logos: _.map(Logos.small, logo => logo),\r\n      AnimatedContainer,\r\n    };\r\n\r\n    this.renderLogos = this.renderLogos.bind(this);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval);\r\n  }\r\n\r\n  renderLogos(key) {\r\n    const { logos } = this.state;\r\n    return _.map(logos, (logo, index) => (\r\n      <img key={`loading-icon-${key}-${index}`} src={logo} alt={`loading-icon-${index}.svg`} />\r\n    ));\r\n  }\r\n\r\n  render() {\r\n    const { AnimatedContainer } = this.state;\r\n\r\n    return (\r\n      <AnimatedContainer\r\n        className=\"logo-container\"\r\n      >\r\n        {this.renderLogos(0)}\r\n        {this.renderLogos(1)}\r\n      </AnimatedContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LogoSlider;\r\n","/**\r\n * LoadingScreen.js\r\n * Loading screen for anywhere use\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ModalPopup from 'components/Templates/ModalPopup/ModalPopup';\r\nimport SpinnerAnimation from 'components/Templates/SpinnerAnimation/SpinnerAnimation';\r\nimport Button from 'components/FormsV3/Button/Button';\r\n\r\nimport LogoSlider from './LogoSlider';\r\n\r\nimport './LoadingScreenV2.scss';\r\n\r\nconst timeOutTimer = 30000;\r\n\r\nclass LoadingScreenV2 extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      overwriteShowWarning: false,\r\n    };\r\n\r\n    this.closeLoading = this.closeLoading.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handleChange();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { isLoading } = this.props;\r\n\r\n    if (isLoading !== prevProps.isLoading) {\r\n      this.handleChange();\r\n    }\r\n  }\r\n\r\n  handleChange() {\r\n    const { isLoading } = this.props;\r\n    if (isLoading) {\r\n      this.timer = setTimeout(() => this.setState({ overwriteShowWarning: true }), timeOutTimer);\r\n    }\r\n\r\n    if (!isLoading) {\r\n      clearTimeout(this.timer);\r\n      this.setState({ overwriteShowWarning: false });\r\n    }\r\n  }\r\n\r\n  async closeLoading() {\r\n    const {\r\n      showLoadingError,\r\n      showLoading,\r\n      errorCallback,\r\n    } = this.props;\r\n\r\n    this.setState({ overwriteShowWarning: false }, async () => {\r\n      await showLoadingError(false);\r\n      showLoading(false);\r\n\r\n      if (errorCallback) {\r\n        errorCallback();\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { overwriteShowWarning } = this.state;\r\n    const {\r\n      isLoading,\r\n      isLoadingError,\r\n      message,\r\n      noLogos,\r\n    } = this.props;\r\n\r\n    const loadingStyle = isLoading ? 'loading-screen-active' : '';\r\n\r\n    return (\r\n      <Fragment>\r\n        <div\r\n          className={`loading-screen-v2 ${loadingStyle}`}\r\n        >\r\n          {\r\n            isLoading ?\r\n              <Fragment>\r\n                <SpinnerAnimation />\r\n                {\r\n                  !noLogos &&\r\n                  <div className=\"bottom-container\">\r\n                    <p>Searching from esteemed partners...</p>\r\n                    <LogoSlider />\r\n                  </div>\r\n                }\r\n              </Fragment>\r\n            : null\r\n          }\r\n        </div>\r\n        <ModalPopup\r\n          showModal={overwriteShowWarning || isLoadingError}\r\n          closeModal={this.closeLoading}\r\n          className=\"loading-modal\"\r\n          backdropClassName=\"blue-modal-backdrop\"\r\n          header={<p>An error has occured</p>}\r\n          body={message}\r\n          zIndex={1052}\r\n          footer={\r\n            <Button\r\n              variant=\"medium-flat-green\"\r\n              height={48}\r\n              width={162}\r\n              onClick={this.closeLoading}\r\n            >\r\n              <p>Close</p>\r\n            </Button>\r\n          }\r\n        />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nLoadingScreenV2.defaultProps = {\r\n  noLogos: false,\r\n  errorCallback: null,\r\n};\r\n\r\nLoadingScreenV2.propTypes = {\r\n  isLoading: PropTypes.bool.isRequired,\r\n  isLoadingError: PropTypes.bool.isRequired,\r\n  message: PropTypes.object.isRequired,\r\n  showLoading: PropTypes.func.isRequired,\r\n  showLoadingError: PropTypes.func.isRequired,\r\n  noLogos: PropTypes.bool,\r\n  errorCallback: PropTypes.func,\r\n};\r\n\r\nexport default LoadingScreenV2;\r\n","import _ from 'lodash';\r\nimport moment from 'moment';\r\n// import { dateToString } from 'lib/dateFunctions';\r\n\r\nconst getInsurerLogo = (insurer_slug) => `https://webassets.policypal.com/insurer_logos/${insurer_slug}.png`;\r\nconst parseValues = (values) => {\r\n  const keys = Object.keys(values);\r\n  let result = {};\r\n\r\n  for (let i = 0; i < keys.length; i++) {\r\n    const key = keys[i];\r\n    const item = values[key];\r\n    \r\n    switch(key) {\r\n      case 'start_date':\r\n      case 'end_date':\r\n      case 'pet_birth_date':\r\n        const date = _.isObject(item) ? item.value : item;\r\n        result[key] = moment(date).format(\"DD/MM/YYYY\");\r\n        break;\r\n      case 'trip_type':\r\n      case 'plan_type':\r\n      case 'num_children':\r\n      case 'num_adult':\r\n        result[key] = item.value;\r\n        break;\r\n      case 'region':\r\n      case 'countries':\r\n        result[key] = _.isArray(item.value) ? Array.from(item.value, c => c.value) : item.value.value;\r\n        break;\r\n      default:\r\n        result[key] = item;\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nexport const getAddToCartData = (params = {}) => {\r\n  const allowedKeys = [\r\n    'insurer_slug',\r\n    'insurer_name',\r\n    'product_slug',\r\n    'product_name',\r\n    'coverage_level',\r\n  ];\r\n\r\n  let result = {};\r\n  if (Object.keys(params).length > 0) {\r\n    const {\r\n      insurer_slug: insurer_slug = '',\r\n      product_slug: product_slug = '',\r\n      values:       values = {},\r\n      price:        price = '',\r\n    } = params;\r\n\r\n    const product = {\r\n      ..._.pick(params, allowedKeys),\r\n      ...parseValues(values || {}),\r\n      id: `${insurer_slug}__${product_slug}`,\r\n      product_image: getInsurerLogo(insurer_slug),\r\n      quantity: 1,\r\n    }\r\n\r\n    result = {\r\n      content_ids:  [product.id],\r\n      content_name: product.product_name,\r\n      content_type: 'product',\r\n      contents:     [product],\r\n      ...((price) ? {currency: 'SGD', value: Number(price.replace('$', ''))} : {}),\r\n    }\r\n  }\r\n\r\n  return result;\r\n}","/**\r\n * DropDown.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { Input } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\n\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport Arrow from '../../../assets/images/forms/arrow.svg';\r\nimport Cross from '../../../assets/images/forms/cross.svg';\r\nimport MagnifyGlass from '../../../assets/images/forms/magnifyGlass.svg';\r\n\r\nimport './DropDown.scss';\r\nimport './MultipleSelectDropDown.scss';\r\n\r\n// How many items to display\r\nconst maxItemsDisplay = 5;\r\n// Height for dropdown\r\nconst defaultHeight = 48;\r\n// Padding for when multiple items overflow\r\nconst extraPaddingForMultiple = 5;\r\n// Error text to display when error\r\nconst resultNullString = {\r\n  display_name: 'No results found',\r\n  value: null,\r\n};\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass DropDown extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const {\r\n      dropList,\r\n      numItemsDisplay,\r\n    } = nextProps;\r\n\r\n    if (!_.isEqual(dropList, prevState.initialListItems)) {\r\n      const height = defaultHeight;\r\n      const numItems = numItemsDisplay || maxItemsDisplay;\r\n      const maxheight = (_.min([dropList ? dropList.length : 0, numItems]) + 1) * height;\r\n\r\n      return {\r\n        initialListItems: dropList,\r\n        listItems: dropList,\r\n        maxheight,\r\n        listHeight: maxheight,\r\n      };\r\n    }\r\n\r\n    return null;\r\n  }\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {object} props Component props\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // dropList - The passed down dropdown list items\r\n    // placeholderString - Placeholder string for input\r\n    // size - Size of this control\r\n    // numItemsDisplay - Max items to display on view\r\n    const {\r\n      dropList,\r\n      numItemsDisplay,\r\n      value,\r\n      isMultiple,\r\n    } = this.props;\r\n\r\n    // Get the control height\r\n    const height = defaultHeight;\r\n    // Get number of items to display\r\n    const numItems = numItemsDisplay || maxItemsDisplay;\r\n    // Get the max height of list\r\n    const maxheight = (_.min([dropList ? dropList.length : 0, numItems]) + 1) * height;\r\n    // isOpened - Whether dropdown is opened\r\n    // isError - Whether there is input error\r\n    // listItems - The actual dropdown list\r\n    // selectedString - The selected item string\r\n    // height - Preferred Control height\r\n    // numItemsDisplay - How many items to display\r\n    // maxheight - Max height of the list\r\n    // listHeight - Height of the list. (Items count + control)\r\n    // multipleSelectedElements - Array of multiple selected items\r\n    // listElementsCounter - Up down selection position\r\n    // clientHeight - Actual height of the control\r\n    this.state = {\r\n      isOpened: false,\r\n      listItems: dropList,\r\n      selectedString: (!isMultiple && value && value.display_name) || '',\r\n      height,\r\n      numItemsDisplay: numItems,\r\n      maxheight,\r\n      listHeight: maxheight,\r\n      multipleSelectedElements: null,\r\n      listElementsCounter: -1,\r\n      clientHeight: height,\r\n      extraPadding: 0,\r\n      noTransition: true,\r\n    };\r\n\r\n    this.updateDimensions = this.updateDimensions.bind(this);\r\n    this.handleClickOutside = this.handleClickOutside.bind(this);\r\n    this.renderListItems = this.renderListItems.bind(this);\r\n    this.renderTextInput = this.renderTextInput.bind(this);\r\n    this.handleSelectClick = this.handleSelectClick.bind(this);\r\n    this.handleOnInputChange = this.handleOnInputChange.bind(this);\r\n    this.handleSetMultipleSelectedItem = this.handleSetMultipleSelectedItem.bind(this);\r\n    this.handleDestroySelected = this.handleDestroySelected.bind(this);\r\n    this.handleInputKeyPress = this.handleInputKeyPress.bind(this);\r\n    this.handleItemKeyPress = this.handleItemKeyPress.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleExit = this.handleExit.bind(this);\r\n    this.handleBlur = this.handleBlur.bind(this);\r\n    this.handleFocus = this.handleFocus.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentDidMount\r\n   */\r\n  componentDidMount() {\r\n    const { value, isMultiple } = this.props;\r\n\r\n    // Add Handler to handle click outside of screen\r\n    document.addEventListener('mousedown', this.handleClickOutside);\r\n    // Update control height on resize in case it squeezes down\r\n    window.addEventListener('resize', this.updateDimensions);\r\n    // Update for the first time\r\n    this.updateDimensions();\r\n\r\n    const { overrideValue } = this.props;\r\n\r\n    if (value) {\r\n      if (isMultiple) {\r\n        this.setState({\r\n          multipleSelectedElements: value,\r\n        });\r\n      }\r\n    }\r\n\r\n    if (overrideValue) {\r\n      this.handleChange(overrideValue);\r\n    }\r\n\r\n    this.setState({ noTransition: false });\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentDidUpdate\r\n   */\r\n  componentDidUpdate(prevProps) {\r\n    const { multipleSelectedElements } = this.state;\r\n    const { overrideValue, value, isMultiple } = this.props;\r\n\r\n    // Use override mode if not using form\r\n    if (!_.isEqual(overrideValue, prevProps.overrideValue)) {\r\n      this.handleChange(overrideValue);\r\n    }\r\n\r\n    const isElements = !_.isEmpty(multipleSelectedElements);\r\n\r\n    if (!_.isEqual(value, prevProps.value)) {\r\n      this.setState({\r\n        selectedString: (value && value.display_name) || '',\r\n      });\r\n    }\r\n\r\n    if (value) {\r\n      if (!isElements || (isElements && !_.isEqual(value, multipleSelectedElements))) {\r\n        if (isMultiple) {\r\n          this.setState({\r\n            multipleSelectedElements: [...value],\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    // For re-render fix where multiple changed to single\r\n    if (isElements && !value) {\r\n      this.setState({\r\n        multipleSelectedElements: null,\r\n      });\r\n    }\r\n    // Update control height if necessary, since the\r\n    // height may change after render\r\n    this.updateDimensions();\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentWillUnmount\r\n   */\r\n  componentWillUnmount() {\r\n    // Remove Handler to handle click outside of screen\r\n    document.removeEventListener('mousedown', this.handleClickOutside);\r\n    window.removeEventListener('resize', this.updateDimensions);\r\n  }\r\n\r\n  /**\r\n   * Get client height of the selection container\r\n   * to determine the height of the whole control.\r\n   * (For multiple only)\r\n   *\r\n   * @param {object} event\r\n   */\r\n  updateDimensions() {\r\n    const { isMultiple } = this.props;\r\n\r\n    // Only multiple will expand\r\n    if (!isMultiple) {\r\n      return;\r\n    }\r\n\r\n    const {\r\n      clientHeight,\r\n      height,\r\n      extraPadding,\r\n    } = this.state;\r\n\r\n    let newHeight = defaultHeight;\r\n    try {\r\n      newHeight = this.selectedItemsContainer.children[this.selectedItemsContainer.childElementCount - 1].getBoundingClientRect().bottom - this.selectedItemsContainer.children[0].getBoundingClientRect().top;\r\n      newHeight = newHeight < defaultHeight ? defaultHeight : newHeight + 10;\r\n    } catch (error) {\r\n      // eslint-disable-next-line no-empty\r\n    }\r\n\r\n    // if client height is not same as DOM, update with padding if expanded\r\n    if (clientHeight !== newHeight) {\r\n      this.setState({\r\n        clientHeight: newHeight,\r\n        extraPadding: newHeight - 2 * extraPadding > height ? extraPaddingForMultiple : 0,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleChange(inputValue) {\r\n    const {\r\n      name,\r\n      onChange,\r\n      notForm,\r\n      valueChangeCallback,\r\n      isMultiple,\r\n    } = this.props;\r\n\r\n    if (notForm) {\r\n      if (valueChangeCallback) {\r\n        valueChangeCallback(inputValue);\r\n      }\r\n      this.inputField.value = inputValue.display_name;\r\n      return;\r\n    }\r\n\r\n    onChange(isMultiple ? 'multiple_select' : 'select', name, inputValue);\r\n  }\r\n\r\n  /**\r\n   * End selection if click on outside\r\n   *\r\n   * @param {object} event\r\n   */\r\n  handleClickOutside(event) {\r\n    const { isOpened } = this.state;\r\n\r\n    // If clicked outside, go to exit\r\n    if (\r\n      isOpened &&\r\n      this.wrapperRef &&\r\n      !this.wrapperRef.contains(event.target)\r\n    ) {\r\n      // Close it\r\n      this.setState({\r\n        isOpened: false,\r\n      });\r\n\r\n      // Unset from focus\r\n      this.isFromFocus = false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle on enter key\r\n   *\r\n   * @param {object} event\r\n   */\r\n  handleInputKeyPress(event) {\r\n    const {\r\n      isOpened,\r\n      listElementsCounter,\r\n      selectedString,\r\n      multipleSelectedElements,\r\n    } = this.state;\r\n\r\n    const { isMultiple, placeholderString } = this.props;\r\n\r\n    // If pressed on enter, go to exit\r\n    if (event.key === 'Enter') {\r\n      this.handleExit();\r\n      event.preventDefault();\r\n      return;\r\n    }\r\n\r\n    // Press down arrow from input\r\n    if (event.key === 'ArrowDown') {\r\n      if (isOpened) {\r\n        if (listElementsCounter === -1) {\r\n          event.preventDefault();\r\n        }\r\n        this.handleItemKeyPress(event);\r\n      } else {\r\n        this.setState({\r\n          isOpened: true,\r\n        });\r\n      }\r\n    }\r\n\r\n    if (\r\n      isMultiple &&\r\n      event.key === 'Backspace' &&\r\n      (selectedString === '' || selectedString === placeholderString) &&\r\n      !_.isEmpty(multipleSelectedElements)\r\n    ) {\r\n      this.handleDestroySelected(multipleSelectedElements[multipleSelectedElements.length - 1]);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Key press on list items\r\n   *\r\n   * @param {object} event\r\n   */\r\n  handleItemKeyPress(event, inputValue) {\r\n    const {\r\n      listElementsCounter,\r\n    } = this.state;\r\n\r\n    let index = listElementsCounter;\r\n\r\n    // If click enter on list item\r\n    if (event.key === 'Enter') {\r\n      // Focus input field\r\n      // this.inputField.focus();\r\n      // Handle exit with the item value\r\n      this.handleExit(inputValue);\r\n      event.preventDefault();\r\n      return;\r\n    }\r\n\r\n    // Navigate list with up down arrow\r\n    if (event.key === 'ArrowDown') {\r\n      index = listElementsCounter + 1;\r\n    } else if (event.key === 'ArrowUp') {\r\n      index = listElementsCounter - 1;\r\n    }\r\n\r\n    // Cap index within list\r\n    index = Math.max(0, Math.min(index, this.listElements.length - 1));\r\n    // Focus on the next item\r\n    this.listElements[index].focus();\r\n\r\n    // If index changed, update state\r\n    if (index !== listElementsCounter) {\r\n      this.setState({\r\n        listElementsCounter: index,\r\n      });\r\n    }\r\n\r\n    event.stopPropagation();\r\n  }\r\n\r\n  /**\r\n   * Handle toggling of dropdown list\r\n   *\r\n   * @param {bool} isOpenOnly - Only can open\r\n   */\r\n  handleSelectClick(isOpenOnly = false) {\r\n    const {\r\n      isOpened,\r\n      selectedString,\r\n      maxheight,\r\n      multipleSelectedElements,\r\n    } = this.state;\r\n\r\n    const {\r\n      dropList,\r\n      isMultiple,\r\n    } = this.props;\r\n\r\n    // If this frame is not from focus\r\n    if (!this.isFromFocus) {\r\n      // Set open state\r\n      if (!isOpenOnly || (isOpenOnly && !isOpened)) {\r\n        this.setState({\r\n          isOpened: !isOpened,\r\n        });\r\n      }\r\n\r\n      // If previously invalid, reset list\r\n      if (!selectedString || selectedString === resultNullString.display_name) {\r\n        this.setState({\r\n          listItems: dropList,\r\n          listHeight: maxheight,\r\n          listElementsCounter: -1,\r\n        });\r\n\r\n        if (!isMultiple || (isMultiple && _.isEmpty(multipleSelectedElements))) {\r\n          this.handleChange(null);\r\n        }\r\n      }\r\n    }\r\n\r\n    // Unlock from focus\r\n    this.isFromFocus = false;\r\n  }\r\n\r\n  /**\r\n   * Handles selection of dropdown item\r\n   *\r\n   * @param {object} event - Click event\r\n   * @param {string} item - Input string\r\n   */\r\n  handleSelectItemClick(event, item) {\r\n    // If click on null item return\r\n    if (item.value === resultNullString.value) {\r\n      return;\r\n    }\r\n\r\n    const { numItemsDisplay, height } = this.state;\r\n    const { dropList } = this.props;\r\n\r\n    const {\r\n      isMultiple,\r\n    } = this.props;\r\n\r\n    // Reset drop list items to all, set selected string,\r\n    // and reset any errors\r\n    this.setState({\r\n      listItems: dropList,\r\n      listHeight: (_.min([(dropList && dropList.length) || 0, numItemsDisplay]) + 1) * height,\r\n    });\r\n\r\n    // this.formParent.clearErrorString();\r\n\r\n    if (isMultiple) {\r\n      // If multiple dropdown, reset selected string\r\n      this.setState({\r\n        selectedString: '',\r\n      });\r\n\r\n      // Set input field text to empty\r\n      this.inputField.value = '';\r\n      // Refocus input bar\r\n      // this.inputField.focus();\r\n\r\n      // Set multiple selected item\r\n      this.handleSetMultipleSelectedItem(item);\r\n    } else {\r\n      this.setState({\r\n        selectedString: item.display_name,\r\n      }, () => {\r\n        // Toggle the dropdown menu\r\n        this.handleSelectClick();\r\n\r\n        // Update redux state\r\n        this.handleChange(item);\r\n\r\n        // Close dropdown\r\n        this.setState({\r\n          isOpened: false,\r\n        });\r\n      });\r\n    }\r\n\r\n    event.stopPropagation();\r\n  }\r\n\r\n  /**\r\n   * Selection of multi select dropdown\r\n   *\r\n   * @param {string} item\r\n   */\r\n  handleSetMultipleSelectedItem(item) {\r\n    const { multipleSelectedElements, height } = this.state;\r\n\r\n    const newArr = multipleSelectedElements || [];\r\n\r\n    // If item does not exists in the selected list\r\n    if (!_.find(newArr, i => i.value === item.value)) {\r\n      // Add item to list\r\n      newArr.push(item);\r\n\r\n      // Change state\r\n      this.setState({\r\n        multipleSelectedElements: newArr,\r\n        clientHeight: this.selectedContainer ? this.selectedContainer.clientHeight : height,\r\n        isOpened: false,\r\n      });\r\n\r\n      // Update redux store\r\n      this.handleChange(newArr);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Destroys multi selected item\r\n   *\r\n   * @param {string} item\r\n   */\r\n  handleDestroySelected(item) {\r\n    const { height } = this.state;\r\n\r\n    const { multipleSelectedElements } = this.state;\r\n    // Duplicate clean copy\r\n    let newArr = multipleSelectedElements.slice();\r\n    // Delete chosen item\r\n    const index = newArr.indexOf(item);\r\n    newArr.splice(index, 1);\r\n    // Set null if empty\r\n    newArr = newArr.length === 0 ? null : newArr;\r\n\r\n    // Update state\r\n    this.setState({\r\n      multipleSelectedElements: newArr,\r\n      clientHeight: this.selectedContainer ? this.selectedContainer.clientHeight : height,\r\n    });\r\n\r\n    // Update redux state\r\n    this.handleChange(newArr);\r\n    this.isFromFocus = false;\r\n  }\r\n\r\n  /**\r\n   * Handles on input changes\r\n   *\r\n   * @param {object} event\r\n   */\r\n  async handleOnInputChange(event) {\r\n    // Get current input value\r\n    const { value } = event.target;\r\n\r\n    const { dropList } = this.props;\r\n    const { height, numItemsDisplay } = this.state;\r\n\r\n    // Attempt to match value to list\r\n    const result = _.filter(\r\n      dropList,\r\n      item => item.display_name.toString().toUpperCase().indexOf(value.toString().toUpperCase()) === 0,\r\n    );\r\n\r\n    // Get length of new list, min 1 which is error string\r\n    const length = result.length ? result.length : 1;\r\n\r\n    // Set new list items, height of dropdown list,\r\n    // Force open list on type, and set selected string to value\r\n    this.setState({\r\n      listItems: result.length ? result : [resultNullString],\r\n      listHeight: (_.min([length, numItemsDisplay]) + 1) * height,\r\n      isOpened: true,\r\n      selectedString: value,\r\n      listElementsCounter: -1,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Handle Blur event\r\n   *\r\n   * @param {object} event\r\n   */\r\n  handleBlur(event) {\r\n    // Check if focus event contains children\r\n    const isChildren = this.wrapperRef.contains(event.relatedTarget);\r\n\r\n    // If outside of children\r\n    if (!isChildren) {\r\n      // Close dropdown\r\n      this.setState({\r\n        isOpened: false,\r\n      });\r\n      // Handle exit case\r\n      this.handleExit();\r\n      this.isFromFocus = false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle Focus event\r\n   *\r\n   * @param {object} event\r\n   */\r\n  handleFocus(event) {\r\n    const { isOpened } = this.state;\r\n\r\n    // Check if focus event contains children\r\n    const isChildren = this.wrapperRef.contains(event.relatedTarget);\r\n    // If not from children\r\n    if (!isChildren) {\r\n      // Open dropdown\r\n      if (!isOpened) {\r\n        this.handleSelectClick(true);\r\n        // Prevent double click\r\n        this.isFromFocus = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle exit selection of entered input\r\n   *\r\n   * @param {string} inputValue - From selection\r\n   */\r\n  handleExit(inputValue = null) {\r\n    const {\r\n      selectedString,\r\n      listItems,\r\n    } = this.state;\r\n\r\n    const {\r\n      placeholderString,\r\n      dropList,\r\n      isMultiple,\r\n    } = this.props;\r\n\r\n    // Result string if match original list\r\n    let resultValue = null;\r\n    // If input causes an error\r\n    let isError = false;\r\n    // The string to use\r\n    const finalString = inputValue !== null ? inputValue.display_name : selectedString;\r\n\r\n    // If possible valid input\r\n    if (\r\n      finalString &&\r\n      finalString !== placeholderString &&\r\n      finalString !== ''\r\n    ) {\r\n      // Attempt to match finalString to original list\r\n      listItems.some((obj) => {\r\n        const result = obj.display_name.toString().toLowerCase() === finalString.toString().toLowerCase();\r\n        if (result) {\r\n          resultValue = obj;\r\n        }\r\n\r\n        return result;\r\n      });\r\n\r\n      // Check error if no match\r\n      isError = !resultValue;\r\n      // Set result string to match value or error value\r\n      resultValue = isError ? null : resultValue;\r\n\r\n      if (isMultiple) {\r\n        if (!isError) {\r\n          this.handleSetMultipleSelectedItem(resultValue);\r\n        }\r\n\r\n        this.inputField.value = '';\r\n      } else {\r\n        // Update redux value\r\n        this.handleChange(resultValue);\r\n\r\n        this.setState({\r\n          isOpened: false,\r\n        });\r\n      }\r\n    }\r\n\r\n    // If not error, reset list to list all,\r\n    // Set selected string and error if possible\r\n    // and close the list\r\n    this.setState({\r\n      listItems: isError ? listItems : dropList,\r\n      selectedString: (resultValue && resultValue.display_name) || '',\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Renders the dropdown list items\r\n   */\r\n  renderListItems() {\r\n    const { listItems, height } = this.state;\r\n    this.listElements = [];\r\n\r\n    const result = _.map(listItems, item => (\r\n      <li key={item.value}>\r\n        <div\r\n          className=\"list-item text-style\"\r\n          style={{ height }}\r\n          onClick={event => this.handleSelectItemClick(event, item)}\r\n          role=\"button\"\r\n          tabIndex={-1}\r\n          onKeyDown={(event) => { this.handleItemKeyPress(event, item); }}\r\n          ref={(node) => { if (node !== null) this.listElements.push(node); }}\r\n        >\r\n          <p>{item.display_name}</p>\r\n        </div>\r\n      </li>\r\n    ));\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Render the multiple selected elements in the input container\r\n   */\r\n  renderMultipleSelectedElements() {\r\n    const { multipleSelectedElements } = this.state;\r\n    const { isMultiple } = this.props;\r\n\r\n    if (!isMultiple) {\r\n      return null;\r\n    }\r\n\r\n    return _.map(multipleSelectedElements, item => (\r\n      <div className=\"selected-item-container\" key={item.value}>\r\n        <div className=\"selected-item\">\r\n          <p>{item.display_name}</p>\r\n          <button\r\n            type=\"button\"\r\n            className=\"selected-item-destroy\"\r\n            onMouseUp={() => this.handleDestroySelected(item)}\r\n            tabIndex={-1}\r\n          >\r\n            <img src={Cross} alt=\"cross.svg\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    ));\r\n  }\r\n\r\n  renderTextInput() {\r\n    const { selectedString } = this.state;\r\n    const {\r\n      isMultiple,\r\n      isDisableTyping,\r\n      placeholderString,\r\n      name,\r\n      notForm,\r\n    } = this.props;\r\n\r\n    return (\r\n      <Input\r\n        value={selectedString || ''}\r\n        name={name}\r\n        placeholder={((isMultiple || notForm) && placeholderString) || ''}\r\n        autoComplete=\"off\"\r\n        ref={node => (this.inputField = node)}\r\n        onChange={event => this.handleOnInputChange(event)}\r\n        onKeyDown={event => this.handleInputKeyPress(event)}\r\n        onClick={() => this.handleSelectClick(true)}\r\n        disabled={isDisableTyping}\r\n      />\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Render component\r\n   */\r\n  render() {\r\n    const {\r\n      isOpened,\r\n      listHeight,\r\n      height,\r\n      clientHeight,\r\n      extraPadding,\r\n      noTransition,\r\n    } = this.state;\r\n\r\n    // const isOpened = true;\r\n\r\n    if (height && listHeight) {\r\n      const {\r\n        maxWidth,\r\n        isMultiple,\r\n        desc,\r\n        extraInfo,\r\n        errorString,\r\n        noInternalDesc,\r\n        logo,\r\n        placeholderString,\r\n        value,\r\n      } = this.props;\r\n\r\n      // Actual height of the whole control\r\n      const actualheight = isOpened ? listHeight : height;\r\n      // Actual height of only the list\r\n      const actualListheight = actualheight - height;\r\n\r\n      // Dynamic styles\r\n      const dropDownOpenStyle = isOpened ? 'dropdown-container-opened' : 'dropdown-container-closed';\r\n      const arrowStyle = isOpened ? 'angle-up' : 'angle-down';\r\n      const transitionStyle = noTransition ? '' : 'do-transition';\r\n      const listStyle = isOpened ? `list-opened ${transitionStyle}` : `list-closed ${transitionStyle}`;\r\n      const multipleStyle = isMultiple || logo ? 'multi-drop-v3' : '';\r\n      const isErrorStyle = errorString ? 'error' : '';\r\n\r\n      const noInternalDescStyle = noInternalDesc ? 'no-internal-desc' : '';\r\n\r\n      const titleStyle = value ? 'focused-title' : '';\r\n      const marginTop = clientHeight > defaultHeight || isOpened ? clientHeight : 0;\r\n      const marginBottom = clientHeight > defaultHeight ? 6 : 0;\r\n\r\n      const logoImg = isMultiple ? MagnifyGlass : logo;\r\n      const zIndexStyle = isOpened ? 'drop-open' : 'drop-close';\r\n\r\n      return (\r\n        <FormInputWrapper\r\n          desc={desc}\r\n          extraInfo={extraInfo}\r\n          errorString={errorString}\r\n        >\r\n          <div\r\n            className={`dropdown-container-v3 ${zIndexStyle} ${multipleStyle} ${noInternalDescStyle}`}\r\n            style={{\r\n              height: clientHeight,\r\n              maxWidth,\r\n              marginBottom,\r\n            }}\r\n            ref={node => (this.wrapperRef = node)}\r\n            onBlur={event => this.handleBlur(event)}\r\n            onFocus={event => this.handleFocus(event)}\r\n          >\r\n            <div\r\n              className={`dropdown-container ${dropDownOpenStyle} ${isErrorStyle}`}\r\n            >\r\n              {\r\n                isMultiple || noInternalDesc ? null :\r\n                <div className={`title-header ${titleStyle}`}>\r\n                  {placeholderString}\r\n                </div>\r\n              }\r\n              <div\r\n                className=\"selected-container\"\r\n                onKeyDown={event => this.handleInputKeyPress(event)}\r\n                role=\"button\"\r\n                style={{ minHeight: height }}\r\n                tabIndex={-1}\r\n                ref={node => (this.selectedContainer = node)}\r\n              >\r\n                {\r\n                  logoImg ?\r\n                    <div className=\"icon-container\" style={{ minHeight: height }}>\r\n                      <img\r\n                        src={logoImg}\r\n                        alt=\"DropdownImage.svg\"\r\n                      />\r\n                    </div>\r\n                  :\r\n                    null\r\n                }\r\n                <div\r\n                  className=\"selected-items-container\"\r\n                  ref={node => this.selectedItemsContainer = node}\r\n                  style={{ paddingTop: extraPadding, paddingBottom: extraPadding }}\r\n                >\r\n                  {this.renderMultipleSelectedElements()}\r\n                  <div className=\"selected-text selected-text-multi\">\r\n                    {this.renderTextInput()}\r\n                  </div>\r\n                </div>\r\n                <div\r\n                  className=\"selected-arrow\"\r\n                  onClick={() => this.handleSelectClick()}\r\n                  onKeyPress={() => {}}\r\n                  role=\"button\"\r\n                  tabIndex={-1}\r\n                >\r\n                  <img\r\n                    src={Arrow}\r\n                    alt=\"arrow.svg\"\r\n                    className={`selected-arrow-style ${arrowStyle}`}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <Scrollbars\r\n                className={`list-container ${listStyle}`}\r\n                style={{\r\n                  minHeight: actualListheight,\r\n                  marginTop,\r\n                }}\r\n                ref={node => this.listContainer = node}\r\n                tabIndex={-1}\r\n              >\r\n                {\r\n                  isOpened ?\r\n                    this.renderListItems()\r\n                  :\r\n                    null\r\n                }\r\n              </Scrollbars>\r\n            </div>\r\n          </div>\r\n        </FormInputWrapper>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\nDropDown.defaultProps = {\r\n  maxWidth: '100%',\r\n  numItemsDisplay: maxItemsDisplay,\r\n  isMultiple: false,\r\n  desc: null,\r\n  isDisableTyping: false,\r\n  extraInfo: null,\r\n  notForm: false,\r\n  overrideValue: null,\r\n  errorString: null,\r\n  dropList: null,\r\n  valueChangeCallback: null,\r\n  name: null,\r\n  noInternalDesc: false,\r\n  logo: null,\r\n  value: null,\r\n};\r\n\r\nDropDown.propTypes = {\r\n  dropList: PropTypes.array,\r\n  placeholderString: PropTypes.string.isRequired,\r\n  maxWidth: PropTypes.string,\r\n  name: PropTypes.string,\r\n  numItemsDisplay: PropTypes.number,\r\n  isMultiple: PropTypes.bool,\r\n  desc: PropTypes.string,\r\n  isDisableTyping: PropTypes.bool,\r\n  extraInfo: PropTypes.object,\r\n  notForm: PropTypes.bool,\r\n  overrideValue: PropTypes.string,\r\n  errorString: PropTypes.string,\r\n  valueChangeCallback: PropTypes.func,\r\n  noInternalDesc: PropTypes.bool,\r\n  logo: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  value: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\r\n};\r\n\r\nexport default DropDown;\r\n","import React, { Component } from 'react';\r\nimport { CustomInput } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport './Checkbox.scss';\r\n\r\nexport default class Checkbox extends Component {\r\n  render() {\r\n    const {\r\n      name,\r\n      value,\r\n      desc,\r\n      onChange,\r\n      errorString,\r\n      extraInfo,\r\n    } = this.props;\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        errorString={errorString}\r\n        extraInfo={extraInfo}\r\n        smallMargin\r\n      >\r\n        <div className=\"checkbox-container-v3\">\r\n          <CustomInput\r\n            id={name}\r\n            className=\"checkbox-input\"\r\n            type=\"checkbox\"\r\n            onChange={() => onChange('checkbox', name, !value)}\r\n            checked={!!value}\r\n          />\r\n          {/* eslint-disable-next-line */}\r\n          <p\r\n            className=\"checkbox-input-desc\"\r\n            // onClick={() => onChange('checkbox', name, !value)}\r\n          >\r\n            {desc}\r\n          </p>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nCheckbox.defaultProps = {\r\n  value: null,\r\n  errorString: null,\r\n  extraInfo: null,\r\n};\r\n\r\nCheckbox.propTypes = {\r\n  value: PropTypes.bool,\r\n  name: PropTypes.string.isRequired,\r\n  desc: PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.array]).isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  errorString: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n};\r\n","/**\r\n * SpeechScroll.js\r\n * The hovering dropdown that appears in the navbar and\r\n * the multi compare view insurer's row.\r\n *\r\n * It will auto close when out of the box.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Tooltip as TooltipStrap } from 'reactstrap';\r\n\r\nimport TooltipImg from 'assets/images/common/tooltip.svg';\r\n\r\nimport './Tooltip.scss';\r\n\r\nclass Tooltip extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isOpen: false,\r\n    };\r\n\r\n    this.toggle = this.toggle.bind(this);\r\n  }\r\n\r\n  toggle() {\r\n\r\n  }\r\n\r\n  render() {\r\n    const { isOpen } = this.state;\r\n    const { id, innerClassName } = this.props;\r\n\r\n    return (\r\n      <div className=\"tooltip-container \">\r\n        <TooltipStrap\r\n          target={id}\r\n          isOpen={isOpen}\r\n          toggle={() => this.setState({ isOpen: false })}\r\n          className=\"animated fade\"\r\n          innerClassName={[innerClassName, 'tooltip-inner-custom'].join(' ')}\r\n          arrowClassName=\"tooltip-arrow-custom\"\r\n          placement=\"bottom-end\"\r\n        >\r\n          {this.props.children}\r\n        </TooltipStrap>\r\n        <img\r\n          id={id}\r\n          src={TooltipImg}\r\n          alt=\"Tooltip.svg\"\r\n          onMouseEnter={() => this.setState({ isOpen: true })}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTooltip.defaultProps = {\r\n  innerClassName: '',\r\n};\r\n\r\nTooltip.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  innerClassName: PropTypes.string,\r\n};\r\n\r\nexport default Tooltip;\r\n","/**\r\n * TabView.js\r\n * TabView that uses a carousel or fading.\r\n *\r\n * For carousel, it will take in multiple elements in\r\n * an array to swap when changed tabs.\r\n *\r\n * For fading view, it will only take the 1st element in the array,\r\n * but it does a fading to simulate and give time for the change of state\r\n * to happen in that element.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\nimport ReactDOM from 'react-dom';\r\nimport { connect } from 'react-redux';\r\nimport { Carousel } from 'react-responsive-carousel';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport DropDown from '../../FormsV3/DropDown/DropDown';\r\n\r\nimport { setTabSelection } from '../../../actions/tabActions';\r\n\r\nimport './TabViewNew.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass TabViewNew extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const {\r\n      currentTabSelection,\r\n      tabs,\r\n      maxTabWidthPx,\r\n      isDataFadeOnly,\r\n      padding,\r\n      children,\r\n    } = nextProps;\r\n\r\n    const { activeIndex } = prevState;\r\n\r\n    let result = null;\r\n\r\n    if (tabs && currentTabSelection) {\r\n      const newIndex = _.findIndex(tabs, tab => tab.desc === currentTabSelection);\r\n      if (newIndex >= 0 && newIndex !== activeIndex) {\r\n        result = {\r\n          activeIndex: newIndex,\r\n        };\r\n      }\r\n    }\r\n\r\n    if (tabs !== prevState.tabs && children) {\r\n      const isUsingMaxWidth = maxTabWidthPx > 0;\r\n      const maxWidth = (100 - padding) / (isDataFadeOnly ? tabs.length : children.length);\r\n      const tabWidth = isUsingMaxWidth ? maxTabWidthPx : maxWidth;\r\n\r\n      result = {\r\n        ...result,\r\n        tabs,\r\n        width: tabWidth,\r\n        widthPercentage: isUsingMaxWidth ? `${maxTabWidthPx}px` : `${tabWidth}%`,\r\n        maxWidth: `${maxWidth}%`,\r\n      };\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {object} props Component props\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const {\r\n      padding,\r\n      children,\r\n      maxTabWidthPx,\r\n      isDataFadeOnly,\r\n      tabs,\r\n      initialIndex,\r\n    } = this.props;\r\n\r\n    const isUsingMaxWidth = maxTabWidthPx > 0;\r\n    const maxWidth = (100 - padding) / (isDataFadeOnly ? tabs.length : children.length);\r\n    const tabWidth = isUsingMaxWidth ? maxTabWidthPx : maxWidth;\r\n\r\n    this.state = {\r\n      activeIndex: initialIndex,\r\n      containerWidth: 0,\r\n      width: tabWidth,\r\n      widthPercentage: isUsingMaxWidth ? `${maxTabWidthPx}px` : `${tabWidth}%`,\r\n      maxWidth: `${maxWidth}%`,\r\n      paddingWidth: maxTabWidthPx ? '100%' : `${padding}%`,\r\n      isControlVisible: true,\r\n      isUsingMaxWidth,\r\n      // isDropDownControl: tabs && tabs.length > 10,\r\n      fadeStyle: '',\r\n      tabs,\r\n    };\r\n\r\n    this.goToIndex = this.goToIndex.bind(this);\r\n\r\n    this.handleResize = this.handleResize.bind(this);\r\n    this.resizeTabHeight = this.resizeTabHeight.bind(this);\r\n    this.renderTabs = this.renderTabs.bind(this);\r\n    this.renderTabContent = this.renderTabContent.bind(this);\r\n    this.renderControls = this.renderControls.bind(this);\r\n    this.renderSlides = this.renderSlides.bind(this);\r\n    this.renderScollableTabs = this.renderScollableTabs.bind(this);\r\n    this.renderSelectableTabs = this.renderSelectableTabs.bind(this);\r\n    this.renderDropControls = this.renderDropControls.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { tabs } = this.state;\r\n    const {\r\n      initialIndex,\r\n      name,\r\n      changeTab,\r\n    } = this.props;\r\n\r\n    changeTab(name, tabs[0].desc);\r\n\r\n    window.addEventListener('resize', this.handleResize);\r\n\r\n    this.handleResize();\r\n\r\n    this.resizeTabHeight(initialIndex, ReactDOM.findDOMNode(this.carousel));\r\n\r\n    this.setState({\r\n      activeIndex: initialIndex,\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { tabs, activeIndex, containerWidth } = this.state;\r\n    const { setTriggerHeightUpdate } = this.props;\r\n    if (!prevProps.setTriggerHeightUpdate && setTriggerHeightUpdate) {\r\n      const { resizeTabHeight } = this;\r\n\r\n      setTriggerHeightUpdate(() => {\r\n        resizeTabHeight(activeIndex);\r\n      });\r\n    }\r\n\r\n    if (tabs !== prevState.tabs) {\r\n      this.resizeTabHeight(activeIndex);\r\n    }\r\n\r\n    if (this.tabContainer) {\r\n      const tabWidth = this.tabContainer.getBoundingClientRect().width;\r\n      if (tabWidth !== containerWidth) {\r\n        setTimeout(() => this.setState({ containerWidth: tabWidth }), 100);\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.handleResize);\r\n  }\r\n\r\n  handleResize() {\r\n    const { isControlVisible, activeIndex } = this.state;\r\n    const { hideWidth } = this.props;\r\n\r\n    // this.setState({\r\n    //   isDropDownControl: window.innerWidth < 560 || (tabs && tabs.length > 10),\r\n    // });\r\n\r\n\r\n    this.resizeTabHeight(activeIndex);\r\n\r\n    if (hideWidth) {\r\n      const isVisibleNow = window.innerWidth > hideWidth;\r\n\r\n      this.setState({\r\n        isControlVisible: isVisibleNow,\r\n      });\r\n\r\n      if (isControlVisible && !isVisibleNow) {\r\n        this.goToIndex(0);\r\n      }\r\n    }\r\n  }\r\n\r\n  goToIndex(newIndex, isForced = false) {\r\n    const { tabs, activeIndex } = this.state;\r\n    if (!isForced && newIndex === activeIndex) {\r\n      return;\r\n    }\r\n    const {\r\n      name,\r\n      isDataFadeOnly,\r\n      changeTab,\r\n    } = this.props;\r\n\r\n\r\n    if (isDataFadeOnly) {\r\n      this.setState({\r\n        fadeStyle: 'animated fadeOut',\r\n      });\r\n\r\n      this.setState({ activeIndex: newIndex });\r\n      changeTab(name, tabs[newIndex].desc);\r\n\r\n      setTimeout(() => {\r\n        if (tabs[newIndex].onClick) {\r\n          tabs[newIndex].onClick();\r\n        }\r\n        this.setState({\r\n          fadeStyle: 'animated fadeIn',\r\n        });\r\n\r\n        setTimeout(() => {\r\n          this.setState({\r\n            fadeStyle: '',\r\n          });\r\n        }, 300);\r\n      }, 300);\r\n    } else {\r\n      this.setState({ activeIndex: newIndex });\r\n      changeTab(name, tabs[newIndex].desc);\r\n      if (tabs[newIndex].onClick) {\r\n        tabs[newIndex].onClick();\r\n      }\r\n    }\r\n\r\n    this.resizeTabHeight(newIndex);\r\n  }\r\n\r\n  resizeTabHeight(index, carouselIncoming = null, overrideNegation = null) {\r\n    const { isConstantHeight } = this.props;\r\n\r\n    const carouselToUse = carouselIncoming !== null ? carouselIncoming : ReactDOM.findDOMNode(this.carousel);\r\n    // No other way for now >_<\r\n    if (!isConstantHeight && carouselToUse) {\r\n      const list = carouselToUse.getElementsByTagName('UL')[0];\r\n      const children = list.children[index];\r\n\r\n      if (children) {\r\n        const sliderWrapper = list.parentNode;\r\n        const itemHeight = overrideNegation ? children.children[0].scrollHeight + overrideNegation : children.children[0].scrollHeight;\r\n        sliderWrapper.style.height = itemHeight === 0 ? 1000 : `${itemHeight}px`;\r\n      }\r\n    }\r\n  }\r\n\r\n  renderTabContent(tab, activeStyle) {\r\n    const {\r\n      big,\r\n    } = this.props;\r\n\r\n    const bigTextStyle = big ? 'tab-text-big' : '';\r\n\r\n    const isWithImg = !_.isString(tab);\r\n    const desc = isWithImg ? tab.desc : tab;\r\n    const img = isWithImg ? tab.img : null;\r\n\r\n    return (\r\n      <Fragment>\r\n        {\r\n          img ?\r\n            <div className=\"img-container\">\r\n              <img className={activeStyle} src={img} alt={`${desc}.svg`} />\r\n            </div>\r\n          :\r\n            null\r\n        }\r\n        <p className={`${activeStyle} ${bigTextStyle}`}>{desc}</p>\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderTabs(width) {\r\n    const { activeIndex, tabs } = this.state;\r\n    const {\r\n      big,\r\n      maxTabWidthPx,\r\n    } = this.props;\r\n\r\n    const bigTabStyle = big ? 'tab-big' : '';\r\n\r\n    return _.map(tabs, (tab, index) => {\r\n      const tabStyle = index === activeIndex ? 'active' : 'inactive';\r\n      const maxWidth = maxTabWidthPx > 0 ? maxTabWidthPx : null;\r\n\r\n      return (\r\n        <div\r\n          className={`tab ${bigTabStyle}`}\r\n          style={{ width, maxWidth }}\r\n          key={`tab${index}`}\r\n        >\r\n          <div\r\n            className=\"tab-inner\"\r\n            onClick={() => { this.goToIndex(index); }}\r\n            role=\"button\"\r\n            tabIndex={-1}\r\n            onKeyDown={() => {}}\r\n          >\r\n            {this.renderTabContent(tab, tabStyle)}\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  renderSlides() {\r\n    const { children } = this.props;\r\n    const { goToIndex } = this;\r\n\r\n    return _.map(children, (item, index) => (\r\n      <div key={`tab-item${index}`}>\r\n        {React.cloneElement(item, {\r\n          updateTabHeight: (overrideNegation = null) => this.resizeTabHeight(index, null, overrideNegation),\r\n          goToIndex,\r\n        })}\r\n      </div>\r\n    ));\r\n  }\r\n\r\n  renderScollableTabs() {\r\n    const { activeIndex, tabs } = this.state;\r\n    const { isDisableDropdown } = this.props;\r\n    const displayStyle = isDisableDropdown ? '' : 'd-none d-sm-flex';\r\n\r\n    return (\r\n      <Fragment>\r\n        <div className={`scroll-tabs ${displayStyle}`}>\r\n          <Scrollbars style={{ width: '100%', height: '100%' }}>\r\n            <div className=\"scroll-tabs-inner\">\r\n              {\r\n                _.map(tabs, (tab, index) => {\r\n                  const tabStyle = index === activeIndex ? 'active' : 'inactive';\r\n                  return (\r\n                    <div\r\n                      key={`tab${index}`}\r\n                    >\r\n                      <div\r\n                        className={`tab-inner ${tabStyle}`}\r\n                        onClick={() => { this.goToIndex(index); }}\r\n                        role=\"button\"\r\n                        tabIndex={-1}\r\n                        onKeyDown={() => {}}\r\n                      >\r\n                        {tab.desc}\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })\r\n              }\r\n            </div>\r\n          </Scrollbars>\r\n        </div>\r\n        {\r\n          !isDisableDropdown ?\r\n            <div className=\"d-flex d-sm-none w-100\">\r\n              {this.renderDropControls()}\r\n            </div>\r\n          : null\r\n        }\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderDropControls() {\r\n    const { tabs, activeIndex } = this.state;\r\n    const droplist = _.map(tabs, tab => ({ display_name: tab.desc, value: tab.desc }));\r\n\r\n    return (\r\n      <div className=\"tab-container\">\r\n        <DropDown\r\n          placeholderString=\"Make selection\"\r\n          dropList={droplist}\r\n          value={{ display_name: tabs[activeIndex].desc, value: tabs[activeIndex].desc }}\r\n          isDisableTyping\r\n          onChange={(type, name, value) => {\r\n            this.goToIndex(_.findIndex(tabs, tab => tab.desc === value.value));\r\n          }}\r\n          noInternalDesc\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderSelectableTabs() {\r\n    const {\r\n      activeIndex,\r\n      width,\r\n      widthPercentage,\r\n      maxWidth,\r\n      containerWidth,\r\n      paddingWidth,\r\n      isUsingMaxWidth,\r\n      tabs,\r\n    } = this.state;\r\n\r\n    const {\r\n      style,\r\n      big,\r\n      charged,\r\n      isDisableDropdown,\r\n    } = this.props;\r\n\r\n    const isOverContainer = tabs && tabs.length * width > containerWidth;\r\n    const selectedMargin = isUsingMaxWidth && !isOverContainer ? activeIndex * width : `${activeIndex / tabs.length * 100}%`;\r\n    const bigStyle = big ? 'tab-big' : '';\r\n    const tabStyle = charged ? 'tab-container-charged' : '';\r\n    const displayStyle = isDisableDropdown ? '' : 'd-none d-lg-flex';\r\n\r\n    return (\r\n      <Fragment>\r\n        <div\r\n          style={style}\r\n          className={`tab-container ${tabStyle} tab-container-padding ${displayStyle}`}\r\n          ref={node => this.tabContainer = node}\r\n        >\r\n          {this.renderTabs(isOverContainer ? maxWidth : widthPercentage)}\r\n          <div className=\"tab tab-padding\" style={{ width: paddingWidth }} />\r\n          <div\r\n            className={`selected-tab ${bigStyle}`}\r\n            style={{\r\n              width: widthPercentage,\r\n              maxWidth,\r\n              marginLeft: selectedMargin,\r\n            }}\r\n          />\r\n        </div>\r\n        {\r\n          !isDisableDropdown ?\r\n            <div className=\"d-flex d-lg-none w-100\">\r\n              {this.renderDropControls()}\r\n            </div>\r\n          : null\r\n        }\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderControls() {\r\n    const { scrollTabs } = this.props;\r\n\r\n    if (scrollTabs) {\r\n      return this.renderScollableTabs();\r\n    }\r\n\r\n    return this.renderSelectableTabs();\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      activeIndex,\r\n      isControlVisible,\r\n      fadeStyle,\r\n    } = this.state;\r\n\r\n    const { isDataFadeOnly, className } = this.props;\r\n\r\n    return (\r\n      <div className={`tabview-container-new ${className}`}>\r\n        {\r\n          isControlVisible ?\r\n            this.renderControls()\r\n          :\r\n            null\r\n        }\r\n        <div className={`tab-items-container ${fadeStyle}`}>\r\n          {\r\n            isDataFadeOnly ?\r\n              this.props.children\r\n            :\r\n              <Carousel\r\n                showThumbs={false}\r\n                showIndicators={false}\r\n                showArrows={false}\r\n                showStatus={false}\r\n                selectedItem={activeIndex}\r\n                swipeable={false}\r\n                onChange={index => this.goToIndex(index)}\r\n                ref={node => (this.carousel = node)}\r\n              >\r\n                {this.renderSlides()}\r\n              </Carousel>\r\n          }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTabViewNew.defaultProps = {\r\n  padding: 0,\r\n  hideWidth: 0,\r\n  maxTabWidthPx: 0,\r\n  style: null,\r\n  isDisableDropdown: false,\r\n  isConstantHeight: false,\r\n  initialIndex: 0,\r\n  setTriggerHeightUpdate: null,\r\n  isDataFadeOnly: false,\r\n  big: false,\r\n  className: null,\r\n  charged: null,\r\n  scrollTabs: false,\r\n};\r\n\r\nTabViewNew.propTypes = {\r\n  padding: PropTypes.number,\r\n  tabs: PropTypes.array.isRequired,\r\n  hideWidth: PropTypes.number,\r\n  maxTabWidthPx: PropTypes.number,\r\n  style: PropTypes.object,\r\n  isDisableDropdown: PropTypes.bool,\r\n  isConstantHeight: PropTypes.bool,\r\n  initialIndex: PropTypes.number,\r\n  setTriggerHeightUpdate: PropTypes.func,\r\n  isDataFadeOnly: PropTypes.bool,\r\n  big: PropTypes.bool,\r\n  name: PropTypes.string.isRequired,\r\n  className: PropTypes.string,\r\n  charged: PropTypes.bool,\r\n  changeTab: PropTypes.func.isRequired,\r\n  scrollTabs: PropTypes.bool,\r\n};\r\n\r\nconst mapStateToProps = (state, props) => ({\r\n  currentTabSelection: state.tab[props.name],\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  changeTab: (tabName, value) => {\r\n    dispatch(setTabSelection(tabName, value));\r\n  },\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps, null, { withRef: true })(TabViewNew);\r\n","module.exports = __webpack_public_path__ + \"static/media/Label.500a43ce.svg\";","/**\r\n * PromoCode.js\r\n * PromoCode field that takes in a callback\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Input } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport '../TextInput/TextInput.scss';\r\nimport './PromoCode.scss';\r\n\r\nconst defaultHeight = 48;\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass PromoCode extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const { value } = nextProps;\r\n    const { oldValue } = prevState;\r\n\r\n    if (value !== oldValue) {\r\n      return {\r\n        value,\r\n        oldValue: value,\r\n      };\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { value } = this.props;\r\n\r\n    this.state = {\r\n      value,\r\n      oldValue: value,\r\n      errorString: null,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.isComMounted = true;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.isComMounted = false;\r\n  }\r\n\r\n  render() {\r\n    const { value, errorString, oldValue } = this.state;\r\n    const { value: propsValue } = this.props;\r\n\r\n    const {\r\n      name,\r\n      placeholderString,\r\n      extraInfo,\r\n      postCheckout,\r\n    } = this.props;\r\n\r\n    const buttonText = propsValue ? 'Remove' : 'Apply';\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        extraInfo={extraInfo}\r\n        errorString={errorString}\r\n      >\r\n        <div\r\n          className=\"text-input-container-v3 promo-container-v3\"\r\n          style={{ height: defaultHeight }}\r\n        >\r\n          <div className=\"text-input \">\r\n            <Input\r\n              className=\"text\"\r\n              placeholder={placeholderString}\r\n              name={name}\r\n              disabled={propsValue}\r\n              value={value || ''}\r\n              onChange={e => this.setState({ value: e.target.value })}\r\n            />\r\n            <div className=\"promo-button\">\r\n              <Button\r\n                variant=\"medium-outline-edit\"\r\n                height={32}\r\n                width={88}\r\n                onClick={async () => {\r\n                  try {\r\n                    if (propsValue) {\r\n                      await postCheckout(null);\r\n\r\n                      if (this.isComMounted) {\r\n                        this.setState({\r\n                          errorString: null,\r\n                        });\r\n                      }\r\n                      return;\r\n                    }\r\n\r\n                    if (value) {\r\n                      const result = await postCheckout(value);\r\n                      if (this.isComMounted) {\r\n                        // Promo code will not be set\r\n                        if (!result) {\r\n                          this.setState({\r\n                            errorString: 'Invalid promo code!',\r\n                            value: oldValue,\r\n                          });\r\n                        } else {\r\n                          this.setState({\r\n                            errorString: null,\r\n                          });\r\n                        }\r\n                      }\r\n                    }\r\n                  } catch (error) {\r\n                    // eslint-disable-next-line\r\n                  }\r\n                }}\r\n              >\r\n                <p>{buttonText}</p>\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nPromoCode.defaultProps = {\r\n  extraInfo: null,\r\n  value: '',\r\n};\r\n\r\n\r\nPromoCode.propTypes = {\r\n  placeholderString: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  postCheckout: PropTypes.func.isRequired,\r\n  extraInfo: PropTypes.object,\r\n  value: PropTypes.string,\r\n};\r\n\r\nexport default PromoCode;\r\n","// @flow\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport LoadingScreenV2 from 'components/Templates/LoadingScreenV2/LoadingScreenV2';\r\n\r\nclass StripePayment extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      currMarkup: null,\r\n      extraData: null,\r\n      isLoading: false,\r\n      isLoadingError: false,\r\n    };\r\n\r\n    this.cleanCheckoutButtonContainer = this.cleanCheckoutButtonContainer.bind(this);\r\n    this.setNewMarkup = this.setNewMarkup.bind(this);\r\n    this.invokeClick = this.invokeClick.bind(this);\r\n\r\n    this.showLoading = this.showLoading.bind(this);\r\n    this.showLoadingError = this.showLoadingError.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { markup } = this.props;\r\n    this.setNewMarkup(markup);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { currMarkup } = this.state;\r\n    const { markup } = this.props;\r\n\r\n    if (currMarkup !== markup) {\r\n      if (markup) {\r\n        this.setNewMarkup(markup);\r\n      } else if (!markup) {\r\n        this.setState({\r\n          currMarkup: null,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  setNewMarkup(markup) {\r\n    const { paymentCallback, replacementIDString } = this.props;\r\n\r\n    if (!markup) {\r\n      return;\r\n    }\r\n\r\n    this.cleanCheckoutButtonContainer();\r\n\r\n    const range = document.createRange();\r\n    if (replacementIDString) {\r\n      this.checkoutButton.appendChild(range.createContextualFragment(_.replace(markup, replacementIDString, 'id=\"checkout_form\"')));\r\n    } else {\r\n      this.checkoutButton.appendChild(range.createContextualFragment(markup));\r\n    }\r\n\r\n    window.$('#checkout_form').get(0).submit = () => {\r\n      const { extraData } = this.state;\r\n      const data = window.$('#checkout_form').serializeArray();\r\n\r\n\r\n      paymentCallback(data, extraData);\r\n\r\n      this.setState({\r\n        extraData: null,\r\n      });\r\n\r\n      // Prevent form submit.\r\n      return false;\r\n    };\r\n\r\n    // eslint-disable-next-line\r\n    this.setState({\r\n      currMarkup: markup,\r\n    });\r\n  }\r\n\r\n  showLoading(isLoading) {\r\n    this.setState({ isLoading });\r\n  }\r\n\r\n  showLoadingError(isLoadingError) {\r\n    this.setState({ isLoadingError });\r\n  }\r\n\r\n  cleanCheckoutButtonContainer() {\r\n    while (this.checkoutButton.firstChild) {\r\n      this.checkoutButton.removeChild(this.checkoutButton.firstChild);\r\n    }\r\n  }\r\n\r\n  invokeClick(failCallback, extraData, doTag = null) {\r\n    const { zeroPaymentCallback } = this.props;\r\n\r\n    let failCallTimeout = null;\r\n\r\n    this.setState({\r\n      extraData,\r\n    });\r\n\r\n    this.showLoading(true);\r\n\r\n    const ele = document.getElementsByName('stripe_checkout_app');\r\n    for (let i = ele.length - 1; i >= 0; i--) {\r\n      ele[i].parentNode.removeChild(ele[i]);\r\n    }\r\n\r\n    const invokeClick = setInterval(() => {\r\n      try {\r\n        const { amount } = window.$('#checkout_form')[0].getElementsByClassName('stripe-button')[0].dataset;\r\n        if (amount === '0') {\r\n          this.showLoading(false);\r\n          if (doTag) {\r\n            doTag();\r\n          }\r\n          if (zeroPaymentCallback) {\r\n            zeroPaymentCallback();\r\n          }\r\n          clearInterval(invokeClick);\r\n          clearTimeout(failCallTimeout);\r\n          return;\r\n        }\r\n      } catch (error) {\r\n        console.log('Get new payable failed');\r\n        clearInterval(invokeClick);\r\n        clearTimeout(failCallTimeout);\r\n        this.showLoadingError(true);\r\n        failCallback();\r\n      }\r\n\r\n      try {\r\n        const button = window.$('#checkout_form')[0].getElementsByClassName('stripe-button-el')[0];\r\n        if (button) {\r\n          window.$(button).trigger('click');\r\n          if (doTag) {\r\n            doTag();\r\n          }\r\n          clearInterval(invokeClick);\r\n          clearTimeout(failCallTimeout);\r\n          setTimeout(() => this.showLoading(false), 5000);\r\n        }\r\n      } catch (error) {\r\n        console.log('Button not yet generated!');\r\n        clearInterval(invokeClick);\r\n        clearTimeout(failCallTimeout);\r\n        this.showLoadingError(true);\r\n        failCallback();\r\n      }\r\n    }, 10);\r\n\r\n    failCallTimeout = setTimeout(() => {\r\n      clearInterval(invokeClick);\r\n      this.showLoadingError(true);\r\n      failCallback();\r\n    }, 10000);\r\n  }\r\n\r\n  render() {\r\n    const { isLoading, isLoadingError } = this.state;\r\n\r\n    return (\r\n      <Fragment>\r\n        <div className=\"d-none\" ref={(node) => { this.checkoutButton = node; }} />\r\n        <LoadingScreenV2\r\n          isLoading={isLoading}\r\n          isLoadingError={isLoadingError}\r\n          message={<h5>Please try again.</h5>}\r\n          showLoading={this.showLoading}\r\n          showLoadingError={this.showLoadingError}\r\n          noLogos\r\n        />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nStripePayment.defaultProps = {\r\n  markup: null,\r\n  replacementIDString: null,\r\n  zeroPaymentCallback: null,\r\n};\r\n\r\nStripePayment.propTypes = {\r\n  markup: PropTypes.string,\r\n  // doLoadStripeState: PropTypes.func.isRequired,\r\n  paymentCallback: PropTypes.func.isRequired,\r\n  zeroPaymentCallback: PropTypes.func,\r\n  replacementIDString: PropTypes.string,\r\n};\r\n\r\nexport default StripePayment;\r\n","/**\r\n * PiggySignUp.js\r\n * The piggy sign up template\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport PiggyBank from 'assets/images/forms/PiggyBank.svg';\r\n\r\nimport './PiggySignUpNew.scss';\r\n\r\nclass PiggySignUpNew extends Component {\r\n  render() {\r\n    const {\r\n      header,\r\n      subHeader,\r\n      onClick,\r\n      isLoggedIn,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div\r\n        className={`piggy-container-new ${isLoggedIn ? 'piggy-hovered' : 'piggy-hover'}`}\r\n        onClick={onClick}\r\n        role=\"button\"\r\n        tabIndex={-1}\r\n        onKeyDown={null}\r\n      >\r\n        <Col className=\"d-flex d-sm-none wrap-container\" xs={12}>\r\n          <div className=\"piggy-img-container\">\r\n            <img src={PiggyBank} alt=\"Pig.svg\" />\r\n          </div>\r\n          <div className=\"piggy-right-container\">\r\n            <div className=\"piggy-desc-container\">\r\n              {header}\r\n              {subHeader}\r\n            </div>\r\n          </div>\r\n        </Col>\r\n        <Col className=\"d-none d-sm-flex wrap-container\" xs={12}>\r\n          <div className=\"piggy-img-container\">\r\n            <img src={PiggyBank} alt=\"Pig.svg\" />\r\n          </div>\r\n          <div className=\"piggy-right-container\">\r\n            <div className=\"piggy-desc-container\">\r\n              {header}\r\n              {subHeader}\r\n            </div>\r\n          </div>\r\n        </Col>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nPiggySignUpNew.defaultProps = {\r\n  onClick: () => {},\r\n  isLoggedIn: false,\r\n  subHeader: null,\r\n};\r\n\r\nPiggySignUpNew.propTypes = {\r\n  header: PropTypes.object.isRequired,\r\n  subHeader: PropTypes.object,\r\n  onClick: PropTypes.func,\r\n  isLoggedIn: PropTypes.bool,\r\n};\r\n\r\nexport default PiggySignUpNew;\r\n","/**\r\n * PiggyFillForm.js\r\n * The piggy component in DetailForm\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n * @author [Nicolette](nicolette@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport PiggySignUp from './PiggySignUpNew';\r\n\r\nclass PiggyFillFormNew extends Component {\r\n  render() {\r\n    const {\r\n      onClick,\r\n      category,\r\n      mainText,\r\n      descText,\r\n      isLoggedIn,\r\n      cashback,\r\n    } = this.props;\r\n\r\n    let mainTextToUse = mainText;\r\n    let descTextToUse = descText;\r\n\r\n    if (!mainTextToUse) {\r\n      mainTextToUse = category === 'life' || category === 'endowment' || category === 'retirement' ?\r\n        'Earn extra $5 Credits instantly!' :\r\n        'Sign in to get 5% Cashback on your purchase!';\r\n    }\r\n\r\n    if (!descTextToUse) {\r\n      descTextToUse = category === 'life' || category === 'endowment' || category === 'retirement' ?\r\n        'Submit the form below as a PolicyPal user to earn $5 Credits in your account.' :\r\n        'Purchase as a PolicyPal user to earn 5% Cashback in your account within 14 days.';\r\n    }\r\n\r\n    if (isLoggedIn && cashback) {\r\n      mainTextToUse = `Proceed to earn ${cashback} cashback now!`;\r\n      descTextToUse = null;\r\n    }\r\n\r\n\r\n    return (\r\n      <PiggySignUp\r\n        isLoggedIn={isLoggedIn}\r\n        header={\r\n          <p className=\"main-text\">{mainTextToUse}</p>\r\n        }\r\n        subHeader={\r\n          descTextToUse && <p className=\"desc-text\">{descTextToUse}</p>\r\n        }\r\n        onClick={!isLoggedIn && onClick ? onClick : null}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nPiggyFillFormNew.defaultProps = {\r\n  onClick: () => {},\r\n  mainText: null,\r\n  descText: null,\r\n  isLoggedIn: false,\r\n  cashback: null,\r\n};\r\n\r\nPiggyFillFormNew.propTypes = {\r\n  onClick: PropTypes.func,\r\n  category: PropTypes.string.isRequired,\r\n  mainText: PropTypes.string,\r\n  descText: PropTypes.string,\r\n  isLoggedIn: PropTypes.bool,\r\n  cashback: PropTypes.string,\r\n};\r\n\r\nexport default PiggyFillFormNew;\r\n","/**\r\n * RedirectPopupForm.js\r\n * The form view of the redirect component\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { reduxForm } from 'redux-form';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport TextInput from '../../Forms/TextInput/TextInput';\r\nimport Selection from '../../Forms/Selection/Selection';\r\n\r\nimport { validateForm } from '../../../lib/validators';\r\n\r\n\r\nclass RedirectPopupForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      errorString: null,\r\n    };\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    const { onConfirm, category, noEmail } = this.props;\r\n    const email = noEmail ? [] : ['email'];\r\n\r\n    const errorResult = validateForm(e, [...email, 'disclaimer']);\r\n\r\n    if (!noEmail && errorResult.email) {\r\n      this.setState({\r\n        errorString: 'Invalid email!',\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (_.isEmpty(e.disclaimer)) {\r\n      this.setState({\r\n        errorString: 'Please agree to the terms to proceed.',\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!_.isEmpty(errorResult)) {\r\n      this.setState({\r\n        errorString: 'Please fill in all fields!',\r\n      });\r\n\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      errorString: null,\r\n    });\r\n\r\n    onConfirm({ ...e, category });\r\n  }\r\n\r\n  render() {\r\n    const { errorString } = this.state;\r\n    const {\r\n      handleSubmit,\r\n      form,\r\n      change,\r\n      noEmail,\r\n    } = this.props;\r\n\r\n    return (\r\n      <form onSubmit={handleSubmit(this.handleSubmit)}>\r\n        <div className=\"mid-container\">\r\n          <Row noGutters>\r\n            {\r\n              noEmail ?\r\n                null\r\n              :\r\n                <Col xs={12}>\r\n                  <TextInput\r\n                    form={form}\r\n                    change={change}\r\n                    name=\"email\"\r\n                    placeholderString=\"\"\r\n                    size=\"medium\"\r\n                    zIndex={99}\r\n                    desc=\"Email Address\"\r\n                  />\r\n                </Col>\r\n            }\r\n            <Col xs={12}>\r\n              <Selection\r\n                form={form}\r\n                change={change}\r\n                name=\"disclaimer\"\r\n                type=\"checkbox\"\r\n                options={[\r\n                  { key: 'disclaimer', description: 'I agree to store this policy in my PolicyPal account after purchase, in accordance with the Personal Data Protection Act.' },\r\n                ]}\r\n                sizeInSM={12}\r\n                desc=\"\"\r\n              />\r\n            </Col>\r\n            {\r\n              errorString ?\r\n                <Col xs={12}>\r\n                  <p className=\"error-string\">{errorString}</p>\r\n                </Col>\r\n              :\r\n                null\r\n            }\r\n          </Row>\r\n        </div>\r\n        <div className=\"button-container\">\r\n          <Button\r\n            type=\"submit\"\r\n            className=\"checkout-button\"\r\n            variant=\"medium-flat-green\"\r\n            width={166}\r\n            height={72}\r\n          >\r\n            <p>Confirm</p>\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nRedirectPopupForm.defaultProps = {\r\n  category: null,\r\n  noEmail: false,\r\n};\r\n\r\nRedirectPopupForm.propTypes = {\r\n  onConfirm: PropTypes.func.isRequired,\r\n  handleSubmit: PropTypes.func.isRequired,\r\n  form: PropTypes.string.isRequired,\r\n  change: PropTypes.func.isRequired,\r\n  category: PropTypes.string,\r\n  noEmail: PropTypes.bool,\r\n};\r\n\r\nexport default reduxForm({\r\n  form: 'redirect-form',\r\n})(RedirectPopupForm);\r\n","/**\r\n * RedirectPopup.js\r\n * Popup to inform users that we are redirecting\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport RedirectPopupForm from './RedirectPopupForm';\r\nimport Popup from '../Popup/Popup';\r\n\r\nimport './RedirectPopup.scss';\r\n\r\nclass RedirectPopup extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      category: null,\r\n    };\r\n\r\n    this.openRedirectPopup = this.openRedirectPopup.bind(this);\r\n  }\r\n\r\n  openRedirectPopup(category) {\r\n    this.setState({\r\n      category,\r\n    });\r\n    setTimeout(this.popupRef.openPopup, 100);\r\n  }\r\n\r\n  render() {\r\n    const { category } = this.state;\r\n    const { onConfirm, noEmail } = this.props;\r\n\r\n    return (\r\n      <Popup ref={(r) => { this.popupRef = r; }}>\r\n        <Fragment>\r\n          <div className=\"redirect-popup\">\r\n            <div className=\"upper-container\">\r\n              <p>{'Kindly fill up the following section before we redirect you to the insurer\\'s page. The details below will be used for verification with the insurer after purchase.'}</p>\r\n            </div>\r\n            <RedirectPopupForm\r\n              noEmail={noEmail}\r\n              closPopup={() => this.popupRef.closePopup()}\r\n              onConfirm={onConfirm}\r\n              category={category}\r\n            />\r\n          </div>\r\n        </Fragment>\r\n      </Popup>\r\n    );\r\n  }\r\n}\r\n\r\nRedirectPopup.defaultProps = {\r\n  noEmail: false,\r\n};\r\n\r\nRedirectPopup.propTypes = {\r\n  onConfirm: PropTypes.func.isRequired,\r\n  noEmail: PropTypes.bool,\r\n};\r\n\r\nexport default RedirectPopup;\r\n\r\n","module.exports = __webpack_public_path__ + \"static/media/TagLabel.61fadb00.svg\";","module.exports = \"data:image/png;base64,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\"","/**\r\n * CheckoutUsingCashback.js\r\n * Show this view when payment amount is 0.\r\n * Shoule be from cashback reduction to 0.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport CashbackLogo from 'assets/images/common/CashbackLogo.svg';\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport Popup from '../Popup/Popup';\r\n\r\nimport './CheckoutPopup.scss';\r\n\r\nclass CheckoutUsingCashback extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.openCheckoutUsingCashback = this.openCheckoutUsingCashback.bind(this);\r\n  }\r\n\r\n  openCheckoutUsingCashback() {\r\n    this.popupRef.openPopup();\r\n  }\r\n\r\n  render() {\r\n    const { onConfirm } = this.props;\r\n    return (\r\n      <Popup ref={(r) => { this.popupRef = r; }}>\r\n        <Fragment>\r\n          <div className=\"check-out-popup\">\r\n            <div className=\"upper-container upper-margin-down\">\r\n              <p>\r\n                <span>Purchase using </span>\r\n                <img src={CashbackLogo} alt=\"CashbackLogo.svg\" />\r\n                <span className=\"focus-text\"> Cashback</span>\r\n              </p>\r\n            </div>\r\n            <div className=\"mid-container\">\r\n              <p>No payment is needed</p>\r\n            </div>\r\n            <div className=\"button-container\">\r\n              <Button\r\n                className=\"checkout-button\"\r\n                variant=\"medium-flat\"\r\n                width={166}\r\n                height={72}\r\n                onClick={() => this.popupRef.closePopup()}\r\n              >\r\n                <p>Cancel</p>\r\n              </Button>\r\n              <Button\r\n                className=\"checkout-button\"\r\n                variant=\"medium-color\"\r\n                width={166}\r\n                height={72}\r\n                onClick={() => {\r\n                  onConfirm();\r\n                  this.popupRef.closePopup();\r\n                }}\r\n              >\r\n                <p>Confirm</p>\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Fragment>\r\n      </Popup>\r\n    );\r\n  }\r\n}\r\n\r\nCheckoutUsingCashback.defaultProps = {\r\n};\r\n\r\nCheckoutUsingCashback.propTypes = {\r\n  onConfirm: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default CheckoutUsingCashback;\r\n","/**\r\n * CircleHeader.js\r\n * Circle component for claims\r\n *\r\n * @version 0.0.1\r\n * @author [Barry](barry@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Collapse, Button } from 'reactstrap';\r\n\r\nimport Arrow from 'assets/images/forms/arrow.svg';\r\n\r\nimport './DetailCollapse.scss';\r\n\r\nclass DetailCollapse extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.toggle = this.toggle.bind(this);\r\n    this.state = { collapse: false };\r\n  }\r\n\r\n  toggle() {\r\n    this.setState({ collapse: !this.state.collapse });\r\n  }\r\n\r\n  render() {\r\n    const { collapse } = this.state;\r\n    const {\r\n      collapseOverwrite,\r\n      useOverwrite,\r\n      className,\r\n      topHr,\r\n    } = this.props;\r\n\r\n    const collapseToUse = useOverwrite ? collapseOverwrite : collapse;\r\n\r\n    return (\r\n      <Col className={['detail-collapse-container', className].join(' ')} xs={12}>\r\n        {\r\n          !useOverwrite &&\r\n          <Button\r\n            onClick={this.toggle}\r\n            className=\"collapse-button\"\r\n          >\r\n            <p className=\"grey-text collapse-text\">{collapse ? 'Hide details' : 'More details'}</p>\r\n            <img className={collapse ? 'rotate-arrow' : ''} src={Arrow} alt=\"Arrow.svg\" />\r\n          </Button>\r\n        }\r\n        {!useOverwrite && collapseToUse && topHr && <hr />}\r\n        <Collapse isOpen={collapseToUse}>\r\n          {this.props.children}\r\n        </Collapse>\r\n        {!useOverwrite && !topHr && <hr />}\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nDetailCollapse.defaultProps = {\r\n  collapseOverwrite: false,\r\n  useOverwrite: false,\r\n  className: '',\r\n  topHr: false,\r\n};\r\n\r\nDetailCollapse.propTypes = {\r\n  collapseOverwrite: PropTypes.bool,\r\n  useOverwrite: PropTypes.bool,\r\n  topHr: PropTypes.bool,\r\n  className: PropTypes.string,\r\n};\r\n\r\nexport default DetailCollapse;\r\n","/**\r\n * CheckoutComplete.js\r\n * Detail View for travel\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component, Fragment } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport ModalPopup from 'components/Templates/ModalPopup/ModalPopup';\r\nimport CheckoutCompleteSVG from 'assets/images/common/CheckoutComplete.svg';\r\n\r\nimport './CheckoutComplete.scss';\r\n\r\nclass CheckoutComplete extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      animateStyle: '',\r\n      showModal: false,\r\n    };\r\n\r\n    this.openCheckoutComplete = this.openCheckoutComplete.bind(this);\r\n  }\r\n\r\n  openCheckoutComplete(userName = null) {\r\n    this.setState({\r\n      showModal: true,\r\n    }, () => {\r\n      setTimeout(() => {\r\n        this.setState({\r\n          animateStyle: 'bounce-in',\r\n          userName,\r\n        });\r\n      }, 500);\r\n    });\r\n  }\r\n\r\n  renderUpperText() {\r\n    const { userName } = this.state;\r\n    const { isQuoteOnly, upperText } = this.props;\r\n\r\n    if (!isQuoteOnly) {\r\n      return (\r\n        <Fragment>\r\n          <p>Thank you for your</p>\r\n          <p><span>purchase, </span><span className=\"focus-text\">{userName}</span></p>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <p>{upperText || 'Success'}</p>\r\n    );\r\n  }\r\n\r\n  renderMidText() {\r\n    const { isQuoteOnly, midText } = this.props;\r\n\r\n    const message = 'The insurers representative will contact you within 2 business days to share with you more about the selected product.';\r\n\r\n    // Our partnered FA representative from Synergy Financial Advisers Pte Ltd will contact you within 48 hours to share with you more about the selected product.\r\n    if (!isQuoteOnly) {\r\n      return (\r\n        <Fragment>\r\n          <p>A copy of the receipt has been sent to</p>\r\n          <p>your inbox.</p>\r\n          <p>{'The policy will be reflected in PolicyPal\\'s APP once approved.'}</p>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    if (midText !== null) {\r\n      return (\r\n        <Fragment>\r\n          <p>{midText}</p>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        <p>Thanks for submitting your request.</p>\r\n        <p>{message}</p>\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderButton() {\r\n    const {\r\n      history,\r\n      isQuoteOnly,\r\n      buttonText,\r\n      callback,\r\n    } = this.props;\r\n\r\n    if (!isQuoteOnly) {\r\n      return (\r\n        <Fragment>\r\n          <Button\r\n            className=\"checkout-button\"\r\n            variant=\"medium-flat\"\r\n            width={166}\r\n            height={72}\r\n            onClick={() => history.push('/gotoappstore')}\r\n          >\r\n            <p>Download APP</p>\r\n          </Button>\r\n          <Button\r\n            className=\"checkout-button\"\r\n            variant=\"medium-flat-green\"\r\n            width={166}\r\n            height={72}\r\n            onClick={() => this.setState({ showModal: false })}\r\n          >\r\n            <p>Details</p>\r\n          </Button>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Button\r\n        className=\"checkout-button\"\r\n        variant=\"medium-flat-green\"\r\n        width={166}\r\n        height={72}\r\n        onClick={() => {\r\n          if (callback) {\r\n            callback();\r\n            this.setState({\r\n              showModal: false,\r\n            });\r\n            return;\r\n          }\r\n          history.push('/');\r\n        }}\r\n      >\r\n        <p>{buttonText || 'OK'}</p>\r\n      </Button>\r\n    );\r\n  }\r\n\r\n  renderBody() {\r\n    const { animateStyle } = this.state;\r\n    const { isSellLeads } = this.props;\r\n\r\n    const extraText = !isSellLeads ? '' : 'In the event that you purchase a plan through our partner, PolicyPal receives a referral fee.';\r\n\r\n    return (\r\n      <div className=\"check-out-complete\">\r\n        <img className={animateStyle} src={CheckoutCompleteSVG} alt=\"CheckoutComplete.svg\" />\r\n        <div className=\"upper-container upper-margin-up\">\r\n          {this.renderUpperText()}\r\n        </div>\r\n        <div className=\"mid-container\">\r\n          {this.renderMidText()}\r\n        </div>\r\n        <div className=\"button-container\">\r\n          {this.renderButton()}\r\n        </div>\r\n        <div className=\"extra-text\"><p>{extraText}</p></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { showModal } = this.state;\r\n\r\n    try {\r\n      return (\r\n        <div>\r\n          <ModalPopup\r\n            showModal={showModal}\r\n            closeModal={() => this.setState({ showModal: false })}\r\n            className=\"check-out-complete-popup\"\r\n            backdropClassName=\"blue-modal-backdrop\"\r\n            // header={<p>{formState === 0 ? data.disclaimer.header : data.form.header}</p>}\r\n            body={this.renderBody()}\r\n            // footer={formState === 0 ? this.renderDisclaimerButton() : this.renderFormButton()}\r\n          />\r\n        </div>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\nCheckoutComplete.defaultProps = {\r\n  isQuoteOnly: false,\r\n  isSellLeads: false,\r\n  upperText: null,\r\n  midText: null,\r\n  buttonText: null,\r\n  callback: null,\r\n};\r\n\r\nCheckoutComplete.propTypes = {\r\n  history: PropTypes.object.isRequired,\r\n  isQuoteOnly: PropTypes.bool,\r\n  isSellLeads: PropTypes.bool,\r\n  upperText: PropTypes.string,\r\n  midText: PropTypes.string,\r\n  buttonText: PropTypes.string,\r\n  callback: PropTypes.func,\r\n};\r\n\r\n\r\nexport default withRouter(CheckoutComplete, { withRef: true });\r\n","/**\r\n * TravelDetail.js\r\n * Detail View for travel\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport FieldGenerator from 'components/FormsV3/FieldGenerator';\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport ModalPopup from 'components/Templates/ModalPopup/ModalPopup';\r\nimport CheckoutComplete from 'components/Templates/CheckoutComplete/CheckoutComplete';\r\n\r\nimport { sendEmailForm } from 'actions/insuranceActions';\r\n\r\nimport { validateFormValue, validateForm } from 'lib/validatorsV2';\r\n\r\nimport './FlowEnquiry.scss';\r\n\r\nclass FlowEnquiry extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { email } = this.props;\r\n\r\n    this.state = {\r\n      values: { email },\r\n      errors: {},\r\n      formState: 0,\r\n      errorMsg: '',\r\n    };\r\n\r\n    this.onChangeValue = this.onChangeValue.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.hideModal = this.hideModal.bind(this);\r\n  }\r\n\r\n  // Update form values on change\r\n  async onChangeValue(type, name, value) {\r\n    const { values, errors } = this.state;\r\n    const { data } = this.props;\r\n    const error = errors && errors[name];\r\n    let newError = {};\r\n\r\n    if (error) {\r\n      newError = { [name]: await validateFormValue(name, { type, value }, values, data.form.forms) };\r\n    }\r\n\r\n    this.setState({\r\n      values: {\r\n        ...values,\r\n        [name]: { type, value },\r\n      },\r\n      errors: { ...errors, ...newError },\r\n    });\r\n  }\r\n\r\n  async handleSubmit() {\r\n    const { values } = this.state;\r\n    const {\r\n      handleAPI,\r\n      errors,\r\n      data,\r\n      hideEnquiryModal,\r\n    } = this.props;\r\n\r\n    try {\r\n      const newErrors = await validateForm(values, null, data.form.forms);\r\n      if (!_.isEmpty(newErrors)) {\r\n        this.setState({\r\n          errors: newErrors,\r\n        });\r\n\r\n        return;\r\n      }\r\n\r\n      const requestData = {\r\n        form_category: 'Travel (Prex)',\r\n        input_data: _.map(data.form.forms, f => ({\r\n          name: f.title,\r\n          value: values[f.slug].value,\r\n          type: 'text',\r\n        })),\r\n      };\r\n\r\n      const result = await handleAPI(() => sendEmailForm(requestData));\r\n\r\n      if (result) {\r\n        hideEnquiryModal();\r\n        if (this.checkoutComplete) {\r\n          setTimeout(() => {\r\n            this.checkoutComplete.openCheckoutComplete();\r\n          }, 300);\r\n        }\r\n      } else {\r\n        this.setState({\r\n          errors: {\r\n            ...errors,\r\n            errorMsg: 'Request failed! Please try again.',\r\n          },\r\n        });\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n  }\r\n\r\n  hideModal() {\r\n    const { hideEnquiryModal, email } = this.props;\r\n\r\n    this.setState({\r\n      values: { email },\r\n      errors: {},\r\n      formState: 0,\r\n      errorMsg: '',\r\n    });\r\n\r\n    if (hideEnquiryModal) {\r\n      hideEnquiryModal();\r\n    }\r\n  }\r\n\r\n  renderDisclaimer() {\r\n    const { data } = this.props;\r\n\r\n    return (\r\n      <Fragment>\r\n        {\r\n          _.map(data.disclaimer.details, (detail, index) => (\r\n            <Fragment key={`discliamer-${index}`}>\r\n              {\r\n                _.map(detail.title, (title, index2) => (\r\n                  <p\r\n                    key={`discliamer-title-${index}-${index2}`}\r\n                    className=\"desc-text desc-heavy\"\r\n                  >\r\n                    {title}\r\n                  </p>\r\n                ))\r\n              }\r\n              <ol>\r\n                {\r\n                  _.map(detail.desc, (desc, index2) => (\r\n                    <li\r\n                      key={`discliamer-desc-${index}-${index2}`}\r\n                      className=\"desc-text\"\r\n                    >\r\n                      {desc}\r\n                    </li>\r\n                  ))\r\n                }\r\n              </ol>\r\n            </Fragment>\r\n          ))\r\n        }\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderForm() {\r\n    const { values, errors, errorMsg } = this.state;\r\n    const { data } = this.props;\r\n\r\n    return (\r\n      <Row noGutters>\r\n        <Col xs={12}>\r\n          <p className=\"desc-text\">{data.form.desc}</p>\r\n        </Col>\r\n        {\r\n          _.map(data.form.forms, (form, index) => (\r\n            <FieldGenerator\r\n              key={`business-form-${index}`}\r\n              values={values}\r\n              errors={errors}\r\n              fieldData={form}\r\n              onChangeValue={this.onChangeValue}\r\n              extraInfo={form.extra_info && <p>{form.extra_info}</p>}\r\n            />\r\n          ))\r\n        }\r\n        <Col xs={12}>\r\n          <p className=\"error-text\">{errorMsg}</p>\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n\r\n  renderDisclaimerButton() {\r\n    const { onNext, data } = this.props;\r\n\r\n    return (\r\n      <Row className=\"w-100\" noGutters>\r\n        <Col className=\"button-container\" xs={12} sm={6}>\r\n          <Button\r\n            className=\"button-left cancel-btn\"\r\n            variant=\"medium-outline\"\r\n            height={48}\r\n            width={162}\r\n            onClick={() => this.setState({ formState: 1 })}\r\n          >\r\n            <p>{data.disagree_text}</p>\r\n          </Button>\r\n        </Col>\r\n        <Col className=\"button-container\" xs={12} sm={6}>\r\n          <Button\r\n            variant=\"medium-flat-green\"\r\n            height={48}\r\n            width={162}\r\n            onClick={onNext}\r\n          >\r\n            <p>{data.agree_text}</p>\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n\r\n  renderFormButton() {\r\n    return (\r\n      <Row className=\"w-100\" noGutters>\r\n        <Col className=\"button-container justify-content-center\" xs={12}>\r\n          <Button\r\n            variant=\"medium-flat-green\"\r\n            height={48}\r\n            width={114}\r\n            onClick={this.handleSubmit}\r\n          >\r\n            <p>Submit</p>\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { formState } = this.state;\r\n    const {\r\n      showModal,\r\n      history,\r\n      data,\r\n      className,\r\n    } = this.props;\r\n\r\n    if (!data) {\r\n      return null;\r\n    }\r\n\r\n    try {\r\n      return (\r\n        <div>\r\n          <ModalPopup\r\n            showModal={showModal}\r\n            closeModal={this.hideModal}\r\n            className={[className, 'default-flow-enquiry-modal'].join(' ')}\r\n            backdropClassName=\"blue-modal-backdrop\"\r\n            header={<p>{formState === 0 ? data.disclaimer.header : data.form.header}</p>}\r\n            body={formState === 0 ? this.renderDisclaimer() : this.renderForm()}\r\n            footer={formState === 0 ? this.renderDisclaimerButton() : this.renderFormButton()}\r\n          />\r\n          <CheckoutComplete\r\n            className=\"blue-popup-backdrop\"\r\n            isQuoteOnly\r\n            upperText=\"Submission Successful!\"\r\n            midText=\"Thank You for Choosing PolicyPal! We will be contacting you within 2 business days.\"\r\n            buttonText=\"Confirm\"\r\n            wrappedComponentRef={node => this.checkoutComplete = node}\r\n            callback={() => history.push('/')}\r\n          />\r\n        </div>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\nFlowEnquiry.defaultProps = {\r\n  data: null,\r\n  className: '',\r\n};\r\n\r\nFlowEnquiry.propTypes = {\r\n  showModal: PropTypes.bool.isRequired,\r\n  hideEnquiryModal: PropTypes.func.isRequired,\r\n  handleAPI: PropTypes.func.isRequired,\r\n  onNext: PropTypes.func.isRequired,\r\n  history: PropTypes.object.isRequired,\r\n  data: PropTypes.object,\r\n  className: PropTypes.string,\r\n};\r\n\r\nexport default withRouter(FlowEnquiry);\r\n","/**\r\n * PromoPopup.js\r\n * popup used to display promos on Form landings\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport TagLabel from 'assets/images/common/TagLabel.svg';\r\n\r\nimport './VoucherTag.scss';\r\n\r\nclass VoucherTag extends Component {\r\n  render() {\r\n    const { history, className, teaser } = this.props;\r\n\r\n    if (!teaser) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className={['voucher-tag-container', className].join(' ')}>\r\n        <img src={TagLabel} alt=\"TagLabel.svg\" />\r\n        {\r\n          teaser.is_url && teaser.value ?\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => history.push(teaser.value)}\r\n            >\r\n              {teaser.name}\r\n            </button>\r\n          :\r\n            <span>{teaser.name}</span>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nVoucherTag.defaultProps = {\r\n  className: '',\r\n  teaser: null,\r\n};\r\n\r\nVoucherTag.propTypes = {\r\n  className: PropTypes.string,\r\n  history: PropTypes.object.isRequired,\r\n  teaser: PropTypes.object,\r\n};\r\n\r\nexport default withRouter(VoucherTag);\r\n","/**\r\n * Checkout.js\r\n * This is the checkout view that will render the summary\r\n * of details and handle all the promo, cashback and stripe\r\n * APIs.\r\n *\r\n * There is 2 state to this view. Checkout or receipt. It will\r\n * toggle accordingly if charged/ahHocCharged.\r\n *\r\n * Upon successful payment, it will update the user data again\r\n * to check if any cashback is used.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component, Fragment } from 'react';\r\n// import PropTypes from 'prop-types';\r\n\r\nimport LoadingScreenV2 from 'components/Templates/LoadingScreenV2/LoadingScreenV2';\r\n\r\nconst defaultMsg = 'Please try again.';\r\n\r\nclass APILoader extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      showLoading: false,\r\n      showLoadingError: false,\r\n      errorMsg: null,\r\n      errorCallback: null,\r\n    };\r\n\r\n    this.handleAPI = this.handleAPI.bind(this);\r\n    this.showLoading = this.showLoading.bind(this);\r\n    this.showLoadingError = this.showLoadingError.bind(this);\r\n  }\r\n\r\n  async showLoading(show) {\r\n    await new Promise((resolve) => { this.setState({ showLoading: show }, resolve); });\r\n  }\r\n\r\n  async showLoadingError(show) {\r\n    await new Promise((resolve) => { this.setState({ showLoadingError: show }, resolve); });\r\n  }\r\n\r\n  async handleAPI(apiCallback, overwriteWarning = false, errorMsg = null, errorCallback = null) {\r\n    try {\r\n      clearInterval(this.showLoadigInterval);\r\n      this.showLoadigInterval = setInterval(() => this.setState({\r\n        showLoading: true,\r\n      }), 300);\r\n\r\n      const result = await apiCallback();\r\n\r\n      clearInterval(this.showLoadigInterval);\r\n\r\n      const showError = overwriteWarning ? false : !result;\r\n\r\n      this.setState({\r\n        showLoadingError: showError,\r\n        showLoading: showError,\r\n        errorMsg,\r\n        errorCallback,\r\n      });\r\n      return result;\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n      console.log(error);\r\n    }\r\n\r\n    this.setState({\r\n      showLoadingError: true,\r\n      showLoading: true,\r\n      errorMsg,\r\n      errorCallback,\r\n    });\r\n\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      showLoading,\r\n      showLoadingError,\r\n      errorMsg,\r\n      errorCallback,\r\n    } = this.state;\r\n\r\n    return (\r\n      <Fragment>\r\n        <LoadingScreenV2\r\n          isLoading={showLoading}\r\n          isLoadingError={showLoadingError}\r\n          message={<h5>{errorMsg || defaultMsg}</h5>}\r\n          showLoading={this.showLoading}\r\n          showLoadingError={this.showLoadingError}\r\n          errorCallback={errorCallback}\r\n          noLogos\r\n        />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nAPILoader.defaultProps = {\r\n};\r\n\r\nAPILoader.propTypes = {\r\n};\r\n\r\nexport default APILoader;\r\n","module.exports = __webpack_public_path__ + \"static/media/tooltip.d8150eb9.svg\";","module.exports = __webpack_public_path__ + \"static/media/PiggyBank.9fc90d27.svg\";","/**\r\n * HeaderDescWithTypeDate.js\r\n * Product summary with type and date\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Row } from 'reactstrap';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './HeaderDescWithTypeDateNew.scss';\r\n\r\nclass HeaderDescWithTypeDateNew extends Component {\r\n  render() {\r\n    const {\r\n      logo,\r\n      logoName,\r\n      insurerDesc,\r\n      data1,\r\n      data1Value,\r\n      data2,\r\n      data2Value,\r\n    } = this.props;\r\n\r\n    return (\r\n      <Row className=\"header-desc-with-type-date-container-new\" noGutters>\r\n        <div className=\"insurer-left-container\">\r\n          <div className=\"insurer-logo-container\">\r\n            <div className=\"company-logo-container\">\r\n              <img className=\"company-logo\" src={logo} alt={logoName} />\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div className=\"insurer-desc-container\">\r\n              <p className=\"insurer-desc\">{insurerDesc}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"insurer-right-container\">\r\n          <div className=\"data-container\">\r\n            <div className=\"data\">\r\n              <p className=\"data-name\">{data1}</p>\r\n              <p className=\"data-val\">{data1Value}</p>\r\n            </div>\r\n            <div className=\"data\">\r\n              <p className=\"data-name\">{data2}</p>\r\n              <p className=\"data-val\">{data2Value}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nHeaderDescWithTypeDateNew.defaultProps = {\r\n};\r\n\r\nHeaderDescWithTypeDateNew.propTypes = {\r\n  logo: PropTypes.string.isRequired,\r\n  logoName: PropTypes.string.isRequired,\r\n  insurerDesc: PropTypes.string.isRequired,\r\n  data1: PropTypes.string.isRequired,\r\n  data1Value: PropTypes.string.isRequired,\r\n  data2: PropTypes.string.isRequired,\r\n  data2Value: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default HeaderDescWithTypeDateNew;\r\n","/**\r\n * Checkout.js\r\n * This is the checkout view that will render the summary\r\n * of details and handle all the promo, cashback and stripe\r\n * APIs.\r\n *\r\n * There is 2 state to this view. Checkout or receipt. It will\r\n * toggle accordingly if charged/ahHocCharged.\r\n *\r\n * Upon successful payment, it will update the user data again\r\n * to check if any cashback is used.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Row, Col } from 'reactstrap';\r\n\r\nimport TabView from 'components/Templates/TabView/TabViewNew';\r\n\r\nimport './CheckoutDetailsTable.scss';\r\n\r\nclass CheckoutDetailsTable extends Component {\r\n  generateTabs() {\r\n    const { subDetails } = this.props;\r\n    return _.reduce(subDetails, (result, data) => {\r\n      result.push({\r\n        desc: data.key,\r\n      });\r\n\r\n      return result;\r\n    }, []);\r\n  }\r\n\r\n  renderDetails(details, isFullWidth, isMain = false) {\r\n    const { transactionData } = this.props;\r\n    if (!details) {\r\n      return null;\r\n    }\r\n\r\n    let smLeftWidth = 5;\r\n    let smRightWidth = 7;\r\n    smLeftWidth = isFullWidth ? 12 : smLeftWidth;\r\n    smRightWidth = isFullWidth ? 12 : smRightWidth;\r\n\r\n    // let paddingStyle = isLeftSide ? 'detail-padding-right' : 'detail-padding-left';\r\n    // paddingStyle = isFullWidth ? '' : paddingStyle;\r\n\r\n    let coverageData = {};\r\n\r\n    if (isMain) {\r\n      try {\r\n        coverageData = {\r\n          title: 'Coverage',\r\n          description: _.find(transactionData.transaction.policy_info, data => data.title.toUpperCase() === 'COVERAGE').description,\r\n        };\r\n      } catch (error) {\r\n        // No coverage found\r\n      }\r\n    }\r\n\r\n    const attributes = [...details.attributes, coverageData];\r\n    const infoList = _.map(attributes, (info, index) => (\r\n      <Col\r\n        xs={12}\r\n        className=\"detail-group\"\r\n        key={`${info.title}-${index}`}\r\n      >\r\n        <Row noGutters>\r\n          <Col className=\"detail-desc\" xs={12} sm={smLeftWidth}>{info.title}</Col>\r\n          <Col className=\"detail-value\" xs={12} sm={smRightWidth}>{info.description}</Col>\r\n        </Row>\r\n      </Col>\r\n    ));\r\n\r\n    return (\r\n      <Col className=\"detail-column\" xs={12} sm={6}>\r\n        <Row noGutters>\r\n          <Col className=\"detail-header\" xs={12}>{details.title}</Col>\r\n          {infoList}\r\n        </Row>\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  renderMainDetails() {\r\n    const { mainDetails } = this.props;\r\n    if (_.isEmpty(mainDetails.attributes)) {\r\n      return null;\r\n    }\r\n    return this.renderDetails(mainDetails, false, true);\r\n  }\r\n\r\n  renderSubDetails() {\r\n    const { subDetails, charged } = this.props;\r\n\r\n    if (_.isArray(subDetails)) {\r\n      if (subDetails.length === 1) {\r\n        return (\r\n          <Row className=\"checkout-detail-container\" noGutters>\r\n            {this.renderDetails(subDetails[0].leftDetail, false)}\r\n            {this.renderDetails(subDetails[0].rightDetail, false)}\r\n          </Row>\r\n        );\r\n      }\r\n\r\n      if (subDetails.length > 1) {\r\n        return (\r\n          <TabView\r\n            style={{ marginTop: 44, marginLeft: 30, marginRight: 30 }}\r\n            tabs={this.generateTabs()}\r\n            maxTabWidthPx={128}\r\n            autoHeight\r\n            name=\"travel-checkout-tab\"\r\n            charged={charged}\r\n            scrollTabs\r\n          >\r\n            {\r\n              _.map(subDetails, data => (\r\n                <Fragment key={data.key}>\r\n                  <Row className=\"checkout-detail-container\" noGutters>\r\n                    {this.renderDetails(data.leftDetail, false)}\r\n                    {this.renderDetails(data.rightDetail, false)}\r\n                  </Row>\r\n                </Fragment>\r\n              ))\r\n            }\r\n          </TabView>\r\n        );\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const innerJSX = (\r\n      <Col className=\"no-padding\"xs={12}>\r\n        <Row className=\"checkout-detail-container main-details\" noGutters>\r\n          {this.renderMainDetails()}\r\n        </Row>\r\n        {this.renderSubDetails()}\r\n      </Col>\r\n    );\r\n\r\n    return innerJSX;\r\n  }\r\n}\r\n\r\nCheckoutDetailsTable.defaultProps = {\r\n  charged: false,\r\n};\r\n\r\nCheckoutDetailsTable.propTypes = {\r\n  subDetails: PropTypes.array.isRequired,\r\n  mainDetails: PropTypes.object.isRequired,\r\n  charged: PropTypes.bool,\r\n  transactionData: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default CheckoutDetailsTable;\r\n","/**\r\n * Checkout.js\r\n * This is the checkout view that will render the summary\r\n * of details and handle all the promo, cashback and stripe\r\n * APIs.\r\n *\r\n * There is 2 state to this view. Checkout or receipt. It will\r\n * toggle accordingly if charged/ahHocCharged.\r\n *\r\n * Upon successful payment, it will update the user data again\r\n * to check if any cashback is used.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col } from 'reactstrap';\r\n\r\nimport PromoCode from 'components/FormsV3/PromoCode/PromoCode';\r\n\r\nimport './CheckoutPriceSummary.scss';\r\n\r\nclass CheckoutPriceSummary extends Component {\r\n  renderPromoCodeButton() {\r\n    const {\r\n      getPromo,\r\n      isAdHoc,\r\n      charged,\r\n      promoCode,\r\n      handleOnChange,\r\n    } = this.props;\r\n\r\n    if (charged || isAdHoc) {\r\n      return (\r\n        <Fragment>\r\n          <Col xs={12} sm={7} />\r\n          <Col xs={4} sm={7} className=\"d-block d-sm-none\" />\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    // if (isAdHoc) {\r\n    //   return <div className=\"promo\" />;\r\n    // }\r\n\r\n    return (\r\n      <Fragment>\r\n        <Col xs={12} sm={7} className=\"promo\">\r\n          <PromoCode\r\n            value={promoCode}\r\n            name=\"promo_code\"\r\n            placeholderString=\"Promo Code\"\r\n            postCheckout={async (promo) => {\r\n              await handleOnChange('text', 'promo_code', promo);\r\n              const promoResult = await getPromo();\r\n              const actualPromo = promoResult && promoResult.promo && promoResult.promo.code;\r\n              if (actualPromo !== promo) {\r\n                await handleOnChange('text', 'promo_code', null);\r\n                return false;\r\n              }\r\n\r\n              return true;\r\n            }}\r\n          />\r\n        </Col>\r\n        <Col xs={4} sm={7} className=\"d-block d-sm-none\" />\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      transactionData,\r\n      charged,\r\n      isRenderPromo,\r\n      isAdHoc,\r\n    } = this.props;\r\n\r\n    if (\r\n      !transactionData ||\r\n      !transactionData.transaction ||\r\n      !transactionData.transaction.price\r\n    ) {\r\n      return null;\r\n    }\r\n\r\n    const priceData = transactionData.transaction.price;\r\n    const JSX = _.reduce(priceData, (result, price, index) => {\r\n      if (index === priceData.length - 1 || price.title === 'P$ Cashback') {\r\n        return result;\r\n      }\r\n      const noTitle = !price.title || price.title === '';\r\n      const isPromo = price.title !== 'Subtotal' &&\r\n                      price.title !== 'Discount' &&\r\n                      !noTitle;\r\n\r\n      if ((isPromo && !isRenderPromo) || (!isPromo && isRenderPromo)) {\r\n        return result;\r\n      }\r\n\r\n      const extraCol = isPromo ? null : <Col xs={4} sm={7} />;\r\n      const promoStyle = isPromo ? 'promo-item' : '';\r\n      const subTotalExtra = price.title === 'Subtotal' ? 'GST 7% included' : '';\r\n\r\n      const element = (\r\n        <Fragment key={`price-data-${index}`}>\r\n          {extraCol}\r\n          <Col className={`summary-item-container ${promoStyle}`} xs={8} sm={5}>\r\n            {\r\n              noTitle ?\r\n                <span className=\"summary-item-desc\">{price.sub_title}</span>\r\n              :\r\n                <div className=\"summary-left\">\r\n                  <span className=\"summary-item-desc\">{price.title} {price.sub_title}</span>\r\n                  <span className=\"summary-item-sub-desc\">{subTotalExtra}</span>\r\n                </div>\r\n            }\r\n            <span className=\"summary-item-value\">{price.description}</span>\r\n          </Col>\r\n        </Fragment>\r\n      );\r\n\r\n      result.push(element);\r\n      return result;\r\n    }, []);\r\n\r\n    if (!isRenderPromo) {\r\n      return JSX;\r\n    }\r\n\r\n    if ((charged || isAdHoc) && _.isEmpty(JSX)) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        <Col xs={12} className=\"summary-seperator\" />\r\n        {this.renderPromoCodeButton()}\r\n        {JSX}\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nCheckoutPriceSummary.defaultProps = {\r\n  isAdHoc: false,\r\n  charged: false,\r\n  promoCode: null,\r\n};\r\n\r\nCheckoutPriceSummary.propTypes = {\r\n  isAdHoc: PropTypes.bool,\r\n  isRenderPromo: PropTypes.bool.isRequired,\r\n  charged: PropTypes.bool,\r\n  transactionData: PropTypes.object.isRequired,\r\n  getPromo: PropTypes.func.isRequired,\r\n  promoCode: PropTypes.string,\r\n  handleOnChange: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default CheckoutPriceSummary;\r\n","/**\r\n * CashbackBalance.js\r\n * Component that displays the user's cashback balance\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport CashbackLogo from 'assets/images/common/CashbackLogo.svg';\r\n\r\nimport './CashbackBalanceNew.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass CashbackBalanceNew extends Component {\r\n  render() {\r\n    const { cashbackBalance } = this.props;\r\n\r\n    return (\r\n      <div className=\"cashback-summary-new\">\r\n        <img src={CashbackLogo} alt=\"CashbackLogo.svg\" />\r\n        <p>${cashbackBalance}</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nCashbackBalanceNew.defaultProps = {\r\n};\r\n\r\nCashbackBalanceNew.propTypes = {\r\n  cashbackBalance: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default CashbackBalanceNew;\r\n","/**\r\n * Checkout.js\r\n * This is the checkout view that will render the summary\r\n * of details and handle all the promo, cashback and stripe\r\n * APIs.\r\n *\r\n * There is 2 state to this view. Checkout or receipt. It will\r\n * toggle accordingly if charged/ahHocCharged.\r\n *\r\n * Upon successful payment, it will update the user data again\r\n * to check if any cashback is used.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Row, Col } from 'reactstrap';\r\n\r\nimport CashbackBalance from 'components/Templates/CashbackBalance/CashbackBalanceNew';\r\nimport Checkbox from 'components/FormsV3/Checkbox/Checkbox';\r\n\r\nimport './CheckoutCashback.scss';\r\n\r\nclass CheckoutCashback extends Component {\r\n  render() {\r\n    const {\r\n      isLoggedIn,\r\n      rewardPoints,\r\n      charged,\r\n      transactionData,\r\n      values,\r\n      errors,\r\n      handleOnChange,\r\n      getPromo,\r\n    } = this.props;\r\n\r\n    if (\r\n      (!isLoggedIn && !charged) ||\r\n      !transactionData ||\r\n      !transactionData.transaction ||\r\n      !transactionData.transaction.price\r\n    ) {\r\n      return null;\r\n    }\r\n\r\n    const priceData = transactionData.transaction.price;\r\n    const cashbackData = _.find(priceData, data => data.title === 'P$ Cashback');\r\n\r\n    const cashbackUsed = cashbackData ? cashbackData.description : '$0';\r\n\r\n    let cashbackBalance = '';\r\n    try {\r\n      cashbackBalance = cashbackData && !charged ?\r\n        rewardPoints - _.replace(cashbackUsed, '-$', '') :\r\n        rewardPoints;\r\n    } catch (error) {\r\n      cashbackBalance = rewardPoints;\r\n    }\r\n\r\n    // In case null\r\n    cashbackBalance = cashbackBalance || 0;\r\n    cashbackBalance = `${cashbackBalance.toFixed(2)}`;\r\n\r\n    const chargedBalanceStyle = charged ? 'cashback-balance-charged' : '';\r\n\r\n    return (\r\n      <Fragment>\r\n        <Col xs={12} className=\"summary-seperator\" />\r\n        <Col xs={12}>\r\n          <Row className=\"cashback\" noGutters>\r\n            {\r\n              isLoggedIn ?\r\n                <Col xs={12} sm={7}>\r\n                  <div className=\"cashback-inner\">\r\n                    {\r\n                      charged ?\r\n                        <span className=\"cashback-text\">Cashback Balance</span>\r\n                      :\r\n                        <div className=\"cashback-checkbox\">\r\n                          <Checkbox\r\n                            value={values.cashback && values.cashback.value}\r\n                            name=\"cashback\"\r\n                            desc={<span>Use Cashback Balance</span>}\r\n                            onChange={async (type, name, value) => {\r\n                              await handleOnChange(type, name, value);\r\n                              getPromo();\r\n                            }}\r\n                            errorString={errors.cashback}\r\n                            isRequired\r\n                          />\r\n                        </div>\r\n                    }\r\n                  </div>\r\n                  {\r\n                    isLoggedIn ?\r\n                      <div className={`cashback-balance ${chargedBalanceStyle}`}>\r\n                        <div className=\"cashback-balance-display\">\r\n                          <CashbackBalance cashbackBalance={cashbackBalance} />\r\n                        </div>\r\n                      </div>\r\n                    :\r\n                      null\r\n                  }\r\n                </Col>\r\n              : <Col xs={12} sm={7} />\r\n            }\r\n            <Col xs={4} sm={7} className=\"d-block d-sm-none\" />\r\n            <Col xs={8} sm={5}>\r\n              <div className=\"summary-item-container\">\r\n                <span className=\"summary-item-desc\">Cashback Used</span>\r\n                <span className=\"summary-item-value\">{cashbackUsed}</span>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Col>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nCheckoutCashback.defaultProps = {\r\n  rewardPoints: null,\r\n  charged: false,\r\n};\r\n\r\nCheckoutCashback.propTypes = {\r\n  transactionData: PropTypes.object.isRequired,\r\n  isLoggedIn: PropTypes.bool.isRequired,\r\n  rewardPoints: PropTypes.number,\r\n  values: PropTypes.object.isRequired,\r\n  errors: PropTypes.object.isRequired,\r\n  charged: PropTypes.bool,\r\n  handleOnChange: PropTypes.func.isRequired,\r\n  getPromo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default CheckoutCashback;\r\n","/**\r\n * Checkout.js\r\n * This is the checkout view that will render the summary\r\n * of details and handle all the promo, cashback and stripe\r\n * APIs.\r\n *\r\n * There is 2 state to this view. Checkout or receipt. It will\r\n * toggle accordingly if charged/ahHocCharged.\r\n *\r\n * Upon successful payment, it will update the user data again\r\n * to check if any cashback is used.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col } from 'reactstrap';\r\n\r\nimport './CheckoutTotal.scss';\r\n\r\nclass CheckoutTotal extends Component {\r\n  render() {\r\n    const { transactionData } = this.props;\r\n\r\n    if (\r\n      !transactionData ||\r\n      !transactionData.transaction ||\r\n      !transactionData.transaction.price\r\n    ) {\r\n      return null;\r\n    }\r\n\r\n    const priceData = transactionData.transaction.price;\r\n    const totalData = _.find(priceData, price => price.title === 'Total');\r\n\r\n    if (!totalData) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        <Col xs={4} sm={7} />\r\n        <Col className=\"summary-item-container\" xs={8} sm={5}>\r\n          <span className=\"summary-item-desc\">{totalData.title}</span>\r\n          <span className=\"summary-item-value final-amount\">{totalData.description}</span>\r\n        </Col>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nCheckoutTotal.defaultProps = {\r\n};\r\n\r\nCheckoutTotal.propTypes = {\r\n  transactionData: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default CheckoutTotal;\r\n","/**\r\n * Checkout.js\r\n * This is the checkout view that will render the summary\r\n * of details and handle all the promo, cashback and stripe\r\n * APIs.\r\n *\r\n * There is 2 state to this view. Checkout or receipt. It will\r\n * toggle accordingly if charged/ahHocCharged.\r\n *\r\n * Upon successful payment, it will update the user data again\r\n * to check if any cashback is used.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col } from 'reactstrap';\r\n\r\nimport Checkbox from 'components/FormsV3/Checkbox/Checkbox';\r\n\r\nimport './CheckoutDisclaimer.scss';\r\n\r\nclass CheckoutDisclaimer extends Component {\r\n  render() {\r\n    const {\r\n      wordings,\r\n      charged,\r\n      values,\r\n      errors,\r\n      handleOnChange,\r\n    } = this.props;\r\n\r\n    if (charged) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        {\r\n          _.map(wordings, (wording, index) => {\r\n            const name = `tnc_${index}`;\r\n            return (\r\n              <Col key={name} xs={12}>\r\n                <div className=\"disclaimer\">\r\n                  <Checkbox\r\n                    key={name}\r\n                    value={values[name] && values[name].value}\r\n                    name={name}\r\n                    desc={wording}\r\n                    onChange={handleOnChange}\r\n                    errorString={errors[name]}\r\n                    isRequired\r\n                  />\r\n                </div>\r\n              </Col>\r\n            );\r\n          })\r\n        }\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nCheckoutDisclaimer.defaultProps = {\r\n  wordings: [],\r\n  charged: false,\r\n};\r\n\r\nCheckoutDisclaimer.propTypes = {\r\n  values: PropTypes.object.isRequired,\r\n  errors: PropTypes.object.isRequired,\r\n  wordings: PropTypes.array,\r\n  charged: PropTypes.bool,\r\n  handleOnChange: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default CheckoutDisclaimer;\r\n","/**\r\n * Checkout.js\r\n * This is the checkout view that will render the summary\r\n * of details and handle all the promo, cashback and stripe\r\n * APIs.\r\n *\r\n * There is 2 state to this view. Checkout or receipt. It will\r\n * toggle accordingly if charged/ahHocCharged.\r\n *\r\n * Upon successful payment, it will update the user data again\r\n * to check if any cashback is used.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col } from 'reactstrap';\r\n\r\nimport CreditCards from 'assets/images/common/CreditCards.png';\r\nimport LabelImg from 'assets/images/forms/Label.svg';\r\n\r\nimport Button from 'components/FormsV3/Button/Button';\r\n\r\nimport StripePayment from 'components/Templates/StripePayment/StripePayment';\r\nimport CheckoutUsingCashback from 'components/Templates/CheckoutPopup/CheckoutUsingCashback';\r\nimport CheckoutComplete from 'components/Templates/CheckoutPopup/CheckoutComplete';\r\n\r\nimport { getFormValue } from 'lib/helperFunctions';\r\nimport { validateForm } from 'lib/validatorsV2';\r\n\r\n\r\nimport './CheckoutPayment.scss';\r\n\r\n// const termsError = 'Please agree to all the terms to proceed.';\r\nconst transactionError = 'Transaction error. Please try again.';\r\n\r\nclass CheckoutPayment extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      markup: null,\r\n    };\r\n\r\n    this.handlePaymentCallback = this.handlePaymentCallback.bind(this);\r\n    this.handleOnCheckout = this.handleOnCheckout.bind(this);\r\n    this.handleOnCheckoutZero = this.handleOnCheckoutZero.bind(this);\r\n    this.renderCashBackEarned = this.renderCashBackEarned.bind(this);\r\n  }\r\n\r\n  handleOnCheckoutZero() {\r\n    const { setError } = this.props;\r\n    try {\r\n      window.$('#checkout_form').get(0).submit();\r\n    } catch (error) {\r\n      setError('Payment failed! Please try again!');\r\n    }\r\n  }\r\n\r\n  async handlePaymentCallback(data) {\r\n    const {\r\n      checkout,\r\n      sessionId,\r\n      id,\r\n      handleAPI,\r\n      trackingTags,\r\n      transactionData,\r\n      category,\r\n      setCharged,\r\n      getPromo,\r\n    } = this.props;\r\n\r\n    const checkoutResult = await handleAPI(() => checkout(sessionId, data, id)());\r\n    if (checkoutResult && checkoutResult.charged) {\r\n      await setCharged(checkoutResult.charged);\r\n      await getPromo();\r\n      if (trackingTags && trackingTags.receipt) {\r\n        trackingTags.receipt();\r\n      }\r\n      let user = 'User';\r\n      try {\r\n        const userData = transactionData.transaction.users[0].details;\r\n        const familyName = _.find(userData, d => d.title === 'Family Name');\r\n        const givenName = _.find(userData, d => d.title === 'Given Name');\r\n        user = `${givenName ? `${givenName.description} ` : ' '}${familyName ? familyName.description : ''}`;\r\n      } catch (error) {\r\n        console.log('Name not found in checkout.');\r\n      }\r\n\r\n      setTimeout(() => this.checkoutComplete.openCheckoutComplete(user), 300);\r\n\r\n      if (category === 'travel') {\r\n        const range = document.createRange();\r\n        this.gaReceipt.appendChild(range.createContextualFragment(`\r\n        <!-- Google Code for PPS - Travel - Receipt page Conversion Page -->\r\n        <script type=\"text/javascript\">\r\n        /* <![CDATA[ */\r\n        var google_conversion_id = 865122565;\r\n        var google_conversion_label = \"3xCyCO-P54QBEIXywpwD\";\r\n        var google_remarketing_only = false;\r\n        /* ]]> */\r\n        </script>\r\n        <script type=\"text/javascript\" src=\"//www.googleadservices.com/pagead/conversion.js\">\r\n        </script>\r\n        <noscript>\r\n        <div style=\"display:inline;\">\r\n        <img height=\"1\" width=\"1\" style=\"border-style:none;\" alt=\"\" src=\"//www.googleadservices.com/pagead/conversion/865122565/?label=3xCyCO-P54QBEIXywpwD&amp;guid=ON&amp;script=0\"/>\r\n        </div>\r\n        </noscript>\r\n        `));\r\n      }\r\n    }\r\n  }\r\n\r\n  async handleOnCheckout() {\r\n    const {\r\n      useCashback,\r\n      promoCode,\r\n      values,\r\n      getStripe,\r\n      sessionId,\r\n      wordings,\r\n      trackingTags,\r\n      setError,\r\n      id,\r\n      setErrors,\r\n    } = this.props;\r\n\r\n    let isTnCChecked = true;\r\n    _.each(wordings, (wording, index) => {\r\n      isTnCChecked = isTnCChecked && getFormValue(values[`tnc_${index}`]);\r\n    });\r\n\r\n    const validatedTnC = validateForm(values, null, _.map(wordings, (w, index) => ({\r\n      type: 'checkbox',\r\n      slug: `tnc_${index}`,\r\n      is_required: true,\r\n    })));\r\n\r\n    if (!_.isEmpty(validatedTnC)) {\r\n      setErrors(validatedTnC);\r\n      return;\r\n    }\r\n\r\n    if (isTnCChecked) {\r\n      this.setState({\r\n        markup: null,\r\n      }, async () => {\r\n        const result = await getStripe(sessionId, promoCode, useCashback && id)();\r\n        if (result) {\r\n          this.setState({\r\n            markup: result,\r\n          }, () => {\r\n            try {\r\n              this.stripePayment.invokeClick(() => setError(transactionError), result, () => {\r\n                if (trackingTags && trackingTags.payment) {\r\n                  trackingTags.payment({\r\n                    useCashback,\r\n                    promoCode,\r\n                  });\r\n                }\r\n                if (window.goog_report_conversion) {\r\n                  window.goog_report_conversion();\r\n                }\r\n              });\r\n            } catch (error) {\r\n              // esline-disable-next-line\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  renderCashBackEarned() {\r\n    const { transactionData } = this.props;\r\n\r\n    if (\r\n      !transactionData ||\r\n      !transactionData.transaction ||\r\n      !transactionData.transaction.cashback\r\n    ) {\r\n      return null;\r\n    }\r\n\r\n    const { cashback } = transactionData.transaction;\r\n\r\n    return (\r\n      cashback ?\r\n        <div className=\"cashback-earned-container\">\r\n          <img src={LabelImg} alt=\"Label.svg\" />\r\n          <span>Earn ${cashback.toFixed(2)} Cashback</span>\r\n        </div>\r\n        :\r\n        null\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { markup } = this.state;\r\n    const { charged } = this.props;\r\n\r\n    return (\r\n      <Fragment>\r\n        {\r\n          !charged &&\r\n          <Fragment>\r\n            <Col xs={12} className=\"mt-3\" />\r\n            <Col className=\"credit-card-container\" xs={6}>\r\n              <img src={CreditCards} alt=\"CreditCard.png\" />\r\n            </Col>\r\n            <Col className=\"checkout-button-container\" xs={6}>\r\n              <Button\r\n                onClick={this.handleOnCheckout}\r\n                className=\"checkout-button\"\r\n                type=\"submit\"\r\n                variant=\"medium-flat-green\"\r\n                height={48}\r\n              >\r\n                <p>Proceed to Payment</p>\r\n              </Button>\r\n              {this.renderCashBackEarned()}\r\n            </Col>\r\n          </Fragment>\r\n        }\r\n        <StripePayment\r\n          replacementIDString={'action=\"CALLBACK_URL\" method=\"post\"'}\r\n          ref={(node) => { this.stripePayment = node; }}\r\n          markup={markup}\r\n          paymentCallback={this.handlePaymentCallback}\r\n          zeroPaymentCallback={this.checkoutUsingCashback ? this.checkoutUsingCashback.openCheckoutUsingCashback : null}\r\n        />\r\n        <CheckoutUsingCashback\r\n          ref={node => this.checkoutUsingCashback = node}\r\n          onConfirm={this.handleOnCheckoutZero}\r\n        />\r\n        <CheckoutComplete\r\n          className=\"blue-popup-backdrop\"\r\n          wrappedComponentRef={node => this.checkoutComplete = node}\r\n        />\r\n        <div ref={node => this.gaReceipt = node} />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nCheckoutPayment.defaultProps = {\r\n  wordings: [],\r\n  trackingTags: null,\r\n  charged: false,\r\n  promoCode: null,\r\n  useCashback: null,\r\n  id: null,\r\n};\r\n\r\nCheckoutPayment.propTypes = {\r\n  getStripe: PropTypes.func.isRequired,\r\n  sessionId: PropTypes.string.isRequired,\r\n  checkout: PropTypes.func.isRequired,\r\n  wordings: PropTypes.array,\r\n  trackingTags: PropTypes.object,\r\n  setError: PropTypes.func.isRequired,\r\n  charged: PropTypes.bool,\r\n  transactionData: PropTypes.object.isRequired,\r\n  values: PropTypes.object.isRequired,\r\n  useCashback: PropTypes.bool,\r\n  promoCode: PropTypes.string,\r\n  category: PropTypes.string.isRequired,\r\n  getPromo: PropTypes.func.isRequired,\r\n  id: PropTypes.number,\r\n  setErrors: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default CheckoutPayment;\r\n","/**\r\n * Checkout.js\r\n * This is the checkout view that will render the summary\r\n * of details and handle all the promo, cashback and stripe\r\n * APIs.\r\n *\r\n * There is 2 state to this view. Checkout or receipt. It will\r\n * toggle accordingly if charged/ahHocCharged.\r\n *\r\n * Upon successful payment, it will update the user data again\r\n * to check if any cashback is used.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { Row, Col } from 'reactstrap';\r\n\r\nimport Button from 'components/FormsV3/Button/Button';\r\n\r\nimport PiggyFillForm from 'components/Templates/PiggySignUp/PiggyFillFormNew';\r\nimport HeaderDescWithTypeDate from 'components/Templates/InsurerFormHeader/HeaderDescWithTypeDateNew';\r\n\r\nimport { getFormValue } from 'lib/helperFunctions';\r\nimport {\r\n  getAnonymousSession,\r\n  getPromoCode,\r\n  getReceipt,\r\n  getTransactionStripeSession,\r\n  postCheckout,\r\n} from '../../../actions/insuranceActions';\r\n\r\nimport CheckoutDetailsTable from './CheckoutDetailsTable/CheckoutDetailsTable';\r\nimport CheckoutPriceSummary from './CheckoutPriceSummary/CheckoutPriceSummary';\r\nimport CheckoutCashback from './CheckoutCashback/CheckoutCashback';\r\nimport CheckoutTotal from './CheckoutTotal/CheckoutTotal';\r\nimport CheckoutDisclaimer from './CheckoutDisclaimer/CheckoutDisclaimer';\r\nimport CheckoutPayment from './CheckoutPayment/CheckoutPayment';\r\n\r\nimport './Checkout.scss';\r\n\r\nclass Checkout extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const {\r\n      charged,\r\n      trackingTags,\r\n    } = this.props;\r\n\r\n    this.state = {\r\n      transactionData: null,\r\n      errorMsg: null,\r\n      values: {},\r\n      errors: {},\r\n      sessionId: null,\r\n    };\r\n\r\n    if (charged && trackingTags && trackingTags.receipt) {\r\n      trackingTags.receipt();\r\n    }\r\n\r\n\r\n    this.getPromo = this.getPromo.bind(this);\r\n    this.setErrors = this.setErrors.bind(this);\r\n    this.handleOnChange = this.handleOnChange.bind(this);\r\n    this.renderHeader = this.renderHeader.bind(this);\r\n    this.renderDetailsTable = this.renderDetailsTable.bind(this);\r\n    this.renderPriceSummary = this.renderPriceSummary.bind(this);\r\n    this.renderTotal = this.renderTotal.bind(this);\r\n    this.renderCashBack = this.renderCashBack.bind(this);\r\n    this.renderDisclaimer = this.renderDisclaimer.bind(this);\r\n    this.renderBackToDetail = this.renderBackToDetail.bind(this);\r\n    this.renderSignUp = this.renderSignUp.bind(this);\r\n    this.renderPayment = this.renderPayment.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { values } = this.state;\r\n\r\n    const {\r\n      isAdHoc,\r\n      params,\r\n      verifyParams,\r\n      category,\r\n      userDetails,\r\n      getPromo,\r\n      handleAPI,\r\n      sessionId,\r\n      charged,\r\n    } = this.props;\r\n\r\n    const newSessionId = isAdHoc ? sessionId : await getAnonymousSession(params, false, verifyParams)();\r\n    const transactionData = await handleAPI(() => getPromo(newSessionId, userDetails && userDetails.token, getFormValue(values.promo_code), getFormValue(values.cashback)));\r\n\r\n    this.setState({\r\n      sessionId: newSessionId,\r\n      transactionData: charged ? { transaction: transactionData } : transactionData,\r\n    });\r\n\r\n    window.scrollTo(0, 0);\r\n\r\n    if (window.$('#intercom-container')) {\r\n      window.$('#intercom-container').hide();\r\n    }\r\n\r\n    if (this.gaCheckOut && category === 'travel') {\r\n      const range = document.createRange();\r\n      this.gaCheckOut.appendChild(range.createContextualFragment(`\r\n      <!-- Google Code for PPS2 - Travel - CheckoutPage_ProceedPayment Conversion Page\r\n      In your html page, add the snippet and call\r\n      goog_report_conversion when someone clicks on the\r\n      chosen link or button. -->\r\n      <script type=\"text/javascript\">\r\n        /* <![CDATA[ */\r\n        goog_snippet_vars = function() {\r\n          var w = window;\r\n          w.google_conversion_id = 865122565;\r\n          w.google_conversion_label = \"rJn8CLL_5oQBEIXywpwD\";\r\n          w.google_remarketing_only = false;\r\n        }\r\n        // DO NOT CHANGE THE CODE BELOW.\r\n        goog_report_conversion = function(url) {\r\n          goog_snippet_vars();\r\n          window.google_conversion_format = \"3\";\r\n          var opt = new Object();\r\n          opt.onload_callback = function() {\r\n          if (typeof(url) != 'undefined') {\r\n            window.location = url;\r\n          }\r\n        }\r\n        var conv_handler = window['google_trackConversion'];\r\n        if (typeof(conv_handler) == 'function') {\r\n          conv_handler(opt);\r\n        }\r\n      }\r\n      /* ]]> */\r\n      </script>\r\n      <script type=\"text/javascript\"\r\n        src=\"//www.googleadservices.com/pagead/conversion_async.js\">\r\n      </script>\r\n      `));\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (window.$('#intercom-container')) {\r\n      window.$('#intercom-container').show();\r\n    }\r\n\r\n    if (window.goog_report_conversion) {\r\n      delete window.goog_report_conversion;\r\n    }\r\n  }\r\n\r\n  async getPromo() {\r\n    const {\r\n      values,\r\n      sessionId,\r\n    } = this.state;\r\n\r\n    const {\r\n      getPromo,\r\n      userDetails,\r\n      handleAPI,\r\n      charged,\r\n    } = this.props;\r\n\r\n    const transactionData = await handleAPI(() => getPromo(sessionId, userDetails && userDetails.token, getFormValue(values.promo_code), getFormValue(values.cashback)));\r\n    this.setState({\r\n      transactionData: charged ? { transaction: transactionData } : transactionData,\r\n    });\r\n    return transactionData;\r\n  }\r\n\r\n  async setErrors(newErrors) {\r\n    const { errors } = this.state;\r\n    return new Promise((resolve) => {\r\n      this.setState({\r\n        errors: {\r\n          ...errors,\r\n          ...newErrors,\r\n        },\r\n      }, resolve);\r\n    });\r\n  }\r\n\r\n  async handleOnChange(type, name, value) {\r\n    const { values, errors } = this.state;\r\n    let newError = {};\r\n    if (value) {\r\n      newError = { [name]: null };\r\n    }\r\n\r\n    return new Promise((resolve) => {\r\n      this.setState({\r\n        values: {\r\n          ...values,\r\n          [name]: { type, value },\r\n        },\r\n        errors: { ...errors, ...newError },\r\n      }, resolve);\r\n    });\r\n  }\r\n\r\n  renderHeader() {\r\n    const { headerData } = this.props;\r\n    return (\r\n      <HeaderDescWithTypeDate\r\n        logo={headerData.logo}\r\n        logoName={headerData.logoName}\r\n        insurerDesc={headerData.insurerDesc}\r\n        data1={headerData.data1}\r\n        data1Value={headerData.data1Value}\r\n        data2={headerData.data2}\r\n        data2Value={headerData.data2Value}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderDetailsTable() {\r\n    const { transactionData } = this.state;\r\n    const { mainDetails, subDetails, charged } = this.props;\r\n\r\n    return (\r\n      <CheckoutDetailsTable\r\n        mainDetails={mainDetails}\r\n        subDetails={subDetails}\r\n        charged={charged}\r\n        transactionData={transactionData}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderPriceSummary(isRenderPromo = false) {\r\n    const {\r\n      transactionData,\r\n      values,\r\n    } = this.state;\r\n\r\n    const {\r\n      promoErrorString,\r\n      isAdHoc,\r\n      charged,\r\n    } = this.props;\r\n\r\n    return (\r\n      <CheckoutPriceSummary\r\n        charged={charged}\r\n        isAdHoc={isAdHoc}\r\n        isRenderPromo={isRenderPromo}\r\n        transactionData={transactionData}\r\n        getPromo={this.getPromo}\r\n        promoErrorString={promoErrorString}\r\n        promoCode={getFormValue(values.promo_code)}\r\n        handleOnChange={this.handleOnChange}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderTotal() {\r\n    const { transactionData } = this.state;\r\n\r\n    return (\r\n      <CheckoutTotal\r\n        transactionData={transactionData}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderCashBack() {\r\n    const {\r\n      transactionData,\r\n      values,\r\n      errors,\r\n    } = this.state;\r\n\r\n    const {\r\n      isLoggedIn,\r\n      userDetails,\r\n      charged,\r\n    } = this.props;\r\n\r\n    return (\r\n      <CheckoutCashback\r\n        charged={charged}\r\n        transactionData={transactionData}\r\n        values={values}\r\n        errors={errors}\r\n        isLoggedIn={isLoggedIn}\r\n        rewardPoints={userDetails && userDetails.reward_points}\r\n        handleOnChange={this.handleOnChange}\r\n        getPromo={this.getPromo}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderDisclaimer() {\r\n    const {\r\n      values,\r\n      errors,\r\n      errorMsg,\r\n    } = this.state;\r\n    const { wordings, charged } = this.props;\r\n\r\n    return (\r\n      <CheckoutDisclaimer\r\n        charged={charged}\r\n        values={values}\r\n        errors={errors}\r\n        wordings={wordings}\r\n        handleOnChange={this.handleOnChange}\r\n        errorMsg={errorMsg}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderBackToDetail() {\r\n    const { backToDetails, isAdHoc } = this.props;\r\n    if (!isAdHoc && backToDetails) {\r\n      return (\r\n        <Button\r\n          className=\"checkout-button\"\r\n          variant=\"medium-grey\"\r\n          width={300}\r\n          height={72}\r\n          onClick={backToDetails}\r\n        >\r\n          <p>Back to Edit Details</p>\r\n        </Button>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderChargedHeader() {\r\n    const { charged } = this.props;\r\n\r\n    if (charged) {\r\n      return (\r\n        <Col className=\"charged-header\" xs={12}>\r\n          <p>Receipt</p>\r\n        </Col>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderSignUp() {\r\n    const {\r\n      isLoggedIn,\r\n      category,\r\n      login,\r\n      charged,\r\n    } = this.props;\r\n\r\n    if (!charged && !isLoggedIn) {\r\n      return (\r\n        <div className=\"piggy\">\r\n          <PiggyFillForm\r\n            category={category}\r\n            onClick={() => login.popup.openPopup(login.loginContainer.setInitialIndex(1))}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderWarning() {\r\n    const { errorMsg } = this.state;\r\n\r\n    if (!errorMsg) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Col xs={12}>\r\n        <p className=\"disclaimer-warning\">{errorMsg}</p>\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  renderPayment() {\r\n    const {\r\n      transactionData,\r\n      values,\r\n      sessionId,\r\n    } = this.state;\r\n\r\n    const {\r\n      wordings,\r\n      trackingTags,\r\n      handleAPI,\r\n      category,\r\n      setCharged,\r\n      charged,\r\n      userDetails,\r\n    } = this.props;\r\n\r\n    return (\r\n      <CheckoutPayment\r\n        getStripe={getTransactionStripeSession}\r\n        sessionId={sessionId}\r\n        checkout={postCheckout}\r\n        wordings={wordings}\r\n        trackingTags={trackingTags}\r\n        setError={errorMsg => this.setState({ errorMsg })}\r\n        charged={charged}\r\n        transactionData={transactionData}\r\n        values={values}\r\n        promoCode={getFormValue(values.promo_code)}\r\n        useCashback={getFormValue(values.cashback)}\r\n        handleAPI={handleAPI}\r\n        setCharged={setCharged}\r\n        category={category}\r\n        getPromo={this.getPromo}\r\n        id={userDetails && userDetails.id}\r\n        setErrors={this.setErrors}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { transactionData } = this.state;\r\n\r\n    return (\r\n      <Row className=\"detail-main-container-new checkout-container\" noGutters>\r\n        {\r\n          transactionData &&\r\n          <Fragment>\r\n            <Col xs={12} lg={7}>\r\n              {/* <div className=\"d-block d-lg-none\">\r\n                {this.renderSignUp()}\r\n              </div> */}\r\n              <Row className=\"detail-left-container\" noGutters>\r\n                {this.renderChargedHeader()}\r\n                <Col className=\"company-product-container\" xs={12}>\r\n                  {this.renderHeader()}\r\n                </Col>\r\n                {this.renderDetailsTable()}\r\n              </Row>\r\n            </Col>\r\n            <Col lg={5}>\r\n              {this.renderSignUp()}\r\n              <Row className=\"detail-right-container summary-container\" noGutters>\r\n                <Col xs={12} className=\"summary-seperator\" />\r\n                {this.renderPriceSummary(false)}\r\n                {this.renderPriceSummary(true)}\r\n                {this.renderCashBack()}\r\n                <Col xs={12} className=\"summary-seperator\" />\r\n                {this.renderTotal()}\r\n                {this.renderDisclaimer()}\r\n                {this.renderWarning()}\r\n                {this.renderPayment()}\r\n              </Row>\r\n            </Col>\r\n          </Fragment>\r\n        }\r\n        <div ref={node => this.gaCheckOut = node} />\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nCheckout.defaultProps = {\r\n  promoErrorString: null,\r\n  wordings: [],\r\n  backToDetails: null,\r\n  isAdHoc: false,\r\n  trackingTags: null,\r\n  charged: false,\r\n  userDetails: null,\r\n};\r\n\r\nCheckout.propTypes = {\r\n  userDetails: PropTypes.object,\r\n  getPromo: PropTypes.func.isRequired,\r\n  subDetails: PropTypes.array.isRequired,\r\n  headerData: PropTypes.object.isRequired,\r\n  mainDetails: PropTypes.object.isRequired,\r\n  promoErrorString: PropTypes.string,\r\n  isLoggedIn: PropTypes.bool.isRequired,\r\n  login: PropTypes.object.isRequired,\r\n  wordings: PropTypes.array,\r\n  backToDetails: PropTypes.func,\r\n  isAdHoc: PropTypes.bool,\r\n  trackingTags: PropTypes.object,\r\n  charged: PropTypes.bool,\r\n  category: PropTypes.string.isRequired,\r\n  handleAPI: PropTypes.func.isRequired,\r\n  setCharged: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  const adHocCharged = ownProps.isAdHoc && ownProps.adHocData && ownProps.adHocData.status === 'paid' ? true : null;\r\n  const isCharged = ownProps.charged || adHocCharged;\r\n  return ({\r\n    login: state.login,\r\n    transactionData: state.insurance.transactionData,\r\n    promoErrorString: state.insurance.promoErrorString,\r\n    userDetails: state.userDetails && state.userDetails.data,\r\n    adHocCharged: ownProps.isAdHoc && ownProps.adHocData && ownProps.adHocData.status === 'paid' ? true : null,\r\n    isCharged,\r\n  });\r\n};\r\n\r\n// const mapDispatchToProps = dispatch => ({\r\n// });\r\n\r\nconst mergeProps = (propsFromState, propsFromDispatch, ownProps) => {\r\n  const getPromo = propsFromState.isCharged ?\r\n    sessionId => getReceipt(sessionId)() :\r\n    (sessionId, userToken, promocode, useReward) => getPromoCode(userToken, sessionId, promocode, useReward)();\r\n\r\n  return ({\r\n    ...ownProps,\r\n    ...propsFromState,\r\n    // ...propsFromDispatch,\r\n    getPromo,\r\n  });\r\n};\r\n\r\nexport default connect(mapStateToProps, null, mergeProps)(Checkout);\r\n","/**\r\n * TravelCheckoutContainer.js\r\n * The Checkout container for travel\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport ReactPixel from 'react-facebook-pixel';\r\n\r\nimport { setCategoryNavBar } from '../../actions/navActions';\r\nimport { getSessionParams } from '../../actions/travelActions';\r\nimport { setInsuranceFormState, FORMSTATES } from '../../actions/insuranceActions';\r\nimport Checkout from '../../components/Templates/CheckoutV1/Checkout';\r\nimport { gaTag, gaEvent, ampTag } from '../../lib/tagFunctions';\r\n\r\nimport {\r\n  compactCheckoutAttributes,\r\n  getCheckoutParamsWordingNew,\r\n  getCheckoutHeaderDataCoverageNew,\r\n  getCompactSubDetails,\r\n} from '../../lib/helperFunctions';\r\n\r\nclass TravelCheckoutContainer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const {\r\n      values,\r\n      detailValues,\r\n      selectedPlanData,\r\n      isAdHoc,\r\n      adHocData,\r\n      planType,\r\n    } = this.props;\r\n\r\n    const paramsWording = getCheckoutParamsWordingNew(\r\n      planType,\r\n      isAdHoc,\r\n      adHocData,\r\n      selectedPlanData,\r\n      () => getSessionParams(values, detailValues, selectedPlanData, planType),\r\n    );\r\n\r\n    const headerCoverage = getCheckoutHeaderDataCoverageNew('Travel Insurance', isAdHoc, adHocData, selectedPlanData, paramsWording.params);\r\n    const sessionParamsToUse = isAdHoc ? adHocData.data.session_params : paramsWording.params.sessionParams.session_params;\r\n    const tripType = isAdHoc ? adHocData.data.session_params.trip_type : values.trip_type.value;\r\n    const travelDate = this.getTravelDate(sessionParamsToUse, isAdHoc);\r\n    const travellingString = this.getTravellingString(sessionParamsToUse);\r\n    const subDetails = this.getTravellersDetails(sessionParamsToUse);\r\n    let countries = null;\r\n    let countryName = 'Country';\r\n\r\n    try {\r\n      countryName = sessionParamsToUse.countries.length > 1 ? 'Countries' : countryName;\r\n      countries = _.reduce(sessionParamsToUse.countries, (result, country, index) => {\r\n        const newStr = index === 0 ? `${country}` : `${result}, ${country}`;\r\n        return newStr;\r\n      }, '');\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    this.state = {\r\n      headerData: headerCoverage.headerData,\r\n      mainDetails: {\r\n        title: 'Insurance',\r\n        attributes: compactCheckoutAttributes([\r\n          { title: 'Trip type', description: tripType },\r\n          ...travelDate,\r\n          { title: 'Who is travelling', description: travellingString },\r\n          { title: countryName, description: countries },\r\n          { title: 'Region', description: sessionParamsToUse.destination },\r\n          // { title: 'Coverage', description: headerCoverage.coverage },\r\n        ]),\r\n      },\r\n      subDetails,\r\n      ...paramsWording,\r\n      wordings: [\r\n        ...(paramsWording.wording ? [<span>I have read and agree to abide by the <a href={paramsWording.wording} target=\"__blank\">Policy Wording.</a></span>] : []),\r\n        <Fragment>\r\n          <span>I agree to store this policy in my PolicyPal account after purchase, in accordance with the Personal Data Protection Act.</span>\r\n          <span className=\"disclaimer-cashback-text\">*Cashback <a href=\"/cashback\" target=\"_blank\">Terms & Conditions</a></span>\r\n        </Fragment>,\r\n      ],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { setFormState, doSetCategoryNavBar, history } = this.props;\r\n    setFormState(FORMSTATES.CHECKOUT.index);\r\n    gaTag({\r\n      page_title: 'Travel - Checkout',\r\n      page_path: '/travel/checkout',\r\n    });\r\n    ampTag('TravelReviewS');\r\n    document.body.style.backgroundColor = '#F9FAFF';\r\n    doSetCategoryNavBar(true);\r\n\r\n    if (history.location.pathname && history.location.pathname === `/travel${FORMSTATES.CHECKOUT.path}`) {\r\n      ReactPixel.track('InitiateCheckout');\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { doSetCategoryNavBar } = this.props;\r\n    document.body.style.backgroundColor = '#FFFFFF';\r\n    doSetCategoryNavBar(false);\r\n  }\r\n\r\n  getTravellingString(data) {\r\n    let whoTravelling = null;\r\n    if (data.plan_type === 'Family') {\r\n      whoTravelling = `Family, ${data.num_adult} adults, ${data.num_children} children`;\r\n    } else if (data.plan_type === 'Group') {\r\n      whoTravelling = `Group, ${data.num_adult} persons`;\r\n    } else if (data.plan_type === 'Individual') {\r\n      whoTravelling = 'Myself';\r\n    }\r\n\r\n    return whoTravelling;\r\n  }\r\n\r\n  getTravelDate(data, isAdHoc) {\r\n    if (data.trip_type === 'Single Trip' || (isAdHoc && data.trip_type !== 'Annual Multi-Trip')) {\r\n      return ([\r\n        { title: 'Start date', description: data.start_date },\r\n        { title: 'End date', description: data.end_date },\r\n      ]);\r\n    }\r\n\r\n    return ([\r\n      { title: 'Start date', description: data.start_date },\r\n    ]);\r\n  }\r\n\r\n  getTravellersDetails(data) {\r\n    if (data.plan_type === 'Individual') {\r\n      return ([this.mainAdultDetail(data)]);\r\n    }\r\n\r\n    if (data.plan_type === 'Group') {\r\n      return (\r\n        [\r\n          this.mainAdultDetail(data),\r\n          ...this.adultsDetail(data),\r\n        ]\r\n      );\r\n    }\r\n\r\n    return (\r\n      [\r\n        this.mainAdultDetail(data),\r\n        ...this.adultsDetail(data),\r\n        ...this.childrenDetail(data),\r\n      ]\r\n    );\r\n  }\r\n\r\n  mainAdultDetail(data) {\r\n    const name = data.plan_type === 'Group' ? 'Person' : 'Adult';\r\n    const blkNo = data.blk_no ? `${data.blk_no} ` : '';\r\n\r\n    return (getCompactSubDetails({\r\n      key: `${name} 1`,\r\n      leftDetail: {\r\n        title: 'Details',\r\n        attributes: compactCheckoutAttributes([\r\n          { title: 'Email', description: data.email || '' },\r\n          { title: 'Last name', description: data.family_name || '' },\r\n          { title: 'First name', description: data.given_name || '' },\r\n          { title: 'ID type', description: data.id_type || '' },\r\n          { title: 'ID number', description: data.nric || '' },\r\n          { title: 'Date of birth', description: data.birth_date || '' },\r\n          { title: 'Gender', description: data.gender || '' },\r\n          { title: 'Race', description: data.race || '' },\r\n          { title: 'Nationality', description: data.citizenship || '' },\r\n          { title: 'Marital Status', description: data.marital_status || '' },\r\n          { title: 'Occupation', description: data.occupation || '' },\r\n          { title: 'Mobile number', description: data.mobile_number || '' },\r\n        ]),\r\n      },\r\n      rightDetail: {\r\n        title: 'Address',\r\n        attributes: compactCheckoutAttributes([\r\n          { title: 'Address', description: `${blkNo}${data.address || ''}` },\r\n          { title: 'Unit no', description: data.unit_no || '' },\r\n          { title: 'Postcode', description: data.postal || '' },\r\n        ]),\r\n      },\r\n    }));\r\n  }\r\n\r\n  adultsDetail(data) {\r\n    const result = [];\r\n    const arrayName = data.plan_type === 'Group' ? 'group' : 'family';\r\n    const name = data.plan_type === 'Group' ? 'Person' : 'Adult';\r\n    const count = data.num_adult - 1;\r\n\r\n    for (let i = 0; i < count; ++i) {\r\n      result.push({\r\n        key: `${name} ${i + 2}`,\r\n        leftDetail: {\r\n          title: 'Details',\r\n          attributes: compactCheckoutAttributes([\r\n            { title: 'Name', description: data[arrayName][i].name || '' },\r\n            { title: 'ID type', description: data[arrayName][i].id_type || '' },\r\n            { title: 'ID number', description: data[arrayName][i].nric || '' },\r\n            { title: 'Nationality', description: data[arrayName][i].citizenship || '' },\r\n            { title: 'Date of Birth', description: data[arrayName][i].birth_date || '' },\r\n            { title: 'Gender', description: data[arrayName][i].gender || '' },\r\n            { title: 'Mobile number', description: data[arrayName][i].mobile_number || '' },\r\n            { title: 'Relationship', description: data[arrayName][i].relationship || '' },\r\n          ]),\r\n        },\r\n      });\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  childrenDetail(data) {\r\n    const result = [];\r\n    const startIndex = data.num_adult - 1;\r\n    const arrayName = data.plan_type === 'Group' ? 'group' : 'family';\r\n\r\n    for (let i = 0; i < data.num_children; ++i) {\r\n      const index = startIndex + i;\r\n      result.push({\r\n        key: `Child ${i + 1}`,\r\n        leftDetail: {\r\n          title: 'Details',\r\n          attributes: compactCheckoutAttributes([\r\n            { title: 'Name', description: data[arrayName][index].name || '' },\r\n            { title: 'ID type', description: data[arrayName][index].id_type || '' },\r\n            { title: 'ID number', description: data[arrayName][index].nric || '' },\r\n            { title: 'Nationality', description: data[arrayName][index].citizenship || '' },\r\n            { title: 'Date of Birth', description: data[arrayName][index].birth_date || '' },\r\n            { title: 'Gender', description: data[arrayName][index].gender || '' },\r\n            { title: 'Relationship', description: data[arrayName][index].relationship || '' },\r\n          ]),\r\n        },\r\n      });\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      headerData,\r\n      mainDetails,\r\n      subDetails,\r\n      params,\r\n      wordings,\r\n    } = this.state;\r\n\r\n    const {\r\n      isAdHoc,\r\n      setFormState,\r\n      history,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className=\"travel-checkout-container\">\r\n        <Checkout\r\n          {...this.props}\r\n          verifyParams={['quote_reference']}\r\n          headerData={headerData}\r\n          mainDetails={mainDetails}\r\n          subDetails={subDetails}\r\n          backToDetails={() => {\r\n            history.goBack();\r\n          }}\r\n          wordings={wordings}\r\n          params={params}\r\n          category=\"travel\"\r\n          trackingTags={{\r\n            payment: (data) => {\r\n              ReactPixel.track('AddPaymentInfo');\r\n              gaEvent('Travel - CheckoutPage_ProceedPayment', {\r\n                event_category: 'Travel',\r\n                event_label: 'Travel - CheckoutPage_ProceedPayment',\r\n              });\r\n              ampTag('TravelProceedPayA', {\r\n                cashback: data.useCashback !== null,\r\n                promo: data.promoCode !== null && data.promoCode !== '',\r\n              });\r\n            },\r\n            receipt: () => {\r\n              if (!isAdHoc) {\r\n                ReactPixel.track('Purchase', { currency: 'SGD', value: params.amountPayable });\r\n                setFormState(FORMSTATES.SUBMITTED.index);\r\n                history.push(`/travel${FORMSTATES.SUBMITTED.path}`);\r\n              }\r\n              gaTag({\r\n                page_title: 'Travel - Receipt',\r\n                page_path: '/travel/Receipt',\r\n              });\r\n              ampTag('TravelConfirmationS');\r\n            },\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTravelCheckoutContainer.defaultProps = {\r\n  charged: null,\r\n  sessionId: null,\r\n  adHocData: null,\r\n  isAdHoc: false,\r\n  isLoggedIn: false,\r\n  selectedPlanData: null,\r\n  values: null,\r\n  detailValues: null,\r\n};\r\n\r\nTravelCheckoutContainer.propTypes = {\r\n  charged: PropTypes.bool,\r\n  sessionId: PropTypes.string,\r\n  values: PropTypes.object,\r\n  detailValues: PropTypes.object,\r\n  selectedPlanData: PropTypes.object,\r\n  isLoggedIn: PropTypes.bool,\r\n  adHocData: PropTypes.object,\r\n  isAdHoc: PropTypes.bool,\r\n  setFormState: PropTypes.func.isRequired,\r\n  history: PropTypes.object.isRequired,\r\n  doSetCategoryNavBar: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  sessionId: ownProps.isAdHoc ? ownProps.sessionId : state.insurance.sessionId,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setFormState: (state) => {\r\n    dispatch(setInsuranceFormState(state));\r\n  },\r\n  doSetCategoryNavBar: (isCategory) => {\r\n    dispatch(setCategoryNavBar(isCategory));\r\n  },\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(TravelCheckoutContainer));\r\n","/**\r\n * FormInputWrapper.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './FormInputWrapper.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass FormInputWrapper extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    if (prevState.errorString !== nextProps.errorString) {\r\n      return {\r\n        errorString: nextProps.errorString,\r\n        refValue: nextProps.refValue,\r\n      };\r\n    }\r\n\r\n    if (nextProps.validateForm && prevState.errorString && prevState.refValue !== nextProps.refValue) {\r\n      nextProps.validateForm();\r\n      return {\r\n        errorString: null,\r\n      };\r\n    }\r\n    return null;\r\n  }\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {object} props Component props\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      errorString: null,\r\n    };\r\n\r\n    this.setErrorString = this.setErrorString.bind(this);\r\n    this.clearErrorString = this.clearErrorString.bind(this);\r\n  }\r\n\r\n  setErrorString(message) {\r\n    this.setState({\r\n      errorString: message,\r\n    });\r\n  }\r\n\r\n  clearErrorString() {\r\n    this.setState({\r\n      errorString: null,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      errorString,\r\n    } = this.state;\r\n\r\n    const {\r\n      extraInfo,\r\n      desc,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div\r\n        className=\"input-wrapper-main-new input-wrapper-error\"\r\n      >\r\n        {\r\n          desc !== null ?\r\n            <p className=\"input-wrapper-desc\">{desc}</p>\r\n          :\r\n            null\r\n        }\r\n        {this.props.children}\r\n        {\r\n          extraInfo !== null ?\r\n            <div className=\"extra-info-container\">\r\n              {extraInfo}\r\n            </div>\r\n          :\r\n            null\r\n        }\r\n        {\r\n          errorString !== null ?\r\n            <div className=\"input-wrapper-error-text\">\r\n              <p>{errorString}</p>\r\n            </div>\r\n          :\r\n            null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nFormInputWrapper.defaultProps = {\r\n  desc: null,\r\n  extraInfo: null,\r\n};\r\n\r\n\r\nFormInputWrapper.propTypes = {\r\n  desc: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n};\r\n\r\nexport default FormInputWrapper;\r\n","/**\r\n * DropDown.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Field, getFormValues, change } from 'redux-form';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\n\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport Arrow from '../../../assets/images/forms/arrow.svg';\r\nimport Cross from '../../../assets/images/forms/cross.svg';\r\nimport MagnifyGlass from '../../../assets/images/forms/magnifyGlass.svg';\r\n\r\nimport './DropDown.scss';\r\nimport './MultipleSelectDropDown.scss';\r\n\r\n// How many items to display\r\nconst maxItemsDisplay = 5;\r\n// Height for medium dropdown\r\nconst mediumHeight = 48;\r\n// Height for big dropdown\r\nconst bigHeight = 72;\r\n// Padding for when multiple items overflow\r\nconst extraPaddingForMultiple = 5;\r\n// Error text to display when error\r\nconst resultNullString = 'No results found';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass DropDownV2 extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const {\r\n      dropList,\r\n      numItemsDisplay,\r\n      size,\r\n    } = nextProps;\r\n\r\n    if (!_.isEqual(dropList, prevState.initialListItems)) {\r\n      const height = size === 'big' ? bigHeight : mediumHeight;\r\n      const numItems = numItemsDisplay || maxItemsDisplay;\r\n      const maxheight = (_.min([dropList ? dropList.length : 0, numItems]) + 1) * height;\r\n\r\n      return {\r\n        initialListItems: dropList,\r\n        listItems: dropList,\r\n        maxheight,\r\n        listHeight: maxheight,\r\n      };\r\n    }\r\n\r\n    return null;\r\n  }\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {object} props Component props\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // dropList - The passed down dropdown list items\r\n    // placeholderString - Placeholder string for input\r\n    // size - Size of this control\r\n    // numItemsDisplay - Max items to display on view\r\n    const {\r\n      dropList,\r\n      placeholderString,\r\n      size,\r\n      numItemsDisplay,\r\n    } = this.props;\r\n\r\n    // Get the control height\r\n    const height = size === 'big' ? bigHeight : mediumHeight;\r\n    // Get number of items to display\r\n    const numItems = numItemsDisplay || maxItemsDisplay;\r\n    // Get the max height of list\r\n    const maxheight = (_.min([dropList ? dropList.length : 0, numItems]) + 1) * height;\r\n    // isOpened - Whether dropdown is opened\r\n    // isError - Whether there is input error\r\n    // listItems - The actual dropdown list\r\n    // selectedString - The selected item string\r\n    // height - Preferred Control height\r\n    // numItemsDisplay - How many items to display\r\n    // maxheight - Max height of the list\r\n    // listHeight - Height of the list. (Items count + control)\r\n    // multipleSelectedElements - Array of multiple selected items\r\n    // listElementsCounter - Up down selection position\r\n    // clientHeight - Actual height of the control\r\n    this.state = {\r\n      isOpened: false,\r\n      listItems: dropList,\r\n      selectedString: placeholderString,\r\n      height,\r\n      numItemsDisplay: numItems,\r\n      maxheight,\r\n      listHeight: maxheight,\r\n      multipleSelectedElements: null,\r\n      listElementsCounter: -1,\r\n      clientHeight: height,\r\n      extraPadding: 0,\r\n      noTransition: true,\r\n    };\r\n\r\n    this.updateDimensions = this.updateDimensions.bind(this);\r\n    this.handleClickOutside = this.handleClickOutside.bind(this);\r\n    this.renderListItems = this.renderListItems.bind(this);\r\n    this.renderTextInput = this.renderTextInput.bind(this);\r\n    this.handleSelectClick = this.handleSelectClick.bind(this);\r\n    this.handleOnInputChange = this.handleOnInputChange.bind(this);\r\n    this.handleSetMultipleSelectedItem = this.handleSetMultipleSelectedItem.bind(this);\r\n    this.handleDestroySelected = this.handleDestroySelected.bind(this);\r\n    this.handleInputKeyPress = this.handleInputKeyPress.bind(this);\r\n    this.handleItemKeyPress = this.handleItemKeyPress.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleExit = this.handleExit.bind(this);\r\n    this.handleBlur = this.handleBlur.bind(this);\r\n    this.handleFocus = this.handleFocus.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentDidMount\r\n   */\r\n  componentDidMount() {\r\n    // Add Handler to handle click outside of screen\r\n    document.addEventListener('mousedown', this.handleClickOutside);\r\n    // Update control height on resize in case it squeezes down\r\n    window.addEventListener('resize', this.updateDimensions);\r\n    // Update for the first time\r\n    this.updateDimensions();\r\n\r\n    const { formStore, name, overrideValue } = this.props;\r\n    if (formStore && formStore[name]) {\r\n      const formValues = formStore[name];\r\n      if (formValues.constructor === Array) {\r\n        this.setState({\r\n          multipleSelectedElements: formValues,\r\n        });\r\n      }\r\n    }\r\n\r\n    if (overrideValue) {\r\n      this.handleChange(overrideValue);\r\n    }\r\n\r\n    this.setState({ noTransition : false });\r\n  }\r\n\r\n\r\n  /**\r\n   * Lifecycle Method - shouldComponentUpdate\r\n   *\r\n   * @param {object} nextProps\r\n   * @param {object} nextState\r\n   */\r\n  shouldComponentUpdate(nextProps) {\r\n    /* const {\r\n      isOpened,\r\n      selectedString,\r\n      multipleSelectedElements,\r\n      clientHeight,\r\n      extraPadding,\r\n    } = this.state;\r\n\r\n    const { formStore, name, isMultiple, overrideValue } = this.props; */\r\n    const { overrideValue } = this.props;\r\n\r\n    if (overrideValue !== nextProps.overrideValue) {\r\n      this.handleChange(nextProps.overrideValue);\r\n    }\r\n\r\n    return true;\r\n    // Render only when open state or selected string is different\r\n    /* return (\r\n      isOpened !== nextState.isOpened ||\r\n      selectedString !== nextState.selectedString ||\r\n      multipleSelectedElements !== nextState.multipleSelectedElements ||\r\n      clientHeight !== nextState.clientHeight ||\r\n      extraPadding !== nextState.extraPadding ||\r\n      !isMultiple && formStore && nextProps.formStore[name] && nextProps.formStore[name]\r\n    ); */\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentDidUpdate\r\n   */\r\n  componentDidUpdate() {\r\n    const { multipleSelectedElements } = this.state;\r\n    const { formStore, name } = this.props;\r\n    const isForm = formStore && formStore[name];\r\n\r\n    const isElements = !_.isEmpty(multipleSelectedElements);\r\n    if (isForm) {\r\n      const formValues = formStore[name];\r\n\r\n      if (!isElements || (isElements && !_.isEqual(formValues, multipleSelectedElements))) {\r\n        if (formValues.constructor === Array) {\r\n          this.setState({\r\n            multipleSelectedElements: [...formValues],\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    if (isElements && !isForm) {\r\n      this.setState({\r\n        multipleSelectedElements: null,\r\n      });\r\n    }\r\n    // Update control height if necessary, since the\r\n    // height may change after render\r\n    this.updateDimensions();\r\n    /* const { isOpened } = this.state;\r\n    if (isOpened && !prevState.isOpened) {\r\n      setTimeout(() => {\r\n        const bodyRect = document.body.getBoundingClientRect();\r\n        const elemRect = this.wrapperRef.getBoundingClientRect();\r\n        const offset = elemRect.top - bodyRect.top;\r\n        window.scrollTo(0, offset);\r\n      }, 300);\r\n    } */\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentWillUnmount\r\n   */\r\n  componentWillUnmount() {\r\n    // Remove Handler to handle click outside of screen\r\n    document.removeEventListener('mousedown', this.handleClickOutside);\r\n    window.removeEventListener('resize', this.updateDimensions);\r\n  }\r\n\r\n  /**\r\n   * Get client height of the selection container\r\n   * to determine the height of the whole control.\r\n   * (For multiple only)\r\n   *\r\n   * @param {object} event\r\n   */\r\n  updateDimensions() {\r\n    const { isMultiple } = this.props;\r\n\r\n    // Only multiple will expand\r\n    if (!isMultiple) {\r\n      return;\r\n    }\r\n\r\n    const {\r\n      clientHeight,\r\n      height,\r\n      extraPadding,\r\n    } = this.state;\r\n\r\n    let newHeight = mediumHeight;\r\n    try {\r\n      newHeight = this.selectedItemsContainer.children[this.selectedItemsContainer.childElementCount - 1].getBoundingClientRect().bottom - this.selectedItemsContainer.children[0].getBoundingClientRect().top;\r\n      newHeight = newHeight < mediumHeight ? mediumHeight : newHeight + 10;\r\n    } catch (error) {\r\n      // eslint-disable-next-line no-empty\r\n    }\r\n\r\n    // if client height is not same as DOM, update with padding if expanded\r\n    if (clientHeight !== newHeight) {\r\n      this.setState({\r\n        clientHeight: newHeight,\r\n        extraPadding: newHeight - 2 * extraPadding > height ? extraPaddingForMultiple : 0,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleChange(value) {\r\n    const {\r\n      name,\r\n      form,\r\n      formChange,\r\n      notForm,\r\n      valueChangeCallback,\r\n    } = this.props;\r\n\r\n    if (notForm) {\r\n      if (valueChangeCallback) {\r\n        valueChangeCallback(value);\r\n      }\r\n      this.inputField.value = value;\r\n      return;\r\n    }\r\n\r\n    formChange(form, name, value);\r\n  }\r\n\r\n  /**\r\n   * End selection if click on outside\r\n   *\r\n   * @param {object} event\r\n   */\r\n  handleClickOutside(event) {\r\n    const { isOpened } = this.state;\r\n\r\n    // If clicked outside, go to exit\r\n    if (\r\n      isOpened &&\r\n      this.wrapperRef &&\r\n      !this.wrapperRef.contains(event.target)\r\n    ) {\r\n      // Close it\r\n      this.setState({\r\n        isOpened: false,\r\n      });\r\n\r\n      // Unset from focus\r\n      this.isFromFocus = false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle on enter key\r\n   *\r\n   * @param {object} event\r\n   */\r\n  handleInputKeyPress(event) {\r\n    const {\r\n      isOpened,\r\n      listElementsCounter,\r\n      selectedString,\r\n      multipleSelectedElements,\r\n    } = this.state;\r\n\r\n    const { placeholderString, isMultiple } = this.props;\r\n\r\n    // If pressed on enter, go to exit\r\n    if (event.key === 'Enter') {\r\n      this.handleExit();\r\n      event.preventDefault();\r\n      return;\r\n    }\r\n\r\n    // Press down arrow from input\r\n    if (event.key === 'ArrowDown') {\r\n      if (isOpened) {\r\n        if (listElementsCounter === -1) {\r\n          event.preventDefault();\r\n        }\r\n        this.handleItemKeyPress(event);\r\n      } else {\r\n        this.setState({\r\n          isOpened: true,\r\n        });\r\n      }\r\n    }\r\n\r\n    if (\r\n      isMultiple &&\r\n      event.key === 'Backspace' &&\r\n      (selectedString === '' || selectedString === placeholderString) &&\r\n      !_.isEmpty(multipleSelectedElements)\r\n    ) {\r\n      this.handleDestroySelected(multipleSelectedElements[multipleSelectedElements.length - 1]);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Key press on list items\r\n   *\r\n   * @param {object} event\r\n   */\r\n  handleItemKeyPress(event) {\r\n    const {\r\n      listElementsCounter,\r\n    } = this.state;\r\n\r\n    let index = listElementsCounter;\r\n\r\n    // If click enter on list item\r\n    if (event.key === 'Enter') {\r\n      // Focus input field\r\n      // this.inputField.focus();\r\n      // Handle exit with the item value\r\n      this.handleExit(this.listElements[index].getAttribute('value'));\r\n      event.preventDefault();\r\n      return;\r\n    }\r\n\r\n    // Navigate list with up down arrow\r\n    if (event.key === 'ArrowDown') {\r\n      index = listElementsCounter + 1;\r\n    } else if (event.key === 'ArrowUp') {\r\n      index = listElementsCounter - 1;\r\n    }\r\n\r\n    // Cap index within list\r\n    index = Math.max(0, Math.min(index, this.listElements.length - 1));\r\n    // Focus on the next item\r\n    this.listElements[index].focus();\r\n\r\n    // If index changed, update state\r\n    if (index !== listElementsCounter) {\r\n      this.setState({\r\n        listElementsCounter: index,\r\n      });\r\n    }\r\n\r\n    event.stopPropagation();\r\n  }\r\n\r\n  /**\r\n   * Handle toggling of dropdown list\r\n   *\r\n   * @param {bool} isOpenOnly - Only can open\r\n   */\r\n  handleSelectClick(isOpenOnly = false) {\r\n    const {\r\n      isOpened,\r\n      selectedString,\r\n      maxheight,\r\n      multipleSelectedElements,\r\n    } = this.state;\r\n\r\n    const {\r\n      dropList,\r\n      isMultiple,\r\n    } = this.props;\r\n\r\n    // If this frame is not from focus\r\n    if (!this.isFromFocus) {\r\n      // Set open state\r\n      if (!isOpenOnly || (isOpenOnly && !isOpened)) {\r\n        this.setState({\r\n          isOpened: !isOpened,\r\n        });\r\n      }\r\n\r\n      // If previously invalid, reset list\r\n      if (!selectedString || selectedString === resultNullString) {\r\n        this.setState({\r\n          listItems: dropList,\r\n          listHeight: maxheight,\r\n          listElementsCounter: -1,\r\n        });\r\n\r\n        if (!isMultiple || (isMultiple && _.isEmpty(multipleSelectedElements))) {\r\n          this.handleChange(null);\r\n        }\r\n      }\r\n    }\r\n\r\n    // Unlock from focus\r\n    this.isFromFocus = false;\r\n  }\r\n\r\n  /**\r\n   * Handles selection of dropdown item\r\n   *\r\n   * @param {object} event - Click event\r\n   * @param {string} item - Input string\r\n   */\r\n  handleSelectItemClick(event, item) {\r\n    // If click on null item return\r\n    if (item === resultNullString) {\r\n      return;\r\n    }\r\n\r\n    const { dropList } = this.props;\r\n\r\n    const {\r\n      isMultiple,\r\n    } = this.props;\r\n\r\n    // Reset drop list items to all, set selected string,\r\n    // and reset any errors\r\n    this.setState({\r\n      listItems: dropList,\r\n    });\r\n\r\n    // this.formParent.clearErrorString();\r\n\r\n    if (isMultiple) {\r\n      // If multiple dropdown, reset selected string\r\n      this.setState({\r\n        selectedString: '',\r\n      });\r\n\r\n      // Set input field text to empty\r\n      this.inputField.value = '';\r\n      // Refocus input bar\r\n      // this.inputField.focus();\r\n\r\n      // Set multiple selected item\r\n      this.handleSetMultipleSelectedItem(item);\r\n    } else {\r\n      this.setState({\r\n        selectedString: item,\r\n      });\r\n\r\n      // Toggle the dropdown menu\r\n      this.handleSelectClick();\r\n\r\n      // Update redux state\r\n      this.handleChange(item);\r\n\r\n      // Close dropdown\r\n      this.setState({\r\n        isOpened: false,\r\n      });\r\n    }\r\n\r\n    event.stopPropagation();\r\n  }\r\n\r\n  /**\r\n   * Selection of multi select dropdown\r\n   *\r\n   * @param {string} item\r\n   */\r\n  handleSetMultipleSelectedItem(item) {\r\n    const { multipleSelectedElements, height } = this.state;\r\n\r\n    const newArr = multipleSelectedElements || [];\r\n\r\n    // If item does not exists in the selected list\r\n    if (newArr.indexOf(item) < 0) {\r\n      // Add item to list\r\n      newArr.push(item);\r\n\r\n      // Change state\r\n      this.setState({\r\n        multipleSelectedElements: newArr,\r\n        clientHeight: this.selectedContainer ? this.selectedContainer.clientHeight : height,\r\n        isOpened: false,\r\n      });\r\n\r\n      // Update redux store\r\n      this.handleChange(newArr);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Destroys multi selected item\r\n   *\r\n   * @param {string} item\r\n   */\r\n  handleDestroySelected(item) {\r\n    const { height } = this.state;\r\n\r\n    const { multipleSelectedElements } = this.state;\r\n    // Duplicate clean copy\r\n    let newArr = multipleSelectedElements.slice();\r\n    // Delete chosen item\r\n    const index = newArr.indexOf(item);\r\n    newArr.splice(index, 1);\r\n    // Set null if empty\r\n    newArr = newArr.length === 0 ? null : newArr;\r\n\r\n    // Update state\r\n    this.setState({\r\n      multipleSelectedElements: newArr,\r\n      clientHeight: this.selectedContainer ? this.selectedContainer.clientHeight : height,\r\n    });\r\n\r\n    // Update redux state\r\n    this.handleChange(newArr);\r\n    this.isFromFocus = false;\r\n  }\r\n\r\n  /**\r\n   * Handles on input changes\r\n   *\r\n   * @param {object} event\r\n   */\r\n  async handleOnInputChange(event) {\r\n    // Get current input value\r\n    const { value } = event.target;\r\n\r\n    const { dropList } = this.props;\r\n    const { height, numItemsDisplay } = this.state;\r\n\r\n    // Attempt to match value to list\r\n    const result = _.filter(\r\n      dropList,\r\n      item => item.toString().toUpperCase().indexOf(value.toString().toUpperCase()) === 0,\r\n    );\r\n\r\n    // Get length of new list, min 1 which is error string\r\n    const length = result.length ? result.length : 1;\r\n\r\n    // Set new list items, height of dropdown list,\r\n    // Force open list on type, and set selected string to value\r\n    this.setState({\r\n      listItems: result.length ? result : [resultNullString],\r\n      listHeight: (_.min([length, numItemsDisplay]) + 1) * height,\r\n      isOpened: true,\r\n      selectedString: value,\r\n      listElementsCounter: -1,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Handle Blur event\r\n   *\r\n   * @param {object} event\r\n   */\r\n  handleBlur(event) {\r\n    // Check if focus event contains children\r\n    const isChildren = this.wrapperRef.contains(event.relatedTarget);\r\n\r\n    // If outside of children\r\n    if (!isChildren) {\r\n      // Close dropdown\r\n      this.setState({\r\n        isOpened: false,\r\n      });\r\n      // Handle exit case\r\n      this.handleExit();\r\n      this.isFromFocus = false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle Focus event\r\n   *\r\n   * @param {object} event\r\n   */\r\n  handleFocus(event) {\r\n    const { isOpened } = this.state;\r\n\r\n    // Check if focus event contains children\r\n    const isChildren = this.wrapperRef.contains(event.relatedTarget);\r\n    // If not from children\r\n    if (!isChildren) {\r\n      // Open dropdown\r\n      if (!isOpened) {\r\n        this.handleSelectClick(true);\r\n        // Prevent double click\r\n        this.isFromFocus = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle exit selection of entered input\r\n   *\r\n   * @param {string} inputString - From selection\r\n   */\r\n  handleExit(inputString = null) {\r\n    const {\r\n      selectedString,\r\n      listItems,\r\n    } = this.state;\r\n\r\n    const {\r\n      placeholderString,\r\n      dropList,\r\n      isMultiple,\r\n    } = this.props;\r\n\r\n    // Result string if match original list\r\n    let resultString = null;\r\n    // If input causes an error\r\n    let isError = false;\r\n    // The string to use\r\n    const finalString = inputString !== null ? inputString : selectedString;\r\n    // If possible valid input\r\n    if (\r\n      finalString &&\r\n      finalString !== placeholderString &&\r\n      finalString !== ''\r\n    ) {\r\n      // Attempt to match finalString to original list\r\n      listItems.some((obj) => {\r\n        const result = obj.toString().toLowerCase() === finalString.toString().toLowerCase();\r\n        if (result) {\r\n          resultString = obj;\r\n        }\r\n\r\n        return result;\r\n      });\r\n\r\n      // Check error if no match\r\n      isError = !resultString;\r\n      // Set result string to match value or error value\r\n      resultString = isError ? null : resultString;\r\n\r\n      if (isMultiple) {\r\n        if (!isError) {\r\n          this.handleSetMultipleSelectedItem(resultString);\r\n        }\r\n\r\n        this.inputField.value = '';\r\n      } else {\r\n        // Update redux value\r\n        this.handleChange(resultString);\r\n\r\n        this.setState({\r\n          isOpened: false,\r\n        });\r\n      }\r\n    }\r\n\r\n    // If not error, reset list to list all,\r\n    // Set selected string and error if possible\r\n    // and close the list\r\n    this.setState({\r\n      listItems: isError ? listItems : dropList,\r\n      selectedString: resultString,\r\n    });\r\n\r\n    if (isError) {\r\n      // this.formParent.setErrorString(resultNullString);\r\n    } else {\r\n      // this.formParent.clearErrorString();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Renders the dropdown list items\r\n   */\r\n  renderListItems() {\r\n    const { listItems, height } = this.state;\r\n    this.listElements = [];\r\n\r\n    const result = _.map(listItems, item => (\r\n      <li key={item}>\r\n        <div\r\n          className=\"list-item text-style\"\r\n          style={{ height }}\r\n          onClick={event => this.handleSelectItemClick(event, item)}\r\n          role=\"button\"\r\n          tabIndex={-1}\r\n          value={item}\r\n          onKeyDown={(event) => { this.handleItemKeyPress(event); }}\r\n          ref={(node) => { if (node !== null) this.listElements.push(node); }}\r\n        >\r\n          <p>{item}</p>\r\n        </div>\r\n      </li>\r\n    ));\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Render the multiple selected elements in the input container\r\n   */\r\n  renderMultipleSelectedElements() {\r\n    const { multipleSelectedElements } = this.state;\r\n    const { isMultiple } = this.props;\r\n\r\n    if (!isMultiple) {\r\n      return null;\r\n    }\r\n\r\n    return _.map(multipleSelectedElements, item => (\r\n      <div className=\"selected-item-container\" key={item}>\r\n        <div className=\"selected-item\">\r\n          <p>{item}</p>\r\n          <button\r\n            className=\"selected-item-destroy\"\r\n            onMouseUp={() => this.handleDestroySelected(item)}\r\n            tabIndex={-1}\r\n          >\r\n            <img src={Cross} alt=\"cross.svg\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    ));\r\n  }\r\n\r\n  renderTextInput() {\r\n    const {\r\n      isMultiple,\r\n      isDisableTyping,\r\n      placeholderString,\r\n      name,\r\n      notForm,\r\n    } = this.props;\r\n\r\n    if (isMultiple || notForm) {\r\n      return (\r\n        isDisableTyping ?\r\n          <input\r\n            component=\"input\"\r\n            type=\"text\"\r\n            placeholder={placeholderString}\r\n            autoComplete=\"off\"\r\n            ref={node => (this.inputField = node)}\r\n            onChange={event => this.handleOnInputChange(event)}\r\n            onKeyDown={event => this.handleInputKeyPress(event)}\r\n            onClick={() => this.handleSelectClick(true)}\r\n            tabIndex={0}\r\n            disabled\r\n          />\r\n          :\r\n          <input\r\n            component=\"input\"\r\n            type=\"text\"\r\n            placeholder={placeholderString}\r\n            autoComplete=\"off\"\r\n            ref={node => (this.inputField = node)}\r\n            onChange={event => this.handleOnInputChange(event)}\r\n            onKeyDown={event => this.handleInputKeyPress(event)}\r\n            onClick={() => this.handleSelectClick(true)}\r\n            tabIndex={0}\r\n          />\r\n      );\r\n    }\r\n\r\n    return (\r\n      isDisableTyping ?\r\n        <Field\r\n          name={name}\r\n          component=\"input\"\r\n          type=\"text\"\r\n          // placeholder={placeholderString}\r\n          autoComplete=\"off\"\r\n          ref={node => (this.inputField = node)}\r\n          onChange={event => this.handleOnInputChange(event)}\r\n          onKeyDown={event => this.handleInputKeyPress(event)}\r\n          onClick={() => this.handleSelectClick(true)}\r\n          tabIndex={0}\r\n          disabled\r\n        />\r\n        :\r\n        <Field\r\n          name={name}\r\n          component=\"input\"\r\n          type=\"text\"\r\n          // placeholder={placeholderString}\r\n          autoComplete=\"off\"\r\n          ref={node => (this.inputField = node)}\r\n          onChange={event => this.handleOnInputChange(event)}\r\n          onKeyDown={event => this.handleInputKeyPress(event)}\r\n          onClick={() => this.handleSelectClick(true)}\r\n          tabIndex={0}\r\n        />\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Render component\r\n   */\r\n  render() {\r\n    const {\r\n      isOpened,\r\n      listHeight,\r\n      height,\r\n      clientHeight,\r\n      extraPadding,\r\n      noTransition,\r\n    } = this.state;\r\n\r\n    // const isOpened = true;\r\n\r\n    if (height && listHeight) {\r\n      const {\r\n        maxWidth,\r\n        isMultiple,\r\n        desc,\r\n        extraInfo,\r\n        errorString,\r\n        formStore,\r\n        name,\r\n        validateForm,\r\n        noInternalDesc,\r\n        logo,\r\n        noExternalDesc,\r\n        placeholderString,\r\n      } = this.props;\r\n\r\n      // Actual height of the whole control\r\n      const actualheight = isOpened ? listHeight : height;\r\n      // Actual height of only the list\r\n      const actualListheight = actualheight - height;\r\n\r\n      // Dynamic styles\r\n      const dropDownOpenStyle = isOpened ? 'dropdown-container-opened' : 'dropdown-container-closed';\r\n      const arrowStyle = isOpened ? 'angle-up' : 'angle-down';\r\n      const transitionStyle = noTransition ? '' : 'do-transition';\r\n      const listStyle = isOpened ? `list-opened ${transitionStyle}` : `list-closed ${transitionStyle}`;\r\n      const multipleStyle = isMultiple || logo ? 'multi-drop-new' : '';\r\n      const isErrorStyle = errorString ? 'error' : '';\r\n\r\n      const noInternalDescStyle = noInternalDesc ? 'no-internal-desc' : '';\r\n\r\n      const refValue = formStore ? formStore[name] : null;\r\n\r\n      const titleStyle = refValue ? 'focused-title' : '';\r\n      const marginTop = clientHeight > mediumHeight || isOpened ? clientHeight : 0;\r\n      const marginBottom = clientHeight > mediumHeight ? 6 : 0;\r\n\r\n      const logoImg = isMultiple ? MagnifyGlass : logo;\r\n      const externalDesc = noExternalDesc ? null : desc;\r\n      const zIndexStyle = isOpened ? 'drop-open' : 'drop-close';\r\n\r\n      return (\r\n        <FormInputWrapper\r\n          desc={externalDesc}\r\n          ref={node => (this.formParent = node)}\r\n          extraInfo={extraInfo}\r\n          errorString={errorString}\r\n          refValue={refValue}\r\n          validateForm={validateForm}\r\n          minHeight={clientHeight}\r\n        >\r\n          <div\r\n            className={`dropdown-new ${zIndexStyle} ${multipleStyle} ${noInternalDescStyle}`}\r\n            style={{\r\n              height: clientHeight,\r\n              maxWidth,\r\n              marginBottom,\r\n            }}\r\n            ref={node => (this.wrapperRef = node)}\r\n            onBlur={event => this.handleBlur(event)}\r\n            onFocus={event => this.handleFocus(event)}\r\n          >\r\n            <div\r\n              className={`dropdown-container ${dropDownOpenStyle} ${isErrorStyle}`}\r\n            >\r\n              {\r\n                isMultiple || noInternalDesc ? null :\r\n                <div className={`title-header ${titleStyle}`}>\r\n                  {placeholderString}\r\n                </div>\r\n              }\r\n              <div\r\n                className=\"selected-container\"\r\n                onKeyDown={event => this.handleInputKeyPress(event)}\r\n                role=\"button\"\r\n                style={{ minHeight: height }}\r\n                tabIndex={-1}\r\n                ref={node => (this.selectedContainer = node)}\r\n              >\r\n                {\r\n                  logoImg ?\r\n                    <div className=\"icon-container\" style={{ minHeight: height }}>\r\n                      <img\r\n                        src={logoImg}\r\n                        alt=\"DropdownImage.svg\"\r\n                      />\r\n                    </div>\r\n                  :\r\n                    null\r\n                }\r\n                <div\r\n                  className=\"selected-items-container\"\r\n                  ref={node => this.selectedItemsContainer = node}\r\n                  style={{ paddingTop: extraPadding, paddingBottom: extraPadding }}\r\n                >\r\n                  {this.renderMultipleSelectedElements()}\r\n                  <div className=\"selected-text selected-text-multi\">\r\n                    {this.renderTextInput()}\r\n                  </div>\r\n                </div>\r\n                <div\r\n                  className=\"selected-arrow\"\r\n                  onClick={() => this.handleSelectClick()}\r\n                  onKeyPress={() => {}}\r\n                  role=\"button\"\r\n                  tabIndex={-1}\r\n                >\r\n                  <img\r\n                    src={Arrow}\r\n                    alt=\"arrow.svg\"\r\n                    className={`selected-arrow-style ${arrowStyle}`}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <Scrollbars\r\n                className={`list-container ${listStyle}`}\r\n                style={{\r\n                  minHeight: actualListheight,\r\n                  marginTop,\r\n                }}\r\n                ref={node => this.listContainer = node}\r\n                tabIndex={-1}\r\n              >\r\n                {\r\n                  isOpened ?\r\n                    this.renderListItems()\r\n                  :\r\n                    null\r\n                }\r\n              </Scrollbars>\r\n            </div>\r\n          </div>\r\n        </FormInputWrapper>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\nDropDownV2.defaultProps = {\r\n  maxWidth: '100%',\r\n  numItemsDisplay: maxItemsDisplay,\r\n  isMultiple: false,\r\n  desc: null,\r\n  isDisableTyping: false,\r\n  extraInfo: null,\r\n  notForm: false,\r\n  overrideValue: null,\r\n  errorString: null,\r\n  dropList: null,\r\n  formStore: null,\r\n  valueChangeCallback: null,\r\n  name: null,\r\n  form: null,\r\n  validateForm: null,\r\n  noInternalDesc: false,\r\n  noExternalDesc: false,\r\n  logo: null,\r\n};\r\n\r\nDropDownV2.propTypes = {\r\n  formStore: PropTypes.object,\r\n  dropList: PropTypes.array,\r\n  placeholderString: PropTypes.string.isRequired,\r\n  maxWidth: PropTypes.string,\r\n  size: PropTypes.string.isRequired,\r\n  name: PropTypes.string,\r\n  numItemsDisplay: PropTypes.number,\r\n  formChange: PropTypes.func.isRequired,\r\n  isMultiple: PropTypes.bool,\r\n  desc: PropTypes.string,\r\n  isDisableTyping: PropTypes.bool,\r\n  extraInfo: PropTypes.object,\r\n  notForm: PropTypes.bool,\r\n  overrideValue: PropTypes.string,\r\n  errorString: PropTypes.string,\r\n  valueChangeCallback: PropTypes.func,\r\n  form: PropTypes.string,\r\n  validateForm: PropTypes.func,\r\n  noInternalDesc: PropTypes.bool,\r\n  noExternalDesc: PropTypes.bool,\r\n  logo: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  formStore: (getFormValues(ownProps.form)(state)),\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  formChange: (form, key, value) => {\r\n    dispatch(change(form, key, value));\r\n  },\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DropDownV2);\r\n","/**\r\n * Slider.js\r\n * Selection with dynamic content\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport React, { Component, Fragment } from 'react';\r\nimport { Field, getFormValues } from 'redux-form';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport _ from 'lodash';\r\n\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\nimport DropDownV2 from '../DropDown/DropDownV2';\r\n\r\nimport './SliderNew.scss';\r\n\r\nconst marginTopDefault = 0; // 60;\r\n\r\nconst SLIDERSTATE = {\r\n  ONIDLE: 0,\r\n  ONDOWN: 1,\r\n  ONUP: 2,\r\n};\r\n\r\n/**\r\n * Custom Selection Class\r\n */\r\nclass SliderNew extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const {\r\n      storeForm,\r\n      inputList,\r\n      name,\r\n      formState,\r\n      formStateList,\r\n    } = nextProps;\r\n\r\n    const { activeIndex } = prevState;\r\n\r\n    let indexToChange = null;\r\n    if (storeForm) {\r\n      const selectedTabString = storeForm[name];\r\n      const selectedTabIndex = inputList.indexOf(selectedTabString);\r\n      if (selectedTabIndex !== -1 && selectedTabIndex !== activeIndex) {\r\n        indexToChange = selectedTabIndex;\r\n      }\r\n    }\r\n\r\n    if (formState) {\r\n      const formStateIndex = _.findIndex(formStateList, listState => listState.state === formState);\r\n      if (formStateIndex !== activeIndex) {\r\n        indexToChange = formStateIndex;\r\n      }\r\n    }\r\n\r\n    if (indexToChange !== null) {\r\n      const len = inputList.length - 1;\r\n      const newWidth = indexToChange / len * 100;\r\n\r\n      return ({\r\n        activeIndex: indexToChange,\r\n        sliderWidth: newWidth,\r\n      });\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      sliderWidth: 0,\r\n      sliderState: SLIDERSTATE.ONIDLE,\r\n      activeIndex: 0,\r\n      isUseDropDown: false,\r\n      marginTop: marginTopDefault,\r\n    };\r\n\r\n    this.renderKnobs = this.renderKnobs.bind(this);\r\n    this.renderSummary = this.renderSummary.bind(this);\r\n\r\n    this.handleResize = this.handleResize.bind(this);\r\n\r\n    this.handleSliderDown = this.handleSliderDown.bind(this);\r\n    this.handleSliderMove = this.handleSliderMove.bind(this);\r\n    this.handleSliderUp = this.handleSliderUp.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('mousemove', this.handleSliderMove);\r\n    document.addEventListener('mouseup', this.handleSliderUp);\r\n    window.addEventListener('resize', this.handleResize);\r\n\r\n    const {\r\n      storeForm,\r\n      name,\r\n      change,\r\n      inputList,\r\n      isProductSlider,\r\n    } = this.props;\r\n\r\n    if (!isProductSlider && !(storeForm && storeForm[name])) {\r\n      change(name, inputList[0]);\r\n    }\r\n\r\n    this.handleResize();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('mousemove', this.handleSliderMove);\r\n    document.removeEventListener('mouseup', this.handleSliderUp);\r\n    window.removeEventListener('resize', this.handleResize);\r\n  }\r\n\r\n  handleResize() {\r\n    const { hideWidth, isProductSlider } = this.props;\r\n    if (!isProductSlider && hideWidth > 0) {\r\n      const isDrop = window.innerWidth <= hideWidth;\r\n      this.setState({\r\n        isUseDropDown: isDrop,\r\n        marginTop: isDrop ? 0 : marginTopDefault,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSliderDown() {\r\n    const { sliderState } = this.state;\r\n\r\n    if (sliderState !== SLIDERSTATE.ONDOWN) {\r\n      this.setState({\r\n        sliderState: SLIDERSTATE.ONDOWN,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSliderMove(event) {\r\n    const { sliderState } = this.state;\r\n\r\n    if (sliderState === SLIDERSTATE.ONDOWN) {\r\n      const rect = this.sliderStart.getBoundingClientRect();\r\n      const position = Math.max(0, Math.min(event.clientX - rect.x - 5, rect.width)) / rect.width * 100;\r\n      this.setState({\r\n        sliderWidth: position,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSliderUp() {\r\n    this.handleClick();\r\n  }\r\n\r\n  handleClick(index = null) {\r\n    const { inputList, isProductSlider } = this.props;\r\n\r\n    const { sliderWidth } = this.state;\r\n    const len = inputList.length - 1;\r\n    const indexToUse = this.handleProductSlider(index === null ? Math.round(sliderWidth / 100 * len) : index);\r\n    const newWidth = indexToUse / len * 100;\r\n\r\n    if (!isProductSlider) {\r\n      const {\r\n        name,\r\n        change,\r\n      } = this.props;\r\n\r\n      change(name, inputList[indexToUse]);\r\n    }\r\n\r\n    this.setState({\r\n      sliderState: SLIDERSTATE.IDLE,\r\n      sliderWidth: newWidth,\r\n      activeIndex: indexToUse,\r\n    });\r\n\r\n    if (inputList[indexToUse].callback) {\r\n      inputList[indexToUse].callback();\r\n    }\r\n  }\r\n\r\n  handleProductSlider(indexToUse) {\r\n    const { formState, formStateList } = this.props;\r\n    if (!formState) {\r\n      return indexToUse;\r\n    }\r\n\r\n    const formStateIndex = _.findIndex(formStateList, listState => listState.state === formState);\r\n    const isValidSelection = indexToUse < formStateIndex;\r\n    if (isValidSelection && formStateList[indexToUse].callback) {\r\n      formStateList[indexToUse].callback(formState);\r\n    }\r\n\r\n    return isValidSelection ? indexToUse : formStateIndex;\r\n  }\r\n\r\n  renderKnobs() {\r\n    const { activeIndex } = this.state;\r\n    const { inputList, isProductSlider, displayList } = this.props;\r\n\r\n    const inputLength = inputList.length - 1;\r\n    return _.map(inputList, (data, index) => {\r\n      const leftOffset = index / inputLength * 100;\r\n      const isProductPassedPage = isProductSlider && index <= activeIndex;\r\n      let activeStyle = '';\r\n      if (isProductPassedPage || (!isProductSlider && index === activeIndex)) {\r\n        activeStyle = 'desc-active';\r\n      }\r\n      const sliderStyle = isProductPassedPage ? 'knob-done' : 'knob-default';\r\n      const indexToUse = index;\r\n      const dataToUse = displayList && displayList[index] ? displayList[index] : data;\r\n      const descStyle = isProductSlider ? 'desc-bottom' : '';\r\n\r\n      return (\r\n        <button\r\n          key={data}\r\n          tabIndex={-1}\r\n          className={`knob ${sliderStyle}`}\r\n          style={{ left: `${leftOffset}%` }}\r\n          onClick={(e) => { e.preventDefault(); this.handleClick(indexToUse); }}\r\n          onKeyDown={() => {}}\r\n        >\r\n          <p className={`${activeStyle} desc ${descStyle}`}>\r\n            {dataToUse}\r\n          </p>\r\n        </button>\r\n      );\r\n    });\r\n  }\r\n\r\n  renderSummary() {\r\n    const {\r\n      activeIndex,\r\n    } = this.state;\r\n\r\n    const {\r\n      inputList,\r\n      prefix,\r\n      suffix,\r\n      isProductSlider,\r\n      displayList,\r\n    } = this.props;\r\n\r\n    if (!isProductSlider) {\r\n      const value = inputList[activeIndex];\r\n      const valueToUse = displayList && displayList[activeIndex] ? displayList[activeIndex] : value;\r\n\r\n      return (\r\n        <div className=\"slider-summary-container-new\">\r\n          {\r\n            prefix ?\r\n              <span className=\"prefix-suffix\">{`${prefix} `}</span>\r\n            :\r\n              null\r\n          }\r\n          <span className=\"value\">{valueToUse}</span>\r\n          {\r\n            suffix ?\r\n              <span className=\"prefix-suffix\">{` ${suffix}`}</span>\r\n            :\r\n              null\r\n          }\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      sliderWidth,\r\n      isUseDropDown,\r\n      marginTop,\r\n    } = this.state;\r\n\r\n    const {\r\n      name,\r\n      desc,\r\n      form,\r\n      change,\r\n      inputList,\r\n      extraInfo,\r\n      isProductSlider,\r\n      maxWidth,\r\n      errorString,\r\n    } = this.props;\r\n\r\n    const knobColor1 = isProductSlider ? 'white-knob' : 'color-knob';\r\n    const knobColor2 = isProductSlider ? 'color-knob' : 'white-knob';\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        desc={desc}\r\n        ref={node => (this.formParent = node)}\r\n        extraInfo={extraInfo}\r\n        errorString={errorString}\r\n      >\r\n        <Fragment>\r\n          {this.renderSummary()}\r\n          <div\r\n            className=\"slider-container-new\"\r\n            style={{ marginTop, maxWidth }}\r\n          >\r\n            {\r\n              isUseDropDown ?\r\n                <DropDownV2\r\n                  form={form}\r\n                  change={change}\r\n                  name={name}\r\n                  placeholderString=\"Enter or select your destinations\"\r\n                  dropList={inputList}\r\n                  size=\"medium\"\r\n                  isDisableTyping\r\n                />\r\n              :\r\n                <Fragment>\r\n                  <div\r\n                    className=\"line\"\r\n                    ref={node => this.sliderStart = node}\r\n                  />\r\n                  <div\r\n                    className=\"line-green\"\r\n                    style={{ width: `${sliderWidth}%` }}\r\n                  />\r\n                  <div\r\n                    className=\"knob-container\"\r\n                  >\r\n                    {this.renderKnobs()}\r\n                  </div>\r\n                  <div\r\n                    className=\"knob-container\"\r\n                  >\r\n                    <button\r\n                      tabIndex={0}\r\n                      className={`slider-knob ${knobColor1}`}\r\n                      ref={node => this.slider = node}\r\n                      onMouseDown={this.handleSliderDown}\r\n                      onClick={e => e.preventDefault()}\r\n                      style={{ left: `${sliderWidth}%` }}\r\n                    >\r\n                      <div className={`inner ${knobColor2}`} />\r\n                    </button>\r\n                    {\r\n                      isProductSlider ?\r\n                        null\r\n                      :\r\n                        <Field name={name} component={() => null} />\r\n                    }\r\n                  </div>\r\n                </Fragment>\r\n            }\r\n          </div>\r\n        </Fragment>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nSliderNew.defaultProps = {\r\n  desc: null,\r\n  hideWidth: 0,\r\n  prefix: null,\r\n  suffix: null,\r\n  extraInfo: null,\r\n  isProductSlider: false,\r\n  name: null,\r\n  change: null,\r\n  storeForm: null,\r\n  form: null,\r\n  maxWidth: '100%',\r\n  errorString: null,\r\n  formState: null,\r\n  formStateList: null,\r\n  displayList: null,\r\n};\r\n\r\nSliderNew.propTypes = {\r\n  isProductSlider: PropTypes.bool,\r\n  inputList: PropTypes.array.isRequired,\r\n  name: PropTypes.string,\r\n  change: PropTypes.func,\r\n  desc: PropTypes.string,\r\n  storeForm: PropTypes.object,\r\n  hideWidth: PropTypes.number,\r\n  form: PropTypes.string,\r\n  prefix: PropTypes.string,\r\n  suffix: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  maxWidth: PropTypes.string,\r\n  errorString: PropTypes.string,\r\n  formState: PropTypes.number,\r\n  formStateList: PropTypes.array,\r\n  displayList: PropTypes.array,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  storeForm: (getFormValues(ownProps.form)(state)),\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(SliderNew);\r\n","/**\r\n * Slider.js\r\n * Selection with dynamic content\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport React, { Component, Fragment } from 'react';\r\nimport { Field, getFormValues } from 'redux-form';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport _ from 'lodash';\r\n\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\nimport DropDownV2 from '../DropDown/DropDown';\r\n\r\nimport './SliderNew.scss';\r\n\r\nconst marginTopDefault = 0; // 60;\r\n\r\nconst SLIDERSTATE = {\r\n  ONIDLE: 0,\r\n  ONDOWN: 1,\r\n  ONUP: 2,\r\n};\r\n\r\n/**\r\n * Custom Selection Class\r\n */\r\nclass SliderNew extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const {\r\n      storeForm,\r\n      inputList,\r\n      name,\r\n      formState,\r\n      formStateList,\r\n    } = nextProps;\r\n\r\n    const { activeIndex } = prevState;\r\n\r\n    let indexToChange = null;\r\n    if (storeForm) {\r\n      const selectedTabString = storeForm[name];\r\n      const selectedTabIndex = inputList.indexOf(selectedTabString);\r\n      if (selectedTabIndex !== -1 && selectedTabIndex !== activeIndex) {\r\n        indexToChange = selectedTabIndex;\r\n      }\r\n    }\r\n\r\n    if (formState) {\r\n      const formStateIndex = _.findIndex(formStateList, listState => listState.state === formState);\r\n      if (formStateIndex !== activeIndex) {\r\n        indexToChange = formStateIndex;\r\n      }\r\n    }\r\n\r\n    if (indexToChange !== null) {\r\n      const len = inputList.length - 1;\r\n      const newWidth = indexToChange / len * 100;\r\n\r\n      return ({\r\n        activeIndex: indexToChange,\r\n        sliderWidth: newWidth,\r\n      });\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      sliderWidth: 0,\r\n      sliderState: SLIDERSTATE.ONIDLE,\r\n      activeIndex: 0,\r\n      isUseDropDown: false,\r\n      marginTop: marginTopDefault,\r\n    };\r\n\r\n    this.renderKnobs = this.renderKnobs.bind(this);\r\n    this.renderSummary = this.renderSummary.bind(this);\r\n\r\n    this.handleResize = this.handleResize.bind(this);\r\n\r\n    this.handleSliderDown = this.handleSliderDown.bind(this);\r\n    this.handleSliderMove = this.handleSliderMove.bind(this);\r\n    this.handleSliderUp = this.handleSliderUp.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('mousemove', this.handleSliderMove);\r\n    document.addEventListener('mouseup', this.handleSliderUp);\r\n    window.addEventListener('resize', this.handleResize);\r\n\r\n    const {\r\n      storeForm,\r\n      name,\r\n      change,\r\n      inputList,\r\n      isProductSlider,\r\n    } = this.props;\r\n\r\n    if (!isProductSlider && !(storeForm && storeForm[name])) {\r\n      change(name, inputList[0]);\r\n    }\r\n\r\n    this.handleResize();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('mousemove', this.handleSliderMove);\r\n    document.removeEventListener('mouseup', this.handleSliderUp);\r\n    window.removeEventListener('resize', this.handleResize);\r\n  }\r\n\r\n  handleResize() {\r\n    const { hideWidth, isProductSlider } = this.props;\r\n    if (!isProductSlider && hideWidth > 0) {\r\n      const isDrop = window.innerWidth <= hideWidth;\r\n      this.setState({\r\n        isUseDropDown: isDrop,\r\n        marginTop: isDrop ? 0 : marginTopDefault,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSliderDown() {\r\n    const { sliderState } = this.state;\r\n\r\n    if (sliderState !== SLIDERSTATE.ONDOWN) {\r\n      this.setState({\r\n        sliderState: SLIDERSTATE.ONDOWN,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSliderMove(event) {\r\n    const { sliderState } = this.state;\r\n\r\n    if (sliderState === SLIDERSTATE.ONDOWN) {\r\n      const rect = this.sliderStart.getBoundingClientRect();\r\n      const position = Math.max(0, Math.min(event.clientX - rect.x - 5, rect.width)) / rect.width * 100;\r\n      this.setState({\r\n        sliderWidth: position,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSliderUp() {\r\n    this.handleClick();\r\n  }\r\n\r\n  handleClick(index = null) {\r\n    const { inputList, isProductSlider } = this.props;\r\n\r\n    const { sliderWidth } = this.state;\r\n    const len = inputList.length - 1;\r\n    const indexToUse = this.handleProductSlider(index === null ? Math.round(sliderWidth / 100 * len) : index);\r\n    const newWidth = indexToUse / len * 100;\r\n\r\n    if (!isProductSlider) {\r\n      const {\r\n        name,\r\n        change,\r\n      } = this.props;\r\n\r\n      change(name, inputList[indexToUse]);\r\n    }\r\n\r\n    this.setState({\r\n      sliderState: SLIDERSTATE.IDLE,\r\n      sliderWidth: newWidth,\r\n      activeIndex: indexToUse,\r\n    });\r\n\r\n    if (inputList[indexToUse].callback) {\r\n      inputList[indexToUse].callback();\r\n    }\r\n  }\r\n\r\n  handleProductSlider(indexToUse) {\r\n    const { formState, formStateList } = this.props;\r\n    if (!formState) {\r\n      return indexToUse;\r\n    }\r\n\r\n    const formStateIndex = _.findIndex(formStateList, listState => listState.state === formState);\r\n    const isValidSelection = indexToUse < formStateIndex;\r\n    if (isValidSelection && formStateList[indexToUse].callback) {\r\n      formStateList[indexToUse].callback(formState);\r\n    }\r\n\r\n    return isValidSelection ? indexToUse : formStateIndex;\r\n  }\r\n\r\n  renderKnobs() {\r\n    const { activeIndex } = this.state;\r\n    const { inputList, isProductSlider, displayList } = this.props;\r\n\r\n    const inputLength = inputList.length - 1;\r\n    return _.map(inputList, (data, index) => {\r\n      const leftOffset = index / inputLength * 100;\r\n      const isProductPassedPage = isProductSlider && index <= activeIndex;\r\n      let activeStyle = '';\r\n      if (isProductPassedPage || (!isProductSlider && index === activeIndex)) {\r\n        activeStyle = 'desc-active';\r\n      }\r\n      const sliderStyle = isProductPassedPage ? 'knob-done' : 'knob-default';\r\n      const indexToUse = index;\r\n      const dataToUse = displayList && displayList[index] ? displayList[index] : data;\r\n      const descStyle = isProductSlider ? 'desc-bottom' : '';\r\n\r\n      return (\r\n        <button\r\n          key={data}\r\n          tabIndex={-1}\r\n          className={`knob ${sliderStyle}`}\r\n          style={{ left: `${leftOffset}%` }}\r\n          onClick={(e) => { e.preventDefault(); this.handleClick(indexToUse); }}\r\n          onKeyDown={() => {}}\r\n        >\r\n          <p className={`${activeStyle} desc ${descStyle}`}>\r\n            {dataToUse}\r\n          </p>\r\n        </button>\r\n      );\r\n    });\r\n  }\r\n\r\n  renderSummary() {\r\n    const {\r\n      activeIndex,\r\n    } = this.state;\r\n\r\n    const {\r\n      inputList,\r\n      prefix,\r\n      suffix,\r\n      isProductSlider,\r\n      displayList,\r\n    } = this.props;\r\n\r\n    if (!isProductSlider) {\r\n      const value = inputList[activeIndex];\r\n      const valueToUse = displayList && displayList[activeIndex] ? displayList[activeIndex] : value;\r\n\r\n      return (\r\n        <div className=\"slider-summary-container-new\">\r\n          {\r\n            prefix ?\r\n              <span className=\"prefix-suffix\">{`${prefix} `}</span>\r\n            :\r\n              null\r\n          }\r\n          <span className=\"value\">{valueToUse}</span>\r\n          {\r\n            suffix ?\r\n              <span className=\"prefix-suffix\">{` ${suffix}`}</span>\r\n            :\r\n              null\r\n          }\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      sliderWidth,\r\n      isUseDropDown,\r\n      marginTop,\r\n    } = this.state;\r\n\r\n    const {\r\n      name,\r\n      desc,\r\n      form,\r\n      change,\r\n      inputList,\r\n      extraInfo,\r\n      isProductSlider,\r\n      maxWidth,\r\n      errorString,\r\n    } = this.props;\r\n\r\n    const knobColor1 = isProductSlider ? 'white-knob' : 'color-knob';\r\n    const knobColor2 = isProductSlider ? 'color-knob' : 'white-knob';\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        desc={desc}\r\n        ref={node => (this.formParent = node)}\r\n        extraInfo={extraInfo}\r\n        errorString={errorString}\r\n      >\r\n        <Fragment>\r\n          {this.renderSummary()}\r\n          <div\r\n            className=\"slider-container-v3\"\r\n            style={{ marginTop, maxWidth }}\r\n          >\r\n            {\r\n              isUseDropDown ?\r\n                <DropDownV2\r\n                  form={form}\r\n                  change={change}\r\n                  name={name}\r\n                  placeholderString=\"Enter or select your destinations\"\r\n                  dropList={inputList}\r\n                  size=\"medium\"\r\n                  isDisableTyping\r\n                />\r\n              :\r\n                <Fragment>\r\n                  <div\r\n                    className=\"line\"\r\n                    ref={node => this.sliderStart = node}\r\n                  />\r\n                  <div\r\n                    className=\"line-green\"\r\n                    style={{ width: `${sliderWidth}%` }}\r\n                  />\r\n                  <div\r\n                    className=\"knob-container\"\r\n                  >\r\n                    {this.renderKnobs()}\r\n                  </div>\r\n                  <div\r\n                    className=\"knob-container\"\r\n                  >\r\n                    <button\r\n                      tabIndex={0}\r\n                      className={`slider-knob ${knobColor1}`}\r\n                      ref={node => this.slider = node}\r\n                      onMouseDown={this.handleSliderDown}\r\n                      onClick={e => e.preventDefault()}\r\n                      style={{ left: `${sliderWidth}%` }}\r\n                    >\r\n                      <div className={`inner ${knobColor2}`} />\r\n                    </button>\r\n                    {\r\n                      isProductSlider ?\r\n                        null\r\n                      :\r\n                        <Field name={name} component={() => null} />\r\n                    }\r\n                  </div>\r\n                </Fragment>\r\n            }\r\n          </div>\r\n        </Fragment>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nSliderNew.defaultProps = {\r\n  desc: null,\r\n  hideWidth: 0,\r\n  prefix: null,\r\n  suffix: null,\r\n  extraInfo: null,\r\n  isProductSlider: false,\r\n  name: null,\r\n  change: null,\r\n  storeForm: null,\r\n  form: null,\r\n  maxWidth: '100%',\r\n  errorString: null,\r\n  formState: null,\r\n  formStateList: null,\r\n  displayList: null,\r\n};\r\n\r\nSliderNew.propTypes = {\r\n  isProductSlider: PropTypes.bool,\r\n  inputList: PropTypes.array.isRequired,\r\n  name: PropTypes.string,\r\n  change: PropTypes.func,\r\n  desc: PropTypes.string,\r\n  storeForm: PropTypes.object,\r\n  hideWidth: PropTypes.number,\r\n  form: PropTypes.string,\r\n  prefix: PropTypes.string,\r\n  suffix: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  maxWidth: PropTypes.string,\r\n  errorString: PropTypes.string,\r\n  formState: PropTypes.number,\r\n  formStateList: PropTypes.array,\r\n  displayList: PropTypes.array,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  storeForm: (getFormValues(ownProps.form)(state)),\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(SliderNew);\r\n","/**\r\n * StepProgressBar.js\r\n * Used to display the progress steps used in all categories\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { Row, Col } from 'reactstrap';\r\n\r\nimport Slider from '../../FormsNew/Slider/SliderNew';\r\nimport SliderNew from '../../FormsV3/Slider/SliderNew';\r\n\r\nimport { setInsuranceFormState, FORMSTATES } from '../../../actions/insuranceActions';\r\n\r\nimport './StepProgressBarNew.scss';\r\n\r\nclass StepProgressBarNew extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.getStateList = this.getStateList.bind(this);\r\n    this.renderDescription = this.renderDescription.bind(this);\r\n  }\r\n\r\n  getStateList() {\r\n    const {\r\n      stateList,\r\n      history,\r\n    } = this.props;\r\n\r\n    return _.map(stateList, (state, index) => ({\r\n      state: state.index,\r\n      callback: (formState) => {\r\n        const currIndex = _.findIndex(stateList, s => s.index === formState);\r\n        history.go(-(currIndex - index));\r\n      },\r\n    }));\r\n  }\r\n\r\n  renderDescription() {\r\n    const {\r\n      formState,\r\n      stateList,\r\n      stateDescriptions,\r\n      charged,\r\n      history,\r\n    } = this.props;\r\n\r\n    try {\r\n      const currIndex = _.findIndex(stateList, state => state.index === formState);\r\n      const mainDesc = charged ? 'Receipt' : stateDescriptions[currIndex].main;\r\n      const subDesc = stateDescriptions[currIndex].sub;\r\n\r\n      if (!mainDesc && !subDesc) {\r\n        return null;\r\n      }\r\n\r\n      return (\r\n        <Col className=\"step-progress-description-container-new\" xs={12}>\r\n          {\r\n            currIndex !== 0 ?\r\n              <button\r\n                className=\"back-button\"\r\n                onClick={() => {\r\n                  history.goBack();\r\n                }}\r\n              >\r\n                Back\r\n              </button>\r\n            :\r\n              null\r\n          }\r\n          {\r\n            mainDesc ?\r\n              <p className=\"main\">{mainDesc}</p>\r\n            :\r\n              null\r\n          }\r\n          {\r\n            subDesc ?\r\n              <p className=\"sub\">{subDesc}</p>\r\n            :\r\n              null\r\n          }\r\n        </Col>\r\n      );\r\n    } catch (error) {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      formState,\r\n      charged,\r\n      inputList,\r\n      maxWidth,\r\n      className,\r\n      formStates,\r\n      v3Slider,\r\n    } = this.props;\r\n\r\n    const formStatesToUse = formStates || FORMSTATES;\r\n\r\n    if (formState !== formStatesToUse.MAIN.index && !charged) {\r\n      return (\r\n        <Row className={`justify-content-center ${className}`} noGutters>\r\n          <Col className=\"mx-auto product-slider-new\" xs={12}>\r\n            {\r\n              v3Slider ?\r\n                <SliderNew\r\n                  isProductSlider\r\n                  hideWidth={576}\r\n                  maxWidth={maxWidth}\r\n                  inputList={inputList}\r\n                  formStateList={this.getStateList()}\r\n                  formState={formState}\r\n                />\r\n              :\r\n                <Slider\r\n                  isProductSlider\r\n                  hideWidth={576}\r\n                  maxWidth={maxWidth}\r\n                  inputList={inputList}\r\n                  formStateList={this.getStateList()}\r\n                  formState={formState}\r\n                />\r\n            }\r\n          </Col>\r\n          {this.renderDescription()}\r\n        </Row>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\nStepProgressBarNew.defaultProps = {\r\n  charged: null,\r\n  maxWidth: '400px',\r\n  className: '',\r\n  formStates: null,\r\n  v3Slider: false,\r\n};\r\n\r\nStepProgressBarNew.propTypes = {\r\n  formState: PropTypes.number.isRequired,\r\n  // setInsurFormState: PropTypes.func.isRequired,\r\n  inputList: PropTypes.array.isRequired,\r\n  stateList: PropTypes.array.isRequired,\r\n  charged: PropTypes.bool,\r\n  stateDescriptions: PropTypes.array.isRequired,\r\n  maxWidth: PropTypes.string,\r\n  history: PropTypes.object.isRequired,\r\n  className: PropTypes.string,\r\n  formStates: PropTypes.object,\r\n  v3Slider: PropTypes.bool,\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setInsurFormState: (state) => {\r\n    dispatch(setInsuranceFormState(state));\r\n  },\r\n});\r\n\r\nexport default withRouter(connect(null, mapDispatchToProps)(StepProgressBarNew));\r\n","module.exports = __webpack_public_path__ + \"static/media/Tooltip.1d702c17.svg\";","module.exports = __webpack_public_path__ + \"static/media/PiggyBank.67735ba0.svg\";","module.exports = __webpack_public_path__ + \"static/media/HandWithMoney.b335473b.svg\";","module.exports = __webpack_public_path__ + \"static/media/CircuitBoard.81db1dc1.svg\";","module.exports = __webpack_public_path__ + \"static/media/Clock.d1484216.svg\";","module.exports = __webpack_public_path__ + \"static/media/Luggauge.c209ef10.svg\";","module.exports = __webpack_public_path__ + \"static/media/Plane.eae47658.svg\";","module.exports = __webpack_public_path__ + \"static/media/Medic.deae0f0c.svg\";","module.exports = __webpack_public_path__ + \"static/media/Disaster.172b891a.svg\";","module.exports = __webpack_public_path__ + \"static/media/TravelSplash.88be0e24.svg\";","module.exports = __webpack_public_path__ + \"static/media/PopupBanner.08e220a4.svg\";","module.exports = __webpack_public_path__ + \"static/media/PopupBannerResp.e8d6a3d2.svg\";","module.exports = __webpack_public_path__ + \"static/media/Plane.b135d61e.svg\";","module.exports = __webpack_public_path__ + \"static/media/Hospital.dc8648e6.svg\";","module.exports = __webpack_public_path__ + \"static/media/Language.ac680a4e.svg\";","module.exports = __webpack_public_path__ + \"static/media/Dollar.0c0d2143.svg\";","module.exports = __webpack_public_path__ + \"static/media/Clock.e73ee758.svg\";","module.exports = __webpack_public_path__ + \"static/media/Document.ba938f08.svg\";","module.exports = __webpack_public_path__ + \"static/media/Exercise.d9d59f41.svg\";","module.exports = __webpack_public_path__ + \"static/media/Head.ed48d2b2.svg\";","module.exports = __webpack_public_path__ + \"static/media/Medicine.12a9bb0e.svg\";","module.exports = __webpack_public_path__ + \"static/media/Others.fd20785d.svg\";","module.exports = __webpack_public_path__ + \"static/media/Plane.71c5c302.svg\";","module.exports = __webpack_public_path__ + \"static/media/DocumentsResp.fd5e7886.svg\";","module.exports = __webpack_public_path__ + \"static/media/TickRounded.15656c53.svg\";"],"sourceRoot":""}