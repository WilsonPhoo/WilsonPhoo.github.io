(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{1149:function(e,t,r){"use strict";r.r(t);var n=r(3),a=r.n(n),o=r(6),s=r(45),i=r(46),c=r(48),l=r(47),u=r(49),p=r(114),d=r(5),m=r.n(d),h=r(1),f=r.n(h),b=r(298),v=r(56),g=r(329),j=r(115),O=r(395),E=r(299),S=(r(852),function(e){function t(e){var r;return Object(s.a)(this,t),(r=Object(c.a)(this,Object(l.a)(t).call(this,e))).state={errorString:null},r.handleSubmit=r.handleSubmit.bind(Object(p.a)(Object(p.a)(r))),r}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleSubmit",value:function(e){var t=this.props.submitCallback;e.password1&&e.password2?e.password1===e.password2?e.password1.length<8?this.setState({errorString:"Password must be at least 8 characters."}):(this.setState({errorString:null}),t(e.password1)):this.setState({errorString:"Password are not the same."}):this.setState({errorString:"Please fill in both password fields."})}},{key:"render",value:function(){var e=this.state.errorString,t=this.props,r=t.handleSubmit,n=t.form,a=t.change;return f.a.createElement(j.y,{className:"reset-password"},f.a.createElement(j.f,{className:"reset-text",xs:12},f.a.createElement("p",null,"Reset Password")),f.a.createElement("form",{onSubmit:r(this.handleSubmit)},f.a.createElement(j.f,{xs:12},f.a.createElement(O.a,{form:n,change:a,name:"password1",placeholderString:"Enter your new Password",size:"medium",isPassword:!0,desc:"New Password",zIndex:99})),f.a.createElement(j.f,{xs:12},f.a.createElement(O.a,{form:n,change:a,name:"password2",placeholderString:"Confirm Password",size:"medium",isPassword:!0,desc:"Confirm Password",zIndex:98})),f.a.createElement(j.f,{xs:12},f.a.createElement("p",{className:"error-text"},e)),f.a.createElement(j.f,{className:"justify-content-center button",xs:12},f.a.createElement(E.a,{type:"submit",variant:"medium-color",width:165,height:72},f.a.createElement("p",null,"Reset Password")))))}}]),t}(h.Component));S.defaultProps={};var w=Object(g.a)({form:"reset-password"})(S),x=r(374),k=r(79),C=r(16),P=function(e){function t(e){var r;Object(s.a)(this,t);var n=(r=Object(c.a)(this,Object(l.a)(t).call(this,e))).props.location,a=null;try{a=n.search.substring(m.a.findIndex(n.search,function(e){return"="===e})+1)}catch(o){console.log("Token parse error")}return r.state={token:a},r.submitCallback=r.submitCallback.bind(Object(p.a)(Object(p.a)(r))),r}return Object(u.a)(t,e),Object(i.a)(t,[{key:"submitCallback",value:function(){var e=Object(o.a)(a.a.mark(function e(t){var r,n,o,s,i,c,l=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.state.token,n=this.props,o=n.loading,s=n.loadingEnd,o(),e.next=5,Object(C.v)(t,r);case 5:i=e.sent,s(),c=i?"Your password has been reset successfully.":"Password reset failed. Please try again.",setTimeout(function(){return l.popup.openPopupWithText(c,i)},300);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.token,r=this.props.history;return t?f.a.createElement(h.Fragment,null,f.a.createElement(w,{submitCallback:this.submitCallback}),f.a.createElement(x.a,{ref:function(t){return e.popup=t},onConfirm:function(){return r.push("/")}})):null}}]),t}(h.Component);t.default=Object(b.a)(Object(v.connect)(function(e){return{login:e.login}},function(e){return{loading:function(t,r,n){e(Object(k.d)(t,r,n))},loadingEnd:function(){e(Object(k.c)())}}})(P))},303:function(e,t,r){"use strict";var n=r(45),a=r(48),o=r(47),s=r(46),i=r(49),c=r(114),l=r(1),u=r.n(l),p=(r(388),function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(a.a)(this,Object(o.a)(t).call(this,e))).state={errorString:null},r.setErrorString=r.setErrorString.bind(Object(c.a)(Object(c.a)(r))),r.clearErrorString=r.clearErrorString.bind(Object(c.a)(Object(c.a)(r))),r}return Object(i.a)(t,e),Object(s.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return t.errorString!==e.errorString?{errorString:e.errorString,refValue:e.refValue}:e.validateForm&&t.errorString&&t.refValue!==e.refValue?(e.validateForm(),{errorString:null}):null}}]),Object(s.a)(t,[{key:"setErrorString",value:function(e){this.setState({errorString:e})}},{key:"clearErrorString",value:function(){this.setState({errorString:null})}},{key:"render",value:function(){var e=this.state.errorString,t=this.props,r=t.desc,n=t.extraInfo;return u.a.createElement("div",{className:"input-wrapper-main input-wrapper-error"},null!==r?u.a.createElement("p",{className:"input-wrapper-desc"},r):null,this.props.children,null!==n?u.a.createElement("div",{className:"extra-info-container"},n):null,null!==e?u.a.createElement("p",{className:"input-wrapper-error-text"},e):null)}}]),t}(l.Component));p.defaultProps={desc:null,extraInfo:null},t.a=p},314:function(e,t,r){e.exports=r.p+"static/media/magnifyGlass.eedb8132.svg"},374:function(e,t,r){"use strict";var n=r(45),a=r(46),o=r(48),s=r(47),i=r(49),c=r(114),l=r(1),u=r.n(l),p=r(299),d=r(310),m=(r(389),function(e){function t(e){var r;Object(n.a)(this,t);var a=(r=Object(o.a)(this,Object(s.a)(t).call(this,e))).props.onConfirm;return r.state={text:"",jsx:null,useConfirm:!0,onConfirm:a},r.openPopupWithText=r.openPopupWithText.bind(Object(c.a)(Object(c.a)(r))),r}return Object(i.a)(t,e),Object(a.a)(t,[{key:"openPopupWithText",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.setState({text:e,useConfirm:t}),r&&this.setState({onConfirm:r}),setTimeout(this.popupRef.openPopup,10)}},{key:"openPopupWithJSX",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.setState({jsx:e,useConfirm:t}),r&&this.setState({onConfirm:r}),setTimeout(this.popupRef.openPopup,10)}},{key:"render",value:function(){var e=this,t=this.state,r=t.text,n=t.jsx,a=t.useConfirm,o=t.onConfirm,s=this.props,i=s.showCancelButton,c=s.hideCloseButton;return u.a.createElement("div",{className:"popup-with-text"},u.a.createElement(d.a,{hideCloseButton:c,ref:function(t){e.popupRef=t}},u.a.createElement(l.Fragment,null,u.a.createElement("div",{className:"check-out-popup"},u.a.createElement("div",{className:"upper-container upper-margin-down"},n||u.a.createElement("p",null,u.a.createElement("span",{className:"focus-text"},r))),u.a.createElement("div",{className:"button-container"},i?u.a.createElement(p.a,{className:"checkout-button",variant:"medium-flat",width:166,height:72,onClick:function(){e.popupRef.closePopup()}},u.a.createElement("p",null,"Cancel")):null,u.a.createElement(p.a,{className:"checkout-button",variant:"medium-flat-green",width:166,height:72,onClick:function(){a&&o(),e.popupRef.closePopup()}},u.a.createElement("p",null,"Confirm")))))))}}]),t}(l.Component));m.defaultProps={onConfirm:function(){},showCancelButton:!1,hideCloseButton:!1},t.a=m},377:function(e,t,r){},388:function(e,t,r){},389:function(e,t,r){},395:function(e,t,r){"use strict";var n=r(3),a=r.n(n),o=r(6),s=r(45),i=r(46),c=r(48),l=r(47),u=r(49),p=r(114),d=r(1),m=r.n(d),h=r(56),f=r(304),b=r(305),v=r(293),g=r(314),j=r.n(g),O=r(303),E=r(13),S=(r(377),60),w=72,x=function(e){function t(e){var r;Object(s.a)(this,t);var n=(r=Object(c.a)(this,Object(l.a)(t).call(this,e))).props,a=n.size,o=n.height,i="big"===a?w:S;return i=o||i,r.state={height:i,isFocus:!1},r.handleFocus=r.handleFocus.bind(Object(p.a)(Object(p.a)(r))),r.handleBlur=r.handleBlur.bind(Object(p.a)(Object(p.a)(r))),r.setError=r.setError.bind(Object(p.a)(Object(p.a)(r))),r.clearError=r.clearError.bind(Object(p.a)(Object(p.a)(r))),r.renderTextArea=r.renderTextArea.bind(Object(p.a)(Object(p.a)(r))),r.handlePostCode=r.handlePostCode.bind(Object(p.a)(Object(p.a)(r))),r}return Object(u.a)(t,e),Object(i.a)(t,[{key:"setError",value:function(e){this.formParent.setErrorString(e)}},{key:"clearError",value:function(){this.formParent.clearErrorString()}},{key:"handleFocus",value:function(){this.setState({isFocus:!0})}},{key:"handleBlur",value:function(){this.setState({isFocus:!1})}},{key:"handlePostCode",value:function(){var e=Object(o.a)(a.a.mark(function e(t){var r,n,o,s,i,c,l,u,p,d,m;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=this.props,n=r.storeValue,o=r.name,s=r.addressFields,i=r.formChange,c=r.form,!n){e.next=8;break}return l=n[o],e.next=6,Object(E.x)(l);case 6:(u=e.sent)&&(p=""===u.street?"":"".concat(u.street," "),d=""===u.block?"":"".concat(u.block," "),m="".concat(d).concat(p),s.blkNo&&(i(c,s.blkNo,u.block),m=p),s.address&&i(c,s.address,m));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"renderTextArea",value:function(e){var t=e.input,r=this.props.placeholderString;return m.a.createElement("div",{className:"text-area"},m.a.createElement("textarea",Object.assign({},t,{placeholder:r,rows:"10",cols:"40"})))}},{key:"render",value:function(){var e=this,t=this.state,r=t.height,n=t.isFocus,a=this.props,o=a.name,s=a.desc,i=a.placeholderString,c=a.zIndex,l=a.isPassword,u=a.extraInfo,p=a.errorString,d=a.isTextArea,h=a.storeValue,b=a.validateForm,v=a.isPostCode,g=a.toUpper,E=n?"focus":"",S=l?"password":"",w=p?"error":"",x=h?h[o]:null;return m.a.createElement(O.a,{desc:s,ref:function(t){return e.formParent=t},extraInfo:u,errorString:p,refValue:x,validateForm:b},m.a.createElement("div",{className:"text-input-container ".concat(E," ").concat(w),style:{height:r,zIndex:c},onFocus:function(){return e.handleFocus()},onBlur:function(){return e.handleBlur()}},m.a.createElement("div",{className:"text-input"},d?m.a.createElement(f.a,{className:"text",component:this.renderTextArea,name:o,normalize:function(e){return e&&g?e.toUpperCase():e}}):m.a.createElement(f.a,{className:"text",component:"input",type:S,placeholder:i,name:o,normalize:function(e){return e&&g?e.toUpperCase():e}}),v?m.a.createElement("button",{className:"postcode",onClick:function(t){return e.handlePostCode(t)}},m.a.createElement("img",{src:j.a,alt:"magGlass.svg"})):null)))}}]),t}(d.Component);x.defaultProps={desc:null,isPassword:!1,extraInfo:null,errorString:null,isTextArea:!1,height:null,storeValue:null,isPostCode:!1,addressFields:null,validateForm:null,toUpper:!1};t.a=Object(h.connect)(function(e,t){return{storeValue:Object(b.a)(t.form)(e)}},function(e){return{formChange:function(t,r,n){e(Object(v.a)(t,r,n))}}})(x)},852:function(e,t,r){}}]);
//# sourceMappingURL=forgetpassword.2eef1b41.chunk.js.map