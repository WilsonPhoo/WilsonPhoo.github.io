{"version":3,"sources":["components/Life/LifeChoosePlan.js","containers/Life/LifeChoosePlanContainer.js","../node_modules/redux-form/es/createFieldProps.js","../node_modules/redux-form/es/events/getValue.js","../node_modules/redux-form/es/isReactNative.js","../node_modules/redux-form/es/events/onChangeValue.js","../node_modules/redux-form/es/util/eventConsts.js","../node_modules/redux-form/es/ConnectedField.js","../node_modules/redux-form/es/util/shallowCompare.js","../node_modules/redux-form/es/util/prefixName.js","../node_modules/redux-form/es/createField.js","../node_modules/redux-form/es/Field.js","../node_modules/redux-form/es/selectors/getFormValues.js","../node_modules/redux-form/es/getFormValues.js","components/Templates/TabView/TabView.js","assets/images/forms/dateIn.svg","assets/images/forms/dateOut.svg","components/Forms/Selection/Selection.js","assets/images/common/CheckIcon.svg","components/Forms/DatePicker/DatePickerV2.js","components/Templates/RestrictionsPopup/RestrictionsPopup.js","assets/images/forms/ArrowGradient.svg","components/Templates/SpeechScroll/SpeechScroll.js","components/Templates/Enquiry/Enquiry.js","assets/images/common/Phone.svg","assets/images/forms/EditButton.svg","components/Templates/Accordion/Accordion.js","components/Templates/ChangeInitialFormData/ChangeInitialFormData.js","assets/images/MainFormIcons/Avatar.svg","components/Forms/Slider/Slider.js","assets/images/common/Tick.svg","assets/images/MainFormIcons/Dollar.svg","assets/images/MainFormIcons/Umbrella.svg","components/Templates/CompareView/CompareViewTableAccordion.js","components/Templates/CompareView/CompareViewTable.js","components/Templates/CompareView/CompareView.js","components/Templates/MultiCompareView/MultiCompareInner.js","components/Templates/MultiCompareView/MultiCompareView.js","components/Life/LifeEditDetail.js"],"names":["LifeChoosePlan","selectedPlanData","planType","discount","_","map","info","data","display","isEmpty","partner","insurer_slug","price","policyInfo","net_price","error","console","log","concat","message","_this","this","lifeFields","props","react_default","a","createElement","MultiCompareView","Object","assign","category","form","editForm","valuesToListen","value","desc","extra","conditions","key","values","term_life","whole_life","editDetail","LifeEditDetail","isPopUp","buttonDesc","forceFixedOnDesktop","trackingTags","default","ampTag","getAmpTags","Component","defaultProps","LifeChoosePlanContainer","setFormState","FORMSTATES","CHOOSEPLAN","index","fbTag","Product","gaTag","page_title","page_path","_this$props","lifeForm","getPlans","getInsurersList","clearData","plansData","validInsurersList","history","Life_LifeChoosePlan","mainForm","parseForm","parseLifeForm","setSelectedPlanData","DETAILFORM","push","path","loadingFailBackState","goBack","withRouter","connect","state","getFormValues","life","dispatch","setInsuranceFormState","parsedForm","getLifePlans","getValidInsurersList","clearLifeData","_extends","target","i","arguments","length","source","prototype","hasOwnProperty","call","processProps","type","_value","deepEqual","checked","undefined","es_createFieldProps","_ref2","name","_ref","getIn","toJS","asyncError","asyncValidating","onBlur","onChange","onDrop","onDragStart","dirty","onFocus","format","initial","pristine","parse","submitError","submitFailed","submitting","syncError","syncWarning","validate","custom","warn","obj","keys","indexOf","_objectWithoutProperties","warning","formattedFieldValue","defaultFormattedValue","formatFieldValue","input","meta","active","autofilled","invalid","touched","valid","visited","events_getValue","event","isReactNative","isEvent","nativeEvent","text","detypedEvent","_detypedEvent$target","files","dataTransfer","options","result","option","selected","getSelectedValues","es_isReactNative","window","navigator","product","events_onChangeValue","normalize","dataKey","ConnectedField_extends","_createClass","defineProperties","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","_typeof","Symbol","iterator","constructor","ConnectedField_objectWithoutProperties","_possibleConstructorReturn","self","ReferenceError","propsToNotUpdateFor","isObject","entity","isFunction","eventPreventDefault","preventDefault","eventDataTransferGetData","getData","eventDataTransferSetData","setData","es_ConnectedField","structure","ConnectedField","_Component","_temp","instance","TypeError","_classCallCheck","_len","args","Array","_key","__proto__","getPrototypeOf","apply","saveRef","ref","isPristine","getValue","handleChange","_reduxForm","previousValue","newValue","defaultPrevented","change","asyncValidate","handleFocus","_this$props2","focus","handleBlur","_this$props3","blur","handleDragStart","_this$props4","handleDrop","_this$props5","subClass","superClass","create","setPrototypeOf","_inherits","react","nextProps","_this2","nextPropsKeys","thisPropsKeys","children","some","prop","immutableProps","_props","component","withRef","rest","_createFieldProps","propTypes","prop_types_default","oneOfType","func","string","node","isRequired","object","es","ownProps","_ownProps$_reduxForm","initialValues","formState","getFormState","initialState","syncErrors","plain","_error","getSyncError","syncWarnings","_warning","getSyncWarning","connector","customizer","objectValue","otherValue","indexOrkey","other","stack","util_shallowCompare","nextState","propsEqual","isEqualWith","stateEqual","prefixName","sectionPrefix","createField_extends","createField_createClass","es_createField","setIn","Field","context","createField_classCallCheck","createField_possibleConstructorReturn","previousValues","getValues","Error","createField_inherits","register","nextContext","oldName","newName","unregister","browser_default","getWrappedInstance","getRenderedComponent","get","arrayOf","bool","contextTypes","react_lifecycles_compat_es","__webpack_exports__","nonNullGetFormState","TabView","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","padding","maxTabWidthPx","isDataFadeOnly","tabs","initialIndex","isUsingMaxWidth","maxWidth","tabWidth","activeIndex","containerWidth","width","widthPercentage","paddingWidth","isControlVisible","isDropDownControl","fadeStyle","goToIndex","bind","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__","handleResize","resizeTabHeight","renderTabs","renderTabContent","renderControls","renderSlides","prevState","currentTabSelection","newIndex","findIndex","tab","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","changeTab","addEventListener","ReactDOM","findDOMNode","carousel","setState","prevProps","_this$state","setTriggerHeightUpdate","tabContainer","getBoundingClientRect","setTimeout","removeEventListener","_this$state2","hideWidth","innerWidth","isVisibleNow","_this3","isForced","_this$state3","onClick","carouselIncoming","overrideNegation","isConstantHeight","carouselToUse","list","getElementsByTagName","sliderWrapper","parentNode","itemHeight","scrollHeight","style","height","activeStyle","bigTextStyle","big","isWithImg","isString","img","react__WEBPACK_IMPORTED_MODULE_9___default","react__WEBPACK_IMPORTED_MODULE_9__","className","src","alt","_this4","_this$state4","bigTabStyle","tabStyle","role","tabIndex","onKeyDown","_this5","item","React","cloneElement","updateTabHeight","_this6","_this$state5","isDisableDropdown","charged","isOverContainer","selectedMargin","bigStyle","marginLeft","droplist","_Forms_DropDown_DropDownV2__WEBPACK_IMPORTED_MODULE_13__","dropdown","placeholderString","dropList","size","zIndex","isDisableTyping","notForm","valueChangeCallback","overrideValue","_this7","_this$state6","_this$props6","containerStyle","react_responsive_carousel__WEBPACK_IMPORTED_MODULE_12__","showThumbs","showIndicators","showArrows","showStatus","selectedItem","swipeable","tabName","setTabSelection","module","exports","__webpack_require__","p","Selection","selections","formStore","storeValues","storeValuesArray","resultState","forEach","v","getStoreSelection","noEmptyTextSelection","setInitialValue","toggleResult","newSelections","noUpdate","mapValues","findKey","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","each","k","selectionState","react__WEBPACK_IMPORTED_MODULE_6___default","CheckIcon","description","sizeInSM","onKeyPress","onToggleSelection","renderSelectionInsides","reactstrap__WEBPACK_IMPORTED_MODULE_10__","sm","extraInfo","errorString","_FormInputWrapper_FormInputWrapper__WEBPACK_IMPORTED_MODULE_13__","formParent","marginTop","redux_form__WEBPACK_IMPORTED_MODULE_8__","renderSelectionIcon","PureComponent","placeholderStringDefault","monthTextMapping","mediumHeight","bigHeight","deafultYearRange","DatePickerV2","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","startDate","endDate","currDate","date","Date","year","getFullYear","month","getMonth","firstDay","lastDay","dateRangeStart","dateRangeEnd","placeHolder","isOpened","selectedString","currFirstDay","currLastDay","selectedStartDate","selectedEndDate","handleSelectClick","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__","handleClickOutside","handleOnInputChange","handleKeyPress","handleExit","setSelectedDate","setNewDate","setCalender","onMovement","isFromFocus","updateStartEndDate","dateName","dateReformed","storeStringToDate","isRange","incomingStartDate","incomingEndDate","isDateEqual","document","dateInner","dateInnerDOM","datePickerDOM","wrapperRef","isStart","toggleDateInner","isOverHeight","bottom","outerHeight","setArrowUp","top","left","extraState","selectedCallback","newYear","newMonth","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","setNewState","endRef","storeString","dateString","currDay","getDate","toString","slice","currMonth","currYear","newSelectedStartDate","newSelectedEndDate","wrappedInstance","isTargetWithinDateRangePicker","contains","doNotBlur","charCode","selectedStart","start_date","selectedEnd","end_date","inputField","defaultValue","relatedTarget","isChildren","isClicked","_this$state7","isError","moment","isValid","selectedDate","parts","split","_this$state8","_this$props7","validateForm","mainStyle","dropDownOpenStyle","isErrorStyle","rangeIcon","DateIn","DateOut","rangIconStyle","refValue","react__WEBPACK_IMPORTED_MODULE_11___default","_FormInputWrapper_FormInputWrapper__WEBPACK_IMPORTED_MODULE_20__","onKeyUp","redux_form__WEBPACK_IMPORTED_MODULE_14__","placeholder","autoComplete","onMouseDown","e","Arrow","datepicker","datePickerInner","RestrictionsPopup","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__","clickCallback","doAcceptTag","modal","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","handleClick","clearRestrictionPopup","react__WEBPACK_IMPORTED_MODULE_7___default","react__WEBPACK_IMPORTED_MODULE_7__","reactstrap__WEBPACK_IMPORTED_MODULE_9__","xs","title","descIndex","backdropClassName","isOpen","toggle","renderData","components_FormsV3_Button_Button__WEBPACK_IMPORTED_MODULE_10__","variant","restrictions","SpeechScroll","isPopUpOpen","insurerArrowHorizontal","scrollPos","scrollheight","popUpHeight","exitCallback","handleInsurerHover","handleInsurerBlur","handleMouseMoveOnHoverButton","handleClickOnHoverButton","handleScroll","handlePopUpScroll","handlePopUpWheel","hide","body","scroll","initCallback","maxHeight","insurerPopUpScroll","child","rect","maxLeft","defaultLeft","Math","max","min","arrowDiff","insurerPopUp","show","clientY","leftBound","rightBound","clientX","onHoverButtonClick","percentage","scrollTop","offsetHeight","barheight","offsetY","scrollBottom","deltaY","openStyle","hoverButtonStyle","onMouseMove","onMouseLeave","paddingTop","marginRight","scrollBar","onScroll","onWheel","Enquiry","react__WEBPACK_IMPORTED_MODULE_5___default","reactstrap__WEBPACK_IMPORTED_MODULE_6__","Phone","href","Accordion","openCallback","handleExpand","setOpenCallback","callback","isWarning","openText","arrowOpenStyle","borderStyle","isFullBorder","reactstrap__WEBPACK_IMPORTED_MODULE_7__","minHeight","ArrowGradient","ChangeInitialFormData","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","toolTipData","renderHeader","renderDetailLabels","renderDetailValues","renderEditButton","renderSpeechScrollList","resetSubmit","closePopUp","speechScroll","isEditSubmitted","headerValue","storeForm","react__WEBPACK_IMPORTED_MODULE_8___default","conditonValue","valuesArrayToListen","reduce","isArray","displayValue","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","aggregateDesc","simplifyCost","jsx","onMouseEnter","popupRef","openPopup","EditButton","submitCallback","_SpeechScroll_SpeechScroll__WEBPACK_IMPORTED_MODULE_13__","_Popup_Popup__WEBPACK_IMPORTED_MODULE_14__","r","undoFormChange","resetSubmitStatus","SLIDERSTATE","ONIDLE","ONDOWN","ONUP","Slider","sliderWidth","sliderState","isUseDropDown","renderKnobs","renderSummary","handleSliderDown","handleSliderMove","handleSliderUp","inputList","formStateList","indexToChange","selectedTabString","selectedTabIndex","formStateIndex","listState","isProductSlider","isDrop","sliderStart","position","x","len","indexToUse","handleProductSlider","round","newWidth","IDLE","isValidSelection","displayList","inputLength","leftOffset","isProductPassedPage","sliderStyle","dataToUse","prefix","suffix","valueToUse","_this$props8","knobColor1","knobColor2","react__WEBPACK_IMPORTED_MODULE_8__","_DropDown_DropDownV2__WEBPACK_IMPORTED_MODULE_14__","slider","redux_form__WEBPACK_IMPORTED_MODULE_9__","CompareViewTableAccordion","classCallCheck","possibleConstructorReturn","recursiveUpdate","assertThisInitialized","accordion","level","bgStyle","firstStyle","lastStyle","rotateStyle","transform","reactstrap_es","CompareViewTable","productChangable","disclaimer","itemBorderStyle","infoContainerStyle","isValidDisclaimer","targets","arrayToMap","union","content","idx","CompareView_CompareViewTableAccordion","renderTable","subContent","subTitle","sub_title","startCase","paddingStyle","Tick","Cross","CompareView","currentTab","isFixed","categoryWidth","handleOnClick","renderLists","renderEditForm","renderEditableHeader","renderBottomHeader","renderNonProductChangable","renderProductChangable","scrollTo","$","catMarker","isNowFixed","bottomHeader","innerHeight","selectedInsurer","doTag","setRestrictionPopup","currPlanData","plans","policyTypes","premium","isPriceUsed","leftStyle","premiumData","isPrice","toFixed","buttonText","selectedInsurers","cashbackProduct","cashback","cashbackText","cashbackJSX","frequency","Button","setHoveredIndex","hoveredIndex","policyType","tripType","editableHeaders","insurer","matchedInsurer","find","validInsurers","insur","insurerSlug","discountData","discountRawData","amount","discountText","insurer_name","insurance_name","header","inurerLogoName","noDiscountPadding","Logos","isPriceExists","headerList","netPrice","discountPrice","life_frequency","isMultiple","coverageTypes","CompareView_CompareViewTable","coverages","notAccordion","coverageTypesDescs","marginBottom","autoHeight","scrollPopUpCallback","validForSelection","productSlug","insurance_slug","textAlign","flex","discount_data","fixedCatStyle","noGutters","resPopup","insurance","setHoveredInsurerIndex","resultToMatch","MultiCompareInner","handleTabClick","setPlanType","lowerCase","isEqual","selectedIndex","categoryTab","isCameFromBackButton","currIncomingIndex","tabIndexToUse","setSelectedIndex","isInitial","oldPolicyTypes","planImages","policyTypesToUse","theIndex","image","tabInfo","currentTabIndex","newTab","objectSpread","compare","loading","defaultInsurers","loadingEnd","currentInsurers","parsedData","parseData","trip_type","parsedParams","setSelectedInsurers","getNewData","onInsurerClick","newDefaultInsurers","plan","isLoading","incomingInsurers","MultiCompareView_MultiCompareInner","callBack","errorMsg","time","mainMsg","setLoading","clearLoading","array","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","errorStringData","isTermLife","coverage_type","birthDate","remapFormFields","form_fields","handleSubmit","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__","handleCloseEdit","handleRevert","birth_date","setCloseCallBack","originalValues","age","getAge","fieldsToCheck","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","errorResult","smoker","start","slashedStringDateToDate","min_date","end","max_date","sum_insured","coverage_amount_term","critical_illness","ci_coverage","premium_term","duration_term","sum_insured_selection","coverage_amount_whole","premium_whole","duration_whole","isFirstValidate","setSubmit","setInsurFormState","isEmptyResult","dateReValidate","Click_Text","gaEvent","event_category","event_label","critical","gender","insured","term","resetForm","ageStyle","reactstrap__WEBPACK_IMPORTED_MODULE_15__","_Forms_DatePicker_DatePickerV2__WEBPACK_IMPORTED_MODULE_21__","display_name","default_date","errorToUse","_Forms_DropDown_DropDownV2__WEBPACK_IMPORTED_MODULE_23__","Avatar","_Forms_Selection_Selection__WEBPACK_IMPORTED_MODULE_20__","renderBirthDate","Dollar","_Forms_Slider_Slider__WEBPACK_IMPORTED_MODULE_22__","simplifyCostArray","Umbrella","renderDuration","onSubmit","_Templates_TabView_TabView__WEBPACK_IMPORTED_MODULE_25__","renderFields","components_FormsV3_Button_Button__WEBPACK_IMPORTED_MODULE_19__","_Templates_RestrictionsPopup_RestrictionsPopup__WEBPACK_IMPORTED_MODULE_24__","reduxForm","destroyOnUnmount","isRevert","reset","invokeSubmit"],"mappings":"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","file":"static/js/LifeChoosePlanContainer.1554a789.chunk.js","sourcesContent":["/**\r\n * LifeChoosePlan.js\r\n * Choose Plan View for Life\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n// Import Insurer Logos\r\nimport MultiCompareView from '../Templates/MultiCompareView/MultiCompareView';\r\n\r\nimport LifeEditDetail from './LifeEditDetail';\r\n\r\nimport { ampTag } from '../../lib/tagFunctions';\r\n\r\nclass LifeChoosePlan extends Component {\r\n  getAmpTags(selectedPlanData, planType) {\r\n    try {\r\n      let discount = null;\r\n      _.map(selectedPlanData.info.discount, (data) => {\r\n        discount = data.display;\r\n      });\r\n      if (_.isEmpty(discount)) {\r\n        discount = '0%';\r\n      }\r\n\r\n      return ({\r\n        partner: selectedPlanData.info.insurer_slug,\r\n        price: selectedPlanData.policyInfo[planType].net_price,\r\n        discount,\r\n      });\r\n    } catch (error) {\r\n      console.log(`Life choose plan Buy now Amp tag failed: ${error.message}`);\r\n    }\r\n\r\n    return {};\r\n  }\r\n\r\n  render() {\r\n    const { lifeFields } = this.props;\r\n\r\n    return (\r\n      <MultiCompareView\r\n        {...this.props}\r\n        category=\"life\"\r\n        form=\"life\"\r\n        editForm={{\r\n          valuesToListen: [\r\n            { value: 'gender', desc: 'Gender' },\r\n            { value: 'smoker', desc: 'S.Status' },\r\n            { value: 'birth_date', desc: 'Age' },\r\n            { value: 'sum_insured', desc: 'Sum', extra: 'cost_simplify' },\r\n            { value: 'sum_insured_selection', desc: 'Sum', extra: 'cost_simplify' },\r\n            { value: 'premium_term', desc: 'Term' },\r\n            { value: 'premium_whole', desc: 'Term' },\r\n            { value: 'critical_illness', desc: 'CI Coverage' },\r\n          ],\r\n          conditions: {\r\n            key: 'coverage_type',\r\n            values: {\r\n              term_life: ['gender', 'smoker', 'birth_date', 'sum_insured', 'premium_term', 'critical_illness'],\r\n              whole_life: ['gender', 'smoker', 'birth_date', 'sum_insured_selection', 'premium_whole'],\r\n            },\r\n          },\r\n          editDetail: <LifeEditDetail lifeFields={lifeFields} isPopUp />,\r\n        }}\r\n        buttonDesc=\"Select\"\r\n        forceFixedOnDesktop\r\n        trackingTags={{\r\n          default: (selectedPlanData) => {\r\n            ampTag('LifeSelectA', this.getAmpTags(selectedPlanData, 'default'));\r\n          },\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nLifeChoosePlan.defaultProps = {\r\n};\r\n\r\nLifeChoosePlan.propTypes = {\r\n  lifeFields: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default LifeChoosePlan;\r\n","/**\r\n * LifeChoosePlanContainer.js\r\n * Choose plan container for life.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { getFormValues } from 'redux-form';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { setInsuranceFormState, FORMSTATES } from '../../actions/insuranceActions';\r\nimport { parseLifeForm, getLifePlans, getValidInsurersList, clearLifeData, setSelectedPlanData } from '../../actions/lifeActions';\r\n\r\nimport LifeChoosePlan from '../../components/Life/LifeChoosePlan';\r\nimport { fbTag, gaTag, ampTag } from '../../lib/tagFunctions';\r\n\r\nclass LifeChoosePlanContainer extends Component {\r\n  componentDidMount() {\r\n    const { setFormState } = this.props;\r\n    setFormState(FORMSTATES.CHOOSEPLAN.index);\r\n\r\n    fbTag('PPS2 - Pageview - Life - ChoosePlan', { Product: 'Life' });\r\n    gaTag({\r\n      page_title: 'Life - Choose Plan',\r\n      page_path: '/life/chooseplan',\r\n    });\r\n    ampTag('LifeResultsS');\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      lifeForm,\r\n      getPlans,\r\n      getInsurersList,\r\n      clearData,\r\n      setFormState,\r\n      plansData,\r\n      validInsurersList,\r\n      lifeFields,\r\n      history,\r\n    } = this.props;\r\n\r\n    return (\r\n      <LifeChoosePlan\r\n        mainForm={lifeForm}\r\n        parseForm={parseLifeForm}\r\n        getPlans={getPlans}\r\n        getInsurersList={getInsurersList}\r\n        clearData={clearData}\r\n        setSelectedPlanData={this.props.setSelectedPlanData}\r\n        setFormState={() => {\r\n          setFormState(FORMSTATES.DETAILFORM.index);\r\n          history.push(`/life${FORMSTATES.DETAILFORM.path}`);\r\n        }}\r\n        loadingFailBackState={() => {\r\n          history.goBack();\r\n        }}\r\n        plansData={plansData}\r\n        validInsurersList={validInsurersList}\r\n        lifeFields={lifeFields}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nLifeChoosePlanContainer.defaultProps = {\r\n  plansData: null,\r\n  validInsurersList: null,\r\n};\r\n\r\nLifeChoosePlanContainer.propTypes = {\r\n  lifeForm: PropTypes.object.isRequired,\r\n  getPlans: PropTypes.func.isRequired,\r\n  getInsurersList: PropTypes.func.isRequired,\r\n  clearData: PropTypes.func.isRequired,\r\n  setSelectedPlanData: PropTypes.func.isRequired,\r\n  setFormState: PropTypes.func.isRequired,\r\n  plansData: PropTypes.array,\r\n  validInsurersList: PropTypes.array,\r\n  lifeFields: PropTypes.object.isRequired,\r\n  history: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  lifeForm: getFormValues('life')(state),\r\n  plansData: state.life.plansData,\r\n  validInsurersList: state.life.validInsurersList,\r\n  lifeFields: state.life.lifeFields,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setFormState: (state) => {\r\n    dispatch(setInsuranceFormState(state));\r\n  },\r\n  getPlans: (parsedForm) => {\r\n    dispatch(getLifePlans(parsedForm));\r\n  },\r\n  getInsurersList: (parsedForm) => {\r\n    dispatch(getValidInsurersList(parsedForm));\r\n  },\r\n  clearData: () => {\r\n    dispatch(clearLifeData());\r\n  },\r\n  setSelectedPlanData: (data) => {\r\n    dispatch(setSelectedPlanData(data));\r\n  },\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(LifeChoosePlanContainer));\r\n","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nvar processProps = function processProps(type, props, _value, deepEqual) {\n  var value = props.value;\n\n  if (type === 'checkbox') {\n    return _extends({}, props, {\n      checked: !!value\n    });\n  }\n\n  if (type === 'radio') {\n    return _extends({}, props, {\n      checked: deepEqual(value, _value),\n      value: _value\n    });\n  }\n\n  if (type === 'select-multiple') {\n    return _extends({}, props, {\n      value: value || []\n    });\n  }\n\n  if (type === 'file') {\n    return _extends({}, props, {\n      value: value || undefined\n    });\n  }\n\n  return props;\n};\n\nvar createFieldProps = function createFieldProps(_ref2, name, _ref) {\n  var getIn = _ref2.getIn,\n      toJS = _ref2.toJS,\n      deepEqual = _ref2.deepEqual;\n\n  var asyncError = _ref.asyncError,\n      asyncValidating = _ref.asyncValidating,\n      onBlur = _ref.onBlur,\n      onChange = _ref.onChange,\n      onDrop = _ref.onDrop,\n      onDragStart = _ref.onDragStart,\n      dirty = _ref.dirty,\n      dispatch = _ref.dispatch,\n      onFocus = _ref.onFocus,\n      form = _ref.form,\n      format = _ref.format,\n      initial = _ref.initial,\n      parse = _ref.parse,\n      pristine = _ref.pristine,\n      props = _ref.props,\n      state = _ref.state,\n      submitError = _ref.submitError,\n      submitFailed = _ref.submitFailed,\n      submitting = _ref.submitting,\n      syncError = _ref.syncError,\n      syncWarning = _ref.syncWarning,\n      validate = _ref.validate,\n      value = _ref.value,\n      _value = _ref._value,\n      warn = _ref.warn,\n      custom = _objectWithoutProperties(_ref, ['asyncError', 'asyncValidating', 'onBlur', 'onChange', 'onDrop', 'onDragStart', 'dirty', 'dispatch', 'onFocus', 'form', 'format', 'initial', 'parse', 'pristine', 'props', 'state', 'submitError', 'submitFailed', 'submitting', 'syncError', 'syncWarning', 'validate', 'value', '_value', 'warn']);\n\n  var error = syncError || asyncError || submitError;\n  var warning = syncWarning;\n\n  var formatFieldValue = function formatFieldValue(value, format) {\n    if (format === null) {\n      return value;\n    }\n\n    var defaultFormattedValue = value == null ? '' : value;\n    return format ? format(value, name) : defaultFormattedValue;\n  };\n\n  var formattedFieldValue = formatFieldValue(value, format);\n  return {\n    input: processProps(custom.type, {\n      name: name,\n      onBlur: onBlur,\n      onChange: onChange,\n      onDragStart: onDragStart,\n      onDrop: onDrop,\n      onFocus: onFocus,\n      value: formattedFieldValue\n    }, _value, deepEqual),\n    meta: _extends({}, toJS(state), {\n      active: !!(state && getIn(state, 'active')),\n      asyncValidating: asyncValidating,\n      autofilled: !!(state && getIn(state, 'autofilled')),\n      dirty: dirty,\n      dispatch: dispatch,\n      error: error,\n      form: form,\n      initial: initial,\n      warning: warning,\n      invalid: !!error,\n      pristine: pristine,\n      submitting: !!submitting,\n      submitFailed: !!submitFailed,\n      touched: !!(state && getIn(state, 'touched')),\n      valid: !error,\n      visited: !!(state && getIn(state, 'visited'))\n    }),\n    custom: _extends({}, custom, props)\n  };\n};\n\nexport default createFieldProps;","import isEvent from './isEvent';\n\nvar getSelectedValues = function getSelectedValues(options) {\n  var result = [];\n\n  if (options) {\n    for (var index = 0; index < options.length; index++) {\n      var option = options[index];\n\n      if (option.selected) {\n        result.push(option.value);\n      }\n    }\n  }\n\n  return result;\n};\n\nvar getValue = function getValue(event, isReactNative) {\n  if (isEvent(event)) {\n    if (!isReactNative && event.nativeEvent && event.nativeEvent.text !== undefined) {\n      return event.nativeEvent.text;\n    }\n\n    if (isReactNative && event.nativeEvent !== undefined) {\n      return event.nativeEvent.text;\n    }\n\n    var detypedEvent = event;\n    var _detypedEvent$target = detypedEvent.target,\n        type = _detypedEvent$target.type,\n        value = _detypedEvent$target.value,\n        checked = _detypedEvent$target.checked,\n        files = _detypedEvent$target.files,\n        dataTransfer = detypedEvent.dataTransfer;\n\n    if (type === 'checkbox') {\n      return !!checked;\n    }\n\n    if (type === 'file') {\n      return files || dataTransfer && dataTransfer.files;\n    }\n\n    if (type === 'select-multiple') {\n      return getSelectedValues(event.target.options);\n    }\n\n    return value;\n  }\n\n  return event;\n};\n\nexport default getValue;","var isReactNative = typeof window !== 'undefined' && window.navigator && window.navigator.product && window.navigator.product === 'ReactNative';\nexport default isReactNative;","import getValue from './getValue';\nimport isReactNative from '../isReactNative';\n\nvar onChangeValue = function onChangeValue(event, _ref) {\n  var name = _ref.name,\n      parse = _ref.parse,\n      normalize = _ref.normalize; // read value from input\n\n  var value = getValue(event, isReactNative); // parse value if we have a parser\n\n  if (parse) {\n    value = parse(value, name);\n  } // normalize value\n\n\n  if (normalize) {\n    value = normalize(name, value);\n  }\n\n  return value;\n};\n\nexport default onChangeValue;","export var dataKey = 'text';","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component, createElement } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport createFieldProps from './createFieldProps';\nimport onChangeValue from './events/onChangeValue';\nimport { dataKey } from './util/eventConsts';\nimport plain from './structure/plain';\nimport isReactNative from './isReactNative';\nvar propsToNotUpdateFor = ['_reduxForm'];\n\nvar isObject = function isObject(entity) {\n  return entity && (typeof entity === 'undefined' ? 'undefined' : _typeof(entity)) === 'object';\n};\n\nvar isFunction = function isFunction(entity) {\n  return entity && typeof entity === 'function';\n};\n\nvar eventPreventDefault = function eventPreventDefault(event) {\n  if (isObject(event) && isFunction(event.preventDefault)) {\n    event.preventDefault();\n  }\n};\n\nvar eventDataTransferGetData = function eventDataTransferGetData(event, key) {\n  if (isObject(event) && isObject(event.dataTransfer) && isFunction(event.dataTransfer.getData)) {\n    return event.dataTransfer.getData(key);\n  }\n};\n\nvar eventDataTransferSetData = function eventDataTransferSetData(event, key, value) {\n  if (isObject(event) && isObject(event.dataTransfer) && isFunction(event.dataTransfer.setData)) {\n    event.dataTransfer.setData(key, value);\n  }\n};\n\nvar createConnectedField = function createConnectedField(structure) {\n  var deepEqual = structure.deepEqual,\n      getIn = structure.getIn;\n\n  var getSyncError = function getSyncError(syncErrors, name) {\n    var error = plain.getIn(syncErrors, name); // Because the error for this field might not be at a level in the error structure where\n    // it can be set directly, it might need to be unwrapped from the _error property\n\n    return error && error._error ? error._error : error;\n  };\n\n  var getSyncWarning = function getSyncWarning(syncWarnings, name) {\n    var warning = getIn(syncWarnings, name); // Because the warning for this field might not be at a level in the warning structure where\n    // it can be set directly, it might need to be unwrapped from the _warning property\n\n    return warning && warning._warning ? warning._warning : warning;\n  };\n\n  var ConnectedField = function (_Component) {\n    _inherits(ConnectedField, _Component);\n\n    function ConnectedField() {\n      var _ref;\n\n      var _temp, _this, _ret;\n\n      _classCallCheck(this, ConnectedField);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ConnectedField.__proto__ || Object.getPrototypeOf(ConnectedField)).call.apply(_ref, [this].concat(args))), _this), _this.saveRef = function (ref) {\n        return _this.ref = ref;\n      }, _this.isPristine = function () {\n        return _this.props.pristine;\n      }, _this.getValue = function () {\n        return _this.props.value;\n      }, _this.handleChange = function (event) {\n        var _this$props = _this.props,\n            name = _this$props.name,\n            dispatch = _this$props.dispatch,\n            parse = _this$props.parse,\n            normalize = _this$props.normalize,\n            onChange = _this$props.onChange,\n            _reduxForm = _this$props._reduxForm,\n            previousValue = _this$props.value;\n        var newValue = onChangeValue(event, {\n          name: name,\n          parse: parse,\n          normalize: normalize\n        });\n        var defaultPrevented = false;\n\n        if (onChange) {\n          // Can't seem to find a way to extend Event in React Native,\n          // thus I simply avoid adding preventDefault() in a RN environment\n          // to prevent the following error:\n          // `One of the sources for assign has an enumerable key on the prototype chain`\n          // Reference: https://github.com/facebook/react-native/issues/5507\n          if (!isReactNative) {\n            onChange(_extends({}, event, {\n              preventDefault: function preventDefault() {\n                defaultPrevented = true;\n                return eventPreventDefault(event);\n              }\n            }), newValue, previousValue, name);\n          } else {\n            onChange(event, newValue, previousValue, name);\n          }\n        }\n\n        if (!defaultPrevented) {\n          // dispatch change action\n          dispatch(_reduxForm.change(name, newValue)); // call post-change callback\n\n          if (_reduxForm.asyncValidate) {\n            _reduxForm.asyncValidate(name, newValue, 'change');\n          }\n        }\n      }, _this.handleFocus = function (event) {\n        var _this$props2 = _this.props,\n            name = _this$props2.name,\n            dispatch = _this$props2.dispatch,\n            onFocus = _this$props2.onFocus,\n            _reduxForm = _this$props2._reduxForm;\n        var defaultPrevented = false;\n\n        if (onFocus) {\n          if (!isReactNative) {\n            onFocus(_extends({}, event, {\n              preventDefault: function preventDefault() {\n                defaultPrevented = true;\n                return eventPreventDefault(event);\n              }\n            }), name);\n          } else {\n            onFocus(event, name);\n          }\n        }\n\n        if (!defaultPrevented) {\n          dispatch(_reduxForm.focus(name));\n        }\n      }, _this.handleBlur = function (event) {\n        var _this$props3 = _this.props,\n            name = _this$props3.name,\n            dispatch = _this$props3.dispatch,\n            parse = _this$props3.parse,\n            normalize = _this$props3.normalize,\n            onBlur = _this$props3.onBlur,\n            _reduxForm = _this$props3._reduxForm,\n            _value = _this$props3._value,\n            previousValue = _this$props3.value;\n        var newValue = onChangeValue(event, {\n          name: name,\n          parse: parse,\n          normalize: normalize\n        }); // for checkbox and radio, if the value property of checkbox or radio equals\n        // the value passed by blur event, then fire blur action with previousValue.\n\n        if (newValue === _value && _value !== undefined) {\n          newValue = previousValue;\n        }\n\n        var defaultPrevented = false;\n\n        if (onBlur) {\n          if (!isReactNative) {\n            onBlur(_extends({}, event, {\n              preventDefault: function preventDefault() {\n                defaultPrevented = true;\n                return eventPreventDefault(event);\n              }\n            }), newValue, previousValue, name);\n          } else {\n            onBlur(event, newValue, previousValue, name);\n          }\n        }\n\n        if (!defaultPrevented) {\n          // dispatch blur action\n          dispatch(_reduxForm.blur(name, newValue)); // call post-blur callback\n\n          if (_reduxForm.asyncValidate) {\n            _reduxForm.asyncValidate(name, newValue, 'blur');\n          }\n        }\n      }, _this.handleDragStart = function (event) {\n        var _this$props4 = _this.props,\n            name = _this$props4.name,\n            onDragStart = _this$props4.onDragStart,\n            value = _this$props4.value;\n        eventDataTransferSetData(event, dataKey, value == null ? '' : value);\n\n        if (onDragStart) {\n          onDragStart(event, name);\n        }\n      }, _this.handleDrop = function (event) {\n        var _this$props5 = _this.props,\n            name = _this$props5.name,\n            dispatch = _this$props5.dispatch,\n            onDrop = _this$props5.onDrop,\n            _reduxForm = _this$props5._reduxForm,\n            previousValue = _this$props5.value;\n        var newValue = eventDataTransferGetData(event, dataKey);\n        var defaultPrevented = false;\n\n        if (onDrop) {\n          onDrop(_extends({}, event, {\n            preventDefault: function preventDefault() {\n              defaultPrevented = true;\n              return eventPreventDefault(event);\n            }\n          }), newValue, previousValue, name);\n        }\n\n        if (!defaultPrevented) {\n          // dispatch change action\n          dispatch(_reduxForm.change(name, newValue));\n          eventPreventDefault(event);\n        }\n      }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    _createClass(ConnectedField, [{\n      key: 'shouldComponentUpdate',\n      value: function shouldComponentUpdate(nextProps) {\n        var _this2 = this;\n\n        var nextPropsKeys = Object.keys(nextProps);\n        var thisPropsKeys = Object.keys(this.props); // if we have children, we MUST update in React 16\n        // https://twitter.com/erikras/status/915866544558788608\n\n        return !!(this.props.children || nextProps.children || nextPropsKeys.length !== thisPropsKeys.length || nextPropsKeys.some(function (prop) {\n          if (~(nextProps.immutableProps || []).indexOf(prop)) {\n            return _this2.props[prop] !== nextProps[prop];\n          }\n\n          return !~propsToNotUpdateFor.indexOf(prop) && !deepEqual(_this2.props[prop], nextProps[prop]);\n        }));\n      }\n    }, {\n      key: 'getRenderedComponent',\n      value: function getRenderedComponent() {\n        return this.ref;\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var _props = this.props,\n            component = _props.component,\n            withRef = _props.withRef,\n            name = _props.name,\n            _reduxForm = _props._reduxForm,\n            normalize = _props.normalize,\n            onBlur = _props.onBlur,\n            onChange = _props.onChange,\n            onFocus = _props.onFocus,\n            onDragStart = _props.onDragStart,\n            onDrop = _props.onDrop,\n            immutableProps = _props.immutableProps,\n            rest = _objectWithoutProperties(_props, ['component', 'withRef', 'name', '_reduxForm', 'normalize', 'onBlur', 'onChange', 'onFocus', 'onDragStart', 'onDrop', 'immutableProps']);\n\n        var _createFieldProps = createFieldProps(structure, name, _extends({}, rest, {\n          form: _reduxForm.form,\n          onBlur: this.handleBlur,\n          onChange: this.handleChange,\n          onDrop: this.handleDrop,\n          onDragStart: this.handleDragStart,\n          onFocus: this.handleFocus\n        })),\n            custom = _createFieldProps.custom,\n            props = _objectWithoutProperties(_createFieldProps, ['custom']);\n\n        if (withRef) {\n          custom.ref = this.saveRef;\n        }\n\n        if (typeof component === 'string') {\n          var input = props.input,\n              meta = props.meta; // eslint-disable-line no-unused-vars\n          // flatten input into other props\n\n          return createElement(component, _extends({}, input, custom));\n        } else {\n          return createElement(component, _extends({}, props, custom));\n        }\n      }\n    }]);\n\n    return ConnectedField;\n  }(Component);\n\n  ConnectedField.propTypes = {\n    component: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.node]).isRequired,\n    props: PropTypes.object\n  };\n  var connector = connect(function (state, ownProps) {\n    var name = ownProps.name,\n        _ownProps$_reduxForm = ownProps._reduxForm,\n        initialValues = _ownProps$_reduxForm.initialValues,\n        getFormState = _ownProps$_reduxForm.getFormState;\n    var formState = getFormState(state);\n    var initialState = getIn(formState, 'initial.' + name);\n    var initial = initialState !== undefined ? initialState : initialValues && getIn(initialValues, name);\n    var value = getIn(formState, 'values.' + name);\n    var submitting = getIn(formState, 'submitting');\n    var syncError = getSyncError(getIn(formState, 'syncErrors'), name);\n    var syncWarning = getSyncWarning(getIn(formState, 'syncWarnings'), name);\n    var pristine = deepEqual(value, initial);\n    return {\n      asyncError: getIn(formState, 'asyncErrors.' + name),\n      asyncValidating: getIn(formState, 'asyncValidating') === name,\n      dirty: !pristine,\n      pristine: pristine,\n      state: getIn(formState, 'fields.' + name),\n      submitError: getIn(formState, 'submitErrors.' + name),\n      submitFailed: getIn(formState, 'submitFailed'),\n      submitting: submitting,\n      syncError: syncError,\n      syncWarning: syncWarning,\n      initial: initial,\n      value: value,\n      _value: ownProps.value // save value passed in (for checkboxes)\n\n    };\n  }, undefined, undefined, {\n    withRef: true\n  });\n  return connector(ConnectedField);\n};\n\nexport default createConnectedField;","import _isEqualWith from 'lodash-es/isEqualWith';\n\nvar customizer = function customizer(objectValue, otherValue, indexOrkey, object, other, stack) {\n  // https://lodash.com/docs/4.17.4#isEqualWith\n  if (stack) {\n    // Shallow compares\n    // For 1st level, stack === undefined.\n    //   -> Do nothing (and implicitly return undefined so that it goes to compare 2nd level)\n    // For 2nd level and up, stack !== undefined.\n    //   -> Compare by === operator\n    return objectValue === otherValue;\n  }\n};\n\nvar shallowCompare = function shallowCompare(instance, nextProps, nextState) {\n  var propsEqual = _isEqualWith(instance.props, nextProps, customizer);\n\n  var stateEqual = _isEqualWith(instance.state, nextState, customizer);\n\n  return !propsEqual || !stateEqual;\n};\n\nexport default shallowCompare;","var formatName = function formatName(_ref, name) {\n  var sectionPrefix = _ref._reduxForm.sectionPrefix;\n  return sectionPrefix ? sectionPrefix + '.' + name : name;\n};\n\nexport default formatName;","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component, createElement } from 'react';\nimport { polyfill } from 'react-lifecycles-compat';\nimport PropTypes from 'prop-types';\nimport invariant from 'invariant';\nimport createConnectedField from './ConnectedField';\nimport shallowCompare from './util/shallowCompare';\nimport prefixName from './util/prefixName';\nimport plain from './structure/plain';\n\nvar createField = function createField(structure) {\n  var ConnectedField = createConnectedField(structure);\n  var setIn = structure.setIn;\n\n  var Field = function (_Component) {\n    _inherits(Field, _Component);\n\n    function Field(props, context) {\n      _classCallCheck(this, Field);\n\n      var _this = _possibleConstructorReturn(this, (Field.__proto__ || Object.getPrototypeOf(Field)).call(this, props, context));\n\n      _this.saveRef = function (ref) {\n        return _this.ref = ref;\n      };\n\n      _this.normalize = function (name, value) {\n        var normalize = _this.props.normalize;\n\n        if (!normalize) {\n          return value;\n        }\n\n        var previousValues = _this.context._reduxForm.getValues();\n\n        var previousValue = _this.value;\n        var nextValues = setIn(previousValues, name, value);\n        return normalize(value, previousValue, nextValues, previousValues);\n      };\n\n      if (!context._reduxForm) {\n        throw new Error('Field must be inside a component decorated with reduxForm()');\n      }\n\n      return _this;\n    }\n\n    _createClass(Field, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        this.context._reduxForm.register(this.name, 'Field', function () {\n          return _this2.props.validate;\n        }, function () {\n          return _this2.props.warn;\n        });\n      }\n    }, {\n      key: 'shouldComponentUpdate',\n      value: function shouldComponentUpdate(nextProps, nextState) {\n        return shallowCompare(this, nextProps, nextState);\n      }\n    }, {\n      key: 'componentWillReceiveProps',\n      value: function componentWillReceiveProps(nextProps, nextContext) {\n        var oldName = prefixName(this.context, this.props.name);\n        var newName = prefixName(nextContext, nextProps.name);\n\n        if (oldName !== newName || // use deepEqual here because they could be a function or an array of functions\n        !plain.deepEqual(this.props.validate, nextProps.validate) || !plain.deepEqual(this.props.warn, nextProps.warn)) {\n          // unregister old name\n          this.context._reduxForm.unregister(oldName); // register new name\n\n\n          this.context._reduxForm.register(newName, 'Field', function () {\n            return nextProps.validate;\n          }, function () {\n            return nextProps.warn;\n          });\n        }\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        this.context._reduxForm.unregister(this.name);\n      }\n    }, {\n      key: 'getRenderedComponent',\n      value: function getRenderedComponent() {\n        invariant(this.props.withRef, 'If you want to access getRenderedComponent(), ' + 'you must specify a withRef prop to Field');\n        return this.ref ? this.ref.getWrappedInstance().getRenderedComponent() : undefined;\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        return createElement(ConnectedField, _extends({}, this.props, {\n          name: this.name,\n          normalize: this.normalize,\n          _reduxForm: this.context._reduxForm,\n          ref: this.saveRef\n        }));\n      }\n    }, {\n      key: 'name',\n      get: function get() {\n        return prefixName(this.context, this.props.name);\n      }\n    }, {\n      key: 'dirty',\n      get: function get() {\n        return !this.pristine;\n      }\n    }, {\n      key: 'pristine',\n      get: function get() {\n        return !!(this.ref && this.ref.getWrappedInstance().isPristine());\n      }\n    }, {\n      key: 'value',\n      get: function get() {\n        return this.ref && this.ref.getWrappedInstance().getValue();\n      }\n    }]);\n\n    return Field;\n  }(Component);\n\n  Field.propTypes = {\n    name: PropTypes.string.isRequired,\n    component: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.node]).isRequired,\n    format: PropTypes.func,\n    normalize: PropTypes.func,\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func,\n    onFocus: PropTypes.func,\n    onDragStart: PropTypes.func,\n    onDrop: PropTypes.func,\n    parse: PropTypes.func,\n    props: PropTypes.object,\n    validate: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]),\n    warn: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]),\n    withRef: PropTypes.bool,\n    immutableProps: PropTypes.arrayOf(PropTypes.string)\n  };\n  Field.contextTypes = {\n    _reduxForm: PropTypes.object\n  };\n  polyfill(Field);\n  return Field;\n};\n\nexport default createField;","import createField from './createField';\nimport plain from './structure/plain';\nexport default createField(plain);","var createGetFormValues = function createGetFormValues(_ref) {\n  var getIn = _ref.getIn;\n  return function (form, getFormState) {\n    return function (state) {\n      var nonNullGetFormState = getFormState || function (state) {\n        return getIn(state, 'form');\n      };\n\n      return getIn(nonNullGetFormState(state), form + '.values');\n    };\n  };\n};\n\nexport default createGetFormValues;","import createGetFormValues from './selectors/getFormValues';\nimport plain from './structure/plain';\nexport default createGetFormValues(plain);","/**\r\n * TabView.js\r\n * TabView that uses a carousel or fading.\r\n *\r\n * For carousel, it will take in multiple elements in\r\n * an array to swap when changed tabs.\r\n *\r\n * For fading view, it will only take the 1st element in the array,\r\n * but it does a fading to simulate and give time for the change of state\r\n * to happen in that element.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport window from 'global/window';\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { connect } from 'react-redux';\r\nimport { Carousel } from 'react-responsive-carousel';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport DropDownV2 from '../../Forms/DropDown/DropDownV2';\r\n\r\nimport { setTabSelection } from '../../../actions/tabActions';\r\n\r\nimport './TabView.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass TabView extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const {\r\n      currentTabSelection,\r\n      tabs,\r\n      maxTabWidthPx,\r\n      isDataFadeOnly,\r\n      padding,\r\n      children,\r\n    } = nextProps;\r\n\r\n    const { activeIndex } = prevState;\r\n\r\n    let result = null;\r\n\r\n    if (tabs && currentTabSelection) {\r\n      const newIndex = _.findIndex(tabs, tab => tab.desc === currentTabSelection);\r\n      if (newIndex >= 0 && newIndex !== activeIndex) {\r\n        result = {\r\n          activeIndex: newIndex,\r\n        };\r\n      }\r\n    }\r\n\r\n    if (tabs !== prevState.tabs && children) {\r\n      const isUsingMaxWidth = maxTabWidthPx > 0;\r\n      const maxWidth = (100 - padding) / (isDataFadeOnly ? tabs.length : children.length);\r\n      const tabWidth = isUsingMaxWidth ? maxTabWidthPx : maxWidth;\r\n\r\n      result = {\r\n        ...result,\r\n        tabs,\r\n        width: tabWidth,\r\n        widthPercentage: isUsingMaxWidth ? `${maxTabWidthPx}px` : `${tabWidth}%`,\r\n        maxWidth: `${maxWidth}%`,\r\n      };\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {object} props Component props\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const {\r\n      padding,\r\n      children,\r\n      maxTabWidthPx,\r\n      isDataFadeOnly,\r\n      tabs,\r\n      initialIndex,\r\n    } = this.props;\r\n\r\n    const isUsingMaxWidth = maxTabWidthPx > 0;\r\n    const maxWidth = (100 - padding) / (isDataFadeOnly ? tabs.length : children.length);\r\n    const tabWidth = isUsingMaxWidth ? maxTabWidthPx : maxWidth;\r\n\r\n    this.state = {\r\n      activeIndex: initialIndex,\r\n      containerWidth: 0,\r\n      width: tabWidth,\r\n      widthPercentage: isUsingMaxWidth ? `${maxTabWidthPx}px` : `${tabWidth}%`,\r\n      maxWidth: `${maxWidth}%`,\r\n      paddingWidth: maxTabWidthPx ? '100%' : `${padding}%`,\r\n      isControlVisible: true,\r\n      isUsingMaxWidth,\r\n      isDropDownControl: tabs && tabs.length > 10,\r\n      fadeStyle: '',\r\n      tabs,\r\n    };\r\n\r\n    this.goToIndex = this.goToIndex.bind(this);\r\n\r\n    this.handleResize = this.handleResize.bind(this);\r\n    this.resizeTabHeight = this.resizeTabHeight.bind(this);\r\n    this.renderTabs = this.renderTabs.bind(this);\r\n    this.renderTabContent = this.renderTabContent.bind(this);\r\n    this.renderControls = this.renderControls.bind(this);\r\n    this.renderSlides = this.renderSlides.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { tabs } = this.state;\r\n    const {\r\n      initialIndex,\r\n      name,\r\n      changeTab,\r\n    } = this.props;\r\n\r\n    changeTab(name, tabs[0].desc);\r\n\r\n    window.addEventListener('resize', this.handleResize);\r\n\r\n    this.handleResize();\r\n\r\n    this.resizeTabHeight(initialIndex, ReactDOM.findDOMNode(this.carousel));\r\n\r\n    this.setState({\r\n      activeIndex: initialIndex,\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { tabs, activeIndex, containerWidth } = this.state;\r\n    const { setTriggerHeightUpdate } = this.props;\r\n    if (!prevProps.setTriggerHeightUpdate && setTriggerHeightUpdate) {\r\n      const { resizeTabHeight } = this;\r\n\r\n      setTriggerHeightUpdate(() => {\r\n        resizeTabHeight(activeIndex);\r\n      });\r\n    }\r\n\r\n    if (tabs !== prevState.tabs) {\r\n      this.resizeTabHeight(activeIndex);\r\n    }\r\n\r\n    if (this.tabContainer) {\r\n      const tabWidth = this.tabContainer.getBoundingClientRect().width;\r\n      if (tabWidth !== containerWidth) {\r\n        setTimeout(() => this.setState({ containerWidth: tabWidth }), 100);\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.handleResize);\r\n  }\r\n\r\n  handleResize() {\r\n    const { isControlVisible, activeIndex, tabs } = this.state;\r\n    const { hideWidth } = this.props;\r\n\r\n    this.setState({\r\n      isDropDownControl: window.innerWidth < 560 || (tabs && tabs.length > 10),\r\n    });\r\n\r\n\r\n    this.resizeTabHeight(activeIndex);\r\n\r\n    if (hideWidth) {\r\n      const isVisibleNow = window.innerWidth > hideWidth;\r\n\r\n      this.setState({\r\n        isControlVisible: isVisibleNow,\r\n      });\r\n\r\n      if (isControlVisible && !isVisibleNow) {\r\n        this.goToIndex(0);\r\n      }\r\n    }\r\n  }\r\n\r\n  goToIndex(newIndex, isForced = false) {\r\n    const { tabs, activeIndex } = this.state;\r\n    if (!isForced && newIndex === activeIndex) {\r\n      return;\r\n    }\r\n    const {\r\n      name,\r\n      isDataFadeOnly,\r\n      changeTab,\r\n    } = this.props;\r\n\r\n\r\n    if (isDataFadeOnly) {\r\n      this.setState({\r\n        fadeStyle: 'animated fadeOut',\r\n      });\r\n\r\n      this.setState({ activeIndex: newIndex });\r\n      changeTab(name, tabs[newIndex].desc);\r\n\r\n      setTimeout(() => {\r\n        if (tabs[newIndex].onClick) {\r\n          tabs[newIndex].onClick();\r\n        }\r\n        this.setState({\r\n          fadeStyle: 'animated fadeIn',\r\n        });\r\n\r\n        setTimeout(() => {\r\n          this.setState({\r\n            fadeStyle: '',\r\n          });\r\n        }, 300);\r\n      }, 300);\r\n    } else {\r\n      this.setState({ activeIndex: newIndex });\r\n      changeTab(name, tabs[newIndex].desc);\r\n      if (tabs[newIndex].onClick) {\r\n        tabs[newIndex].onClick();\r\n      }\r\n    }\r\n\r\n    this.resizeTabHeight(newIndex);\r\n  }\r\n\r\n  resizeTabHeight(index, carouselIncoming = null, overrideNegation = null) {\r\n    const { isConstantHeight } = this.props;\r\n\r\n    const carouselToUse = carouselIncoming !== null ? carouselIncoming : ReactDOM.findDOMNode(this.carousel);\r\n    // No other way for now >_<\r\n    if (!isConstantHeight && carouselToUse) {\r\n      const list = carouselToUse.getElementsByTagName('UL')[0];\r\n      const children = list.children[index];\r\n\r\n      if (children) {\r\n        const sliderWrapper = list.parentNode;\r\n        const itemHeight = overrideNegation ? children.children[0].scrollHeight + overrideNegation : children.children[0].scrollHeight;\r\n        sliderWrapper.style.height = itemHeight === 0 ? 1000 : `${itemHeight}px`;\r\n      }\r\n    }\r\n  }\r\n\r\n  renderTabContent(tab, activeStyle) {\r\n    const {\r\n      big,\r\n    } = this.props;\r\n\r\n    const bigTextStyle = big ? 'tab-text-big' : '';\r\n\r\n    const isWithImg = !_.isString(tab);\r\n    const desc = isWithImg ? tab.desc : tab;\r\n    const img = isWithImg ? tab.img : null;\r\n\r\n    return (\r\n      <Fragment>\r\n        {\r\n          img ?\r\n            <div className=\"img-container\">\r\n              <img className={activeStyle} src={img} alt={`${desc}.svg`} />\r\n            </div>\r\n          :\r\n            null\r\n        }\r\n        <p className={`${activeStyle} ${bigTextStyle}`}>{desc}</p>\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderTabs(width) {\r\n    const { activeIndex, tabs } = this.state;\r\n    const {\r\n      big,\r\n      maxTabWidthPx,\r\n    } = this.props;\r\n\r\n    const bigTabStyle = big ? 'tab-big' : '';\r\n\r\n    return _.map(tabs, (tab, index) => {\r\n      const tabStyle = index === activeIndex ? 'active' : 'inactive';\r\n      const maxWidth = maxTabWidthPx > 0 ? maxTabWidthPx : null;\r\n\r\n      return (\r\n        <div\r\n          className={`tab ${bigTabStyle}`}\r\n          style={{ width, maxWidth }}\r\n          key={`tab${index}`}\r\n        >\r\n          <div\r\n            className=\"tab-inner\"\r\n            onClick={() => { this.goToIndex(index); }}\r\n            role=\"button\"\r\n            tabIndex={-1}\r\n            onKeyDown={() => {}}\r\n          >\r\n            {this.renderTabContent(tab, tabStyle)}\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  renderSlides() {\r\n    const { children } = this.props;\r\n    const { goToIndex } = this;\r\n\r\n    return _.map(children, (item, index) => (\r\n      <div key={`tab-item${index}`}>\r\n        {React.cloneElement(item, {\r\n          updateTabHeight: (overrideNegation = null) => this.resizeTabHeight(index, null, overrideNegation),\r\n          goToIndex,\r\n        })}\r\n      </div>\r\n    ));\r\n  }\r\n\r\n  renderControls() {\r\n    const {\r\n      activeIndex,\r\n      width,\r\n      widthPercentage,\r\n      maxWidth,\r\n      containerWidth,\r\n      paddingWidth,\r\n      isUsingMaxWidth,\r\n      isDropDownControl,\r\n      tabs,\r\n    } = this.state;\r\n\r\n    const {\r\n      style,\r\n      isDisableDropdown,\r\n      big,\r\n      charged,\r\n    } = this.props;\r\n\r\n    if (isDisableDropdown || !isDropDownControl) {\r\n      const isOverContainer = tabs && tabs.length * width > containerWidth;\r\n      const selectedMargin = isUsingMaxWidth && !isOverContainer ? activeIndex * width : `${activeIndex / tabs.length * 100}%`;\r\n      const bigStyle = big ? 'tab-big' : '';\r\n      const tabStyle = charged ? 'tab-container-charged' : '';\r\n\r\n      return (\r\n        <div\r\n          style={style}\r\n          className={`tab-container ${tabStyle} tab-container-padding`}\r\n          ref={node => this.tabContainer = node}\r\n        >\r\n          {this.renderTabs(isOverContainer ? maxWidth : widthPercentage)}\r\n          <div className=\"tab tab-padding\" style={{ width: paddingWidth }} />\r\n          <div\r\n            className={`selected-tab ${bigStyle}`}\r\n            style={{\r\n              width: widthPercentage,\r\n              maxWidth,\r\n              marginLeft: selectedMargin,\r\n            }}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const droplist = _.map(tabs, tab => tab.desc);\r\n\r\n    if (!isDisableDropdown && isDropDownControl) {\r\n      return (\r\n        <div className=\"tab-container\">\r\n          <DropDownV2\r\n            ref={node => this.dropdown = node}\r\n            placeholderString=\"Enter or select your destinations\"\r\n            dropList={droplist}\r\n            size=\"medium\"\r\n            zIndex={100}\r\n            isDisableTyping\r\n            notForm\r\n            valueChangeCallback={value => this.goToIndex(_.findIndex(tabs, tab => tab.desc === value))}\r\n            overrideValue={tabs[activeIndex].desc}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      activeIndex,\r\n      isControlVisible,\r\n      fadeStyle,\r\n    } = this.state;\r\n\r\n    const { isDataFadeOnly, className, charged } = this.props;\r\n    const containerStyle = charged ? 'tabview-container-charged' : '';\r\n\r\n    return (\r\n      <div className={`tabview-container ${containerStyle} ${className}`}>\r\n        {\r\n          isControlVisible ?\r\n            this.renderControls()\r\n          :\r\n            null\r\n        }\r\n        <div className={`tab-items-container ${fadeStyle}`}>\r\n          {\r\n            isDataFadeOnly ?\r\n              this.props.children\r\n            :\r\n              <Carousel\r\n                showThumbs={false}\r\n                showIndicators={false}\r\n                showArrows={false}\r\n                showStatus={false}\r\n                selectedItem={activeIndex}\r\n                swipeable={false}\r\n                onChange={index => this.goToIndex(index)}\r\n                ref={node => (this.carousel = node)}\r\n              >\r\n                {this.renderSlides()}\r\n              </Carousel>\r\n          }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTabView.defaultProps = {\r\n  padding: 0,\r\n  hideWidth: 0,\r\n  maxTabWidthPx: 0,\r\n  style: null,\r\n  isDisableDropdown: false,\r\n  isConstantHeight: false,\r\n  initialIndex: 0,\r\n  setTriggerHeightUpdate: null,\r\n  isDataFadeOnly: false,\r\n  big: false,\r\n  className: null,\r\n  charged: null,\r\n};\r\n\r\nTabView.propTypes = {\r\n  padding: PropTypes.number,\r\n  tabs: PropTypes.array.isRequired,\r\n  hideWidth: PropTypes.number,\r\n  maxTabWidthPx: PropTypes.number,\r\n  style: PropTypes.object,\r\n  isDisableDropdown: PropTypes.bool,\r\n  isConstantHeight: PropTypes.bool,\r\n  initialIndex: PropTypes.number,\r\n  setTriggerHeightUpdate: PropTypes.func,\r\n  isDataFadeOnly: PropTypes.bool,\r\n  big: PropTypes.bool,\r\n  name: PropTypes.string.isRequired,\r\n  className: PropTypes.string,\r\n  charged: PropTypes.bool,\r\n  changeTab: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state, props) => ({\r\n  currentTabSelection: state.tab[props.name],\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  changeTab: (tabName, value) => {\r\n    dispatch(setTabSelection(tabName, value));\r\n  },\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps, null, { withRef: true })(TabView);\r\n","module.exports = __webpack_public_path__ + \"static/media/dateIn.1b60a0c4.svg\";","module.exports = __webpack_public_path__ + \"static/media/dateOut.98be354a.svg\";","/**\r\n * Selection.js\r\n * Selection with dynamic content\r\n *\r\n * @version 0.0.1\r\n * @author [Jia Hao](jiahao@policypal.com)\r\n */\r\nimport React, { PureComponent } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { Field, getFormValues } from 'redux-form';\r\nimport { Row, Col } from 'reactstrap';\r\nimport _ from 'lodash';\r\n\r\nimport CheckIcon from 'assets/images/common/CheckIcon.svg';\r\n\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport './Selection.scss';\r\n\r\nconst marginTopOffset = 10;\r\n\r\n/**\r\n * Custom Selection Class\r\n */\r\nclass Selection extends PureComponent {\r\n  static getStoreSelection(formStore, name) {\r\n    const storeValues = formStore[name];\r\n    if (!storeValues) {\r\n      return null;\r\n    }\r\n\r\n    const storeValuesArray = storeValues.constructor === Array ? storeValues : [storeValues];\r\n    const resultState = {};\r\n    _.forEach(storeValuesArray, (v) => {\r\n      if (v) { resultState[v] = true; }\r\n    });\r\n    return resultState;\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const { resultState, selections } = prevState;\r\n    const { formStore, name } = nextProps;\r\n    if (formStore && formStore[name] !== resultState) {\r\n      return {\r\n        resultState: formStore[name],\r\n        selections: Selection.getStoreSelection(formStore, name) || selections,\r\n      };\r\n    }\r\n\r\n    return null;\r\n  }\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selections: {},\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const {\r\n      name,\r\n      formStore,\r\n      noEmptyTextSelection,\r\n    } = this.props;\r\n\r\n    if (formStore && formStore[name]) {\r\n      this.setState({\r\n        selections: Selection.getStoreSelection(formStore, name),\r\n      });\r\n\r\n      return;\r\n    }\r\n\r\n    if (noEmptyTextSelection) {\r\n      this.setInitialValue();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { name, formStore } = this.props;\r\n    if (name !== prevProps.name) {\r\n      const value = formStore[name];\r\n      if (!value) {\r\n        this.setInitialValue();\r\n      }\r\n    }\r\n  }\r\n\r\n  onToggleSelection(option) {\r\n    const { selections } = this.state;\r\n    const {\r\n      name,\r\n      type,\r\n      change,\r\n      noEmptyTextSelection,\r\n    } = this.props;\r\n\r\n    const { key } = option;\r\n\r\n    const toggleResult = !this.state.selections[key];\r\n\r\n    let newSelections = {};\r\n    let resultState = null;\r\n    let noUpdate = false;\r\n    switch (type) {\r\n      case 'text-selection':\r\n      case 'radio':\r\n        if (!noEmptyTextSelection || (noEmptyTextSelection && !selections[key])) {\r\n          newSelections = _.mapValues(selections, () => false);\r\n          newSelections[key] = toggleResult;\r\n          resultState = _.findKey(newSelections, v => v);\r\n        } else {\r\n          noUpdate = true;\r\n        }\r\n        break;\r\n      case 'checkbox':\r\n        newSelections = Object.assign({}, selections, { [key]: toggleResult });\r\n        resultState = [];\r\n        _.each(newSelections, (v, k) => {\r\n          if (v) { resultState.push(k); }\r\n        });\r\n        break;\r\n      default: break;\r\n    }\r\n\r\n    if (!noUpdate) {\r\n      this.setState({ selections: newSelections });\r\n      change(name, resultState);\r\n    }\r\n  }\r\n\r\n  setInitialValue() {\r\n    const {\r\n      options,\r\n      change,\r\n      name,\r\n    } = this.props;\r\n\r\n    const newSelections = { [options[0].key]: true };\r\n    this.setState({\r\n      selections: newSelections,\r\n    });\r\n    change(name, _.findKey(newSelections, v => v));\r\n  }\r\n\r\n  renderSelectionInsides(option, selectionState) {\r\n    const { type } = this.props;\r\n\r\n    switch (type) {\r\n      case 'radio':\r\n        return <div className={`${type}-inner-${selectionState}`} />;\r\n      case 'checkbox':\r\n        return <img src={CheckIcon} className={`checkbox-inner-${selectionState}`} alt=\"check\" />;\r\n      case 'text-selection':\r\n        return <div className=\"description py-3\">{option.description}</div>;\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  renderSelectionIcon(option) {\r\n    const { selections } = this.state;\r\n    const { type, sizeInSM } = this.props;\r\n    const { key, description } = option;\r\n    const isSelected = (selections[key] || false);\r\n    const selectionState = (isSelected) ? 'highlighted' : 'default';\r\n\r\n    const children = (\r\n      <div\r\n        role=\"button\"\r\n        onKeyPress={() => {}}\r\n        onClick={() => this.onToggleSelection(option)}\r\n        tabIndex={0}\r\n        className={`${type}-outer-${selectionState}`}\r\n      >\r\n        {this.renderSelectionInsides(option, selectionState)}\r\n      </div>\r\n    );\r\n\r\n    if (type === 'text-selection') {\r\n      return (\r\n        <Col sm={sizeInSM} key={key} className=\"text-sel-col\">\r\n          <div className=\"single-selection\" key={key}>\r\n            {children}\r\n          </div>\r\n        </Col>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Col sm={sizeInSM} key={key}>\r\n        <div className=\"single-selection\">\r\n          {children}\r\n          <div className=\"description\">{description}</div>\r\n        </div>\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      name,\r\n      options,\r\n      type,\r\n      desc,\r\n      extraInfo,\r\n      errorString,\r\n    } = this.props;\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        desc={desc}\r\n        ref={node => (this.formParent = node)}\r\n        extraInfo={\r\n          <div style={{ marginTop: -marginTopOffset }}>\r\n            {extraInfo}\r\n          </div>\r\n        }\r\n        errorString={errorString}\r\n      >\r\n        <Field name={name} component={() => <div />} />\r\n        <div className=\"selection\">\r\n          <Row className={(type === 'text-selection') ? 'text-sel-container' : ''}>\r\n            {\r\n              _.map(options, option => this.renderSelectionIcon(option))\r\n            }\r\n          </Row>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nSelection.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  type: PropTypes.string.isRequired,\r\n  options: PropTypes.array.isRequired, // each option is { key, description }\r\n  change: PropTypes.func.isRequired,\r\n  sizeInSM: PropTypes.number,\r\n  desc: PropTypes.string,\r\n  formStore: PropTypes.object,\r\n  extraInfo: PropTypes.object,\r\n  errorString: PropTypes.string,\r\n  noEmptyTextSelection: PropTypes.bool,\r\n};\r\n\r\nSelection.defaultProps = {\r\n  sizeInSM: 12,\r\n  desc: null,\r\n  formStore: null,\r\n  extraInfo: null,\r\n  errorString: null,\r\n  noEmptyTextSelection: false,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  formStore: (getFormValues(ownProps.form)(state)),\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Selection);\r\n","module.exports = __webpack_public_path__ + \"static/media/CheckIcon.02ce5aca.svg\";","/**\r\n * DatePickerV2.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport document from 'global/document';\r\nimport window from 'global/window';\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport ReactDOM from 'react-dom';\r\nimport { Field, getFormValues } from 'redux-form';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\n\r\nimport Arrow from 'assets/images/forms/arrow.svg';\r\nimport DateIn from 'assets/images/forms/dateIn.svg';\r\nimport DateOut from 'assets/images/forms/dateOut.svg';\r\n\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\nimport { isDateEqual, storeStringToDate } from '../../../lib/dateFunctions';\r\n\r\nimport '../DropDown/DropDown.scss';\r\nimport './DatePickerV2.scss';\r\n\r\n/**\r\n * Constants\r\n */\r\n// Placeholder string when no input\r\nconst placeholderStringDefault = 'dd/mm/yyy';\r\n// Month text for display\r\nconst monthTextMapping = [\r\n  'January',\r\n  'Feburary',\r\n  'March',\r\n  'April',\r\n  'May',\r\n  'June',\r\n  'July',\r\n  'August',\r\n  'September',\r\n  'October',\r\n  'November',\r\n  'December',\r\n];\r\n\r\n// Height for medium dropdown\r\nconst mediumHeight = 60;\r\n// Height for big dropdown\r\nconst bigHeight = 72;\r\n// Default year range if not user defined\r\nconst deafultYearRange = 100;\r\n\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass DatePickerV2 extends Component {\r\n  /**\r\n   * Lifecycle Method - getDerivedStateFromProps\r\n   *\r\n   * Used to set sibling date range values for\r\n   * selected start and end date\r\n   *\r\n   * @param {object} nextProps Component props\r\n   */\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const result = {};\r\n\r\n    // Update selected Start End date state\r\n    function updateStartEndDate(dateName, date) {\r\n      const dateReformed = storeStringToDate(date);\r\n      if (dateReformed !== -1) {\r\n        result[dateName] = dateReformed;\r\n      }\r\n    }\r\n\r\n    // Only valid for date range picker\r\n    const { isRange, endDate } = nextProps;\r\n\r\n    if (isRange) {\r\n      const {\r\n        incomingStartDate,\r\n        incomingEndDate,\r\n      } = nextProps;\r\n      updateStartEndDate('selectedStartDate', incomingStartDate);\r\n      updateStartEndDate('selectedEndDate', incomingEndDate);\r\n    }\r\n\r\n    // Update end date from date range picker\r\n    if (endDate && !isDateEqual(endDate, prevState.dateRangeEnd)) {\r\n      result.dateRangeEnd = endDate;\r\n    }\r\n\r\n    return result === {} ? null : result;\r\n  }\r\n\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {object} props Component props\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // size - Size of this control\r\n    // startDate - Start range of date\r\n    // endDate - End range of date\r\n    // currDate - Day to set current view in calender (Default to today)\r\n    const {\r\n      size,\r\n      startDate,\r\n      endDate,\r\n      currDate,\r\n      placeholderString,\r\n    } = this.props;\r\n\r\n    // Get the control height\r\n    const height = size === 'big' ? bigHeight : mediumHeight;\r\n\r\n    // Get current date\r\n    const date = currDate || new Date();\r\n    const year = date.getFullYear();\r\n    const month = date.getMonth();\r\n    // Get first and last day of the month to display\r\n    const firstDay = new Date(year, month, 1);\r\n    const lastDay = new Date(year, month + 1, 0);\r\n    // Get the calender range\r\n    const dateRangeStart = startDate != null ? startDate : new Date(year - deafultYearRange, month);\r\n    const dateRangeEnd = endDate != null ? endDate : new Date(year + deafultYearRange, month);\r\n\r\n    // Get default placeholder string\r\n    const placeHolder = placeholderString != null ? placeholderString : placeholderStringDefault;\r\n\r\n    // isOpened - Whether dropdown is opened\r\n    // isError - Whether there is input error\r\n    // selectedString - The selected date string\r\n    // height - Control height\r\n    // currDate - Current selected date in view\r\n    // currFirstDay - Current first day of the month in view\r\n    // currLastDay - Current last day of the month in view\r\n    // monthDropdownOpen - Whether month selector is opened\r\n    // yearDropdownOpen - Whether year selector is opened\r\n    // selectedStartDate - Selected start date(If single select also use this)\r\n    // selectedEndDate - Selected end date for date range picker\r\n    // dateRangeStart - The actual calender start range\r\n    // dateRangeEnd - The actual calender end range\r\n    this.state = {\r\n      isOpened: false,\r\n      selectedString: placeHolder,\r\n      height,\r\n      currDate: date,\r\n      currFirstDay: firstDay,\r\n      currLastDay: lastDay,\r\n      selectedStartDate: null,\r\n      selectedEndDate: null,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      placeHolder,\r\n    };\r\n\r\n    this.handleSelectClick = this.handleSelectClick.bind(this);\r\n    this.handleClickOutside = this.handleClickOutside.bind(this);\r\n    this.handleOnInputChange = this.handleOnInputChange.bind(this);\r\n    this.handleKeyPress = this.handleKeyPress.bind(this);\r\n    this.handleExit = this.handleExit.bind(this);\r\n    this.handleBlur = this.handleBlur.bind(this);\r\n    this.handleFocus = this.handleFocus.bind(this);\r\n\r\n    this.setSelectedDate = this.setSelectedDate.bind(this);\r\n    this.setNewDate = this.setNewDate.bind(this);\r\n    this.setCalender = this.setCalender.bind(this);\r\n    this.onMovement = this.onMovement.bind(this);\r\n\r\n    this.isFromFocus = false;\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentDidMount\r\n   */\r\n  componentDidMount() {\r\n    // Add Handler to handle click outside of screen\r\n    document.addEventListener('mousedown', this.handleClickOutside);\r\n    window.addEventListener('scroll', this.onMovement);\r\n    window.addEventListener('resize', this.onMovement);\r\n\r\n    const {\r\n      name,\r\n      formStore,\r\n      dateInner,\r\n    } = this.props;\r\n\r\n    // Update prefill dates\r\n    if (formStore && formStore[name]) {\r\n      this.setSelectedDate(storeStringToDate(formStore[name]));\r\n    }\r\n\r\n    this.setState({\r\n      dateInnerDOM: ReactDOM.findDOMNode(dateInner),\r\n      datePickerDOM: ReactDOM.findDOMNode(this.wrapperRef),\r\n    });\r\n\r\n    this.onMovement();\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentDidUpdate\r\n   *\r\n   * Used to update dropdown position\r\n   * of month and year selector\r\n   */\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const {\r\n      currDate,\r\n      selectedStartDate,\r\n      selectedEndDate,\r\n      dateRangeEnd,\r\n    } = this.state;\r\n\r\n    const { isStart } = this.props;\r\n\r\n    // If end date is shorten because of start date and\r\n    // end date is beyond range, shift back date\r\n    if (!isDateEqual(prevState.dateRangeEnd, dateRangeEnd)) {\r\n      if (dateRangeEnd < selectedEndDate) {\r\n        this.setSelectedDate(dateRangeEnd);\r\n      }\r\n    }\r\n\r\n    // Set month of end date to be not lesser than start date\r\n    if (!isStart && selectedStartDate && currDate && currDate < selectedStartDate) {\r\n      this.setNewDate(selectedStartDate);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentWillUnmount\r\n   */\r\n  componentWillUnmount() {\r\n    const { dateInner } = this.props;\r\n    // Remove Handler to handle click outside of screen\r\n    document.removeEventListener('mousedown', this.handleClickOutside);\r\n    window.removeEventListener('scroll', this.onMovement);\r\n    window.removeEventListener('resize', this.onMovement);\r\n\r\n    if (dateInner) {\r\n      dateInner.toggleDateInner(false);\r\n    }\r\n  }\r\n\r\n  onMovement() {\r\n    const { dateInnerDOM, datePickerDOM, isOpened } = this.state;\r\n    const { dateInner } = this.props;\r\n\r\n    if (isOpened && dateInnerDOM && datePickerDOM) {\r\n      const isOverHeight = datePickerDOM.getBoundingClientRect().bottom + 540 > window.outerHeight;\r\n      dateInner.setArrowUp(!isOverHeight);\r\n      const top = isOverHeight ? datePickerDOM.getBoundingClientRect().top - 450 : datePickerDOM.getBoundingClientRect().bottom + 10;\r\n      dateInnerDOM.style.left = `${datePickerDOM.getBoundingClientRect().left}px`;\r\n      dateInnerDOM.style.top = `${top}px`;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * setNewDate\r\n   *\r\n   * Set new current date and\r\n   * start and end of calender\r\n   *\r\n   * @param {date} date\r\n   */\r\n  setNewDate(date, extraState = {}, selectedCallback) {\r\n    const { isOpened } = this.state;\r\n    const { dateInner } = this.props;\r\n    const newYear = date.getFullYear();\r\n    const newMonth = date.getMonth();\r\n\r\n    // Get first and last day of visible month\r\n    const firstDay = new Date(newYear, newMonth, 1);\r\n    const lastDay = new Date(newYear, newMonth + 1, 0);\r\n\r\n    // Set new calender values\r\n    this.setState({\r\n      currDate: date,\r\n      currFirstDay: firstDay,\r\n      currLastDay: lastDay,\r\n      ...extraState,\r\n    }, () => {\r\n      if (selectedCallback) {\r\n        selectedCallback({\r\n          currDate: date,\r\n          currFirstDay: firstDay,\r\n          currLastDay: lastDay,\r\n          selectedStartDate: extraState.selectedStartDate,\r\n          selectedEndDate: extraState.selectedEndDate,\r\n        });\r\n      } else if (isOpened) {\r\n        dateInner.setNewState({\r\n          currDate: date,\r\n          currFirstDay: firstDay,\r\n          currLastDay: lastDay,\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * setCalender\r\n   *\r\n   * Set visible calender\r\n   *\r\n   * @param {number} month\r\n   * @param {number} year\r\n   */\r\n  setCalender(month, year) {\r\n    const {\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n    } = this.state;\r\n\r\n    let date = new Date(year, month);\r\n\r\n    // Cap date range\r\n    if (date < dateRangeStart) {\r\n      date = dateRangeStart;\r\n    } else if (date > dateRangeEnd) {\r\n      date = dateRangeEnd;\r\n    }\r\n\r\n    this.setNewDate(date);\r\n    this.wrapperRef.focus();\r\n  }\r\n\r\n  /**\r\n   * setSelectedDate\r\n   *\r\n   * Updated selected date to store\r\n   *\r\n   * @param {date} date\r\n   */\r\n  setSelectedDate(date, selectedCallback = () => {}) {\r\n    const { selectedStartDate, selectedEndDate } = this.state;\r\n\r\n    const {\r\n      change,\r\n      name,\r\n      isStart,\r\n      isRange,\r\n      endRef,\r\n      // dateInner,\r\n    } = this.props;\r\n\r\n    try {\r\n      let storeString = null;\r\n      let dateString = null;\r\n      if (date) {\r\n        // Get date values in string\r\n        const currDay = (`0${date.getDate().toString()}`).slice(-2);\r\n        const currMonth = (`0${(date.getMonth() + 1).toString()}`).slice(-2);\r\n        const currYear = date.getFullYear().toString();\r\n\r\n        // Get date in string\r\n        dateString = `${currDay}/${currMonth}/${currYear}`;\r\n        // String to store in store\r\n        storeString = `${currDay} ${monthTextMapping[currMonth - 1].slice(0, 3)} ${currYear}`;\r\n      }\r\n      \r\n      // Update the date in the store for the form\r\n      change(name, storeString);\r\n\r\n      let newSelectedStartDate = selectedStartDate;\r\n      let newSelectedEndDate = selectedEndDate;\r\n\r\n      // Set end and start to selected date\r\n      // Default use selectedStartDate if not range\r\n      if (isRange && !isStart) {\r\n        newSelectedEndDate = date;\r\n      } else {\r\n        newSelectedStartDate = date;\r\n        if (newSelectedEndDate < newSelectedStartDate) {\r\n          newSelectedEndDate = newSelectedStartDate;\r\n          \r\n          if (endRef && endRef.wrappedInstance) {\r\n            endRef.wrappedInstance.setSelectedDate(newSelectedStartDate);\r\n          }\r\n        }\r\n      }\r\n\r\n      // Set the new date\r\n      this.setNewDate(date, {\r\n        isOpened: false,\r\n        selectedString: dateString,\r\n        selectedEndDate: newSelectedEndDate,\r\n        selectedStartDate: newSelectedStartDate,\r\n      }, selectedCallback);\r\n\r\n      // Close the dropdown and update the selectedString\r\n      // Since is selection, there will be no error\r\n      // this.setState({\r\n      //   isOpened: false,\r\n      //   selectedString: dateString,\r\n      //   selectedEndDate: newSelectedEndDate,\r\n      //   selectedStartDate: newSelectedStartDate,\r\n      // });\r\n\r\n      this.isFromFocus = false;\r\n    } catch (error) {\r\n      // eslint-disable-next-line no-empty\r\n    }\r\n  }\r\n\r\n  /**\r\n   * End selection if click on outside\r\n   *\r\n   * @param {object} event\r\n   */\r\n  handleClickOutside(event) {\r\n    const { isOpened, dateInnerDOM } = this.state;\r\n    const { isTargetWithinDateRangePicker, dateInner } = this.props;\r\n\r\n    // If clicked outside of daterpicekr Inner or wrapper, go to exit\r\n    if (\r\n      isOpened &&\r\n      this.wrapperRef &&\r\n      !this.wrapperRef.contains(event.target) &&\r\n      dateInnerDOM &&\r\n      !dateInnerDOM.contains(event.target)\r\n    ) {\r\n      this.setState({\r\n        isOpened: false,\r\n      });\r\n\r\n      // If outside of any datepicker controls\r\n      if (!isTargetWithinDateRangePicker || (isTargetWithinDateRangePicker && !isTargetWithinDateRangePicker(event.target))) {\r\n        dateInner.toggleDateInner(false);\r\n      }\r\n\r\n      this.handleExit();\r\n\r\n      this.isFromFocus = false;\r\n      // this.handleExit();\r\n      this.doNotBlur = false;\r\n      return;\r\n    }\r\n\r\n    this.doNotBlur = true;\r\n  }\r\n\r\n  /**\r\n   * handleKeyPress\r\n   *\r\n   * Handle on enter key\r\n   *\r\n   * @param {object} target\r\n   */\r\n  handleKeyPress(target) {\r\n    const { dateInner } = this.props;\r\n\r\n    // If pressed on enter, go to exit\r\n    if (target.charCode === 13) {\r\n      target.preventDefault();\r\n      this.handleExit();\r\n      dateInner.toggleDateInner(false);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * handleSelectClick\r\n   *\r\n   * Handle toggling of datepicker\r\n   */\r\n  handleSelectClick() {\r\n    const {\r\n      isOpened,\r\n      placeHolder,\r\n      currDate,\r\n      currFirstDay,\r\n      currLastDay,\r\n      selectedStartDate,\r\n      selectedEndDate,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n    } = this.state;\r\n\r\n    const {\r\n      change,\r\n      name,\r\n      dateInner,\r\n      isRange,\r\n      isStart,\r\n      formStore,\r\n    } = this.props;\r\n\r\n    let selectedStart = selectedStartDate || (formStore && storeStringToDate(formStore.start_date));\r\n    let selectedEnd = selectedEndDate || (formStore && storeStringToDate(formStore.end_date));\r\n    selectedStart = selectedStart === -1 ? null : selectedStart;\r\n    selectedEnd = selectedEnd === -1 ? null : selectedEnd;\r\n\r\n    const selectedCallback = (extraState = {}) => {\r\n      dateInner.toggleDateInner(!isOpened, {\r\n        setNewDate: this.setNewDate,\r\n        setSelectedDate: this.setSelectedDate,\r\n        currDate,\r\n        currFirstDay,\r\n        currLastDay,\r\n        selectedStartDate: selectedStart,\r\n        selectedEndDate: selectedEnd,\r\n        dateRangeStart,\r\n        dateRangeEnd,\r\n        isRange,\r\n        isStart,\r\n        ...extraState,\r\n      });\r\n\r\n      // ]if (!this.isFromFocus) {\r\n      this.setState({\r\n        isOpened: !isOpened,\r\n      }, () => {\r\n        if (!isOpened) {\r\n          this.onMovement();\r\n        }\r\n      });\r\n\r\n      const { selectedString } = this.state;\r\n      // Open if not opened and set the input string\r\n      // back to date form\r\n      if (!isOpened) {\r\n        if (selectedString !== placeHolder) {\r\n          change(name, selectedString);\r\n        }\r\n      } else {\r\n        this.handleExit();\r\n        if (this.inputField) {\r\n          const input = this.inputField.getRenderedComponent();\r\n          if (input) {\r\n            setTimeout(() => input.blur(), 2);\r\n          }\r\n        }\r\n      }\r\n      // }\r\n\r\n      this.isFromFocus = false;\r\n    };\r\n\r\n    if (isStart && selectedStart) {\r\n      this.setSelectedDate(selectedStart, selectedCallback);\r\n    } else if (selectedEnd) {\r\n      this.setSelectedDate(selectedEnd, selectedCallback);\r\n    } else {\r\n      selectedCallback();\r\n    }\r\n\r\n    // setTimeout(() => {\r\n    //   dateInner.toggleDateInner(!isOpened, {\r\n    //     setNewDate: this.setNewDate,\r\n    //     setSelectedDate: this.setSelectedDate,\r\n    //     currDate,\r\n    //     currFirstDay,\r\n    //     currLastDay,\r\n    //     selectedStartDate: selectedStart,\r\n    //     selectedEndDate: selectedEnd,\r\n    //     dateRangeStart,\r\n    //     dateRangeEnd,\r\n    //     isRange,\r\n    //     isStart,\r\n    //   });\r\n\r\n    //   // ]if (!this.isFromFocus) {\r\n    //   this.setState({\r\n    //     isOpened: !isOpened,\r\n    //   }, () => {\r\n    //     if (!isOpened) {\r\n    //       this.onMovement();\r\n    //     }\r\n    //   });\r\n\r\n    //   const { selectedString } = this.state;\r\n    //   // Open if not opened and set the input string\r\n    //   // back to date form\r\n    //   if (!isOpened) {\r\n    //     if (selectedString !== placeHolder) {\r\n    //       change(name, selectedString);\r\n    //     }\r\n    //   } else {\r\n    //     this.handleExit();\r\n    //     if (this.inputField) {\r\n    //       const input = this.inputField.getRenderedComponent();\r\n    //       if (input) {\r\n    //         setTimeout(() => input.blur(), 2);\r\n    //       }\r\n    //     }\r\n    //   }\r\n    //   // }\r\n\r\n    //   this.isFromFocus = false;\r\n    // }, 10);\r\n  }\r\n\r\n  /**\r\n   * Handles on input changes\r\n   *\r\n   * @param {object} event\r\n   */\r\n  async handleOnInputChange(event) {\r\n    // Wait for event to finish\r\n    await event;\r\n    // Get current input value\r\n    const value = event.target.defaultValue;\r\n\r\n    // Set new list items, height of dropdown list,\r\n    // Force open list on type, and set selected string to value\r\n    this.setState({\r\n      selectedString: value,\r\n    });\r\n  }\r\n\r\n  handleBlur(event) {\r\n    const isChildren = this.wrapperRef.contains(event.relatedTarget);\r\n    if (!isChildren && !this.doNotBlur) {\r\n      // Hackish, but to make sure this comes after setNewDate\r\n      setTimeout(() => {\r\n        this.handleExit();\r\n        this.isFromFocus = false;\r\n      }, 100);\r\n    }\r\n\r\n    this.doNotBlur = false;\r\n  }\r\n\r\n  handleFocus(event) {\r\n    const isChildren = this.wrapperRef.contains(event.relatedTarget);\r\n    if (event.relatedTarget && !isChildren && !this.isClicked) {\r\n      this.handleSelectClick();\r\n      this.isFromFocus = true;\r\n    }\r\n\r\n    this.isClicked = false;\r\n  }\r\n  /**\r\n   * handleExit\r\n   *\r\n   * Handle exit selection of entered input\r\n   */\r\n  handleExit() {\r\n    const {\r\n      selectedString,\r\n      dateRangeEnd,\r\n      dateRangeStart,\r\n      selectedStartDate,\r\n    } = this.state;\r\n\r\n    const {\r\n      change,\r\n      name,\r\n      isRange,\r\n      isStart,\r\n    } = this.props;\r\n\r\n    // Check if input string is valid date\r\n    let isError = !moment(selectedString, 'DD/MM/YYYY', true).isValid();\r\n    // The date in date form\r\n    let selectedDate = null;\r\n\r\n    // Check if date is within date range\r\n    if (!isError) {\r\n      const parts = selectedString.split('/');\r\n      selectedDate = new Date(parts[2], parts[1] - 1, parts[0]);\r\n      // isError = isStart && selectedEndDate ? selectedDate > selectedEndDate : isError;\r\n      isError = !isStart && selectedStartDate ? selectedStartDate > selectedDate : isError;\r\n      isError = selectedDate < dateRangeStart || dateRangeEnd < selectedDate ? true : isError;\r\n    }\r\n\r\n    // Close the dropdown and set any errors\r\n    this.setState({\r\n      isOpened: false,\r\n    });\r\n\r\n    // Set null to selected start or end date if error\r\n    if (isError) {\r\n      if (isRange && !isStart) {\r\n        this.setState({\r\n          selectedEndDate: null,\r\n        });\r\n      } else {\r\n        this.setState({\r\n          selectedStartDate: null,\r\n        });\r\n      }\r\n\r\n      // Null strings and store value\r\n      this.setState({\r\n        selectedString: '',\r\n      });\r\n      change(name, null);\r\n\r\n      return;\r\n    }\r\n\r\n    this.setSelectedDate(selectedDate);\r\n  }\r\n\r\n  /**\r\n   * Render component\r\n   */\r\n  render() {\r\n    const {\r\n      isOpened,\r\n      height,\r\n      placeHolder,\r\n    } = this.state;\r\n\r\n    if (height) {\r\n      const {\r\n        name,\r\n        zIndex,\r\n        maxWidth,\r\n        isRange,\r\n        isStart,\r\n        desc,\r\n        extraInfo,\r\n        errorString,\r\n        formStore,\r\n        validateForm,\r\n      } = this.props;\r\n\r\n      const mainStyle = {\r\n        height,\r\n        zIndex,\r\n        maxWidth,\r\n      };\r\n\r\n      const dropDownOpenStyle = isOpened ? 'dropdown-container-opened' : 'dropdown-container-closed';\r\n      const isErrorStyle = errorString ? 'error' : '';\r\n      const rangeIcon = isStart ? DateIn : DateOut;\r\n      const rangIconStyle = isStart ? 'date-img-in' : 'date-img-out';\r\n\r\n      const refValue = formStore ? formStore[name] : null;\r\n\r\n      return (\r\n        <FormInputWrapper\r\n          desc={desc}\r\n          ref={node => (this.formParent = node)}\r\n          extraInfo={extraInfo}\r\n          errorString={errorString}\r\n          refValue={refValue}\r\n          validateForm={validateForm}\r\n        >\r\n          <div\r\n            className=\"dropdown datepicker\"\r\n            style={mainStyle}\r\n            ref={node => (this.wrapperRef = node)}\r\n            onBlur={event => this.handleBlur(event)}\r\n            onFocus={event => this.handleFocus(event)}\r\n          >\r\n            <div\r\n              className={`dropdown-container \r\n                          ${dropDownOpenStyle} \r\n                          ${isErrorStyle}\r\n                        `}\r\n              style={{ height }}\r\n              onKeyUp={() => {}}\r\n              role=\"button\"\r\n              tabIndex={-1}\r\n            >\r\n              <div\r\n                className=\"selected-container align-items-center\"\r\n                style={{ height }}\r\n              >\r\n                {\r\n                  isRange ?\r\n                    <img\r\n                      className={`date-img ${rangIconStyle}`}\r\n                      src={rangeIcon}\r\n                      alt=\"Date Range Icon\"\r\n                    />\r\n                  :\r\n                    null\r\n                }\r\n                <div className=\"selected-text text-style\">\r\n                  <Field\r\n                    name={name}\r\n                    ref={node => this.inputField = node}\r\n                    withRef\r\n                    component=\"input\"\r\n                    type=\"text\"\r\n                    placeholder={placeHolder}\r\n                    autoComplete=\"off\"\r\n                    onChange={event => this.handleOnInputChange(event)}\r\n                    onKeyPress={this.handleKeyPress}\r\n                    onMouseDown={(e) => {\r\n                      if (window.innerWidth <= 576) {\r\n                        e.preventDefault();\r\n                      }\r\n                      this.isClicked = true;\r\n                      this.handleSelectClick();\r\n                    }}\r\n                    tabIndex={0}\r\n                  />\r\n                </div>\r\n                {\r\n                  isRange ?\r\n                    null\r\n                  :\r\n                    <div\r\n                      role=\"button\"\r\n                      className=\"selected-arrow\"\r\n                      onMouseDown={() => { this.isClicked = true; this.handleSelectClick(); }}\r\n                      tabIndex={-1}\r\n                    >\r\n                      <img\r\n                        src={Arrow}\r\n                        alt=\"arrow.svg\"\r\n                        className={`selected-arrow-style ${isOpened ? 'angle-up' : 'angle-down'}`}\r\n                      />\r\n                    </div>\r\n                }\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </FormInputWrapper>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\nDatePickerV2.defaultProps = {\r\n  maxWidth: '100%',\r\n  isStart: true,\r\n  isRange: false,\r\n  startDate: null,\r\n  endDate: null,\r\n  currDate: null,\r\n  placeholderString: placeholderStringDefault,\r\n  desc: null,\r\n  extraInfo: null,\r\n  errorString: null,\r\n  formStore: null,\r\n  validateForm: null,\r\n  isTargetWithinDateRangePicker: null,\r\n  endRef: null,\r\n};\r\n\r\nDatePickerV2.propTypes = {\r\n  formStore: PropTypes.object,\r\n  maxWidth: PropTypes.string,\r\n  size: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  zIndex: PropTypes.number.isRequired,\r\n  change: PropTypes.func.isRequired,\r\n  isStart: PropTypes.bool,\r\n  isRange: PropTypes.bool,\r\n  startDate: PropTypes.instanceOf(Date),\r\n  endDate: PropTypes.instanceOf(Date),\r\n  currDate: PropTypes.instanceOf(Date),\r\n  placeholderString: PropTypes.string,\r\n  desc: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  errorString: PropTypes.string,\r\n  validateForm: PropTypes.func,\r\n  dateInner: PropTypes.object.isRequired,\r\n  isTargetWithinDateRangePicker: PropTypes.func,\r\n  endRef: PropTypes.object,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  formStore: (getFormValues(ownProps.form)(state)),\r\n  dateInner: state.datepicker.datePickerInner,\r\n});\r\n\r\nexport default connect(mapStateToProps, null, null, { withRef: true })(DatePickerV2);\r\n","/**\r\n * RestrictionPopup.js\r\n * Used to display product restrictions\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Row, Col, Modal, ModalHeader } from 'reactstrap';\r\nimport Button from 'components/FormsV3/Button/Button';\r\n\r\nimport { clearRestrictionPopup } from '../../../actions/restrictionsActions';\r\n\r\nimport './RestrictionsPopup.scss';\r\n\r\nclass RestrictionsPopup extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const { data } = nextProps;\r\n\r\n    if (data && data !== prevState.data) {\r\n      nextProps.clearRestrictionPopup();\r\n      return ({\r\n        values: data.values,\r\n        clickCallback: data.clickCallback,\r\n        doAcceptTag: data.doAcceptTag,\r\n      });\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      values: null,\r\n      clickCallback: null,\r\n      doAcceptTag: null,\r\n      modal: false,\r\n    };\r\n\r\n    this.setData = this.setData.bind(this);\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { values, modal } = this.state;\r\n\r\n    if (values && !modal) {\r\n      this.setState({ modal: true });\r\n    }\r\n  }\r\n\r\n  setData(values, clickCallback, doAcceptTag) {\r\n    this.setState({\r\n      values,\r\n      clickCallback,\r\n      doAcceptTag,\r\n    });\r\n\r\n    setTimeout(() => this.setState({ modal: true }), 100);\r\n  }\r\n\r\n  handleClick() {\r\n    const { clickCallback, doAcceptTag } = this.state;\r\n\r\n    if (doAcceptTag) {\r\n      doAcceptTag();\r\n    }\r\n\r\n    if (clickCallback) {\r\n      clickCallback();\r\n    }\r\n\r\n    this.setState({ modal: false, values: null });\r\n  }\r\n\r\n  renderData() {\r\n    const { values } = this.state;\r\n\r\n    return _.map(values, (item, index) => {\r\n      const description = _.split(item.description, '\\n');\r\n      return (\r\n        <Fragment key={`res-data-${index}`}>\r\n          <Col className=\"title\" xs={12} sm={4}>\r\n            <p>{item.title}</p>\r\n          </Col>\r\n          <Col className=\"res-desc\" xs={12} sm={8}>\r\n            {\r\n              _.map(description, (desc, descIndex) => (\r\n                <p key={`res-desc-${descIndex}`}>{desc}</p>\r\n              ))\r\n            }\r\n          </Col>\r\n          <Col xs={12}>\r\n            <div className=\"line\" xs={12} />\r\n          </Col>\r\n        </Fragment>\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { modal } = this.state;\r\n    return (\r\n      <Modal\r\n        backdropClassName=\"blue-modal-backdrop\"\r\n        className=\"restrictions-popup\"\r\n        isOpen={modal}\r\n        size=\"lg\"\r\n      >\r\n        <ModalHeader toggle={() => this.setState({ modal: false, values: null })} />\r\n        <Row>\r\n          <Col className=\"header\" xs={12}>\r\n            <p>{'Company\\'s Restrictions'}</p>\r\n            <p className=\"sub\">Scroll down to read the restrictions</p>\r\n          </Col>\r\n          {this.renderData()}\r\n        </Row>\r\n        <Row>\r\n          <Col className=\"button-container\" xs={12}>\r\n            <Button\r\n              onClick={this.handleClick}\r\n              type=\"submit\"\r\n              variant=\"medium-flat-green\"\r\n              width={165}\r\n              height={72}\r\n            >\r\n              <p>Accept</p>\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  data: state.restrictions.data,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  clearRestrictionPopup: () => {\r\n    dispatch(clearRestrictionPopup());\r\n  },\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RestrictionsPopup);\r\n","module.exports = __webpack_public_path__ + \"static/media/ArrowGradient.50433ef5.svg\";","/**\r\n * SpeechScroll.js\r\n * The hovering dropdown that appears in the navbar and\r\n * the multi compare view insurer's row.\r\n *\r\n * It will auto close when out of the box.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport document from 'global/document';\r\nimport window from 'global/window';\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './SpeechScroll.scss';\r\n\r\nclass SpeechScroll extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isPopUpOpen: false,\r\n      insurerArrowHorizontal: 0,\r\n      scrollPos: 0,\r\n      scrollheight: 0,\r\n      popUpHeight: 0,\r\n      exitCallback: null,\r\n    };\r\n\r\n    this.handleInsurerHover = this.handleInsurerHover.bind(this);\r\n    this.handleInsurerBlur = this.handleInsurerBlur.bind(this);\r\n    this.handleMouseMoveOnHoverButton = this.handleMouseMoveOnHoverButton.bind(this);\r\n    this.handleClickOnHoverButton = this.handleClickOnHoverButton.bind(this);\r\n    this.handleScroll = this.handleScroll.bind(this);\r\n    this.handlePopUpScroll = this.handlePopUpScroll.bind(this);\r\n    this.handlePopUpWheel = this.handlePopUpWheel.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('scroll', this.handleScroll);\r\n    this.hide();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('scroll', this.handleScroll);\r\n    this.hide();\r\n  }\r\n\r\n  show() {\r\n    document.body.scroll = 'no';\r\n    // const el = document.getElementsByTagName('body')[0];\r\n    // el.classList.add('noscroll');\r\n  }\r\n\r\n  hide() {\r\n    document.body.scroll = 'yes';\r\n    // const el = document.getElementsByTagName('body')[0];\r\n    // el.classList.remove('noscroll');\r\n  }\r\n\r\n  handleScroll() {\r\n    const { isPopUpOpen } = this.state;\r\n\r\n    if (isPopUpOpen) {\r\n      this.setState({\r\n        isPopUpOpen: false,\r\n      });\r\n\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  handleInsurerHover(event, initCallback = null, exitCallback = null) {\r\n    const { isPopUpOpen } = this.state;\r\n    const { maxHeight } = this.props;\r\n\r\n    // console.log('FOCUS');\r\n    if (!isPopUpOpen) {\r\n      let height = 20;\r\n      _.each(this.insurerPopUpScroll.children, (child) => {\r\n        height += child.scrollHeight;\r\n      });\r\n      const rect = event.target.getBoundingClientRect();\r\n      const maxLeft = window.innerWidth - 262 - 20 - 20;\r\n      const defaultLeft = rect.left + rect.width * 0.5 - 131 - 20;\r\n      const left = Math.max(20, Math.min(defaultLeft, maxLeft));\r\n\r\n      const arrowDiff = left - defaultLeft;\r\n\r\n      this.insurerPopUp.style.left = `${left}px`;\r\n      this.insurerPopUp.style.top = `${rect.top}px`;\r\n\r\n      this.setState({\r\n        isPopUpOpen: true,\r\n        insurerArrowHorizontal: arrowDiff,\r\n        popUpHeight: Math.min(height, maxHeight),\r\n        exitCallback,\r\n      });\r\n\r\n      this.show();\r\n\r\n      if (initCallback) {\r\n        initCallback();\r\n      }\r\n\r\n      if (this.insurerPopUpScroll.children.length > 4) {\r\n        setTimeout(this.handlePopUpScroll, 10);\r\n      }\r\n    }\r\n  }\r\n\r\n  handleInsurerBlur(e) {\r\n    const { exitCallback } = this.state;\r\n\r\n    if (e) {\r\n      e.preventDefault();\r\n    }\r\n\r\n    // console.log('BLUR');\r\n    this.setState({\r\n      isPopUpOpen: false,\r\n    });\r\n\r\n    if (exitCallback) {\r\n      exitCallback();\r\n    }\r\n\r\n    this.hide();\r\n  }\r\n\r\n  handleMouseMoveOnHoverButton(event) {\r\n    const rect = this.insurerPopUp.getBoundingClientRect();\r\n    if (event.clientY - rect.top < 40) {\r\n      const { insurerArrowHorizontal } = this.state;\r\n      const leftBound = rect.left + rect.width * 0.5 - 20 - insurerArrowHorizontal;\r\n      const rightBound = leftBound + 60;\r\n\r\n      if (!(leftBound < event.clientX && event.clientX < rightBound)) {\r\n        // console.log(rect);\r\n        // console.log(event.clientX);\r\n        this.handleInsurerBlur(event);\r\n      }\r\n    }\r\n  }\r\n\r\n  handleClickOnHoverButton(event) {\r\n    const { onHoverButtonClick } = this.props;\r\n\r\n    if (!onHoverButtonClick) {\r\n      return;\r\n    }\r\n\r\n    const rect = this.insurerPopUp.getBoundingClientRect();\r\n    if (event.clientY - rect.top < 40) {\r\n      const { insurerArrowHorizontal } = this.state;\r\n      const leftBound = rect.left + rect.width * 0.5 - 20 - insurerArrowHorizontal;\r\n      const rightBound = leftBound + 60;\r\n\r\n      if (leftBound < event.clientX && event.clientX < rightBound) {\r\n        onHoverButtonClick();\r\n      }\r\n    }\r\n  }\r\n\r\n  handlePopUpScroll() {\r\n    const percentage = this.insurerPopUpScroll.scrollTop / (this.insurerPopUpScroll.scrollHeight - this.insurerPopUpScroll.offsetHeight);\r\n    const barheight = this.insurerPopUpScroll.offsetHeight / this.insurerPopUpScroll.scrollHeight * this.insurerPopUpScroll.offsetHeight;\r\n    const offsetY = percentage * (this.insurerPopUpScroll.offsetHeight - barheight);\r\n    // console.log(percentage, this.insurerPopUpScroll.scrollTop, this.insurerPopUpScroll.offsetHeight);\r\n    this.setState({\r\n      scrollPos: offsetY,\r\n      scrollheight: barheight,\r\n    });\r\n    this.show();\r\n  }\r\n\r\n  handlePopUpWheel(event) {\r\n    const scrollBottom = this.insurerPopUpScroll.offsetHeight + this.insurerPopUpScroll.scrollTop;\r\n    if (\r\n      (event.deltaY < 0 && this.insurerPopUpScroll.scrollTop <= 0) ||\r\n      (event.deltaY > 0 && scrollBottom === this.insurerPopUpScroll.scrollHeight)\r\n    ) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isPopUpOpen,\r\n      insurerArrowHorizontal,\r\n      scrollPos,\r\n      scrollheight,\r\n      popUpHeight,\r\n    } = this.state;\r\n\r\n    const { offsetHeight, onHoverButtonClick } = this.props;\r\n\r\n    const openStyle = isPopUpOpen ? '' : 'list-popup-container-closed';\r\n    const hoverButtonStyle = onHoverButtonClick ? 'speech-scroll-clickable' : '';\r\n\r\n    return (\r\n      <div className=\"speech-scroll\">\r\n        <div\r\n          role=\"button\"\r\n          tabIndex={-1}\r\n          onKeyUp={() => {}}\r\n          className={`list-popup-container ${hoverButtonStyle} ${openStyle}`}\r\n          ref={node => this.insurerPopUp = node}\r\n          onMouseMove={this.handleMouseMoveOnHoverButton}\r\n          onMouseLeave={this.handleInsurerBlur}\r\n          onClick={this.handleClickOnHoverButton}\r\n          style={{ height: popUpHeight + offsetHeight, paddingTop: offsetHeight }}\r\n        >\r\n          <div\r\n            className=\"list-popup-background\"\r\n            style={{ height: popUpHeight }}\r\n          >\r\n            <div\r\n              className=\"arrow\"\r\n              style={{ marginRight: insurerArrowHorizontal }}\r\n            />\r\n          </div>\r\n          <div className=\"scrollbar-container\" style={{ top: offsetHeight + 2 }}>\r\n            <div\r\n              className=\"scrollbar\"\r\n              ref={node => this.scrollBar = node}\r\n              style={{ marginTop: `${scrollPos}px`, height: scrollheight }}\r\n            />\r\n          </div>\r\n          <div\r\n            className=\"list-popup\"\r\n            onScroll={this.handlePopUpScroll}\r\n            onWheel={this.handlePopUpWheel}\r\n            ref={node => this.insurerPopUpScroll = node}\r\n            style={{ height: popUpHeight }}\r\n          >\r\n            {this.props.children}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nSpeechScroll.defaultProps = {\r\n  maxHeight: 273,\r\n  offsetHeight: 40,\r\n  onHoverButtonClick: null,\r\n};\r\n\r\nSpeechScroll.propTypes = {\r\n  maxHeight: PropTypes.number,\r\n  offsetHeight: PropTypes.number,\r\n  onHoverButtonClick: PropTypes.func,\r\n};\r\n\r\nexport default SpeechScroll;\r\n","/**\r\n * Enquiry.js\r\n * Enquiry view that appears in most of the forms\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n*/\r\nimport React, { Component } from 'react';\r\nimport { Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Phone from 'assets/images/common/Phone.svg';\r\n\r\nimport './Enquiry.scss';\r\n\r\nclass Enquiry extends Component {\r\n  render() {\r\n    const { marginTop } = this.props;\r\n\r\n    return (\r\n      <Col className=\"enquiry-container\" style={{ marginTop }}>\r\n        <div className=\"upper-container\">\r\n          <p className=\"left-text\">\r\n            Need some assistance? Please contact us and one of our\r\n            Client Services Executives will be happy to guide you along.\r\n          </p>\r\n          <div className=\"right-text\">\r\n            <img src={Phone} alt=\"Phone.svg\" />\r\n            <a href=\"tel:+6531639184\">\r\n              +65 3163 9184\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <div className=\"lower-container\">\r\n          <p className=\"lower-main\">Speak to our Client Service Executives</p>\r\n          <p className=\"lower-sub\">Servicing hours:</p>\r\n          <p className=\"lower-sub\">10am - 7pm</p>\r\n          <p className=\"lower-sub\">Mondays to Fridays</p>\r\n          <p className=\"lower-sub\">(excluding public holidays)</p>\r\n        </div>\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nEnquiry.defaultProps = {\r\n  marginTop: 0,\r\n};\r\n\r\n\r\nEnquiry.propTypes = {\r\n  marginTop: PropTypes.number,\r\n};\r\n\r\nexport default Enquiry;\r\n","module.exports = __webpack_public_path__ + \"static/media/Phone.02c1235c.svg\";","module.exports = __webpack_public_path__ + \"static/media/EditButton.cbb0b06a.svg\";","/**\r\n * Accordion.js\r\n * A collapse view that is enhanced from reactstrap\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Collapse, CardBody, Card } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ArrowGradient from 'assets/images/forms/ArrowGradient.svg';\r\n\r\nimport './Accordion.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass Accordion extends Component {\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {object} props Component props\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isOpened: false,\r\n      openCallback: null,\r\n    };\r\n\r\n    this.handleExpand = this.handleExpand.bind(this);\r\n    this.setOpenCallback = this.setOpenCallback.bind(this);\r\n  }\r\n\r\n  setOpenCallback(callback) {\r\n    this.setState({\r\n      openCallback: callback,\r\n    });\r\n  }\r\n\r\n  handleExpand() {\r\n    const { isOpened, openCallback } = this.state;\r\n    if (!isOpened && openCallback) {\r\n      setTimeout(() => openCallback(), 10);\r\n    }\r\n\r\n    this.setState({\r\n      isOpened: !isOpened,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isOpened,\r\n    } = this.state;\r\n\r\n    const {\r\n      height,\r\n      isWarning,\r\n      isFullBorder,\r\n    } = this.props;\r\n\r\n    const openStyle = isOpened ? 'accordion-opened' : 'accordion-closed';\r\n    const openText = isOpened ? 'Close Details' : 'Expand Details';\r\n    const arrowOpenStyle = isOpened ? 'arrow-opened' : 'arrow-closed';\r\n    const borderStyle = isFullBorder ? 'accordion-border' : '';\r\n\r\n    return (\r\n      <div className={`${borderStyle} accordion-container`}>\r\n        <div className=\"accordion-inner\">\r\n          <Collapse className={openStyle} isOpen={isOpened}>\r\n            <Card>\r\n              <CardBody>\r\n                {this.props.children}\r\n              </CardBody>\r\n            </Card>\r\n          </Collapse>\r\n        </div>\r\n        <div className=\"expand-container\" style={{ minHeight: height }}>\r\n          <button\r\n            className=\"control-container\"\r\n            onClick={() => this.handleExpand()}\r\n          >\r\n            <img className={`arrow ${arrowOpenStyle}`} src={ArrowGradient} alt=\"Arrow.svg\" />\r\n            <span>{openText}</span>\r\n          </button>\r\n        </div>\r\n        {\r\n          isWarning ?\r\n            <div className=\"warning-container\">\r\n              <p>Please make sure all your information is correct before making the payment</p>\r\n            </div>\r\n          :\r\n            null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nAccordion.defaultProps = {\r\n  isWarning: false,\r\n  height: 95,\r\n  isFullBorder: false,\r\n};\r\n\r\nAccordion.propTypes = {\r\n  isWarning: PropTypes.bool,\r\n  isFullBorder: PropTypes.bool,\r\n  height: PropTypes.number,\r\n};\r\n\r\nexport default Accordion;\r\n","/**\r\n * ChangeInitialFormData.js\r\n * This is the green pencil button that appears mainly on\r\n * the compare view which will render the Edit Detail forms\r\n * of each category.\r\n *\r\n * Users will be able to change that form through this component\r\n * and will do a callback to update any changes, eg for compare view.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getFormValues, change } from 'redux-form';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport EditButton from 'assets/images/forms/EditButton.svg';\r\n\r\nimport SpeechScroll from '../SpeechScroll/SpeechScroll';\r\nimport Popup from '../Popup/Popup';\r\n\r\nimport { resetSubmitStatus } from '../../../actions/editFormActions';\r\nimport { simplifyCost } from '../../../lib/helperFunctions';\r\n\r\nimport './ChangeInitialFormData.scss';\r\n\r\nclass ChangeInitialFormData extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      toolTipData: [],\r\n    };\r\n\r\n    this.renderHeader = this.renderHeader.bind(this);\r\n    this.renderDetailLabels = this.renderDetailLabels.bind(this);\r\n    this.renderDetailValues = this.renderDetailValues.bind(this);\r\n    this.renderEditButton = this.renderEditButton.bind(this);\r\n    this.renderSpeechScrollList = this.renderSpeechScrollList.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { resetSubmit } = this.props;\r\n\r\n    resetSubmit();\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    const { closePopUp, toolTipData, speechScroll } = this.state;\r\n    const { resetSubmit } = this.props;\r\n\r\n    if (nextProps.isEditSubmitted) {\r\n      resetSubmit();\r\n    }\r\n\r\n    return nextProps.isEditSubmitted ||\r\n          closePopUp !== nextState.closePopUp ||\r\n          toolTipData !== nextState.toolTipData ||\r\n          speechScroll !== nextState.speechScroll;\r\n  }\r\n\r\n  renderHeader() {\r\n    const { headerValue, storeForm } = this.props;\r\n    if (storeForm && headerValue) {\r\n      const value = storeForm[headerValue] ? storeForm[headerValue] : '';\r\n      return <span className=\"edit-detail-header\">{value}</span>;\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderDetailLabels() {\r\n    const { valuesToListen, storeForm, conditions } = this.props;\r\n    const conditonValue = conditions ? storeForm[conditions.key] : null;\r\n    const valuesArrayToListen = conditonValue ? conditions.values[conditonValue] : null;\r\n\r\n    return (\r\n      <div className=\"edit-detail-label-container\">\r\n        {_.reduce(valuesToListen, (result, data, index) => {\r\n          if (\r\n            !valuesArrayToListen ||\r\n            (valuesArrayToListen && _.findIndex(valuesArrayToListen, value => value === data.value) !== -1)\r\n          ) {\r\n            result.push(<span key={`label-${index}`} className=\"detail-label\">{data.desc}</span>);\r\n          }\r\n          return result;\r\n        }, [])}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderDetailValues() {\r\n    const { speechScroll } = this.state;\r\n    const { storeForm, valuesToListen, conditions } = this.props;\r\n\r\n    const conditonValue = conditions ? storeForm[conditions.key] : null;\r\n    const valuesArrayToListen = conditonValue ? conditions.values[conditonValue] : null;\r\n\r\n    if (!storeForm || !speechScroll) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className=\"edit-detail-value-container\">\r\n        {\r\n          _.reduce(valuesToListen, (result, data, index) => {\r\n            if (\r\n              !valuesArrayToListen ||\r\n              (valuesArrayToListen && _.findIndex(valuesArrayToListen, value => value === data.value) !== -1)\r\n            ) {\r\n              const value = storeForm[data.value] ? storeForm[data.value] : 'None';\r\n              const isArray = value.constructor === Array;\r\n\r\n              let displayValue = isArray ? [...value] : value;\r\n              if (data.aggregateDesc && isArray && displayValue.length > 1) {\r\n                displayValue = `${displayValue.length} ${data.aggregateDesc}`;\r\n              }\r\n\r\n              if (data.extra === 'cost_simplify') {\r\n                displayValue = simplifyCost(value);\r\n              }\r\n\r\n              const jsx = (\r\n                <div key={`detail-${index}`}>\r\n                  <span className=\"detail-value\">\r\n                    {displayValue}\r\n                    {\r\n                      isArray && displayValue.length > 1 ?\r\n                        <div\r\n                          className=\"tooltip-button\"\r\n                          onMouseEnter={() => this.setState({\r\n                            toolTipData: value,\r\n                          })}\r\n                          onMouseMove={(event) => {\r\n                            speechScroll.handleInsurerHover(event);\r\n                          }}\r\n                        >\r\n                          <p>i</p>\r\n                        </div>\r\n                      :\r\n                        null\r\n                    }\r\n                  </span>\r\n                </div>\r\n              );\r\n\r\n              result.push(jsx);\r\n            }\r\n\r\n            return result;\r\n          }, [])\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderSpeechScrollList() {\r\n    const { toolTipData } = this.state;\r\n    return _.map(toolTipData, (data, index) => <p className=\"tooltip-text\" key={`tooptip-${index}`}>{data}</p>);\r\n  }\r\n\r\n  renderEditButton() {\r\n    /* if (!storeForm) {\r\n      return null;\r\n    } */\r\n\r\n    return (\r\n      <div\r\n        className=\"edit-container\"\r\n        role=\"button\"\r\n        tabIndex={-1}\r\n        onKeyDown={() => {}}\r\n        onClick={() => {\r\n          this.popupRef.openPopup();\r\n        }}\r\n      >\r\n        <img src={EditButton} alt=\"EditButton.svg\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { submitCallback } = this.props;\r\n\r\n    return (\r\n      <div className=\"change-form-container\">\r\n        <div className=\"edit-detail-container\">\r\n          {this.renderHeader()}\r\n          <div className=\"edit-detail-inner-container\">\r\n            {this.renderDetailLabels()}\r\n            {this.renderDetailValues()}\r\n          </div>\r\n          {this.renderEditButton()}\r\n        </div>\r\n        <SpeechScroll\r\n          ref={node => !this.state.speechScroll && this.setState({ speechScroll: node })}\r\n        >\r\n          {this.renderSpeechScrollList()}\r\n        </SpeechScroll>\r\n        <Popup ref={(r) => { this.popupRef = r; }}>\r\n          {React.cloneElement(this.props.children, {\r\n            submitCallback,\r\n          })}\r\n        </Popup>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nChangeInitialFormData.defaultProps = {\r\n  submitCallback: null,\r\n  conditions: null,\r\n  headerValue: null,\r\n};\r\n\r\nChangeInitialFormData.propTypes = {\r\n  valuesToListen: PropTypes.array.isRequired,\r\n  storeForm: PropTypes.object.isRequired,\r\n  isEditSubmitted: PropTypes.bool.isRequired,\r\n  resetSubmit: PropTypes.func.isRequired,\r\n  submitCallback: PropTypes.func,\r\n  conditions: PropTypes.object,\r\n  headerValue: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  storeForm: getFormValues(ownProps.form)(state),\r\n  isEditSubmitted: state.editForm.isEditSubmitted,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  undoFormChange: (form, key, value) => {\r\n    dispatch(change(form, key, value));\r\n  },\r\n  resetSubmit: () => {\r\n    dispatch(resetSubmitStatus());\r\n  },\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ChangeInitialFormData);\r\n","module.exports = __webpack_public_path__ + \"static/media/Avatar.95378d46.svg\";","/**\r\n * Slider.js\r\n * Selection with dynamic content\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport document from 'global/document';\r\nimport window from 'global/window';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { Field, getFormValues } from 'redux-form';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport _ from 'lodash';\r\n\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\nimport DropDownV2 from '../DropDown/DropDownV2';\r\n\r\nimport './Slider.scss';\r\n\r\nconst SLIDERSTATE = {\r\n  ONIDLE: 0,\r\n  ONDOWN: 1,\r\n  ONUP: 2,\r\n};\r\n\r\n/**\r\n * Custom Selection Class\r\n */\r\nclass Slider extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const {\r\n      storeForm,\r\n      inputList,\r\n      name,\r\n      formState,\r\n      formStateList,\r\n    } = nextProps;\r\n\r\n    const { activeIndex } = prevState;\r\n\r\n    let indexToChange = null;\r\n    if (storeForm) {\r\n      const selectedTabString = storeForm[name];\r\n      const selectedTabIndex = inputList.indexOf(selectedTabString);\r\n      if (selectedTabIndex !== -1 && selectedTabIndex !== activeIndex) {\r\n        indexToChange = selectedTabIndex;\r\n      }\r\n    }\r\n\r\n    if (formState) {\r\n      const formStateIndex = _.findIndex(formStateList, listState => listState.state === formState);\r\n      if (formStateIndex !== activeIndex) {\r\n        indexToChange = formStateIndex;\r\n      }\r\n    }\r\n\r\n    if (indexToChange !== null) {\r\n      const len = inputList.length - 1;\r\n      const newWidth = indexToChange / len * 100;\r\n\r\n      return ({\r\n        activeIndex: indexToChange,\r\n        sliderWidth: newWidth,\r\n      });\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      sliderWidth: 0,\r\n      sliderState: SLIDERSTATE.ONIDLE,\r\n      activeIndex: 0,\r\n      isUseDropDown: false,\r\n      marginTop: 60,\r\n    };\r\n\r\n    this.renderKnobs = this.renderKnobs.bind(this);\r\n    this.renderSummary = this.renderSummary.bind(this);\r\n\r\n    this.handleResize = this.handleResize.bind(this);\r\n\r\n    this.handleSliderDown = this.handleSliderDown.bind(this);\r\n    this.handleSliderMove = this.handleSliderMove.bind(this);\r\n    this.handleSliderUp = this.handleSliderUp.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('mousemove', this.handleSliderMove);\r\n    document.addEventListener('mouseup', this.handleSliderUp);\r\n    window.addEventListener('resize', this.handleResize);\r\n\r\n    const {\r\n      storeForm,\r\n      name,\r\n      change,\r\n      inputList,\r\n      isProductSlider,\r\n    } = this.props;\r\n\r\n    if (!isProductSlider && !(storeForm && storeForm[name])) {\r\n      change(name, inputList[0]);\r\n    }\r\n\r\n    this.handleResize();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('mousemove', this.handleSliderMove);\r\n    document.removeEventListener('mouseup', this.handleSliderUp);\r\n    window.removeEventListener('resize', this.handleResize);\r\n  }\r\n\r\n  handleResize() {\r\n    const { hideWidth, isProductSlider } = this.props;\r\n    if (!isProductSlider && hideWidth > 0) {\r\n      const isDrop = window.innerWidth <= hideWidth;\r\n      this.setState({\r\n        isUseDropDown: isDrop,\r\n        marginTop: isDrop ? 0 : 60,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSliderDown() {\r\n    const { sliderState } = this.state;\r\n\r\n    if (sliderState !== SLIDERSTATE.ONDOWN) {\r\n      this.setState({\r\n        sliderState: SLIDERSTATE.ONDOWN,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSliderMove(event) {\r\n    const { sliderState } = this.state;\r\n\r\n    if (sliderState === SLIDERSTATE.ONDOWN) {\r\n      const rect = this.sliderStart.getBoundingClientRect();\r\n      const position = Math.max(0, Math.min(event.clientX - rect.x - 5, rect.width)) / rect.width * 100;\r\n      this.setState({\r\n        sliderWidth: position,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSliderUp() {\r\n    this.handleClick();\r\n  }\r\n\r\n  handleClick(index = null) {\r\n    const { inputList, isProductSlider } = this.props;\r\n\r\n    const { sliderWidth } = this.state;\r\n    const len = inputList.length - 1;\r\n    const indexToUse = this.handleProductSlider(index === null ? Math.round(sliderWidth / 100 * len) : index);\r\n    const newWidth = indexToUse / len * 100;\r\n\r\n    if (!isProductSlider) {\r\n      const {\r\n        name,\r\n        change,\r\n      } = this.props;\r\n\r\n      change(name, inputList[indexToUse]);\r\n    }\r\n\r\n    this.setState({\r\n      sliderState: SLIDERSTATE.IDLE,\r\n      sliderWidth: newWidth,\r\n      activeIndex: indexToUse,\r\n    });\r\n\r\n    if (inputList[indexToUse].callback) {\r\n      inputList[indexToUse].callback();\r\n    }\r\n  }\r\n\r\n  handleProductSlider(indexToUse) {\r\n    const { formState, formStateList } = this.props;\r\n    if (!formState) {\r\n      return indexToUse;\r\n    }\r\n\r\n    const formStateIndex = _.findIndex(formStateList, listState => listState.state === formState);\r\n    const isValidSelection = indexToUse < formStateIndex;\r\n    if (isValidSelection && formStateList[indexToUse].callback) {\r\n      formStateList[indexToUse].callback(formState);\r\n    }\r\n\r\n    return isValidSelection ? indexToUse : formStateIndex;\r\n  }\r\n\r\n  renderKnobs() {\r\n    const { activeIndex } = this.state;\r\n    const { inputList, isProductSlider, displayList } = this.props;\r\n\r\n    const inputLength = inputList.length - 1;\r\n    return _.map(inputList, (data, index) => {\r\n      const leftOffset = index / inputLength * 100;\r\n      const isProductPassedPage = isProductSlider && index <= activeIndex;\r\n      let activeStyle = '';\r\n      if (isProductPassedPage || (!isProductSlider && index === activeIndex)) {\r\n        activeStyle = 'desc-active';\r\n      }\r\n      const sliderStyle = isProductPassedPage ? 'knob-done' : 'knob-default';\r\n      const indexToUse = index;\r\n      const dataToUse = displayList && displayList[index] ? displayList[index] : data;\r\n\r\n      return (\r\n        <button\r\n          key={data}\r\n          tabIndex={-1}\r\n          className={`knob ${sliderStyle}`}\r\n          style={{ left: `${leftOffset}%` }}\r\n          onClick={(e) => { e.preventDefault(); this.handleClick(indexToUse); }}\r\n          onKeyDown={() => {}}\r\n        >\r\n          <p className={`${activeStyle} desc`}>\r\n            {dataToUse}\r\n          </p>\r\n        </button>\r\n      );\r\n    });\r\n  }\r\n\r\n  renderSummary() {\r\n    const {\r\n      activeIndex,\r\n    } = this.state;\r\n\r\n    const {\r\n      inputList,\r\n      prefix,\r\n      suffix,\r\n      isProductSlider,\r\n      displayList,\r\n    } = this.props;\r\n\r\n    if (!isProductSlider) {\r\n      const value = inputList[activeIndex];\r\n      const valueToUse = displayList && displayList[activeIndex] ? displayList[activeIndex] : value;\r\n\r\n      return (\r\n        <div className=\"slider-summary-container\">\r\n          {\r\n            prefix ?\r\n              <span className=\"prefix-suffix\">{`${prefix} `}</span>\r\n            :\r\n              null\r\n          }\r\n          <span className=\"value\">{valueToUse}</span>\r\n          {\r\n            suffix ?\r\n              <span className=\"prefix-suffix\">{` ${suffix}`}</span>\r\n            :\r\n              null\r\n          }\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      sliderWidth,\r\n      isUseDropDown,\r\n      marginTop,\r\n    } = this.state;\r\n\r\n    const {\r\n      name,\r\n      desc,\r\n      form,\r\n      zIndex,\r\n      change,\r\n      inputList,\r\n      extraInfo,\r\n      isProductSlider,\r\n      maxWidth,\r\n      errorString,\r\n    } = this.props;\r\n\r\n    const knobColor1 = isProductSlider ? 'white-knob' : 'color-knob';\r\n    const knobColor2 = isProductSlider ? 'color-knob' : 'white-knob';\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        desc={desc}\r\n        ref={node => (this.formParent = node)}\r\n        extraInfo={extraInfo}\r\n        errorString={errorString}\r\n      >\r\n        <Fragment>\r\n          {this.renderSummary()}\r\n          <div\r\n            className=\"slider-container\"\r\n            style={{ marginTop, maxWidth }}\r\n          >\r\n            {\r\n              isUseDropDown ?\r\n                <DropDownV2\r\n                  form={form}\r\n                  change={change}\r\n                  name={name}\r\n                  placeholderString=\"Enter or select your destinations\"\r\n                  dropList={inputList}\r\n                  size=\"medium\"\r\n                  zIndex={zIndex}\r\n                  isDisableTyping\r\n                />\r\n              :\r\n                <Fragment>\r\n                  <div\r\n                    className=\"line\"\r\n                    ref={node => this.sliderStart = node}\r\n                  />\r\n                  <div\r\n                    className=\"line-green\"\r\n                    style={{ width: `${sliderWidth}%` }}\r\n                  />\r\n                  <div\r\n                    className=\"knob-container\"\r\n                  >\r\n                    {this.renderKnobs()}\r\n                  </div>\r\n                  <div\r\n                    className=\"knob-container\"\r\n                  >\r\n                    <button\r\n                      tabIndex={0}\r\n                      className={`slider-knob ${knobColor1}`}\r\n                      ref={node => this.slider = node}\r\n                      onMouseDown={this.handleSliderDown}\r\n                      onClick={e => e.preventDefault()}\r\n                      style={{ left: `${sliderWidth}%` }}\r\n                    >\r\n                      <div className={`inner ${knobColor2}`} />\r\n                    </button>\r\n                    {\r\n                      isProductSlider ?\r\n                        null\r\n                      :\r\n                        <Field name={name} component={() => null} />\r\n                    }\r\n                  </div>\r\n                </Fragment>\r\n            }\r\n          </div>\r\n        </Fragment>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nSlider.defaultProps = {\r\n  desc: null,\r\n  hideWidth: 0,\r\n  prefix: null,\r\n  suffix: null,\r\n  extraInfo: null,\r\n  isProductSlider: false,\r\n  name: null,\r\n  zIndex: 0,\r\n  change: null,\r\n  storeForm: null,\r\n  form: null,\r\n  maxWidth: '100%',\r\n  errorString: null,\r\n  formState: null,\r\n  formStateList: null,\r\n  displayList: null,\r\n};\r\n\r\nSlider.propTypes = {\r\n  isProductSlider: PropTypes.bool,\r\n  inputList: PropTypes.array.isRequired,\r\n  name: PropTypes.string,\r\n  zIndex: PropTypes.number,\r\n  change: PropTypes.func,\r\n  desc: PropTypes.string,\r\n  storeForm: PropTypes.object,\r\n  hideWidth: PropTypes.number,\r\n  form: PropTypes.string,\r\n  prefix: PropTypes.string,\r\n  suffix: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  maxWidth: PropTypes.string,\r\n  errorString: PropTypes.string,\r\n  formState: PropTypes.number,\r\n  formStateList: PropTypes.array,\r\n  displayList: PropTypes.array,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  storeForm: (getFormValues(ownProps.form)(state)),\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Slider);\r\n","module.exports = __webpack_public_path__ + \"static/media/Tick.02ce5aca.svg\";","module.exports = __webpack_public_path__ + \"static/media/Dollar.962423c9.svg\";","module.exports = __webpack_public_path__ + \"static/media/Umbrella.d081f752.svg\";","/**\r\n * CompareViewTableAccordion.js\r\n * Accordion view for table in compare view\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport window from 'global/window';\r\nimport React, { Component } from 'react';\r\nimport { Collapse, CardBody, Card } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Arrow from 'assets/images/forms/arrow.svg';\r\n\r\nclass CompareViewTableAccordion extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isOpened: false,\r\n      height: 0,\r\n    };\r\n\r\n    this.recursiveUpdate = this.recursiveUpdate.bind(this);\r\n    this.handleResize = this.handleResize.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('resize', this.handleResize);\r\n    this.handleResize();\r\n  }\r\n\r\n  /* shouldComponentUpdate(nextProps, nextState) {\r\n    return nextState !== this.state;\r\n  } */\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.handleResize);\r\n  }\r\n\r\n  handleResize() {\r\n    this.setState({\r\n      height: this.accordion.children[2].children[0].offsetHeight,\r\n    });\r\n  }\r\n\r\n  recursiveUpdate(level, max) {\r\n    if (level < max) {\r\n      const { updateTabHeight } = this.props;\r\n      setTimeout(() => { updateTabHeight(); this.recursiveUpdate(level + 1, max); }, 200);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { isOpened, height } = this.state;\r\n    const {\r\n      bgStyle,\r\n      title,\r\n      description,\r\n      updateTabHeight,\r\n      firstStyle,\r\n      lastStyle,\r\n    } = this.props;\r\n    const rotateStyle = isOpened ? '180deg' : '0deg';\r\n\r\n    return (\r\n      <div className=\"info-accordian-container\" ref={node => this.accordion = node}>\r\n        <div\r\n          role=\"button\"\r\n          tabIndex={-1}\r\n          onKeyDown={() => {}}\r\n          className={`desc-accordion-container ${bgStyle} ${firstStyle} ${lastStyle}`}\r\n          onClick={() => {\r\n            this.setState({ isOpened: !isOpened });\r\n            if (!isOpened) {\r\n              updateTabHeight(height);\r\n            } else {\r\n              updateTabHeight(-height);\r\n            }\r\n          }}\r\n        >\r\n          <p className=\"title\">{title}</p>\r\n          <p className=\"desc\">{description}</p>\r\n          <div className=\"arrow-container\">\r\n            <img src={Arrow} alt=\"Arrow.svg\" style={{ transform: `rotate(${rotateStyle})` }} />\r\n          </div>\r\n        </div>\r\n        <Collapse isOpen={isOpened}>\r\n          <Card>\r\n            <CardBody>\r\n              {this.props.children}\r\n            </CardBody>\r\n          </Card>\r\n        </Collapse>\r\n        <div className=\"temp-container\">\r\n          <Collapse isOpen={true}>\r\n            <Card>\r\n              <CardBody>\r\n                {this.props.children}\r\n              </CardBody>\r\n            </Card>\r\n          </Collapse>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nCompareViewTableAccordion.defaultProps = {\r\n  updateTabHeight: null,\r\n  firstStyle: '',\r\n  lastStyle: '',\r\n};\r\n\r\nCompareViewTableAccordion.propTypes = {\r\n  bgStyle: PropTypes.string.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  description: PropTypes.string.isRequired,\r\n  updateTabHeight: PropTypes.func,\r\n  firstStyle: PropTypes.string,\r\n  lastStyle: PropTypes.string,\r\n};\r\n\r\n\r\nexport default CompareViewTableAccordion;\r\n","/**\r\n * CompareViewTable.js\r\n * Renders the table view in compare view.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Tick from 'assets/images/common/Tick.svg';\r\nimport Cross from 'assets/images/forms/cross.svg';\r\n\r\nimport CompareViewTableAccordion from './CompareViewTableAccordion';\r\nimport './CompareView.scss';\r\n\r\nclass CompareViewTable extends Component {\r\n  // Recursive function to handle normal rows or dropdown rows\r\n  // If dropdown, it will recursively render the contents in the dropdown using this\r\n  // same function\r\n  renderTable(data, productChangable, width, updateTabHeight, disclaimer = null) {\r\n    const itemBorderStyle = productChangable ? 'item-border' : '';\r\n    const infoContainerStyle = productChangable ? 'info-container-border' : '';\r\n\r\n    const isValidDisclaimer = disclaimer && _.reduce(disclaimer.targets, (result, target) => (\r\n      target || result\r\n    ), false);\r\n    const arrayToMap = isValidDisclaimer ? _.union(data, [disclaimer]) : data;\r\n\r\n    return _.map(arrayToMap, (content, idx) => {\r\n      const bgStyle = idx % 2 ? 'white' : 'green';\r\n\r\n      if (content.dropdown) {\r\n        return (\r\n          <CompareViewTableAccordion\r\n            key={`${content.title}${idx}`}\r\n            bgStyle={bgStyle}\r\n            title={content.title}\r\n            description={content.description}\r\n            updateTabHeight={updateTabHeight}\r\n          >\r\n            {this.renderTable(content.subContent, productChangable, width)}\r\n          </CompareViewTableAccordion>\r\n        );\r\n      }\r\n\r\n      const subTitle = content.sub_title ? <p className=\"desc title-desc\">{_.startCase(content.sub_title)}</p> : null;\r\n      return (\r\n        <div className=\"info-container\" key={`${content.title}${idx}`}>\r\n          {\r\n            content.title ?\r\n              <div className={`desc-resp-container d-flex d-md-none ${bgStyle} ${infoContainerStyle}`}>\r\n                <p className=\"title\">{content.title}</p>\r\n                {subTitle}\r\n              </div>\r\n            :\r\n              null\r\n          }\r\n          <div className={`item-container ${bgStyle} ${infoContainerStyle}`}>\r\n            <div className=\"d-none d-md-flex item-desc desc-width\">\r\n              <p className=\"title\">{content.title}</p>\r\n              {subTitle}\r\n            </div>\r\n            <div className=\"category-resp-container\">\r\n              {\r\n                _.map(content.targets, (target, index) => {\r\n                  if (!target) {\r\n                    return (\r\n                      <div\r\n                        key={`${target}${index}`}\r\n                        className={`item ${itemBorderStyle}`}\r\n                        style={{ width }}\r\n                      >\r\n                        <div className=\"item-inner\">\r\n                          N/A\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  }\r\n\r\n                  const isDisclaimer = isValidDisclaimer && idx === arrayToMap.length - 1;\r\n                  const paddingStyle = isDisclaimer ? 'no-padding' : '';\r\n\r\n                  let description = null;\r\n                  if (target.description === 'YES') {\r\n                    description = <img className=\"tick\" src={Tick} alt=\"Tick.svg\" />;\r\n                  } else if (target.description === 'NO') {\r\n                    description = <img className=\"tick\" src={Cross} alt=\"cross.svg\" />;\r\n                  }\r\n\r\n                  return (\r\n                    <div\r\n                      key={`${target.value}${index}`}\r\n                      className={`item ${itemBorderStyle} ${paddingStyle}`}\r\n                      style={{ width }}\r\n                    >\r\n                      <div className=\"item-inner\">\r\n                        {\r\n                          target.value === 'Covered' ?\r\n                            <img className=\"tick\" src={Tick} alt=\"Tick.svg\" />\r\n                          :\r\n                          target.value\r\n                        }\r\n                        {\r\n                          description || <p className=\"desc\">{target.description}</p>\r\n                        }\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      data,\r\n      disclaimer,\r\n      productChangable,\r\n      width,\r\n      updateTabHeight,\r\n    } = this.props;\r\n\r\n    if (!data) {\r\n      return null;\r\n    }\r\n\r\n    return this.renderTable(data.content, productChangable, width, updateTabHeight, disclaimer);\r\n  }\r\n}\r\n\r\nCompareViewTable.defaultProps = {\r\n  disclaimer: null,\r\n  updateTabHeight: null,\r\n};\r\n\r\nCompareViewTable.propTypes = {\r\n  data: PropTypes.object.isRequired,\r\n  productChangable: PropTypes.bool.isRequired,\r\n  width: PropTypes.string.isRequired,\r\n  disclaimer: PropTypes.object,\r\n  updateTabHeight: PropTypes.func,\r\n};\r\n\r\n\r\nexport default CompareViewTable;\r\n","/**\r\n * CompareView.js\r\n *\r\n * - The Compare view\r\n * - 2 modes, products changable or just fixed comparaison.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport $ from 'jquery';\r\nimport window from 'global/window';\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n// import EditButton from 'assets/images/forms/EditButton.svg';\r\nimport Logos from 'assets/images/InsurerLogos';\r\nimport TabView from '../TabView/TabView';\r\nimport Accordion from '../Accordion/Accordion';\r\nimport Button from '../../FormsV3/Button/Button';\r\nimport CompareViewTable from './CompareViewTable';\r\nimport SpeechScroll from '../SpeechScroll/SpeechScroll';\r\nimport RestrictionsPopup from '../RestrictionsPopup/RestrictionsPopup';\r\n\r\nimport { setHoveredInsurerIndex } from '../../../actions/insuranceActions';\r\nimport { setRestrictionPopup } from '../../../actions/restrictionsActions';\r\nimport { ampTag } from '../../../lib/tagFunctions';\r\nimport './CompareView.scss';\r\nimport '../../Motor/MotorCommon.scss';\r\n\r\nclass CompareView extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const { data, currentTab } = nextProps;\r\n    if (data !== prevState.data || currentTab !== prevState.currentTab) {\r\n      return ({\r\n        data,\r\n        currentTab,\r\n      });\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { data, currentTab/* , forceFixedOnDesktop */ } = this.props;\r\n    // isFixed - Used to determine sticky headers in responsive view\r\n    // categoryWidth - Used to determine sticky headers in responsive view\r\n    this.state = {\r\n      isFixed: false, // forceFixedOnDesktop,\r\n      categoryWidth: `${100 / 3}%`,\r\n      data,\r\n      currentTab,\r\n    };\r\n\r\n    this.handleScroll = this.handleScroll.bind(this);\r\n    this.handleOnClick = this.handleOnClick.bind(this);\r\n\r\n    this.renderTable = this.renderTable.bind(this);\r\n    this.renderLists = this.renderLists.bind(this);\r\n\r\n    this.renderHeader = this.renderHeader.bind(this);\r\n    this.renderEditForm = this.renderEditForm.bind(this);\r\n    this.renderEditableHeader = this.renderEditableHeader.bind(this);\r\n    this.renderBottomHeader = this.renderBottomHeader.bind(this);\r\n\r\n    this.renderSpeechScrollList = this.renderSpeechScrollList.bind(this);\r\n    this.renderNonProductChangable = this.renderNonProductChangable.bind(this);\r\n    this.renderProductChangable = this.renderProductChangable.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    // window.addEventListener('scroll', this.handleScroll);\r\n    window.scrollTo(0, 0);\r\n\r\n    if ($('#intercom-container')) {\r\n      $('#intercom-container').hide();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if ($('#intercom-container')) {\r\n      $('#intercom-container').show();\r\n    }\r\n\r\n    // window.removeEventListener('scroll', this.handleScroll);\r\n  }\r\n\r\n  handleScroll() {\r\n    const { isFixed } = this.state;\r\n    const { forceFixedOnDesktop } = this.props;\r\n    if (!forceFixedOnDesktop && window.innerWidth > 576) {\r\n      if (isFixed) {\r\n        this.setState({\r\n          isFixed: false,\r\n        });\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (this.catMarker) {\r\n      const scrollPos = this.catMarker.getBoundingClientRect().top;\r\n\r\n      let isNowFixed = false;\r\n\r\n      if (this.bottomHeader) {\r\n        const markerPosForBottom = window.innerHeight - this.bottomHeader.offsetHeight;\r\n        isNowFixed = scrollPos > markerPosForBottom;\r\n      } else {\r\n        isNowFixed = scrollPos <= 60;\r\n      }\r\n\r\n      // console.log(scrollPos);\r\n      if (isNowFixed !== isFixed) {\r\n        this.setState({\r\n          isFixed: isNowFixed,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  handleOnClick(selectedInsurer, clickCallback, doTag) {\r\n    const { category } = this.props;\r\n    if (doTag) {\r\n      doTag();\r\n    }\r\n\r\n    if (selectedInsurer.restrictions) {\r\n      ampTag(`${_.startCase(category)}RestrictionsS`);\r\n      this.props.setRestrictionPopup({\r\n        values: selectedInsurer.restrictions,\r\n        clickCallback,\r\n        doAcceptTag: () => ampTag(`${_.startCase(category)}AcceptA`),\r\n      });\r\n      return;\r\n    }\r\n\r\n    clickCallback();\r\n  }\r\n\r\n  renderHeader() {\r\n    const {\r\n      categoryWidth,\r\n      data,\r\n      currentTab,\r\n    } = this.state;\r\n\r\n    const { buttonDesc, category } = this.props;\r\n\r\n    const currPlanData = data.plans[currentTab];\r\n    if (!data.policyTypes || !currPlanData || !currPlanData.premium) {\r\n      return null;\r\n    }\r\n\r\n    let isPriceUsed = false;\r\n    return _.reduce(data.policyTypes, (result, type, index) => {\r\n      const leftStyle = index !== 0 ? 'border-left' : '';\r\n      const premiumData = currPlanData.premium[index];\r\n\r\n      if (!premiumData) {\r\n        result.push(<div key={`header-${index}`} className={`category-container ${leftStyle}`} style={{ width: categoryWidth }} />);\r\n      }\r\n\r\n      const isPrice = premiumData.price && premiumData.price !== premiumData.net_price;\r\n      const price = isPrice ? `$${premiumData.price.toFixed(2)}` : '';\r\n\r\n      isPriceUsed = isPriceUsed || isPrice;\r\n\r\n      const buttonText = buttonDesc || (premiumData.net_price ? 'Buy Now' : 'Enquire');\r\n\r\n      const selectedInsurer = 'default' in data.plans ? data.selectedInsurers[0] : data.selectedInsurers[index];\r\n\r\n      const cashbackProduct = premiumData.cashback && premiumData.cashback > 0 ? `Earn ${(premiumData.cashback * premiumData.net_price).toFixed(2)} cashback` : null;\r\n\r\n      let cashbackText = null;\r\n      if (category === 'life' || category === 'endowment' || category === 'retirement') {\r\n        cashbackText = 'Get $5 Cashback!';\r\n      } else if (category === 'travel' || category === 'motor' || category === 'pa' || category === 'pet') {\r\n        cashbackText = 'Get 5% Cashback!';\r\n      }\r\n\r\n      const cashbackJSX = cashbackProduct ? (\r\n        <p className=\"cashback\">{cashbackProduct}</p>\r\n      ) : (\r\n        <a\r\n          className=\"cashback cashback-link\"\r\n          href=\"/faq\"\r\n          target=\"__blank\"\r\n        >\r\n          {cashbackText}\r\n        </a>\r\n      );\r\n\r\n\r\n      const renderData = (\r\n        <div key={`header-${index}`} className={`category-container top-header ${leftStyle}`} style={{ width: categoryWidth }}>\r\n          <p className=\"category\">{_.startCase(type)}</p>\r\n          <p className=\"sub-category\">{premiumData.frequency}</p>\r\n          <p className=\"cost\">{`$${premiumData.net_price.toFixed(2)}`}</p>\r\n          {\r\n            isPriceUsed ?\r\n              <p className=\"bottom-discount\">{price}</p>\r\n            :\r\n              null\r\n          }\r\n          <div className=\"buy-button\">\r\n            <Button\r\n              variant=\"medium-flat-green\"\r\n              width={165}\r\n              height={48}\r\n              onClick={() => this.handleOnClick(selectedInsurer, premiumData.onClick, premiumData.doTag)}\r\n            >\r\n              <p>{buttonText}</p>\r\n            </Button>\r\n            {\r\n              cashbackProduct || cashbackText ?\r\n                cashbackJSX\r\n              :\r\n                <p className=\"cashback\" />\r\n            }\r\n          </div>\r\n        </div>\r\n      );\r\n\r\n      result.push(renderData);\r\n      return result;\r\n    }, []);\r\n  }\r\n\r\n  renderEditForm() {\r\n    const { editForm } = this.props;\r\n    if (editForm) {\r\n      return (\r\n        <div className=\"desc-width overview edit-form\">\r\n          {editForm}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return <div className=\"desc-width overview d-none d-sm-flex\" />;\r\n  }\r\n\r\n  renderEditableHeader() {\r\n    const {\r\n      categoryWidth,\r\n      speechScroll,\r\n      data,\r\n    } = this.state;\r\n\r\n    const { setHoveredIndex, hoveredIndex } = this.props;\r\n\r\n    if (!speechScroll) {\r\n      return null;\r\n    }\r\n\r\n    let policyType = 'default';\r\n    if (data.tripType) {\r\n      policyType = data.tripType === 'Single Trip' ? 'single' : 'annual';\r\n    }\r\n    const editableHeaders = _.map(data.selectedInsurers, (insurer) => {\r\n      if (!insurer) {\r\n        return null;\r\n      }\r\n\r\n      const matchedInsurer = _.find(data.validInsurers, insur => insur.insurer_slug === insurer.insurerSlug);\r\n      let discountData = null;\r\n      try {\r\n        const discountRawData = _.find(data.selectedInsurers, i => i.insurerSlug === insurer.insurerSlug);\r\n        if (discountRawData) {\r\n          discountData = discountRawData.discount[policyType];\r\n        }\r\n      } catch (error) {\r\n        // eslint-disable-next-line\r\n      }\r\n      // const discountData = matchedInsurer.discount_data ? matchedInsurer.discount_data[policyType] : null;\r\n      const discount = discountData && discountData.amount > 0 ? discountData.display : null;\r\n      // try {\r\n      //   discount = discount.toFixed(2);\r\n      // } catch (error) {\r\n      //   console.log('Discount to fixed failed!');\r\n      // }\r\n      const discountText = discount ? `UP TO ${discount} OFF` : null;\r\n\r\n      return ({\r\n        insurerSlug: matchedInsurer.insurer_slug,\r\n        insurer: matchedInsurer.insurer_name,\r\n        product: matchedInsurer.insurance_name,\r\n        discount: discountText,\r\n      });\r\n    });\r\n\r\n    return _.map(editableHeaders, (header, index) => {\r\n      const inurerLogoName = header ? `${header.insurer}Logo` : `empty-${index}`;\r\n      const noDiscountPadding = header && header.discount ? '' : 'no-discount';\r\n\r\n      return (\r\n        <div\r\n          key={inurerLogoName}\r\n          className={`category-container product-changable-category ${noDiscountPadding}`}\r\n          style={{ width: categoryWidth }}\r\n        >\r\n          <button\r\n            className=\"edit-container\"\r\n            tabIndex={-1}\r\n            onClick={() => {\r\n\r\n            }}\r\n            onMouseMove={(event) => {\r\n              if (hoveredIndex !== index) {\r\n                setHoveredIndex(index);\r\n              }\r\n              speechScroll.handleInsurerHover(event);\r\n            }}\r\n          >\r\n            More Options\r\n          </button>\r\n          {\r\n            header ?\r\n              <Fragment>\r\n                <div className=\"insurer-container\">\r\n                  <img src={Logos[header.insurerSlug]} alt={`${inurerLogoName}.png`} />\r\n                </div>\r\n                <p className=\"product-text\">{header.product}</p>\r\n                {\r\n                  header.discount ?\r\n                    <div className=\"discount\">\r\n                      <p>{header.discount}</p>\r\n                    </div>\r\n                  :\r\n                    null\r\n                }\r\n              </Fragment>\r\n            :\r\n             null\r\n          }\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  renderBottomHeader() {\r\n    const {\r\n      categoryWidth,\r\n      data,\r\n      currentTab,\r\n    } = this.state;\r\n\r\n    const {\r\n      productChangable,\r\n      buttonDesc,\r\n      category,\r\n    } = this.props;\r\n\r\n    const currPlanData = data.plans[currentTab];\r\n    if (!currPlanData) {\r\n      return null;\r\n    }\r\n    const { premium } = currPlanData;\r\n    const isPriceExists = _.reduce(\r\n      premium, (result, header) => result || (header && header.net_price && (header.net_price !== header.price)),\r\n      false,\r\n    );\r\n\r\n    const headerList = _.map(premium, (header, index) => {\r\n      const leftStyle = productChangable ? 'line-border' : '';\r\n\r\n      if (!header) {\r\n        return (\r\n          <div\r\n            key={`cashback${index}`}\r\n            className={`category-container bottom-border na ${leftStyle}`}\r\n            style={{ width: categoryWidth }}\r\n          >\r\n            <p className=\"na-text\">N/A</p>\r\n          </div>\r\n        );\r\n      }\r\n\r\n      const netPrice = header.net_price ? `$${header.net_price.toFixed(2)}` : '';\r\n      const price = header.price ? header.price.toFixed(2) : '';\r\n\r\n      const discountPrice = netPrice && netPrice.toString() !== `$${price.toString()}` ? `$${price}` : '';\r\n      const buttonText = buttonDesc || (header.net_price ? 'Buy Now' : 'Enquire');\r\n\r\n      const cashbackProduct = header.cashback && header.net_price ? `Earn ${(header.cashback * header.net_price).toFixed(2)} cashback` : null;\r\n      let cashbackText = null;\r\n      if (category === 'life' || category === 'endowment' || category === 'retirement') {\r\n        cashbackText = 'Get $5 Cashback!';\r\n      } else if (category === 'travel' || category === 'motor' || category === 'pa' || category === 'pet') {\r\n        cashbackText = 'Get 5% Cashback!';\r\n      }\r\n\r\n      const cashbackJSX = cashbackProduct ? (\r\n        <p className=\"cashback\">{cashbackProduct}</p>\r\n      ) : (\r\n        <a\r\n          className=\"cashback cashback-link\"\r\n          href=\"/faq\"\r\n          target=\"__blank\"\r\n        >\r\n          {cashbackText}\r\n        </a>\r\n      );\r\n\r\n      return (\r\n        <div\r\n          key={`cashback${index}`}\r\n          className={`category-container bottom-border ${leftStyle}`}\r\n          style={{ width: categoryWidth }}\r\n        >\r\n          {\r\n            netPrice !== '' ?\r\n              <p className=\"bottom-cost\">{netPrice}</p>\r\n            :\r\n              null\r\n          }\r\n          {\r\n            isPriceExists ?\r\n              <p className=\"bottom-discount\">{discountPrice}</p>\r\n            :\r\n              null\r\n          }\r\n          {\r\n            header.life_frequency ?\r\n              <p className=\"extra-info\">{header.life_frequency}</p>\r\n            :\r\n              null\r\n          }\r\n          <div className=\"buy-button\">\r\n            <Button\r\n              variant=\"medium-flat-green\"\r\n              width={180}\r\n              height={48}\r\n              onClick={() => this.handleOnClick(data.selectedInsurers[index], header.onClick, header.doTag)}\r\n            >\r\n              <p>{buttonText}</p>\r\n            </Button>\r\n            {\r\n              cashbackText || cashbackProduct ?\r\n                cashbackJSX\r\n              :\r\n                null\r\n            }\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div className=\"info-container\">\r\n        <div className=\"category-container-bottom\">\r\n          <div className=\"desc-width bottom-overview bottom-border d-none d-md-flex\" />\r\n          <div className=\"category-resp-container\">\r\n            {headerList}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderLists(isMultiple) {\r\n    const { categoryWidth, data, currentTab } = this.state;\r\n\r\n    const {\r\n      productChangable,\r\n    } = this.props;\r\n\r\n    const currPlanData = data.plans[currentTab];\r\n    if (!currPlanData) {\r\n      return null;\r\n    }\r\n\r\n    if (isMultiple) {\r\n      return _.map(data.coverageTypes, (type, index) => (\r\n        <CompareViewTable\r\n          data={currPlanData.coverages[type]}\r\n          disclaimer={currPlanData.coverages.disclaimer}\r\n          productChangable={productChangable}\r\n          width={categoryWidth}\r\n          key={`${type}-${index}`}\r\n        />\r\n      ));\r\n    }\r\n    return (\r\n      <CompareViewTable\r\n        data={currPlanData.coverages.default}\r\n        disclaimer={currPlanData.coverages.disclaimer}\r\n        productChangable={productChangable}\r\n        width={categoryWidth}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderTable() {\r\n    const { data } = this.state;\r\n    const {\r\n      notAccordion,\r\n    } = this.props;\r\n\r\n    const tabs = _.map(data.coverageTypesDescs, tab => ({ desc: tab }));\r\n\r\n    if (tabs.length > 1) {\r\n      return (\r\n        <TabView\r\n          style={{ marginTop: 44, marginBottom: 34 }}\r\n          tabs={tabs}\r\n          autoHeight\r\n          setTriggerHeightUpdate={() => {\r\n            if (!notAccordion) {\r\n              this.accordion.setOpenCallback();\r\n            }\r\n          }}\r\n          name=\"overview-tab\"\r\n        >\r\n          {this.renderLists(true)}\r\n        </TabView>\r\n      );\r\n    }\r\n\r\n    return this.renderLists(false);\r\n  }\r\n\r\n  renderSpeechScrollList() {\r\n    const { speechScroll, data } = this.state;\r\n    const { scrollPopUpCallback, hoveredIndex } = this.props;\r\n    if (!speechScroll) {\r\n      return null;\r\n    }\r\n\r\n    const validForSelection = _.reduce(data.validInsurers, (result, insurer) => {\r\n      const matchedCurrentIndex = _.findIndex(data.selectedInsurers, insur => insur && insur.productSlug === insurer.insurance_slug);\r\n      if (matchedCurrentIndex === -1) {\r\n        result.push(insurer);\r\n      }\r\n      return result;\r\n    }, []);\r\n\r\n    if (validForSelection.length === 0) {\r\n      return (\r\n        <button>\r\n          <p style={{ textAlign: 'center', flex: 1 }}>None</p>\r\n        </button>\r\n      );\r\n    }\r\n\r\n    let policyType = 'default';\r\n    if (data.tripType) {\r\n      policyType = data.tripType === 'Single Trip' ? 'single' : 'annual';\r\n    }\r\n    return _.map(validForSelection, (insurer, index) => {\r\n      const discountData = insurer.discount_data ? insurer.discount_data[policyType] : null;\r\n      const discount = discountData && discountData.amount > 0 ? discountData.display : null;\r\n\r\n      return (\r\n        <button\r\n          key={`data.insurer${index}`}\r\n          onClick={(event) => {\r\n            if (scrollPopUpCallback) scrollPopUpCallback(insurer, hoveredIndex);\r\n            speechScroll.handleInsurerBlur(event);\r\n          }}\r\n        >\r\n          <div className=\"insurer-container\">\r\n            <img src={Logos[insurer.insurer_slug]} alt={`${insurer.insurer_name}.png`} />\r\n          </div>\r\n          <p>{insurer.insurer_name}</p>\r\n          {\r\n            discount ?\r\n              <div className=\"popup-discount\">\r\n                <p className=\"up\">UP TO</p>\r\n                <div className=\"bottom\">\r\n                  <p className=\"bottom-left\">{discount.slice(0, discount.length - 1)}</p>\r\n                  <div className=\"bottom-right\">\r\n                    <p className=\"percent\">%</p>\r\n                    <p className=\"off\">OFF</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            :\r\n            null\r\n          }\r\n        </button>\r\n      );\r\n    });\r\n  }\r\n\r\n  renderNonProductChangable() {\r\n    const {\r\n      isFixed,\r\n    } = this.state;\r\n\r\n    const { notAccordion } = this.props;\r\n\r\n    const fixedCatStyle = isFixed ? 'category-resp-fixed-container' : 'category-resp-fixed-hidden-container';\r\n    const headerList = this.renderHeader();\r\n\r\n    return (\r\n      <Col className=\"overview-container\" xs={12}>\r\n        <Row className=\"detail-container\" noGutters>\r\n          <div className=\"desc-width overview d-none d-md-flex\">\r\n            <p className=\"overview-text\">Overview</p>\r\n          </div>\r\n          <div ref={node => (this.catMarker = node)} />\r\n          <div className={`category-resp-container ${fixedCatStyle}`}>\r\n            {headerList}\r\n          </div>\r\n          <div className=\"category-resp-container\">\r\n            {headerList}\r\n          </div>\r\n          {\r\n            notAccordion ?\r\n              <Fragment>\r\n                {this.renderTable()}\r\n              </Fragment>\r\n            :\r\n              <Accordion ref={node => this.accordion = node}>\r\n                {this.renderTable()}\r\n              </Accordion>\r\n          }\r\n        </Row>\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  renderProductChangable() {\r\n    const {\r\n      isFixed,\r\n    } = this.state;\r\n\r\n    const { notAccordion, className } = this.props;\r\n\r\n    const fixedCatStyle = isFixed ? 'category-resp-fixed-bottom-container' : 'category-resp-fixed-hidden-container';\r\n    const headerList = this.renderBottomHeader();\r\n\r\n    return (\r\n      <Col className={`overview-container  ${className}`} xs={12}>\r\n        <Row className=\"detail-not-changable-container\" noGutters>\r\n          {this.renderEditForm()}\r\n          <div className=\"category-resp-container\">\r\n            <SpeechScroll\r\n              offsetHeight={40}\r\n              ref={node => !this.state.speechScroll && this.setState({ speechScroll: node })}\r\n            >\r\n              {this.renderSpeechScrollList()}\r\n            </SpeechScroll>\r\n            {this.renderEditableHeader()}\r\n          </div>\r\n          {\r\n            notAccordion ?\r\n              <Fragment>\r\n                {this.renderTable()}\r\n                <div className=\"category-resp-container\" ref={node => this.bottomHeader = node}>\r\n                  {headerList}\r\n                  <div ref={node => (this.catMarker = node)} />\r\n                </div>\r\n              </Fragment>\r\n            :\r\n              <Accordion ref={node => this.accordion = node}>\r\n                {this.renderTable()}\r\n                <div className=\"category-resp-container\" ref={node => this.bottomHeader = node}>\r\n                  {headerList}\r\n                  <div ref={node => (this.catMarker = node)} />\r\n                </div>\r\n              </Accordion>\r\n          }\r\n          <div className={`category-resp-container ${fixedCatStyle}`}>\r\n            {headerList}\r\n          </div>\r\n        </Row>\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { productChangable } = this.props;\r\n    return (\r\n      <Fragment>\r\n        { productChangable ?\r\n          this.renderProductChangable()\r\n          :\r\n          this.renderNonProductChangable()\r\n        }\r\n        <RestrictionsPopup ref={node => this.resPopup = node} />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nCompareView.defaultProps = {\r\n  notAccordion: false,\r\n  productChangable: false,\r\n  className: '',\r\n  editForm: null,\r\n  scrollPopUpCallback: null,\r\n  currentTab: null,\r\n  hoveredIndex: 0,\r\n  buttonDesc: null,\r\n  forceFixedOnDesktop: false,\r\n  category: null,\r\n};\r\n\r\nCompareView.propTypes = {\r\n  data: PropTypes.object.isRequired,\r\n  notAccordion: PropTypes.bool,\r\n  productChangable: PropTypes.bool,\r\n  className: PropTypes.string,\r\n  editForm: PropTypes.object,\r\n  currentTab: PropTypes.string,\r\n  hoveredIndex: PropTypes.number,\r\n  scrollPopUpCallback: PropTypes.func,\r\n  setHoveredIndex: PropTypes.func.isRequired,\r\n  setRestrictionPopup: PropTypes.func.isRequired,\r\n  buttonDesc: PropTypes.string,\r\n  forceFixedOnDesktop: PropTypes.bool,\r\n  category: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  hoveredIndex: state.insurance.hoveredIndex,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setHoveredIndex: (index) => {\r\n    dispatch(setHoveredInsurerIndex(index));\r\n  },\r\n  setRestrictionPopup: (data) => {\r\n    dispatch(setRestrictionPopup(data));\r\n  },\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CompareView);\r\n","/**\r\n * MultiCompareInner.js\r\n * Multi Compare view with different insurers\r\n * Contains the main policy type tab view logic\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { Row } from 'reactstrap';\r\n\r\nimport TabView from '../../Templates/TabView/TabView';\r\nimport CompareView from '../../Templates/CompareView/CompareView';\r\nimport ChangeInitialFormData from '../../Templates/ChangeInitialFormData/ChangeInitialFormData';\r\n\r\nimport Enquiry from '../../Templates/Enquiry/Enquiry';\r\n\r\nimport { setPlanType, setSelectedIndex } from '../../../actions/compareActions';\r\n\r\n// The default tabs array\r\nconst resultToMatch = ['basic', 'essential', 'elite', 'default'];\r\n\r\nclass MultiCompareInner extends Component {\r\n  /**\r\n   * Lifecycle Method - getDerivedStateFromProps\r\n   */\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    // Goes here first before did mount\r\n    // Get new policy available policy types\r\n    if (nextProps.data.policyTypes !== prevState.policyTypes) {\r\n      return ({\r\n        policyTypes: nextProps.data.policyTypes,\r\n      });\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - constructor\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { data } = this.props;\r\n    // tabIndex - The current tab index in effect\r\n    // currentTab - The name of the current tab\r\n    // tabs - The tabs array data\r\n    // policyTypes - The possible policy types to display\r\n    this.state = {\r\n      tabIndex: 0,\r\n      currentTab: null,\r\n      tabs: null,\r\n      policyTypes: data.policyTypes,\r\n    };\r\n\r\n    this.handleTabClick = this.handleTabClick.bind(this);\r\n    this.renderTabs = this.renderTabs.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentDidMount\r\n   */\r\n  componentDidMount() {\r\n    // Render inital tabs\r\n    const tabs = this.renderTabs(null, true);\r\n    // Set initial plan type\r\n    this.props.setPlanType(_.lowerCase(tabs.currentTab));\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - shouldComponentUpdate\r\n   */\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    const { policyTypes, tabs, currentTab } = this.state;\r\n    const { data } = this.props;\r\n\r\n    // Render new tabs if policy types are changed\r\n    if (!_.isEqual(policyTypes, nextState.policyTypes)) {\r\n      this.renderTabs(nextState.policyTypes);\r\n    }\r\n\r\n    // Update only when tabs or data are updated\r\n    return tabs !== nextState.tabs ||\r\n          currentTab !== nextState.currentTab ||\r\n          data !== nextProps.data;\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentDidUpdate\r\n   */\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { tabs, tabIndex } = this.state;\r\n    const { selectedIndex, initialIndex } = this.props;\r\n\r\n    // If new tabs\r\n    if (tabs !== prevState.tabs) {\r\n      if (this.categoryTab && this.categoryTab.wrappedInstance) {\r\n        // If using back previous selected index and not the same state as local index\r\n        const isCameFromBackButton = selectedIndex && selectedIndex !== tabIndex;\r\n        // If this is the first time user enter compare view\r\n        const isFirstTime = selectedIndex === null && initialIndex;\r\n\r\n        if (isCameFromBackButton || isFirstTime) {\r\n          const currIncomingIndex = isCameFromBackButton ? selectedIndex : initialIndex;\r\n          // Check if previous selected index is still within range\r\n          const tabIndexToUse = currIncomingIndex < tabs.length ? currIncomingIndex : 0;\r\n          // Go to the tab and set new state;\r\n          this.categoryTab.wrappedInstance.goToIndex(tabIndexToUse, true);\r\n          this.setState({ tabIndex: tabIndexToUse });\r\n\r\n          // Set index to store\r\n          this.props.setSelectedIndex(tabIndexToUse);\r\n          return;\r\n        }\r\n\r\n        // This happens when tabs are not the same when changing form within\r\n        // compare view. It will try to go to the last selected plan type\r\n        this.categoryTab.wrappedInstance.goToIndex(tabIndex);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * When clicked on main tabs\r\n   *\r\n   * @param {string} type - Selected plan type\r\n   * @param {number} index - Tab index\r\n   */\r\n  handleTabClick(type, index) {\r\n    // Set current plan type\r\n    this.setState({\r\n      currentTab: type,\r\n    });\r\n\r\n    this.props.setPlanType(type);\r\n    this.props.setSelectedIndex(index);\r\n  }\r\n\r\n  /**\r\n   * Render Main tabs\r\n   *\r\n   * @param {array} policyTypes - The avaliable policy types\r\n   * @param {bool} isInitial - If is initial first time load\r\n   */\r\n  renderTabs(policyTypes = null, isInitial = false) {\r\n    const { policyTypes: oldPolicyTypes, currentTab } = this.state;\r\n    const { planImages } = this.props;\r\n\r\n    // Use new policy types if avaliable\r\n    const policyTypesToUse = policyTypes || oldPolicyTypes;\r\n\r\n    // The tab index\r\n    let index = 0;\r\n\r\n    // Match possible policy types to default types,\r\n    // with positioning in consideration\r\n    const tabs = _.reduce(resultToMatch, (result, type) => {\r\n      if (_.findIndex(policyTypesToUse, planType => planType === type) !== -1) {\r\n        const theIndex = index;\r\n        const image = planImages ? planImages[type] : null;\r\n        // Set desc, image, and onClick for the tab\r\n        result.push({\r\n          desc: _.startCase(type),\r\n          img: image,\r\n          onClick: () => {\r\n            this.handleTabClick(type, theIndex);\r\n          },\r\n        });\r\n        index += 1;\r\n      }\r\n      return result;\r\n    }, []);\r\n\r\n    // Default currenTab name is from first item\r\n    let tabInfo = { currentTab: _.lowerCase(tabs[0].desc) };\r\n\r\n    // If tabs is changed while navigating in compare view\r\n    if (!isInitial) {\r\n      // Try to find if the old tab name still exists in new one\r\n      const currentTabIndex = _.findIndex(tabs, tab => _.lowerCase(tab.desc) === currentTab);\r\n      // Use 0 if no longer exists\r\n      const tabIndexToUse = currentTabIndex !== -1 ? currentTabIndex : 0;\r\n      // New tab\r\n      const newTab = _.lowerCase(tabs[tabIndexToUse].desc);\r\n      // Set new tab info\r\n      tabInfo = {\r\n        tabIndex: tabIndexToUse,\r\n        currentTab: newTab,\r\n      };\r\n\r\n      // Set store data\r\n      this.props.setPlanType(newTab);\r\n      this.props.setSelectedIndex(tabIndexToUse);\r\n    }\r\n\r\n    // Return tabs\r\n    const result = {\r\n      ...tabInfo,\r\n      tabs,\r\n    };\r\n\r\n    this.setState(result);\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Render\r\n   */\r\n  render() {\r\n    const {\r\n      currentTab,\r\n      tabs,\r\n    } = this.state;\r\n\r\n    const {\r\n      data,\r\n      scrollPopUpCallback,\r\n      submitCallback,\r\n      editForm,\r\n      form,\r\n      buttonDesc,\r\n      forceFixedOnDesktop,\r\n      category,\r\n    } = this.props;\r\n\r\n    // console.log(plansData);\r\n    if (!data || !tabs || !currentTab) {\r\n      return null;\r\n    }\r\n\r\n    const tabStyle = currentTab === 'default' ? 'inner-form-no-tabs' : '';\r\n\r\n    return (\r\n      <Fragment>\r\n        <Row className={`inner-form-container ${tabStyle} inner-form-extra-padding`} noGutters>\r\n          <TabView\r\n            tabs={tabs}\r\n            isDataFadeOnly\r\n            isDisableDropdown\r\n            big\r\n            name={`${form}-tab`}\r\n            ref={node => this.categoryTab = node}\r\n          >\r\n            {[<CompareView\r\n              category={category}\r\n              key=\"overview\"\r\n              className=\"overview-container-padding\"\r\n              notAccordion\r\n              data={data}\r\n              currentTab={currentTab}\r\n              scrollPopUpCallback={scrollPopUpCallback}\r\n              productChangable\r\n              editForm={\r\n                <ChangeInitialFormData\r\n                  submitCallback={submitCallback}\r\n                  form={form}\r\n                  headerValue={editForm.headerValue}\r\n                  valuesToListen={editForm.valuesToListen}\r\n                  conditions={editForm.conditions}\r\n                >\r\n                  {editForm.editDetail}\r\n                </ChangeInitialFormData>\r\n              }\r\n              buttonDesc={buttonDesc}\r\n              forceFixedOnDesktop={forceFixedOnDesktop}\r\n            />]}\r\n          </TabView>\r\n          <Enquiry />\r\n        </Row>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nMultiCompareInner.defaultProps = {\r\n  initialIndex: 0,\r\n  selectedIndex: null,\r\n  data: null,\r\n  planImages: null,\r\n  buttonDesc: null,\r\n  forceFixedOnDesktop: false,\r\n  category: null,\r\n};\r\n\r\nMultiCompareInner.propTypes = {\r\n  initialIndex: PropTypes.number,\r\n  selectedIndex: PropTypes.number,\r\n  setSelectedIndex: PropTypes.func.isRequired,\r\n  setPlanType: PropTypes.func.isRequired,\r\n  data: PropTypes.object,\r\n  planImages: PropTypes.object,\r\n  scrollPopUpCallback: PropTypes.func.isRequired,\r\n  submitCallback: PropTypes.func.isRequired,\r\n  editForm: PropTypes.object.isRequired,\r\n  form: PropTypes.string.isRequired,\r\n  buttonDesc: PropTypes.string,\r\n  forceFixedOnDesktop: PropTypes.bool,\r\n  category: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  selectedIndex: state.compare.selectedIndex,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setSelectedIndex: (index) => {\r\n    dispatch(setSelectedIndex(index));\r\n  },\r\n  setPlanType: (type) => {\r\n    dispatch(setPlanType(type));\r\n  },\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MultiCompareInner);\r\n","/**\r\n * MultiCompareView.js\r\n * Multi Compare view with different insurers\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { parseData } from '../../../actions/insuranceActions';\r\nimport { setSelectedInsurers } from '../../../actions/compareActions';\r\nimport { setLoading, clearLoading } from '../../../actions/loadingScreenActions';\r\nimport { setRestrictionPopup } from '../../../actions/restrictionsActions';\r\nimport MultiCompareInner from './MultiCompareInner';\r\n\r\nclass MultiCompareView extends Component {\r\n  /**\r\n   * Lifecycle Method - getDerivedStateFromProps\r\n   */\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    try {\r\n      const {\r\n        currentInsurers,\r\n      } = prevState;\r\n\r\n      const {\r\n        plansData,\r\n        validInsurersList,\r\n        setFormState,\r\n        loadingEnd,\r\n        mainForm,\r\n        setSelectedPlanData,\r\n        trackingTags,\r\n      } = nextProps;\r\n\r\n      if (plansData && plansData[0] === 'INVALID') {\r\n        return null;\r\n      }\r\n\r\n      // If plansData and validInsurersList are retrieved, parse data for display\r\n      if (validInsurersList && plansData) {\r\n        let newDefaultInsurers = currentInsurers || {};\r\n        if (!currentInsurers && plansData) {\r\n          newDefaultInsurers = _.map(plansData, plan => plan.info.insurer_slug);\r\n          newDefaultInsurers = newDefaultInsurers.slice(0, 3);\r\n          nextProps.setSelectedInsurers(newDefaultInsurers);\r\n        }\r\n\r\n        return {\r\n          parsedData: parseData(\r\n            plansData,\r\n            validInsurersList,\r\n            newDefaultInsurers,\r\n            mainForm.trip_type,\r\n            () => {\r\n              setFormState();\r\n            },\r\n            setSelectedPlanData,\r\n            loadingEnd,\r\n            nextProps.setRestrictionPopup,\r\n            null,\r\n            trackingTags,\r\n          ),\r\n          currentInsurers: newDefaultInsurers,\r\n        };\r\n      }\r\n    } catch (error) {\r\n      return null;\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - constructor\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const {\r\n      mainForm,\r\n      parseForm,\r\n      getPlans,\r\n      getInsurersList,\r\n      loading,\r\n      defaultInsurers,\r\n      plansData,\r\n      validInsurersList,\r\n      selectedInsurers,\r\n      setSelectedPlanData,\r\n      loadingEnd,\r\n      setFormState,\r\n      loadingFailBackState,\r\n      clearData,\r\n      trackingTags,\r\n    } = this.props;\r\n\r\n    try {\r\n      // If fresh init\r\n      if (!plansData || !validInsurersList) {\r\n        // Initally, get the params from mainform and default insurers\r\n        const parsedParams = parseForm(mainForm, defaultInsurers);\r\n\r\n        // Set loading\r\n        loading(() => {\r\n          clearData();\r\n          loadingFailBackState();\r\n        }, 'No available plans found.', 30000, '');\r\n\r\n        // Get plans and valid insurers list\r\n        getPlans(parsedParams);\r\n        getInsurersList(parsedParams);\r\n\r\n        // Set initial default insurers\r\n        this.props.setSelectedInsurers(defaultInsurers);\r\n\r\n        // currentInsurers: Current selected list of insurers\r\n        // parsedData: The parsed data to display\r\n        // hoveredIndex: The current hovered index on the insurer selection dropdown, default is 0\r\n        this.state = {\r\n          currentInsurers: defaultInsurers,\r\n          parsedData: null,\r\n        };\r\n      } else {\r\n        // Set existing selected insurers and get old parsed data\r\n        // (Will reach this condition when using the back button)\r\n        this.state = {\r\n          currentInsurers: selectedInsurers,\r\n          parsedData: parseData(\r\n            plansData,\r\n            validInsurersList,\r\n            selectedInsurers,\r\n            mainForm.trip_type,\r\n            () => setFormState(),\r\n            setSelectedPlanData,\r\n            loadingEnd,\r\n            this.props.setRestrictionPopup,\r\n            null,\r\n            trackingTags,\r\n          ),\r\n        };\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    this.getNewData = this.getNewData.bind(this);\r\n    this.onInsurerClick = this.onInsurerClick.bind(this);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const {\r\n      plansData,\r\n      loadingEnd,\r\n      loading,\r\n      clearData,\r\n      loadingFailBackState,\r\n    } = this.props;\r\n\r\n    if (plansData && plansData[0] === 'INVALID') {\r\n      loadingEnd();\r\n      if (!this.isLoading) {\r\n        this.isLoading = true;\r\n        setTimeout(() =>\r\n          loading(() => {\r\n            clearData();\r\n            loadingFailBackState();\r\n            this.isLoading = false;\r\n          }, 'No available plans found.', 50, ''), 500);\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * Lifecycle Method - shouldComponentUpdate\r\n   */\r\n  /* shouldComponentUpdate(nextProps, nextState) {\r\n    const { parsedData } = this.state;\r\n\r\n    // Render only is new or policyTypes changed\r\n    return !(parsedData && nextState.parsedData) ||\r\n          !_.isEqual(parsedData.policyTypes, nextState.parsedData.policyTypes);\r\n  } */\r\n\r\n  /**\r\n   * Handle selection on insurer list\r\n   *\r\n   * @param {object} data - The insurer list item data\r\n   */\r\n  onInsurerClick(data, hoveredIndex) {\r\n    // parsedData: The parsed data to display\r\n    const { parsedData } = this.state;\r\n\r\n    // Remap current insurers as sometimes when change form data, the insurers\r\n    // can be less than 3.\r\n    // console.log(parsedData.selectedInsurers, hoveredIndex);\r\n    const currentInsurers = _.reduce(parsedData.selectedInsurers, (result, insurer) => {\r\n      if (insurer) {\r\n        result.push(insurer.insurerSlug);\r\n      }\r\n      return result;\r\n    }, []);\r\n\r\n    // Change insurer of current selected position\r\n    currentInsurers[hoveredIndex] = data.insurer_slug;\r\n\r\n    // Set current insurers\r\n    this.setState({\r\n      currentInsurers,\r\n    });\r\n\r\n    // Set current insurers in store\r\n    this.props.setSelectedInsurers(currentInsurers);\r\n\r\n    // Get new compare data based on the new selected insurers\r\n    this.getNewData(currentInsurers);\r\n  }\r\n\r\n  /**\r\n   * Get new compare data.\r\n   * Used when changing insurers or changing form fields.\r\n   *\r\n   * @param {array} incomingInsurers - selected insurers\r\n   */\r\n  getNewData(incomingInsurers = null) {\r\n    const { currentInsurers } = this.state;\r\n    const {\r\n      loading,\r\n      getPlans,\r\n      getInsurersList,\r\n      clearData,\r\n      mainForm,\r\n      parseForm,\r\n      loadingFailBackState,\r\n    } = this.props;\r\n\r\n    // If init, use default, else the current array\r\n    const insurerToUse = incomingInsurers || currentInsurers;\r\n    // Parse the form for params\r\n    const parsedParams = parseForm(mainForm, insurerToUse);\r\n    // Clear data in store first, so it will detect as fresh props from store\r\n    clearData();\r\n    // Set loading screen\r\n    loading(() => {\r\n      clearData();\r\n      loadingFailBackState();\r\n    }, 'No available plans found.', 30000, '');\r\n    // Get plans and insurer lists\r\n    getPlans(parsedParams);\r\n    getInsurersList(parsedParams);\r\n  }\r\n\r\n  /**\r\n   * Render\r\n   */\r\n  render() {\r\n    try {\r\n      const { parsedData } = this.state;\r\n      const {\r\n        editForm,\r\n        form,\r\n        planImages,\r\n        initialIndex,\r\n        buttonDesc,\r\n        forceFixedOnDesktop,\r\n        category,\r\n      } = this.props;\r\n\r\n      // Do not render if no data\r\n      if (!parsedData) {\r\n        return null;\r\n      }\r\n\r\n      // console.log(parsedData);\r\n      return (\r\n        <MultiCompareInner\r\n          category={category}\r\n          initialIndex={initialIndex}\r\n          planImages={planImages}\r\n          data={parsedData}\r\n          form={form}\r\n          editForm={editForm}\r\n          scrollPopUpCallback={this.onInsurerClick}\r\n          submitCallback={this.getNewData}\r\n          buttonDesc={buttonDesc}\r\n          forceFixedOnDesktop={forceFixedOnDesktop}\r\n        />\r\n      );\r\n    } catch (error) {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nMultiCompareView.defaultProps = {\r\n  initialIndex: 0,\r\n  plansData: null,\r\n  validInsurersList: null,\r\n  selectedInsurers: null,\r\n  trackingTags: null,\r\n  planImages: null,\r\n  defaultInsurers: null,\r\n  buttonDesc: null,\r\n  forceFixedOnDesktop: false,\r\n  category: null,\r\n};\r\n\r\nMultiCompareView.propTypes = {\r\n  setSelectedInsurers: PropTypes.func.isRequired,\r\n  mainForm: PropTypes.object.isRequired,\r\n  parseForm: PropTypes.func.isRequired,\r\n  getPlans: PropTypes.func.isRequired,\r\n  getInsurersList: PropTypes.func.isRequired,\r\n  clearData: PropTypes.func.isRequired,\r\n  loading: PropTypes.func.isRequired,\r\n  defaultInsurers: PropTypes.array,\r\n  editForm: PropTypes.object.isRequired,\r\n  form: PropTypes.string.isRequired,\r\n  planImages: PropTypes.object,\r\n  initialIndex: PropTypes.number,\r\n  plansData: PropTypes.array,\r\n  validInsurersList: PropTypes.array,\r\n  selectedInsurers: PropTypes.array,\r\n  setSelectedPlanData: PropTypes.func.isRequired,\r\n  loadingEnd: PropTypes.func.isRequired,\r\n  setFormState: PropTypes.func.isRequired,\r\n  setRestrictionPopup: PropTypes.func.isRequired,\r\n  loadingFailBackState: PropTypes.func.isRequired,\r\n  trackingTags: PropTypes.object,\r\n  buttonDesc: PropTypes.string,\r\n  forceFixedOnDesktop: PropTypes.bool,\r\n  category: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  selectedInsurers: state.compare.selectedInsurers,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  loading: (callBack, errorMsg, time, mainMsg) => {\r\n    dispatch(setLoading(callBack, errorMsg, time, mainMsg));\r\n  },\r\n  loadingEnd: () => {\r\n    dispatch(clearLoading());\r\n  },\r\n  setRestrictionPopup: (data) => {\r\n    dispatch(setRestrictionPopup(data));\r\n  },\r\n  setSelectedInsurers: (array) => {\r\n    dispatch(setSelectedInsurers(array));\r\n  },\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MultiCompareView);\r\n","/**\r\n * LifeEditDetail.js\r\n * Edit Detail view for Life\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { reduxForm, getFormValues, reset } from 'redux-form';\r\nimport { withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { Row, Col } from 'reactstrap';\r\n\r\nimport Avatar from 'assets/images/MainFormIcons/Avatar.svg';\r\nimport Dollar from 'assets/images/MainFormIcons/Dollar.svg';\r\nimport Umbrella from 'assets/images/MainFormIcons/Umbrella.svg';\r\n\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport Selection from '../Forms/Selection/Selection';\r\nimport DatePickerV2 from '../Forms/DatePicker/DatePickerV2';\r\nimport Slider from '../Forms/Slider/Slider';\r\nimport DropDownV2 from '../Forms/DropDown/DropDownV2';\r\n\r\nimport RestrictionsPopup from '../Templates/RestrictionsPopup/RestrictionsPopup';\r\nimport TabView from '../Templates/TabView/TabView';\r\n\r\nimport { invokeSubmit } from '../../actions/editFormActions';\r\nimport { setInsuranceFormState, FORMSTATES } from '../../actions/insuranceActions';\r\nimport { setRestrictionPopup } from '../../actions/restrictionsActions';\r\nimport { validateForm, dateReValidate } from '../../lib/validators';\r\nimport { slashedStringDateToDate, storeStringToDate, getAge } from '../../lib/dateFunctions';\r\nimport { simplifyCost, simplifyCostArray, remapFormFields } from '../../lib/helperFunctions';\r\nimport { fbTag, gaEvent, ampTag } from '../../lib/tagFunctions';\r\n\r\nimport './Life.scss';\r\n\r\nconst formName = 'life';\r\n\r\nclass LifeEditDetail extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const { storeForm } = nextProps;\r\n    if (storeForm && storeForm.birth_date !== prevState.birthDate) {\r\n      return { birthDate: storeForm.birth_date };\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { lifeFields, storeForm } = this.props;\r\n\r\n    this.state = {\r\n      errorStringData: {},\r\n      tabs: [{\r\n        desc: 'Term Life',\r\n        onClick: () => this.setState({ isTermLife: true }),\r\n      },\r\n      {\r\n        desc: 'Whole Life',\r\n        onClick: () => this.setState({ isTermLife: false }),\r\n      }],\r\n      isTermLife: !(storeForm && storeForm.coverage_type === 'whole_life'),\r\n      birthDate: null,\r\n      data: remapFormFields(lifeFields.form_fields),\r\n    };\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleCloseEdit = this.handleCloseEdit.bind(this);\r\n    this.handleRevert = this.handleRevert.bind(this);\r\n    this.validateForm = this.validateForm.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { isTermLife } = this.state;\r\n    const { storeForm, setCloseCallBack } = this.props;\r\n    this.originalValues = storeForm;\r\n\r\n    if (setCloseCallBack) {\r\n      setCloseCallBack(this.handleRevert);\r\n    }\r\n\r\n    if (!isTermLife) {\r\n      this.categoryTab.wrappedInstance.goToIndex(1, true);\r\n    }\r\n  }\r\n\r\n  getAge(date) {\r\n    let age = '';\r\n    if (date && date !== -1) {\r\n      age = getAge(date);\r\n    }\r\n\r\n    return age;\r\n  }\r\n\r\n  validateForm(e) {\r\n    const { data, isTermLife } = this.state;\r\n\r\n    const fieldsToCheckCommon = [\r\n      'gender',\r\n      'smoker',\r\n      'birth_date',\r\n    ];\r\n\r\n    const fieldsTermLife = [\r\n      'sum_insured',\r\n      'critical_illness',\r\n      'premium_term',\r\n    ];\r\n\r\n    const fieldsWholeLife = [\r\n      'sum_insured_selection',\r\n      'premium_whole',\r\n    ];\r\n\r\n    const fieldsToCheck = [...fieldsToCheckCommon, ...(isTermLife ? fieldsTermLife : fieldsWholeLife)];\r\n    const errorResult = validateForm(e, fieldsToCheck, {\r\n      smoker: { type: 'ARRAY', data: data.smoker.options },\r\n      birth_date: { type: 'DATE', start: slashedStringDateToDate(data.birth_date.min_date), end: slashedStringDateToDate(data.birth_date.max_date) },\r\n      sum_insured: { type: 'ARRAY', data: data.coverage_amount_term.options },\r\n      critical_illness: { type: 'ARRAY', data: data.ci_coverage.options },\r\n      premium_term: { type: 'ARRAY', data: data.duration_term.options },\r\n      sum_insured_selection: { type: 'ARRAY', data: data.coverage_amount_whole.options },\r\n      premium_whole: { type: 'ARRAY', data: data.duration_whole.options },\r\n    });\r\n\r\n    this.setState({\r\n      errorStringData: errorResult,\r\n    });\r\n\r\n    return errorResult;\r\n  }\r\n\r\n  handleSubmit(e, isFirstValidate = true) {\r\n    // e.preventDefault();\r\n    // console.log(e);\r\n\r\n    const { isTermLife, birthDate } = this.state;\r\n    const {\r\n      closePopUp,\r\n      setSubmit,\r\n      storeForm,\r\n      submitCallback,\r\n      setInsurFormState,\r\n      change,\r\n      history,\r\n    } = this.props;\r\n\r\n    const errorResult = this.validateForm(isFirstValidate ? e : storeForm);\r\n    const isEmptyResult = _.isEmpty(errorResult);\r\n\r\n    if (dateReValidate(\r\n      isEmptyResult,\r\n      isFirstValidate,\r\n      errorResult,\r\n      error => this.setState({ errorStringData: error }),\r\n      () => this.handleSubmit(storeForm, false),\r\n    )) {\r\n      return;\r\n    }\r\n\r\n    if (isEmptyResult) {\r\n      change('coverage_type', isTermLife ? 'term_life' : 'whole_life');\r\n\r\n      // Timeout to let the coverage_type change in store\r\n      setTimeout(() => {\r\n        setSubmit();\r\n        this.originalValues = storeForm;\r\n\r\n        if (submitCallback) {\r\n          submitCallback();\r\n        } else {\r\n          fbTag('PPS2 - ButtonClick - Life - GetQuote', { Product: 'Life', Click_Text: 'GetQuote' });\r\n          gaEvent('Life - Get Quote', {\r\n            event_category: 'Life',\r\n            event_label: 'Button - Life - Get Quote',\r\n          });\r\n\r\n          const date = storeStringToDate(birthDate);\r\n          const age = this.getAge(date);\r\n          const critical = isTermLife ? { critical: e.critical_illness } : {};\r\n\r\n          ampTag('LifeGetQuoteA', {\r\n            gender: e.gender,\r\n            smoker: e.smoker,\r\n            age,\r\n            insured: isTermLife ? e.sum_insured : e.sum_insured_selection,\r\n            term: isTermLife ? e.premium_term : e.premium_whole,\r\n            ...critical,\r\n            type: isTermLife ? 'term' : 'whole',\r\n          });\r\n        }\r\n\r\n        setInsurFormState(FORMSTATES.CHOOSEPLAN.index);\r\n        history.push(`/life${FORMSTATES.CHOOSEPLAN.path}`);\r\n\r\n        if (closePopUp) {\r\n          closePopUp();\r\n        }\r\n      }, 5);\r\n    }\r\n  }\r\n\r\n  handleRevert() {\r\n    const { change, resetForm } = this.props;\r\n    resetForm();\r\n    Object.keys(this.originalValues).forEach((key) => {\r\n      change(key, this.originalValues[key]);\r\n    });\r\n  }\r\n\r\n  handleCloseEdit() {\r\n    const { closePopUp } = this.props;\r\n    closePopUp(this.handleRevert);\r\n  }\r\n\r\n  renderBirthDate() {\r\n    const { errorStringData, birthDate, data } = this.state;\r\n    const { form, change, storeForm } = this.props;\r\n\r\n    const date = storeStringToDate(birthDate);\r\n    const ageStyle = date ? 'active' : 'inactive';\r\n    const age = this.getAge(date);\r\n\r\n    return (\r\n      <Col className=\"birth-date-container\" xs={12} sm={10}>\r\n        <p className=\"age\">\r\n          <span className={ageStyle}>Age</span>\r\n          <span className=\"age-value\">{age}</span>\r\n        </p>\r\n        <DatePickerV2\r\n          form={form}\r\n          change={change}\r\n          name=\"birth_date\"\r\n          size=\"medium\"\r\n          zIndex={97}\r\n          desc={data.birth_date.display_name}\r\n          errorString={errorStringData.birth_date}\r\n          validateForm={() => this.validateForm(storeForm)}\r\n          startDate={slashedStringDateToDate(data.birth_date.min_date)}\r\n          endDate={slashedStringDateToDate(data.birth_date.max_date)}\r\n          currDate={slashedStringDateToDate(data.birth_date.default_date)}\r\n        />\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  renderDuration() {\r\n    const { isTermLife, data, errorStringData } = this.state;\r\n    const { form, change, storeForm } = this.props;\r\n    const dataToUse = isTermLife ? data.duration_term : data.duration_whole;\r\n    const name = isTermLife ? 'premium_term' : 'premium_whole';\r\n    const placeholderString = isTermLife ? 'Premium Term' : 'Payment Term';\r\n    const errorToUse = isTermLife ? errorStringData.premium_term : errorStringData.premium_whole;\r\n\r\n    return (\r\n      <Col className=\"input-padding-right\" xs={12} sm={5}>\r\n        <DropDownV2\r\n          form={form}\r\n          change={change}\r\n          name={name}\r\n          placeholderString={placeholderString}\r\n          dropList={dataToUse.options}\r\n          size=\"medium\"\r\n          zIndex={95}\r\n          desc={dataToUse.display_name}\r\n          errorString={errorToUse}\r\n          validateForm={() => this.validateForm(storeForm)}\r\n        />\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  renderFields() {\r\n    const { isTermLife, errorStringData, data } = this.state;\r\n    const { form, change, storeForm } = this.props;\r\n\r\n    return (\r\n      <Row key=\"life-fields\" noGutters>\r\n        <Col className=\"justify-content-center icon icon-car d-none d-sm-flex\" sm={2}>\r\n          <img src={Avatar} alt=\"Avatar.svg\" />\r\n        </Col>\r\n        <Col className=\"input-padding-right\" xs={12} sm={5}>\r\n          <Selection\r\n            form={form}\r\n            change={change}\r\n            name=\"gender\"\r\n            type=\"text-selection\"\r\n            noEmptyTextSelection\r\n            options={_.map(data.gender.options, option => ({\r\n              key: option,\r\n              description: option,\r\n            }))}\r\n            sizeInSM={6}\r\n            desc={data.gender.display_name}\r\n            zIndex={99}\r\n            errorString={errorStringData[data.gender.name]}\r\n            validateForm={() => this.validateForm(storeForm)}\r\n          />\r\n        </Col>\r\n        <Col className=\"input-padding-left\" xs={12} sm={5}>\r\n          <Selection\r\n            form={form}\r\n            change={change}\r\n            name=\"smoker\"\r\n            type=\"text-selection\"\r\n            noEmptyTextSelection\r\n            options={_.map(data.smoker.options, option => ({\r\n              key: option,\r\n              description: option,\r\n            }))}\r\n            sizeInSM={6}\r\n            zIndex={98}\r\n            desc={data.smoker.display_name}\r\n            errorString={errorStringData[data.smoker.name]}\r\n            validateForm={() => this.validateForm(storeForm)}\r\n          />\r\n        </Col>\r\n        <Col className=\"justify-content-center icon d-none d-sm-flex\" sm={2} />\r\n        {this.renderBirthDate()}\r\n        <Col className=\"justify-content-center icon icon-car d-none d-sm-flex\" sm={2}>\r\n          <img style={{ marginTop: 32 }} src={Dollar} alt=\"Dollar.svg\" />\r\n        </Col>\r\n        {\r\n          isTermLife ?\r\n            <Col xs={12} sm={10}>\r\n              <Slider\r\n                form={form}\r\n                change={change}\r\n                name=\"sum_insured\"\r\n                desc={data.coverage_amount_term.display_name}\r\n                zIndex={96}\r\n                hideWidth={576}\r\n                inputList={data.coverage_amount_term.options}\r\n                displayList={simplifyCostArray(data.coverage_amount_term.options)}\r\n                errorString={errorStringData.sum_insured}\r\n                validateForm={() => this.validateForm(storeForm)}\r\n              />\r\n            </Col>\r\n          :\r\n            <Col className=\"whole-sum-insured\" xs={12} sm={10}>\r\n              <Selection\r\n                form={form}\r\n                change={change}\r\n                name=\"sum_insured_selection\"\r\n                type=\"text-selection\"\r\n                noEmptyTextSelection\r\n                options={_.map(data.coverage_amount_whole.options, option => ({\r\n                  key: option,\r\n                  description: simplifyCost(option),\r\n                }))}\r\n                sizeInSM={6}\r\n                zIndex={96}\r\n                desc={data.coverage_amount_whole.display_name}\r\n                errorString={errorStringData.sum_insured_selection}\r\n                validateForm={() => this.validateForm(storeForm)}\r\n              />\r\n            </Col>\r\n        }\r\n        <Col className=\"justify-content-center icon icon-car d-none d-sm-flex\" sm={2}>\r\n          <img src={Umbrella} alt=\"Umbrella.svg\" />\r\n        </Col>\r\n        {this.renderDuration()}\r\n        {\r\n          isTermLife ?\r\n            <Col className=\"input-padding-left\" xs={12} sm={5}>\r\n              <Selection\r\n                form={form}\r\n                change={change}\r\n                name=\"critical_illness\"\r\n                type=\"text-selection\"\r\n                noEmptyTextSelection\r\n                options={_.map(data.ci_coverage.options, option => ({\r\n                  key: option,\r\n                  description: option,\r\n                }))}\r\n                sizeInSM={6}\r\n                zIndex={94}\r\n                desc={data.ci_coverage.display_name}\r\n                errorString={errorStringData.critical_illness}\r\n                validateForm={() => this.validateForm(storeForm)}\r\n              />\r\n            </Col>\r\n          :\r\n           null\r\n        }\r\n      </Row>\r\n    );\r\n  }\r\n\r\n\r\n  render() {\r\n    const { tabs } = this.state;\r\n    const {\r\n      handleSubmit,\r\n      isPopUp,\r\n      form,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className=\"landing-form-container\">\r\n        {\r\n          isPopUp ?\r\n            <p className=\"edit-header\">Edit Life Insurance Details</p>\r\n          :\r\n            null\r\n        }\r\n        <form onSubmit={handleSubmit(this.handleSubmit)}>\r\n          <Row className=\"input-offset life-edit-detail tab-view-container\" noGutters>\r\n            <TabView\r\n              tabs={tabs}\r\n              isDataFadeOnly\r\n              isDisableDropdown\r\n              big\r\n              name={`${form}-tab`}\r\n              ref={node => this.categoryTab = node}\r\n            >\r\n              {[this.renderFields()]}\r\n            </TabView>\r\n          </Row>\r\n          <Row className=\"align-items-center button-container\" noGutters>\r\n            {\r\n              isPopUp ?\r\n                <Col className=\"justify-content-center button\" xs={12}>\r\n                  <Row noGutters>\r\n                    <Col className=\"button-container-inner\" xs={12} sm={6}>\r\n                      <Button\r\n                        className=\"button-left\"\r\n                        variant=\"medium-flat\"\r\n                        width={165}\r\n                        height={72}\r\n                        onClick={() => this.handleCloseEdit()}\r\n                      >\r\n                        <p>Cancel</p>\r\n                      </Button>\r\n                    </Col>\r\n                    <Col className=\"button-container-inner\" xs={12} sm={6}>\r\n                      <Button\r\n                        type=\"submit\"\r\n                        variant=\"medium-flat-green\"\r\n                        width={165}\r\n                        height={72}\r\n                      >\r\n                        <p>Save</p>\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                </Col>\r\n              :\r\n                <Col className=\"justify-content-center button\" xs={12}>\r\n                  <Button type=\"submit\" variant=\"medium-flat-green\" width={165} height={72}>\r\n                    <p>Get Quote</p>\r\n                  </Button>\r\n                </Col>\r\n            }\r\n          </Row>\r\n        </form>\r\n        <RestrictionsPopup ref={node => this.resPopup = node} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nLifeEditDetail.defaultProps = {\r\n  isPopUp: false,\r\n  setCloseCallBack: null,\r\n  storeForm: null,\r\n  closePopUp: null,\r\n  submitCallback: null,\r\n};\r\n\r\nLifeEditDetail.propTypes = {\r\n  handleSubmit: PropTypes.func.isRequired,\r\n  form: PropTypes.string.isRequired,\r\n  change: PropTypes.func.isRequired,\r\n  isPopUp: PropTypes.bool,\r\n  resetForm: PropTypes.func.isRequired,\r\n  closePopUp: PropTypes.func,\r\n  setInsurFormState: PropTypes.func.isRequired,\r\n  setSubmit: PropTypes.func.isRequired,\r\n  storeForm: PropTypes.object,\r\n  setCloseCallBack: PropTypes.func,\r\n  submitCallback: PropTypes.func,\r\n  lifeFields: PropTypes.object.isRequired,\r\n  history: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  storeForm: getFormValues(formName)(state),\r\n  isRevert: state.editForm.isRevert,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  resetForm: () => {\r\n    dispatch(reset(formName));\r\n  },\r\n  setInsurFormState: (state) => {\r\n    dispatch(setInsuranceFormState(state));\r\n  },\r\n  setSubmit: () => {\r\n    dispatch(invokeSubmit());\r\n  },\r\n  setRestrictionPopup: (data) => {\r\n    dispatch(setRestrictionPopup(data));\r\n  },\r\n});\r\n\r\nexport default withRouter(reduxForm({\r\n  form: formName,\r\n  destroyOnUnmount: false,\r\n})(connect(mapStateToProps, mapDispatchToProps)(LifeEditDetail)));\r\n"],"sourceRoot":""}