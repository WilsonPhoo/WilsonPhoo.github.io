{"version":3,"sources":["components/Pet/PetChoosePlan.js","containers/Pet/PetChoosePlanContainer.js","../node_modules/redux-form/es/createFieldProps.js","../node_modules/redux-form/es/events/getValue.js","../node_modules/redux-form/es/isReactNative.js","../node_modules/redux-form/es/events/onChangeValue.js","../node_modules/redux-form/es/util/eventConsts.js","../node_modules/redux-form/es/ConnectedField.js","../node_modules/redux-form/es/util/shallowCompare.js","../node_modules/redux-form/es/util/prefixName.js","../node_modules/redux-form/es/createField.js","../node_modules/redux-form/es/Field.js","../node_modules/redux-form/es/selectors/getFormValues.js","../node_modules/redux-form/es/getFormValues.js","components/Templates/TabView/TabView.js","assets/images/forms/dateIn.svg","assets/images/forms/dateOut.svg","components/Forms/Selection/Selection.js","assets/images/common/CheckIcon.svg","components/Forms/DatePicker/DatePickerV2.js","components/Templates/RestrictionsPopup/RestrictionsPopup.js","assets/images/forms/ArrowGradient.svg","components/Templates/SpeechScroll/SpeechScroll.js","components/Templates/Enquiry/Enquiry.js","assets/images/common/Phone.svg","assets/images/forms/EditButton.svg","components/Templates/Accordion/Accordion.js","components/Templates/ChangeInitialFormData/ChangeInitialFormData.js","assets/images/common/Tick.svg","components/Templates/CompareView/CompareViewTableAccordion.js","components/Templates/CompareView/CompareViewTable.js","components/Templates/CompareView/CompareView.js","components/Templates/InsurerFormHeader/HeaderDescWithButton.js","components/Pet/PetEditDetail.js","assets/images/MainFormIcons/Paw.svg"],"names":["PetChoosePlan","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","doAmpTags","bind","assertThisInitialized","planTypeIndex","arguments","length","undefined","plansData","premium","plans","default","ampTag","partner","selectedInsurers","insurerSlug","plan-name","policyTypes","discount","concat","price","net_price","error","console","log","message","_this2","_this$props","petFields","submitCallback","_loop","i","doTag","react_default","a","createElement","react","reactstrap_es","className","noGutters","xs","ChangeInitialFormData","form","valuesToListen","value","desc","PetEditDetail","isPopUp","HeaderDescWithButton","logo","Logos","square","logoName","insurerName","insurerDesc","policyDetails","about","_","map","benefits","benefit","index","key","CompareView","category","data","currentTab","editForm","ref","node","Enquiry","Component","defaultProps","PetChoosePlanContainer","state","parsedData","getNewData","nextProps","setFormState","loadingEnd","history","parseData","FORMSTATES","DETAILFORM","push","path","setSelectedPlanData","setRestrictionPopup","CHOOSEPLAN","fbTag","Product","gaTag","page_title","page_path","prevProps","_this$props2","petForm","loading","clearData","getPetPlans","goBack","_this$props3","isLoggedIn","components_Pet_PetChoosePlan","isFWD","withRouter","connect","getFormValues","pet","dispatch","setInsuranceFormState","callBack","errorMsg","time","setLoading","clearLoading","setPlanType","type","clearPetData","_extends","assign","target","source","prototype","hasOwnProperty","processProps","_value","deepEqual","checked","es_createFieldProps","_ref2","name","_ref","getIn","toJS","asyncError","asyncValidating","onBlur","onChange","onDrop","onDragStart","dirty","onFocus","format","initial","pristine","parse","submitError","submitFailed","submitting","syncError","syncWarning","validate","custom","warn","obj","keys","indexOf","_objectWithoutProperties","warning","formattedFieldValue","defaultFormattedValue","formatFieldValue","input","meta","active","autofilled","invalid","touched","valid","visited","events_getValue","event","isReactNative","isEvent","nativeEvent","text","detypedEvent","_detypedEvent$target","files","dataTransfer","options","result","option","selected","getSelectedValues","es_isReactNative","window","navigator","product","events_onChangeValue","normalize","dataKey","ConnectedField_extends","_createClass","defineProperties","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","_typeof","Symbol","iterator","constructor","ConnectedField_objectWithoutProperties","_possibleConstructorReturn","self","ReferenceError","propsToNotUpdateFor","isObject","entity","isFunction","eventPreventDefault","preventDefault","eventDataTransferGetData","getData","eventDataTransferSetData","setData","es_ConnectedField","structure","ConnectedField","_Component","_temp","instance","TypeError","_classCallCheck","_len","args","Array","_key","__proto__","apply","saveRef","isPristine","getValue","handleChange","_reduxForm","previousValue","newValue","defaultPrevented","change","asyncValidate","handleFocus","focus","handleBlur","blur","handleDragStart","_this$props4","handleDrop","_this$props5","subClass","superClass","create","setPrototypeOf","_inherits","nextPropsKeys","thisPropsKeys","children","some","prop","immutableProps","_props","component","withRef","rest","_createFieldProps","propTypes","prop_types_default","oneOfType","func","string","isRequired","object","es","ownProps","_ownProps$_reduxForm","initialValues","formState","getFormState","initialState","syncErrors","plain","_error","getSyncError","syncWarnings","_warning","getSyncWarning","connector","customizer","objectValue","otherValue","indexOrkey","other","stack","util_shallowCompare","nextState","propsEqual","isEqualWith","stateEqual","prefixName","sectionPrefix","createField_extends","createField_createClass","es_createField","setIn","Field","context","createField_classCallCheck","createField_possibleConstructorReturn","previousValues","getValues","Error","createField_inherits","register","nextContext","oldName","newName","unregister","browser_default","getWrappedInstance","getRenderedComponent","get","arrayOf","bool","contextTypes","react_lifecycles_compat_es","__webpack_exports__","nonNullGetFormState","TabView","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","padding","maxTabWidthPx","isDataFadeOnly","tabs","initialIndex","isUsingMaxWidth","maxWidth","tabWidth","activeIndex","containerWidth","width","widthPercentage","paddingWidth","isControlVisible","isDropDownControl","fadeStyle","goToIndex","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__","handleResize","resizeTabHeight","renderTabs","renderTabContent","renderControls","renderSlides","prevState","currentTabSelection","newIndex","findIndex","tab","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","changeTab","addEventListener","ReactDOM","findDOMNode","carousel","setState","_this$state","setTriggerHeightUpdate","tabContainer","getBoundingClientRect","setTimeout","removeEventListener","_this$state2","hideWidth","innerWidth","isVisibleNow","_this3","isForced","_this$state3","onClick","carouselIncoming","overrideNegation","isConstantHeight","carouselToUse","list","getElementsByTagName","sliderWrapper","parentNode","itemHeight","scrollHeight","style","height","activeStyle","bigTextStyle","big","isWithImg","isString","img","react__WEBPACK_IMPORTED_MODULE_9___default","react__WEBPACK_IMPORTED_MODULE_9__","src","alt","_this4","_this$state4","bigTabStyle","tabStyle","role","tabIndex","onKeyDown","_this5","item","React","cloneElement","updateTabHeight","_this6","_this$state5","isDisableDropdown","charged","isOverContainer","selectedMargin","bigStyle","marginLeft","droplist","_Forms_DropDown_DropDownV2__WEBPACK_IMPORTED_MODULE_13__","dropdown","placeholderString","dropList","size","zIndex","isDisableTyping","notForm","valueChangeCallback","overrideValue","_this7","_this$state6","_this$props6","containerStyle","react_responsive_carousel__WEBPACK_IMPORTED_MODULE_12__","showThumbs","showIndicators","showArrows","showStatus","selectedItem","swipeable","tabName","setTabSelection","module","exports","__webpack_require__","p","Selection","selections","formStore","storeValues","storeValuesArray","resultState","forEach","v","getStoreSelection","noEmptyTextSelection","setInitialValue","toggleResult","newSelections","noUpdate","mapValues","findKey","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","each","k","selectionState","react__WEBPACK_IMPORTED_MODULE_6___default","CheckIcon","description","sizeInSM","onKeyPress","onToggleSelection","renderSelectionInsides","reactstrap__WEBPACK_IMPORTED_MODULE_10__","sm","extraInfo","errorString","_FormInputWrapper_FormInputWrapper__WEBPACK_IMPORTED_MODULE_13__","formParent","marginTop","redux_form__WEBPACK_IMPORTED_MODULE_8__","renderSelectionIcon","PureComponent","placeholderStringDefault","monthTextMapping","mediumHeight","bigHeight","deafultYearRange","DatePickerV2","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","startDate","endDate","currDate","date","Date","year","getFullYear","month","getMonth","firstDay","lastDay","dateRangeStart","dateRangeEnd","placeHolder","isOpened","selectedString","currFirstDay","currLastDay","selectedStartDate","selectedEndDate","handleSelectClick","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__","handleClickOutside","handleOnInputChange","handleKeyPress","handleExit","setSelectedDate","setNewDate","setCalender","onMovement","isFromFocus","updateStartEndDate","dateName","dateReformed","storeStringToDate","isRange","incomingStartDate","incomingEndDate","isDateEqual","document","dateInner","dateInnerDOM","datePickerDOM","wrapperRef","isStart","toggleDateInner","isOverHeight","bottom","outerHeight","setArrowUp","top","left","extraState","selectedCallback","newYear","newMonth","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","setNewState","endRef","storeString","dateString","currDay","getDate","toString","slice","currMonth","currYear","newSelectedStartDate","newSelectedEndDate","wrappedInstance","isTargetWithinDateRangePicker","contains","doNotBlur","charCode","selectedStart","start_date","selectedEnd","end_date","inputField","defaultValue","relatedTarget","isChildren","isClicked","_this$state7","isError","moment","isValid","selectedDate","parts","split","_this$state8","_this$props7","validateForm","mainStyle","dropDownOpenStyle","isErrorStyle","rangeIcon","DateIn","DateOut","rangIconStyle","refValue","react__WEBPACK_IMPORTED_MODULE_11___default","_FormInputWrapper_FormInputWrapper__WEBPACK_IMPORTED_MODULE_20__","onKeyUp","redux_form__WEBPACK_IMPORTED_MODULE_14__","placeholder","autoComplete","onMouseDown","e","Arrow","datepicker","datePickerInner","RestrictionsPopup","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__","values","clickCallback","doAcceptTag","modal","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","handleClick","clearRestrictionPopup","react__WEBPACK_IMPORTED_MODULE_7___default","react__WEBPACK_IMPORTED_MODULE_7__","reactstrap__WEBPACK_IMPORTED_MODULE_9__","title","descIndex","backdropClassName","isOpen","toggle","renderData","components_FormsV3_Button_Button__WEBPACK_IMPORTED_MODULE_10__","variant","restrictions","SpeechScroll","isPopUpOpen","insurerArrowHorizontal","scrollPos","scrollheight","popUpHeight","exitCallback","handleInsurerHover","handleInsurerBlur","handleMouseMoveOnHoverButton","handleClickOnHoverButton","handleScroll","handlePopUpScroll","handlePopUpWheel","hide","body","scroll","initCallback","maxHeight","insurerPopUpScroll","child","rect","maxLeft","defaultLeft","Math","max","min","arrowDiff","insurerPopUp","show","clientY","leftBound","rightBound","clientX","onHoverButtonClick","percentage","scrollTop","offsetHeight","barheight","offsetY","scrollBottom","deltaY","openStyle","hoverButtonStyle","onMouseMove","onMouseLeave","paddingTop","marginRight","scrollBar","onScroll","onWheel","react__WEBPACK_IMPORTED_MODULE_5___default","reactstrap__WEBPACK_IMPORTED_MODULE_6__","Phone","href","Accordion","openCallback","handleExpand","setOpenCallback","callback","isWarning","openText","arrowOpenStyle","borderStyle","isFullBorder","reactstrap__WEBPACK_IMPORTED_MODULE_7__","minHeight","ArrowGradient","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","toolTipData","renderHeader","renderDetailLabels","renderDetailValues","renderEditButton","renderSpeechScrollList","resetSubmit","closePopUp","speechScroll","isEditSubmitted","headerValue","storeForm","react__WEBPACK_IMPORTED_MODULE_8___default","conditions","conditonValue","valuesArrayToListen","reduce","isArray","displayValue","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","aggregateDesc","extra","simplifyCost","jsx","onMouseEnter","popupRef","openPopup","EditButton","_SpeechScroll_SpeechScroll__WEBPACK_IMPORTED_MODULE_13__","_Popup_Popup__WEBPACK_IMPORTED_MODULE_14__","r","undoFormChange","resetSubmitStatus","CompareViewTableAccordion","recursiveUpdate","accordion","level","bgStyle","firstStyle","lastStyle","rotateStyle","transform","CompareViewTable","productChangable","disclaimer","itemBorderStyle","infoContainerStyle","isValidDisclaimer","targets","arrayToMap","union","content","idx","CompareView_CompareViewTableAccordion","renderTable","subContent","subTitle","sub_title","startCase","paddingStyle","Tick","Cross","isFixed","categoryWidth","handleOnClick","renderLists","renderEditForm","renderEditableHeader","renderBottomHeader","renderNonProductChangable","renderProductChangable","scrollTo","$","forceFixedOnDesktop","catMarker","isNowFixed","bottomHeader","innerHeight","selectedInsurer","buttonDesc","currPlanData","isPriceUsed","leftStyle","premiumData","isPrice","toFixed","buttonText","cashbackProduct","cashback","cashbackText","cashbackJSX","frequency","Button","setHoveredIndex","hoveredIndex","policyType","tripType","editableHeaders","insurer","matchedInsurer","find","validInsurers","insur","insurer_slug","discountData","discountRawData","amount","display","discountText","insurer_name","insurance_name","header","inurerLogoName","noDiscountPadding","isPriceExists","headerList","netPrice","discountPrice","life_frequency","isMultiple","coverageTypes","CompareView_CompareViewTable","coverages","notAccordion","coverageTypesDescs","marginBottom","autoHeight","scrollPopUpCallback","validForSelection","productSlug","insurance_slug","textAlign","flex","discount_data","fixedCatStyle","resPopup","insurance","setHoveredInsurerIndex","components_FormsV3_Button_Button__WEBPACK_IMPORTED_MODULE_7__","errorStringData","slashedStringDateToDate","form_fields","min_date","max_date","handleSubmit","handleCloseEdit","handleRevert","setCloseCallBack","originalValues","errorResult","pet_species","start","end","isFirstValidate","setInsurFormState","setSubmit","isEmptyResult","isEmpty","dateReValidate","Click_Text","gaEvent","event_category","event_label","resetForm","onSubmit","reactstrap__WEBPACK_IMPORTED_MODULE_13__","Paw","_Forms_Selection_Selection__WEBPACK_IMPORTED_MODULE_16__","display_name","_Forms_DatePicker_DatePickerV2__WEBPACK_IMPORTED_MODULE_17__","components_FormsV3_Button_Button__WEBPACK_IMPORTED_MODULE_15__","_Templates_RestrictionsPopup_RestrictionsPopup__WEBPACK_IMPORTED_MODULE_18__","reduxForm","destroyOnUnmount","isRevert","reset","invokeSubmit"],"mappings":"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","file":"static/js/PetChoosePlanContainer.1fd310f2.chunk.js","sourcesContent":["/**\r\n * PetChoosePlan.js\r\n * Choose Plan view for Pet\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Row, Col } from 'reactstrap';\r\n\r\n// Import Insurer Logos\r\nimport Logos from 'assets/images/InsurerLogos';\r\n\r\nimport CompareView from '../Templates/CompareView/CompareView';\r\nimport ChangeInitialFormData from '../Templates/ChangeInitialFormData/ChangeInitialFormData';\r\nimport HeaderDescWithButton from '../Templates/InsurerFormHeader/HeaderDescWithButton';\r\nimport Enquiry from '../Templates/Enquiry/Enquiry';\r\n\r\nimport PetEditDetail from './PetEditDetail';\r\n\r\nimport { ampTag } from '../../lib/tagFunctions';\r\n\r\nimport './PetChoosePlan.scss';\r\n\r\nclass PetChoosePlan extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.doAmpTags = this.doAmpTags.bind(this);\r\n  }\r\n\r\n  doAmpTags(planTypeIndex = 0) {\r\n    try {\r\n      const { plansData } = this.props;\r\n      const premium = plansData.plans.default.premium[planTypeIndex];\r\n      ampTag('PetBuyNowA', {\r\n        partner: plansData.selectedInsurers[0].insurerSlug,\r\n        'plan-name': plansData.policyTypes[planTypeIndex],\r\n        discount: `${((premium.price || 0) - (premium.net_price || 0)) / (premium.price || 0) * 100}%`,\r\n        price: premium.net_price || 0,\r\n      });\r\n    } catch (error) {\r\n      console.log(`Pet choose plan Buy now Amp tag failed: ${error.message}`);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      plansData,\r\n      petFields,\r\n      submitCallback,\r\n    } = this.props;\r\n\r\n    try {\r\n      for (let i = 0; i < plansData.plans.default.premium.length; ++i) {\r\n        plansData.plans.default.premium[i].doTag = () => this.doAmpTags(i);\r\n      }\r\n    } catch (error) {\r\n      console.log('Overwrite tags failed');\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        <Row className=\"inner-form-container\" noGutters>\r\n          <Col xs={12}>\r\n            <ChangeInitialFormData\r\n              form=\"pet\"\r\n              valuesToListen={[\r\n                { value: 'pet_species', desc: 'Pet' },\r\n                { value: 'start_date', desc: 'Start date' },\r\n              ]}\r\n              submitCallback={submitCallback}\r\n            >\r\n              <PetEditDetail isPopUp petFields={petFields} />\r\n            </ChangeInitialFormData>\r\n          </Col>\r\n          <Col className=\"company-product-container\" xs={12}>\r\n            <HeaderDescWithButton\r\n              logo={Logos.square[plansData.selectedInsurers[0].insurerSlug]}\r\n              logoName={`${plansData.selectedInsurers[0].insurerSlug}.svg`}\r\n              insurerName={plansData.selectedInsurers[0].insurerName}\r\n              insurerDesc={plansData.policyDetails.about}\r\n            />\r\n            <Row className=\"content-container\">\r\n              <Col xs={12}>\r\n                <p className=\"why\">{`Why ${plansData.selectedInsurers[0].insurerName}?`}</p>\r\n                <ul>\r\n                  {\r\n                    _.map(plansData.policyDetails.benefits, (benefit, index) => (\r\n                      <li key={`benefit-${index}`}><p>{benefit}</p></li>\r\n                    ))\r\n                  }\r\n                </ul>\r\n              </Col>\r\n              <CompareView\r\n                category=\"pet\"\r\n                key=\"overview\"\r\n                className=\"overview-container-padding\"\r\n                data={plansData}\r\n                currentTab=\"default\"\r\n                editForm={\r\n                  <ChangeInitialFormData\r\n                    form=\"pet\"\r\n                    valuesToListen={[\r\n                      { value: 'brand', desc: 'Brand' },\r\n                      { value: 'model', desc: 'Model' },\r\n                      { value: 'year', desc: 'Year' },\r\n                    ]}\r\n                  >\r\n                    <PetEditDetail isPopUp ref={node => this.editForm = node} />\r\n                  </ChangeInitialFormData>\r\n                }\r\n              />\r\n            </Row>\r\n          </Col>\r\n          <Enquiry />\r\n        </Row>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nPetChoosePlan.defaultProps = {\r\n};\r\n\r\nPetChoosePlan.propTypes = {\r\n  plansData: PropTypes.object.isRequired,\r\n  petFields: PropTypes.object.isRequired,\r\n  submitCallback: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default PetChoosePlan;\r\n","/**\r\n * PetChoosePlanContainer.js\r\n * The choose plan container for pet\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { getFormValues } from 'redux-form';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport PetChoosePlan from '../../components/Pet/PetChoosePlan';\r\n\r\nimport { setSelectedPlanData, getPetPlans, clearPetData } from '../../actions/petActions';\r\nimport { setInsuranceFormState, parseData, FORMSTATES } from '../../actions/insuranceActions';\r\nimport { setPlanType } from '../../actions/compareActions';\r\nimport { setRestrictionPopup } from '../../actions/restrictionsActions';\r\nimport { setLoading, clearLoading } from '../../actions/loadingScreenActions';\r\nimport { fbTag, gaTag, ampTag } from '../../lib/tagFunctions';\r\n\r\nclass PetChoosePlanContainer extends Component {\r\n  static getDerivedStateFromProps(nextProps) {\r\n    const {\r\n      plansData,\r\n      setFormState,\r\n      loadingEnd,\r\n      history,\r\n    } = nextProps;\r\n\r\n    if (plansData) {\r\n      return {\r\n        parsedData: parseData(plansData, null, null, null, () => {\r\n          setFormState(FORMSTATES.DETAILFORM.index);\r\n          history.push(`/pet${FORMSTATES.DETAILFORM.path}`);\r\n        }, nextProps.setSelectedPlanData, loadingEnd, nextProps.setRestrictionPopup, 0),\r\n      };\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const {\r\n      plansData,\r\n    } = this.props;\r\n\r\n    this.state = {\r\n      parsedData: null,\r\n    };\r\n\r\n    this.getNewData = this.getNewData.bind(this);\r\n\r\n    if (!plansData) {\r\n      this.getNewData();\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { setFormState } = this.props;\r\n    setFormState(FORMSTATES.CHOOSEPLAN.index);\r\n\r\n    fbTag('PPS2 - Pageview - Pet - ChoosePlan', { Product: 'Pet' });\r\n    gaTag({\r\n      page_title: 'Pet - Choose Plan',\r\n      page_path: '/pet/chooseplan',\r\n    });\r\n    ampTag('PetPlanS');\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { plansData, loadingEnd } = this.props;\r\n    if (!prevProps.plansData && plansData) {\r\n      loadingEnd();\r\n    }\r\n  }\r\n\r\n  getNewData() {\r\n    const {\r\n      petForm,\r\n      loading,\r\n      clearData,\r\n      history,\r\n    } = this.props;\r\n\r\n    clearData();\r\n    this.props.getPetPlans(petForm);\r\n    loading(() => {\r\n      clearData();\r\n      history.goBack();\r\n    }, 'No available plans found.', 30000);\r\n  }\r\n\r\n  render() {\r\n    const { parsedData } = this.state;\r\n    const { isLoggedIn, petFields } = this.props;\r\n\r\n    if (!parsedData) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <PetChoosePlan\r\n        petFields={petFields}\r\n        plansData={parsedData}\r\n        isFWD={false}\r\n        isLoggedIn={isLoggedIn}\r\n        submitCallback={this.getNewData}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nPetChoosePlanContainer.defaultProps = {\r\n  plansData: null,\r\n};\r\n\r\nPetChoosePlanContainer.propTypes = {\r\n  plansData: PropTypes.array,\r\n  petForm: PropTypes.object.isRequired,\r\n  petFields: PropTypes.object.isRequired,\r\n  setFormState: PropTypes.func.isRequired,\r\n  isLoggedIn: PropTypes.bool.isRequired,\r\n  getPetPlans: PropTypes.func.isRequired,\r\n  loading: PropTypes.func.isRequired,\r\n  loadingEnd: PropTypes.func.isRequired,\r\n  clearData: PropTypes.func.isRequired,\r\n  history: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  petForm: getFormValues('pet')(state),\r\n  plansData: state.pet.plansData,\r\n  petFields: state.pet.petFields,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  getPetPlans: petForm => (\r\n    dispatch(getPetPlans(petForm))\r\n  ),\r\n  setFormState: (state) => {\r\n    dispatch(setInsuranceFormState(state));\r\n  },\r\n  loading: (callBack, errorMsg, time) => {\r\n    dispatch(setLoading(callBack, errorMsg, time));\r\n  },\r\n  loadingEnd: () => {\r\n    dispatch(clearLoading());\r\n  },\r\n  setPlanType: (category, type) => {\r\n    dispatch(setPlanType(category, type));\r\n  },\r\n  setSelectedPlanData: (data) => {\r\n    dispatch(setSelectedPlanData(data));\r\n  },\r\n  setRestrictionPopup: (data) => {\r\n    dispatch(setRestrictionPopup(data));\r\n  },\r\n  clearData: () => {\r\n    dispatch(clearPetData());\r\n  },\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(PetChoosePlanContainer));\r\n","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nvar processProps = function processProps(type, props, _value, deepEqual) {\n  var value = props.value;\n\n  if (type === 'checkbox') {\n    return _extends({}, props, {\n      checked: !!value\n    });\n  }\n\n  if (type === 'radio') {\n    return _extends({}, props, {\n      checked: deepEqual(value, _value),\n      value: _value\n    });\n  }\n\n  if (type === 'select-multiple') {\n    return _extends({}, props, {\n      value: value || []\n    });\n  }\n\n  if (type === 'file') {\n    return _extends({}, props, {\n      value: value || undefined\n    });\n  }\n\n  return props;\n};\n\nvar createFieldProps = function createFieldProps(_ref2, name, _ref) {\n  var getIn = _ref2.getIn,\n      toJS = _ref2.toJS,\n      deepEqual = _ref2.deepEqual;\n\n  var asyncError = _ref.asyncError,\n      asyncValidating = _ref.asyncValidating,\n      onBlur = _ref.onBlur,\n      onChange = _ref.onChange,\n      onDrop = _ref.onDrop,\n      onDragStart = _ref.onDragStart,\n      dirty = _ref.dirty,\n      dispatch = _ref.dispatch,\n      onFocus = _ref.onFocus,\n      form = _ref.form,\n      format = _ref.format,\n      initial = _ref.initial,\n      parse = _ref.parse,\n      pristine = _ref.pristine,\n      props = _ref.props,\n      state = _ref.state,\n      submitError = _ref.submitError,\n      submitFailed = _ref.submitFailed,\n      submitting = _ref.submitting,\n      syncError = _ref.syncError,\n      syncWarning = _ref.syncWarning,\n      validate = _ref.validate,\n      value = _ref.value,\n      _value = _ref._value,\n      warn = _ref.warn,\n      custom = _objectWithoutProperties(_ref, ['asyncError', 'asyncValidating', 'onBlur', 'onChange', 'onDrop', 'onDragStart', 'dirty', 'dispatch', 'onFocus', 'form', 'format', 'initial', 'parse', 'pristine', 'props', 'state', 'submitError', 'submitFailed', 'submitting', 'syncError', 'syncWarning', 'validate', 'value', '_value', 'warn']);\n\n  var error = syncError || asyncError || submitError;\n  var warning = syncWarning;\n\n  var formatFieldValue = function formatFieldValue(value, format) {\n    if (format === null) {\n      return value;\n    }\n\n    var defaultFormattedValue = value == null ? '' : value;\n    return format ? format(value, name) : defaultFormattedValue;\n  };\n\n  var formattedFieldValue = formatFieldValue(value, format);\n  return {\n    input: processProps(custom.type, {\n      name: name,\n      onBlur: onBlur,\n      onChange: onChange,\n      onDragStart: onDragStart,\n      onDrop: onDrop,\n      onFocus: onFocus,\n      value: formattedFieldValue\n    }, _value, deepEqual),\n    meta: _extends({}, toJS(state), {\n      active: !!(state && getIn(state, 'active')),\n      asyncValidating: asyncValidating,\n      autofilled: !!(state && getIn(state, 'autofilled')),\n      dirty: dirty,\n      dispatch: dispatch,\n      error: error,\n      form: form,\n      initial: initial,\n      warning: warning,\n      invalid: !!error,\n      pristine: pristine,\n      submitting: !!submitting,\n      submitFailed: !!submitFailed,\n      touched: !!(state && getIn(state, 'touched')),\n      valid: !error,\n      visited: !!(state && getIn(state, 'visited'))\n    }),\n    custom: _extends({}, custom, props)\n  };\n};\n\nexport default createFieldProps;","import isEvent from './isEvent';\n\nvar getSelectedValues = function getSelectedValues(options) {\n  var result = [];\n\n  if (options) {\n    for (var index = 0; index < options.length; index++) {\n      var option = options[index];\n\n      if (option.selected) {\n        result.push(option.value);\n      }\n    }\n  }\n\n  return result;\n};\n\nvar getValue = function getValue(event, isReactNative) {\n  if (isEvent(event)) {\n    if (!isReactNative && event.nativeEvent && event.nativeEvent.text !== undefined) {\n      return event.nativeEvent.text;\n    }\n\n    if (isReactNative && event.nativeEvent !== undefined) {\n      return event.nativeEvent.text;\n    }\n\n    var detypedEvent = event;\n    var _detypedEvent$target = detypedEvent.target,\n        type = _detypedEvent$target.type,\n        value = _detypedEvent$target.value,\n        checked = _detypedEvent$target.checked,\n        files = _detypedEvent$target.files,\n        dataTransfer = detypedEvent.dataTransfer;\n\n    if (type === 'checkbox') {\n      return !!checked;\n    }\n\n    if (type === 'file') {\n      return files || dataTransfer && dataTransfer.files;\n    }\n\n    if (type === 'select-multiple') {\n      return getSelectedValues(event.target.options);\n    }\n\n    return value;\n  }\n\n  return event;\n};\n\nexport default getValue;","var isReactNative = typeof window !== 'undefined' && window.navigator && window.navigator.product && window.navigator.product === 'ReactNative';\nexport default isReactNative;","import getValue from './getValue';\nimport isReactNative from '../isReactNative';\n\nvar onChangeValue = function onChangeValue(event, _ref) {\n  var name = _ref.name,\n      parse = _ref.parse,\n      normalize = _ref.normalize; // read value from input\n\n  var value = getValue(event, isReactNative); // parse value if we have a parser\n\n  if (parse) {\n    value = parse(value, name);\n  } // normalize value\n\n\n  if (normalize) {\n    value = normalize(name, value);\n  }\n\n  return value;\n};\n\nexport default onChangeValue;","export var dataKey = 'text';","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component, createElement } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport createFieldProps from './createFieldProps';\nimport onChangeValue from './events/onChangeValue';\nimport { dataKey } from './util/eventConsts';\nimport plain from './structure/plain';\nimport isReactNative from './isReactNative';\nvar propsToNotUpdateFor = ['_reduxForm'];\n\nvar isObject = function isObject(entity) {\n  return entity && (typeof entity === 'undefined' ? 'undefined' : _typeof(entity)) === 'object';\n};\n\nvar isFunction = function isFunction(entity) {\n  return entity && typeof entity === 'function';\n};\n\nvar eventPreventDefault = function eventPreventDefault(event) {\n  if (isObject(event) && isFunction(event.preventDefault)) {\n    event.preventDefault();\n  }\n};\n\nvar eventDataTransferGetData = function eventDataTransferGetData(event, key) {\n  if (isObject(event) && isObject(event.dataTransfer) && isFunction(event.dataTransfer.getData)) {\n    return event.dataTransfer.getData(key);\n  }\n};\n\nvar eventDataTransferSetData = function eventDataTransferSetData(event, key, value) {\n  if (isObject(event) && isObject(event.dataTransfer) && isFunction(event.dataTransfer.setData)) {\n    event.dataTransfer.setData(key, value);\n  }\n};\n\nvar createConnectedField = function createConnectedField(structure) {\n  var deepEqual = structure.deepEqual,\n      getIn = structure.getIn;\n\n  var getSyncError = function getSyncError(syncErrors, name) {\n    var error = plain.getIn(syncErrors, name); // Because the error for this field might not be at a level in the error structure where\n    // it can be set directly, it might need to be unwrapped from the _error property\n\n    return error && error._error ? error._error : error;\n  };\n\n  var getSyncWarning = function getSyncWarning(syncWarnings, name) {\n    var warning = getIn(syncWarnings, name); // Because the warning for this field might not be at a level in the warning structure where\n    // it can be set directly, it might need to be unwrapped from the _warning property\n\n    return warning && warning._warning ? warning._warning : warning;\n  };\n\n  var ConnectedField = function (_Component) {\n    _inherits(ConnectedField, _Component);\n\n    function ConnectedField() {\n      var _ref;\n\n      var _temp, _this, _ret;\n\n      _classCallCheck(this, ConnectedField);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ConnectedField.__proto__ || Object.getPrototypeOf(ConnectedField)).call.apply(_ref, [this].concat(args))), _this), _this.saveRef = function (ref) {\n        return _this.ref = ref;\n      }, _this.isPristine = function () {\n        return _this.props.pristine;\n      }, _this.getValue = function () {\n        return _this.props.value;\n      }, _this.handleChange = function (event) {\n        var _this$props = _this.props,\n            name = _this$props.name,\n            dispatch = _this$props.dispatch,\n            parse = _this$props.parse,\n            normalize = _this$props.normalize,\n            onChange = _this$props.onChange,\n            _reduxForm = _this$props._reduxForm,\n            previousValue = _this$props.value;\n        var newValue = onChangeValue(event, {\n          name: name,\n          parse: parse,\n          normalize: normalize\n        });\n        var defaultPrevented = false;\n\n        if (onChange) {\n          // Can't seem to find a way to extend Event in React Native,\n          // thus I simply avoid adding preventDefault() in a RN environment\n          // to prevent the following error:\n          // `One of the sources for assign has an enumerable key on the prototype chain`\n          // Reference: https://github.com/facebook/react-native/issues/5507\n          if (!isReactNative) {\n            onChange(_extends({}, event, {\n              preventDefault: function preventDefault() {\n                defaultPrevented = true;\n                return eventPreventDefault(event);\n              }\n            }), newValue, previousValue, name);\n          } else {\n            onChange(event, newValue, previousValue, name);\n          }\n        }\n\n        if (!defaultPrevented) {\n          // dispatch change action\n          dispatch(_reduxForm.change(name, newValue)); // call post-change callback\n\n          if (_reduxForm.asyncValidate) {\n            _reduxForm.asyncValidate(name, newValue, 'change');\n          }\n        }\n      }, _this.handleFocus = function (event) {\n        var _this$props2 = _this.props,\n            name = _this$props2.name,\n            dispatch = _this$props2.dispatch,\n            onFocus = _this$props2.onFocus,\n            _reduxForm = _this$props2._reduxForm;\n        var defaultPrevented = false;\n\n        if (onFocus) {\n          if (!isReactNative) {\n            onFocus(_extends({}, event, {\n              preventDefault: function preventDefault() {\n                defaultPrevented = true;\n                return eventPreventDefault(event);\n              }\n            }), name);\n          } else {\n            onFocus(event, name);\n          }\n        }\n\n        if (!defaultPrevented) {\n          dispatch(_reduxForm.focus(name));\n        }\n      }, _this.handleBlur = function (event) {\n        var _this$props3 = _this.props,\n            name = _this$props3.name,\n            dispatch = _this$props3.dispatch,\n            parse = _this$props3.parse,\n            normalize = _this$props3.normalize,\n            onBlur = _this$props3.onBlur,\n            _reduxForm = _this$props3._reduxForm,\n            _value = _this$props3._value,\n            previousValue = _this$props3.value;\n        var newValue = onChangeValue(event, {\n          name: name,\n          parse: parse,\n          normalize: normalize\n        }); // for checkbox and radio, if the value property of checkbox or radio equals\n        // the value passed by blur event, then fire blur action with previousValue.\n\n        if (newValue === _value && _value !== undefined) {\n          newValue = previousValue;\n        }\n\n        var defaultPrevented = false;\n\n        if (onBlur) {\n          if (!isReactNative) {\n            onBlur(_extends({}, event, {\n              preventDefault: function preventDefault() {\n                defaultPrevented = true;\n                return eventPreventDefault(event);\n              }\n            }), newValue, previousValue, name);\n          } else {\n            onBlur(event, newValue, previousValue, name);\n          }\n        }\n\n        if (!defaultPrevented) {\n          // dispatch blur action\n          dispatch(_reduxForm.blur(name, newValue)); // call post-blur callback\n\n          if (_reduxForm.asyncValidate) {\n            _reduxForm.asyncValidate(name, newValue, 'blur');\n          }\n        }\n      }, _this.handleDragStart = function (event) {\n        var _this$props4 = _this.props,\n            name = _this$props4.name,\n            onDragStart = _this$props4.onDragStart,\n            value = _this$props4.value;\n        eventDataTransferSetData(event, dataKey, value == null ? '' : value);\n\n        if (onDragStart) {\n          onDragStart(event, name);\n        }\n      }, _this.handleDrop = function (event) {\n        var _this$props5 = _this.props,\n            name = _this$props5.name,\n            dispatch = _this$props5.dispatch,\n            onDrop = _this$props5.onDrop,\n            _reduxForm = _this$props5._reduxForm,\n            previousValue = _this$props5.value;\n        var newValue = eventDataTransferGetData(event, dataKey);\n        var defaultPrevented = false;\n\n        if (onDrop) {\n          onDrop(_extends({}, event, {\n            preventDefault: function preventDefault() {\n              defaultPrevented = true;\n              return eventPreventDefault(event);\n            }\n          }), newValue, previousValue, name);\n        }\n\n        if (!defaultPrevented) {\n          // dispatch change action\n          dispatch(_reduxForm.change(name, newValue));\n          eventPreventDefault(event);\n        }\n      }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    _createClass(ConnectedField, [{\n      key: 'shouldComponentUpdate',\n      value: function shouldComponentUpdate(nextProps) {\n        var _this2 = this;\n\n        var nextPropsKeys = Object.keys(nextProps);\n        var thisPropsKeys = Object.keys(this.props); // if we have children, we MUST update in React 16\n        // https://twitter.com/erikras/status/915866544558788608\n\n        return !!(this.props.children || nextProps.children || nextPropsKeys.length !== thisPropsKeys.length || nextPropsKeys.some(function (prop) {\n          if (~(nextProps.immutableProps || []).indexOf(prop)) {\n            return _this2.props[prop] !== nextProps[prop];\n          }\n\n          return !~propsToNotUpdateFor.indexOf(prop) && !deepEqual(_this2.props[prop], nextProps[prop]);\n        }));\n      }\n    }, {\n      key: 'getRenderedComponent',\n      value: function getRenderedComponent() {\n        return this.ref;\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var _props = this.props,\n            component = _props.component,\n            withRef = _props.withRef,\n            name = _props.name,\n            _reduxForm = _props._reduxForm,\n            normalize = _props.normalize,\n            onBlur = _props.onBlur,\n            onChange = _props.onChange,\n            onFocus = _props.onFocus,\n            onDragStart = _props.onDragStart,\n            onDrop = _props.onDrop,\n            immutableProps = _props.immutableProps,\n            rest = _objectWithoutProperties(_props, ['component', 'withRef', 'name', '_reduxForm', 'normalize', 'onBlur', 'onChange', 'onFocus', 'onDragStart', 'onDrop', 'immutableProps']);\n\n        var _createFieldProps = createFieldProps(structure, name, _extends({}, rest, {\n          form: _reduxForm.form,\n          onBlur: this.handleBlur,\n          onChange: this.handleChange,\n          onDrop: this.handleDrop,\n          onDragStart: this.handleDragStart,\n          onFocus: this.handleFocus\n        })),\n            custom = _createFieldProps.custom,\n            props = _objectWithoutProperties(_createFieldProps, ['custom']);\n\n        if (withRef) {\n          custom.ref = this.saveRef;\n        }\n\n        if (typeof component === 'string') {\n          var input = props.input,\n              meta = props.meta; // eslint-disable-line no-unused-vars\n          // flatten input into other props\n\n          return createElement(component, _extends({}, input, custom));\n        } else {\n          return createElement(component, _extends({}, props, custom));\n        }\n      }\n    }]);\n\n    return ConnectedField;\n  }(Component);\n\n  ConnectedField.propTypes = {\n    component: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.node]).isRequired,\n    props: PropTypes.object\n  };\n  var connector = connect(function (state, ownProps) {\n    var name = ownProps.name,\n        _ownProps$_reduxForm = ownProps._reduxForm,\n        initialValues = _ownProps$_reduxForm.initialValues,\n        getFormState = _ownProps$_reduxForm.getFormState;\n    var formState = getFormState(state);\n    var initialState = getIn(formState, 'initial.' + name);\n    var initial = initialState !== undefined ? initialState : initialValues && getIn(initialValues, name);\n    var value = getIn(formState, 'values.' + name);\n    var submitting = getIn(formState, 'submitting');\n    var syncError = getSyncError(getIn(formState, 'syncErrors'), name);\n    var syncWarning = getSyncWarning(getIn(formState, 'syncWarnings'), name);\n    var pristine = deepEqual(value, initial);\n    return {\n      asyncError: getIn(formState, 'asyncErrors.' + name),\n      asyncValidating: getIn(formState, 'asyncValidating') === name,\n      dirty: !pristine,\n      pristine: pristine,\n      state: getIn(formState, 'fields.' + name),\n      submitError: getIn(formState, 'submitErrors.' + name),\n      submitFailed: getIn(formState, 'submitFailed'),\n      submitting: submitting,\n      syncError: syncError,\n      syncWarning: syncWarning,\n      initial: initial,\n      value: value,\n      _value: ownProps.value // save value passed in (for checkboxes)\n\n    };\n  }, undefined, undefined, {\n    withRef: true\n  });\n  return connector(ConnectedField);\n};\n\nexport default createConnectedField;","import _isEqualWith from 'lodash-es/isEqualWith';\n\nvar customizer = function customizer(objectValue, otherValue, indexOrkey, object, other, stack) {\n  // https://lodash.com/docs/4.17.4#isEqualWith\n  if (stack) {\n    // Shallow compares\n    // For 1st level, stack === undefined.\n    //   -> Do nothing (and implicitly return undefined so that it goes to compare 2nd level)\n    // For 2nd level and up, stack !== undefined.\n    //   -> Compare by === operator\n    return objectValue === otherValue;\n  }\n};\n\nvar shallowCompare = function shallowCompare(instance, nextProps, nextState) {\n  var propsEqual = _isEqualWith(instance.props, nextProps, customizer);\n\n  var stateEqual = _isEqualWith(instance.state, nextState, customizer);\n\n  return !propsEqual || !stateEqual;\n};\n\nexport default shallowCompare;","var formatName = function formatName(_ref, name) {\n  var sectionPrefix = _ref._reduxForm.sectionPrefix;\n  return sectionPrefix ? sectionPrefix + '.' + name : name;\n};\n\nexport default formatName;","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component, createElement } from 'react';\nimport { polyfill } from 'react-lifecycles-compat';\nimport PropTypes from 'prop-types';\nimport invariant from 'invariant';\nimport createConnectedField from './ConnectedField';\nimport shallowCompare from './util/shallowCompare';\nimport prefixName from './util/prefixName';\nimport plain from './structure/plain';\n\nvar createField = function createField(structure) {\n  var ConnectedField = createConnectedField(structure);\n  var setIn = structure.setIn;\n\n  var Field = function (_Component) {\n    _inherits(Field, _Component);\n\n    function Field(props, context) {\n      _classCallCheck(this, Field);\n\n      var _this = _possibleConstructorReturn(this, (Field.__proto__ || Object.getPrototypeOf(Field)).call(this, props, context));\n\n      _this.saveRef = function (ref) {\n        return _this.ref = ref;\n      };\n\n      _this.normalize = function (name, value) {\n        var normalize = _this.props.normalize;\n\n        if (!normalize) {\n          return value;\n        }\n\n        var previousValues = _this.context._reduxForm.getValues();\n\n        var previousValue = _this.value;\n        var nextValues = setIn(previousValues, name, value);\n        return normalize(value, previousValue, nextValues, previousValues);\n      };\n\n      if (!context._reduxForm) {\n        throw new Error('Field must be inside a component decorated with reduxForm()');\n      }\n\n      return _this;\n    }\n\n    _createClass(Field, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        this.context._reduxForm.register(this.name, 'Field', function () {\n          return _this2.props.validate;\n        }, function () {\n          return _this2.props.warn;\n        });\n      }\n    }, {\n      key: 'shouldComponentUpdate',\n      value: function shouldComponentUpdate(nextProps, nextState) {\n        return shallowCompare(this, nextProps, nextState);\n      }\n    }, {\n      key: 'componentWillReceiveProps',\n      value: function componentWillReceiveProps(nextProps, nextContext) {\n        var oldName = prefixName(this.context, this.props.name);\n        var newName = prefixName(nextContext, nextProps.name);\n\n        if (oldName !== newName || // use deepEqual here because they could be a function or an array of functions\n        !plain.deepEqual(this.props.validate, nextProps.validate) || !plain.deepEqual(this.props.warn, nextProps.warn)) {\n          // unregister old name\n          this.context._reduxForm.unregister(oldName); // register new name\n\n\n          this.context._reduxForm.register(newName, 'Field', function () {\n            return nextProps.validate;\n          }, function () {\n            return nextProps.warn;\n          });\n        }\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        this.context._reduxForm.unregister(this.name);\n      }\n    }, {\n      key: 'getRenderedComponent',\n      value: function getRenderedComponent() {\n        invariant(this.props.withRef, 'If you want to access getRenderedComponent(), ' + 'you must specify a withRef prop to Field');\n        return this.ref ? this.ref.getWrappedInstance().getRenderedComponent() : undefined;\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        return createElement(ConnectedField, _extends({}, this.props, {\n          name: this.name,\n          normalize: this.normalize,\n          _reduxForm: this.context._reduxForm,\n          ref: this.saveRef\n        }));\n      }\n    }, {\n      key: 'name',\n      get: function get() {\n        return prefixName(this.context, this.props.name);\n      }\n    }, {\n      key: 'dirty',\n      get: function get() {\n        return !this.pristine;\n      }\n    }, {\n      key: 'pristine',\n      get: function get() {\n        return !!(this.ref && this.ref.getWrappedInstance().isPristine());\n      }\n    }, {\n      key: 'value',\n      get: function get() {\n        return this.ref && this.ref.getWrappedInstance().getValue();\n      }\n    }]);\n\n    return Field;\n  }(Component);\n\n  Field.propTypes = {\n    name: PropTypes.string.isRequired,\n    component: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.node]).isRequired,\n    format: PropTypes.func,\n    normalize: PropTypes.func,\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func,\n    onFocus: PropTypes.func,\n    onDragStart: PropTypes.func,\n    onDrop: PropTypes.func,\n    parse: PropTypes.func,\n    props: PropTypes.object,\n    validate: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]),\n    warn: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]),\n    withRef: PropTypes.bool,\n    immutableProps: PropTypes.arrayOf(PropTypes.string)\n  };\n  Field.contextTypes = {\n    _reduxForm: PropTypes.object\n  };\n  polyfill(Field);\n  return Field;\n};\n\nexport default createField;","import createField from './createField';\nimport plain from './structure/plain';\nexport default createField(plain);","var createGetFormValues = function createGetFormValues(_ref) {\n  var getIn = _ref.getIn;\n  return function (form, getFormState) {\n    return function (state) {\n      var nonNullGetFormState = getFormState || function (state) {\n        return getIn(state, 'form');\n      };\n\n      return getIn(nonNullGetFormState(state), form + '.values');\n    };\n  };\n};\n\nexport default createGetFormValues;","import createGetFormValues from './selectors/getFormValues';\nimport plain from './structure/plain';\nexport default createGetFormValues(plain);","/**\r\n * TabView.js\r\n * TabView that uses a carousel or fading.\r\n *\r\n * For carousel, it will take in multiple elements in\r\n * an array to swap when changed tabs.\r\n *\r\n * For fading view, it will only take the 1st element in the array,\r\n * but it does a fading to simulate and give time for the change of state\r\n * to happen in that element.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport window from 'global/window';\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { connect } from 'react-redux';\r\nimport { Carousel } from 'react-responsive-carousel';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport DropDownV2 from '../../Forms/DropDown/DropDownV2';\r\n\r\nimport { setTabSelection } from '../../../actions/tabActions';\r\n\r\nimport './TabView.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass TabView extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const {\r\n      currentTabSelection,\r\n      tabs,\r\n      maxTabWidthPx,\r\n      isDataFadeOnly,\r\n      padding,\r\n      children,\r\n    } = nextProps;\r\n\r\n    const { activeIndex } = prevState;\r\n\r\n    let result = null;\r\n\r\n    if (tabs && currentTabSelection) {\r\n      const newIndex = _.findIndex(tabs, tab => tab.desc === currentTabSelection);\r\n      if (newIndex >= 0 && newIndex !== activeIndex) {\r\n        result = {\r\n          activeIndex: newIndex,\r\n        };\r\n      }\r\n    }\r\n\r\n    if (tabs !== prevState.tabs && children) {\r\n      const isUsingMaxWidth = maxTabWidthPx > 0;\r\n      const maxWidth = (100 - padding) / (isDataFadeOnly ? tabs.length : children.length);\r\n      const tabWidth = isUsingMaxWidth ? maxTabWidthPx : maxWidth;\r\n\r\n      result = {\r\n        ...result,\r\n        tabs,\r\n        width: tabWidth,\r\n        widthPercentage: isUsingMaxWidth ? `${maxTabWidthPx}px` : `${tabWidth}%`,\r\n        maxWidth: `${maxWidth}%`,\r\n      };\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {object} props Component props\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const {\r\n      padding,\r\n      children,\r\n      maxTabWidthPx,\r\n      isDataFadeOnly,\r\n      tabs,\r\n      initialIndex,\r\n    } = this.props;\r\n\r\n    const isUsingMaxWidth = maxTabWidthPx > 0;\r\n    const maxWidth = (100 - padding) / (isDataFadeOnly ? tabs.length : children.length);\r\n    const tabWidth = isUsingMaxWidth ? maxTabWidthPx : maxWidth;\r\n\r\n    this.state = {\r\n      activeIndex: initialIndex,\r\n      containerWidth: 0,\r\n      width: tabWidth,\r\n      widthPercentage: isUsingMaxWidth ? `${maxTabWidthPx}px` : `${tabWidth}%`,\r\n      maxWidth: `${maxWidth}%`,\r\n      paddingWidth: maxTabWidthPx ? '100%' : `${padding}%`,\r\n      isControlVisible: true,\r\n      isUsingMaxWidth,\r\n      isDropDownControl: tabs && tabs.length > 10,\r\n      fadeStyle: '',\r\n      tabs,\r\n    };\r\n\r\n    this.goToIndex = this.goToIndex.bind(this);\r\n\r\n    this.handleResize = this.handleResize.bind(this);\r\n    this.resizeTabHeight = this.resizeTabHeight.bind(this);\r\n    this.renderTabs = this.renderTabs.bind(this);\r\n    this.renderTabContent = this.renderTabContent.bind(this);\r\n    this.renderControls = this.renderControls.bind(this);\r\n    this.renderSlides = this.renderSlides.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { tabs } = this.state;\r\n    const {\r\n      initialIndex,\r\n      name,\r\n      changeTab,\r\n    } = this.props;\r\n\r\n    changeTab(name, tabs[0].desc);\r\n\r\n    window.addEventListener('resize', this.handleResize);\r\n\r\n    this.handleResize();\r\n\r\n    this.resizeTabHeight(initialIndex, ReactDOM.findDOMNode(this.carousel));\r\n\r\n    this.setState({\r\n      activeIndex: initialIndex,\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { tabs, activeIndex, containerWidth } = this.state;\r\n    const { setTriggerHeightUpdate } = this.props;\r\n    if (!prevProps.setTriggerHeightUpdate && setTriggerHeightUpdate) {\r\n      const { resizeTabHeight } = this;\r\n\r\n      setTriggerHeightUpdate(() => {\r\n        resizeTabHeight(activeIndex);\r\n      });\r\n    }\r\n\r\n    if (tabs !== prevState.tabs) {\r\n      this.resizeTabHeight(activeIndex);\r\n    }\r\n\r\n    if (this.tabContainer) {\r\n      const tabWidth = this.tabContainer.getBoundingClientRect().width;\r\n      if (tabWidth !== containerWidth) {\r\n        setTimeout(() => this.setState({ containerWidth: tabWidth }), 100);\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.handleResize);\r\n  }\r\n\r\n  handleResize() {\r\n    const { isControlVisible, activeIndex, tabs } = this.state;\r\n    const { hideWidth } = this.props;\r\n\r\n    this.setState({\r\n      isDropDownControl: window.innerWidth < 560 || (tabs && tabs.length > 10),\r\n    });\r\n\r\n\r\n    this.resizeTabHeight(activeIndex);\r\n\r\n    if (hideWidth) {\r\n      const isVisibleNow = window.innerWidth > hideWidth;\r\n\r\n      this.setState({\r\n        isControlVisible: isVisibleNow,\r\n      });\r\n\r\n      if (isControlVisible && !isVisibleNow) {\r\n        this.goToIndex(0);\r\n      }\r\n    }\r\n  }\r\n\r\n  goToIndex(newIndex, isForced = false) {\r\n    const { tabs, activeIndex } = this.state;\r\n    if (!isForced && newIndex === activeIndex) {\r\n      return;\r\n    }\r\n    const {\r\n      name,\r\n      isDataFadeOnly,\r\n      changeTab,\r\n    } = this.props;\r\n\r\n\r\n    if (isDataFadeOnly) {\r\n      this.setState({\r\n        fadeStyle: 'animated fadeOut',\r\n      });\r\n\r\n      this.setState({ activeIndex: newIndex });\r\n      changeTab(name, tabs[newIndex].desc);\r\n\r\n      setTimeout(() => {\r\n        if (tabs[newIndex].onClick) {\r\n          tabs[newIndex].onClick();\r\n        }\r\n        this.setState({\r\n          fadeStyle: 'animated fadeIn',\r\n        });\r\n\r\n        setTimeout(() => {\r\n          this.setState({\r\n            fadeStyle: '',\r\n          });\r\n        }, 300);\r\n      }, 300);\r\n    } else {\r\n      this.setState({ activeIndex: newIndex });\r\n      changeTab(name, tabs[newIndex].desc);\r\n      if (tabs[newIndex].onClick) {\r\n        tabs[newIndex].onClick();\r\n      }\r\n    }\r\n\r\n    this.resizeTabHeight(newIndex);\r\n  }\r\n\r\n  resizeTabHeight(index, carouselIncoming = null, overrideNegation = null) {\r\n    const { isConstantHeight } = this.props;\r\n\r\n    const carouselToUse = carouselIncoming !== null ? carouselIncoming : ReactDOM.findDOMNode(this.carousel);\r\n    // No other way for now >_<\r\n    if (!isConstantHeight && carouselToUse) {\r\n      const list = carouselToUse.getElementsByTagName('UL')[0];\r\n      const children = list.children[index];\r\n\r\n      if (children) {\r\n        const sliderWrapper = list.parentNode;\r\n        const itemHeight = overrideNegation ? children.children[0].scrollHeight + overrideNegation : children.children[0].scrollHeight;\r\n        sliderWrapper.style.height = itemHeight === 0 ? 1000 : `${itemHeight}px`;\r\n      }\r\n    }\r\n  }\r\n\r\n  renderTabContent(tab, activeStyle) {\r\n    const {\r\n      big,\r\n    } = this.props;\r\n\r\n    const bigTextStyle = big ? 'tab-text-big' : '';\r\n\r\n    const isWithImg = !_.isString(tab);\r\n    const desc = isWithImg ? tab.desc : tab;\r\n    const img = isWithImg ? tab.img : null;\r\n\r\n    return (\r\n      <Fragment>\r\n        {\r\n          img ?\r\n            <div className=\"img-container\">\r\n              <img className={activeStyle} src={img} alt={`${desc}.svg`} />\r\n            </div>\r\n          :\r\n            null\r\n        }\r\n        <p className={`${activeStyle} ${bigTextStyle}`}>{desc}</p>\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderTabs(width) {\r\n    const { activeIndex, tabs } = this.state;\r\n    const {\r\n      big,\r\n      maxTabWidthPx,\r\n    } = this.props;\r\n\r\n    const bigTabStyle = big ? 'tab-big' : '';\r\n\r\n    return _.map(tabs, (tab, index) => {\r\n      const tabStyle = index === activeIndex ? 'active' : 'inactive';\r\n      const maxWidth = maxTabWidthPx > 0 ? maxTabWidthPx : null;\r\n\r\n      return (\r\n        <div\r\n          className={`tab ${bigTabStyle}`}\r\n          style={{ width, maxWidth }}\r\n          key={`tab${index}`}\r\n        >\r\n          <div\r\n            className=\"tab-inner\"\r\n            onClick={() => { this.goToIndex(index); }}\r\n            role=\"button\"\r\n            tabIndex={-1}\r\n            onKeyDown={() => {}}\r\n          >\r\n            {this.renderTabContent(tab, tabStyle)}\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  renderSlides() {\r\n    const { children } = this.props;\r\n    const { goToIndex } = this;\r\n\r\n    return _.map(children, (item, index) => (\r\n      <div key={`tab-item${index}`}>\r\n        {React.cloneElement(item, {\r\n          updateTabHeight: (overrideNegation = null) => this.resizeTabHeight(index, null, overrideNegation),\r\n          goToIndex,\r\n        })}\r\n      </div>\r\n    ));\r\n  }\r\n\r\n  renderControls() {\r\n    const {\r\n      activeIndex,\r\n      width,\r\n      widthPercentage,\r\n      maxWidth,\r\n      containerWidth,\r\n      paddingWidth,\r\n      isUsingMaxWidth,\r\n      isDropDownControl,\r\n      tabs,\r\n    } = this.state;\r\n\r\n    const {\r\n      style,\r\n      isDisableDropdown,\r\n      big,\r\n      charged,\r\n    } = this.props;\r\n\r\n    if (isDisableDropdown || !isDropDownControl) {\r\n      const isOverContainer = tabs && tabs.length * width > containerWidth;\r\n      const selectedMargin = isUsingMaxWidth && !isOverContainer ? activeIndex * width : `${activeIndex / tabs.length * 100}%`;\r\n      const bigStyle = big ? 'tab-big' : '';\r\n      const tabStyle = charged ? 'tab-container-charged' : '';\r\n\r\n      return (\r\n        <div\r\n          style={style}\r\n          className={`tab-container ${tabStyle} tab-container-padding`}\r\n          ref={node => this.tabContainer = node}\r\n        >\r\n          {this.renderTabs(isOverContainer ? maxWidth : widthPercentage)}\r\n          <div className=\"tab tab-padding\" style={{ width: paddingWidth }} />\r\n          <div\r\n            className={`selected-tab ${bigStyle}`}\r\n            style={{\r\n              width: widthPercentage,\r\n              maxWidth,\r\n              marginLeft: selectedMargin,\r\n            }}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const droplist = _.map(tabs, tab => tab.desc);\r\n\r\n    if (!isDisableDropdown && isDropDownControl) {\r\n      return (\r\n        <div className=\"tab-container\">\r\n          <DropDownV2\r\n            ref={node => this.dropdown = node}\r\n            placeholderString=\"Enter or select your destinations\"\r\n            dropList={droplist}\r\n            size=\"medium\"\r\n            zIndex={100}\r\n            isDisableTyping\r\n            notForm\r\n            valueChangeCallback={value => this.goToIndex(_.findIndex(tabs, tab => tab.desc === value))}\r\n            overrideValue={tabs[activeIndex].desc}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      activeIndex,\r\n      isControlVisible,\r\n      fadeStyle,\r\n    } = this.state;\r\n\r\n    const { isDataFadeOnly, className, charged } = this.props;\r\n    const containerStyle = charged ? 'tabview-container-charged' : '';\r\n\r\n    return (\r\n      <div className={`tabview-container ${containerStyle} ${className}`}>\r\n        {\r\n          isControlVisible ?\r\n            this.renderControls()\r\n          :\r\n            null\r\n        }\r\n        <div className={`tab-items-container ${fadeStyle}`}>\r\n          {\r\n            isDataFadeOnly ?\r\n              this.props.children\r\n            :\r\n              <Carousel\r\n                showThumbs={false}\r\n                showIndicators={false}\r\n                showArrows={false}\r\n                showStatus={false}\r\n                selectedItem={activeIndex}\r\n                swipeable={false}\r\n                onChange={index => this.goToIndex(index)}\r\n                ref={node => (this.carousel = node)}\r\n              >\r\n                {this.renderSlides()}\r\n              </Carousel>\r\n          }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTabView.defaultProps = {\r\n  padding: 0,\r\n  hideWidth: 0,\r\n  maxTabWidthPx: 0,\r\n  style: null,\r\n  isDisableDropdown: false,\r\n  isConstantHeight: false,\r\n  initialIndex: 0,\r\n  setTriggerHeightUpdate: null,\r\n  isDataFadeOnly: false,\r\n  big: false,\r\n  className: null,\r\n  charged: null,\r\n};\r\n\r\nTabView.propTypes = {\r\n  padding: PropTypes.number,\r\n  tabs: PropTypes.array.isRequired,\r\n  hideWidth: PropTypes.number,\r\n  maxTabWidthPx: PropTypes.number,\r\n  style: PropTypes.object,\r\n  isDisableDropdown: PropTypes.bool,\r\n  isConstantHeight: PropTypes.bool,\r\n  initialIndex: PropTypes.number,\r\n  setTriggerHeightUpdate: PropTypes.func,\r\n  isDataFadeOnly: PropTypes.bool,\r\n  big: PropTypes.bool,\r\n  name: PropTypes.string.isRequired,\r\n  className: PropTypes.string,\r\n  charged: PropTypes.bool,\r\n  changeTab: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state, props) => ({\r\n  currentTabSelection: state.tab[props.name],\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  changeTab: (tabName, value) => {\r\n    dispatch(setTabSelection(tabName, value));\r\n  },\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps, null, { withRef: true })(TabView);\r\n","module.exports = __webpack_public_path__ + \"static/media/dateIn.1b60a0c4.svg\";","module.exports = __webpack_public_path__ + \"static/media/dateOut.98be354a.svg\";","/**\r\n * Selection.js\r\n * Selection with dynamic content\r\n *\r\n * @version 0.0.1\r\n * @author [Jia Hao](jiahao@policypal.com)\r\n */\r\nimport React, { PureComponent } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { Field, getFormValues } from 'redux-form';\r\nimport { Row, Col } from 'reactstrap';\r\nimport _ from 'lodash';\r\n\r\nimport CheckIcon from 'assets/images/common/CheckIcon.svg';\r\n\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport './Selection.scss';\r\n\r\nconst marginTopOffset = 10;\r\n\r\n/**\r\n * Custom Selection Class\r\n */\r\nclass Selection extends PureComponent {\r\n  static getStoreSelection(formStore, name) {\r\n    const storeValues = formStore[name];\r\n    if (!storeValues) {\r\n      return null;\r\n    }\r\n\r\n    const storeValuesArray = storeValues.constructor === Array ? storeValues : [storeValues];\r\n    const resultState = {};\r\n    _.forEach(storeValuesArray, (v) => {\r\n      if (v) { resultState[v] = true; }\r\n    });\r\n    return resultState;\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const { resultState, selections } = prevState;\r\n    const { formStore, name } = nextProps;\r\n    if (formStore && formStore[name] !== resultState) {\r\n      return {\r\n        resultState: formStore[name],\r\n        selections: Selection.getStoreSelection(formStore, name) || selections,\r\n      };\r\n    }\r\n\r\n    return null;\r\n  }\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selections: {},\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const {\r\n      name,\r\n      formStore,\r\n      noEmptyTextSelection,\r\n    } = this.props;\r\n\r\n    if (formStore && formStore[name]) {\r\n      this.setState({\r\n        selections: Selection.getStoreSelection(formStore, name),\r\n      });\r\n\r\n      return;\r\n    }\r\n\r\n    if (noEmptyTextSelection) {\r\n      this.setInitialValue();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { name, formStore } = this.props;\r\n    if (name !== prevProps.name) {\r\n      const value = formStore[name];\r\n      if (!value) {\r\n        this.setInitialValue();\r\n      }\r\n    }\r\n  }\r\n\r\n  onToggleSelection(option) {\r\n    const { selections } = this.state;\r\n    const {\r\n      name,\r\n      type,\r\n      change,\r\n      noEmptyTextSelection,\r\n    } = this.props;\r\n\r\n    const { key } = option;\r\n\r\n    const toggleResult = !this.state.selections[key];\r\n\r\n    let newSelections = {};\r\n    let resultState = null;\r\n    let noUpdate = false;\r\n    switch (type) {\r\n      case 'text-selection':\r\n      case 'radio':\r\n        if (!noEmptyTextSelection || (noEmptyTextSelection && !selections[key])) {\r\n          newSelections = _.mapValues(selections, () => false);\r\n          newSelections[key] = toggleResult;\r\n          resultState = _.findKey(newSelections, v => v);\r\n        } else {\r\n          noUpdate = true;\r\n        }\r\n        break;\r\n      case 'checkbox':\r\n        newSelections = Object.assign({}, selections, { [key]: toggleResult });\r\n        resultState = [];\r\n        _.each(newSelections, (v, k) => {\r\n          if (v) { resultState.push(k); }\r\n        });\r\n        break;\r\n      default: break;\r\n    }\r\n\r\n    if (!noUpdate) {\r\n      this.setState({ selections: newSelections });\r\n      change(name, resultState);\r\n    }\r\n  }\r\n\r\n  setInitialValue() {\r\n    const {\r\n      options,\r\n      change,\r\n      name,\r\n    } = this.props;\r\n\r\n    const newSelections = { [options[0].key]: true };\r\n    this.setState({\r\n      selections: newSelections,\r\n    });\r\n    change(name, _.findKey(newSelections, v => v));\r\n  }\r\n\r\n  renderSelectionInsides(option, selectionState) {\r\n    const { type } = this.props;\r\n\r\n    switch (type) {\r\n      case 'radio':\r\n        return <div className={`${type}-inner-${selectionState}`} />;\r\n      case 'checkbox':\r\n        return <img src={CheckIcon} className={`checkbox-inner-${selectionState}`} alt=\"check\" />;\r\n      case 'text-selection':\r\n        return <div className=\"description py-3\">{option.description}</div>;\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  renderSelectionIcon(option) {\r\n    const { selections } = this.state;\r\n    const { type, sizeInSM } = this.props;\r\n    const { key, description } = option;\r\n    const isSelected = (selections[key] || false);\r\n    const selectionState = (isSelected) ? 'highlighted' : 'default';\r\n\r\n    const children = (\r\n      <div\r\n        role=\"button\"\r\n        onKeyPress={() => {}}\r\n        onClick={() => this.onToggleSelection(option)}\r\n        tabIndex={0}\r\n        className={`${type}-outer-${selectionState}`}\r\n      >\r\n        {this.renderSelectionInsides(option, selectionState)}\r\n      </div>\r\n    );\r\n\r\n    if (type === 'text-selection') {\r\n      return (\r\n        <Col sm={sizeInSM} key={key} className=\"text-sel-col\">\r\n          <div className=\"single-selection\" key={key}>\r\n            {children}\r\n          </div>\r\n        </Col>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Col sm={sizeInSM} key={key}>\r\n        <div className=\"single-selection\">\r\n          {children}\r\n          <div className=\"description\">{description}</div>\r\n        </div>\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      name,\r\n      options,\r\n      type,\r\n      desc,\r\n      extraInfo,\r\n      errorString,\r\n    } = this.props;\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        desc={desc}\r\n        ref={node => (this.formParent = node)}\r\n        extraInfo={\r\n          <div style={{ marginTop: -marginTopOffset }}>\r\n            {extraInfo}\r\n          </div>\r\n        }\r\n        errorString={errorString}\r\n      >\r\n        <Field name={name} component={() => <div />} />\r\n        <div className=\"selection\">\r\n          <Row className={(type === 'text-selection') ? 'text-sel-container' : ''}>\r\n            {\r\n              _.map(options, option => this.renderSelectionIcon(option))\r\n            }\r\n          </Row>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nSelection.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  type: PropTypes.string.isRequired,\r\n  options: PropTypes.array.isRequired, // each option is { key, description }\r\n  change: PropTypes.func.isRequired,\r\n  sizeInSM: PropTypes.number,\r\n  desc: PropTypes.string,\r\n  formStore: PropTypes.object,\r\n  extraInfo: PropTypes.object,\r\n  errorString: PropTypes.string,\r\n  noEmptyTextSelection: PropTypes.bool,\r\n};\r\n\r\nSelection.defaultProps = {\r\n  sizeInSM: 12,\r\n  desc: null,\r\n  formStore: null,\r\n  extraInfo: null,\r\n  errorString: null,\r\n  noEmptyTextSelection: false,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  formStore: (getFormValues(ownProps.form)(state)),\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Selection);\r\n","module.exports = __webpack_public_path__ + \"static/media/CheckIcon.02ce5aca.svg\";","/**\r\n * DatePickerV2.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport document from 'global/document';\r\nimport window from 'global/window';\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport ReactDOM from 'react-dom';\r\nimport { Field, getFormValues } from 'redux-form';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\n\r\nimport Arrow from 'assets/images/forms/arrow.svg';\r\nimport DateIn from 'assets/images/forms/dateIn.svg';\r\nimport DateOut from 'assets/images/forms/dateOut.svg';\r\n\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\nimport { isDateEqual, storeStringToDate } from '../../../lib/dateFunctions';\r\n\r\nimport '../DropDown/DropDown.scss';\r\nimport './DatePickerV2.scss';\r\n\r\n/**\r\n * Constants\r\n */\r\n// Placeholder string when no input\r\nconst placeholderStringDefault = 'dd/mm/yyy';\r\n// Month text for display\r\nconst monthTextMapping = [\r\n  'January',\r\n  'Feburary',\r\n  'March',\r\n  'April',\r\n  'May',\r\n  'June',\r\n  'July',\r\n  'August',\r\n  'September',\r\n  'October',\r\n  'November',\r\n  'December',\r\n];\r\n\r\n// Height for medium dropdown\r\nconst mediumHeight = 60;\r\n// Height for big dropdown\r\nconst bigHeight = 72;\r\n// Default year range if not user defined\r\nconst deafultYearRange = 100;\r\n\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass DatePickerV2 extends Component {\r\n  /**\r\n   * Lifecycle Method - getDerivedStateFromProps\r\n   *\r\n   * Used to set sibling date range values for\r\n   * selected start and end date\r\n   *\r\n   * @param {object} nextProps Component props\r\n   */\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const result = {};\r\n\r\n    // Update selected Start End date state\r\n    function updateStartEndDate(dateName, date) {\r\n      const dateReformed = storeStringToDate(date);\r\n      if (dateReformed !== -1) {\r\n        result[dateName] = dateReformed;\r\n      }\r\n    }\r\n\r\n    // Only valid for date range picker\r\n    const { isRange, endDate } = nextProps;\r\n\r\n    if (isRange) {\r\n      const {\r\n        incomingStartDate,\r\n        incomingEndDate,\r\n      } = nextProps;\r\n      updateStartEndDate('selectedStartDate', incomingStartDate);\r\n      updateStartEndDate('selectedEndDate', incomingEndDate);\r\n    }\r\n\r\n    // Update end date from date range picker\r\n    if (endDate && !isDateEqual(endDate, prevState.dateRangeEnd)) {\r\n      result.dateRangeEnd = endDate;\r\n    }\r\n\r\n    return result === {} ? null : result;\r\n  }\r\n\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {object} props Component props\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // size - Size of this control\r\n    // startDate - Start range of date\r\n    // endDate - End range of date\r\n    // currDate - Day to set current view in calender (Default to today)\r\n    const {\r\n      size,\r\n      startDate,\r\n      endDate,\r\n      currDate,\r\n      placeholderString,\r\n    } = this.props;\r\n\r\n    // Get the control height\r\n    const height = size === 'big' ? bigHeight : mediumHeight;\r\n\r\n    // Get current date\r\n    const date = currDate || new Date();\r\n    const year = date.getFullYear();\r\n    const month = date.getMonth();\r\n    // Get first and last day of the month to display\r\n    const firstDay = new Date(year, month, 1);\r\n    const lastDay = new Date(year, month + 1, 0);\r\n    // Get the calender range\r\n    const dateRangeStart = startDate != null ? startDate : new Date(year - deafultYearRange, month);\r\n    const dateRangeEnd = endDate != null ? endDate : new Date(year + deafultYearRange, month);\r\n\r\n    // Get default placeholder string\r\n    const placeHolder = placeholderString != null ? placeholderString : placeholderStringDefault;\r\n\r\n    // isOpened - Whether dropdown is opened\r\n    // isError - Whether there is input error\r\n    // selectedString - The selected date string\r\n    // height - Control height\r\n    // currDate - Current selected date in view\r\n    // currFirstDay - Current first day of the month in view\r\n    // currLastDay - Current last day of the month in view\r\n    // monthDropdownOpen - Whether month selector is opened\r\n    // yearDropdownOpen - Whether year selector is opened\r\n    // selectedStartDate - Selected start date(If single select also use this)\r\n    // selectedEndDate - Selected end date for date range picker\r\n    // dateRangeStart - The actual calender start range\r\n    // dateRangeEnd - The actual calender end range\r\n    this.state = {\r\n      isOpened: false,\r\n      selectedString: placeHolder,\r\n      height,\r\n      currDate: date,\r\n      currFirstDay: firstDay,\r\n      currLastDay: lastDay,\r\n      selectedStartDate: null,\r\n      selectedEndDate: null,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      placeHolder,\r\n    };\r\n\r\n    this.handleSelectClick = this.handleSelectClick.bind(this);\r\n    this.handleClickOutside = this.handleClickOutside.bind(this);\r\n    this.handleOnInputChange = this.handleOnInputChange.bind(this);\r\n    this.handleKeyPress = this.handleKeyPress.bind(this);\r\n    this.handleExit = this.handleExit.bind(this);\r\n    this.handleBlur = this.handleBlur.bind(this);\r\n    this.handleFocus = this.handleFocus.bind(this);\r\n\r\n    this.setSelectedDate = this.setSelectedDate.bind(this);\r\n    this.setNewDate = this.setNewDate.bind(this);\r\n    this.setCalender = this.setCalender.bind(this);\r\n    this.onMovement = this.onMovement.bind(this);\r\n\r\n    this.isFromFocus = false;\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentDidMount\r\n   */\r\n  componentDidMount() {\r\n    // Add Handler to handle click outside of screen\r\n    document.addEventListener('mousedown', this.handleClickOutside);\r\n    window.addEventListener('scroll', this.onMovement);\r\n    window.addEventListener('resize', this.onMovement);\r\n\r\n    const {\r\n      name,\r\n      formStore,\r\n      dateInner,\r\n    } = this.props;\r\n\r\n    // Update prefill dates\r\n    if (formStore && formStore[name]) {\r\n      this.setSelectedDate(storeStringToDate(formStore[name]));\r\n    }\r\n\r\n    this.setState({\r\n      dateInnerDOM: ReactDOM.findDOMNode(dateInner),\r\n      datePickerDOM: ReactDOM.findDOMNode(this.wrapperRef),\r\n    });\r\n\r\n    this.onMovement();\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentDidUpdate\r\n   *\r\n   * Used to update dropdown position\r\n   * of month and year selector\r\n   */\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const {\r\n      currDate,\r\n      selectedStartDate,\r\n      selectedEndDate,\r\n      dateRangeEnd,\r\n    } = this.state;\r\n\r\n    const { isStart } = this.props;\r\n\r\n    // If end date is shorten because of start date and\r\n    // end date is beyond range, shift back date\r\n    if (!isDateEqual(prevState.dateRangeEnd, dateRangeEnd)) {\r\n      if (dateRangeEnd < selectedEndDate) {\r\n        this.setSelectedDate(dateRangeEnd);\r\n      }\r\n    }\r\n\r\n    // Set month of end date to be not lesser than start date\r\n    if (!isStart && selectedStartDate && currDate && currDate < selectedStartDate) {\r\n      this.setNewDate(selectedStartDate);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentWillUnmount\r\n   */\r\n  componentWillUnmount() {\r\n    const { dateInner } = this.props;\r\n    // Remove Handler to handle click outside of screen\r\n    document.removeEventListener('mousedown', this.handleClickOutside);\r\n    window.removeEventListener('scroll', this.onMovement);\r\n    window.removeEventListener('resize', this.onMovement);\r\n\r\n    if (dateInner) {\r\n      dateInner.toggleDateInner(false);\r\n    }\r\n  }\r\n\r\n  onMovement() {\r\n    const { dateInnerDOM, datePickerDOM, isOpened } = this.state;\r\n    const { dateInner } = this.props;\r\n\r\n    if (isOpened && dateInnerDOM && datePickerDOM) {\r\n      const isOverHeight = datePickerDOM.getBoundingClientRect().bottom + 540 > window.outerHeight;\r\n      dateInner.setArrowUp(!isOverHeight);\r\n      const top = isOverHeight ? datePickerDOM.getBoundingClientRect().top - 450 : datePickerDOM.getBoundingClientRect().bottom + 10;\r\n      dateInnerDOM.style.left = `${datePickerDOM.getBoundingClientRect().left}px`;\r\n      dateInnerDOM.style.top = `${top}px`;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * setNewDate\r\n   *\r\n   * Set new current date and\r\n   * start and end of calender\r\n   *\r\n   * @param {date} date\r\n   */\r\n  setNewDate(date, extraState = {}, selectedCallback) {\r\n    const { isOpened } = this.state;\r\n    const { dateInner } = this.props;\r\n    const newYear = date.getFullYear();\r\n    const newMonth = date.getMonth();\r\n\r\n    // Get first and last day of visible month\r\n    const firstDay = new Date(newYear, newMonth, 1);\r\n    const lastDay = new Date(newYear, newMonth + 1, 0);\r\n\r\n    // Set new calender values\r\n    this.setState({\r\n      currDate: date,\r\n      currFirstDay: firstDay,\r\n      currLastDay: lastDay,\r\n      ...extraState,\r\n    }, () => {\r\n      if (selectedCallback) {\r\n        selectedCallback({\r\n          currDate: date,\r\n          currFirstDay: firstDay,\r\n          currLastDay: lastDay,\r\n          selectedStartDate: extraState.selectedStartDate,\r\n          selectedEndDate: extraState.selectedEndDate,\r\n        });\r\n      } else if (isOpened) {\r\n        dateInner.setNewState({\r\n          currDate: date,\r\n          currFirstDay: firstDay,\r\n          currLastDay: lastDay,\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * setCalender\r\n   *\r\n   * Set visible calender\r\n   *\r\n   * @param {number} month\r\n   * @param {number} year\r\n   */\r\n  setCalender(month, year) {\r\n    const {\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n    } = this.state;\r\n\r\n    let date = new Date(year, month);\r\n\r\n    // Cap date range\r\n    if (date < dateRangeStart) {\r\n      date = dateRangeStart;\r\n    } else if (date > dateRangeEnd) {\r\n      date = dateRangeEnd;\r\n    }\r\n\r\n    this.setNewDate(date);\r\n    this.wrapperRef.focus();\r\n  }\r\n\r\n  /**\r\n   * setSelectedDate\r\n   *\r\n   * Updated selected date to store\r\n   *\r\n   * @param {date} date\r\n   */\r\n  setSelectedDate(date, selectedCallback = () => {}) {\r\n    const { selectedStartDate, selectedEndDate } = this.state;\r\n\r\n    const {\r\n      change,\r\n      name,\r\n      isStart,\r\n      isRange,\r\n      endRef,\r\n      // dateInner,\r\n    } = this.props;\r\n\r\n    try {\r\n      let storeString = null;\r\n      let dateString = null;\r\n      if (date) {\r\n        // Get date values in string\r\n        const currDay = (`0${date.getDate().toString()}`).slice(-2);\r\n        const currMonth = (`0${(date.getMonth() + 1).toString()}`).slice(-2);\r\n        const currYear = date.getFullYear().toString();\r\n\r\n        // Get date in string\r\n        dateString = `${currDay}/${currMonth}/${currYear}`;\r\n        // String to store in store\r\n        storeString = `${currDay} ${monthTextMapping[currMonth - 1].slice(0, 3)} ${currYear}`;\r\n      }\r\n      \r\n      // Update the date in the store for the form\r\n      change(name, storeString);\r\n\r\n      let newSelectedStartDate = selectedStartDate;\r\n      let newSelectedEndDate = selectedEndDate;\r\n\r\n      // Set end and start to selected date\r\n      // Default use selectedStartDate if not range\r\n      if (isRange && !isStart) {\r\n        newSelectedEndDate = date;\r\n      } else {\r\n        newSelectedStartDate = date;\r\n        if (newSelectedEndDate < newSelectedStartDate) {\r\n          newSelectedEndDate = newSelectedStartDate;\r\n          \r\n          if (endRef && endRef.wrappedInstance) {\r\n            endRef.wrappedInstance.setSelectedDate(newSelectedStartDate);\r\n          }\r\n        }\r\n      }\r\n\r\n      // Set the new date\r\n      this.setNewDate(date, {\r\n        isOpened: false,\r\n        selectedString: dateString,\r\n        selectedEndDate: newSelectedEndDate,\r\n        selectedStartDate: newSelectedStartDate,\r\n      }, selectedCallback);\r\n\r\n      // Close the dropdown and update the selectedString\r\n      // Since is selection, there will be no error\r\n      // this.setState({\r\n      //   isOpened: false,\r\n      //   selectedString: dateString,\r\n      //   selectedEndDate: newSelectedEndDate,\r\n      //   selectedStartDate: newSelectedStartDate,\r\n      // });\r\n\r\n      this.isFromFocus = false;\r\n    } catch (error) {\r\n      // eslint-disable-next-line no-empty\r\n    }\r\n  }\r\n\r\n  /**\r\n   * End selection if click on outside\r\n   *\r\n   * @param {object} event\r\n   */\r\n  handleClickOutside(event) {\r\n    const { isOpened, dateInnerDOM } = this.state;\r\n    const { isTargetWithinDateRangePicker, dateInner } = this.props;\r\n\r\n    // If clicked outside of daterpicekr Inner or wrapper, go to exit\r\n    if (\r\n      isOpened &&\r\n      this.wrapperRef &&\r\n      !this.wrapperRef.contains(event.target) &&\r\n      dateInnerDOM &&\r\n      !dateInnerDOM.contains(event.target)\r\n    ) {\r\n      this.setState({\r\n        isOpened: false,\r\n      });\r\n\r\n      // If outside of any datepicker controls\r\n      if (!isTargetWithinDateRangePicker || (isTargetWithinDateRangePicker && !isTargetWithinDateRangePicker(event.target))) {\r\n        dateInner.toggleDateInner(false);\r\n      }\r\n\r\n      this.handleExit();\r\n\r\n      this.isFromFocus = false;\r\n      // this.handleExit();\r\n      this.doNotBlur = false;\r\n      return;\r\n    }\r\n\r\n    this.doNotBlur = true;\r\n  }\r\n\r\n  /**\r\n   * handleKeyPress\r\n   *\r\n   * Handle on enter key\r\n   *\r\n   * @param {object} target\r\n   */\r\n  handleKeyPress(target) {\r\n    const { dateInner } = this.props;\r\n\r\n    // If pressed on enter, go to exit\r\n    if (target.charCode === 13) {\r\n      target.preventDefault();\r\n      this.handleExit();\r\n      dateInner.toggleDateInner(false);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * handleSelectClick\r\n   *\r\n   * Handle toggling of datepicker\r\n   */\r\n  handleSelectClick() {\r\n    const {\r\n      isOpened,\r\n      placeHolder,\r\n      currDate,\r\n      currFirstDay,\r\n      currLastDay,\r\n      selectedStartDate,\r\n      selectedEndDate,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n    } = this.state;\r\n\r\n    const {\r\n      change,\r\n      name,\r\n      dateInner,\r\n      isRange,\r\n      isStart,\r\n      formStore,\r\n    } = this.props;\r\n\r\n    let selectedStart = selectedStartDate || (formStore && storeStringToDate(formStore.start_date));\r\n    let selectedEnd = selectedEndDate || (formStore && storeStringToDate(formStore.end_date));\r\n    selectedStart = selectedStart === -1 ? null : selectedStart;\r\n    selectedEnd = selectedEnd === -1 ? null : selectedEnd;\r\n\r\n    const selectedCallback = (extraState = {}) => {\r\n      dateInner.toggleDateInner(!isOpened, {\r\n        setNewDate: this.setNewDate,\r\n        setSelectedDate: this.setSelectedDate,\r\n        currDate,\r\n        currFirstDay,\r\n        currLastDay,\r\n        selectedStartDate: selectedStart,\r\n        selectedEndDate: selectedEnd,\r\n        dateRangeStart,\r\n        dateRangeEnd,\r\n        isRange,\r\n        isStart,\r\n        ...extraState,\r\n      });\r\n\r\n      // ]if (!this.isFromFocus) {\r\n      this.setState({\r\n        isOpened: !isOpened,\r\n      }, () => {\r\n        if (!isOpened) {\r\n          this.onMovement();\r\n        }\r\n      });\r\n\r\n      const { selectedString } = this.state;\r\n      // Open if not opened and set the input string\r\n      // back to date form\r\n      if (!isOpened) {\r\n        if (selectedString !== placeHolder) {\r\n          change(name, selectedString);\r\n        }\r\n      } else {\r\n        this.handleExit();\r\n        if (this.inputField) {\r\n          const input = this.inputField.getRenderedComponent();\r\n          if (input) {\r\n            setTimeout(() => input.blur(), 2);\r\n          }\r\n        }\r\n      }\r\n      // }\r\n\r\n      this.isFromFocus = false;\r\n    };\r\n\r\n    if (isStart && selectedStart) {\r\n      this.setSelectedDate(selectedStart, selectedCallback);\r\n    } else if (selectedEnd) {\r\n      this.setSelectedDate(selectedEnd, selectedCallback);\r\n    } else {\r\n      selectedCallback();\r\n    }\r\n\r\n    // setTimeout(() => {\r\n    //   dateInner.toggleDateInner(!isOpened, {\r\n    //     setNewDate: this.setNewDate,\r\n    //     setSelectedDate: this.setSelectedDate,\r\n    //     currDate,\r\n    //     currFirstDay,\r\n    //     currLastDay,\r\n    //     selectedStartDate: selectedStart,\r\n    //     selectedEndDate: selectedEnd,\r\n    //     dateRangeStart,\r\n    //     dateRangeEnd,\r\n    //     isRange,\r\n    //     isStart,\r\n    //   });\r\n\r\n    //   // ]if (!this.isFromFocus) {\r\n    //   this.setState({\r\n    //     isOpened: !isOpened,\r\n    //   }, () => {\r\n    //     if (!isOpened) {\r\n    //       this.onMovement();\r\n    //     }\r\n    //   });\r\n\r\n    //   const { selectedString } = this.state;\r\n    //   // Open if not opened and set the input string\r\n    //   // back to date form\r\n    //   if (!isOpened) {\r\n    //     if (selectedString !== placeHolder) {\r\n    //       change(name, selectedString);\r\n    //     }\r\n    //   } else {\r\n    //     this.handleExit();\r\n    //     if (this.inputField) {\r\n    //       const input = this.inputField.getRenderedComponent();\r\n    //       if (input) {\r\n    //         setTimeout(() => input.blur(), 2);\r\n    //       }\r\n    //     }\r\n    //   }\r\n    //   // }\r\n\r\n    //   this.isFromFocus = false;\r\n    // }, 10);\r\n  }\r\n\r\n  /**\r\n   * Handles on input changes\r\n   *\r\n   * @param {object} event\r\n   */\r\n  async handleOnInputChange(event) {\r\n    // Wait for event to finish\r\n    await event;\r\n    // Get current input value\r\n    const value = event.target.defaultValue;\r\n\r\n    // Set new list items, height of dropdown list,\r\n    // Force open list on type, and set selected string to value\r\n    this.setState({\r\n      selectedString: value,\r\n    });\r\n  }\r\n\r\n  handleBlur(event) {\r\n    const isChildren = this.wrapperRef.contains(event.relatedTarget);\r\n    if (!isChildren && !this.doNotBlur) {\r\n      // Hackish, but to make sure this comes after setNewDate\r\n      setTimeout(() => {\r\n        this.handleExit();\r\n        this.isFromFocus = false;\r\n      }, 100);\r\n    }\r\n\r\n    this.doNotBlur = false;\r\n  }\r\n\r\n  handleFocus(event) {\r\n    const isChildren = this.wrapperRef.contains(event.relatedTarget);\r\n    if (event.relatedTarget && !isChildren && !this.isClicked) {\r\n      this.handleSelectClick();\r\n      this.isFromFocus = true;\r\n    }\r\n\r\n    this.isClicked = false;\r\n  }\r\n  /**\r\n   * handleExit\r\n   *\r\n   * Handle exit selection of entered input\r\n   */\r\n  handleExit() {\r\n    const {\r\n      selectedString,\r\n      dateRangeEnd,\r\n      dateRangeStart,\r\n      selectedStartDate,\r\n    } = this.state;\r\n\r\n    const {\r\n      change,\r\n      name,\r\n      isRange,\r\n      isStart,\r\n    } = this.props;\r\n\r\n    // Check if input string is valid date\r\n    let isError = !moment(selectedString, 'DD/MM/YYYY', true).isValid();\r\n    // The date in date form\r\n    let selectedDate = null;\r\n\r\n    // Check if date is within date range\r\n    if (!isError) {\r\n      const parts = selectedString.split('/');\r\n      selectedDate = new Date(parts[2], parts[1] - 1, parts[0]);\r\n      // isError = isStart && selectedEndDate ? selectedDate > selectedEndDate : isError;\r\n      isError = !isStart && selectedStartDate ? selectedStartDate > selectedDate : isError;\r\n      isError = selectedDate < dateRangeStart || dateRangeEnd < selectedDate ? true : isError;\r\n    }\r\n\r\n    // Close the dropdown and set any errors\r\n    this.setState({\r\n      isOpened: false,\r\n    });\r\n\r\n    // Set null to selected start or end date if error\r\n    if (isError) {\r\n      if (isRange && !isStart) {\r\n        this.setState({\r\n          selectedEndDate: null,\r\n        });\r\n      } else {\r\n        this.setState({\r\n          selectedStartDate: null,\r\n        });\r\n      }\r\n\r\n      // Null strings and store value\r\n      this.setState({\r\n        selectedString: '',\r\n      });\r\n      change(name, null);\r\n\r\n      return;\r\n    }\r\n\r\n    this.setSelectedDate(selectedDate);\r\n  }\r\n\r\n  /**\r\n   * Render component\r\n   */\r\n  render() {\r\n    const {\r\n      isOpened,\r\n      height,\r\n      placeHolder,\r\n    } = this.state;\r\n\r\n    if (height) {\r\n      const {\r\n        name,\r\n        zIndex,\r\n        maxWidth,\r\n        isRange,\r\n        isStart,\r\n        desc,\r\n        extraInfo,\r\n        errorString,\r\n        formStore,\r\n        validateForm,\r\n      } = this.props;\r\n\r\n      const mainStyle = {\r\n        height,\r\n        zIndex,\r\n        maxWidth,\r\n      };\r\n\r\n      const dropDownOpenStyle = isOpened ? 'dropdown-container-opened' : 'dropdown-container-closed';\r\n      const isErrorStyle = errorString ? 'error' : '';\r\n      const rangeIcon = isStart ? DateIn : DateOut;\r\n      const rangIconStyle = isStart ? 'date-img-in' : 'date-img-out';\r\n\r\n      const refValue = formStore ? formStore[name] : null;\r\n\r\n      return (\r\n        <FormInputWrapper\r\n          desc={desc}\r\n          ref={node => (this.formParent = node)}\r\n          extraInfo={extraInfo}\r\n          errorString={errorString}\r\n          refValue={refValue}\r\n          validateForm={validateForm}\r\n        >\r\n          <div\r\n            className=\"dropdown datepicker\"\r\n            style={mainStyle}\r\n            ref={node => (this.wrapperRef = node)}\r\n            onBlur={event => this.handleBlur(event)}\r\n            onFocus={event => this.handleFocus(event)}\r\n          >\r\n            <div\r\n              className={`dropdown-container \r\n                          ${dropDownOpenStyle} \r\n                          ${isErrorStyle}\r\n                        `}\r\n              style={{ height }}\r\n              onKeyUp={() => {}}\r\n              role=\"button\"\r\n              tabIndex={-1}\r\n            >\r\n              <div\r\n                className=\"selected-container align-items-center\"\r\n                style={{ height }}\r\n              >\r\n                {\r\n                  isRange ?\r\n                    <img\r\n                      className={`date-img ${rangIconStyle}`}\r\n                      src={rangeIcon}\r\n                      alt=\"Date Range Icon\"\r\n                    />\r\n                  :\r\n                    null\r\n                }\r\n                <div className=\"selected-text text-style\">\r\n                  <Field\r\n                    name={name}\r\n                    ref={node => this.inputField = node}\r\n                    withRef\r\n                    component=\"input\"\r\n                    type=\"text\"\r\n                    placeholder={placeHolder}\r\n                    autoComplete=\"off\"\r\n                    onChange={event => this.handleOnInputChange(event)}\r\n                    onKeyPress={this.handleKeyPress}\r\n                    onMouseDown={(e) => {\r\n                      if (window.innerWidth <= 576) {\r\n                        e.preventDefault();\r\n                      }\r\n                      this.isClicked = true;\r\n                      this.handleSelectClick();\r\n                    }}\r\n                    tabIndex={0}\r\n                  />\r\n                </div>\r\n                {\r\n                  isRange ?\r\n                    null\r\n                  :\r\n                    <div\r\n                      role=\"button\"\r\n                      className=\"selected-arrow\"\r\n                      onMouseDown={() => { this.isClicked = true; this.handleSelectClick(); }}\r\n                      tabIndex={-1}\r\n                    >\r\n                      <img\r\n                        src={Arrow}\r\n                        alt=\"arrow.svg\"\r\n                        className={`selected-arrow-style ${isOpened ? 'angle-up' : 'angle-down'}`}\r\n                      />\r\n                    </div>\r\n                }\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </FormInputWrapper>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\nDatePickerV2.defaultProps = {\r\n  maxWidth: '100%',\r\n  isStart: true,\r\n  isRange: false,\r\n  startDate: null,\r\n  endDate: null,\r\n  currDate: null,\r\n  placeholderString: placeholderStringDefault,\r\n  desc: null,\r\n  extraInfo: null,\r\n  errorString: null,\r\n  formStore: null,\r\n  validateForm: null,\r\n  isTargetWithinDateRangePicker: null,\r\n  endRef: null,\r\n};\r\n\r\nDatePickerV2.propTypes = {\r\n  formStore: PropTypes.object,\r\n  maxWidth: PropTypes.string,\r\n  size: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  zIndex: PropTypes.number.isRequired,\r\n  change: PropTypes.func.isRequired,\r\n  isStart: PropTypes.bool,\r\n  isRange: PropTypes.bool,\r\n  startDate: PropTypes.instanceOf(Date),\r\n  endDate: PropTypes.instanceOf(Date),\r\n  currDate: PropTypes.instanceOf(Date),\r\n  placeholderString: PropTypes.string,\r\n  desc: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  errorString: PropTypes.string,\r\n  validateForm: PropTypes.func,\r\n  dateInner: PropTypes.object.isRequired,\r\n  isTargetWithinDateRangePicker: PropTypes.func,\r\n  endRef: PropTypes.object,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  formStore: (getFormValues(ownProps.form)(state)),\r\n  dateInner: state.datepicker.datePickerInner,\r\n});\r\n\r\nexport default connect(mapStateToProps, null, null, { withRef: true })(DatePickerV2);\r\n","/**\r\n * RestrictionPopup.js\r\n * Used to display product restrictions\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Row, Col, Modal, ModalHeader } from 'reactstrap';\r\nimport Button from 'components/FormsV3/Button/Button';\r\n\r\nimport { clearRestrictionPopup } from '../../../actions/restrictionsActions';\r\n\r\nimport './RestrictionsPopup.scss';\r\n\r\nclass RestrictionsPopup extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const { data } = nextProps;\r\n\r\n    if (data && data !== prevState.data) {\r\n      nextProps.clearRestrictionPopup();\r\n      return ({\r\n        values: data.values,\r\n        clickCallback: data.clickCallback,\r\n        doAcceptTag: data.doAcceptTag,\r\n      });\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      values: null,\r\n      clickCallback: null,\r\n      doAcceptTag: null,\r\n      modal: false,\r\n    };\r\n\r\n    this.setData = this.setData.bind(this);\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { values, modal } = this.state;\r\n\r\n    if (values && !modal) {\r\n      this.setState({ modal: true });\r\n    }\r\n  }\r\n\r\n  setData(values, clickCallback, doAcceptTag) {\r\n    this.setState({\r\n      values,\r\n      clickCallback,\r\n      doAcceptTag,\r\n    });\r\n\r\n    setTimeout(() => this.setState({ modal: true }), 100);\r\n  }\r\n\r\n  handleClick() {\r\n    const { clickCallback, doAcceptTag } = this.state;\r\n\r\n    if (doAcceptTag) {\r\n      doAcceptTag();\r\n    }\r\n\r\n    if (clickCallback) {\r\n      clickCallback();\r\n    }\r\n\r\n    this.setState({ modal: false, values: null });\r\n  }\r\n\r\n  renderData() {\r\n    const { values } = this.state;\r\n\r\n    return _.map(values, (item, index) => {\r\n      const description = _.split(item.description, '\\n');\r\n      return (\r\n        <Fragment key={`res-data-${index}`}>\r\n          <Col className=\"title\" xs={12} sm={4}>\r\n            <p>{item.title}</p>\r\n          </Col>\r\n          <Col className=\"res-desc\" xs={12} sm={8}>\r\n            {\r\n              _.map(description, (desc, descIndex) => (\r\n                <p key={`res-desc-${descIndex}`}>{desc}</p>\r\n              ))\r\n            }\r\n          </Col>\r\n          <Col xs={12}>\r\n            <div className=\"line\" xs={12} />\r\n          </Col>\r\n        </Fragment>\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { modal } = this.state;\r\n    return (\r\n      <Modal\r\n        backdropClassName=\"blue-modal-backdrop\"\r\n        className=\"restrictions-popup\"\r\n        isOpen={modal}\r\n        size=\"lg\"\r\n      >\r\n        <ModalHeader toggle={() => this.setState({ modal: false, values: null })} />\r\n        <Row>\r\n          <Col className=\"header\" xs={12}>\r\n            <p>{'Company\\'s Restrictions'}</p>\r\n            <p className=\"sub\">Scroll down to read the restrictions</p>\r\n          </Col>\r\n          {this.renderData()}\r\n        </Row>\r\n        <Row>\r\n          <Col className=\"button-container\" xs={12}>\r\n            <Button\r\n              onClick={this.handleClick}\r\n              type=\"submit\"\r\n              variant=\"medium-flat-green\"\r\n              width={165}\r\n              height={72}\r\n            >\r\n              <p>Accept</p>\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  data: state.restrictions.data,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  clearRestrictionPopup: () => {\r\n    dispatch(clearRestrictionPopup());\r\n  },\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RestrictionsPopup);\r\n","module.exports = __webpack_public_path__ + \"static/media/ArrowGradient.50433ef5.svg\";","/**\r\n * SpeechScroll.js\r\n * The hovering dropdown that appears in the navbar and\r\n * the multi compare view insurer's row.\r\n *\r\n * It will auto close when out of the box.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport document from 'global/document';\r\nimport window from 'global/window';\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './SpeechScroll.scss';\r\n\r\nclass SpeechScroll extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isPopUpOpen: false,\r\n      insurerArrowHorizontal: 0,\r\n      scrollPos: 0,\r\n      scrollheight: 0,\r\n      popUpHeight: 0,\r\n      exitCallback: null,\r\n    };\r\n\r\n    this.handleInsurerHover = this.handleInsurerHover.bind(this);\r\n    this.handleInsurerBlur = this.handleInsurerBlur.bind(this);\r\n    this.handleMouseMoveOnHoverButton = this.handleMouseMoveOnHoverButton.bind(this);\r\n    this.handleClickOnHoverButton = this.handleClickOnHoverButton.bind(this);\r\n    this.handleScroll = this.handleScroll.bind(this);\r\n    this.handlePopUpScroll = this.handlePopUpScroll.bind(this);\r\n    this.handlePopUpWheel = this.handlePopUpWheel.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('scroll', this.handleScroll);\r\n    this.hide();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('scroll', this.handleScroll);\r\n    this.hide();\r\n  }\r\n\r\n  show() {\r\n    document.body.scroll = 'no';\r\n    // const el = document.getElementsByTagName('body')[0];\r\n    // el.classList.add('noscroll');\r\n  }\r\n\r\n  hide() {\r\n    document.body.scroll = 'yes';\r\n    // const el = document.getElementsByTagName('body')[0];\r\n    // el.classList.remove('noscroll');\r\n  }\r\n\r\n  handleScroll() {\r\n    const { isPopUpOpen } = this.state;\r\n\r\n    if (isPopUpOpen) {\r\n      this.setState({\r\n        isPopUpOpen: false,\r\n      });\r\n\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  handleInsurerHover(event, initCallback = null, exitCallback = null) {\r\n    const { isPopUpOpen } = this.state;\r\n    const { maxHeight } = this.props;\r\n\r\n    // console.log('FOCUS');\r\n    if (!isPopUpOpen) {\r\n      let height = 20;\r\n      _.each(this.insurerPopUpScroll.children, (child) => {\r\n        height += child.scrollHeight;\r\n      });\r\n      const rect = event.target.getBoundingClientRect();\r\n      const maxLeft = window.innerWidth - 262 - 20 - 20;\r\n      const defaultLeft = rect.left + rect.width * 0.5 - 131 - 20;\r\n      const left = Math.max(20, Math.min(defaultLeft, maxLeft));\r\n\r\n      const arrowDiff = left - defaultLeft;\r\n\r\n      this.insurerPopUp.style.left = `${left}px`;\r\n      this.insurerPopUp.style.top = `${rect.top}px`;\r\n\r\n      this.setState({\r\n        isPopUpOpen: true,\r\n        insurerArrowHorizontal: arrowDiff,\r\n        popUpHeight: Math.min(height, maxHeight),\r\n        exitCallback,\r\n      });\r\n\r\n      this.show();\r\n\r\n      if (initCallback) {\r\n        initCallback();\r\n      }\r\n\r\n      if (this.insurerPopUpScroll.children.length > 4) {\r\n        setTimeout(this.handlePopUpScroll, 10);\r\n      }\r\n    }\r\n  }\r\n\r\n  handleInsurerBlur(e) {\r\n    const { exitCallback } = this.state;\r\n\r\n    if (e) {\r\n      e.preventDefault();\r\n    }\r\n\r\n    // console.log('BLUR');\r\n    this.setState({\r\n      isPopUpOpen: false,\r\n    });\r\n\r\n    if (exitCallback) {\r\n      exitCallback();\r\n    }\r\n\r\n    this.hide();\r\n  }\r\n\r\n  handleMouseMoveOnHoverButton(event) {\r\n    const rect = this.insurerPopUp.getBoundingClientRect();\r\n    if (event.clientY - rect.top < 40) {\r\n      const { insurerArrowHorizontal } = this.state;\r\n      const leftBound = rect.left + rect.width * 0.5 - 20 - insurerArrowHorizontal;\r\n      const rightBound = leftBound + 60;\r\n\r\n      if (!(leftBound < event.clientX && event.clientX < rightBound)) {\r\n        // console.log(rect);\r\n        // console.log(event.clientX);\r\n        this.handleInsurerBlur(event);\r\n      }\r\n    }\r\n  }\r\n\r\n  handleClickOnHoverButton(event) {\r\n    const { onHoverButtonClick } = this.props;\r\n\r\n    if (!onHoverButtonClick) {\r\n      return;\r\n    }\r\n\r\n    const rect = this.insurerPopUp.getBoundingClientRect();\r\n    if (event.clientY - rect.top < 40) {\r\n      const { insurerArrowHorizontal } = this.state;\r\n      const leftBound = rect.left + rect.width * 0.5 - 20 - insurerArrowHorizontal;\r\n      const rightBound = leftBound + 60;\r\n\r\n      if (leftBound < event.clientX && event.clientX < rightBound) {\r\n        onHoverButtonClick();\r\n      }\r\n    }\r\n  }\r\n\r\n  handlePopUpScroll() {\r\n    const percentage = this.insurerPopUpScroll.scrollTop / (this.insurerPopUpScroll.scrollHeight - this.insurerPopUpScroll.offsetHeight);\r\n    const barheight = this.insurerPopUpScroll.offsetHeight / this.insurerPopUpScroll.scrollHeight * this.insurerPopUpScroll.offsetHeight;\r\n    const offsetY = percentage * (this.insurerPopUpScroll.offsetHeight - barheight);\r\n    // console.log(percentage, this.insurerPopUpScroll.scrollTop, this.insurerPopUpScroll.offsetHeight);\r\n    this.setState({\r\n      scrollPos: offsetY,\r\n      scrollheight: barheight,\r\n    });\r\n    this.show();\r\n  }\r\n\r\n  handlePopUpWheel(event) {\r\n    const scrollBottom = this.insurerPopUpScroll.offsetHeight + this.insurerPopUpScroll.scrollTop;\r\n    if (\r\n      (event.deltaY < 0 && this.insurerPopUpScroll.scrollTop <= 0) ||\r\n      (event.deltaY > 0 && scrollBottom === this.insurerPopUpScroll.scrollHeight)\r\n    ) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isPopUpOpen,\r\n      insurerArrowHorizontal,\r\n      scrollPos,\r\n      scrollheight,\r\n      popUpHeight,\r\n    } = this.state;\r\n\r\n    const { offsetHeight, onHoverButtonClick } = this.props;\r\n\r\n    const openStyle = isPopUpOpen ? '' : 'list-popup-container-closed';\r\n    const hoverButtonStyle = onHoverButtonClick ? 'speech-scroll-clickable' : '';\r\n\r\n    return (\r\n      <div className=\"speech-scroll\">\r\n        <div\r\n          role=\"button\"\r\n          tabIndex={-1}\r\n          onKeyUp={() => {}}\r\n          className={`list-popup-container ${hoverButtonStyle} ${openStyle}`}\r\n          ref={node => this.insurerPopUp = node}\r\n          onMouseMove={this.handleMouseMoveOnHoverButton}\r\n          onMouseLeave={this.handleInsurerBlur}\r\n          onClick={this.handleClickOnHoverButton}\r\n          style={{ height: popUpHeight + offsetHeight, paddingTop: offsetHeight }}\r\n        >\r\n          <div\r\n            className=\"list-popup-background\"\r\n            style={{ height: popUpHeight }}\r\n          >\r\n            <div\r\n              className=\"arrow\"\r\n              style={{ marginRight: insurerArrowHorizontal }}\r\n            />\r\n          </div>\r\n          <div className=\"scrollbar-container\" style={{ top: offsetHeight + 2 }}>\r\n            <div\r\n              className=\"scrollbar\"\r\n              ref={node => this.scrollBar = node}\r\n              style={{ marginTop: `${scrollPos}px`, height: scrollheight }}\r\n            />\r\n          </div>\r\n          <div\r\n            className=\"list-popup\"\r\n            onScroll={this.handlePopUpScroll}\r\n            onWheel={this.handlePopUpWheel}\r\n            ref={node => this.insurerPopUpScroll = node}\r\n            style={{ height: popUpHeight }}\r\n          >\r\n            {this.props.children}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nSpeechScroll.defaultProps = {\r\n  maxHeight: 273,\r\n  offsetHeight: 40,\r\n  onHoverButtonClick: null,\r\n};\r\n\r\nSpeechScroll.propTypes = {\r\n  maxHeight: PropTypes.number,\r\n  offsetHeight: PropTypes.number,\r\n  onHoverButtonClick: PropTypes.func,\r\n};\r\n\r\nexport default SpeechScroll;\r\n","/**\r\n * Enquiry.js\r\n * Enquiry view that appears in most of the forms\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n*/\r\nimport React, { Component } from 'react';\r\nimport { Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Phone from 'assets/images/common/Phone.svg';\r\n\r\nimport './Enquiry.scss';\r\n\r\nclass Enquiry extends Component {\r\n  render() {\r\n    const { marginTop } = this.props;\r\n\r\n    return (\r\n      <Col className=\"enquiry-container\" style={{ marginTop }}>\r\n        <div className=\"upper-container\">\r\n          <p className=\"left-text\">\r\n            Need some assistance? Please contact us and one of our\r\n            Client Services Executives will be happy to guide you along.\r\n          </p>\r\n          <div className=\"right-text\">\r\n            <img src={Phone} alt=\"Phone.svg\" />\r\n            <a href=\"tel:+6531639184\">\r\n              +65 3163 9184\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <div className=\"lower-container\">\r\n          <p className=\"lower-main\">Speak to our Client Service Executives</p>\r\n          <p className=\"lower-sub\">Servicing hours:</p>\r\n          <p className=\"lower-sub\">10am - 7pm</p>\r\n          <p className=\"lower-sub\">Mondays to Fridays</p>\r\n          <p className=\"lower-sub\">(excluding public holidays)</p>\r\n        </div>\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nEnquiry.defaultProps = {\r\n  marginTop: 0,\r\n};\r\n\r\n\r\nEnquiry.propTypes = {\r\n  marginTop: PropTypes.number,\r\n};\r\n\r\nexport default Enquiry;\r\n","module.exports = __webpack_public_path__ + \"static/media/Phone.02c1235c.svg\";","module.exports = __webpack_public_path__ + \"static/media/EditButton.cbb0b06a.svg\";","/**\r\n * Accordion.js\r\n * A collapse view that is enhanced from reactstrap\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Collapse, CardBody, Card } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ArrowGradient from 'assets/images/forms/ArrowGradient.svg';\r\n\r\nimport './Accordion.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass Accordion extends Component {\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {object} props Component props\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isOpened: false,\r\n      openCallback: null,\r\n    };\r\n\r\n    this.handleExpand = this.handleExpand.bind(this);\r\n    this.setOpenCallback = this.setOpenCallback.bind(this);\r\n  }\r\n\r\n  setOpenCallback(callback) {\r\n    this.setState({\r\n      openCallback: callback,\r\n    });\r\n  }\r\n\r\n  handleExpand() {\r\n    const { isOpened, openCallback } = this.state;\r\n    if (!isOpened && openCallback) {\r\n      setTimeout(() => openCallback(), 10);\r\n    }\r\n\r\n    this.setState({\r\n      isOpened: !isOpened,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isOpened,\r\n    } = this.state;\r\n\r\n    const {\r\n      height,\r\n      isWarning,\r\n      isFullBorder,\r\n    } = this.props;\r\n\r\n    const openStyle = isOpened ? 'accordion-opened' : 'accordion-closed';\r\n    const openText = isOpened ? 'Close Details' : 'Expand Details';\r\n    const arrowOpenStyle = isOpened ? 'arrow-opened' : 'arrow-closed';\r\n    const borderStyle = isFullBorder ? 'accordion-border' : '';\r\n\r\n    return (\r\n      <div className={`${borderStyle} accordion-container`}>\r\n        <div className=\"accordion-inner\">\r\n          <Collapse className={openStyle} isOpen={isOpened}>\r\n            <Card>\r\n              <CardBody>\r\n                {this.props.children}\r\n              </CardBody>\r\n            </Card>\r\n          </Collapse>\r\n        </div>\r\n        <div className=\"expand-container\" style={{ minHeight: height }}>\r\n          <button\r\n            className=\"control-container\"\r\n            onClick={() => this.handleExpand()}\r\n          >\r\n            <img className={`arrow ${arrowOpenStyle}`} src={ArrowGradient} alt=\"Arrow.svg\" />\r\n            <span>{openText}</span>\r\n          </button>\r\n        </div>\r\n        {\r\n          isWarning ?\r\n            <div className=\"warning-container\">\r\n              <p>Please make sure all your information is correct before making the payment</p>\r\n            </div>\r\n          :\r\n            null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nAccordion.defaultProps = {\r\n  isWarning: false,\r\n  height: 95,\r\n  isFullBorder: false,\r\n};\r\n\r\nAccordion.propTypes = {\r\n  isWarning: PropTypes.bool,\r\n  isFullBorder: PropTypes.bool,\r\n  height: PropTypes.number,\r\n};\r\n\r\nexport default Accordion;\r\n","/**\r\n * ChangeInitialFormData.js\r\n * This is the green pencil button that appears mainly on\r\n * the compare view which will render the Edit Detail forms\r\n * of each category.\r\n *\r\n * Users will be able to change that form through this component\r\n * and will do a callback to update any changes, eg for compare view.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getFormValues, change } from 'redux-form';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport EditButton from 'assets/images/forms/EditButton.svg';\r\n\r\nimport SpeechScroll from '../SpeechScroll/SpeechScroll';\r\nimport Popup from '../Popup/Popup';\r\n\r\nimport { resetSubmitStatus } from '../../../actions/editFormActions';\r\nimport { simplifyCost } from '../../../lib/helperFunctions';\r\n\r\nimport './ChangeInitialFormData.scss';\r\n\r\nclass ChangeInitialFormData extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      toolTipData: [],\r\n    };\r\n\r\n    this.renderHeader = this.renderHeader.bind(this);\r\n    this.renderDetailLabels = this.renderDetailLabels.bind(this);\r\n    this.renderDetailValues = this.renderDetailValues.bind(this);\r\n    this.renderEditButton = this.renderEditButton.bind(this);\r\n    this.renderSpeechScrollList = this.renderSpeechScrollList.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { resetSubmit } = this.props;\r\n\r\n    resetSubmit();\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    const { closePopUp, toolTipData, speechScroll } = this.state;\r\n    const { resetSubmit } = this.props;\r\n\r\n    if (nextProps.isEditSubmitted) {\r\n      resetSubmit();\r\n    }\r\n\r\n    return nextProps.isEditSubmitted ||\r\n          closePopUp !== nextState.closePopUp ||\r\n          toolTipData !== nextState.toolTipData ||\r\n          speechScroll !== nextState.speechScroll;\r\n  }\r\n\r\n  renderHeader() {\r\n    const { headerValue, storeForm } = this.props;\r\n    if (storeForm && headerValue) {\r\n      const value = storeForm[headerValue] ? storeForm[headerValue] : '';\r\n      return <span className=\"edit-detail-header\">{value}</span>;\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderDetailLabels() {\r\n    const { valuesToListen, storeForm, conditions } = this.props;\r\n    const conditonValue = conditions ? storeForm[conditions.key] : null;\r\n    const valuesArrayToListen = conditonValue ? conditions.values[conditonValue] : null;\r\n\r\n    return (\r\n      <div className=\"edit-detail-label-container\">\r\n        {_.reduce(valuesToListen, (result, data, index) => {\r\n          if (\r\n            !valuesArrayToListen ||\r\n            (valuesArrayToListen && _.findIndex(valuesArrayToListen, value => value === data.value) !== -1)\r\n          ) {\r\n            result.push(<span key={`label-${index}`} className=\"detail-label\">{data.desc}</span>);\r\n          }\r\n          return result;\r\n        }, [])}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderDetailValues() {\r\n    const { speechScroll } = this.state;\r\n    const { storeForm, valuesToListen, conditions } = this.props;\r\n\r\n    const conditonValue = conditions ? storeForm[conditions.key] : null;\r\n    const valuesArrayToListen = conditonValue ? conditions.values[conditonValue] : null;\r\n\r\n    if (!storeForm || !speechScroll) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className=\"edit-detail-value-container\">\r\n        {\r\n          _.reduce(valuesToListen, (result, data, index) => {\r\n            if (\r\n              !valuesArrayToListen ||\r\n              (valuesArrayToListen && _.findIndex(valuesArrayToListen, value => value === data.value) !== -1)\r\n            ) {\r\n              const value = storeForm[data.value] ? storeForm[data.value] : 'None';\r\n              const isArray = value.constructor === Array;\r\n\r\n              let displayValue = isArray ? [...value] : value;\r\n              if (data.aggregateDesc && isArray && displayValue.length > 1) {\r\n                displayValue = `${displayValue.length} ${data.aggregateDesc}`;\r\n              }\r\n\r\n              if (data.extra === 'cost_simplify') {\r\n                displayValue = simplifyCost(value);\r\n              }\r\n\r\n              const jsx = (\r\n                <div key={`detail-${index}`}>\r\n                  <span className=\"detail-value\">\r\n                    {displayValue}\r\n                    {\r\n                      isArray && displayValue.length > 1 ?\r\n                        <div\r\n                          className=\"tooltip-button\"\r\n                          onMouseEnter={() => this.setState({\r\n                            toolTipData: value,\r\n                          })}\r\n                          onMouseMove={(event) => {\r\n                            speechScroll.handleInsurerHover(event);\r\n                          }}\r\n                        >\r\n                          <p>i</p>\r\n                        </div>\r\n                      :\r\n                        null\r\n                    }\r\n                  </span>\r\n                </div>\r\n              );\r\n\r\n              result.push(jsx);\r\n            }\r\n\r\n            return result;\r\n          }, [])\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderSpeechScrollList() {\r\n    const { toolTipData } = this.state;\r\n    return _.map(toolTipData, (data, index) => <p className=\"tooltip-text\" key={`tooptip-${index}`}>{data}</p>);\r\n  }\r\n\r\n  renderEditButton() {\r\n    /* if (!storeForm) {\r\n      return null;\r\n    } */\r\n\r\n    return (\r\n      <div\r\n        className=\"edit-container\"\r\n        role=\"button\"\r\n        tabIndex={-1}\r\n        onKeyDown={() => {}}\r\n        onClick={() => {\r\n          this.popupRef.openPopup();\r\n        }}\r\n      >\r\n        <img src={EditButton} alt=\"EditButton.svg\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { submitCallback } = this.props;\r\n\r\n    return (\r\n      <div className=\"change-form-container\">\r\n        <div className=\"edit-detail-container\">\r\n          {this.renderHeader()}\r\n          <div className=\"edit-detail-inner-container\">\r\n            {this.renderDetailLabels()}\r\n            {this.renderDetailValues()}\r\n          </div>\r\n          {this.renderEditButton()}\r\n        </div>\r\n        <SpeechScroll\r\n          ref={node => !this.state.speechScroll && this.setState({ speechScroll: node })}\r\n        >\r\n          {this.renderSpeechScrollList()}\r\n        </SpeechScroll>\r\n        <Popup ref={(r) => { this.popupRef = r; }}>\r\n          {React.cloneElement(this.props.children, {\r\n            submitCallback,\r\n          })}\r\n        </Popup>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nChangeInitialFormData.defaultProps = {\r\n  submitCallback: null,\r\n  conditions: null,\r\n  headerValue: null,\r\n};\r\n\r\nChangeInitialFormData.propTypes = {\r\n  valuesToListen: PropTypes.array.isRequired,\r\n  storeForm: PropTypes.object.isRequired,\r\n  isEditSubmitted: PropTypes.bool.isRequired,\r\n  resetSubmit: PropTypes.func.isRequired,\r\n  submitCallback: PropTypes.func,\r\n  conditions: PropTypes.object,\r\n  headerValue: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  storeForm: getFormValues(ownProps.form)(state),\r\n  isEditSubmitted: state.editForm.isEditSubmitted,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  undoFormChange: (form, key, value) => {\r\n    dispatch(change(form, key, value));\r\n  },\r\n  resetSubmit: () => {\r\n    dispatch(resetSubmitStatus());\r\n  },\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ChangeInitialFormData);\r\n","module.exports = __webpack_public_path__ + \"static/media/Tick.02ce5aca.svg\";","/**\r\n * CompareViewTableAccordion.js\r\n * Accordion view for table in compare view\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport window from 'global/window';\r\nimport React, { Component } from 'react';\r\nimport { Collapse, CardBody, Card } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Arrow from 'assets/images/forms/arrow.svg';\r\n\r\nclass CompareViewTableAccordion extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isOpened: false,\r\n      height: 0,\r\n    };\r\n\r\n    this.recursiveUpdate = this.recursiveUpdate.bind(this);\r\n    this.handleResize = this.handleResize.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('resize', this.handleResize);\r\n    this.handleResize();\r\n  }\r\n\r\n  /* shouldComponentUpdate(nextProps, nextState) {\r\n    return nextState !== this.state;\r\n  } */\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.handleResize);\r\n  }\r\n\r\n  handleResize() {\r\n    this.setState({\r\n      height: this.accordion.children[2].children[0].offsetHeight,\r\n    });\r\n  }\r\n\r\n  recursiveUpdate(level, max) {\r\n    if (level < max) {\r\n      const { updateTabHeight } = this.props;\r\n      setTimeout(() => { updateTabHeight(); this.recursiveUpdate(level + 1, max); }, 200);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { isOpened, height } = this.state;\r\n    const {\r\n      bgStyle,\r\n      title,\r\n      description,\r\n      updateTabHeight,\r\n      firstStyle,\r\n      lastStyle,\r\n    } = this.props;\r\n    const rotateStyle = isOpened ? '180deg' : '0deg';\r\n\r\n    return (\r\n      <div className=\"info-accordian-container\" ref={node => this.accordion = node}>\r\n        <div\r\n          role=\"button\"\r\n          tabIndex={-1}\r\n          onKeyDown={() => {}}\r\n          className={`desc-accordion-container ${bgStyle} ${firstStyle} ${lastStyle}`}\r\n          onClick={() => {\r\n            this.setState({ isOpened: !isOpened });\r\n            if (!isOpened) {\r\n              updateTabHeight(height);\r\n            } else {\r\n              updateTabHeight(-height);\r\n            }\r\n          }}\r\n        >\r\n          <p className=\"title\">{title}</p>\r\n          <p className=\"desc\">{description}</p>\r\n          <div className=\"arrow-container\">\r\n            <img src={Arrow} alt=\"Arrow.svg\" style={{ transform: `rotate(${rotateStyle})` }} />\r\n          </div>\r\n        </div>\r\n        <Collapse isOpen={isOpened}>\r\n          <Card>\r\n            <CardBody>\r\n              {this.props.children}\r\n            </CardBody>\r\n          </Card>\r\n        </Collapse>\r\n        <div className=\"temp-container\">\r\n          <Collapse isOpen={true}>\r\n            <Card>\r\n              <CardBody>\r\n                {this.props.children}\r\n              </CardBody>\r\n            </Card>\r\n          </Collapse>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nCompareViewTableAccordion.defaultProps = {\r\n  updateTabHeight: null,\r\n  firstStyle: '',\r\n  lastStyle: '',\r\n};\r\n\r\nCompareViewTableAccordion.propTypes = {\r\n  bgStyle: PropTypes.string.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  description: PropTypes.string.isRequired,\r\n  updateTabHeight: PropTypes.func,\r\n  firstStyle: PropTypes.string,\r\n  lastStyle: PropTypes.string,\r\n};\r\n\r\n\r\nexport default CompareViewTableAccordion;\r\n","/**\r\n * CompareViewTable.js\r\n * Renders the table view in compare view.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Tick from 'assets/images/common/Tick.svg';\r\nimport Cross from 'assets/images/forms/cross.svg';\r\n\r\nimport CompareViewTableAccordion from './CompareViewTableAccordion';\r\nimport './CompareView.scss';\r\n\r\nclass CompareViewTable extends Component {\r\n  // Recursive function to handle normal rows or dropdown rows\r\n  // If dropdown, it will recursively render the contents in the dropdown using this\r\n  // same function\r\n  renderTable(data, productChangable, width, updateTabHeight, disclaimer = null) {\r\n    const itemBorderStyle = productChangable ? 'item-border' : '';\r\n    const infoContainerStyle = productChangable ? 'info-container-border' : '';\r\n\r\n    const isValidDisclaimer = disclaimer && _.reduce(disclaimer.targets, (result, target) => (\r\n      target || result\r\n    ), false);\r\n    const arrayToMap = isValidDisclaimer ? _.union(data, [disclaimer]) : data;\r\n\r\n    return _.map(arrayToMap, (content, idx) => {\r\n      const bgStyle = idx % 2 ? 'white' : 'green';\r\n\r\n      if (content.dropdown) {\r\n        return (\r\n          <CompareViewTableAccordion\r\n            key={`${content.title}${idx}`}\r\n            bgStyle={bgStyle}\r\n            title={content.title}\r\n            description={content.description}\r\n            updateTabHeight={updateTabHeight}\r\n          >\r\n            {this.renderTable(content.subContent, productChangable, width)}\r\n          </CompareViewTableAccordion>\r\n        );\r\n      }\r\n\r\n      const subTitle = content.sub_title ? <p className=\"desc title-desc\">{_.startCase(content.sub_title)}</p> : null;\r\n      return (\r\n        <div className=\"info-container\" key={`${content.title}${idx}`}>\r\n          {\r\n            content.title ?\r\n              <div className={`desc-resp-container d-flex d-md-none ${bgStyle} ${infoContainerStyle}`}>\r\n                <p className=\"title\">{content.title}</p>\r\n                {subTitle}\r\n              </div>\r\n            :\r\n              null\r\n          }\r\n          <div className={`item-container ${bgStyle} ${infoContainerStyle}`}>\r\n            <div className=\"d-none d-md-flex item-desc desc-width\">\r\n              <p className=\"title\">{content.title}</p>\r\n              {subTitle}\r\n            </div>\r\n            <div className=\"category-resp-container\">\r\n              {\r\n                _.map(content.targets, (target, index) => {\r\n                  if (!target) {\r\n                    return (\r\n                      <div\r\n                        key={`${target}${index}`}\r\n                        className={`item ${itemBorderStyle}`}\r\n                        style={{ width }}\r\n                      >\r\n                        <div className=\"item-inner\">\r\n                          N/A\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  }\r\n\r\n                  const isDisclaimer = isValidDisclaimer && idx === arrayToMap.length - 1;\r\n                  const paddingStyle = isDisclaimer ? 'no-padding' : '';\r\n\r\n                  let description = null;\r\n                  if (target.description === 'YES') {\r\n                    description = <img className=\"tick\" src={Tick} alt=\"Tick.svg\" />;\r\n                  } else if (target.description === 'NO') {\r\n                    description = <img className=\"tick\" src={Cross} alt=\"cross.svg\" />;\r\n                  }\r\n\r\n                  return (\r\n                    <div\r\n                      key={`${target.value}${index}`}\r\n                      className={`item ${itemBorderStyle} ${paddingStyle}`}\r\n                      style={{ width }}\r\n                    >\r\n                      <div className=\"item-inner\">\r\n                        {\r\n                          target.value === 'Covered' ?\r\n                            <img className=\"tick\" src={Tick} alt=\"Tick.svg\" />\r\n                          :\r\n                          target.value\r\n                        }\r\n                        {\r\n                          description || <p className=\"desc\">{target.description}</p>\r\n                        }\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      data,\r\n      disclaimer,\r\n      productChangable,\r\n      width,\r\n      updateTabHeight,\r\n    } = this.props;\r\n\r\n    if (!data) {\r\n      return null;\r\n    }\r\n\r\n    return this.renderTable(data.content, productChangable, width, updateTabHeight, disclaimer);\r\n  }\r\n}\r\n\r\nCompareViewTable.defaultProps = {\r\n  disclaimer: null,\r\n  updateTabHeight: null,\r\n};\r\n\r\nCompareViewTable.propTypes = {\r\n  data: PropTypes.object.isRequired,\r\n  productChangable: PropTypes.bool.isRequired,\r\n  width: PropTypes.string.isRequired,\r\n  disclaimer: PropTypes.object,\r\n  updateTabHeight: PropTypes.func,\r\n};\r\n\r\n\r\nexport default CompareViewTable;\r\n","/**\r\n * CompareView.js\r\n *\r\n * - The Compare view\r\n * - 2 modes, products changable or just fixed comparaison.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport $ from 'jquery';\r\nimport window from 'global/window';\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n// import EditButton from 'assets/images/forms/EditButton.svg';\r\nimport Logos from 'assets/images/InsurerLogos';\r\nimport TabView from '../TabView/TabView';\r\nimport Accordion from '../Accordion/Accordion';\r\nimport Button from '../../FormsV3/Button/Button';\r\nimport CompareViewTable from './CompareViewTable';\r\nimport SpeechScroll from '../SpeechScroll/SpeechScroll';\r\nimport RestrictionsPopup from '../RestrictionsPopup/RestrictionsPopup';\r\n\r\nimport { setHoveredInsurerIndex } from '../../../actions/insuranceActions';\r\nimport { setRestrictionPopup } from '../../../actions/restrictionsActions';\r\nimport { ampTag } from '../../../lib/tagFunctions';\r\nimport './CompareView.scss';\r\nimport '../../Motor/MotorCommon.scss';\r\n\r\nclass CompareView extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const { data, currentTab } = nextProps;\r\n    if (data !== prevState.data || currentTab !== prevState.currentTab) {\r\n      return ({\r\n        data,\r\n        currentTab,\r\n      });\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { data, currentTab/* , forceFixedOnDesktop */ } = this.props;\r\n    // isFixed - Used to determine sticky headers in responsive view\r\n    // categoryWidth - Used to determine sticky headers in responsive view\r\n    this.state = {\r\n      isFixed: false, // forceFixedOnDesktop,\r\n      categoryWidth: `${100 / 3}%`,\r\n      data,\r\n      currentTab,\r\n    };\r\n\r\n    this.handleScroll = this.handleScroll.bind(this);\r\n    this.handleOnClick = this.handleOnClick.bind(this);\r\n\r\n    this.renderTable = this.renderTable.bind(this);\r\n    this.renderLists = this.renderLists.bind(this);\r\n\r\n    this.renderHeader = this.renderHeader.bind(this);\r\n    this.renderEditForm = this.renderEditForm.bind(this);\r\n    this.renderEditableHeader = this.renderEditableHeader.bind(this);\r\n    this.renderBottomHeader = this.renderBottomHeader.bind(this);\r\n\r\n    this.renderSpeechScrollList = this.renderSpeechScrollList.bind(this);\r\n    this.renderNonProductChangable = this.renderNonProductChangable.bind(this);\r\n    this.renderProductChangable = this.renderProductChangable.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    // window.addEventListener('scroll', this.handleScroll);\r\n    window.scrollTo(0, 0);\r\n\r\n    if ($('#intercom-container')) {\r\n      $('#intercom-container').hide();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if ($('#intercom-container')) {\r\n      $('#intercom-container').show();\r\n    }\r\n\r\n    // window.removeEventListener('scroll', this.handleScroll);\r\n  }\r\n\r\n  handleScroll() {\r\n    const { isFixed } = this.state;\r\n    const { forceFixedOnDesktop } = this.props;\r\n    if (!forceFixedOnDesktop && window.innerWidth > 576) {\r\n      if (isFixed) {\r\n        this.setState({\r\n          isFixed: false,\r\n        });\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (this.catMarker) {\r\n      const scrollPos = this.catMarker.getBoundingClientRect().top;\r\n\r\n      let isNowFixed = false;\r\n\r\n      if (this.bottomHeader) {\r\n        const markerPosForBottom = window.innerHeight - this.bottomHeader.offsetHeight;\r\n        isNowFixed = scrollPos > markerPosForBottom;\r\n      } else {\r\n        isNowFixed = scrollPos <= 60;\r\n      }\r\n\r\n      // console.log(scrollPos);\r\n      if (isNowFixed !== isFixed) {\r\n        this.setState({\r\n          isFixed: isNowFixed,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  handleOnClick(selectedInsurer, clickCallback, doTag) {\r\n    const { category } = this.props;\r\n    if (doTag) {\r\n      doTag();\r\n    }\r\n\r\n    if (selectedInsurer.restrictions) {\r\n      ampTag(`${_.startCase(category)}RestrictionsS`);\r\n      this.props.setRestrictionPopup({\r\n        values: selectedInsurer.restrictions,\r\n        clickCallback,\r\n        doAcceptTag: () => ampTag(`${_.startCase(category)}AcceptA`),\r\n      });\r\n      return;\r\n    }\r\n\r\n    clickCallback();\r\n  }\r\n\r\n  renderHeader() {\r\n    const {\r\n      categoryWidth,\r\n      data,\r\n      currentTab,\r\n    } = this.state;\r\n\r\n    const { buttonDesc, category } = this.props;\r\n\r\n    const currPlanData = data.plans[currentTab];\r\n    if (!data.policyTypes || !currPlanData || !currPlanData.premium) {\r\n      return null;\r\n    }\r\n\r\n    let isPriceUsed = false;\r\n    return _.reduce(data.policyTypes, (result, type, index) => {\r\n      const leftStyle = index !== 0 ? 'border-left' : '';\r\n      const premiumData = currPlanData.premium[index];\r\n\r\n      if (!premiumData) {\r\n        result.push(<div key={`header-${index}`} className={`category-container ${leftStyle}`} style={{ width: categoryWidth }} />);\r\n      }\r\n\r\n      const isPrice = premiumData.price && premiumData.price !== premiumData.net_price;\r\n      const price = isPrice ? `$${premiumData.price.toFixed(2)}` : '';\r\n\r\n      isPriceUsed = isPriceUsed || isPrice;\r\n\r\n      const buttonText = buttonDesc || (premiumData.net_price ? 'Buy Now' : 'Enquire');\r\n\r\n      const selectedInsurer = 'default' in data.plans ? data.selectedInsurers[0] : data.selectedInsurers[index];\r\n\r\n      const cashbackProduct = premiumData.cashback && premiumData.cashback > 0 ? `Earn ${(premiumData.cashback * premiumData.net_price).toFixed(2)} cashback` : null;\r\n\r\n      let cashbackText = null;\r\n      if (category === 'life' || category === 'endowment' || category === 'retirement') {\r\n        cashbackText = 'Get $5 Cashback!';\r\n      } else if (category === 'travel' || category === 'motor' || category === 'pa' || category === 'pet') {\r\n        cashbackText = 'Get 5% Cashback!';\r\n      }\r\n\r\n      const cashbackJSX = cashbackProduct ? (\r\n        <p className=\"cashback\">{cashbackProduct}</p>\r\n      ) : (\r\n        <a\r\n          className=\"cashback cashback-link\"\r\n          href=\"/faq\"\r\n          target=\"__blank\"\r\n        >\r\n          {cashbackText}\r\n        </a>\r\n      );\r\n\r\n\r\n      const renderData = (\r\n        <div key={`header-${index}`} className={`category-container top-header ${leftStyle}`} style={{ width: categoryWidth }}>\r\n          <p className=\"category\">{_.startCase(type)}</p>\r\n          <p className=\"sub-category\">{premiumData.frequency}</p>\r\n          <p className=\"cost\">{`$${premiumData.net_price.toFixed(2)}`}</p>\r\n          {\r\n            isPriceUsed ?\r\n              <p className=\"bottom-discount\">{price}</p>\r\n            :\r\n              null\r\n          }\r\n          <div className=\"buy-button\">\r\n            <Button\r\n              variant=\"medium-flat-green\"\r\n              width={165}\r\n              height={48}\r\n              onClick={() => this.handleOnClick(selectedInsurer, premiumData.onClick, premiumData.doTag)}\r\n            >\r\n              <p>{buttonText}</p>\r\n            </Button>\r\n            {\r\n              cashbackProduct || cashbackText ?\r\n                cashbackJSX\r\n              :\r\n                <p className=\"cashback\" />\r\n            }\r\n          </div>\r\n        </div>\r\n      );\r\n\r\n      result.push(renderData);\r\n      return result;\r\n    }, []);\r\n  }\r\n\r\n  renderEditForm() {\r\n    const { editForm } = this.props;\r\n    if (editForm) {\r\n      return (\r\n        <div className=\"desc-width overview edit-form\">\r\n          {editForm}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return <div className=\"desc-width overview d-none d-sm-flex\" />;\r\n  }\r\n\r\n  renderEditableHeader() {\r\n    const {\r\n      categoryWidth,\r\n      speechScroll,\r\n      data,\r\n    } = this.state;\r\n\r\n    const { setHoveredIndex, hoveredIndex } = this.props;\r\n\r\n    if (!speechScroll) {\r\n      return null;\r\n    }\r\n\r\n    let policyType = 'default';\r\n    if (data.tripType) {\r\n      policyType = data.tripType === 'Single Trip' ? 'single' : 'annual';\r\n    }\r\n    const editableHeaders = _.map(data.selectedInsurers, (insurer) => {\r\n      if (!insurer) {\r\n        return null;\r\n      }\r\n\r\n      const matchedInsurer = _.find(data.validInsurers, insur => insur.insurer_slug === insurer.insurerSlug);\r\n      let discountData = null;\r\n      try {\r\n        const discountRawData = _.find(data.selectedInsurers, i => i.insurerSlug === insurer.insurerSlug);\r\n        if (discountRawData) {\r\n          discountData = discountRawData.discount[policyType];\r\n        }\r\n      } catch (error) {\r\n        // eslint-disable-next-line\r\n      }\r\n      // const discountData = matchedInsurer.discount_data ? matchedInsurer.discount_data[policyType] : null;\r\n      const discount = discountData && discountData.amount > 0 ? discountData.display : null;\r\n      // try {\r\n      //   discount = discount.toFixed(2);\r\n      // } catch (error) {\r\n      //   console.log('Discount to fixed failed!');\r\n      // }\r\n      const discountText = discount ? `UP TO ${discount} OFF` : null;\r\n\r\n      return ({\r\n        insurerSlug: matchedInsurer.insurer_slug,\r\n        insurer: matchedInsurer.insurer_name,\r\n        product: matchedInsurer.insurance_name,\r\n        discount: discountText,\r\n      });\r\n    });\r\n\r\n    return _.map(editableHeaders, (header, index) => {\r\n      const inurerLogoName = header ? `${header.insurer}Logo` : `empty-${index}`;\r\n      const noDiscountPadding = header && header.discount ? '' : 'no-discount';\r\n\r\n      return (\r\n        <div\r\n          key={inurerLogoName}\r\n          className={`category-container product-changable-category ${noDiscountPadding}`}\r\n          style={{ width: categoryWidth }}\r\n        >\r\n          <button\r\n            className=\"edit-container\"\r\n            tabIndex={-1}\r\n            onClick={() => {\r\n\r\n            }}\r\n            onMouseMove={(event) => {\r\n              if (hoveredIndex !== index) {\r\n                setHoveredIndex(index);\r\n              }\r\n              speechScroll.handleInsurerHover(event);\r\n            }}\r\n          >\r\n            More Options\r\n          </button>\r\n          {\r\n            header ?\r\n              <Fragment>\r\n                <div className=\"insurer-container\">\r\n                  <img src={Logos[header.insurerSlug]} alt={`${inurerLogoName}.png`} />\r\n                </div>\r\n                <p className=\"product-text\">{header.product}</p>\r\n                {\r\n                  header.discount ?\r\n                    <div className=\"discount\">\r\n                      <p>{header.discount}</p>\r\n                    </div>\r\n                  :\r\n                    null\r\n                }\r\n              </Fragment>\r\n            :\r\n             null\r\n          }\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  renderBottomHeader() {\r\n    const {\r\n      categoryWidth,\r\n      data,\r\n      currentTab,\r\n    } = this.state;\r\n\r\n    const {\r\n      productChangable,\r\n      buttonDesc,\r\n      category,\r\n    } = this.props;\r\n\r\n    const currPlanData = data.plans[currentTab];\r\n    if (!currPlanData) {\r\n      return null;\r\n    }\r\n    const { premium } = currPlanData;\r\n    const isPriceExists = _.reduce(\r\n      premium, (result, header) => result || (header && header.net_price && (header.net_price !== header.price)),\r\n      false,\r\n    );\r\n\r\n    const headerList = _.map(premium, (header, index) => {\r\n      const leftStyle = productChangable ? 'line-border' : '';\r\n\r\n      if (!header) {\r\n        return (\r\n          <div\r\n            key={`cashback${index}`}\r\n            className={`category-container bottom-border na ${leftStyle}`}\r\n            style={{ width: categoryWidth }}\r\n          >\r\n            <p className=\"na-text\">N/A</p>\r\n          </div>\r\n        );\r\n      }\r\n\r\n      const netPrice = header.net_price ? `$${header.net_price.toFixed(2)}` : '';\r\n      const price = header.price ? header.price.toFixed(2) : '';\r\n\r\n      const discountPrice = netPrice && netPrice.toString() !== `$${price.toString()}` ? `$${price}` : '';\r\n      const buttonText = buttonDesc || (header.net_price ? 'Buy Now' : 'Enquire');\r\n\r\n      const cashbackProduct = header.cashback && header.net_price ? `Earn ${(header.cashback * header.net_price).toFixed(2)} cashback` : null;\r\n      let cashbackText = null;\r\n      if (category === 'life' || category === 'endowment' || category === 'retirement') {\r\n        cashbackText = 'Get $5 Cashback!';\r\n      } else if (category === 'travel' || category === 'motor' || category === 'pa' || category === 'pet') {\r\n        cashbackText = 'Get 5% Cashback!';\r\n      }\r\n\r\n      const cashbackJSX = cashbackProduct ? (\r\n        <p className=\"cashback\">{cashbackProduct}</p>\r\n      ) : (\r\n        <a\r\n          className=\"cashback cashback-link\"\r\n          href=\"/faq\"\r\n          target=\"__blank\"\r\n        >\r\n          {cashbackText}\r\n        </a>\r\n      );\r\n\r\n      return (\r\n        <div\r\n          key={`cashback${index}`}\r\n          className={`category-container bottom-border ${leftStyle}`}\r\n          style={{ width: categoryWidth }}\r\n        >\r\n          {\r\n            netPrice !== '' ?\r\n              <p className=\"bottom-cost\">{netPrice}</p>\r\n            :\r\n              null\r\n          }\r\n          {\r\n            isPriceExists ?\r\n              <p className=\"bottom-discount\">{discountPrice}</p>\r\n            :\r\n              null\r\n          }\r\n          {\r\n            header.life_frequency ?\r\n              <p className=\"extra-info\">{header.life_frequency}</p>\r\n            :\r\n              null\r\n          }\r\n          <div className=\"buy-button\">\r\n            <Button\r\n              variant=\"medium-flat-green\"\r\n              width={180}\r\n              height={48}\r\n              onClick={() => this.handleOnClick(data.selectedInsurers[index], header.onClick, header.doTag)}\r\n            >\r\n              <p>{buttonText}</p>\r\n            </Button>\r\n            {\r\n              cashbackText || cashbackProduct ?\r\n                cashbackJSX\r\n              :\r\n                null\r\n            }\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div className=\"info-container\">\r\n        <div className=\"category-container-bottom\">\r\n          <div className=\"desc-width bottom-overview bottom-border d-none d-md-flex\" />\r\n          <div className=\"category-resp-container\">\r\n            {headerList}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderLists(isMultiple) {\r\n    const { categoryWidth, data, currentTab } = this.state;\r\n\r\n    const {\r\n      productChangable,\r\n    } = this.props;\r\n\r\n    const currPlanData = data.plans[currentTab];\r\n    if (!currPlanData) {\r\n      return null;\r\n    }\r\n\r\n    if (isMultiple) {\r\n      return _.map(data.coverageTypes, (type, index) => (\r\n        <CompareViewTable\r\n          data={currPlanData.coverages[type]}\r\n          disclaimer={currPlanData.coverages.disclaimer}\r\n          productChangable={productChangable}\r\n          width={categoryWidth}\r\n          key={`${type}-${index}`}\r\n        />\r\n      ));\r\n    }\r\n    return (\r\n      <CompareViewTable\r\n        data={currPlanData.coverages.default}\r\n        disclaimer={currPlanData.coverages.disclaimer}\r\n        productChangable={productChangable}\r\n        width={categoryWidth}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderTable() {\r\n    const { data } = this.state;\r\n    const {\r\n      notAccordion,\r\n    } = this.props;\r\n\r\n    const tabs = _.map(data.coverageTypesDescs, tab => ({ desc: tab }));\r\n\r\n    if (tabs.length > 1) {\r\n      return (\r\n        <TabView\r\n          style={{ marginTop: 44, marginBottom: 34 }}\r\n          tabs={tabs}\r\n          autoHeight\r\n          setTriggerHeightUpdate={() => {\r\n            if (!notAccordion) {\r\n              this.accordion.setOpenCallback();\r\n            }\r\n          }}\r\n          name=\"overview-tab\"\r\n        >\r\n          {this.renderLists(true)}\r\n        </TabView>\r\n      );\r\n    }\r\n\r\n    return this.renderLists(false);\r\n  }\r\n\r\n  renderSpeechScrollList() {\r\n    const { speechScroll, data } = this.state;\r\n    const { scrollPopUpCallback, hoveredIndex } = this.props;\r\n    if (!speechScroll) {\r\n      return null;\r\n    }\r\n\r\n    const validForSelection = _.reduce(data.validInsurers, (result, insurer) => {\r\n      const matchedCurrentIndex = _.findIndex(data.selectedInsurers, insur => insur && insur.productSlug === insurer.insurance_slug);\r\n      if (matchedCurrentIndex === -1) {\r\n        result.push(insurer);\r\n      }\r\n      return result;\r\n    }, []);\r\n\r\n    if (validForSelection.length === 0) {\r\n      return (\r\n        <button>\r\n          <p style={{ textAlign: 'center', flex: 1 }}>None</p>\r\n        </button>\r\n      );\r\n    }\r\n\r\n    let policyType = 'default';\r\n    if (data.tripType) {\r\n      policyType = data.tripType === 'Single Trip' ? 'single' : 'annual';\r\n    }\r\n    return _.map(validForSelection, (insurer, index) => {\r\n      const discountData = insurer.discount_data ? insurer.discount_data[policyType] : null;\r\n      const discount = discountData && discountData.amount > 0 ? discountData.display : null;\r\n\r\n      return (\r\n        <button\r\n          key={`data.insurer${index}`}\r\n          onClick={(event) => {\r\n            if (scrollPopUpCallback) scrollPopUpCallback(insurer, hoveredIndex);\r\n            speechScroll.handleInsurerBlur(event);\r\n          }}\r\n        >\r\n          <div className=\"insurer-container\">\r\n            <img src={Logos[insurer.insurer_slug]} alt={`${insurer.insurer_name}.png`} />\r\n          </div>\r\n          <p>{insurer.insurer_name}</p>\r\n          {\r\n            discount ?\r\n              <div className=\"popup-discount\">\r\n                <p className=\"up\">UP TO</p>\r\n                <div className=\"bottom\">\r\n                  <p className=\"bottom-left\">{discount.slice(0, discount.length - 1)}</p>\r\n                  <div className=\"bottom-right\">\r\n                    <p className=\"percent\">%</p>\r\n                    <p className=\"off\">OFF</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            :\r\n            null\r\n          }\r\n        </button>\r\n      );\r\n    });\r\n  }\r\n\r\n  renderNonProductChangable() {\r\n    const {\r\n      isFixed,\r\n    } = this.state;\r\n\r\n    const { notAccordion } = this.props;\r\n\r\n    const fixedCatStyle = isFixed ? 'category-resp-fixed-container' : 'category-resp-fixed-hidden-container';\r\n    const headerList = this.renderHeader();\r\n\r\n    return (\r\n      <Col className=\"overview-container\" xs={12}>\r\n        <Row className=\"detail-container\" noGutters>\r\n          <div className=\"desc-width overview d-none d-md-flex\">\r\n            <p className=\"overview-text\">Overview</p>\r\n          </div>\r\n          <div ref={node => (this.catMarker = node)} />\r\n          <div className={`category-resp-container ${fixedCatStyle}`}>\r\n            {headerList}\r\n          </div>\r\n          <div className=\"category-resp-container\">\r\n            {headerList}\r\n          </div>\r\n          {\r\n            notAccordion ?\r\n              <Fragment>\r\n                {this.renderTable()}\r\n              </Fragment>\r\n            :\r\n              <Accordion ref={node => this.accordion = node}>\r\n                {this.renderTable()}\r\n              </Accordion>\r\n          }\r\n        </Row>\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  renderProductChangable() {\r\n    const {\r\n      isFixed,\r\n    } = this.state;\r\n\r\n    const { notAccordion, className } = this.props;\r\n\r\n    const fixedCatStyle = isFixed ? 'category-resp-fixed-bottom-container' : 'category-resp-fixed-hidden-container';\r\n    const headerList = this.renderBottomHeader();\r\n\r\n    return (\r\n      <Col className={`overview-container  ${className}`} xs={12}>\r\n        <Row className=\"detail-not-changable-container\" noGutters>\r\n          {this.renderEditForm()}\r\n          <div className=\"category-resp-container\">\r\n            <SpeechScroll\r\n              offsetHeight={40}\r\n              ref={node => !this.state.speechScroll && this.setState({ speechScroll: node })}\r\n            >\r\n              {this.renderSpeechScrollList()}\r\n            </SpeechScroll>\r\n            {this.renderEditableHeader()}\r\n          </div>\r\n          {\r\n            notAccordion ?\r\n              <Fragment>\r\n                {this.renderTable()}\r\n                <div className=\"category-resp-container\" ref={node => this.bottomHeader = node}>\r\n                  {headerList}\r\n                  <div ref={node => (this.catMarker = node)} />\r\n                </div>\r\n              </Fragment>\r\n            :\r\n              <Accordion ref={node => this.accordion = node}>\r\n                {this.renderTable()}\r\n                <div className=\"category-resp-container\" ref={node => this.bottomHeader = node}>\r\n                  {headerList}\r\n                  <div ref={node => (this.catMarker = node)} />\r\n                </div>\r\n              </Accordion>\r\n          }\r\n          <div className={`category-resp-container ${fixedCatStyle}`}>\r\n            {headerList}\r\n          </div>\r\n        </Row>\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { productChangable } = this.props;\r\n    return (\r\n      <Fragment>\r\n        { productChangable ?\r\n          this.renderProductChangable()\r\n          :\r\n          this.renderNonProductChangable()\r\n        }\r\n        <RestrictionsPopup ref={node => this.resPopup = node} />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nCompareView.defaultProps = {\r\n  notAccordion: false,\r\n  productChangable: false,\r\n  className: '',\r\n  editForm: null,\r\n  scrollPopUpCallback: null,\r\n  currentTab: null,\r\n  hoveredIndex: 0,\r\n  buttonDesc: null,\r\n  forceFixedOnDesktop: false,\r\n  category: null,\r\n};\r\n\r\nCompareView.propTypes = {\r\n  data: PropTypes.object.isRequired,\r\n  notAccordion: PropTypes.bool,\r\n  productChangable: PropTypes.bool,\r\n  className: PropTypes.string,\r\n  editForm: PropTypes.object,\r\n  currentTab: PropTypes.string,\r\n  hoveredIndex: PropTypes.number,\r\n  scrollPopUpCallback: PropTypes.func,\r\n  setHoveredIndex: PropTypes.func.isRequired,\r\n  setRestrictionPopup: PropTypes.func.isRequired,\r\n  buttonDesc: PropTypes.string,\r\n  forceFixedOnDesktop: PropTypes.bool,\r\n  category: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  hoveredIndex: state.insurance.hoveredIndex,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setHoveredIndex: (index) => {\r\n    dispatch(setHoveredInsurerIndex(index));\r\n  },\r\n  setRestrictionPopup: (data) => {\r\n    dispatch(setRestrictionPopup(data));\r\n  },\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CompareView);\r\n","/**\r\n * HeaderDescWithButton.js\r\n * Product summary with button\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Button from 'components/FormsV3/Button/Button';\r\n\r\nimport './HeaderDescWithButton.scss';\r\n\r\nclass HeaderDescWithButton extends Component {\r\n  render() {\r\n    const {\r\n      logo,\r\n      logoName,\r\n      insurerName,\r\n      insurerDesc,\r\n      onClick,\r\n    } = this.props;\r\n\r\n    return (\r\n      <Row className=\"header-desc-with-button-container\" noGutters>\r\n        <Col className=\"insurer-logo-container\">\r\n          <div className=\"company-logo-container\">\r\n            <img className=\"company-logo\" src={logo} alt={logoName} />\r\n          </div>\r\n        </Col>\r\n        <Col className=\"insurer-desc-container\">\r\n          <div className=\"insurer-desc-top\">\r\n            <span className=\"insurer-name\">{insurerName}</span>\r\n          </div>\r\n          <p className=\"desc\">\r\n            {insurerDesc}\r\n          </p>\r\n        </Col>\r\n        {\r\n          onClick ?\r\n            <div className=\"header-button-container\">\r\n              <Button variant=\"medium-flat-green\" width={165} height={72} onClick={onClick}>\r\n                <p>Continue</p>\r\n              </Button>\r\n            </div>\r\n          :\r\n            null\r\n        }\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nHeaderDescWithButton.defaultProps = {\r\n  onClick: null,\r\n};\r\n\r\nHeaderDescWithButton.propTypes = {\r\n  logo: PropTypes.string.isRequired,\r\n  logoName: PropTypes.string.isRequired,\r\n  insurerName: PropTypes.string.isRequired,\r\n  insurerDesc: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default HeaderDescWithButton;\r\n","/**\r\n * PetEditDetail.js\r\n * Edit Detail View for Pet\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { reduxForm, getFormValues, reset } from 'redux-form';\r\nimport { withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { Row, Col } from 'reactstrap';\r\n\r\nimport Paw from 'assets/images/MainFormIcons/Paw.svg';\r\n\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport Selection from '../Forms/Selection/Selection';\r\nimport DatePickerV2 from '../Forms/DatePicker/DatePickerV2';\r\n\r\nimport RestrictionsPopup from '../Templates/RestrictionsPopup/RestrictionsPopup';\r\n\r\nimport { invokeSubmit } from '../../actions/editFormActions';\r\nimport { setInsuranceFormState, FORMSTATES } from '../../actions/insuranceActions';\r\nimport { setRestrictionPopup } from '../../actions/restrictionsActions';\r\nimport { validateForm, dateReValidate } from '../../lib/validators';\r\nimport { slashedStringDateToDate } from '../../lib/dateFunctions';\r\nimport { fbTag, gaEvent, ampTag } from '../../lib/tagFunctions';\r\n\r\nimport './PetMain.scss';\r\n\r\nconst formName = 'pet';\r\n\r\nclass PetEditDetail extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { petFields } = this.props;\r\n\r\n    this.state = {\r\n      errorStringData: {},\r\n      startDate: slashedStringDateToDate(petFields.form_fields[1].min_date),\r\n      endDate: slashedStringDateToDate(petFields.form_fields[1].max_date),\r\n    };\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleCloseEdit = this.handleCloseEdit.bind(this);\r\n    this.handleRevert = this.handleRevert.bind(this);\r\n    this.validateForm = this.validateForm.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { storeForm, setCloseCallBack } = this.props;\r\n    this.originalValues = storeForm;\r\n\r\n    if (setCloseCallBack) {\r\n      setCloseCallBack(this.handleRevert);\r\n    }\r\n  }\r\n\r\n  validateForm(e) {\r\n    const { startDate, endDate } = this.state;\r\n    const {\r\n      petFields,\r\n    } = this.props;\r\n\r\n    const fieldsToCheck = ['pet_species', 'start_date'];\r\n    const errorResult = validateForm(e, fieldsToCheck, {\r\n      pet_species: { type: 'ARRAY', data: petFields.form_fields[0].options },\r\n      start_date: { type: 'DATE', start: startDate, end: endDate },\r\n    });\r\n\r\n    this.setState({\r\n      errorStringData: errorResult,\r\n    });\r\n\r\n    return errorResult;\r\n  }\r\n\r\n  handleSubmit(e, isFirstValidate = true) {\r\n    // e.preventDefault();\r\n    // console.log(e);\r\n    const {\r\n      setInsurFormState,\r\n      setSubmit,\r\n      storeForm,\r\n      submitCallback,\r\n      closePopUp,\r\n      history,\r\n    } = this.props;\r\n\r\n    const errorResult = this.validateForm(isFirstValidate ? e : storeForm);\r\n    const isEmptyResult = _.isEmpty(errorResult);\r\n\r\n    if (dateReValidate(\r\n      isEmptyResult,\r\n      isFirstValidate,\r\n      errorResult,\r\n      error => this.setState({ errorStringData: error }),\r\n      () => this.handleSubmit(storeForm, false),\r\n    )) {\r\n      return;\r\n    }\r\n\r\n    if (isEmptyResult) {\r\n      setSubmit();\r\n      this.originalValues = storeForm;\r\n\r\n      if (submitCallback) {\r\n        submitCallback();\r\n      } else {\r\n        fbTag('PPS2 - ButtonClick - Pet - GetQuote', { Product: 'Pet', Click_Text: 'GetQuote' });\r\n        gaEvent('Pet - Get Quote', {\r\n          event_category: 'Pet',\r\n          event_label: 'Button - Pet - Get Quote',\r\n        });\r\n        ampTag('PetGetQuoteA', {\r\n          pet: e.pet_species,\r\n        });\r\n      }\r\n\r\n      if (closePopUp) {\r\n        closePopUp();\r\n      }\r\n\r\n      setInsurFormState(FORMSTATES.CHOOSEPLAN.index);\r\n      history.push(`/pet${FORMSTATES.CHOOSEPLAN.path}`);\r\n    }\r\n  }\r\n\r\n  handleRevert() {\r\n    const { change, resetForm } = this.props;\r\n    resetForm();\r\n    Object.keys(this.originalValues).forEach((key) => {\r\n      change(key, this.originalValues[key]);\r\n    });\r\n  }\r\n\r\n  handleCloseEdit() {\r\n    const { closePopUp } = this.props;\r\n    closePopUp(this.handleRevert);\r\n  }\r\n\r\n  render() {\r\n    const { errorStringData, startDate, endDate } = this.state;\r\n    const {\r\n      handleSubmit,\r\n      isPopUp,\r\n      change,\r\n      form,\r\n      petFields,\r\n      storeForm,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className=\"landing-form-container\">\r\n        {\r\n          isPopUp ?\r\n            <p className=\"edit-header\">Edit Pet Insurance Details</p>\r\n          :\r\n            null\r\n        }\r\n        <form onSubmit={handleSubmit(this.handleSubmit)}>\r\n          <Row className=\"input-offset\" noGutters>\r\n            <Col className=\"justify-content-center icon icon-car d-none d-sm-flex\" sm={2}>\r\n              <img src={Paw} alt=\"Paw.svg\" />\r\n            </Col>\r\n            <Col className=\"input-padding-right\" xs={12} sm={5}>\r\n              <Selection\r\n                form={form}\r\n                change={change}\r\n                name=\"pet_species\"\r\n                type=\"text-selection\"\r\n                noEmptyTextSelection\r\n                options={_.map(petFields.form_fields[0].options, option => ({\r\n                  key: option,\r\n                  description: option,\r\n                }))}\r\n                sizeInSM={6}\r\n                desc={petFields.form_fields[0].display_name}\r\n                extraInfo={\r\n                  <p>\r\n                    {'*Please read restrictions on '}\r\n                    <button\r\n                      onClick={(e) => {\r\n                      e.preventDefault();\r\n                      this.props.setRestrictionPopup({\r\n                        values: petFields.restrictions,\r\n                      });\r\n                    }}\r\n                      className=\"green\"\r\n                    >\r\n                      <b>PetCare</b>\r\n                    </button>\r\n                  </p>\r\n                }\r\n                errorString={errorStringData.pet_species}\r\n                validateForm={() => this.validateForm(storeForm)}\r\n              />\r\n            </Col>\r\n            <Col className=\"input-padding-left\" xs={12} sm={5}>\r\n              <DatePickerV2\r\n                form={form}\r\n                change={change}\r\n                name=\"start_date\"\r\n                size=\"medium\"\r\n                zIndex={95}\r\n                desc={petFields.form_fields[1].display_name}\r\n                currDate={startDate}\r\n                startDate={startDate}\r\n                endDate={endDate}\r\n                extraInfo={\r\n                  <p>Coverage lasts <b>one year</b> from ‘Start Date’</p>\r\n                }\r\n                errorString={errorStringData.start_date}\r\n                validateForm={() => this.validateForm(storeForm)}\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <Row className=\"align-items-center button-container\" noGutters>\r\n            {\r\n              isPopUp ?\r\n                <Col className=\"justify-content-center button\" xs={12}>\r\n                  <Row noGutters>\r\n                    <Col className=\"button-container-inner\" xs={12} sm={6}>\r\n                      <Button\r\n                        className=\"button-left\"\r\n                        variant=\"medium-flat\"\r\n                        width={165}\r\n                        height={72}\r\n                        onClick={() => this.handleCloseEdit()}\r\n                      >\r\n                        <p>Cancel</p>\r\n                      </Button>\r\n                    </Col>\r\n                    <Col className=\"button-container-inner\" xs={12} sm={6}>\r\n                      <Button\r\n                        type=\"submit\"\r\n                        variant=\"medium-flat-green\"\r\n                        width={165}\r\n                        height={72}\r\n                      >\r\n                        <p>Save</p>\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                </Col>\r\n              :\r\n                <Col className=\"justify-content-center button\" xs={12}>\r\n                  <Button type=\"submit\" variant=\"medium-flat-green\" width={165} height={72}>\r\n                    <p>Get Quote</p>\r\n                  </Button>\r\n                </Col>\r\n            }\r\n          </Row>\r\n        </form>\r\n        <RestrictionsPopup ref={node => this.resPopup = node} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nPetEditDetail.defaultProps = {\r\n  isPopUp: false,\r\n  setCloseCallBack: null,\r\n  storeForm: null,\r\n  closePopUp: null,\r\n  submitCallback: null,\r\n};\r\n\r\nPetEditDetail.propTypes = {\r\n  setRestrictionPopup: PropTypes.func.isRequired,\r\n  handleSubmit: PropTypes.func.isRequired,\r\n  form: PropTypes.string.isRequired,\r\n  change: PropTypes.func.isRequired,\r\n  isPopUp: PropTypes.bool,\r\n  resetForm: PropTypes.func.isRequired,\r\n  closePopUp: PropTypes.func,\r\n  setInsurFormState: PropTypes.func.isRequired,\r\n  setSubmit: PropTypes.func.isRequired,\r\n  storeForm: PropTypes.object,\r\n  setCloseCallBack: PropTypes.func,\r\n  submitCallback: PropTypes.func,\r\n  petFields: PropTypes.object.isRequired,\r\n  history: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  storeForm: getFormValues(formName)(state),\r\n  isRevert: state.editForm.isRevert,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  resetForm: () => {\r\n    dispatch(reset(formName));\r\n  },\r\n  setInsurFormState: (state) => {\r\n    dispatch(setInsuranceFormState(state));\r\n  },\r\n  setSubmit: () => {\r\n    dispatch(invokeSubmit());\r\n  },\r\n  setRestrictionPopup: (data) => {\r\n    dispatch(setRestrictionPopup(data));\r\n  },\r\n});\r\n\r\nexport default withRouter(reduxForm({\r\n  form: formName,\r\n  destroyOnUnmount: false,\r\n})(connect(mapStateToProps, mapDispatchToProps)(PetEditDetail)));\r\n","module.exports = __webpack_public_path__ + \"static/media/Paw.f3a9b772.svg\";"],"sourceRoot":""}