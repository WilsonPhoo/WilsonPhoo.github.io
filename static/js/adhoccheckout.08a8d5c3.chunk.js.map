{"version":3,"sources":["containers/Motor/MotorCheckoutContainer.js","containers/AdHocCheckout/AdHocOthersContainer.js","containers/AdHocCheckout/AdHocCheckoutContainer.js","components/Templates/CheckoutPopup/CheckoutComplete.js","components/Forms/Selection/Selection.js","assets/images/forms/ArrowGradient.svg","assets/images/common/CheckoutComplete.svg","components/Templates/Enquiry/Enquiry.js","components/Templates/LoadingScreenV2/LogoSlider.js","components/Templates/LoadingScreenV2/LoadingScreenV2.js","lib/trackingHelper.js","components/Templates/TabView/TabViewNew.js","assets/images/forms/Label.svg","components/FormsV3/PromoCode/PromoCode.js","components/Templates/StripePayment/StripePayment.js","components/Templates/PiggySignUp/PiggySignUpNew.js","components/Templates/PiggySignUp/PiggyFillFormNew.js","assets/images/common/CheckIcon.svg","assets/images/common/Phone.svg","components/Templates/Accordion/Accordion.js","assets/images/Icons/Google.png","assets/images/Icons/Facebook.png","components/Templates/PiggySignUp/PiggySignUp.js","assets/images/Motor/Pig.svg","containers/Pet/PetCheckoutContainer.js","components/Templates/APILoader/APILoader.js","assets/images/forms/PiggyBank.svg","containers/PA/PACheckoutContainer.js","components/Templates/InsurerFormHeader/HeaderDescWithTypeDateNew.js","components/Templates/CheckoutV1/CheckoutDetailsTable/CheckoutDetailsTable.js","components/Templates/CheckoutV1/CheckoutPriceSummary/CheckoutPriceSummary.js","components/Templates/CashbackBalance/CashbackBalanceNew.js","components/Templates/CheckoutV1/CheckoutCashback/CheckoutCashback.js","components/Templates/CheckoutV1/CheckoutTotal/CheckoutTotal.js","components/Templates/CheckoutV1/CheckoutDisclaimer/CheckoutDisclaimer.js","components/Templates/CheckoutV1/CheckoutPayment/CheckoutPayment.js","components/Templates/CheckoutV1/Checkout.js","containers/Travel/TravelCheckoutContainer.js","components/Templates/ErrorPage/ErrorPage.js"],"names":["MotorCheckoutContainer","props","_this","Object","classCallCheck","this","_this$props","possibleConstructorReturn","getPrototypeOf","call","motorForm","motorMoreForm","motorDetailsForm","selectedPlanData","isAdHoc","adHocData","paramsWording","getCheckoutParamsWording","getSessionParams","headerCoverage","getCheckoutHeaderDataCoverage","params","motorDetailFormToUse","data","session_params","state","objectSpread","headerData","mainDetails","title","attributes","compactCheckoutAttributes","description","email","name","family_name","given_name","nric","gender","marital_status","birth_date","mobile_number","address","unit_no","postal","start_date","end_date","subDetails","getCompactSubDetails","key","leftDetail","pass_date","years_of_experience","ncd","offence_free","num_claims","rightDetail","vehicle_number","vehicle_no","vehicle_usage","vehicle_make","vehicle_model","num_seats","reg_year","manufacture_year","off_peak","commencement_date","setFormState","FORMSTATES","CHECKOUT","index","gaTag","page_title","page_path","_this$state","wording","_this$props2","isLoggedIn","charged","history","sessionId","react_default","a","createElement","CheckoutWrapper","backToDetails","goBack","category","trackingTags","payment","gaEvent","event_category","event_label","receipt","SUBMITTED","push","concat","path","Component","defaultProps","withRouter","connect","ownProps","insurance","getFormValues","pet","dispatch","setInsuranceFormState","defaultTopNames","defaultBottomNames","AdHocOthersContainer","sessionParamsToUse","_","map","param","startCase","replace","AdHocCheckoutContainer","apiLoader","setCharged","bind","assertThisInitialized","match","getAdhocTransaction","id","setState","APILoader","status","Promise","resolve","_this2","localCharged","userDetails","isEmpty","TravelCheckoutContainer","handleAPI","PetCheckoutContainer","Motor_MotorCheckoutContainer","PACheckoutContainer","AdHocCheckout_AdHocOthersContainer","error","ErrorPage","_this3","react","renderCheckout","ref","node","CheckoutComplete","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","animateStyle","openCheckoutComplete","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","userName","arguments","length","undefined","setTimeout","popupRef","openPopup","isQuoteOnly","upperText","react__WEBPACK_IMPORTED_MODULE_6___default","react__WEBPACK_IMPORTED_MODULE_6__","className","midText","_this$props3","buttonText","callback","components_FormsV3_Button_Button__WEBPACK_IMPORTED_MODULE_9__","variant","width","height","onClick","togglePopup","closePopup","_this4","_this$props4","isSellLeads","extraText","_Popup_Popup__WEBPACK_IMPORTED_MODULE_10__","hideCloseButton","r","src","CheckoutCompleteSVG","alt","renderUpperText","renderMidText","renderButton","withRef","Selection","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","selections","formStore","storeValues","storeValuesArray","constructor","Array","resultState","forEach","v","nextProps","prevState","getStoreSelection","noEmptyTextSelection","setInitialValue","prevProps","option","type","change","toggleResult","newSelections","noUpdate","mapValues","findKey","assign","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","each","k","options","selectionState","CheckIcon","_this$props5","sizeInSM","children","role","onKeyPress","onToggleSelection","tabIndex","renderSelectionInsides","reactstrap__WEBPACK_IMPORTED_MODULE_10__","sm","_this$props6","desc","extraInfo","errorString","_FormInputWrapper_FormInputWrapper__WEBPACK_IMPORTED_MODULE_13__","formParent","style","marginTop","redux_form__WEBPACK_IMPORTED_MODULE_8__","component","renderSelectionIcon","PureComponent","form","module","exports","__webpack_require__","p","Enquiry","react__WEBPACK_IMPORTED_MODULE_5___default","reactstrap__WEBPACK_IMPORTED_MODULE_6__","Phone","href","LogoSlider","logos","Logos","small","logo","keyFrameLogo","keyframes","_templateObject","AnimatedContainer","styled","div","_templateObject2","renderLogos","clearInterval","interval","LoadingScreenV2","overwriteShowWarning","closeLoading","handleChange","isLoading","timer","clearTimeout","showLoadingError","showLoading","errorCallback","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","stop","isLoadingError","message","noLogos","loadingStyle","SpinnerAnimation","LoadingScreenV2_LogoSlider","ModalPopup","showModal","closeModal","backdropClassName","header","body","zIndex","footer","Button","getInsurerLogo","insurer_slug","getAddToCartData","result","keys","_params$insurer_slug","_params$product_slug","product_slug","_params$values","values","_params$price","price","product","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","pick","i","item","date","isObject","value","moment","format","isArray","from","c","parseValues","product_image","quantity","content_ids","content_name","product_name","content_type","contents","currency","Number","TabViewNew","padding","maxTabWidthPx","isDataFadeOnly","tabs","initialIndex","isUsingMaxWidth","maxWidth","tabWidth","activeIndex","containerWidth","widthPercentage","paddingWidth","isControlVisible","fadeStyle","goToIndex","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__","handleResize","resizeTabHeight","renderTabs","renderTabContent","renderControls","renderSlides","renderScollableTabs","renderSelectableTabs","renderDropControls","currentTabSelection","newIndex","findIndex","tab","changeTab","window","addEventListener","ReactDOM","findDOMNode","carousel","setTriggerHeightUpdate","tabContainer","getBoundingClientRect","removeEventListener","_this$state2","hideWidth","isVisibleNow","innerWidth","isForced","_this$state3","carouselIncoming","overrideNegation","isConstantHeight","carouselToUse","list","getElementsByTagName","sliderWrapper","parentNode","itemHeight","scrollHeight","activeStyle","bigTextStyle","big","isWithImg","isString","img","react__WEBPACK_IMPORTED_MODULE_8___default","react__WEBPACK_IMPORTED_MODULE_8__","_this$state4","bigTabStyle","tabStyle","onKeyDown","_this5","React","cloneElement","updateTabHeight","_this6","_this$state5","isDisableDropdown","displayStyle","react_custom_scrollbars__WEBPACK_IMPORTED_MODULE_9__","_this7","_this$state6","droplist","display_name","_FormsV3_DropDown_DropDown__WEBPACK_IMPORTED_MODULE_13__","placeholderString","dropList","isDisableTyping","onChange","noInternalDesc","_this8","_this$state7","isOverContainer","selectedMargin","bigStyle","marginLeft","scrollTabs","_this9","_this$state8","react_responsive_carousel__WEBPACK_IMPORTED_MODULE_12__","showThumbs","showIndicators","showArrows","showStatus","selectedItem","swipeable","tabName","setTabSelection","PromoCode","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","oldValue","isComMounted","propsValue","postCheckout","react__WEBPACK_IMPORTED_MODULE_7___default","_FormInputWrapper_FormInputWrapper__WEBPACK_IMPORTED_MODULE_10__","reactstrap__WEBPACK_IMPORTED_MODULE_8__","placeholder","disabled","e","target","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","abrupt","sent","t0","StripePayment","currMarkup","extraData","cleanCheckoutButtonContainer","setNewMarkup","invokeClick","markup","paymentCallback","replacementIDString","range","document","createRange","checkoutButton","appendChild","createContextualFragment","$","get","submit","serializeArray","firstChild","removeChild","failCallback","doTag","zeroPaymentCallback","failCallTimeout","ele","getElementsByName","setInterval","getElementsByClassName","dataset","amount","console","log","button","trigger","react__WEBPACK_IMPORTED_MODULE_7__","components_Templates_LoadingScreenV2_LoadingScreenV2__WEBPACK_IMPORTED_MODULE_8__","PiggySignUpNew","subHeader","reactstrap_es","xs","PiggyBank","PiggyFillFormNew","mainText","descText","cashback","mainTextToUse","descTextToUse","Templates_PiggySignUp_PiggySignUpNew","Accordion","isOpened","openCallback","handleExpand","setOpenCallback","isWarning","openStyle","openText","arrowOpenStyle","borderStyle","isFullBorder","reactstrap__WEBPACK_IMPORTED_MODULE_7__","isOpen","minHeight","ArrowGradient","PiggySignUp","buttonInner","Pig","components_FormsV3_Button_Button__WEBPACK_IMPORTED_MODULE_8__","petForm","petDetailsForm","petIllness","pet_illness","medicalRecord","pet_medical_record","record","petFormToUse","sessionParams","petDetailFormToUse","pet_species","id_type","pet_name","pet_microchip_no","pet_birth_date","ampTag","location","pathname","info","planType","trackData","coverage_level","amountPayable","ReactPixel","track","_components_Templates_Checkout_CheckoutWrapper__WEBPACK_IMPORTED_MODULE_15__","rewardsID","promo","promoCode","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","errorMsg","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__","show","apiCallback","overwriteWarning","showLoadigInterval","showError","_context3","components_Templates_LoadingScreenV2_LoadingScreenV2__WEBPACK_IMPORTED_MODULE_9__","paForm","paDetailsForm","SpouseAttribute","familyMemberText","num_adult","family","occupation","numChildren","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","plan_type","family_members","num_children","_Users_wilson_PolicyPal_PolicyPal_Ecommerce_Reactjs_Dev_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","getSubDetails","isMyself","myself","full_name","nationality","race","industry","familyData","childCount","isSpouse","full_school_education","relationship","_components_Templates_Checkout_CheckoutWrapper__WEBPACK_IMPORTED_MODULE_13__","pa","HeaderDescWithTypeDateNew","logoName","insurerDesc","data1","data1Value","data2","data2Value","noGutters","CheckoutDetailsTable","reduce","details","isFullWidth","isMain","transactionData","smLeftWidth","smRightWidth","coverageData","find","transaction","policy_info","toUpperCase","toConsumableArray","infoList","renderDetails","marginRight","generateTabs","autoHeight","renderMainDetails","renderSubDetails","CheckoutPriceSummary","getPromo","handleOnChange","_ref","promoResult","code","_x","apply","isRenderPromo","priceData","JSX","noTitle","isPromo","extraCol","promoStyle","subTotalExtra","element","sub_title","renderPromoCodeButton","CashbackBalanceNew","cashbackBalance","CashbackLogo","CheckoutCashback","rewardPoints","errors","cashbackData","cashbackUsed","toFixed","chargedBalanceStyle","Checkbox","_x2","_x3","isRequired","Templates_CashbackBalance_CashbackBalanceNew","CheckoutTotal","totalData","CheckoutDisclaimer","wordings","CheckoutPayment","handlePaymentCallback","handleOnCheckout","handleOnCheckoutZero","renderCashBackEarned","setError","checkout","checkoutResult","user","userData","users","familyName","d","givenName","checkoutComplete","gaReceipt","useCashback","getStripe","setErrors","pushStripePopupPath","isTnCChecked","getFormValue","validatedTnC","validateForm","w","slug","is_required","_callee2","_context2","stripePayment","goog_report_conversion","LabelImg","CreditCards","checkoutUsingCashback","openCheckoutUsingCashback","CheckoutUsingCashback","onConfirm","wrappedComponentRef","Checkout","renderHeader","renderDetailsTable","renderPriceSummary","renderTotal","renderCashBack","renderDisclaimer","renderBackToDetail","renderSignUp","renderPayment","verifyParams","getAnonymousSession","newSessionId","token","promo_code","scrollTo","hide","gaCheckOut","newErrors","newError","defineProperty","Templates_InsurerFormHeader_HeaderDescWithTypeDateNew","CheckoutV1_CheckoutDetailsTable_CheckoutDetailsTable","promoErrorString","CheckoutV1_CheckoutPriceSummary_CheckoutPriceSummary","CheckoutV1_CheckoutTotal_CheckoutTotal","CheckoutV1_CheckoutCashback_CheckoutCashback","reward_points","_this$props7","CheckoutV1_CheckoutDisclaimer_CheckoutDisclaimer","_this$props8","_this$props9","login","popup","loginContainer","setInitialIndex","_this$props10","CheckoutV1_CheckoutPayment_CheckoutPayment","getTransactionStripeSession","lg","renderChargedHeader","renderWarning","adHocCharged","isCharged","propsFromState","propsFromDispatch","getReceipt","userToken","promocode","useReward","getPromoCode","detailValues","getCheckoutParamsWordingNew","getCheckoutHeaderDataCoverageNew","tripType","trip_type","travelDate","getTravelDate","travellingString","getTravellingString","getTravellersDetails","countries","countryName","country","destination","doSetCategoryNavBar","backgroundColor","whoTravelling","mainAdultDetail","adultsDetail","childrenDetail","blkNo","blk_no","citizenship","arrayName","count","startIndex","Templates_CheckoutV1_Checkout","isCategory","setCategoryNavBar","_containers_FooterContainer__WEBPACK_IMPORTED_MODULE_7__"],"mappings":"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","file":"static/js/adhoccheckout.08a8d5c3.chunk.js","sourcesContent":["/**\n * MotorCheckoutContainer.js\n * Checkout Container for motor\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { getFormValues } from 'redux-form';\nimport PropTypes from 'prop-types';\n\nimport { getSessionParams } from '../../actions/petActions';\nimport { setInsuranceFormState, FORMSTATES } from '../../actions/insuranceActions';\nimport CheckoutWrapper from '../../components/Templates/Checkout/CheckoutWrapper';\nimport { gaTag, gaEvent } from '../../lib/tagFunctions';\n\nimport {\n  compactCheckoutAttributes,\n  getCheckoutParamsWording,\n  getCheckoutHeaderDataCoverage,\n  getCompactSubDetails,\n} from '../../lib/helperFunctions';\n\nclass MotorCheckoutContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    const {\n      motorForm,\n      motorMoreForm,\n      motorDetailsForm,\n      selectedPlanData,\n      isAdHoc,\n      adHocData,\n    } = this.props;\n\n    const paramsWording = getCheckoutParamsWording(\n      isAdHoc,\n      adHocData,\n      selectedPlanData,\n      () => getSessionParams(\n        selectedPlanData,\n        motorDetailsForm,\n        motorForm,\n        motorMoreForm,\n      ),\n    );\n\n    const headerCoverage = getCheckoutHeaderDataCoverage('Motor Insurance', isAdHoc, adHocData, selectedPlanData, paramsWording.params);\n    const motorDetailFormToUse = isAdHoc ? adHocData.data.session_params : motorDetailsForm;\n\n    this.state = {\n      headerData: headerCoverage.headerData,\n      mainDetails: {\n        title: 'Details',\n        attributes: compactCheckoutAttributes([\n          { title: 'Email', description: motorDetailFormToUse.email },\n          { title: 'Full Name', description: motorDetailFormToUse.name },\n          { title: 'Family Name', description: motorDetailFormToUse.family_name },\n          { title: 'Given Name', description: motorDetailFormToUse.given_name },\n          { title: 'ID Number', description: motorDetailFormToUse.nric },\n          { title: 'Gender', description: motorDetailFormToUse.gender },\n          { title: 'Marital Status', description: motorDetailFormToUse.marital_status },\n          { title: 'Date of birth', description: motorDetailFormToUse.birth_date },\n          { title: 'Mobile Number', description: motorDetailFormToUse.mobile_number },\n          { title: 'Address', description: motorDetailFormToUse.address },\n          { title: 'Unit no', description: motorDetailFormToUse.unit_no },\n          { title: 'Postal', description: motorDetailFormToUse.postal },\n          { title: 'Start Date', description: motorDetailFormToUse.start_date },\n          { title: 'End Date', description: motorDetailFormToUse.end_date },\n          // { title: 'Coverage', description: headerCoverage.coverage },\n        ]),\n      },\n      subDetails: [getCompactSubDetails({\n        key: 'Car',\n        leftDetail: {\n          title: 'Driving License',\n          attributes: compactCheckoutAttributes([\n            { title: 'Pass date', description: motorDetailFormToUse.pass_date },\n            { title: 'Years of experience', description: motorDetailFormToUse.years_of_experience },\n            { title: 'No claim discount', description: motorDetailFormToUse.ncd },\n            { title: 'Offence free', description: motorDetailFormToUse.offence_free },\n            { title: 'No of cliams in the last 3 years', description: motorDetailFormToUse.num_claims },\n          ]),\n        },\n        rightDetail: {\n          title: 'Vehicle',\n          attributes: compactCheckoutAttributes([\n            { title: 'Vehicle no', description: motorDetailFormToUse.vehicle_number },\n            { title: 'Vehicle no', description: motorDetailFormToUse.vehicle_no },\n            { title: 'Vehicle usage', description: motorDetailFormToUse.vehicle_usage },\n            { title: 'Car brand', description: motorDetailFormToUse.vehicle_make },\n            { title: 'Car model', description: motorDetailFormToUse.vehicle_model },\n            { title: 'No of seats', description: motorDetailFormToUse.num_seats },\n            { title: 'Years of registration', description: motorDetailFormToUse.reg_year },\n            { title: 'Years of manufacture', description: motorDetailFormToUse.manufacture_year },\n            { title: 'Off-peak car', description: motorDetailFormToUse.off_peak },\n            { title: 'Commencement date', description: motorDetailFormToUse.commencement_date },\n          ]),\n        },\n      })],\n      ...paramsWording,\n    };\n  }\n\n  componentDidMount() {\n    const { setFormState } = this.props;\n    setFormState(FORMSTATES.CHECKOUT.index);\n\n    gaTag({\n      page_title: 'Motor - Checkout',\n      page_path: '/motor/checkout',\n    });\n  }\n\n  render() {\n    const {\n      headerData,\n      mainDetails,\n      subDetails,\n      wording,\n      params,\n    } = this.state;\n\n    const {\n      isLoggedIn,\n      charged,\n      setFormState,\n      history,\n      isAdHoc,\n      adHocData,\n      sessionId,\n    } = this.props;\n\n    return (\n      <CheckoutWrapper\n        headerData={headerData}\n        mainDetails={mainDetails}\n        subDetails={subDetails}\n        sessionId={sessionId}\n        isLoggedIn={isLoggedIn}\n        charged={charged}\n        backToDetails={() => {\n          history.goBack();\n        }}\n        wording={wording}\n        isAdHoc={isAdHoc}\n        adHocData={adHocData}\n        params={params}\n        category=\"motor\"\n        trackingTags={{\n          payment: () => {\n            gaEvent('Motor - CheckoutPage_ProceedPayment', {\n              event_category: 'Motor',\n              event_label: 'Motor - CheckoutPage_ProceedPayment',\n            });\n          },\n          receipt: () => {\n            if (!isAdHoc) {\n              setFormState(FORMSTATES.SUBMITTED.index);\n              history.push(`/motor${FORMSTATES.SUBMITTED.path}`);\n            }\n            gaTag({\n              page_title: 'Motor - Receipt',\n              page_path: '/motor/Receipt',\n            });\n          },\n        }}\n      />\n    );\n  }\n}\n\nMotorCheckoutContainer.defaultProps = {\n  charged: null,\n  sessionId: null,\n  adHocData: null,\n  isAdHoc: false,\n  isLoggedIn: false,\n  motorForm: null,\n  motorMoreForm: null,\n  motorDetailsForm: null,\n  selectedPlanData: null,\n};\n\nMotorCheckoutContainer.propTypes = {\n  charged: PropTypes.bool,\n  sessionId: PropTypes.string,\n  isLoggedIn: PropTypes.bool,\n  motorForm: PropTypes.object,\n  motorMoreForm: PropTypes.object,\n  motorDetailsForm: PropTypes.object,\n  selectedPlanData: PropTypes.object,\n  adHocData: PropTypes.object,\n  isAdHoc: PropTypes.bool,\n  setFormState: PropTypes.func.isRequired,\n  history: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  const sessionId = ownProps.isAdHoc ? ownProps.sessionId : state.insurance.sessionId;\n  return ({\n    motorForm: getFormValues('motor')(state),\n    motorMoreForm: getFormValues('motor-detail')(state),\n    motorDetailsForm: getFormValues('motor-detail')(state),\n    selectedPlanData: state.pet.selectedPlanData,\n    sessionId,\n  });\n};\n\nconst mapDispatchToProps = dispatch => ({\n  setFormState: (state) => {\n    dispatch(setInsuranceFormState(state));\n  },\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(MotorCheckoutContainer));\n","/**\n * AdHocOthersContainer.js\n * The generic Checkout container for adhoc\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport CheckoutWrapper from '../../components/Templates/Checkout/CheckoutWrapper';\nimport { gaTag, gaEvent } from '../../lib/tagFunctions';\n\nimport {\n  compactCheckoutAttributes,\n  getCheckoutParamsWording,\n  getCheckoutHeaderDataCoverage,\n} from '../../lib/helperFunctions';\n\nconst defaultTopNames = [\n  'start_date',\n  'end_date',\n  'vehicle_no',\n];\n\nconst defaultBottomNames = [\n  'email',\n  'family_name',\n  'given_name',\n  'nric',\n  'birth_date',\n  'mobile_number',\n  'address',\n  'unit_no',\n  'postal',\n];\n\nclass AdHocOthersContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    const {\n      isAdHoc,\n      adHocData,\n    } = this.props;\n\n    const paramsWording = getCheckoutParamsWording(\n      true,\n      adHocData,\n    );\n\n    const headerCoverage = getCheckoutHeaderDataCoverage('Insurance', isAdHoc, adHocData);\n    const sessionParamsToUse = adHocData.data.session_params;\n\n    this.state = {\n      headerData: headerCoverage.headerData,\n      mainDetails: {\n        title: 'Insurance',\n        attributes: compactCheckoutAttributes(_.map(defaultTopNames, param => ({\n          title: _.startCase(_.replace(param, '_', ' ')),\n          description: sessionParamsToUse[param],\n        }))),\n      },\n      subDetails: [{\n        key: 'Detail',\n        leftDetail: {\n          title: 'Details',\n          attributes: compactCheckoutAttributes(_.map(defaultBottomNames, param => ({\n            title: _.startCase(_.replace(param, '_', ' ')),\n            description: sessionParamsToUse[param],\n          }))),\n        },\n      }],\n      ...paramsWording,\n    };\n  }\n\n  componentDidMount() {\n    gaTag({\n      page_title: 'Adhoc - Checkout',\n      page_path: '/adhoc/checkout',\n    });\n  }\n\n  render() {\n    const {\n      headerData,\n      mainDetails,\n      subDetails,\n      wording,\n      params,\n    } = this.state;\n\n    const {\n      isLoggedIn,\n      charged,\n      isAdHoc,\n      adHocData,\n      sessionId,\n    } = this.props;\n\n    return (\n      <CheckoutWrapper\n        headerData={headerData}\n        mainDetails={mainDetails}\n        subDetails={subDetails}\n        sessionId={sessionId}\n        isLoggedIn={isLoggedIn}\n        charged={charged}\n        backToDetails={() => {}}\n        wording={wording}\n        isAdHoc={isAdHoc}\n        adHocData={adHocData}\n        params={params}\n        category=\"adhoc\"\n        trackingTags={{\n          payment: () => {\n            gaEvent('Adhoc - CheckoutPage_ProceedPayment', {\n              event_category: 'Adhoc',\n              event_label: 'Adhoc - CheckoutPage_ProceedPayment',\n            });\n          },\n          receipt: () => {\n            gaTag({\n              page_title: 'Adhoc - Receipt',\n              page_path: '/adhoc/Receipt',\n            });\n          },\n        }}\n      />\n    );\n  }\n}\n\nAdHocOthersContainer.defaultProps = {\n  charged: null,\n  sessionId: null,\n  adHocData: null,\n  isAdHoc: false,\n  isLoggedIn: false,\n};\n\nAdHocOthersContainer.propTypes = {\n  charged: PropTypes.bool,\n  sessionId: PropTypes.string,\n  isLoggedIn: PropTypes.bool,\n  adHocData: PropTypes.object,\n  isAdHoc: PropTypes.bool,\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  sessionId: ownProps.sessionId,\n});\n\nexport default connect(mapStateToProps)(AdHocOthersContainer);\n","/**\n * AdHocCheckoutContainer.js\n * Used for Adhoc payments/ receipts\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport APILoader from 'components/Templates/APILoader/APILoader';\nimport TravelCheckoutContainer from '../Travel/TravelCheckoutContainer';\nimport MotorCheckoutContainer from '../Motor/MotorCheckoutContainer';\nimport PACheckoutContainer from '../PA/PACheckoutContainer';\nimport PetCheckoutContainer from '../Pet/PetCheckoutContainer';\nimport AdHocOthersContainer from './AdHocOthersContainer';\nimport ErrorPage from '../../components/Templates/ErrorPage/ErrorPage';\n\nimport { getAdhocTransaction } from '../../actions/insuranceActions';\n\nclass AdHocCheckoutContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: null,\n      apiLoader: null,\n      charged: false,\n    };\n\n    this.setCharged = this.setCharged.bind(this);\n  }\n\n  async componentDidMount() {\n    const { match } = this.props;\n\n    const data = await getAdhocTransaction(match.params.id);\n\n    this.setState({\n      data,\n      apiLoader: this.APILoader,\n      charged: data && data.status === 'paid',\n    });\n  }\n\n  async setCharged(charged) {\n    await new Promise(resolve => this.setState({ charged }, resolve));\n  }\n\n  renderCheckout() {\n    const { data, apiLoader, charged: localCharged } = this.state;\n    const { match, charged, userDetails } = this.props;\n\n    if (!data) {\n      return null;\n    }\n    const isLoggedIn = !_.isEmpty(userDetails);\n\n    try {\n      switch (data.data.session_params.category) {\n        case 'Travel':\n          return (\n            <TravelCheckoutContainer\n              adHocData={data}\n              sessionId={match.params.id}\n              isAdHoc\n              charged={localCharged}\n              isLoggedIn={isLoggedIn}\n              handleAPI={apiLoader ? apiLoader.handleAPI : () => {}}\n              setCharged={this.setCharged}\n            />);\n        case 'Pet':\n          return (\n            <PetCheckoutContainer\n              adHocData={data}\n              sessionId={match.params.id}\n              isAdHoc\n              charged={charged}\n              isLoggedIn={isLoggedIn}\n            />);\n        case 'Motor':\n          return (\n            <MotorCheckoutContainer\n              adHocData={data}\n              sessionId={match.params.id}\n              isAdHoc\n              charged={charged}\n              isLoggedIn={isLoggedIn}\n            />);\n        case 'Personal Accident':\n          return (\n            <PACheckoutContainer\n              adHocData={data}\n              sessionId={match.params.id}\n              isAdHoc\n              charged={charged}\n              isLoggedIn={isLoggedIn}\n            />);\n        default:\n          return (\n            <AdHocOthersContainer\n              adHocData={data}\n              sessionId={match.params.id}\n              isAdHoc\n              charged={charged}\n              isLoggedIn={isLoggedIn}\n            />\n          );\n      }\n    } catch (error) {\n      return <ErrorPage />;\n    }\n  }\n\n  render() {\n    return (\n      <Fragment>\n        {this.renderCheckout()}\n        <APILoader ref={(node) => { this.APILoader = node; }} />\n      </Fragment>\n    );\n  }\n}\n\nAdHocCheckoutContainer.defaultProps = {\n  charged: null,\n  userDetails: null,\n};\n\nAdHocCheckoutContainer.propTypes = {\n  match: PropTypes.object.isRequired,\n  charged: PropTypes.bool,\n  userDetails: PropTypes.object,\n};\n\nconst mapStateToProps = state => ({\n  charged: state.insurance.charged,\n  userDetails: state.userDetails.data,\n});\n\nexport default connect(mapStateToProps)(AdHocCheckoutContainer);\n","/**\n * CheckoutComplete.js\n * Shows this when checkout is complete\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport React, { Component, Fragment } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport CheckoutCompleteSVG from 'assets/images/common/CheckoutComplete.svg';\nimport Button from 'components/FormsV3/Button/Button';\nimport Popup from '../Popup/Popup';\n\nimport './CheckoutPopup.scss';\n\nclass CheckoutComplete extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      animateStyle: '',\n    };\n\n    this.openCheckoutComplete = this.openCheckoutComplete.bind(this);\n  }\n\n  openCheckoutComplete(userName = null) {\n    this.setState({\n      animateStyle: 'bounce-in',\n      userName,\n    });\n\n    setTimeout(() => {\n      this.popupRef.openPopup();\n    }, 10);\n  }\n\n  renderUpperText() {\n    const { userName } = this.state;\n    const { isQuoteOnly, upperText } = this.props;\n\n    if (!isQuoteOnly) {\n      return (\n        <Fragment>\n          <p>Thank you for your</p>\n          <p><span>purchase, </span><span className=\"focus-text\">{userName}</span></p>\n        </Fragment>\n      );\n    }\n\n    return (\n      <p>{upperText || 'Success'}</p>\n    );\n  }\n\n  renderMidText() {\n    const { isQuoteOnly, midText } = this.props;\n\n    const message = 'The insurer’s representative will contact you within 2 business days to share with you more about the selected product.';\n\n    // Our partnered FA representative from Synergy Financial Advisers Pte Ltd will contact you within 48 hours to share with you more about the selected product.\n    if (!isQuoteOnly) {\n      return (\n        <Fragment>\n          <p>A copy of the receipt has been sent to</p>\n          <p>your inbox.</p>\n          <p>{'The policy will be reflected in PolicyPal\\'s APP once approved.'}</p>\n        </Fragment>\n      );\n    }\n\n    if (midText !== null) {\n      return (\n        <Fragment>\n          <p>{midText}</p>\n        </Fragment>\n      );\n    }\n\n    return (\n      <Fragment>\n        <p>Thanks for submitting your request.</p>\n        <p>{message}</p>\n      </Fragment>\n    );\n  }\n\n  renderButton() {\n    const {\n      history,\n      isQuoteOnly,\n      buttonText,\n      callback,\n    } = this.props;\n\n    if (!isQuoteOnly) {\n      return (\n        <Fragment>\n          <Button\n            className=\"checkout-button\"\n            variant=\"medium-flat\"\n            width={166}\n            height={72}\n            onClick={() => history.push('/gotoappstore')}\n          >\n            <p>Download APP</p>\n          </Button>\n          <Button\n            className=\"checkout-button\"\n            variant=\"medium-flat-green\"\n            width={166}\n            height={72}\n            onClick={() => this.popupRef.closePopup()}\n          >\n            <p>Details</p>\n          </Button>\n        </Fragment>\n      );\n    }\n\n    return (\n      <Button\n        className=\"checkout-button\"\n        variant=\"medium-flat-green\"\n        width={166}\n        height={72}\n        onClick={() => {\n          if (callback) {\n            callback();\n            this.popupRef.togglePopup(false);\n            return;\n          }\n          history.push('/');\n        }}\n      >\n        <p>{buttonText || 'OK'}</p>\n      </Button>\n    );\n  }\n\n  render() {\n    const { animateStyle } = this.state;\n    const { isSellLeads, className } = this.props;\n\n    const extraText = !isSellLeads ? '' : 'In the event that you purchase a plan through our partner, PolicyPal receives a referral fee.';\n\n    return (\n      <Popup\n        className={className}\n        hideCloseButton ref={(r) => { this.popupRef = r; }}\n      >\n        <Fragment>\n          <div className=\"check-out-popup\">\n            <img className={animateStyle} src={CheckoutCompleteSVG} alt=\"CheckoutComplete.svg\" />\n            <div className=\"upper-container upper-margin-up\">\n              {this.renderUpperText()}\n            </div>\n            <div className=\"mid-container\">\n              {this.renderMidText()}\n            </div>\n            <div className=\"button-container\">\n              {this.renderButton()}\n            </div>\n            <div className=\"extra-text\"><p>{extraText}</p></div>\n          </div>\n        </Fragment>\n      </Popup>\n    );\n  }\n}\n\nCheckoutComplete.defaultProps = {\n  isQuoteOnly: false,\n  isSellLeads: false,\n  upperText: null,\n  midText: null,\n  buttonText: null,\n  callback: null,\n  className: '',\n};\n\nCheckoutComplete.propTypes = {\n  history: PropTypes.object.isRequired,\n  isQuoteOnly: PropTypes.bool,\n  isSellLeads: PropTypes.bool,\n  upperText: PropTypes.string,\n  midText: PropTypes.string,\n  buttonText: PropTypes.string,\n  callback: PropTypes.func,\n  className: PropTypes.string,\n};\n\nexport default withRouter(CheckoutComplete, { withRef: true });\n","/**\n * Selection.js\n * Selection with dynamic content\n *\n * @version 0.0.1\n * @author [Jia Hao](jiahao@policypal.com)\n */\nimport React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Field, getFormValues } from 'redux-form';\nimport { Row, Col } from 'reactstrap';\nimport _ from 'lodash';\n\nimport CheckIcon from 'assets/images/common/CheckIcon.svg';\n\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\n\nimport './Selection.scss';\n\nconst marginTopOffset = 10;\n\n/**\n * Custom Selection Class\n */\nclass Selection extends PureComponent {\n  static getStoreSelection(formStore, name) {\n    const storeValues = formStore[name];\n    if (!storeValues) {\n      return null;\n    }\n\n    const storeValuesArray = storeValues.constructor === Array ? storeValues : [storeValues];\n    const resultState = {};\n    _.forEach(storeValuesArray, (v) => {\n      if (v) { resultState[v] = true; }\n    });\n    return resultState;\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const { resultState, selections } = prevState;\n    const { formStore, name } = nextProps;\n    if (formStore && formStore[name] !== resultState) {\n      return {\n        resultState: formStore[name],\n        selections: Selection.getStoreSelection(formStore, name) || selections,\n      };\n    }\n\n    return null;\n  }\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selections: {},\n    };\n  }\n\n  componentDidMount() {\n    const {\n      name,\n      formStore,\n      noEmptyTextSelection,\n    } = this.props;\n\n    if (formStore && formStore[name]) {\n      this.setState({\n        selections: Selection.getStoreSelection(formStore, name),\n      });\n\n      return;\n    }\n\n    if (noEmptyTextSelection) {\n      this.setInitialValue();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const { name, formStore } = this.props;\n    if (name !== prevProps.name) {\n      const value = formStore[name];\n      if (!value) {\n        this.setInitialValue();\n      }\n    }\n  }\n\n  onToggleSelection(option) {\n    const { selections } = this.state;\n    const {\n      name,\n      type,\n      change,\n      noEmptyTextSelection,\n    } = this.props;\n\n    const { key } = option;\n\n    const toggleResult = !this.state.selections[key];\n\n    let newSelections = {};\n    let resultState = null;\n    let noUpdate = false;\n    switch (type) {\n      case 'text-selection':\n      case 'radio':\n        if (!noEmptyTextSelection || (noEmptyTextSelection && !selections[key])) {\n          newSelections = _.mapValues(selections, () => false);\n          newSelections[key] = toggleResult;\n          resultState = _.findKey(newSelections, v => v);\n        } else {\n          noUpdate = true;\n        }\n        break;\n      case 'checkbox':\n        newSelections = Object.assign({}, selections, { [key]: toggleResult });\n        resultState = [];\n        _.each(newSelections, (v, k) => {\n          if (v) { resultState.push(k); }\n        });\n        break;\n      default: break;\n    }\n\n    if (!noUpdate) {\n      this.setState({ selections: newSelections });\n      change(name, resultState);\n    }\n  }\n\n  setInitialValue() {\n    const {\n      options,\n      change,\n      name,\n    } = this.props;\n\n    const newSelections = { [options[0].key]: true };\n    this.setState({\n      selections: newSelections,\n    });\n    change(name, _.findKey(newSelections, v => v));\n  }\n\n  renderSelectionInsides(option, selectionState) {\n    const { type } = this.props;\n\n    switch (type) {\n      case 'radio':\n        return <div className={`${type}-inner-${selectionState}`} />;\n      case 'checkbox':\n        return <img src={CheckIcon} className={`checkbox-inner-${selectionState}`} alt=\"check\" />;\n      case 'text-selection':\n        return <div className=\"description py-3\">{option.description}</div>;\n      default:\n        return null;\n    }\n  }\n\n  renderSelectionIcon(option) {\n    const { selections } = this.state;\n    const { type, sizeInSM } = this.props;\n    const { key, description } = option;\n    const isSelected = (selections[key] || false);\n    const selectionState = (isSelected) ? 'highlighted' : 'default';\n\n    const children = (\n      <div\n        role=\"button\"\n        onKeyPress={() => {}}\n        onClick={() => this.onToggleSelection(option)}\n        tabIndex={0}\n        className={`${type}-outer-${selectionState}`}\n      >\n        {this.renderSelectionInsides(option, selectionState)}\n      </div>\n    );\n\n    if (type === 'text-selection') {\n      return (\n        <Col sm={sizeInSM} key={key} className=\"text-sel-col\">\n          <div className=\"single-selection\" key={key}>\n            {children}\n          </div>\n        </Col>\n      );\n    }\n\n    return (\n      <Col sm={sizeInSM} key={key}>\n        <div className=\"single-selection\">\n          {children}\n          <div className=\"description\">{description}</div>\n        </div>\n      </Col>\n    );\n  }\n\n  render() {\n    const {\n      name,\n      options,\n      type,\n      desc,\n      extraInfo,\n      errorString,\n    } = this.props;\n\n    return (\n      <FormInputWrapper\n        desc={desc}\n        ref={node => (this.formParent = node)}\n        extraInfo={\n          <div style={{ marginTop: -marginTopOffset }}>\n            {extraInfo}\n          </div>\n        }\n        errorString={errorString}\n      >\n        <Field name={name} component={() => <div />} />\n        <div className=\"selection\">\n          <Row className={(type === 'text-selection') ? 'text-sel-container' : ''}>\n            {\n              _.map(options, option => this.renderSelectionIcon(option))\n            }\n          </Row>\n        </div>\n      </FormInputWrapper>\n    );\n  }\n}\n\nSelection.propTypes = {\n  name: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  options: PropTypes.array.isRequired, // each option is { key, description }\n  change: PropTypes.func.isRequired,\n  sizeInSM: PropTypes.number,\n  desc: PropTypes.string,\n  formStore: PropTypes.object,\n  extraInfo: PropTypes.object,\n  errorString: PropTypes.string,\n  noEmptyTextSelection: PropTypes.bool,\n};\n\nSelection.defaultProps = {\n  sizeInSM: 12,\n  desc: null,\n  formStore: null,\n  extraInfo: null,\n  errorString: null,\n  noEmptyTextSelection: false,\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  formStore: (getFormValues(ownProps.form)(state)),\n});\n\nexport default connect(mapStateToProps, null)(Selection);\n","module.exports = __webpack_public_path__ + \"static/media/ArrowGradient.21653fa2.svg\";","module.exports = __webpack_public_path__ + \"static/media/CheckoutComplete.7a48570a.svg\";","/**\n * Enquiry.js\n * Enquiry view that appears in most of the forms\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n*/\nimport React, { Component } from 'react';\nimport { Col } from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nimport Phone from 'assets/images/common/Phone.svg';\n\nimport './Enquiry.scss';\n\nclass Enquiry extends Component {\n  render() {\n    const { marginTop } = this.props;\n\n    return (\n      <Col className=\"enquiry-container\" style={{ marginTop }}>\n        <div className=\"upper-container\">\n          <p className=\"left-text\">\n            Need some assistance? Please contact us and one of our\n            Client Services Executives will be happy to guide you along.\n          </p>\n          <div className=\"right-text\">\n            <img src={Phone} alt=\"Phone.svg\" />\n            <a href=\"tel:+6531639184\">\n              +65 3163 9184\n            </a>\n          </div>\n        </div>\n        <div className=\"lower-container\">\n          <p className=\"lower-main\">Speak to our Client Service Executives</p>\n          <p className=\"lower-sub\">Servicing hours:</p>\n          <p className=\"lower-sub\">10am - 7pm</p>\n          <p className=\"lower-sub\">Mondays to Fridays</p>\n          <p className=\"lower-sub\">(excluding public holidays)</p>\n        </div>\n      </Col>\n    );\n  }\n}\n\nEnquiry.defaultProps = {\n  marginTop: 0,\n};\n\n\nEnquiry.propTypes = {\n  marginTop: PropTypes.number,\n};\n\nexport default Enquiry;\n","/**\n * LoadingScreen.js\n * Loading screen for anywhere use\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component } from 'react';\nimport styled, { keyframes } from 'styled-components';\n\nimport Logos from 'assets/images/InsurerLogos';\nimport './LoadingScreenV2.scss';\n\nclass LogoSlider extends Component {\n  constructor(props) {\n    super(props);\n\n    const logos = _.map(Logos.small, logo => logo);\n    const keyFrameLogo = keyframes`\n      0%    { transform: translateX(0); }\n      100%  { transform: translateX(calc(-84px * ${logos.length})); }\n    `;\n\n    const AnimatedContainer = styled.div`\n      animation: ${keyFrameLogo} 5s linear infinite;\n    `;\n\n    this.state = {\n      logos: _.map(Logos.small, logo => logo),\n      AnimatedContainer,\n    };\n\n    this.renderLogos = this.renderLogos.bind(this);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  renderLogos(key) {\n    const { logos } = this.state;\n    return _.map(logos, (logo, index) => (\n      <img key={`loading-icon-${key}-${index}`} src={logo} alt={`loading-icon-${index}.svg`} />\n    ));\n  }\n\n  render() {\n    const { AnimatedContainer } = this.state;\n\n    return (\n      <AnimatedContainer\n        className=\"logo-container\"\n      >\n        {this.renderLogos(0)}\n        {this.renderLogos(1)}\n      </AnimatedContainer>\n    );\n  }\n}\n\nexport default LogoSlider;\n","/**\n * LoadingScreen.js\n * Loading screen for anywhere use\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\n\nimport ModalPopup from 'components/Templates/ModalPopup/ModalPopup';\nimport SpinnerAnimation from 'components/Templates/SpinnerAnimation/SpinnerAnimation';\nimport Button from 'components/FormsV3/Button/Button';\n\nimport LogoSlider from './LogoSlider';\n\nimport './LoadingScreenV2.scss';\n\nconst timeOutTimer = 30000;\n\nclass LoadingScreenV2 extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      overwriteShowWarning: false,\n    };\n\n    this.closeLoading = this.closeLoading.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.handleChange();\n  }\n\n  componentDidUpdate(prevProps) {\n    const { isLoading } = this.props;\n\n    if (isLoading !== prevProps.isLoading) {\n      this.handleChange();\n    }\n  }\n\n  handleChange() {\n    const { isLoading } = this.props;\n    if (isLoading) {\n      this.timer = setTimeout(() => this.setState({ overwriteShowWarning: true }), timeOutTimer);\n    }\n\n    if (!isLoading) {\n      clearTimeout(this.timer);\n      this.setState({ overwriteShowWarning: false });\n    }\n  }\n\n  async closeLoading() {\n    const {\n      showLoadingError,\n      showLoading,\n      errorCallback,\n    } = this.props;\n\n    this.setState({ overwriteShowWarning: false }, async () => {\n      await showLoadingError(false);\n      showLoading(false);\n\n      if (errorCallback) {\n        errorCallback();\n      }\n    });\n  }\n\n  render() {\n    const { overwriteShowWarning } = this.state;\n    const {\n      isLoading,\n      isLoadingError,\n      message,\n      noLogos,\n    } = this.props;\n\n    const loadingStyle = isLoading ? 'loading-screen-active' : '';\n\n    return (\n      <Fragment>\n        <div\n          className={`loading-screen-v2 ${loadingStyle}`}\n        >\n          {\n            isLoading ?\n              <Fragment>\n                <SpinnerAnimation />\n                {\n                  !noLogos &&\n                  <div className=\"bottom-container\">\n                    <p>Searching from esteemed partners...</p>\n                    <LogoSlider />\n                  </div>\n                }\n              </Fragment>\n            : null\n          }\n        </div>\n        <ModalPopup\n          showModal={overwriteShowWarning || isLoadingError}\n          closeModal={this.closeLoading}\n          className=\"loading-modal\"\n          backdropClassName=\"blue-modal-backdrop\"\n          header={<p>An error has occured</p>}\n          body={message}\n          zIndex={1052}\n          footer={\n            <Button\n              variant=\"medium-flat-green\"\n              height={48}\n              width={162}\n              onClick={this.closeLoading}\n            >\n              <p>Close</p>\n            </Button>\n          }\n        />\n      </Fragment>\n    );\n  }\n}\n\nLoadingScreenV2.defaultProps = {\n  noLogos: false,\n  errorCallback: null,\n};\n\nLoadingScreenV2.propTypes = {\n  isLoading: PropTypes.bool.isRequired,\n  isLoadingError: PropTypes.bool.isRequired,\n  message: PropTypes.object.isRequired,\n  showLoading: PropTypes.func.isRequired,\n  showLoadingError: PropTypes.func.isRequired,\n  noLogos: PropTypes.bool,\n  errorCallback: PropTypes.func,\n};\n\nexport default LoadingScreenV2;\n","import _ from 'lodash';\nimport moment from 'moment';\n// import { dateToString } from 'lib/dateFunctions';\n\nconst getInsurerLogo = (insurer_slug) => `https://webassets.policypal.com/insurer_logos/${insurer_slug}.png`;\nconst parseValues = (values) => {\n  const keys = Object.keys(values);\n  let result = {};\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    const item = values[key];\n    \n    switch(key) {\n      case 'start_date':\n      case 'end_date':\n      case 'pet_birth_date':\n        const date = _.isObject(item) ? item.value : item;\n        result[key] = moment(date).format(\"DD/MM/YYYY\");\n        break;\n      case 'trip_type':\n      case 'plan_type':\n      case 'num_children':\n      case 'num_adult':\n        result[key] = item.value;\n        break;\n      case 'region':\n      case 'countries':\n        result[key] = _.isArray(item.value) ? Array.from(item.value, c => c.value) : item.value.value;\n        break;\n      default:\n        result[key] = item;\n    }\n  }\n\n  return result;\n}\n\nexport const getAddToCartData = (params = {}) => {\n  const allowedKeys = [\n    'insurer_slug',\n    'insurer_name',\n    'product_slug',\n    'product_name',\n    'coverage_level',\n  ];\n\n  let result = {};\n  if (Object.keys(params).length > 0) {\n    const {\n      insurer_slug: insurer_slug = '',\n      product_slug: product_slug = '',\n      values:       values = {},\n      price:        price = '',\n    } = params;\n\n    const product = {\n      ..._.pick(params, allowedKeys),\n      ...parseValues(values || {}),\n      id: `${insurer_slug}__${product_slug}`,\n      product_image: getInsurerLogo(insurer_slug),\n      quantity: 1,\n    }\n\n    result = {\n      content_ids:  [product.id],\n      content_name: product.product_name,\n      content_type: 'product',\n      contents:     [product],\n      ...((price) ? {currency: 'SGD', value: Number(price.replace('$', ''))} : {}),\n    }\n  }\n\n  return result;\n}","/**\n * TabView.js\n * TabView that uses a carousel or fading.\n *\n * For carousel, it will take in multiple elements in\n * an array to swap when changed tabs.\n *\n * For fading view, it will only take the 1st element in the array,\n * but it does a fading to simulate and give time for the change of state\n * to happen in that element.\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport { Scrollbars } from 'react-custom-scrollbars';\nimport ReactDOM from 'react-dom';\nimport { connect } from 'react-redux';\nimport { Carousel } from 'react-responsive-carousel';\n\nimport PropTypes from 'prop-types';\n\nimport DropDown from '../../FormsV3/DropDown/DropDown';\n\nimport { setTabSelection } from '../../../actions/tabActions';\n\nimport './TabViewNew.scss';\n\n/**\n * Custom Form Dropdown class\n */\nclass TabViewNew extends Component {\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      currentTabSelection,\n      tabs,\n      maxTabWidthPx,\n      isDataFadeOnly,\n      padding,\n      children,\n    } = nextProps;\n\n    const { activeIndex } = prevState;\n\n    let result = null;\n\n    if (tabs && currentTabSelection) {\n      const newIndex = _.findIndex(tabs, tab => tab.desc === currentTabSelection);\n      if (newIndex >= 0 && newIndex !== activeIndex) {\n        result = {\n          activeIndex: newIndex,\n        };\n      }\n    }\n\n    if (tabs !== prevState.tabs && children) {\n      const isUsingMaxWidth = maxTabWidthPx > 0;\n      const maxWidth = (100 - padding) / (isDataFadeOnly ? tabs.length : children.length);\n      const tabWidth = isUsingMaxWidth ? maxTabWidthPx : maxWidth;\n\n      result = {\n        ...result,\n        tabs,\n        width: tabWidth,\n        widthPercentage: isUsingMaxWidth ? `${maxTabWidthPx}px` : `${tabWidth}%`,\n        maxWidth: `${maxWidth}%`,\n      };\n    }\n\n    return result;\n  }\n\n  /**\n   * Constructor\n   *\n   * @param {object} props Component props\n   */\n  constructor(props) {\n    super(props);\n\n    const {\n      padding,\n      children,\n      maxTabWidthPx,\n      isDataFadeOnly,\n      tabs,\n      initialIndex,\n    } = this.props;\n\n    const isUsingMaxWidth = maxTabWidthPx > 0;\n    const maxWidth = (100 - padding) / (isDataFadeOnly ? tabs.length : children.length);\n    const tabWidth = isUsingMaxWidth ? maxTabWidthPx : maxWidth;\n\n    this.state = {\n      activeIndex: initialIndex,\n      containerWidth: 0,\n      width: tabWidth,\n      widthPercentage: isUsingMaxWidth ? `${maxTabWidthPx}px` : `${tabWidth}%`,\n      maxWidth: `${maxWidth}%`,\n      paddingWidth: maxTabWidthPx ? '100%' : `${padding}%`,\n      isControlVisible: true,\n      isUsingMaxWidth,\n      // isDropDownControl: tabs && tabs.length > 10,\n      fadeStyle: '',\n      tabs,\n    };\n\n    this.goToIndex = this.goToIndex.bind(this);\n\n    this.handleResize = this.handleResize.bind(this);\n    this.resizeTabHeight = this.resizeTabHeight.bind(this);\n    this.renderTabs = this.renderTabs.bind(this);\n    this.renderTabContent = this.renderTabContent.bind(this);\n    this.renderControls = this.renderControls.bind(this);\n    this.renderSlides = this.renderSlides.bind(this);\n    this.renderScollableTabs = this.renderScollableTabs.bind(this);\n    this.renderSelectableTabs = this.renderSelectableTabs.bind(this);\n    this.renderDropControls = this.renderDropControls.bind(this);\n  }\n\n  componentDidMount() {\n    const { tabs } = this.state;\n    const {\n      initialIndex,\n      name,\n      changeTab,\n    } = this.props;\n\n    changeTab(name, tabs[0].desc);\n\n    window.addEventListener('resize', this.handleResize);\n\n    this.handleResize();\n\n    this.resizeTabHeight(initialIndex, ReactDOM.findDOMNode(this.carousel));\n\n    this.setState({\n      activeIndex: initialIndex,\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { tabs, activeIndex, containerWidth } = this.state;\n    const { setTriggerHeightUpdate } = this.props;\n    if (!prevProps.setTriggerHeightUpdate && setTriggerHeightUpdate) {\n      const { resizeTabHeight } = this;\n\n      setTriggerHeightUpdate(() => {\n        resizeTabHeight(activeIndex);\n      });\n    }\n\n    if (tabs !== prevState.tabs) {\n      this.resizeTabHeight(activeIndex);\n    }\n\n    if (this.tabContainer) {\n      const tabWidth = this.tabContainer.getBoundingClientRect().width;\n      if (tabWidth !== containerWidth) {\n        setTimeout(() => this.setState({ containerWidth: tabWidth }), 100);\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n  }\n\n  handleResize() {\n    const { isControlVisible, activeIndex } = this.state;\n    const { hideWidth } = this.props;\n\n    // this.setState({\n    //   isDropDownControl: window.innerWidth < 560 || (tabs && tabs.length > 10),\n    // });\n\n\n    this.resizeTabHeight(activeIndex);\n\n    if (hideWidth) {\n      const isVisibleNow = window.innerWidth > hideWidth;\n\n      this.setState({\n        isControlVisible: isVisibleNow,\n      });\n\n      if (isControlVisible && !isVisibleNow) {\n        this.goToIndex(0);\n      }\n    }\n  }\n\n  goToIndex(newIndex, isForced = false) {\n    const { tabs, activeIndex } = this.state;\n    if (!isForced && newIndex === activeIndex) {\n      return;\n    }\n    const {\n      name,\n      isDataFadeOnly,\n      changeTab,\n    } = this.props;\n\n\n    if (isDataFadeOnly) {\n      this.setState({\n        fadeStyle: 'animated fadeOut',\n      });\n\n      this.setState({ activeIndex: newIndex });\n      changeTab(name, tabs[newIndex].desc);\n\n      setTimeout(() => {\n        if (tabs[newIndex].onClick) {\n          tabs[newIndex].onClick();\n        }\n        this.setState({\n          fadeStyle: 'animated fadeIn',\n        });\n\n        setTimeout(() => {\n          this.setState({\n            fadeStyle: '',\n          });\n        }, 300);\n      }, 300);\n    } else {\n      this.setState({ activeIndex: newIndex });\n      changeTab(name, tabs[newIndex].desc);\n      if (tabs[newIndex].onClick) {\n        tabs[newIndex].onClick();\n      }\n    }\n\n    this.resizeTabHeight(newIndex);\n  }\n\n  resizeTabHeight(index, carouselIncoming = null, overrideNegation = null) {\n    const { isConstantHeight } = this.props;\n\n    const carouselToUse = carouselIncoming !== null ? carouselIncoming : ReactDOM.findDOMNode(this.carousel);\n    // No other way for now >_<\n    if (!isConstantHeight && carouselToUse) {\n      const list = carouselToUse.getElementsByTagName('UL')[0];\n      const children = list.children[index];\n\n      if (children) {\n        const sliderWrapper = list.parentNode;\n        const itemHeight = overrideNegation ? children.children[0].scrollHeight + overrideNegation : children.children[0].scrollHeight;\n        sliderWrapper.style.height = itemHeight === 0 ? 1000 : `${itemHeight}px`;\n      }\n    }\n  }\n\n  renderTabContent(tab, activeStyle) {\n    const {\n      big,\n    } = this.props;\n\n    const bigTextStyle = big ? 'tab-text-big' : '';\n\n    const isWithImg = !_.isString(tab);\n    const desc = isWithImg ? tab.desc : tab;\n    const img = isWithImg ? tab.img : null;\n\n    return (\n      <Fragment>\n        {\n          img ?\n            <div className=\"img-container\">\n              <img className={activeStyle} src={img} alt={`${desc}.svg`} />\n            </div>\n          :\n            null\n        }\n        <p className={`${activeStyle} ${bigTextStyle}`}>{desc}</p>\n      </Fragment>\n    );\n  }\n\n  renderTabs(width) {\n    const { activeIndex, tabs } = this.state;\n    const {\n      big,\n      maxTabWidthPx,\n    } = this.props;\n\n    const bigTabStyle = big ? 'tab-big' : '';\n\n    return _.map(tabs, (tab, index) => {\n      const tabStyle = index === activeIndex ? 'active' : 'inactive';\n      const maxWidth = maxTabWidthPx > 0 ? maxTabWidthPx : null;\n\n      return (\n        <div\n          className={`tab ${bigTabStyle}`}\n          style={{ width, maxWidth }}\n          key={`tab${index}`}\n        >\n          <div\n            className=\"tab-inner\"\n            onClick={() => { this.goToIndex(index); }}\n            role=\"button\"\n            tabIndex={-1}\n            onKeyDown={() => {}}\n          >\n            {this.renderTabContent(tab, tabStyle)}\n          </div>\n        </div>\n      );\n    });\n  }\n\n  renderSlides() {\n    const { children } = this.props;\n    const { goToIndex } = this;\n\n    return _.map(children, (item, index) => (\n      <div key={`tab-item${index}`}>\n        {React.cloneElement(item, {\n          updateTabHeight: (overrideNegation = null) => this.resizeTabHeight(index, null, overrideNegation),\n          goToIndex,\n        })}\n      </div>\n    ));\n  }\n\n  renderScollableTabs() {\n    const { activeIndex, tabs } = this.state;\n    const { isDisableDropdown } = this.props;\n    const displayStyle = isDisableDropdown ? '' : 'd-none d-sm-flex';\n\n    return (\n      <Fragment>\n        <div className={`scroll-tabs ${displayStyle}`}>\n          <Scrollbars style={{ width: '100%', height: '100%' }}>\n            <div className=\"scroll-tabs-inner\">\n              {\n                _.map(tabs, (tab, index) => {\n                  const tabStyle = index === activeIndex ? 'active' : 'inactive';\n                  return (\n                    <div\n                      key={`tab${index}`}\n                    >\n                      <div\n                        className={`tab-inner ${tabStyle}`}\n                        onClick={() => { this.goToIndex(index); }}\n                        role=\"button\"\n                        tabIndex={-1}\n                        onKeyDown={() => {}}\n                      >\n                        {tab.desc}\n                      </div>\n                    </div>\n                  );\n                })\n              }\n            </div>\n          </Scrollbars>\n        </div>\n        {\n          !isDisableDropdown ?\n            <div className=\"d-flex d-sm-none w-100\">\n              {this.renderDropControls()}\n            </div>\n          : null\n        }\n      </Fragment>\n    );\n  }\n\n  renderDropControls() {\n    const { tabs, activeIndex } = this.state;\n    const droplist = _.map(tabs, tab => ({ display_name: tab.desc, value: tab.desc }));\n\n    return (\n      <div className=\"tab-container\">\n        <DropDown\n          placeholderString=\"Make selection\"\n          dropList={droplist}\n          value={{ display_name: tabs[activeIndex].desc, value: tabs[activeIndex].desc }}\n          isDisableTyping\n          onChange={(type, name, value) => {\n            this.goToIndex(_.findIndex(tabs, tab => tab.desc === value.value));\n          }}\n          noInternalDesc\n        />\n      </div>\n    );\n  }\n\n  renderSelectableTabs() {\n    const {\n      activeIndex,\n      width,\n      widthPercentage,\n      maxWidth,\n      containerWidth,\n      paddingWidth,\n      isUsingMaxWidth,\n      tabs,\n    } = this.state;\n\n    const {\n      style,\n      big,\n      charged,\n      isDisableDropdown,\n    } = this.props;\n\n    const isOverContainer = tabs && tabs.length * width > containerWidth;\n    const selectedMargin = isUsingMaxWidth && !isOverContainer ? activeIndex * width : `${activeIndex / tabs.length * 100}%`;\n    const bigStyle = big ? 'tab-big' : '';\n    const tabStyle = charged ? 'tab-container-charged' : '';\n    const displayStyle = isDisableDropdown ? '' : 'd-none d-lg-flex';\n\n    return (\n      <Fragment>\n        <div\n          style={style}\n          className={`tab-container ${tabStyle} tab-container-padding ${displayStyle}`}\n          ref={node => this.tabContainer = node}\n        >\n          {this.renderTabs(isOverContainer ? maxWidth : widthPercentage)}\n          <div className=\"tab tab-padding\" style={{ width: paddingWidth }} />\n          <div\n            className={`selected-tab ${bigStyle}`}\n            style={{\n              width: widthPercentage,\n              maxWidth,\n              marginLeft: selectedMargin,\n            }}\n          />\n        </div>\n        {\n          !isDisableDropdown ?\n            <div className=\"d-flex d-lg-none w-100\">\n              {this.renderDropControls()}\n            </div>\n          : null\n        }\n      </Fragment>\n    );\n  }\n\n  renderControls() {\n    const { scrollTabs } = this.props;\n\n    if (scrollTabs) {\n      return this.renderScollableTabs();\n    }\n\n    return this.renderSelectableTabs();\n  }\n\n  render() {\n    const {\n      activeIndex,\n      isControlVisible,\n      fadeStyle,\n    } = this.state;\n\n    const { isDataFadeOnly, className } = this.props;\n\n    return (\n      <div className={`tabview-container-new ${className}`}>\n        {\n          isControlVisible ?\n            this.renderControls()\n          :\n            null\n        }\n        <div className={`tab-items-container ${fadeStyle}`}>\n          {\n            isDataFadeOnly ?\n              this.props.children\n            :\n              <Carousel\n                showThumbs={false}\n                showIndicators={false}\n                showArrows={false}\n                showStatus={false}\n                selectedItem={activeIndex}\n                swipeable={false}\n                onChange={index => this.goToIndex(index)}\n                ref={node => (this.carousel = node)}\n              >\n                {this.renderSlides()}\n              </Carousel>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nTabViewNew.defaultProps = {\n  padding: 0,\n  hideWidth: 0,\n  maxTabWidthPx: 0,\n  style: null,\n  isDisableDropdown: false,\n  isConstantHeight: false,\n  initialIndex: 0,\n  setTriggerHeightUpdate: null,\n  isDataFadeOnly: false,\n  big: false,\n  className: null,\n  charged: null,\n  scrollTabs: false,\n};\n\nTabViewNew.propTypes = {\n  padding: PropTypes.number,\n  tabs: PropTypes.array.isRequired,\n  hideWidth: PropTypes.number,\n  maxTabWidthPx: PropTypes.number,\n  style: PropTypes.object,\n  isDisableDropdown: PropTypes.bool,\n  isConstantHeight: PropTypes.bool,\n  initialIndex: PropTypes.number,\n  setTriggerHeightUpdate: PropTypes.func,\n  isDataFadeOnly: PropTypes.bool,\n  big: PropTypes.bool,\n  name: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  charged: PropTypes.bool,\n  changeTab: PropTypes.func.isRequired,\n  scrollTabs: PropTypes.bool,\n};\n\nconst mapStateToProps = (state, props) => ({\n  currentTabSelection: state.tab[props.name],\n});\n\nconst mapDispatchToProps = dispatch => ({\n  changeTab: (tabName, value) => {\n    dispatch(setTabSelection(tabName, value));\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps, null, { withRef: true })(TabViewNew);\n","module.exports = __webpack_public_path__ + \"static/media/Label.0e35ceae.svg\";","/**\n * PromoCode.js\n * PromoCode field that takes in a callback\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport React, { Component } from 'react';\nimport { Input } from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nimport Button from 'components/FormsV3/Button/Button';\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\n\nimport '../TextInput/TextInput.scss';\nimport './PromoCode.scss';\n\nconst defaultHeight = 48;\n\n/**\n * Custom Form Dropdown class\n */\nclass PromoCode extends Component {\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const { value } = nextProps;\n    const { oldValue } = prevState;\n\n    if (value !== oldValue) {\n      return {\n        value,\n        oldValue: value,\n      };\n    }\n\n    return null;\n  }\n\n  constructor(props) {\n    super(props);\n\n    const { value } = this.props;\n\n    this.state = {\n      value,\n      oldValue: value,\n      errorString: null,\n    };\n  }\n\n  componentDidMount() {\n    this.isComMounted = true;\n  }\n\n  componentWillUnmount() {\n    this.isComMounted = false;\n  }\n\n  render() {\n    const { value, errorString, oldValue } = this.state;\n    const { value: propsValue } = this.props;\n\n    const {\n      name,\n      placeholderString,\n      extraInfo,\n      postCheckout,\n    } = this.props;\n\n    const buttonText = propsValue ? 'Remove' : 'Apply';\n\n    return (\n      <FormInputWrapper\n        extraInfo={extraInfo}\n        errorString={errorString}\n      >\n        <div\n          className=\"text-input-container-v3 promo-container-v3\"\n          style={{ height: defaultHeight }}\n        >\n          <div className=\"text-input \">\n            <Input\n              className=\"text\"\n              placeholder={placeholderString}\n              name={name}\n              disabled={propsValue}\n              value={value || ''}\n              onChange={e => this.setState({ value: e.target.value })}\n            />\n            <div className=\"promo-button\">\n              <Button\n                variant=\"medium-outline-edit\"\n                height={32}\n                width={88}\n                onClick={async () => {\n                  try {\n                    if (propsValue) {\n                      await postCheckout(null);\n\n                      if (this.isComMounted) {\n                        this.setState({\n                          errorString: null,\n                        });\n                      }\n                      return;\n                    }\n\n                    if (value) {\n                      const result = await postCheckout(value);\n                      if (this.isComMounted) {\n                        // Promo code will not be set\n                        if (!result) {\n                          this.setState({\n                            errorString: 'Invalid promo code!',\n                            value: oldValue,\n                          });\n                        } else {\n                          this.setState({\n                            errorString: null,\n                          });\n                        }\n                      }\n                    }\n                  } catch (error) {\n                    // eslint-disable-next-line\n                  }\n                }}\n              >\n                <p>{buttonText}</p>\n              </Button>\n            </div>\n          </div>\n        </div>\n      </FormInputWrapper>\n    );\n  }\n}\n\nPromoCode.defaultProps = {\n  extraInfo: null,\n  value: '',\n};\n\n\nPromoCode.propTypes = {\n  placeholderString: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  postCheckout: PropTypes.func.isRequired,\n  extraInfo: PropTypes.object,\n  value: PropTypes.string,\n};\n\nexport default PromoCode;\n","// @flow\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport LoadingScreenV2 from 'components/Templates/LoadingScreenV2/LoadingScreenV2';\n\nclass StripePayment extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currMarkup: null,\n      extraData: null,\n      isLoading: false,\n      isLoadingError: false,\n    };\n\n    this.cleanCheckoutButtonContainer = this.cleanCheckoutButtonContainer.bind(this);\n    this.setNewMarkup = this.setNewMarkup.bind(this);\n    this.invokeClick = this.invokeClick.bind(this);\n\n    this.showLoading = this.showLoading.bind(this);\n    this.showLoadingError = this.showLoadingError.bind(this);\n  }\n\n  componentDidMount() {\n    const { markup } = this.props;\n    this.setNewMarkup(markup);\n  }\n\n  componentDidUpdate() {\n    const { currMarkup } = this.state;\n    const { markup } = this.props;\n\n    if (currMarkup !== markup) {\n      if (markup) {\n        this.setNewMarkup(markup);\n      } else if (!markup) {\n        this.setState({\n          currMarkup: null,\n        });\n      }\n    }\n  }\n\n  setNewMarkup(markup) {\n    const { paymentCallback, replacementIDString } = this.props;\n\n    if (!markup) {\n      return;\n    }\n\n    this.cleanCheckoutButtonContainer();\n\n    const range = document.createRange();\n    if (replacementIDString) {\n      this.checkoutButton.appendChild(range.createContextualFragment(_.replace(markup, replacementIDString, 'id=\"checkout_form\"')));\n    } else {\n      this.checkoutButton.appendChild(range.createContextualFragment(markup));\n    }\n\n    window.$('#checkout_form').get(0).submit = () => {\n      const { extraData } = this.state;\n      const data = window.$('#checkout_form').serializeArray();\n\n\n      paymentCallback(data, extraData);\n\n      this.setState({\n        extraData: null,\n      });\n\n      // Prevent form submit.\n      return false;\n    };\n\n    // eslint-disable-next-line\n    this.setState({\n      currMarkup: markup,\n    });\n  }\n\n  showLoading(isLoading) {\n    this.setState({ isLoading });\n  }\n\n  showLoadingError(isLoadingError) {\n    this.setState({ isLoadingError });\n  }\n\n  cleanCheckoutButtonContainer() {\n    while (this.checkoutButton.firstChild) {\n      this.checkoutButton.removeChild(this.checkoutButton.firstChild);\n    }\n  }\n\n  invokeClick(failCallback, extraData, doTag = null) {\n    const { zeroPaymentCallback } = this.props;\n\n    let failCallTimeout = null;\n\n    this.setState({\n      extraData,\n    });\n\n    this.showLoading(true);\n\n    const ele = document.getElementsByName('stripe_checkout_app');\n    for (let i = ele.length - 1; i >= 0; i--) {\n      ele[i].parentNode.removeChild(ele[i]);\n    }\n\n    const invokeClick = setInterval(() => {\n      try {\n        const { amount } = window.$('#checkout_form')[0].getElementsByClassName('stripe-button')[0].dataset;\n        if (amount === '0') {\n          this.showLoading(false);\n          if (doTag) {\n            doTag();\n          }\n          if (zeroPaymentCallback) {\n            zeroPaymentCallback();\n          }\n          clearInterval(invokeClick);\n          clearTimeout(failCallTimeout);\n          return;\n        }\n      } catch (error) {\n        console.log('Get new payable failed');\n        clearInterval(invokeClick);\n        clearTimeout(failCallTimeout);\n        this.showLoadingError(true);\n        failCallback();\n      }\n\n      try {\n        const button = window.$('#checkout_form')[0].getElementsByClassName('stripe-button-el')[0];\n        if (button) {\n          window.$(button).trigger('click');\n          if (doTag) {\n            doTag();\n          }\n          clearInterval(invokeClick);\n          clearTimeout(failCallTimeout);\n          setTimeout(() => this.showLoading(false), 5000);\n        }\n      } catch (error) {\n        console.log('Button not yet generated!');\n        clearInterval(invokeClick);\n        clearTimeout(failCallTimeout);\n        this.showLoadingError(true);\n        failCallback();\n      }\n    }, 10);\n\n    failCallTimeout = setTimeout(() => {\n      clearInterval(invokeClick);\n      this.showLoadingError(true);\n      failCallback();\n    }, 10000);\n  }\n\n  render() {\n    const { isLoading, isLoadingError } = this.state;\n\n    return (\n      <Fragment>\n        <div className=\"d-none\" ref={(node) => { this.checkoutButton = node; }} />\n        <LoadingScreenV2\n          isLoading={isLoading}\n          isLoadingError={isLoadingError}\n          message={<h5>Please try again.</h5>}\n          showLoading={this.showLoading}\n          showLoadingError={this.showLoadingError}\n          noLogos\n        />\n      </Fragment>\n    );\n  }\n}\n\nStripePayment.defaultProps = {\n  markup: null,\n  replacementIDString: null,\n  zeroPaymentCallback: null,\n};\n\nStripePayment.propTypes = {\n  markup: PropTypes.string,\n  // doLoadStripeState: PropTypes.func.isRequired,\n  paymentCallback: PropTypes.func.isRequired,\n  zeroPaymentCallback: PropTypes.func,\n  replacementIDString: PropTypes.string,\n};\n\nexport default StripePayment;\n","/**\n * PiggySignUp.js\n * The piggy sign up template\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport React, { Component } from 'react';\nimport { Col } from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nimport PiggyBank from 'assets/images/forms/PiggyBank.svg';\n\nimport './PiggySignUpNew.scss';\n\nclass PiggySignUpNew extends Component {\n  render() {\n    const {\n      header,\n      subHeader,\n      onClick,\n      isLoggedIn,\n    } = this.props;\n\n    return (\n      <div\n        className={`piggy-container-new ${isLoggedIn ? 'piggy-hovered' : 'piggy-hover'}`}\n        onClick={onClick}\n        role=\"button\"\n        tabIndex={-1}\n        onKeyDown={null}\n      >\n        <Col className=\"d-flex d-sm-none wrap-container\" xs={12}>\n          <div className=\"piggy-img-container\">\n            <img src={PiggyBank} alt=\"Pig.svg\" />\n          </div>\n          <div className=\"piggy-right-container\">\n            <div className=\"piggy-desc-container\">\n              {header}\n              {subHeader}\n            </div>\n          </div>\n        </Col>\n        <Col className=\"d-none d-sm-flex wrap-container\" xs={12}>\n          <div className=\"piggy-img-container\">\n            <img src={PiggyBank} alt=\"Pig.svg\" />\n          </div>\n          <div className=\"piggy-right-container\">\n            <div className=\"piggy-desc-container\">\n              {header}\n              {subHeader}\n            </div>\n          </div>\n        </Col>\n      </div>\n    );\n  }\n}\n\nPiggySignUpNew.defaultProps = {\n  onClick: () => {},\n  isLoggedIn: false,\n  subHeader: null,\n};\n\nPiggySignUpNew.propTypes = {\n  header: PropTypes.object.isRequired,\n  subHeader: PropTypes.object,\n  onClick: PropTypes.func,\n  isLoggedIn: PropTypes.bool,\n};\n\nexport default PiggySignUpNew;\n","/**\n * PiggyFillForm.js\n * The piggy component in DetailForm\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n * @author [Nicolette](nicolette@policypal.com)\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport PiggySignUp from './PiggySignUpNew';\n\nclass PiggyFillFormNew extends Component {\n  render() {\n    const {\n      onClick,\n      category,\n      mainText,\n      descText,\n      isLoggedIn,\n      cashback,\n    } = this.props;\n\n    let mainTextToUse = mainText;\n    let descTextToUse = descText;\n\n    if (!mainTextToUse) {\n      mainTextToUse = category === 'life' || category === 'endowment' || category === 'retirement' ?\n        'Earn extra $5 Credits instantly!' :\n        'Sign in to get 5% Cashback on your purchase!';\n    }\n\n    if (!descTextToUse) {\n      descTextToUse = category === 'life' || category === 'endowment' || category === 'retirement' ?\n        'Submit the form below as a PolicyPal user to earn $5 Credits in your account.' :\n        'Purchase as a PolicyPal user to earn 5% Cashback in your account within 14 days.';\n    }\n\n    if (isLoggedIn && cashback) {\n      mainTextToUse = `Proceed to earn ${cashback} cashback now!`;\n      descTextToUse = null;\n    }\n\n\n    return (\n      <PiggySignUp\n        isLoggedIn={isLoggedIn}\n        header={\n          <p className=\"main-text\">{mainTextToUse}</p>\n        }\n        subHeader={\n          descTextToUse && <p className=\"desc-text\">{descTextToUse}</p>\n        }\n        onClick={!isLoggedIn && onClick ? onClick : null}\n      />\n    );\n  }\n}\n\nPiggyFillFormNew.defaultProps = {\n  onClick: () => {},\n  mainText: null,\n  descText: null,\n  isLoggedIn: false,\n  cashback: null,\n};\n\nPiggyFillFormNew.propTypes = {\n  onClick: PropTypes.func,\n  category: PropTypes.string.isRequired,\n  mainText: PropTypes.string,\n  descText: PropTypes.string,\n  isLoggedIn: PropTypes.bool,\n  cashback: PropTypes.string,\n};\n\nexport default PiggyFillFormNew;\n","module.exports = __webpack_public_path__ + \"static/media/CheckIcon.22021614.svg\";","module.exports = __webpack_public_path__ + \"static/media/Phone.d4a9e003.svg\";","/**\n * Accordion.js\n * A collapse view that is enhanced from reactstrap\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport React, { Component } from 'react';\nimport { Collapse, CardBody, Card } from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nimport ArrowGradient from 'assets/images/forms/ArrowGradient.svg';\n\nimport './Accordion.scss';\n\n/**\n * Custom Form Dropdown class\n */\nclass Accordion extends Component {\n  /**\n   * Constructor\n   *\n   * @param {object} props Component props\n   */\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isOpened: false,\n      openCallback: null,\n    };\n\n    this.handleExpand = this.handleExpand.bind(this);\n    this.setOpenCallback = this.setOpenCallback.bind(this);\n  }\n\n  setOpenCallback(callback) {\n    this.setState({\n      openCallback: callback,\n    });\n  }\n\n  handleExpand() {\n    const { isOpened, openCallback } = this.state;\n    if (!isOpened && openCallback) {\n      setTimeout(() => openCallback(), 10);\n    }\n\n    this.setState({\n      isOpened: !isOpened,\n    });\n  }\n\n  render() {\n    const {\n      isOpened,\n    } = this.state;\n\n    const {\n      height,\n      isWarning,\n      isFullBorder,\n    } = this.props;\n\n    const openStyle = isOpened ? 'accordion-opened' : 'accordion-closed';\n    const openText = isOpened ? 'Close Details' : 'Expand Details';\n    const arrowOpenStyle = isOpened ? 'arrow-opened' : 'arrow-closed';\n    const borderStyle = isFullBorder ? 'accordion-border' : '';\n\n    return (\n      <div className={`${borderStyle} accordion-container`}>\n        <div className=\"accordion-inner\">\n          <Collapse className={openStyle} isOpen={isOpened}>\n            <Card>\n              <CardBody>\n                {this.props.children}\n              </CardBody>\n            </Card>\n          </Collapse>\n        </div>\n        <div className=\"expand-container\" style={{ minHeight: height }}>\n          <button\n            className=\"control-container\"\n            onClick={() => this.handleExpand()}\n          >\n            <img className={`arrow ${arrowOpenStyle}`} src={ArrowGradient} alt=\"Arrow.svg\" />\n            <span>{openText}</span>\n          </button>\n        </div>\n        {\n          isWarning ?\n            <div className=\"warning-container\">\n              <p>Please make sure all your information is correct before making the payment</p>\n            </div>\n          :\n            null\n        }\n      </div>\n    );\n  }\n}\n\nAccordion.defaultProps = {\n  isWarning: false,\n  height: 95,\n  isFullBorder: false,\n};\n\nAccordion.propTypes = {\n  isWarning: PropTypes.bool,\n  isFullBorder: PropTypes.bool,\n  height: PropTypes.number,\n};\n\nexport default Accordion;\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAsNJREFUSA3Flz1rFEEYgLOSGJB0QsRTCxtFUUHTCImS9BaR09JKLQTBQs0/uEoU0mpnFQiYCIp2CYqFogELP7CwCJ6iCAqxMEU4n+cya9Zld7KXkPjCczM779fM7nxd0lVBWq1WgtkgjMIA1AIUXZ8Dryin4VmSJC3KqBiwVEjYi/IKXIUmGPhpqJtQsRO74ATYMes3YZwOLFJ2JiStwzxMwv6q3toGH33rVf3adjg04CMc78gxY6xviNHINJdXMZ6AWdheblVNY4wQayLqgZEjNWlP1LADpbFCzOKRo/Sb+nrXPdJ8v4wZYv/7zWnsBSfDmr9pPln+2dghhytlWWgYg8n0OVZi1w9nYAqewwXYF/NJddi5Qsbaz1QS+ArRJYO+G67DJ8jLAg23wTVcKuhdauZKuvgZgrlSaxTonSB3ISu/ePiZaVikfjIWRx02czC0hbq7jTtSTK6hPBcM5ikvwhE4BKfgEdTZqZ5QribmGrUHMzBSZo2uBt9BacLBMtsq7fiPwEw3xu61zYiTnUqX2C1G9VZbnN3nj8I2HyEV2z9g9y1tyJXmqhnAidGXU/59RPcClCU4liqo+93fQZHcSe3yJcZ9sOA3VuxlmcR0PSVO/SXtNhuvZWKPt51QJuNBoe1wxmiJ+iVwNzoNNyCVB2mloDTXl7VMrgMFwYxzL7zz35SFNvqha08uR+HNwUO8UJgkvhEPdsWJ+Bjn87AXnPHDcJ92R61Mwft2rfjHXC/tQZUNZCt2+Q3ESfkDsvKGh93F+ZZb0bc3EBN3smW6p7uW8+Lr9Rzfs0rSlS1TQxw6OSR2YH8WHsJruAyHYwlTHXYrh0RI/H+OxZC8To829yKQeRUNks9C2caQmlYujRViNqJOGG3+ZS/tEckd+eZebzPJ/ebewzbkQh87AFxmG/YXJpo4M3rtBsHbygCs+0/bH+1FEN8ETvXEAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAArlJREFUSA29l79PFEEUx3f38EBFE6ONoLGwMLGUkJAQC/4DEmJCYeU/YGGirYnSmFD4X5DQ4F+ACblKiQUSQwGFl8NYkmtgXXb9fI9ZmJuws3MQ7iXfm1/vve/M7JuZd3EUIEVRxKjNgnkwBSYMKKJ9g03KNdCK47ig9IocVgqEowy+Bm9AB8jxhqmLUKJJTILnQBNTfRl8ZgJHlIMJpAvgN1gFT0KtpWtsZLsQatfTw2AJ7IGZgQwtZdkaH0tWd3UV5RXwFdyt1gobkQ/ja8VrgZJWKtJrXsUBBuXL+Dx/5Qzqm2p7L71Sd17yaXz3f3M6R4GC4cLf1CVz2/JtOHRSot5xouMt9WnC/4VrUNU+JHpHjo9nsLktP0mSbFD/UaWvfnhWKb6h90mNGPwFwUcmy7KX6B8AW975SA2xjpq44hE6dCN1mMVOnaExvkX5AWiltuR247y6OCDVRTQrYt02upGCJE3TR81m84FRTvM8f4+zX+zCzyAHJ1zz2up1MBdoFKVp8QyyHBvJPhgLtZUe+nNgPaGuu1bLr5V2u309jqMblqKC8x6Obm5vF02r31cV14Rm0AXjPk2NoaMgXGOxHcpSMto6hnts9WKdD+NnHP2uvrHE+0qdqPR+HxMg2qFSGrQfqtFoNEJfInEVItbzdh90gVfyPNrkqU0ge2oU/zH7LeoZfbte47NBcf25QHCl05DZwXXnzGd9DdvT4FLmoEc8VNzzWpttOI7F9V1RrTOssxwqbjy47To/4voi4haYZAuCr8w6z1XjhkOpUUuBoq1SjvSxysDp12TLVQ50eRiOZcPZO6PBzyKz1oXxymCRMujiQK/vWTxdDAPDTwRKdsiHn/pY5MNP9ixyrXy46a1Frm+uB+BKEvryWJR8fSWkSsyu5C+Ml7icBROQnlIk3TpT4NJ/2v4DJHsycMQfgx0AAAAASUVORK5CYII=\"","/**\n * PiggySignUp.js\n * The piggy sign up template\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport React, { Component } from 'react';\nimport { Col } from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nimport Pig from 'assets/images/Motor/Pig.svg';\n\nimport Button from 'components/FormsV3/Button/Button';\n\nimport './PiggySignUp.scss';\n\nclass PiggySignUp extends Component {\n  render() {\n    const {\n      header,\n      subHeader,\n      buttonInner,\n      onClick,\n    } = this.props;\n\n    return (\n      <div className=\"piggy-container\">\n        <Col className=\"d-flex d-sm-none wrap-container\" xs={12}>\n          <div className=\"piggy-img-container\">\n            <img src={Pig} alt=\"Pig.svg\" />\n          </div>\n          <div className=\"piggy-right-container\">\n            <div className=\"piggy-desc-container\">\n              {header}\n              {subHeader}\n            </div>\n          </div>\n          <div className=\"button-container\">\n            <Button variant=\"medium-color\" width=\"100%\" height={48} onClick={onClick}>\n              <p>{buttonInner}</p>\n            </Button>\n          </div>\n        </Col>\n        <Col className=\"d-none d-sm-flex wrap-container\" xs={12}>\n          <div className=\"piggy-img-container\">\n            <img src={Pig} alt=\"Pig.svg\" />\n          </div>\n          <div className=\"piggy-right-container\">\n            <div className=\"piggy-desc-container\">\n              {header}\n              {subHeader}\n            </div>\n            <div className=\"button-container\">\n              <Button variant=\"medium-color\" width=\"100%\" height={48} onClick={onClick}>\n                <p>{buttonInner}</p>\n              </Button>\n            </div>\n          </div>\n        </Col>\n      </div>\n    );\n  }\n}\n\nPiggySignUp.defaultProps = {\n  onClick: () => {},\n};\n\nPiggySignUp.propTypes = {\n  header: PropTypes.object.isRequired,\n  subHeader: PropTypes.object.isRequired,\n  buttonInner: PropTypes.object.isRequired,\n  onClick: PropTypes.func,\n};\n\nexport default PiggySignUp;\n","module.exports = __webpack_public_path__ + \"static/media/Pig.ce4c154a.svg\";","/**\n * PetCheckoutContainer.js\n * The checkout container for pet\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { getFormValues } from 'redux-form';\nimport PropTypes from 'prop-types';\nimport ReactPixel from 'react-facebook-pixel';\nimport _ from 'lodash';\n\nimport { getAddToCartData } from 'lib/trackingHelper';\nimport { getSessionParams } from '../../actions/petActions';\nimport { setInsuranceFormState, FORMSTATES } from '../../actions/insuranceActions';\nimport CheckoutWrapper from '../../components/Templates/Checkout/CheckoutWrapper';\n\nimport {\n  compactCheckoutAttributes,\n  getCheckoutParamsWording,\n  getCheckoutHeaderDataCoverage,\n  getCompactSubDetails,\n} from '../../lib/helperFunctions';\nimport { gaTag, gaEvent, ampTag } from '../../lib/tagFunctions';\n\nclass PetCheckoutContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    const {\n      petForm,\n      petDetailsForm,\n      selectedPlanData,\n      isAdHoc,\n      adHocData,\n    } = this.props;\n\n    const paramsWording = getCheckoutParamsWording(\n      isAdHoc,\n      adHocData,\n      selectedPlanData,\n      () => getSessionParams(petForm, petDetailsForm, selectedPlanData),\n    );\n\n    const headerCoverage = getCheckoutHeaderDataCoverage('Pet Insurance', isAdHoc, adHocData, selectedPlanData, paramsWording.params);\n\n    const petIllness = isAdHoc ? adHocData.data.session_params.pet_illness : petDetailsForm.pet_illness;\n    const medicalRecord = isAdHoc ? adHocData.data.session_params.pet_medical_record : petDetailsForm.pet_medical_record;\n    const record = petIllness === 'Yes' ?\n      [{ title: 'Illness Details', description: medicalRecord }] :\n      [];\n\n    const petFormToUse = isAdHoc ? adHocData.data.session_params : paramsWording.params.sessionParams.session_params;\n    const petDetailFormToUse = isAdHoc ? adHocData.data.session_params : paramsWording.params.sessionParams.session_params;\n    this.state = {\n      headerData: headerCoverage.headerData,\n      mainDetails: {\n        title: 'Insurance',\n        attributes: compactCheckoutAttributes([\n          { title: 'Pet Species', description: petFormToUse.pet_species },\n          { title: 'Start Date', description: petFormToUse.start_date },\n          { title: 'End Date', description: petFormToUse.end_date },\n          // { title: 'Coverage', description: headerCoverage.coverage },\n        ]),\n      },\n      subDetails: [getCompactSubDetails({\n        key: 'Adult 1',\n        leftDetail: {\n          title: 'Details',\n          attributes: compactCheckoutAttributes([\n            { title: 'Email', description: petDetailFormToUse.email },\n            { title: 'Last name', description: petDetailFormToUse.family_name },\n            { title: 'First name', description: petDetailFormToUse.given_name },\n            { title: 'Date of birth', description: petDetailFormToUse.birth_date },\n            { title: 'ID type', description: petDetailFormToUse.id_type },\n            { title: 'ID number', description: petDetailFormToUse.nric },\n            { title: 'Mobile number', description: petDetailFormToUse.mobile_number },\n            { title: 'Address', description: petDetailFormToUse.address },\n            { title: 'Unit no', description: petDetailFormToUse.unit_no },\n            { title: 'Postcode', description: petDetailFormToUse.postal },\n          ]),\n        },\n        rightDetail: {\n          title: 'Pet',\n          attributes: compactCheckoutAttributes([\n            { title: 'Name', description: petDetailFormToUse.pet_name },\n            { title: 'Microchip number', description: petDetailFormToUse.pet_microchip_no },\n            { title: 'Date of birth', description: petDetailFormToUse.pet_birth_date },\n            { title: 'Pet Illness', description: petDetailFormToUse.pet_illness },\n            ...record,\n          ]),\n        },\n      })],\n      ...paramsWording,\n    };\n  }\n\n  componentDidMount() {\n    const { setFormState, history } = this.props;\n    setFormState(FORMSTATES.CHECKOUT.index);\n    gaTag({\n      page_title: 'Pet - Checkout',\n      page_path: '/pet/checkout',\n    });\n    ampTag('PetCheckoutS');\n\n    if (history.location.pathname && history.location.pathname === `/pet${FORMSTATES.CHECKOUT.path}`) {\n      const { petDetailsForm, petForm, selectedPlanData } = this.props;\n      const { params } = this.state;\n      const { info, planType } = selectedPlanData;\n      const trackData = getAddToCartData({\n        ..._.pick(info, ['insurer_slug', 'insurer_name', 'product_slug', 'product_name']),\n        values: {\n          ..._.pick(petDetailsForm, ['pet_name', 'pet_birth_date', 'pet_illness', 'pet_microchip_no', 'pet_medical_record']),\n          ...petForm,\n        },\n        coverage_level: planType,\n        price: `$${params.amountPayable}`,\n      });\n      ReactPixel.track('AddToCart', trackData);\n      ReactPixel.track('InitiateCheckout');\n    }\n  }\n\n  render() {\n    const {\n      headerData,\n      mainDetails,\n      subDetails,\n      wording,\n      params,\n    } = this.state;\n\n    const {\n      isLoggedIn,\n      charged,\n      setFormState,\n      history,\n      isAdHoc,\n      adHocData,\n      sessionId,\n    } = this.props;\n\n    return (\n      <CheckoutWrapper\n        headerData={headerData}\n        mainDetails={mainDetails}\n        subDetails={subDetails}\n        sessionId={sessionId}\n        isLoggedIn={isLoggedIn}\n        charged={charged}\n        backToDetails={() => {\n          history.goBack();\n        }}\n        wording={wording}\n        isAdHoc={isAdHoc}\n        adHocData={adHocData}\n        params={params}\n        category=\"pet\"\n        trackingTags={{\n          payment: (data) => {\n            ReactPixel.track('AddPaymentInfo');\n            gaEvent('Pet - CheckoutPage_ProceedPayment', {\n              event_category: 'Pet',\n              event_label: 'Pet - CheckoutPage_ProceedPayment',\n            });\n            ampTag('PetProceedPayA', {\n              cashback: data.rewardsID !== null,\n              promo: data.promoCode !== null && data.promoCode !== '',\n            });\n          },\n          receipt: () => {\n            if (!isAdHoc) {\n              ReactPixel.track('Purchase', { currency: 'SGD', value: params.amountPayable });\n              setFormState(FORMSTATES.SUBMITTED.index);\n              history.push(`/pet${FORMSTATES.SUBMITTED.path}`);\n            }\n            gaTag({\n              page_title: 'Pet - Receipt',\n              page_path: '/pet/Receipt',\n            });\n            ampTag('PetConfirmationS');\n          },\n        }}\n      />\n    );\n  }\n}\n\nPetCheckoutContainer.defaultProps = {\n  charged: null,\n  sessionId: null,\n  adHocData: null,\n  isAdHoc: false,\n  isLoggedIn: false,\n  petForm: null,\n  petDetailsForm: null,\n  selectedPlanData: null,\n};\n\nPetCheckoutContainer.propTypes = {\n  charged: PropTypes.bool,\n  sessionId: PropTypes.string,\n  isLoggedIn: PropTypes.bool,\n  petForm: PropTypes.object,\n  petDetailsForm: PropTypes.object,\n  selectedPlanData: PropTypes.object,\n  adHocData: PropTypes.object,\n  isAdHoc: PropTypes.bool,\n  setFormState: PropTypes.func.isRequired,\n  history: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  const sessionId = ownProps.isAdHoc ? ownProps.sessionId : state.insurance.sessionId;\n  return ({\n    petForm: getFormValues('pet')(state),\n    petDetailsForm: getFormValues('pet-detail')(state),\n    selectedPlanData: state.pet.selectedPlanData,\n    sessionId,\n  });\n};\n\nconst mapDispatchToProps = dispatch => ({\n  setFormState: (state) => {\n    dispatch(setInsuranceFormState(state));\n  },\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(PetCheckoutContainer));\n","/**\n * Checkout.js\n * This is the checkout view that will render the summary\n * of details and handle all the promo, cashback and stripe\n * APIs.\n *\n * There is 2 state to this view. Checkout or receipt. It will\n * toggle accordingly if charged/ahHocCharged.\n *\n * Upon successful payment, it will update the user data again\n * to check if any cashback is used.\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport React, { Component, Fragment } from 'react';\n// import PropTypes from 'prop-types';\n\nimport LoadingScreenV2 from 'components/Templates/LoadingScreenV2/LoadingScreenV2';\n\nconst defaultMsg = 'Please try again.';\n\nclass APILoader extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showLoading: false,\n      showLoadingError: false,\n      errorMsg: null,\n      errorCallback: null,\n    };\n\n    this.handleAPI = this.handleAPI.bind(this);\n    this.showLoading = this.showLoading.bind(this);\n    this.showLoadingError = this.showLoadingError.bind(this);\n  }\n\n  async showLoading(show) {\n    await new Promise((resolve) => { this.setState({ showLoading: show }, resolve); });\n  }\n\n  async showLoadingError(show) {\n    await new Promise((resolve) => { this.setState({ showLoadingError: show }, resolve); });\n  }\n\n  async handleAPI(apiCallback, overwriteWarning = false, errorMsg = null, errorCallback = null) {\n    try {\n      clearInterval(this.showLoadigInterval);\n      this.showLoadigInterval = setInterval(() => this.setState({\n        showLoading: true,\n      }), 300);\n\n      const result = await apiCallback();\n\n      clearInterval(this.showLoadigInterval);\n\n      const showError = overwriteWarning ? false : !result;\n\n      this.setState({\n        showLoadingError: showError,\n        showLoading: showError,\n        errorMsg,\n        errorCallback,\n      });\n      return result;\n    } catch (error) {\n      // eslint-disable-next-line\n      console.log(error);\n    }\n\n    this.setState({\n      showLoadingError: true,\n      showLoading: true,\n      errorMsg,\n      errorCallback,\n    });\n\n    return null;\n  }\n\n  render() {\n    const {\n      showLoading,\n      showLoadingError,\n      errorMsg,\n      errorCallback,\n    } = this.state;\n\n    return (\n      <Fragment>\n        <LoadingScreenV2\n          isLoading={showLoading}\n          isLoadingError={showLoadingError}\n          message={<h5>{errorMsg || defaultMsg}</h5>}\n          showLoading={this.showLoading}\n          showLoadingError={this.showLoadingError}\n          errorCallback={errorCallback}\n          noLogos\n        />\n      </Fragment>\n    );\n  }\n}\n\nAPILoader.defaultProps = {\n};\n\nAPILoader.propTypes = {\n};\n\nexport default APILoader;\n","module.exports = __webpack_public_path__ + \"static/media/PiggyBank.1b55f856.svg\";","/**\n * PACheckoutContainer.js\n * Checkout Container for PA\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { getFormValues } from 'redux-form';\nimport PropTypes from 'prop-types';\n\nimport { getSessionParams } from '../../actions/paActions';\nimport { setInsuranceFormState, FORMSTATES } from '../../actions/insuranceActions';\nimport CheckoutWrapper from '../../components/Templates/Checkout/CheckoutWrapper';\nimport { gaTag, gaEvent, ampTag } from '../../lib/tagFunctions';\n\nimport {\n  compactCheckoutAttributes,\n  getCheckoutParamsWording,\n  getCheckoutHeaderDataCoverage,\n  getCompactSubDetails,\n} from '../../lib/helperFunctions';\n\nclass PACheckoutContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    const {\n      paForm,\n      paDetailsForm,\n      selectedPlanData,\n      isAdHoc,\n      adHocData,\n    } = this.props;\n\n    const paramsWording = getCheckoutParamsWording(\n      isAdHoc,\n      adHocData,\n      selectedPlanData,\n      () => getSessionParams(paForm, paDetailsForm, selectedPlanData),\n    );\n\n    const headerCoverage = getCheckoutHeaderDataCoverage('Personal Accident Insurance', isAdHoc, adHocData, selectedPlanData, paramsWording.params);\n    const sessionParams = isAdHoc ? adHocData.data.session_params : paramsWording.params.sessionParams.session_params;\n    const isSpouse = sessionParams.num_adult === '2';\n    let SpouseAttribute = [];\n    let familyMemberText = isAdHoc ? null : '1 Adult';\n    if (isSpouse) {\n      SpouseAttribute = [\n        { title: 'My spouse\\'s occupation', description: sessionParams.family[0].occupation },\n      ];\n      familyMemberText = '2 Adults';\n    }\n\n    const numChildren = isAdHoc ? null : '0';\n\n    this.state = {\n      headerData: headerCoverage.headerData,\n      mainDetails: {\n        title: 'Insurance',\n        attributes: compactCheckoutAttributes([\n          { title: 'Plan type', description: sessionParams.plan_type },\n          { title: 'Family members', description: sessionParams.family_members || familyMemberText },\n          { title: 'Number of children', description: sessionParams.num_children || numChildren },\n          { title: 'My occupation', description: sessionParams.occupation },\n          ...SpouseAttribute,\n          { title: 'Start Date', description: sessionParams.start_date },\n          { title: 'End Date', description: sessionParams.end_date },\n          // { title: 'Coverage', description: headerCoverage.coverage },\n        ]),\n      },\n      subDetails: this.getSubDetails(paramsWording.params.sessionParams),\n      ...paramsWording,\n    };\n  }\n\n  componentDidMount() {\n    const { setFormState } = this.props;\n    setFormState(FORMSTATES.CHECKOUT.index);\n\n    gaTag({\n      page_title: 'PersonalAccident - Checkout',\n      page_path: '/personal-accident/checkout',\n    });\n    ampTag('PAReviewS');\n  }\n\n  getSubDetails(sessionParams) {\n    const isMyself = sessionParams.session_params.plan_type === 'Myself';\n\n    const myself = getCompactSubDetails({\n      key: 'Myself',\n      leftDetail: {\n        title: 'Details',\n        attributes: compactCheckoutAttributes([\n          { title: 'Email', description: sessionParams.session_params.email },\n          { title: 'Family Name', description: sessionParams.session_params.family_name },\n          { title: 'Given Name', description: sessionParams.session_params.given_name },\n          { title: 'Full Name', description: sessionParams.session_params.full_name },\n          { title: 'Nationality', description: sessionParams.session_params.nationality },\n          { title: 'ID type', description: sessionParams.session_params.id_type },\n          { title: 'ID number', description: sessionParams.session_params.nric },\n          { title: 'Race', description: sessionParams.session_params.race },\n          { title: 'Gender', description: sessionParams.session_params.gender },\n          { title: 'Date of birth', description: sessionParams.session_params.birth_date },\n          { title: 'Marital Status', description: sessionParams.session_params.marital_status },\n          { title: 'Address', description: sessionParams.session_params.address },\n          { title: 'Unit no', description: sessionParams.session_params.unit_no },\n          { title: 'Postal', description: sessionParams.session_params.postal },\n          { title: 'Mobile number', description: sessionParams.session_params.mobile_number },\n        ]),\n      },\n      rightDetail: {\n        title: 'Work Details',\n        attributes: compactCheckoutAttributes([\n          { title: 'Occupation', description: sessionParams.session_params.occupation },\n          { title: 'Industry', description: sessionParams.session_params.industry },\n        ]),\n      },\n    });\n\n    const familyData = [];\n    if (!isMyself && sessionParams.session_params.family) {\n      let childCount = 1;\n      for (let i = 0; i < sessionParams.session_params.family.length; ++i) {\n        const isSpouse = i === 0 && sessionParams.session_params.num_adult === '2';\n        const data = sessionParams.session_params.family[i];\n\n        let rightDetail = null;\n        if (isSpouse) {\n          childCount = 0;\n          rightDetail = {\n            title: 'Work Details',\n            attributes: compactCheckoutAttributes([\n              { title: 'Occupation', description: data.occupation },\n              { title: 'Industry', description: data.industry },\n            ]),\n          };\n        } else {\n          rightDetail = {\n            title: 'Education Details',\n            attributes: compactCheckoutAttributes([\n              { title: 'Full school education', description: data.full_school_education },\n            ]),\n          };\n        }\n\n        const key = isSpouse ? 'Spouse' : `Children ${childCount + i}`;\n\n        familyData.push(getCompactSubDetails({\n          key,\n          leftDetail: {\n            title: 'Details',\n            attributes: compactCheckoutAttributes([\n              { title: 'Full Name', description: data.full_name },\n              { title: 'Nationality', description: data.nationality },\n              { title: 'ID type', description: data.id_type },\n              { title: 'ID number', description: data.nric },\n              { title: 'Relationship', description: data.relationship },\n              { title: 'Gender', description: data.gender },\n              { title: 'Date of birth', description: data.birth_date },\n            ]),\n          },\n          rightDetail,\n        }));\n      }\n    }\n\n    return [myself, ...familyData];\n  }\n\n  render() {\n    const {\n      headerData,\n      mainDetails,\n      subDetails,\n      wording,\n      params,\n    } = this.state;\n\n    const {\n      isLoggedIn,\n      charged,\n      history,\n      isAdHoc,\n      adHocData,\n      sessionId,\n      setFormState,\n    } = this.props;\n\n    return (\n      <CheckoutWrapper\n        headerData={headerData}\n        mainDetails={mainDetails}\n        subDetails={subDetails}\n        sessionId={sessionId}\n        isLoggedIn={isLoggedIn}\n        charged={charged}\n        backToDetails={() => {\n          history.goBack();\n        }}\n        wording={wording}\n        isAdHoc={isAdHoc}\n        adHocData={adHocData}\n        params={params}\n        category=\"pa\"\n        trackingTags={{\n          payment: (data) => {\n            gaEvent('PersonalAccident - CheckoutPage_ProceedPayment', {\n              event_category: 'PersonalAccident',\n              event_label: 'PersonalAccident - CheckoutPage_ProceedPayment',\n            });\n            ampTag('PAProceedPayA', {\n              cashback: data.rewardsID !== null,\n              promo: data.promoCode !== null && data.promoCode !== '',\n            });\n          },\n          receipt: () => {\n            if (!isAdHoc) {\n              setFormState(FORMSTATES.SUBMITTED.index);\n              history.push(`/personal-accident${FORMSTATES.SUBMITTED.path}`);\n            }\n            gaTag({\n              page_title: 'PersonalAccident - Receipt',\n              page_path: '/personal-accident/Receipt',\n            });\n            ampTag('PAConfirmationS');\n          },\n        }}\n      />\n    );\n  }\n}\n\nPACheckoutContainer.defaultProps = {\n  charged: null,\n  sessionId: null,\n  adHocData: null,\n  isAdHoc: false,\n  paForm: null,\n  paDetailsForm: null,\n  selectedPlanData: null,\n  isLoggedIn: false,\n};\n\nPACheckoutContainer.propTypes = {\n  charged: PropTypes.bool,\n  sessionId: PropTypes.string,\n  isLoggedIn: PropTypes.bool,\n  paForm: PropTypes.object,\n  paDetailsForm: PropTypes.object,\n  selectedPlanData: PropTypes.object,\n  adHocData: PropTypes.object,\n  isAdHoc: PropTypes.bool,\n  history: PropTypes.object.isRequired,\n  setFormState: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  const sessionId = ownProps.isAdHoc ? ownProps.sessionId : state.insurance.sessionId;\n\n  return ({\n    paForm: getFormValues('pa')(state),\n    paDetailsForm: getFormValues('pa-detail')(state),\n    selectedPlanData: state.pa.selectedPlanData,\n    sessionId,\n  });\n};\n\nconst mapDispatchToProps = dispatch => ({\n  setFormState: (state) => {\n    dispatch(setInsuranceFormState(state));\n  },\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(PACheckoutContainer));\n","/**\n * HeaderDescWithTypeDate.js\n * Product summary with type and date\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport React, { Component } from 'react';\nimport { Row } from 'reactstrap';\n\nimport PropTypes from 'prop-types';\n\nimport './HeaderDescWithTypeDateNew.scss';\n\nclass HeaderDescWithTypeDateNew extends Component {\n  render() {\n    const {\n      logo,\n      logoName,\n      insurerDesc,\n      data1,\n      data1Value,\n      data2,\n      data2Value,\n    } = this.props;\n\n    return (\n      <Row className=\"header-desc-with-type-date-container-new\" noGutters>\n        <div className=\"insurer-left-container\">\n          <div className=\"insurer-logo-container\">\n            <div className=\"company-logo-container\">\n              <img className=\"company-logo\" src={logo} alt={logoName} />\n            </div>\n          </div>\n          <div>\n            <div className=\"insurer-desc-container\">\n              <p className=\"insurer-desc\">{insurerDesc}</p>\n            </div>\n          </div>\n        </div>\n        <div className=\"insurer-right-container\">\n          <div className=\"data-container\">\n            <div className=\"data\">\n              <p className=\"data-name\">{data1}</p>\n              <p className=\"data-val\">{data1Value}</p>\n            </div>\n            <div className=\"data\">\n              <p className=\"data-name\">{data2}</p>\n              <p className=\"data-val\">{data2Value}</p>\n            </div>\n          </div>\n        </div>\n      </Row>\n    );\n  }\n}\n\nHeaderDescWithTypeDateNew.defaultProps = {\n};\n\nHeaderDescWithTypeDateNew.propTypes = {\n  logo: PropTypes.string.isRequired,\n  logoName: PropTypes.string.isRequired,\n  insurerDesc: PropTypes.string.isRequired,\n  data1: PropTypes.string.isRequired,\n  data1Value: PropTypes.string.isRequired,\n  data2: PropTypes.string.isRequired,\n  data2Value: PropTypes.string.isRequired,\n};\n\nexport default HeaderDescWithTypeDateNew;\n","/**\n * Checkout.js\n * This is the checkout view that will render the summary\n * of details and handle all the promo, cashback and stripe\n * APIs.\n *\n * There is 2 state to this view. Checkout or receipt. It will\n * toggle accordingly if charged/ahHocCharged.\n *\n * Upon successful payment, it will update the user data again\n * to check if any cashback is used.\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Row, Col } from 'reactstrap';\n\nimport TabView from 'components/Templates/TabView/TabViewNew';\n\nimport './CheckoutDetailsTable.scss';\n\nclass CheckoutDetailsTable extends Component {\n  generateTabs() {\n    const { subDetails } = this.props;\n    return _.reduce(subDetails, (result, data) => {\n      result.push({\n        desc: data.key,\n      });\n\n      return result;\n    }, []);\n  }\n\n  renderDetails(details, isFullWidth, isMain = false) {\n    const { transactionData } = this.props;\n    if (!details) {\n      return null;\n    }\n\n    let smLeftWidth = 5;\n    let smRightWidth = 7;\n    smLeftWidth = isFullWidth ? 12 : smLeftWidth;\n    smRightWidth = isFullWidth ? 12 : smRightWidth;\n\n    // let paddingStyle = isLeftSide ? 'detail-padding-right' : 'detail-padding-left';\n    // paddingStyle = isFullWidth ? '' : paddingStyle;\n\n    let coverageData = {};\n\n    if (isMain) {\n      try {\n        coverageData = {\n          title: 'Coverage',\n          description: _.find(transactionData.transaction.policy_info, data => data.title.toUpperCase() === 'COVERAGE').description,\n        };\n      } catch (error) {\n        // No coverage found\n      }\n    }\n\n    const attributes = [...details.attributes, coverageData];\n    const infoList = _.map(attributes, (info, index) => (\n      <Col\n        xs={12}\n        className=\"detail-group\"\n        key={`${info.title}-${index}`}\n      >\n        <Row noGutters>\n          <Col className=\"detail-desc\" xs={12} sm={smLeftWidth}>{info.title}</Col>\n          <Col className=\"detail-value\" xs={12} sm={smRightWidth}>{info.description}</Col>\n        </Row>\n      </Col>\n    ));\n\n    return (\n      <Col className=\"detail-column\" xs={12} sm={6}>\n        <Row noGutters>\n          <Col className=\"detail-header\" xs={12}>{details.title}</Col>\n          {infoList}\n        </Row>\n      </Col>\n    );\n  }\n\n  renderMainDetails() {\n    const { mainDetails } = this.props;\n    if (_.isEmpty(mainDetails.attributes)) {\n      return null;\n    }\n    return this.renderDetails(mainDetails, false, true);\n  }\n\n  renderSubDetails() {\n    const { subDetails, charged } = this.props;\n\n    if (_.isArray(subDetails)) {\n      if (subDetails.length === 1) {\n        return (\n          <Row className=\"checkout-detail-container\" noGutters>\n            {this.renderDetails(subDetails[0].leftDetail, false)}\n            {this.renderDetails(subDetails[0].rightDetail, false)}\n          </Row>\n        );\n      }\n\n      if (subDetails.length > 1) {\n        return (\n          <TabView\n            style={{ marginTop: 44, marginLeft: 30, marginRight: 30 }}\n            tabs={this.generateTabs()}\n            maxTabWidthPx={128}\n            autoHeight\n            name=\"travel-checkout-tab\"\n            charged={charged}\n            scrollTabs\n          >\n            {\n              _.map(subDetails, data => (\n                <Fragment key={data.key}>\n                  <Row className=\"checkout-detail-container\" noGutters>\n                    {this.renderDetails(data.leftDetail, false)}\n                    {this.renderDetails(data.rightDetail, false)}\n                  </Row>\n                </Fragment>\n              ))\n            }\n          </TabView>\n        );\n      }\n    }\n\n    return null;\n  }\n\n  render() {\n    const innerJSX = (\n      <Col className=\"no-padding\"xs={12}>\n        <Row className=\"checkout-detail-container main-details\" noGutters>\n          {this.renderMainDetails()}\n        </Row>\n        {this.renderSubDetails()}\n      </Col>\n    );\n\n    return innerJSX;\n  }\n}\n\nCheckoutDetailsTable.defaultProps = {\n  charged: false,\n};\n\nCheckoutDetailsTable.propTypes = {\n  subDetails: PropTypes.array.isRequired,\n  mainDetails: PropTypes.object.isRequired,\n  charged: PropTypes.bool,\n  transactionData: PropTypes.object.isRequired,\n};\n\nexport default CheckoutDetailsTable;\n","/**\n * Checkout.js\n * This is the checkout view that will render the summary\n * of details and handle all the promo, cashback and stripe\n * APIs.\n *\n * There is 2 state to this view. Checkout or receipt. It will\n * toggle accordingly if charged/ahHocCharged.\n *\n * Upon successful payment, it will update the user data again\n * to check if any cashback is used.\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Col } from 'reactstrap';\n\nimport PromoCode from 'components/FormsV3/PromoCode/PromoCode';\n\nimport './CheckoutPriceSummary.scss';\n\nclass CheckoutPriceSummary extends Component {\n  renderPromoCodeButton() {\n    const {\n      getPromo,\n      isAdHoc,\n      charged,\n      promoCode,\n      handleOnChange,\n    } = this.props;\n\n    if (charged || isAdHoc) {\n      return (\n        <Fragment>\n          <Col xs={12} sm={7} />\n          <Col xs={4} sm={7} className=\"d-block d-sm-none\" />\n        </Fragment>\n      );\n    }\n\n    // if (isAdHoc) {\n    //   return <div className=\"promo\" />;\n    // }\n\n    return (\n      <Fragment>\n        <Col xs={12} sm={7} className=\"promo\">\n          <PromoCode\n            value={promoCode}\n            name=\"promo_code\"\n            placeholderString=\"Promo Code\"\n            postCheckout={async (promo) => {\n              await handleOnChange('text', 'promo_code', promo);\n              const promoResult = await getPromo();\n              const actualPromo = promoResult && promoResult.promo && promoResult.promo.code;\n              if (actualPromo !== promo) {\n                await handleOnChange('text', 'promo_code', null);\n                return false;\n              }\n\n              return true;\n            }}\n          />\n        </Col>\n        <Col xs={4} sm={7} className=\"d-block d-sm-none\" />\n      </Fragment>\n    );\n  }\n\n  render() {\n    const {\n      transactionData,\n      charged,\n      isRenderPromo,\n      isAdHoc,\n    } = this.props;\n\n    if (\n      !transactionData ||\n      !transactionData.transaction ||\n      !transactionData.transaction.price\n    ) {\n      return null;\n    }\n\n    const priceData = transactionData.transaction.price;\n    const JSX = _.reduce(priceData, (result, price, index) => {\n      if (index === priceData.length - 1 || price.title === 'P$ Cashback') {\n        return result;\n      }\n      const noTitle = !price.title || price.title === '';\n      const isPromo = price.title !== 'Subtotal' &&\n                      price.title !== 'Discount' &&\n                      !noTitle;\n\n      if ((isPromo && !isRenderPromo) || (!isPromo && isRenderPromo)) {\n        return result;\n      }\n\n      const extraCol = isPromo ? null : <Col xs={4} sm={7} />;\n      const promoStyle = isPromo ? 'promo-item' : '';\n      const subTotalExtra = price.title === 'Subtotal' ? 'GST 7% included' : '';\n\n      const element = (\n        <Fragment key={`price-data-${index}`}>\n          {extraCol}\n          <Col className={`summary-item-container ${promoStyle}`} xs={8} sm={5}>\n            {\n              noTitle ?\n                <span className=\"summary-item-desc\">{price.sub_title}</span>\n              :\n                <div className=\"summary-left\">\n                  <span className=\"summary-item-desc\">{price.title} {price.sub_title}</span>\n                  <span className=\"summary-item-sub-desc\">{subTotalExtra}</span>\n                </div>\n            }\n            <span className=\"summary-item-value\">{price.description}</span>\n          </Col>\n        </Fragment>\n      );\n\n      result.push(element);\n      return result;\n    }, []);\n\n    if (!isRenderPromo) {\n      return JSX;\n    }\n\n    if ((charged || isAdHoc) && _.isEmpty(JSX)) {\n      return null;\n    }\n\n    return (\n      <Fragment>\n        <Col xs={12} className=\"summary-seperator\" />\n        {this.renderPromoCodeButton()}\n        {JSX}\n      </Fragment>\n    );\n  }\n}\n\nCheckoutPriceSummary.defaultProps = {\n  isAdHoc: false,\n  charged: false,\n  promoCode: null,\n};\n\nCheckoutPriceSummary.propTypes = {\n  isAdHoc: PropTypes.bool,\n  isRenderPromo: PropTypes.bool.isRequired,\n  charged: PropTypes.bool,\n  transactionData: PropTypes.object.isRequired,\n  getPromo: PropTypes.func.isRequired,\n  promoCode: PropTypes.string,\n  handleOnChange: PropTypes.func.isRequired,\n};\n\nexport default CheckoutPriceSummary;\n","/**\n * CashbackBalance.js\n * Component that displays the user's cashback balance\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport CashbackLogo from 'assets/images/common/CashbackLogo.svg';\n\nimport './CashbackBalanceNew.scss';\n\n/**\n * Custom Form Dropdown class\n */\nclass CashbackBalanceNew extends Component {\n  render() {\n    const { cashbackBalance } = this.props;\n\n    return (\n      <div className=\"cashback-summary-new\">\n        <img src={CashbackLogo} alt=\"CashbackLogo.svg\" />\n        <p>${cashbackBalance}</p>\n      </div>\n    );\n  }\n}\n\nCashbackBalanceNew.defaultProps = {\n};\n\nCashbackBalanceNew.propTypes = {\n  cashbackBalance: PropTypes.string.isRequired,\n};\n\nexport default CashbackBalanceNew;\n","/**\n * Checkout.js\n * This is the checkout view that will render the summary\n * of details and handle all the promo, cashback and stripe\n * APIs.\n *\n * There is 2 state to this view. Checkout or receipt. It will\n * toggle accordingly if charged/ahHocCharged.\n *\n * Upon successful payment, it will update the user data again\n * to check if any cashback is used.\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Row, Col } from 'reactstrap';\n\nimport CashbackBalance from 'components/Templates/CashbackBalance/CashbackBalanceNew';\nimport Checkbox from 'components/FormsV3/Checkbox/Checkbox';\n\nimport './CheckoutCashback.scss';\n\nclass CheckoutCashback extends Component {\n  render() {\n    const {\n      isLoggedIn,\n      rewardPoints,\n      charged,\n      transactionData,\n      values,\n      errors,\n      handleOnChange,\n      getPromo,\n    } = this.props;\n\n    if (\n      (!isLoggedIn && !charged) ||\n      !transactionData ||\n      !transactionData.transaction ||\n      !transactionData.transaction.price\n    ) {\n      return null;\n    }\n\n    const priceData = transactionData.transaction.price;\n    const cashbackData = _.find(priceData, data => data.title === 'P$ Cashback');\n\n    const cashbackUsed = cashbackData ? cashbackData.description : '$0';\n\n    let cashbackBalance = '';\n    try {\n      cashbackBalance = cashbackData && !charged ?\n        rewardPoints - _.replace(cashbackUsed, '-$', '') :\n        rewardPoints;\n    } catch (error) {\n      cashbackBalance = rewardPoints;\n    }\n\n    // In case null\n    cashbackBalance = cashbackBalance || 0;\n    cashbackBalance = `${cashbackBalance.toFixed(2)}`;\n\n    const chargedBalanceStyle = charged ? 'cashback-balance-charged' : '';\n\n    return (\n      <Fragment>\n        <Col xs={12} className=\"summary-seperator\" />\n        <Col xs={12}>\n          <Row className=\"cashback\" noGutters>\n            {\n              isLoggedIn ?\n                <Col xs={12} sm={7}>\n                  <div className=\"cashback-inner\">\n                    {\n                      charged ?\n                        <span className=\"cashback-text\">Cashback Balance</span>\n                      :\n                        <div className=\"cashback-checkbox\">\n                          <Checkbox\n                            value={values.cashback && values.cashback.value}\n                            name=\"cashback\"\n                            desc={<span>Use Cashback Balance</span>}\n                            onChange={async (type, name, value) => {\n                              await handleOnChange(type, name, value);\n                              getPromo();\n                            }}\n                            errorString={errors.cashback}\n                            isRequired\n                          />\n                        </div>\n                    }\n                  </div>\n                  {\n                    isLoggedIn ?\n                      <div className={`cashback-balance ${chargedBalanceStyle}`}>\n                        <div className=\"cashback-balance-display\">\n                          <CashbackBalance cashbackBalance={cashbackBalance} />\n                        </div>\n                      </div>\n                    :\n                      null\n                  }\n                </Col>\n              : <Col xs={12} sm={7} />\n            }\n            <Col xs={4} sm={7} className=\"d-block d-sm-none\" />\n            <Col xs={8} sm={5}>\n              <div className=\"summary-item-container\">\n                <span className=\"summary-item-desc\">Cashback Used</span>\n                <span className=\"summary-item-value\">{cashbackUsed}</span>\n              </div>\n            </Col>\n          </Row>\n        </Col>\n      </Fragment>\n    );\n  }\n}\n\nCheckoutCashback.defaultProps = {\n  rewardPoints: null,\n  charged: false,\n};\n\nCheckoutCashback.propTypes = {\n  transactionData: PropTypes.object.isRequired,\n  isLoggedIn: PropTypes.bool.isRequired,\n  rewardPoints: PropTypes.number,\n  values: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired,\n  charged: PropTypes.bool,\n  handleOnChange: PropTypes.func.isRequired,\n  getPromo: PropTypes.func.isRequired,\n};\n\nexport default CheckoutCashback;\n","/**\n * Checkout.js\n * This is the checkout view that will render the summary\n * of details and handle all the promo, cashback and stripe\n * APIs.\n *\n * There is 2 state to this view. Checkout or receipt. It will\n * toggle accordingly if charged/ahHocCharged.\n *\n * Upon successful payment, it will update the user data again\n * to check if any cashback is used.\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Col } from 'reactstrap';\n\nimport './CheckoutTotal.scss';\n\nclass CheckoutTotal extends Component {\n  render() {\n    const { transactionData } = this.props;\n\n    if (\n      !transactionData ||\n      !transactionData.transaction ||\n      !transactionData.transaction.price\n    ) {\n      return null;\n    }\n\n    const priceData = transactionData.transaction.price;\n    const totalData = _.find(priceData, price => price.title === 'Total');\n\n    if (!totalData) {\n      return null;\n    }\n\n    return (\n      <Fragment>\n        <Col xs={4} sm={7} />\n        <Col className=\"summary-item-container\" xs={8} sm={5}>\n          <span className=\"summary-item-desc\">{totalData.title}</span>\n          <span className=\"summary-item-value final-amount\">{totalData.description}</span>\n        </Col>\n      </Fragment>\n    );\n  }\n}\n\nCheckoutTotal.defaultProps = {\n};\n\nCheckoutTotal.propTypes = {\n  transactionData: PropTypes.object.isRequired,\n};\n\nexport default CheckoutTotal;\n","/**\n * Checkout.js\n * This is the checkout view that will render the summary\n * of details and handle all the promo, cashback and stripe\n * APIs.\n *\n * There is 2 state to this view. Checkout or receipt. It will\n * toggle accordingly if charged/ahHocCharged.\n *\n * Upon successful payment, it will update the user data again\n * to check if any cashback is used.\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Col } from 'reactstrap';\n\nimport Checkbox from 'components/FormsV3/Checkbox/Checkbox';\n\nimport './CheckoutDisclaimer.scss';\n\nclass CheckoutDisclaimer extends Component {\n  render() {\n    const {\n      wordings,\n      charged,\n      values,\n      errors,\n      handleOnChange,\n    } = this.props;\n\n    if (charged) {\n      return null;\n    }\n\n    return (\n      <Fragment>\n        {\n          _.map(wordings, (wording, index) => {\n            const name = `tnc_${index}`;\n            return (\n              <Col key={name} xs={12}>\n                <div className=\"disclaimer\">\n                  <Checkbox\n                    key={name}\n                    value={values[name] && values[name].value}\n                    name={name}\n                    desc={wording}\n                    onChange={handleOnChange}\n                    errorString={errors[name]}\n                    isRequired\n                  />\n                </div>\n              </Col>\n            );\n          })\n        }\n      </Fragment>\n    );\n  }\n}\n\nCheckoutDisclaimer.defaultProps = {\n  wordings: [],\n  charged: false,\n};\n\nCheckoutDisclaimer.propTypes = {\n  values: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired,\n  wordings: PropTypes.array,\n  charged: PropTypes.bool,\n  handleOnChange: PropTypes.func.isRequired,\n};\n\nexport default CheckoutDisclaimer;\n","/**\n * Checkout.js\n * This is the checkout view that will render the summary\n * of details and handle all the promo, cashback and stripe\n * APIs.\n *\n * There is 2 state to this view. Checkout or receipt. It will\n * toggle accordingly if charged/ahHocCharged.\n *\n * Upon successful payment, it will update the user data again\n * to check if any cashback is used.\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Col } from 'reactstrap';\n\nimport CreditCards from 'assets/images/common/CreditCards.png';\nimport LabelImg from 'assets/images/forms/Label.svg';\n\nimport Button from 'components/FormsV3/Button/Button';\n\nimport StripePayment from 'components/Templates/StripePayment/StripePayment';\nimport CheckoutUsingCashback from 'components/Templates/CheckoutPopup/CheckoutUsingCashback';\nimport CheckoutComplete from 'components/Templates/CheckoutPopup/CheckoutComplete';\n\nimport { getFormValue } from 'lib/helperFunctions';\nimport { validateForm } from 'lib/validatorsV2';\n\n\nimport './CheckoutPayment.scss';\n\n// const termsError = 'Please agree to all the terms to proceed.';\nconst transactionError = 'Transaction error. Please try again.';\n\nclass CheckoutPayment extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      markup: null,\n    };\n\n    this.handlePaymentCallback = this.handlePaymentCallback.bind(this);\n    this.handleOnCheckout = this.handleOnCheckout.bind(this);\n    this.handleOnCheckoutZero = this.handleOnCheckoutZero.bind(this);\n    this.renderCashBackEarned = this.renderCashBackEarned.bind(this);\n  }\n\n  handleOnCheckoutZero() {\n    const { setError } = this.props;\n    try {\n      window.$('#checkout_form').get(0).submit();\n    } catch (error) {\n      setError('Payment failed! Please try again!');\n    }\n  }\n\n  async handlePaymentCallback(data) {\n    const {\n      checkout,\n      sessionId,\n      id,\n      handleAPI,\n      trackingTags,\n      transactionData,\n      category,\n      setCharged,\n      getPromo,\n    } = this.props;\n\n    const checkoutResult = await handleAPI(() => checkout(sessionId, data, id)());\n    if (checkoutResult && checkoutResult.charged) {\n      await setCharged(checkoutResult.charged);\n      await getPromo();\n      if (trackingTags && trackingTags.receipt) {\n        trackingTags.receipt();\n      }\n      let user = 'User';\n      try {\n        const userData = transactionData.transaction.users[0].details;\n        const familyName = _.find(userData, d => d.title === 'Family Name');\n        const givenName = _.find(userData, d => d.title === 'Given Name');\n        user = `${givenName ? `${givenName.description} ` : ' '}${familyName ? familyName.description : ''}`;\n      } catch (error) {\n        console.log('Name not found in checkout.');\n      }\n\n      setTimeout(() => this.checkoutComplete.openCheckoutComplete(user), 300);\n\n      if (category === 'travel') {\n        const range = document.createRange();\n        this.gaReceipt.appendChild(range.createContextualFragment(`\n        <!-- Google Code for PPS - Travel - Receipt page Conversion Page -->\n        <script type=\"text/javascript\">\n        /* <![CDATA[ */\n        var google_conversion_id = 865122565;\n        var google_conversion_label = \"3xCyCO-P54QBEIXywpwD\";\n        var google_remarketing_only = false;\n        /* ]]> */\n        </script>\n        <script type=\"text/javascript\" src=\"//www.googleadservices.com/pagead/conversion.js\">\n        </script>\n        <noscript>\n        <div style=\"display:inline;\">\n        <img height=\"1\" width=\"1\" style=\"border-style:none;\" alt=\"\" src=\"//www.googleadservices.com/pagead/conversion/865122565/?label=3xCyCO-P54QBEIXywpwD&amp;guid=ON&amp;script=0\"/>\n        </div>\n        </noscript>\n        `));\n      }\n    }\n  }\n\n  async handleOnCheckout() {\n    const {\n      useCashback,\n      promoCode,\n      values,\n      getStripe,\n      sessionId,\n      wordings,\n      trackingTags,\n      setError,\n      id,\n      setErrors,\n      pushStripePopupPath,\n    } = this.props;\n\n    let isTnCChecked = true;\n    _.each(wordings, (wording, index) => {\n      isTnCChecked = isTnCChecked && getFormValue(values[`tnc_${index}`]);\n    });\n\n    const validatedTnC = validateForm(values, null, _.map(wordings, (w, index) => ({\n      type: 'checkbox',\n      slug: `tnc_${index}`,\n      is_required: true,\n    })));\n\n    if (!_.isEmpty(validatedTnC)) {\n      setErrors(validatedTnC);\n      return;\n    }\n\n    if (isTnCChecked) {\n      this.setState({\n        markup: null,\n      }, async () => {\n        const result = await getStripe(sessionId, promoCode, useCashback && id)();\n        if (result) {\n          this.setState({\n            markup: result,\n          }, () => {\n            try {\n              this.stripePayment.invokeClick(() => setError(transactionError), result, () => {\n                pushStripePopupPath();\n                if (trackingTags && trackingTags.payment) {\n                  trackingTags.payment({\n                    useCashback,\n                    promoCode,\n                  });\n                }\n                if (window.goog_report_conversion) {\n                  window.goog_report_conversion();\n                }\n              });\n            } catch (error) {\n              // esline-disable-next-line\n            }\n          });\n        }\n      });\n    }\n  }\n\n  renderCashBackEarned() {\n    const { transactionData } = this.props;\n\n    if (\n      !transactionData ||\n      !transactionData.transaction ||\n      !transactionData.transaction.cashback\n    ) {\n      return null;\n    }\n\n    const { cashback } = transactionData.transaction;\n\n    return (\n      cashback ?\n        <div className=\"cashback-earned-container\">\n          <img src={LabelImg} alt=\"Label.svg\" />\n          <span>Earn ${cashback.toFixed(2)} Cashback</span>\n        </div>\n        :\n        null\n    );\n  }\n\n  render() {\n    const { markup } = this.state;\n    const { charged } = this.props;\n\n    return (\n      <Fragment>\n        {\n          !charged &&\n          <Fragment>\n            <Col xs={12} className=\"mt-3\" />\n            <Col className=\"credit-card-container\" xs={6}>\n              <img src={CreditCards} alt=\"CreditCard.png\" />\n            </Col>\n            <Col className=\"checkout-button-container\" xs={6}>\n              <Button\n                onClick={this.handleOnCheckout}\n                className=\"checkout-button\"\n                type=\"submit\"\n                variant=\"medium-flat-green\"\n                height={48}\n              >\n                <p>Proceed to Payment</p>\n              </Button>\n              {this.renderCashBackEarned()}\n            </Col>\n          </Fragment>\n        }\n        <StripePayment\n          replacementIDString={'action=\"CALLBACK_URL\" method=\"post\"'}\n          ref={(node) => { this.stripePayment = node; }}\n          markup={markup}\n          paymentCallback={this.handlePaymentCallback}\n          zeroPaymentCallback={this.checkoutUsingCashback ? this.checkoutUsingCashback.openCheckoutUsingCashback : null}\n        />\n        <CheckoutUsingCashback\n          ref={node => this.checkoutUsingCashback = node}\n          onConfirm={this.handleOnCheckoutZero}\n        />\n        <CheckoutComplete\n          className=\"blue-popup-backdrop\"\n          wrappedComponentRef={node => this.checkoutComplete = node}\n        />\n        <div ref={node => this.gaReceipt = node} />\n      </Fragment>\n    );\n  }\n}\n\nCheckoutPayment.defaultProps = {\n  wordings: [],\n  trackingTags: null,\n  charged: false,\n  promoCode: null,\n  useCashback: null,\n  id: null,\n};\n\nCheckoutPayment.propTypes = {\n  getStripe: PropTypes.func.isRequired,\n  sessionId: PropTypes.string.isRequired,\n  checkout: PropTypes.func.isRequired,\n  wordings: PropTypes.array,\n  trackingTags: PropTypes.object,\n  setError: PropTypes.func.isRequired,\n  charged: PropTypes.bool,\n  transactionData: PropTypes.object.isRequired,\n  values: PropTypes.object.isRequired,\n  useCashback: PropTypes.bool,\n  promoCode: PropTypes.string,\n  category: PropTypes.string.isRequired,\n  getPromo: PropTypes.func.isRequired,\n  id: PropTypes.number,\n  setErrors: PropTypes.func.isRequired,\n};\n\nexport default CheckoutPayment;\n","/**\n * Checkout.js\n * This is the checkout view that will render the summary\n * of details and handle all the promo, cashback and stripe\n * APIs.\n *\n * There is 2 state to this view. Checkout or receipt. It will\n * toggle accordingly if charged/ahHocCharged.\n *\n * Upon successful payment, it will update the user data again\n * to check if any cashback is used.\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n */\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Row, Col } from 'reactstrap';\n\nimport Button from 'components/FormsV3/Button/Button';\n\nimport PiggyFillForm from 'components/Templates/PiggySignUp/PiggyFillFormNew';\nimport HeaderDescWithTypeDate from 'components/Templates/InsurerFormHeader/HeaderDescWithTypeDateNew';\n\nimport { getFormValue } from 'lib/helperFunctions';\nimport {\n  getAnonymousSession,\n  getPromoCode,\n  getReceipt,\n  getTransactionStripeSession,\n  postCheckout,\n} from '../../../actions/insuranceActions';\n\nimport CheckoutDetailsTable from './CheckoutDetailsTable/CheckoutDetailsTable';\nimport CheckoutPriceSummary from './CheckoutPriceSummary/CheckoutPriceSummary';\nimport CheckoutCashback from './CheckoutCashback/CheckoutCashback';\nimport CheckoutTotal from './CheckoutTotal/CheckoutTotal';\nimport CheckoutDisclaimer from './CheckoutDisclaimer/CheckoutDisclaimer';\nimport CheckoutPayment from './CheckoutPayment/CheckoutPayment';\n\nimport './Checkout.scss';\n\nclass Checkout extends Component {\n  constructor(props) {\n    super(props);\n\n    const {\n      charged,\n      trackingTags,\n    } = this.props;\n\n    this.state = {\n      transactionData: null,\n      errorMsg: null,\n      values: {},\n      errors: {},\n      sessionId: null,\n    };\n\n    if (charged && trackingTags && trackingTags.receipt) {\n      trackingTags.receipt();\n    }\n\n\n    this.getPromo = this.getPromo.bind(this);\n    this.setErrors = this.setErrors.bind(this);\n    this.handleOnChange = this.handleOnChange.bind(this);\n    this.renderHeader = this.renderHeader.bind(this);\n    this.renderDetailsTable = this.renderDetailsTable.bind(this);\n    this.renderPriceSummary = this.renderPriceSummary.bind(this);\n    this.renderTotal = this.renderTotal.bind(this);\n    this.renderCashBack = this.renderCashBack.bind(this);\n    this.renderDisclaimer = this.renderDisclaimer.bind(this);\n    this.renderBackToDetail = this.renderBackToDetail.bind(this);\n    this.renderSignUp = this.renderSignUp.bind(this);\n    this.renderPayment = this.renderPayment.bind(this);\n  }\n\n  async componentDidMount() {\n    const { values } = this.state;\n\n    const {\n      isAdHoc,\n      params,\n      verifyParams,\n      category,\n      userDetails,\n      getPromo,\n      handleAPI,\n      sessionId,\n      charged,\n    } = this.props;\n\n    const newSessionId = isAdHoc ? sessionId : await getAnonymousSession(params, false, verifyParams)();\n    const transactionData = await handleAPI(() => getPromo(newSessionId, userDetails && userDetails.token, getFormValue(values.promo_code), getFormValue(values.cashback)));\n\n    this.setState({\n      sessionId: newSessionId,\n      transactionData: charged ? { transaction: transactionData } : transactionData,\n    });\n\n    window.scrollTo(0, 0);\n\n    if (window.$('#intercom-container')) {\n      window.$('#intercom-container').hide();\n    }\n\n    if (this.gaCheckOut && category === 'travel') {\n      const range = document.createRange();\n      this.gaCheckOut.appendChild(range.createContextualFragment(`\n      <!-- Google Code for PPS2 - Travel - CheckoutPage_ProceedPayment Conversion Page\n      In your html page, add the snippet and call\n      goog_report_conversion when someone clicks on the\n      chosen link or button. -->\n      <script type=\"text/javascript\">\n        /* <![CDATA[ */\n        goog_snippet_vars = function() {\n          var w = window;\n          w.google_conversion_id = 865122565;\n          w.google_conversion_label = \"rJn8CLL_5oQBEIXywpwD\";\n          w.google_remarketing_only = false;\n        }\n        // DO NOT CHANGE THE CODE BELOW.\n        goog_report_conversion = function(url) {\n          goog_snippet_vars();\n          window.google_conversion_format = \"3\";\n          var opt = new Object();\n          opt.onload_callback = function() {\n          if (typeof(url) != 'undefined') {\n            window.location = url;\n          }\n        }\n        var conv_handler = window['google_trackConversion'];\n        if (typeof(conv_handler) == 'function') {\n          conv_handler(opt);\n        }\n      }\n      /* ]]> */\n      </script>\n      <script type=\"text/javascript\"\n        src=\"//www.googleadservices.com/pagead/conversion_async.js\">\n      </script>\n      `));\n    }\n  }\n\n  componentWillUnmount() {\n    if (window.$('#intercom-container')) {\n      window.$('#intercom-container').show();\n    }\n\n    if (window.goog_report_conversion) {\n      delete window.goog_report_conversion;\n    }\n  }\n\n  async getPromo() {\n    const {\n      values,\n      sessionId,\n    } = this.state;\n\n    const {\n      getPromo,\n      userDetails,\n      handleAPI,\n      charged,\n    } = this.props;\n\n    const transactionData = await handleAPI(() => getPromo(sessionId, userDetails && userDetails.token, getFormValue(values.promo_code), getFormValue(values.cashback)));\n    this.setState({\n      transactionData: charged ? { transaction: transactionData } : transactionData,\n    });\n    return transactionData;\n  }\n\n  async setErrors(newErrors) {\n    const { errors } = this.state;\n    return new Promise((resolve) => {\n      this.setState({\n        errors: {\n          ...errors,\n          ...newErrors,\n        },\n      }, resolve);\n    });\n  }\n\n  async handleOnChange(type, name, value) {\n    const { values, errors } = this.state;\n    let newError = {};\n    if (value) {\n      newError = { [name]: null };\n    }\n\n    return new Promise((resolve) => {\n      this.setState({\n        values: {\n          ...values,\n          [name]: { type, value },\n        },\n        errors: { ...errors, ...newError },\n      }, resolve);\n    });\n  }\n\n  renderHeader() {\n    const { headerData } = this.props;\n    return (\n      <HeaderDescWithTypeDate\n        logo={headerData.logo}\n        logoName={headerData.logoName}\n        insurerDesc={headerData.insurerDesc}\n        data1={headerData.data1}\n        data1Value={headerData.data1Value}\n        data2={headerData.data2}\n        data2Value={headerData.data2Value}\n      />\n    );\n  }\n\n  renderDetailsTable() {\n    const { transactionData } = this.state;\n    const { mainDetails, subDetails, charged } = this.props;\n\n    return (\n      <CheckoutDetailsTable\n        mainDetails={mainDetails}\n        subDetails={subDetails}\n        charged={charged}\n        transactionData={transactionData}\n      />\n    );\n  }\n\n  renderPriceSummary(isRenderPromo = false) {\n    const {\n      transactionData,\n      values,\n    } = this.state;\n\n    const {\n      promoErrorString,\n      isAdHoc,\n      charged,\n    } = this.props;\n\n    return (\n      <CheckoutPriceSummary\n        charged={charged}\n        isAdHoc={isAdHoc}\n        isRenderPromo={isRenderPromo}\n        transactionData={transactionData}\n        getPromo={this.getPromo}\n        promoErrorString={promoErrorString}\n        promoCode={getFormValue(values.promo_code)}\n        handleOnChange={this.handleOnChange}\n      />\n    );\n  }\n\n  renderTotal() {\n    const { transactionData } = this.state;\n\n    return (\n      <CheckoutTotal\n        transactionData={transactionData}\n      />\n    );\n  }\n\n  renderCashBack() {\n    const {\n      transactionData,\n      values,\n      errors,\n    } = this.state;\n\n    const {\n      isLoggedIn,\n      userDetails,\n      charged,\n    } = this.props;\n\n    return (\n      <CheckoutCashback\n        charged={charged}\n        transactionData={transactionData}\n        values={values}\n        errors={errors}\n        isLoggedIn={isLoggedIn}\n        rewardPoints={userDetails && userDetails.reward_points}\n        handleOnChange={this.handleOnChange}\n        getPromo={this.getPromo}\n      />\n    );\n  }\n\n  renderDisclaimer() {\n    const {\n      values,\n      errors,\n      errorMsg,\n    } = this.state;\n    const { wordings, charged } = this.props;\n\n    return (\n      <CheckoutDisclaimer\n        charged={charged}\n        values={values}\n        errors={errors}\n        wordings={wordings}\n        handleOnChange={this.handleOnChange}\n        errorMsg={errorMsg}\n      />\n    );\n  }\n\n  renderBackToDetail() {\n    const { backToDetails, isAdHoc } = this.props;\n    if (!isAdHoc && backToDetails) {\n      return (\n        <Button\n          className=\"checkout-button\"\n          variant=\"medium-grey\"\n          width={300}\n          height={72}\n          onClick={backToDetails}\n        >\n          <p>Back to Edit Details</p>\n        </Button>\n      );\n    }\n\n    return null;\n  }\n\n  renderChargedHeader() {\n    const { charged } = this.props;\n\n    if (charged) {\n      return (\n        <Col className=\"charged-header\" xs={12}>\n          <p>Receipt</p>\n        </Col>\n      );\n    }\n\n    return null;\n  }\n\n  renderSignUp() {\n    const {\n      isLoggedIn,\n      category,\n      login,\n      charged,\n    } = this.props;\n\n    if (!charged && !isLoggedIn) {\n      return (\n        <div className=\"piggy\">\n          <PiggyFillForm\n            category={category}\n            onClick={() => login.popup.openPopup(login.loginContainer.setInitialIndex(1))}\n          />\n        </div>\n      );\n    }\n\n    return null;\n  }\n\n  renderWarning() {\n    const { errorMsg } = this.state;\n\n    if (!errorMsg) {\n      return null;\n    }\n\n    return (\n      <Col xs={12}>\n        <p className=\"disclaimer-warning\">{errorMsg}</p>\n      </Col>\n    );\n  }\n\n  renderPayment() {\n    const {\n      transactionData,\n      values,\n      sessionId,\n    } = this.state;\n\n    const {\n      wordings,\n      trackingTags,\n      handleAPI,\n      category,\n      setCharged,\n      charged,\n      userDetails,\n      pushStripePopupPath,\n    } = this.props;\n\n    return (\n      <CheckoutPayment\n        getStripe={getTransactionStripeSession}\n        sessionId={sessionId}\n        checkout={postCheckout}\n        wordings={wordings}\n        trackingTags={trackingTags}\n        setError={errorMsg => this.setState({ errorMsg })}\n        charged={charged}\n        transactionData={transactionData}\n        values={values}\n        promoCode={getFormValue(values.promo_code)}\n        useCashback={getFormValue(values.cashback)}\n        handleAPI={handleAPI}\n        setCharged={setCharged}\n        category={category}\n        getPromo={this.getPromo}\n        id={userDetails && userDetails.id}\n        setErrors={this.setErrors}\n        pushStripePopupPath={pushStripePopupPath}\n      />\n    );\n  }\n\n  render() {\n    const { transactionData } = this.state;\n\n    return (\n      <Row className=\"detail-main-container-new checkout-container\" noGutters>\n        {\n          transactionData &&\n          <Fragment>\n            <Col xs={12} lg={7}>\n              {/* <div className=\"d-block d-lg-none\">\n                {this.renderSignUp()}\n              </div> */}\n              <Row className=\"detail-left-container\" noGutters>\n                {this.renderChargedHeader()}\n                <Col className=\"company-product-container\" xs={12}>\n                  {this.renderHeader()}\n                </Col>\n                {this.renderDetailsTable()}\n              </Row>\n            </Col>\n            <Col lg={5}>\n              {this.renderSignUp()}\n              <Row className=\"detail-right-container summary-container\" noGutters>\n                <Col xs={12} className=\"summary-seperator\" />\n                {this.renderPriceSummary(false)}\n                {this.renderPriceSummary(true)}\n                {this.renderCashBack()}\n                <Col xs={12} className=\"summary-seperator\" />\n                {this.renderTotal()}\n                {this.renderDisclaimer()}\n                {this.renderWarning()}\n                {this.renderPayment()}\n              </Row>\n            </Col>\n          </Fragment>\n        }\n        <div ref={node => this.gaCheckOut = node} />\n      </Row>\n    );\n  }\n}\n\nCheckout.defaultProps = {\n  promoErrorString: null,\n  wordings: [],\n  backToDetails: null,\n  isAdHoc: false,\n  trackingTags: null,\n  charged: false,\n  userDetails: null,\n};\n\nCheckout.propTypes = {\n  userDetails: PropTypes.object,\n  getPromo: PropTypes.func.isRequired,\n  subDetails: PropTypes.array.isRequired,\n  headerData: PropTypes.object.isRequired,\n  mainDetails: PropTypes.object.isRequired,\n  promoErrorString: PropTypes.string,\n  isLoggedIn: PropTypes.bool.isRequired,\n  login: PropTypes.object.isRequired,\n  wordings: PropTypes.array,\n  backToDetails: PropTypes.func,\n  isAdHoc: PropTypes.bool,\n  trackingTags: PropTypes.object,\n  charged: PropTypes.bool,\n  category: PropTypes.string.isRequired,\n  handleAPI: PropTypes.func.isRequired,\n  setCharged: PropTypes.func.isRequired,\n  pushStripePopupPath: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  const adHocCharged = ownProps.isAdHoc && ownProps.adHocData && ownProps.adHocData.status === 'paid' ? true : null;\n  const isCharged = ownProps.charged || adHocCharged;\n  return ({\n    login: state.login,\n    transactionData: state.insurance.transactionData,\n    promoErrorString: state.insurance.promoErrorString,\n    userDetails: state.userDetails && state.userDetails.data,\n    adHocCharged: ownProps.isAdHoc && ownProps.adHocData && ownProps.adHocData.status === 'paid' ? true : null,\n    isCharged,\n  });\n};\n\n// const mapDispatchToProps = dispatch => ({\n// });\n\nconst mergeProps = (propsFromState, propsFromDispatch, ownProps) => {\n  const getPromo = propsFromState.isCharged ?\n    sessionId => getReceipt(sessionId)() :\n    (sessionId, userToken, promocode, useReward) => getPromoCode(userToken, sessionId, promocode, useReward)();\n\n  return ({\n    ...ownProps,\n    ...propsFromState,\n    // ...propsFromDispatch,\n    getPromo,\n  });\n};\n\nexport default connect(mapStateToProps, null, mergeProps)(Checkout);\n","/**\n * TravelCheckoutContainer.js\n * The Checkout container for travel\n *\n * @version 0.0.1\n * @author [Wilson](wilson@policypal.com)\n */\nimport _ from 'lodash';\nimport React, { Component, Fragment } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport ReactPixel from 'react-facebook-pixel';\n\nimport { setCategoryNavBar } from '../../actions/navActions';\nimport { getSessionParams } from '../../actions/travelActions';\nimport { setInsuranceFormState, FORMSTATES } from '../../actions/insuranceActions';\nimport Checkout from '../../components/Templates/CheckoutV1/Checkout';\nimport { gaTag, gaEvent, ampTag } from '../../lib/tagFunctions';\n\nimport {\n  compactCheckoutAttributes,\n  getCheckoutParamsWordingNew,\n  getCheckoutHeaderDataCoverageNew,\n  getCompactSubDetails,\n} from '../../lib/helperFunctions';\n\nclass TravelCheckoutContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    const {\n      values,\n      detailValues,\n      selectedPlanData,\n      isAdHoc,\n      adHocData,\n      planType,\n    } = this.props;\n\n    const paramsWording = getCheckoutParamsWordingNew(\n      planType,\n      isAdHoc,\n      adHocData,\n      selectedPlanData,\n      () => getSessionParams(values, detailValues, selectedPlanData, planType),\n    );\n\n    const headerCoverage = getCheckoutHeaderDataCoverageNew('Travel Insurance', isAdHoc, adHocData, selectedPlanData, paramsWording.params);\n    const sessionParamsToUse = isAdHoc ? adHocData.data.session_params : paramsWording.params.sessionParams.session_params;\n    const tripType = isAdHoc ? adHocData.data.session_params.trip_type : values.trip_type.value;\n    const travelDate = this.getTravelDate(sessionParamsToUse, isAdHoc);\n    const travellingString = this.getTravellingString(sessionParamsToUse);\n    const subDetails = this.getTravellersDetails(sessionParamsToUse);\n    let countries = null;\n    let countryName = 'Country';\n\n    try {\n      countryName = sessionParamsToUse.countries.length > 1 ? 'Countries' : countryName;\n      countries = _.reduce(sessionParamsToUse.countries, (result, country, index) => {\n        const newStr = index === 0 ? `${country}` : `${result}, ${country}`;\n        return newStr;\n      }, '');\n    } catch (error) {\n      // eslint-disable-next-line\n    }\n\n    this.state = {\n      headerData: headerCoverage.headerData,\n      mainDetails: {\n        title: 'Insurance',\n        attributes: compactCheckoutAttributes([\n          { title: 'Trip type', description: tripType },\n          ...travelDate,\n          { title: 'Who is travelling', description: travellingString },\n          { title: countryName, description: countries },\n          { title: 'Region', description: sessionParamsToUse.destination },\n          // { title: 'Coverage', description: headerCoverage.coverage },\n        ]),\n      },\n      subDetails,\n      ...paramsWording,\n      wordings: [\n        ...(paramsWording.wording ? [<span>I have read and agree to abide by the <a href={paramsWording.wording} target=\"__blank\">Policy Wording.</a></span>] : []),\n        <Fragment>\n          <span>I agree to store this policy in my PolicyPal account after purchase, in accordance with the Personal Data Protection Act.</span>\n          <span className=\"disclaimer-cashback-text\">*Cashback <a href=\"/cashback\" target=\"_blank\">Terms & Conditions</a></span>\n        </Fragment>,\n      ],\n    };\n  }\n\n  componentDidMount() {\n    const { setFormState, doSetCategoryNavBar, history } = this.props;\n    setFormState(FORMSTATES.CHECKOUT.index);\n    gaTag({\n      page_title: 'Travel - Checkout',\n      page_path: '/travel/checkout',\n    });\n    ampTag('TravelReviewS');\n    document.body.style.backgroundColor = '#F9FAFF';\n    doSetCategoryNavBar(true);\n\n    if (history.location.pathname && history.location.pathname === `/travel${FORMSTATES.CHECKOUT.path}`) {\n      ReactPixel.track('InitiateCheckout');\n    }\n  }\n\n  componentWillUnmount() {\n    const { doSetCategoryNavBar } = this.props;\n    document.body.style.backgroundColor = '#FFFFFF';\n    doSetCategoryNavBar(false);\n  }\n\n  getTravellingString(data) {\n    let whoTravelling = null;\n    if (data.plan_type === 'Family') {\n      whoTravelling = `Family, ${data.num_adult} adults, ${data.num_children} children`;\n    } else if (data.plan_type === 'Group') {\n      whoTravelling = `Group, ${data.num_adult} persons`;\n    } else if (data.plan_type === 'Individual') {\n      whoTravelling = 'Myself';\n    }\n\n    return whoTravelling;\n  }\n\n  getTravelDate(data, isAdHoc) {\n    if (data.trip_type === 'Single Trip' || (isAdHoc && data.trip_type !== 'Annual Multi-Trip')) {\n      return ([\n        { title: 'Start date', description: data.start_date },\n        { title: 'End date', description: data.end_date },\n      ]);\n    }\n\n    return ([\n      { title: 'Start date', description: data.start_date },\n    ]);\n  }\n\n  getTravellersDetails(data) {\n    if (data.plan_type === 'Individual') {\n      return ([this.mainAdultDetail(data)]);\n    }\n\n    if (data.plan_type === 'Group') {\n      return (\n        [\n          this.mainAdultDetail(data),\n          ...this.adultsDetail(data),\n        ]\n      );\n    }\n\n    return (\n      [\n        this.mainAdultDetail(data),\n        ...this.adultsDetail(data),\n        ...this.childrenDetail(data),\n      ]\n    );\n  }\n\n  mainAdultDetail(data) {\n    const name = data.plan_type === 'Group' ? 'Person' : 'Adult';\n    const blkNo = data.blk_no ? `${data.blk_no} ` : '';\n\n    return (getCompactSubDetails({\n      key: `${name} 1`,\n      leftDetail: {\n        title: 'Details',\n        attributes: compactCheckoutAttributes([\n          { title: 'Email', description: data.email || '' },\n          { title: 'Last name', description: data.family_name || '' },\n          { title: 'First name', description: data.given_name || '' },\n          { title: 'ID type', description: data.id_type || '' },\n          { title: 'ID number', description: data.nric || '' },\n          { title: 'Date of birth', description: data.birth_date || '' },\n          { title: 'Gender', description: data.gender || '' },\n          { title: 'Race', description: data.race || '' },\n          { title: 'Nationality', description: data.citizenship || '' },\n          { title: 'Marital Status', description: data.marital_status || '' },\n          { title: 'Occupation', description: data.occupation || '' },\n          { title: 'Mobile number', description: data.mobile_number || '' },\n        ]),\n      },\n      rightDetail: {\n        title: 'Address',\n        attributes: compactCheckoutAttributes([\n          { title: 'Address', description: `${blkNo}${data.address || ''}` },\n          { title: 'Unit no', description: data.unit_no || '' },\n          { title: 'Postcode', description: data.postal || '' },\n        ]),\n      },\n    }));\n  }\n\n  adultsDetail(data) {\n    const result = [];\n    const arrayName = data.plan_type === 'Group' ? 'group' : 'family';\n    const name = data.plan_type === 'Group' ? 'Person' : 'Adult';\n    const count = data.num_adult - 1;\n\n    for (let i = 0; i < count; ++i) {\n      result.push({\n        key: `${name} ${i + 2}`,\n        leftDetail: {\n          title: 'Details',\n          attributes: compactCheckoutAttributes([\n            { title: 'Name', description: data[arrayName][i].name || '' },\n            { title: 'ID type', description: data[arrayName][i].id_type || '' },\n            { title: 'ID number', description: data[arrayName][i].nric || '' },\n            { title: 'Nationality', description: data[arrayName][i].citizenship || '' },\n            { title: 'Date of Birth', description: data[arrayName][i].birth_date || '' },\n            { title: 'Gender', description: data[arrayName][i].gender || '' },\n            { title: 'Mobile number', description: data[arrayName][i].mobile_number || '' },\n            { title: 'Relationship', description: data[arrayName][i].relationship || '' },\n          ]),\n        },\n      });\n    }\n\n    return result;\n  }\n\n  childrenDetail(data) {\n    const result = [];\n    const startIndex = data.num_adult - 1;\n    const arrayName = data.plan_type === 'Group' ? 'group' : 'family';\n\n    for (let i = 0; i < data.num_children; ++i) {\n      const index = startIndex + i;\n      result.push({\n        key: `Child ${i + 1}`,\n        leftDetail: {\n          title: 'Details',\n          attributes: compactCheckoutAttributes([\n            { title: 'Name', description: data[arrayName][index].name || '' },\n            { title: 'ID type', description: data[arrayName][index].id_type || '' },\n            { title: 'ID number', description: data[arrayName][index].nric || '' },\n            { title: 'Nationality', description: data[arrayName][index].citizenship || '' },\n            { title: 'Date of Birth', description: data[arrayName][index].birth_date || '' },\n            { title: 'Gender', description: data[arrayName][index].gender || '' },\n            { title: 'Relationship', description: data[arrayName][index].relationship || '' },\n          ]),\n        },\n      });\n    }\n\n    return result;\n  }\n\n  render() {\n    const {\n      headerData,\n      mainDetails,\n      subDetails,\n      params,\n      wordings,\n    } = this.state;\n\n    const {\n      isAdHoc,\n      setFormState,\n      history,\n    } = this.props;\n\n    return (\n      <div className=\"travel-checkout-container\">\n        <Checkout\n          {...this.props}\n          verifyParams={['quote_reference']}\n          headerData={headerData}\n          mainDetails={mainDetails}\n          subDetails={subDetails}\n          backToDetails={() => {\n            history.goBack();\n          }}\n          wordings={wordings}\n          params={params}\n          category=\"travel\"\n          pushStripePopupPath={() => history.replace('/travel/review?checkout=true')}\n          trackingTags={{\n            payment: (data) => {\n              ReactPixel.track('AddPaymentInfo');\n              gaEvent('Travel - CheckoutPage_ProceedPayment', {\n                event_category: 'Travel',\n                event_label: 'Travel - CheckoutPage_ProceedPayment',\n              });\n              ampTag('TravelProceedPayA', {\n                cashback: data.useCashback !== null,\n                promo: data.promoCode !== null && data.promoCode !== '',\n              });\n            },\n            receipt: () => {\n              if (!isAdHoc) {\n                ReactPixel.track('Purchase', { currency: 'SGD', value: params.amountPayable });\n                setFormState(FORMSTATES.SUBMITTED.index);\n                history.push(`/travel${FORMSTATES.SUBMITTED.path}`);\n              }\n              gaTag({\n                page_title: 'Travel - Receipt',\n                page_path: '/travel/Receipt',\n              });\n              ampTag('TravelConfirmationS');\n            },\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nTravelCheckoutContainer.defaultProps = {\n  charged: null,\n  sessionId: null,\n  adHocData: null,\n  isAdHoc: false,\n  isLoggedIn: false,\n  selectedPlanData: null,\n  values: null,\n  detailValues: null,\n};\n\nTravelCheckoutContainer.propTypes = {\n  charged: PropTypes.bool,\n  sessionId: PropTypes.string,\n  values: PropTypes.object,\n  detailValues: PropTypes.object,\n  selectedPlanData: PropTypes.object,\n  isLoggedIn: PropTypes.bool,\n  adHocData: PropTypes.object,\n  isAdHoc: PropTypes.bool,\n  setFormState: PropTypes.func.isRequired,\n  history: PropTypes.object.isRequired,\n  doSetCategoryNavBar: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  sessionId: ownProps.isAdHoc ? ownProps.sessionId : state.insurance.sessionId,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setFormState: (state) => {\n    dispatch(setInsuranceFormState(state));\n  },\n  doSetCategoryNavBar: (isCategory) => {\n    dispatch(setCategoryNavBar(isCategory));\n  },\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(TravelCheckoutContainer));\n","/**\n * ErrorPage.js\n * Generic error page for invalid urls\n *\n * @version 0.0.1\n * @author [Wilson Phoo](wilson@policypal.com)\n*/\nimport React, { Component } from 'react';\nimport { Row, Col } from 'reactstrap';\n\nimport FooterContainer from '../../../containers/FooterContainer';\nimport './ErrorPage.scss';\n\nclass ErrorPage extends Component {\n  render() {\n    return (\n      <Row>\n        <Col className=\"error-page\">\n          <p>Oops. This page does not exists!</p>\n        </Col>\n        <FooterContainer />\n      </Row>\n    );\n  }\n}\n\nexport default ErrorPage;\n"],"sourceRoot":""}