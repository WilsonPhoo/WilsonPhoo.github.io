{"version":3,"sources":["assets/images/Business/Checkout/OCBC.png","assets/images/forms/Pdf2.svg","assets/images/Business/Checkout/Proceed.svg","components/Templates/BankTransfer/BankTransfer.js","components/Templates/CheckoutV2/CheckoutHeader/CheckoutHeader.js","components/Templates/CheckoutV2/CheckoutFields/CheckoutFields.js","components/Templates/CheckoutV2/CheckoutDescItem/CheckoutDescItem.js","components/Templates/CheckoutV2/CheckoutPriceSummary/MoreCollapse/MoreCollapse.js","components/Templates/CheckoutV2/CheckoutPriceSummary/CheckoutPriceSummary.js","components/Templates/CheckoutV2/CheckoutPayment/CheckoutPayment.js","components/Templates/CheckoutV2/CheckoutV2.js","components/Business/BusinessCheckout/CheckoutBanner/CheckoutBanner.js","components/Business/BusinessCheckout/BusinessCheckout.js","assets/images/forms/arrow.svg","assets/images/forms/dateIn.svg","assets/images/forms/dateOut.svg","assets/images/forms/magnifyGlass.svg","assets/images/forms/cross.svg","assets/images/common/CheckoutComplete.svg","components/Templates/CheckoutPopup/CheckoutComplete.js","components/FormsV3/Checkbox/Checkbox.js","components/Templates/ModalPopup/ModalPopup.js","components/FormsV3/TextInput/TextInput.js","components/FormsV3/DatePicker/DatePicker.constants.js","components/FormsV3/DatePicker/MonthYearSelector/MonthYearSelector.js","components/FormsV3/DatePicker/DaysList/DaysList.js","components/FormsV3/DatePicker/Calender/Calender.js","components/FormsV3/DatePicker/DateInner/DateInner.js","components/FormsV3/DatePicker/DatePicker.js","components/FormsV3/DateRangePicker/DateRangePicker.js","components/FormsV3/ImageSelection/ImageSelection.js","components/FormsV3/AgeGroupV2/AgeGroupItem/AgeGroupItem.js","components/FormsV3/AgeGroupV2/AgeGroup.js","components/FormsV3/Persons/Persons.js","components/FormsV3/SelectionNew/Selection.js","components/FormsV3/FieldGenerator.js","components/Templates/Tooltip/Tooltip.js","assets/images/forms/triangle.svg","assets/images/common/tooltip.svg","components/Templates/LoadingScreenV2/LogoSlider.js","components/Templates/LoadingScreenV2/LoadingScreenV2.js","components/FormsV3/PromoCode/PromoCode.js","components/Templates/StripePayment/StripePayment.js","components/Templates/DetailCollapse/DetailCollapse.js","components/Templates/Sticky/Sticky.js","components/Business/BusinessFlow/PriceBottom/PriceBottom.js","components/Business/BusinessFlow/BusinessFlow.js"],"names":["module","exports","__webpack_require__","p","PPSBankDetail","name","bankImg","OCBC","bankName","accountNo","forms","size","title","slug","type","is_required","max_date","moment","startOf","toDate","extra_info","BankTransfer","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","isSubmit","handleSubmit","bind","assertThisInitialized","postBankTransfer","bankTransferData","values","validateForm","postComeBackLater","partialFlowStatus","setStateToSubmitted","setState","asyncToGenerator","regenerator_default","a","mark","_callee2","paymentType","wrap","_context2","prev","next","is_full","payment_type","sent","setTimeout","_this2","checkoutComplete","openCheckoutComplete","abrupt","_callee","paymentDetails","data","_context","generateRequestData","payment_method","payment_details","stop","error","_this3","_this$props2","errors","onChangeValue","priceSummaryData","react_default","createElement","reactstrap_es","className","xs","noGutters","order","md","insurer_name","product_name","count","concat","premium_text","premium","numberWithCommas","src","alt","_","map","form","index","FieldGenerator","key","fieldData","extraInfo","sm","Button","variant","height","width","onClick","CheckoutComplete","isQuoteOnly","upperText","midText","buttonText","wrappedComponentRef","node","Component","defaultProps","CheckoutHeader","headerData","logo","Logos","square","insurer_slug","footnote","CheckoutFields","item","dateToStoreString","value","_this$props","inputFields","field","option","index2","readOnly","renderDisplayField","noInternalDesc","length","CheckoutDescItem","descArray","isCollapse","desc","is_child","join","isEmpty","wordings","PdfImg","href","url","target","id","tooltip","Tooltip","icon_img","icon_title","renderDescription","main_desc","sub_desc","DetailCollapse","renderWordings","MoreCollapse","collapse","titleSub","moreData","react","Arrow","collapseOverwrite","useOverwrite","CheckoutPriceSummary","tnc","each","wording","objectSpread","handleOnChange","handleOnNext","newError","defineProperty","isCheckout","onNext","postCheckout","promoCode","callback","newErrors","main","sub","CheckoutPriceSummary_MoreCollapse_MoreCollapse","details","priceData","isTotal","bigValueArray","arguments","undefined","isPromo","priceDataToUse","isPromoFieldDisplay","find","from","toConsumableArray","isOnlyPromoApplied","price","bigValueStyle","v","PromoCode","placeholderString","promo","title_sub","renderPrice","_this$props3","_this$state2","_this$props4","Checkbox","onChange","errorString","isRequired","_this$props5","renderMain","renderSub","renderPromoCode","total","renderTnC","renderPayDeposit","renderButton","CheckoutPayment","stripeMarkup","handleFiatPayment","handleStripe","hideModal","paymentIntent","checkOtp","checkoutData","handleAPI","postAddress","result","payment_template_links","outstanding","full_payment","deposit","Axios","GET","t0","status","split","stripePayment","invokeClick","t1","postStripe","stripeResult","redirect_url","window","location","Promise","resolve","charged","_this4","setPaymentView","quote","finalPrice","outstanding_premium","final_premium","deposit_premium","premiumDesc","deposit_percent","_this5","_this$state","fees","deposit_fees","scrollTo","StripePayment","ref","markup","paymentCallback","showModal","ModalPopup","closeModal","backdropClassName","header","body","renderBody","footer","renderFooter","CheckoutV2","fieldsToCheck","reduce","push","checkoutCallback","descriptionData","CheckoutV2_CheckoutDescItem_CheckoutDescItem","banner","isPayment","setPayment","Templates_BankTransfer_BankTransfer","lg","CheckoutV2_CheckoutHeader_CheckoutHeader","CheckoutV2_CheckoutFields_CheckoutFields","renderDescriptions","CheckoutV2_CheckoutPriceSummary_CheckoutPriceSummary","CheckoutV2_CheckoutPayment_CheckoutPayment","CheckoutBanner","ProceedImg","BusinessCheckout","isFull","getSummary","$","hide","show","oldIsPayment","doSetQuoteData","handleTransition","info","isDeposit","isBalance","checkpartialFlowStatus","amount_paid","policyWording","policy","policyTnC","policyDeclaration","declaration","wordingJSX","comma","tncJSX","declarationJSX","total_count","premium_breakdown","original_premium_no_gst","applied_discounts","upperFirst","deducted","token","insurerName","productName","totalPremium","isPut","_this$state3","onBack","checkoutFields","isFromSession","stickyInfo","transitionClass","BusinessFlow","usingSticky","Templates_CheckoutV2_CheckoutV2","BusinessCheckout_CheckoutBanner_CheckoutBanner","getHeaderData","plan_breakdown","getPriceSummaryData","getBankTransferData","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","animateStyle","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","userName","popupRef","openPopup","react__WEBPACK_IMPORTED_MODULE_6___default","react__WEBPACK_IMPORTED_MODULE_6__","history","components_FormsV3_Button_Button__WEBPACK_IMPORTED_MODULE_9__","togglePopup","closePopup","isSellLeads","extraText","_Popup_Popup__WEBPACK_IMPORTED_MODULE_10__","hideCloseButton","r","CheckoutCompleteSVG","renderUpperText","renderMidText","withRouter","withRef","react__WEBPACK_IMPORTED_MODULE_5___default","_FormInputWrapper_FormInputWrapper__WEBPACK_IMPORTED_MODULE_7__","smallMargin","reactstrap__WEBPACK_IMPORTED_MODULE_6__","checked","setHiddenAuto","nextProps","clearInterval","setHiddenInterval","setInterval","includes","document","style","overflow","zIndex","react__WEBPACK_IMPORTED_MODULE_8___default","reactstrap__WEBPACK_IMPORTED_MODULE_9__","isOpen","tag","toggle","TextInput","handlePostCode","rows","toUpper","inputType","errorStyle","titleStyle","textareaStyle","inputStyle","noInternalDescStyle","readOnlyStyle","FormInputWrapper","placeholder","e","toUpperCase","disabled","MagnifyGlass","dayTextList","monthTextMapping","deafultYearRange","MonthYearSelector","updateScrollPosition","currDisplayDate","dateRangeStart","isYear","getFullYear","getMonth","scrollInput","scrollTop","dateRangeEnd","setCalender","startYear","endYear","currYear","startMonth","endMonth","jsx","toString","start","end","_loop","i","isSingle","dateToUse","Date","displayText","month","dateMonthInput","caret","outline","lib","autoHeight","renderYears","renderMonths","DaysList","day","renderDaysText","Calender","dateRangeEndOverwrite","isSelectingStartDate","startValue","endValue","setSelectedDate","isRange","hoverDate","setDateRangeEndOverwrite","setHoverDate","offsetDays","currFirstDay","setDate","currLastDay","currFirstDayTime","getTime","currLastDayTime","year","startIndex","getDay","endIndex","getDate","currHoverTime","startTime","endTime","startTimeToUse","endTimetoUse","fixedDateTime","nonfixedDateTime","currDay","currDayOfWeek","currTime","isSat","isSun","isStartDate","isEndDate","isWithin","isFirstDay","isLastDay","isSameDay","isDayActive","leftBlockStyle","rightBlockStyle","endBlockStyle","dayStyle","focusStyle","isBlocked","isSelectingStartDateCurr","onMouseEnter","onMouseLeave","DateInner","newEnd","maxEnd","add","setNewDisplayDate","date","isBack","isResp","setMonth","upperStyle","role","onKeyPress","tabIndex","CloseIcon","renderMonthSelectorArrows","DatePicker_MonthYearSelector_MonthYearSelector","DatePicker_DaysList_DaysList","DatePicker_Calender_Calender","isOpened","isArrowUp","inputWidth","openedStyle","dateOpenStyle","respStyle","isArrowUpToUse","arrowStyle","transform","Triangle","listCont","renderDateInner","DatePicker","startDate","endDate","firstDay","lastDay","startDateString","endDateString","handleSelectClick","handleClickOutside","handleKeyPress","handleExit","onMovement","renderInputs","renderInner","dateValidateAndUpdate","addEventListener","dateInnerDOM","ReactDOM","findDOMNode","dateInner","datePickerDOM","wrapperRef","prevProps","isDateEqual","updateData","removeEventListener","innerWidth","newState","clientRect","currIsResp","top","left","right","getBoundingClientRect","isOverHeight","bottom","outerHeight","isOverFlow","newYear","newMonth","isStart","_ref","currStartValue","isChooseEndDate","_x3","apply","dateString","slashedStringDateToDate","event","contains","charCode","preventDefault","openStartDateString","openEndDateString","dateToString","_this3$state","closeStartDateString","closeEndDateString","getDateFromDateString","newDate","_this$state4","endName","newStartValue","newEndValue","_this$state5","isNewStartInvalid","isNewEndInvalid","startValueToUse","endValueToUse","currEndValue","trueMaxEnd","currMaxEnd","format","onMouseDown","_this$state6","_this$props6","isDisableTyping","rangeStyle","selectingDateStyle","displayValue","nameToUse","autoComplete","DateIn","renderInputField","DateOut","renderDropDownArrow","_this$state7","_this$props7","DatePicker_DateInner_DateInner","_this6","_this$props8","dropDownOpenStyle","isErrorStyle","renderPopup","_this$props9","DateRangePicker","startName","errorStringStart","errorStringEnd","isDateRange","FormsV3_DatePicker_DatePicker","ImageSelection","clickStyle","oldValue","inputData","newValue","itemData","isTooltip","isSelected","handleOnClick","sub_title","options","renderItem","renderTitle","renderOptions","AgeGroupItem","isBlur","generateNewFormData","Math","max","floor","onBlur","AgeGroup","originalData","vo","getTotalCount","group","newData","AgeGroupV2_AgeGroupItem_AgeGroupItem","renderHeader","renderAgeGroupItems","Persons","setError","clearError","handleValue","message","formParent","setErrorString","clearErrorString","wrapperRefControl","isAdd","nameAdult","nameChildren","namePlanType","nameTripType","oldNumAdult","oldNumChildren","numAdult","numChildren","isSingleTrip","maxAdult","min","planType","tripType","isPrex","zIndexStyle","People","Selection","selectedStyle","display_name","getOptions","doPrefill","constants","options_constant_key","console","log","prevErrors","prevError","y","behavior","conditions","isRenderable","condition","isValid","FormsV3_TextInput_TextInput","DropDown","isMultiple","dropList","FormsV3_ImageSelection_ImageSelection","FormsV3_AgeGroupV2_AgeGroup","slugs","err","FormsV3_DateRangePicker_DateRangePicker","min_date","offset_days","FormsV3_Persons_Persons","FormsV3_SelectionNew_Selection","tab_size","renderInput","connect","insurance","innerClassName","reactstrap__WEBPACK_IMPORTED_MODULE_7__","arrowClassName","placement","children","TooltipImg","LogoSlider","logos","small","keyFrameLogo","keyframes","_templateObject","AnimatedContainer","styled","div","_templateObject2","renderLogos","interval","LoadingScreenV2","overwriteShowWarning","closeLoading","handleChange","isLoading","timer","clearTimeout","showLoadingError","showLoading","errorCallback","isLoadingError","noLogos","loadingStyle","SpinnerAnimation","LoadingScreenV2_LogoSlider","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","prevState","isComMounted","propsValue","react__WEBPACK_IMPORTED_MODULE_7___default","_FormInputWrapper_FormInputWrapper__WEBPACK_IMPORTED_MODULE_10__","reactstrap__WEBPACK_IMPORTED_MODULE_8__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","currMarkup","extraData","cleanCheckoutButtonContainer","setNewMarkup","replacementIDString","range","createRange","checkoutButton","appendChild","createContextualFragment","replace","get","submit","serializeArray","firstChild","removeChild","failCallback","doTag","zeroPaymentCallback","failCallTimeout","ele","getElementsByName","parentNode","getElementsByClassName","dataset","amount","button","trigger","react__WEBPACK_IMPORTED_MODULE_10___default","react__WEBPACK_IMPORTED_MODULE_10__","components_Templates_LoadingScreenV2_LoadingScreenV2__WEBPACK_IMPORTED_MODULE_11__","topHr","collapseToUse","Sticky","showSticky","scrollY","isTop","stickyStyle","showStyle","PriceBottom","productInfo","stickyPrice","totalCount","isSticky","headerImage","priceInfo","getStickyPrice","color","noFooter","noPolicyPal","renderTopFlow","Templates_Sticky_Sticky","BusinessFlow_PriceBottom_PriceBottom","FormLandingFooter"],"mappings":"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","file":"static/js/BusinessCheckout.85cd2042.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/OCBC.14fdd260.png\";","module.exports = __webpack_public_path__ + \"static/media/Pdf2.dc1437dd.svg\";","module.exports = __webpack_public_path__ + \"static/media/Proceed.11c79a4b.svg\";","/**\r\n * TravelDetail.js\r\n * Detail View for travel\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport moment from 'moment';\r\nimport React, { Component } from 'react';\r\nimport {\r\n  Row,\r\n  Col,\r\n} from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport OCBC from 'assets/images/Business/Checkout/OCBC.png';\r\n\r\nimport CheckoutComplete from 'components/Templates/CheckoutPopup/CheckoutComplete';\r\nimport ButtonCustom from 'components/FormsV3/Button/Button';\r\nimport FieldGenerator from 'components/FormsV3/FieldGenerator';\r\n\r\nimport { numberWithCommas, generateRequestData } from 'lib/helperFunctions';\r\n\r\nimport './BankTransfer.scss';\r\n\r\nconst PPSBankDetail = {\r\n  name: 'PolicyPal Singapore Pte Ltd',\r\n  bankImg: OCBC,\r\n  bankName: 'OCBC',\r\n  accountNo: '712-558139-001',\r\n};\r\n\r\nconst forms = [{\r\n  size: 12,\r\n  title: 'Date of Transfer',\r\n  slug: 'bank_tx_date',\r\n  type: 'date',\r\n  is_required: true,\r\n  max_date: moment().startOf('day').toDate(),\r\n},\r\n// {\r\n//   size: 6,\r\n//   title: 'Time (hh:mm)',\r\n//   slug: 'bank_tx_time',\r\n//   type: 'time',\r\n//   is_required: true,\r\n// },\r\n{\r\n  size: 12,\r\n  title: 'Transaction Ref No.',\r\n  slug: 'bank_tx_ref_no',\r\n  type: 'text',\r\n  is_required: true,\r\n  extra_info: 'E.g. 123456789POSB',\r\n}];\r\n\r\nconst submitText = ''; // 'Our friendly account manager will be in contact with you upon payment confirmation via email within the next working day!';\r\nconst laterText = 'An email containing an unique link has been sent to you. You can come back anytime to this checkout session via the link.';\r\n\r\nclass BankTransfer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isSubmit: true,\r\n    };\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  async handleSubmit(isSubmit) {\r\n    const {\r\n      postBankTransfer,\r\n      bankTransferData,\r\n      values,\r\n      validateForm,\r\n      postComeBackLater,\r\n      partialFlowStatus,\r\n      setStateToSubmitted,\r\n    } = this.props;\r\n\r\n    try {\r\n      this.setState({\r\n        isSubmit,\r\n      }, async () => {\r\n        // eslint-disable-next-line\r\n        const paymentType = partialFlowStatus ? 'outstanding_payment' : bankTransferData && bankTransferData.is_full ? 'full_payment' : 'deposit';\r\n        if (!isSubmit) {\r\n          const result = await postComeBackLater({\r\n            payment_type: paymentType,\r\n          });\r\n\r\n          if (result) {\r\n            setTimeout(() => {\r\n              if (setStateToSubmitted) {\r\n                setStateToSubmitted();\r\n              }\r\n              this.checkoutComplete.openCheckoutComplete();\r\n            }, 300);\r\n          }\r\n\r\n          return;\r\n        }\r\n        validateForm(['bank_tx_ref_no', 'bank_tx_date', 'bank_tx_time'], async () => {\r\n          const paymentDetails = generateRequestData(forms, values);\r\n          if (paymentDetails) {\r\n            const data = {\r\n              payment_method: 'bank_transfer',\r\n              payment_type: paymentType,\r\n              payment_details: paymentDetails,\r\n            };\r\n\r\n            const result = await postBankTransfer(data);\r\n\r\n            if (result) {\r\n              setTimeout(() => {\r\n                if (setStateToSubmitted) {\r\n                  setStateToSubmitted();\r\n                }\r\n                this.checkoutComplete.openCheckoutComplete();\r\n              }, 300);\r\n            }\r\n          }\r\n        }, forms);\r\n      });\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { isSubmit } = this.state;\r\n    const {\r\n      values,\r\n      errors,\r\n      onChangeValue,\r\n      priceSummaryData,\r\n      bankTransferData,\r\n    } = this.props;\r\n\r\n    if (!priceSummaryData || !bankTransferData) {\r\n      return null;\r\n    }\r\n\r\n    try {\r\n      return (\r\n        <Col className=\"business-bank-transfer-container\" xs={12}>\r\n          <Row className=\"inner-container\" noGutters>\r\n            <Col xs={12}>\r\n              { bankTransferData.order && <p className=\"title\">Order {bankTransferData.order}</p> }\r\n            </Col>\r\n            <Col xs={12} md={6} className=\"info-group\">\r\n              { bankTransferData.insurer_name && <p className=\"normal-text\">{bankTransferData.insurer_name}</p> }\r\n              { bankTransferData.product_name && bankTransferData.count && <p className=\"bold-text\">{`${bankTransferData.product_name} - ${bankTransferData.count}pax`}</p> }\r\n            </Col>\r\n            <Col xs={12} md={6}>\r\n              { bankTransferData.premium_text && <p className=\"normal-text right\">{bankTransferData.premium_text}</p> }\r\n              { bankTransferData.premium && <p className=\"bold-text right\">{`$${numberWithCommas(bankTransferData.premium)}`}</p> }\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row className=\"inner-container\" noGutters>\r\n            <Col xs={12}>\r\n              <p className=\"title\">Please Make Transfer to</p>\r\n            </Col>\r\n            <div className=\"pps-details\">\r\n              <Col xs={12}>\r\n                <p className=\"pps-name\">{PPSBankDetail.name}</p>\r\n              </Col>\r\n              <div className=\"bank-details\">\r\n                <Col xs={12} md={6}>\r\n                  <div className=\"bank-img right\">\r\n                    <img src={PPSBankDetail.bankImg} alt={`${PPSBankDetail.bankImg}.png`} />\r\n                  </div>\r\n                </Col>\r\n                <Col xs={12} md={6}>\r\n                  <p className=\"bold-text\">{PPSBankDetail.bankName}</p>\r\n                  <p className=\"bold-text\">{PPSBankDetail.accountNo}</p>\r\n                </Col>\r\n              </div>\r\n            </div>\r\n          </Row>\r\n\r\n          <Row className=\"inner-container\" noGutters>\r\n            <Col xs={12}>\r\n              <p className=\"title\">Once done, please key in the date & time together with transaction reference no.</p>\r\n            </Col>\r\n            {\r\n              _.map(forms, (form, index) => (\r\n                <FieldGenerator\r\n                  key={`business-form-${index}`}\r\n                  values={values}\r\n                  errors={errors}\r\n                  fieldData={form}\r\n                  onChangeValue={onChangeValue}\r\n                  extraInfo={form.extra_info && <p>{form.extra_info}</p>}\r\n                />\r\n              ))\r\n            }\r\n\r\n            <Col className=\"cta-btn\" xs={12} >\r\n              <Row className=\"button-container\" noGutters>\r\n                <Col xs={12} sm={6}>\r\n                  <div className=\"later-button\">\r\n                    <ButtonCustom\r\n                      variant=\"medium-outline\"\r\n                      height={48}\r\n                      width={168}\r\n                      onClick={() => this.handleSubmit(false)}\r\n                    >\r\n                      <p>Come back later</p>\r\n                    </ButtonCustom>\r\n                  </div>\r\n                </Col>\r\n                <Col xs={12} sm={6}>\r\n                  <div className=\"submit-button\">\r\n                    <ButtonCustom\r\n                      variant=\"medium-flat-green\"\r\n                      height={48}\r\n                      width={168}\r\n                      onClick={() => this.handleSubmit(true)}\r\n                    >\r\n                      <p>Submit</p>\r\n                    </ButtonCustom>\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n            </Col>\r\n\r\n            <Col xs={12}>\r\n              <p className=\"foot-note\">*An email will be sent to you to return to this session</p>\r\n            </Col>\r\n          </Row>\r\n          <CheckoutComplete\r\n            isQuoteOnly\r\n            upperText=\"Submission Successful!\"\r\n            midText={isSubmit ? submitText : laterText}\r\n            buttonText=\"Back to Home\"\r\n            wrappedComponentRef={node => this.checkoutComplete = node}\r\n          />\r\n        </Col>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\nBankTransfer.defaultProps = {\r\n  values: {},\r\n  errors: {},\r\n  priceSummaryData: null,\r\n  bankTransferData: null,\r\n  partialFlowStatus: null,\r\n};\r\n\r\nBankTransfer.propTypes = {\r\n  values: PropTypes.object,\r\n  errors: PropTypes.object,\r\n  onChangeValue: PropTypes.func.isRequired,\r\n  priceSummaryData: PropTypes.object,\r\n  bankTransferData: PropTypes.object,\r\n  postBankTransfer: PropTypes.func.isRequired,\r\n  validateForm: PropTypes.func.isRequired,\r\n  postComeBackLater: PropTypes.func.isRequired,\r\n  partialFlowStatus: PropTypes.string,\r\n  setStateToSubmitted: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default BankTransfer;\r\n","/**\r\n * CircleHeader.js\r\n * Circle component for claims\r\n *\r\n * @version 0.0.1\r\n * @author [Barry](barry@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Logos from 'assets/images/InsurerLogos';\r\n\r\nimport './CheckoutHeader.scss';\r\n\r\nclass CheckoutHeader extends Component {\r\n  render() {\r\n    const { headerData } = this.props;\r\n\r\n    try {\r\n      const logo = Logos.square[headerData.insurer_slug];\r\n\r\n      return (\r\n        <Col xs={12}>\r\n          <Row className=\"checkout-header-container\" noGutters>\r\n            <Col className=\"insurer-container\" xs={12}>\r\n              <div className=\"insurer-logo\">\r\n                { logo && <img src={logo} alt={`${headerData.insurer_slug}.png`} /> }\r\n              </div>\r\n              { headerData.title && <h2>{headerData.title}</h2> }\r\n            </Col>\r\n            <Col xs={12}>\r\n              { headerData.footnote && <p className=\"grey-text\">{headerData.footnote}</p> }\r\n            </Col>\r\n            <Col xs={12}>\r\n              <hr />\r\n            </Col>\r\n          </Row>\r\n        </Col>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\nCheckoutHeader.propTypes = {\r\n  headerData: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default CheckoutHeader;\r\n","/**\r\n * CircleHeader.js\r\n * Circle component for claims\r\n *\r\n * @version 0.0.1\r\n * @author [Barry](barry@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport FieldGenerator from 'components/FormsV3/FieldGenerator';\r\nimport { dateToStoreString } from 'lib/dateFunctions';\r\n\r\nimport './CheckoutFields.scss';\r\n\r\nclass CheckoutFields extends Component {\r\n  renderDisplayField(item) {\r\n    try {\r\n      if (item.type === 'date' || item.type === 'end_date') {\r\n        return dateToStoreString(item.value);\r\n      }\r\n\r\n      return item.value;\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return 'N/A';\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      inputFields,\r\n      values,\r\n      errors,\r\n      onChangeValue,\r\n      partialFlowStatus,\r\n    } = this.props;\r\n\r\n    if (!inputFields || !onChangeValue) {\r\n      return null;\r\n    }\r\n\r\n    try {\r\n      return _.map(inputFields, (field, index) => (\r\n        <Col\r\n          key={`checkout-field-${index}`}\r\n          className=\"checkout-form-container\"\r\n          xs={12}\r\n        >\r\n          <Row noGutters>\r\n            <Col xs={12}>{field.title && <p className=\"green-text\">{field.title}</p>}</Col>\r\n            {\r\n              _.map(field.forms, (option, index2) => (\r\n                <Row className=\"field-container\" key={`field-${option.slug}-${index2}`} noGutters>\r\n                  <Col className=\"name-container\" md={6}>\r\n                    <p>{option.title}</p>\r\n                  </Col>\r\n                  <Col className=\"field\" md={6}>\r\n                    {\r\n                      option.readOnly || partialFlowStatus ?\r\n                        <p className=\"dark-text\">{this.renderDisplayField(values && values[option.slug])}</p>\r\n                      :\r\n                        <Row noGutters>\r\n                          <FieldGenerator\r\n                            values={values}\r\n                            errors={errors}\r\n                            fieldData={option}\r\n                            onChangeValue={onChangeValue}\r\n                            noInternalDesc\r\n                          />\r\n                        </Row>\r\n                    }\r\n                  </Col>\r\n                </Row>\r\n              ))\r\n            }\r\n            {index !== inputFields.length - 1 && <Col xs={12}><hr /></Col>}\r\n          </Row>\r\n        </Col>\r\n      ));\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\nCheckoutFields.defaultProps = {\r\n  partialFlowStatus: null,\r\n};\r\n\r\nCheckoutFields.propTypes = {\r\n  inputFields: PropTypes.array.isRequired,\r\n  values: PropTypes.object.isRequired,\r\n  errors: PropTypes.object.isRequired,\r\n  onChangeValue: PropTypes.func.isRequired,\r\n  partialFlowStatus: PropTypes.string,\r\n};\r\n\r\nexport default CheckoutFields;\r\n","/**\r\n * CircleHeader.js\r\n * Circle component for claims\r\n *\r\n * @version 0.0.1\r\n * @author [Barry](barry@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport PdfImg from 'assets/images/forms/Pdf2.svg';\r\n\r\nimport Tooltip from 'components/Templates/Tooltip/Tooltip';\r\nimport DetailCollapse from 'components/Templates/DetailCollapse/DetailCollapse';\r\n\r\nimport './CheckoutDescItem.scss';\r\n\r\nclass CheckoutDescItem extends Component {\r\n  renderDescription(descArray, isCollapse) {\r\n    if (!descArray) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Row className={isCollapse ? 'collapse-container' : ''} noGutters>\r\n        <Col xs={12}>\r\n          {\r\n            _.map(descArray, (desc, index) => (\r\n              <Row\r\n                key={`desc-item-${index}`}\r\n                className={['desc-container', desc.is_child ? 'desc-child' : ''].join(' ')}\r\n                noGutters\r\n              >\r\n                <Col xs={desc.is_child ? 7 : 12} sm={7}>\r\n                  <p className=\"grey-text\"><span>{desc.is_child ? ' ' : ''}{desc.title}</span></p>\r\n                </Col>\r\n                <Col xs={desc.is_child ? 5 : 12} sm={5}>\r\n                  <p className=\"dark-text\"><span>{desc.value}</span></p>\r\n                </Col>\r\n              </Row>\r\n            ))\r\n          }\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n\r\n  renderWordings() {\r\n    const { data } = this.props;\r\n\r\n    if (!data || _.isEmpty(data.wordings)) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Col className=\"wordings-container\" xs={12}>\r\n        <img src={PdfImg} alt=\"pdf.svg\" />\r\n        <a href={data.wordings.url} target=\"__blank\">{data.wordings.title}</a>\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { data, id } = this.props;\r\n\r\n    if (!data) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Col xs={12}>\r\n        <Row className=\"checkout-desc-item-container\" noGutters>\r\n          <Col className=\"header-container\" xs={12}>\r\n            { data.title && <h3 className=\"green-text\">{data.title}</h3> }\r\n            { data.tooltip && <Tooltip id={id}><p>{data.tooltip}</p></Tooltip> }\r\n          </Col>\r\n          <Col className=\"main-desc-container\" xs={12}>\r\n            <Row noGutters>\r\n              <Col className=\"icon-container\" xs={12} sm={3}>\r\n                <div className=\"icon-img-container\">\r\n                  <img src={data.icon_img} alt={`${data.title}.svg`} />\r\n                </div>\r\n                <p className=\"dark-text icon-desc\">{data.icon_title}</p>\r\n              </Col>\r\n              <Col xs={12} sm={9}>\r\n                {this.renderDescription(data.main_desc, false)}\r\n              </Col>\r\n              <Col xs={12}>\r\n                {\r\n                  data.sub_desc &&\r\n                  <DetailCollapse>\r\n                    {this.renderDescription(data.sub_desc, true)}\r\n                  </DetailCollapse>\r\n                }\r\n              </Col>\r\n            </Row>\r\n          </Col>\r\n          {this.renderWordings()}\r\n          <Col xs={12}>\r\n            { !data.sub_desc && <hr /> }\r\n          </Col>\r\n        </Row>\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nCheckoutDescItem.propTypes = {\r\n  data: PropTypes.object.isRequired,\r\n  id: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default CheckoutDescItem;\r\n","/**\r\n * CircleHeader.js\r\n * Circle component for claims\r\n *\r\n * @version 0.0.1\r\n * @author [Barry](barry@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Arrow from 'assets/images/forms/arrow.svg';\r\nimport { numberWithCommas } from 'lib/helperFunctions';\r\n\r\nimport DetailCollapse from 'components/Templates/DetailCollapse/DetailCollapse';\r\n\r\nimport './MoreCollapse.scss';\r\n\r\nclass MoreCollapse extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      collapse: false,\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { collapse } = this.state;\r\n    const { title, titleSub, moreData } = this.props;\r\n\r\n    return (\r\n      <Fragment>\r\n        <Col xs={12}>\r\n          <p className=\"grey-text\">\r\n            {titleSub && <span>{titleSub}</span>}\r\n            {\r\n              moreData &&\r\n              <span>\r\n                <button\r\n                  className=\"more-button\"\r\n                  onClick={() => this.setState({ collapse: !collapse })}\r\n                >\r\n                  <p className=\"grey-text\">\r\n                    More\r\n                    <img className={collapse ? 'rotate-arrow' : ''} src={Arrow} alt=\"Arrow.svg\" />\r\n                  </p>\r\n                </button>\r\n              </span>\r\n            }\r\n          </p>\r\n        </Col>\r\n        {\r\n          moreData &&\r\n          <DetailCollapse\r\n            className=\"checkout-collapse-more-container\"\r\n            collapseOverwrite={collapse}\r\n            useOverwrite\r\n          >\r\n            <Col xs={12} className=\"more-collapse-container\">\r\n              <Row noGutters>\r\n                {\r\n                  _.map(moreData, (data, index) => (\r\n                    <Col key={`${title}-more-${index}`} xs={12}>\r\n                      <Row noGutters>\r\n                        <Col xs={4}><p className=\"grey-text\">{data.title || 'N/A'}</p></Col>\r\n                        <Col xs={4}><p className=\"grey-text\">{data.count ? `${data.count} pax` : 'N/A'}</p></Col>\r\n                        <Col xs={4}><p className=\"grey-text\">{data.premium ? `$${numberWithCommas(data.premium)}` : 'N/A'}</p></Col>\r\n                      </Row>\r\n                    </Col>\r\n                  ))\r\n                }\r\n              </Row>\r\n            </Col>\r\n          </DetailCollapse>\r\n        }\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nMoreCollapse.defaultProps = {\r\n  titleSub: null,\r\n  moreData: null,\r\n};\r\n\r\nMoreCollapse.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  titleSub: PropTypes.string,\r\n  moreData: PropTypes.array,\r\n};\r\n\r\nexport default MoreCollapse;\r\n","/**\r\n * CircleHeader.js\r\n * Circle component for claims\r\n *\r\n * @version 0.0.1\r\n * @author [Barry](barry@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { numberWithCommas } from 'lib/helperFunctions';\r\n\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport PromoCode from 'components/FormsV3/PromoCode/PromoCode';\r\nimport Checkbox from 'components/FormsV3/Checkbox/Checkbox';\r\nimport MoreCollapse from './MoreCollapse/MoreCollapse';\r\n\r\nimport './CheckoutPriceSummary.scss';\r\n\r\nclass CheckoutPriceSummary extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const { priceSummaryData } = this.props;\r\n\r\n    const tnc = {};\r\n    _.each(priceSummaryData.wordings, (wording, index) => {\r\n      const name = `tnc_${index}`;\r\n      tnc[name] = { type: 'checkbox', value: false };\r\n    });\r\n\r\n    this.state = {\r\n      values: {\r\n        ...tnc,\r\n      },\r\n      errors: {},\r\n    };\r\n\r\n    this.handleOnChange = this.handleOnChange.bind(this);\r\n    this.handleOnNext = this.handleOnNext.bind(this);\r\n  }\r\n\r\n  async handleOnChange(type, name, value) {\r\n    const { values, errors } = this.state;\r\n\r\n    let newError = {};\r\n    if (value) {\r\n      newError = { [name]: null };\r\n    }\r\n\r\n    this.setState({\r\n      values: {\r\n        ...values,\r\n        [name]: { type, value },\r\n      },\r\n      errors: { ...errors, ...newError },\r\n    });\r\n  }\r\n\r\n  async handleOnNext() {\r\n    const {\r\n      isCheckout,\r\n      onNext,\r\n      postCheckout,\r\n      promoCode,\r\n      priceSummaryData,\r\n    } = this.props;\r\n\r\n    let callback = null;\r\n\r\n    if (isCheckout) {\r\n      const { values } = this.state;\r\n      const newErrors = {};\r\n\r\n      _.each(priceSummaryData.wordings, (wording, index) => {\r\n        const name = `tnc_${index}`;\r\n\r\n        if (values[name] && !values[name].value) {\r\n          newErrors[name] = 'Please agree to this field!';\r\n        }\r\n      });\r\n\r\n      if (!_.isEmpty(newErrors)) {\r\n        this.setState({\r\n          errors: newErrors,\r\n        });\r\n      } else {\r\n        callback = () => postCheckout(promoCode, true);\r\n      }\r\n    }\r\n\r\n    onNext(callback);\r\n  }\r\n\r\n  renderMain() {\r\n    const { priceSummaryData } = this.props;\r\n\r\n    if (!priceSummaryData.main) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Col xs={12}>\r\n        <h2 className=\"main\">\r\n          <span>{priceSummaryData.main.title}</span>\r\n          <span>{priceSummaryData.main.value}</span>\r\n        </h2>\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  renderSub() {\r\n    const { priceSummaryData } = this.props;\r\n\r\n    if (!priceSummaryData.sub) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        {\r\n          _.map(priceSummaryData.sub, (sub, index) => ((\r\n            <Col key={`price-summary-sub-${index}`} className=\"price-item-container\" xs={12}>\r\n              <Row noGutters>\r\n                <Col xs={12}>\r\n                  <p className=\"dark-text\">\r\n                    {sub.title && <span>{sub.title}</span>}\r\n                    {sub.premium && <span>${numberWithCommas(sub.premium)}</span>}\r\n                  </p>\r\n                </Col>\r\n                <MoreCollapse\r\n                  title={sub.title}\r\n                  titleSub={`${sub.count} pax`}\r\n                  moreData={sub.details}\r\n                />\r\n              </Row>\r\n            </Col>\r\n          )))\r\n        }\r\n        <Col xs={12}><hr /></Col>\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderPrice(priceData, isTotal, bigValueArray = [], isPromo = false) {\r\n    const {\r\n      promoCode,\r\n      postCheckout,\r\n      isCheckout,\r\n      partialFlowStatus,\r\n    } = this.props;\r\n\r\n    if (!priceData) {\r\n      return null;\r\n    }\r\n\r\n    try {\r\n      let priceDataToUse = priceData;\r\n\r\n      const isPromoFieldDisplay = !partialFlowStatus && isCheckout;\r\n\r\n      if (isPromoFieldDisplay && isPromo) {\r\n        const isPromoExists = priceData && _.find(priceData, data => data.from === 'promo_code');\r\n        priceDataToUse = isPromoExists ? priceData : [...(priceData || []), { from: 'promo_code' }];\r\n      }\r\n\r\n      if (!isPromoFieldDisplay && isPromo && _.isEmpty(priceDataToUse)) {\r\n        return null;\r\n      }\r\n\r\n      const isOnlyPromoApplied = priceDataToUse && priceDataToUse.length === 1 && priceDataToUse[0].from === 'promo_code' && priceDataToUse[0].value;\r\n\r\n      return (\r\n        <Fragment>\r\n          <Col className=\"total-container\" xs={12}>\r\n            <Row noGutters>\r\n              {\r\n                isPromo &&\r\n                <Col\r\n                  className={['price-item-container', 'discount-label', !isOnlyPromoApplied || !isPromoFieldDisplay ? 'discount-label-without-promo' : ''].join(' ')}\r\n                  xs={12}\r\n                >\r\n                  <Row noGutters>\r\n                    <Col className=\"left-price\" md={6}>\r\n                      <p className=\"dark-text\">\r\n                        <span>Discounts</span>\r\n                      </p>\r\n                    </Col>\r\n                  </Row>\r\n                </Col>\r\n              }\r\n              {\r\n                _.map(priceDataToUse, (price, index) => {\r\n                  const bigValueStyle = price.title && _.find(bigValueArray, v => v === price.title) && 'big-value';\r\n                  return (\r\n                    <Col\r\n                      className=\"price-item-container\"\r\n                      key={`price-summary-price-${isTotal ? 'total' : 'normal'}-${index}`}\r\n                      xs={12}\r\n                    >\r\n                      <Row noGutters>\r\n                        <Col className=\"d-none d-md-flex left-price\" md={6}>\r\n                          {\r\n                            isPromoFieldDisplay && promoCode && price.from === 'promo_code' &&\r\n                            <PromoCode\r\n                              value={promoCode}\r\n                              name=\"promo_code\"\r\n                              placeholderString=\"Promo Code\"\r\n                              postCheckout={promo => postCheckout(promo, false)}\r\n                            />\r\n                          }\r\n                        </Col>\r\n                        <Col className={price.from === 'promo_code' ? 'd-flex' : ''} xs={12} md={6}>\r\n                          {\r\n                            isPromoFieldDisplay && !promoCode && price.from === 'promo_code' ?\r\n                              <div className=\"d-none d-md-block w-100\">\r\n                                <PromoCode\r\n                                  value={promoCode}\r\n                                  name=\"promo_code\"\r\n                                  placeholderString=\"Promo Code\"\r\n                                  postCheckout={promo => postCheckout(promo, false)}\r\n                                />\r\n                              </div>\r\n                            :\r\n                              <Row className=\"w-100\" noGutters>\r\n                                <Col className=\"price-item\" xs={12}>\r\n                                  <p className=\"dark-text\">\r\n                                    {price.title && <span>{price.title}</span>}\r\n                                    {price.value && <span className={bigValueStyle}>{price.value}</span>}\r\n                                  </p>\r\n                                </Col>\r\n                                <Col xs={12}>\r\n                                  <p className=\"grey-text sub_text\">\r\n                                    {price.title_sub && <span>{price.title_sub}</span>}\r\n                                  </p>\r\n                                </Col>\r\n                              </Row>\r\n                          }\r\n                        </Col>\r\n                      </Row>\r\n                    </Col>\r\n                  );\r\n                })\r\n              }\r\n              {\r\n                isPromo && isPromoFieldDisplay &&\r\n                <Col\r\n                  className=\"price-item-container d-flex d-md-none\"\r\n                  xs={12}\r\n                >\r\n                  <PromoCode\r\n                    value={promoCode}\r\n                    name=\"promo_code\"\r\n                    placeholderString=\"Promo Code\"\r\n                    postCheckout={promo => postCheckout(promo, false)}\r\n                  />\r\n                </Col>\r\n              }\r\n            </Row>\r\n          </Col>\r\n          {!isTotal && <Col xs={12}><hr /></Col>}\r\n        </Fragment>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderPromoCode() {\r\n    const { priceSummaryData } = this.props;\r\n\r\n    return this.renderPrice(priceSummaryData.promo, false, null, true);\r\n  }\r\n\r\n  renderPayDeposit() {\r\n    const { isCheckout, partialFlowStatus } = this.props;\r\n\r\n    if (partialFlowStatus || isCheckout) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Col xs={12}>\r\n        <div className=\"pay-deposit-container\">\r\n          <p>Pay a 30% deposit now and get immediate provisional cover!</p>\r\n        </div>\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  renderTnC() {\r\n    const { values, errors } = this.state;\r\n    const { priceSummaryData, isCheckout, partialFlowStatus } = this.props;\r\n\r\n    if (partialFlowStatus === 'paid' || !isCheckout) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        <Col xs={12}>\r\n          {\r\n            _.map(priceSummaryData.wordings, (wording, index) => {\r\n              const name = `tnc_${index}`;\r\n              return (\r\n                <Checkbox\r\n                  key={name}\r\n                  value={values[name] && values[name].value}\r\n                  name={name}\r\n                  desc={wording}\r\n                  onChange={this.handleOnChange}\r\n                  errorString={errors[name]}\r\n                  isRequired\r\n                />\r\n              );\r\n            })\r\n          }\r\n        </Col>\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderButton() {\r\n    const { buttonText, partialFlowStatus } = this.props;\r\n\r\n    if (partialFlowStatus === 'paid') {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Col className=\"button-container\" xs={12}>\r\n        <Button\r\n          variant=\"medium-flat-green\"\r\n          height={48}\r\n          width={205}\r\n          onClick={this.handleOnNext}\r\n        >\r\n          <p>{buttonText}</p>\r\n        </Button>\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { priceSummaryData } = this.props;\r\n\r\n    if (!priceSummaryData) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Col xs={12} className=\"checkout-price-summary-container\">\r\n        <Row noGutters>\r\n          {this.renderMain()}\r\n          {this.renderSub()}\r\n          {this.renderPrice(priceSummaryData.price, false)}\r\n          {this.renderPromoCode()}\r\n          {this.renderPrice(priceSummaryData.total, true, ['Total', 'Balance'])}\r\n          {this.renderTnC()}\r\n          {this.renderPayDeposit()}\r\n          {this.renderButton()}\r\n        </Row>\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nCheckoutPriceSummary.defaultProps = {\r\n  promoCode: null,\r\n  partialFlowStatus: null,\r\n};\r\n\r\nCheckoutPriceSummary.propTypes = {\r\n  priceSummaryData: PropTypes.object.isRequired,\r\n  isCheckout: PropTypes.bool.isRequired,\r\n  buttonText: PropTypes.string.isRequired,\r\n  onNext: PropTypes.func.isRequired,\r\n  postCheckout: PropTypes.func.isRequired,\r\n  promoCode: PropTypes.string,\r\n  partialFlowStatus: PropTypes.string,\r\n};\r\n\r\nexport default CheckoutPriceSummary;\r\n","/**\r\n * CircleHeader.js\r\n * Circle component for claims\r\n *\r\n * @version 0.0.1\r\n * @author [Barry](barry@policypal.com)\r\n */\r\nimport window from 'global/window';\r\nimport React, { Component } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport ModalPopup from 'components/Templates/ModalPopup/ModalPopup';\r\nimport StripePayment from 'components/Templates/StripePayment/StripePayment';\r\nimport CheckoutComplete from 'components/Templates/CheckoutPopup/CheckoutComplete';\r\n\r\nimport Axios from 'lib/axiosFunctions';\r\nimport { numberWithCommas } from 'lib/helperFunctions';\r\nimport { postStripe } from 'actions/insuranceActions';\r\n\r\nimport './CheckoutPayment.scss';\r\n\r\nconst paymentFailedError = 'Payment failed! Please try again.';\r\n\r\nclass CheckoutPayment extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      stripeMarkup: null,\r\n      errorString: null,\r\n    };\r\n\r\n    this.handleFiatPayment = this.handleFiatPayment.bind(this);\r\n    this.handleStripe = this.handleStripe.bind(this);\r\n    this.hideModal = this.hideModal.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const {\r\n      paymentIntent,\r\n      checkOtp,\r\n      postCheckout,\r\n      promoCode,\r\n      setStateToSubmitted,\r\n    } = this.props;\r\n\r\n    if (paymentIntent && checkOtp) {\r\n      const result = await checkOtp();\r\n      if (result) {\r\n        setTimeout(() => {\r\n          if (setStateToSubmitted) {\r\n            setStateToSubmitted();\r\n          }\r\n          this.checkoutComplete.openCheckoutComplete();\r\n        }, 300);\r\n      } else {\r\n        await postCheckout(promoCode, true);\r\n        this.setState({\r\n          errorString: paymentFailedError,\r\n          stripeMarkup: null,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  hideModal() {\r\n    const { hideModal } = this.props;\r\n\r\n    this.setState({\r\n      stripeMarkup: null,\r\n      errorString: null,\r\n    });\r\n    hideModal();\r\n  }\r\n\r\n  async handleStripe() {\r\n    const {\r\n      checkoutData,\r\n      bankTransferData,\r\n      handleAPI,\r\n      partialFlowStatus,\r\n    } = this.props;\r\n\r\n    try {\r\n      this.setState({\r\n        stripeMarkup: null,\r\n        postAddress: null,\r\n        errorString: null,\r\n      }, async () => {\r\n        if (checkoutData && checkoutData.payment_template_links) {\r\n          // eslint-disable-next-line\r\n          const url = partialFlowStatus ? checkoutData.payment_template_links.outstanding : bankTransferData.is_full ? checkoutData.payment_template_links.full_payment : checkoutData.payment_template_links.deposit;\r\n          const result = handleAPI ? await handleAPI(() => Axios.GET(url)) : await Axios.GET(url);\r\n\r\n          if (result && result.status === 200 && result.data) {\r\n            try {\r\n              const postAddress = result.data.split('action=\"')[1].split('\"')[0];\r\n\r\n              this.setState({\r\n                stripeMarkup: result.data,\r\n                postAddress,\r\n              }, () => {\r\n                this.stripePayment.invokeClick(() => {}, result.data);\r\n              });\r\n\r\n              return;\r\n            } catch (error) {\r\n              // esline-disable-next-line\r\n            }\r\n          }\r\n        }\r\n\r\n        this.setState({\r\n          errorString: paymentFailedError,\r\n          stripeMarkup: null,\r\n        });\r\n      });\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n  }\r\n\r\n  async handleFiatPayment(result) {\r\n    const { postAddress } = this.state;\r\n    const { handleAPI, setStateToSubmitted } = this.props;\r\n\r\n    if (postAddress) {\r\n      const stripeResult = handleAPI ? await handleAPI(() => postStripe(result, postAddress)) : await postStripe(result, postAddress);\r\n\r\n      if (stripeResult && stripeResult.status === 'requires_action' && stripeResult.redirect_url) {\r\n        window.location.href = stripeResult.redirect_url;\r\n        handleAPI(() => new Promise((resolve) => { setTimeout(() => { resolve(true); }, 10000); }));\r\n        return;\r\n      }\r\n\r\n      if (stripeResult && stripeResult.charged) {\r\n        setTimeout(() => {\r\n          if (setStateToSubmitted) {\r\n            setStateToSubmitted();\r\n          }\r\n          this.checkoutComplete.openCheckoutComplete();\r\n        }, 300);\r\n\r\n        return;\r\n      }\r\n    }\r\n\r\n    this.setState({\r\n      errorString: paymentFailedError,\r\n      stripeMarkup: null,\r\n    });\r\n  }\r\n\r\n  renderBody() {\r\n    const {\r\n      checkoutData,\r\n      setPaymentView,\r\n      bankTransferData,\r\n      partialFlowStatus,\r\n    } = this.props;\r\n\r\n    if (!checkoutData) {\r\n      return null;\r\n    }\r\n\r\n    try {\r\n      const price = checkoutData && checkoutData.quote;\r\n      // eslint-disable-next-line\r\n      const finalPrice = partialFlowStatus ? price.outstanding_premium : bankTransferData.is_full ? price.final_premium : price.deposit_premium;\r\n      const premiumDesc = partialFlowStatus ? 'Pay balance' : `${bankTransferData.is_full ? '100%' : `${price.deposit_percent}%`} of premium`;\r\n\r\n      return (\r\n        <Row>\r\n          {\r\n            !partialFlowStatus &&\r\n            <Col xs={12}>\r\n              <div className=\"method-container\">\r\n                <button\r\n                  className={`method-button ${bankTransferData.is_full ? '' : 'selected'}`}\r\n                  onClick={() => setPaymentView(false, false)}\r\n                >\r\n                  Deposit\r\n                </button>\r\n                <button\r\n                  className={`method-button ${!bankTransferData.is_full ? '' : 'selected'}`}\r\n                  onClick={() => setPaymentView(false, true)}\r\n                >\r\n                  Full payment\r\n                </button>\r\n              </div>\r\n            </Col>\r\n          }\r\n          <Col xs={12}>\r\n            {\r\n              !partialFlowStatus && !bankTransferData.is_full &&\r\n              <div className=\"pay-deposit-container\">\r\n                <p>Pay a {price.deposit_percent}% deposit now and get immediate provisional cover!</p>\r\n              </div>\r\n            }\r\n            <p className=\"price-container\">\r\n              <span>{premiumDesc}</span>\r\n              <span>${numberWithCommas(finalPrice)}</span>\r\n            </p>\r\n          </Col>\r\n          <Col xs={12}>\r\n            <hr />\r\n          </Col>\r\n        </Row>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderFooter() {\r\n    const { stripeMarkup, errorString } = this.state;\r\n    const {\r\n      setPaymentView,\r\n      bankTransferData,\r\n      checkoutData,\r\n      partialFlowStatus,\r\n    } = this.props;\r\n\r\n    const fees = checkoutData && checkoutData.quote && (bankTransferData.is_full || partialFlowStatus ? checkoutData.quote.fees : checkoutData.quote.deposit_fees);\r\n\r\n    try {\r\n      return (\r\n        <Row className=\"button-container\" noGutters>\r\n          {\r\n            errorString &&\r\n            <Col xs={12}>\r\n              <p className=\"error-container\">{errorString}</p>\r\n            </Col>\r\n          }\r\n          <Col xs={12} sm={6}>\r\n            <div className=\"cc-button\">\r\n              <Button\r\n                variant=\"medium-outline\"\r\n                height={48}\r\n                width={162}\r\n                onClick={this.handleStripe}\r\n              >\r\n                <p>Pay via credit card</p>\r\n              </Button>\r\n              <p>*Additional 3% charge applies</p>\r\n              {fees && <p className=\"fees\">(${numberWithCommas(fees)})</p>}\r\n            </div>\r\n          </Col>\r\n          <Col xs={12} sm={6}>\r\n            <div className=\"bank-button\">\r\n              <Button\r\n                variant=\"medium-flat-green\"\r\n                height={48}\r\n                width={162}\r\n                onClick={() => {\r\n                  window.scrollTo(0, 0);\r\n                  setPaymentView(true, bankTransferData.is_full);\r\n                  this.hideModal();\r\n                }}\r\n              >\r\n                <p>Pay via bank transfer</p>\r\n              </Button>\r\n            </div>\r\n          </Col>\r\n          <StripePayment\r\n            ref={(node) => { this.stripePayment = node; }}\r\n            markup={stripeMarkup}\r\n            paymentCallback={this.handleFiatPayment}\r\n          />\r\n          <CheckoutComplete\r\n            isQuoteOnly\r\n            upperText=\"Submission Successful!\"\r\n            midText=\"Our friendly account manager will be in contact with you upon payment confirmation via email within the next work day!\"\r\n            buttonText=\"Back to Home\"\r\n            wrappedComponentRef={node => this.checkoutComplete = node}\r\n          />\r\n        </Row>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const { showModal } = this.props;\r\n\r\n    return (\r\n      <ModalPopup\r\n        showModal={showModal}\r\n        closeModal={this.hideModal}\r\n        className=\"checkout-v2-payment-modal\"\r\n        backdropClassName=\"blue-modal-backdrop\"\r\n        header={<p>Payment method</p>}\r\n        body={this.renderBody()}\r\n        footer={this.renderFooter()}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nCheckoutPayment.defaultProps = {\r\n  checkoutData: null,\r\n  handleAPI: null,\r\n  promoCode: null,\r\n  partialFlowStatus: null,\r\n};\r\n\r\nCheckoutPayment.propTypes = {\r\n  showModal: PropTypes.bool.isRequired,\r\n  hideModal: PropTypes.func.isRequired,\r\n  setPaymentView: PropTypes.func.isRequired,\r\n  checkoutData: PropTypes.object,\r\n  bankTransferData: PropTypes.object.isRequired,\r\n  handleAPI: PropTypes.func,\r\n  postCheckout: PropTypes.func.isRequired,\r\n  promoCode: PropTypes.string,\r\n  partialFlowStatus: PropTypes.string,\r\n  setStateToSubmitted: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default CheckoutPayment;\r\n","/**\r\n * CircleHeader.js\r\n * Circle component for claims\r\n *\r\n * @version 0.0.1\r\n * @author [Barry](barry@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport BankTransfer from 'components/Templates/BankTransfer/BankTransfer';\r\nimport CheckoutHeader from './CheckoutHeader/CheckoutHeader';\r\nimport CheckoutFields from './CheckoutFields/CheckoutFields';\r\nimport CheckoutDescItem from './CheckoutDescItem/CheckoutDescItem';\r\nimport CheckoutPriceSummary from './CheckoutPriceSummary/CheckoutPriceSummary';\r\nimport CheckoutPayment from './CheckoutPayment/CheckoutPayment';\r\n\r\nimport './CheckoutV2.scss';\r\n\r\nclass CheckoutV2 extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { inputFields, paymentIntent } = this.props;\r\n\r\n    let fieldsToCheck = [];\r\n\r\n    try {\r\n      fieldsToCheck = _.reduce(inputFields, (result, form) => {\r\n        _.each(form && form.forms, field => result.push(field.slug));\r\n        return result;\r\n      }, []);\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    this.state = {\r\n      showModal: !!paymentIntent,\r\n      fieldsToCheck,\r\n    };\r\n\r\n    this.showModal = this.showModal.bind(this);\r\n    this.hideModal = this.hideModal.bind(this);\r\n    this.handleOnNext = this.handleOnNext.bind(this);\r\n  }\r\n\r\n  showModal() {\r\n    this.setState({ showModal: true });\r\n  }\r\n\r\n  hideModal() {\r\n    this.setState({ showModal: false });\r\n  }\r\n\r\n  handleOnNext(checkoutCallback) {\r\n    const { fieldsToCheck } = this.state;\r\n    const {\r\n      isCheckout,\r\n      onNext,\r\n      validateForm,\r\n    } = this.props;\r\n\r\n    try {\r\n      if (isCheckout) {\r\n        validateForm(fieldsToCheck, async () => {\r\n          if (checkoutCallback) {\r\n            await checkoutCallback();\r\n            this.showModal();\r\n          }\r\n        });\r\n        return;\r\n      }\r\n\r\n      if (!isCheckout) {\r\n        onNext();\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n  }\r\n\r\n  renderDescriptions() {\r\n    const { descriptionData } = this.props;\r\n\r\n    if (!descriptionData) {\r\n      return null;\r\n    }\r\n\r\n    return (_.map(descriptionData, (data, index) => (\r\n      <CheckoutDescItem\r\n        key={`checkout-desc-item-${index}`}\r\n        id={`checkout-desc-item-${index}`}\r\n        data={data}\r\n      />\r\n    )));\r\n  }\r\n\r\n  render() {\r\n    const { showModal } = this.state;\r\n    const {\r\n      banner,\r\n      headerData,\r\n      priceSummaryData,\r\n      inputFields,\r\n      values,\r\n      errors,\r\n      onChangeValue,\r\n      isCheckout,\r\n      isPayment,\r\n      setPayment,\r\n      postCheckout,\r\n      postBankTransfer,\r\n      bankTransferData,\r\n      validateForm,\r\n      promoCode,\r\n      checkoutData,\r\n      handleAPI,\r\n      paymentIntent,\r\n      checkOtp,\r\n      postComeBackLater,\r\n      partialFlowStatus,\r\n      setStateToSubmitted,\r\n    } = this.props;\r\n\r\n    return (\r\n      <Row noGutters className=\"checkout-v2-container\">\r\n        {\r\n          isPayment ?\r\n            <BankTransfer\r\n              values={values}\r\n              errors={errors}\r\n              onChangeValue={onChangeValue}\r\n              priceSummaryData={priceSummaryData}\r\n              postBankTransfer={postBankTransfer}\r\n              bankTransferData={bankTransferData}\r\n              validateForm={validateForm}\r\n              postComeBackLater={postComeBackLater}\r\n              partialFlowStatus={partialFlowStatus}\r\n              setStateToSubmitted={setStateToSubmitted}\r\n            />\r\n          :\r\n            <Fragment>\r\n              <Col xs={12} lg={7}>\r\n                <Row className=\"left-container\" noGutters>\r\n                  {headerData && <CheckoutHeader headerData={headerData} />}\r\n                  {\r\n                    isCheckout ?\r\n                      <CheckoutFields\r\n                        inputFields={inputFields}\r\n                        values={values}\r\n                        errors={errors}\r\n                        onChangeValue={onChangeValue}\r\n                        partialFlowStatus={partialFlowStatus}\r\n                      />\r\n                      :\r\n                      this.renderDescriptions()\r\n                  }\r\n                </Row>\r\n              </Col>\r\n              <Col lg={5}>\r\n                {banner}\r\n                <Row className=\"right-container\" noGutters>\r\n                  <CheckoutPriceSummary\r\n                    partialFlowStatus={partialFlowStatus}\r\n                    promoCode={promoCode}\r\n                    priceSummaryData={priceSummaryData}\r\n                    isCheckout={isCheckout}\r\n                    buttonText={isCheckout ? 'Payment' : 'Proceed to Checkout'}\r\n                    onNext={this.handleOnNext}\r\n                    postCheckout={postCheckout}\r\n                  />\r\n                </Row>\r\n              </Col>\r\n            </Fragment>\r\n        }\r\n        <CheckoutPayment\r\n          partialFlowStatus={partialFlowStatus}\r\n          paymentIntent={paymentIntent}\r\n          checkOtp={checkOtp}\r\n          showModal={showModal}\r\n          hideModal={this.hideModal}\r\n          setPaymentView={setPayment}\r\n          checkoutData={checkoutData}\r\n          bankTransferData={bankTransferData}\r\n          handleAPI={handleAPI}\r\n          postCheckout={postCheckout}\r\n          promoCode={promoCode}\r\n          setStateToSubmitted={setStateToSubmitted}\r\n        />\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nCheckoutV2.defaultProps = {\r\n  banner: null,\r\n  headerData: null,\r\n  descriptionData: null,\r\n  priceSummaryData: null,\r\n  inputFields: null,\r\n  onChangeValue: () => {},\r\n  isCheckout: false,\r\n  onNext: null,\r\n  promoCode: null,\r\n  checkoutData: null,\r\n  handleAPI: null,\r\n  paymentIntent: null,\r\n  partialFlowStatus: null,\r\n};\r\n\r\nCheckoutV2.propTypes = {\r\n  banner: PropTypes.object,\r\n  headerData: PropTypes.object,\r\n  descriptionData: PropTypes.array,\r\n  priceSummaryData: PropTypes.object,\r\n  inputFields: PropTypes.array,\r\n  values: PropTypes.object.isRequired,\r\n  errors: PropTypes.object.isRequired,\r\n  onChangeValue: PropTypes.func,\r\n  onNext: PropTypes.func,\r\n  isCheckout: PropTypes.bool,\r\n  isPayment: PropTypes.bool.isRequired,\r\n  setPayment: PropTypes.func.isRequired,\r\n  validateForm: PropTypes.func.isRequired,\r\n  postCheckout: PropTypes.func.isRequired,\r\n  postBankTransfer: PropTypes.func.isRequired,\r\n  bankTransferData: PropTypes.object.isRequired,\r\n  promoCode: PropTypes.string,\r\n  checkoutData: PropTypes.object,\r\n  handleAPI: PropTypes.func,\r\n  paymentIntent: PropTypes.string,\r\n  checkOtp: PropTypes.func.isRequired,\r\n  postComeBackLater: PropTypes.func.isRequired,\r\n  partialFlowStatus: PropTypes.string,\r\n  setStateToSubmitted: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default CheckoutV2;\r\n","/**\r\n * CircleHeader.js\r\n * Circle component for claims\r\n *\r\n * @version 0.0.1\r\n * @author [Barry](barry@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\nimport ProceedImg from 'assets/images/Business/Checkout/Proceed.svg';\r\n\r\nimport './CheckoutBanner.scss';\r\n\r\nclass CheckoutBanner extends Component {\r\n  render() {\r\n    return (\r\n      <Row noGutters className=\"business-checkout-banner right-container\">\r\n        <Col className=\"business-checkout-banner-inner\" xs={12}>\r\n          <h2 className=\"proceed-text\">Proceed to get instant cover!</h2>\r\n          <div className=\"proceed-image-container\">\r\n            <img src={ProceedImg} alt=\"Proceed.svg\" />\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CheckoutBanner;\r\n","/**\r\n * CircleHeader.js\r\n * Circle component for claims\r\n *\r\n * @version 0.0.1\r\n * @author [Barry](barry@policypal.com)\r\n */\r\nimport $ from 'jquery';\r\nimport window from 'global/window';\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { numberWithCommas } from 'lib/helperFunctions';\r\n\r\nimport CheckoutV2 from 'components/Templates/CheckoutV2/CheckoutV2';\r\nimport BusinessFlow from '../BusinessFlow/BusinessFlow';\r\nimport CheckoutBanner from './CheckoutBanner/CheckoutBanner';\r\n\r\nclass BusinessCheckout extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isPayment: false,\r\n      checkoutData: null,\r\n      isFull: false,\r\n    };\r\n\r\n    this.setPayment = this.setPayment.bind(this);\r\n\r\n    this.getSummary = this.getSummary.bind(this);\r\n    this.postCheckout = this.postCheckout.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.getSummary();\r\n\r\n    if ($('#intercom-container')) {\r\n      $('#intercom-container').hide();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if ($('#intercom-container')) {\r\n      $('#intercom-container').show();\r\n    }\r\n  }\r\n\r\n  setPayment(isPayment, isFull) {\r\n    const { checkoutData, isPayment: oldIsPayment } = this.state;\r\n    const { doSetQuoteData, handleTransition } = this.props;\r\n\r\n    try {\r\n      if (isPayment !== oldIsPayment && handleTransition) {\r\n        handleTransition(() => {\r\n          this.setState({ isPayment, isFull });\r\n          doSetQuoteData({\r\n            quote: {\r\n              quote: checkoutData && checkoutData.quote,\r\n              info: checkoutData && checkoutData.info,\r\n            },\r\n            isDeposit: isPayment && !isFull,\r\n            isBalance: this.checkpartialFlowStatus(),\r\n          });\r\n        });\r\n\r\n        return;\r\n      }\r\n      this.setState({ isPayment, isFull });\r\n      doSetQuoteData({\r\n        quote: {\r\n          quote: checkoutData && checkoutData.quote,\r\n          info: checkoutData && checkoutData.info,\r\n        },\r\n        isDeposit: isPayment && !isFull,\r\n        isBalance: this.checkpartialFlowStatus(),\r\n      });\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n  }\r\n\r\n  getHeaderData() {\r\n    const { checkoutData } = this.state;\r\n\r\n    try {\r\n      if (checkoutData) {\r\n        return ({\r\n          insurer_slug: checkoutData.info.insurer_slug,\r\n          title: checkoutData.info.product_name,\r\n          footnote: '*This is according to the combination you have selected throughout the form',\r\n        });\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  getPriceSummaryData() {\r\n    const { checkoutData } = this.state;\r\n\r\n    try {\r\n      if (checkoutData) {\r\n        let total = [{\r\n          title: 'Total',\r\n          title_sub: 'After 7% GST',\r\n          value: `$${numberWithCommas(checkoutData.quote.final_premium)}`,\r\n        }];\r\n\r\n        if (this.checkpartialFlowStatus()) {\r\n          total = [{\r\n            title: 'Paid',\r\n            value: `- $${numberWithCommas(checkoutData.quote.amount_paid)}`,\r\n          }, {\r\n            title: 'Balance',\r\n            value: `$${numberWithCommas(checkoutData.quote.outstanding_premium)}`,\r\n          }];\r\n        }\r\n\r\n        const policyWording = checkoutData.policy && checkoutData.policy.wording;\r\n        const policyTnC = checkoutData.policy && checkoutData.policy.tnc;\r\n        const policyDeclaration = checkoutData.policy && checkoutData.policy.declaration;\r\n\r\n        const wordingJSX = policyWording && <a href={policyWording} target=\"__blank\">Policy Wording</a>;\r\n        const comma = policyWording && policyTnC && <Fragment>, </Fragment>;\r\n        const tncJSX = policyTnC && <a href={policyTnC} target=\"__blank\">Terms & Conditions</a>;\r\n        const declarationJSX = policyDeclaration && <a href={policyDeclaration} target=\"__blank\">Liberty Insurance Pte Ltds EZCare Declarations</a>;\r\n\r\n        return ({\r\n          main: {\r\n            title: 'Price Breakdown',\r\n            value: `${checkoutData.quote.total_count} pax`,\r\n          },\r\n          sub: checkoutData.quote.premium_breakdown,\r\n          price: [{\r\n            title: 'Subtotal',\r\n            value: `$${numberWithCommas(checkoutData.quote.original_premium_no_gst)}`,\r\n          }],\r\n          promo: _.map(checkoutData.quote.applied_discounts, data => ({\r\n            title: _.upperFirst(data.name || ''),\r\n            value: `- $${numberWithCommas(data.deducted)}`,\r\n            from: data.from,\r\n          })),\r\n          total,\r\n          wordings: [\r\n            ...(wordingJSX && tncJSX ? [<Fragment>I have read and agree to abide by the {wordingJSX}{comma}{tncJSX}.</Fragment>] : []),\r\n            <Fragment>I agree to store this policy in my PolicyPal account after purchase, in accordance with the Personal Data Protection Act.</Fragment>,\r\n            ...(declarationJSX ? [<Fragment>I have read the {declarationJSX} and hereby warrant to all declarations within the document.</Fragment>] : []),\r\n          ],\r\n        });\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  getBankTransferData() {\r\n    const { checkoutData, isFull } = this.state;\r\n    const { token, partialFlowStatus } = this.props;\r\n\r\n    try {\r\n      const info = checkoutData && checkoutData.info;\r\n      const quote = checkoutData && checkoutData.quote;\r\n\r\n      const insurerName = info && info.insurer_name;\r\n      const productName = info && info.product_name;\r\n      const count = quote && quote.total_count;\r\n      // eslint-disable-next-line\r\n      const totalPremium = quote && (partialFlowStatus ? quote.outstanding_premium : isFull ? quote.final_premium : quote.deposit_premium);\r\n      // eslint-disable-next-line\r\n      const premiumText = partialFlowStatus ? 'Balance' : isFull ? 'Full Premium' : `Deposit ${quote && quote.deposit_percent}%`;\r\n\r\n      return {\r\n        order: token,\r\n        insurer_name: insurerName,\r\n        product_name: productName,\r\n        count,\r\n        premium_text: premiumText,\r\n        premium: totalPremium,\r\n        is_full: isFull,\r\n      };\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  async getSummary() {\r\n    const { checkoutData } = this.state;\r\n    const { getSummary } = this.props;\r\n\r\n    try {\r\n      const result = await getSummary();\r\n      if (result) {\r\n        this.setState({\r\n          checkoutData: {\r\n            ...checkoutData,\r\n            ...result,\r\n          },\r\n        });\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n  }\r\n\r\n  checkpartialFlowStatus() {\r\n    const { checkoutData } = this.state;\r\n    const { partialFlowStatus } = this.props;\r\n\r\n    return partialFlowStatus && checkoutData.quote && checkoutData.quote.amount_paid && checkoutData.quote.outstanding_premium;\r\n  }\r\n\r\n  async postCheckout(promo, isPut) {\r\n    const { checkoutData } = this.state;\r\n    const { postCheckout, doSetQuoteData } = this.props;\r\n\r\n    try {\r\n      const result = await postCheckout(promo, isPut);\r\n      doSetQuoteData({ quote: { quote: result.quote, info: result.info }, isDeposit: false });\r\n      if (result) {\r\n        this.setState({\r\n          checkoutData: {\r\n            ...checkoutData,\r\n            ...result,\r\n          },\r\n        });\r\n      }\r\n\r\n      return result;\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const { isPayment, checkoutData, isFull } = this.state;\r\n    const {\r\n      isCheckout,\r\n      onNext,\r\n      onBack,\r\n      values,\r\n      errors,\r\n      onChangeValue,\r\n      validateForm,\r\n      checkoutFields,\r\n      postBankTransfer,\r\n      token,\r\n      promoCode,\r\n      handleAPI,\r\n      paymentIntent,\r\n      checkOtp,\r\n      isFromSession,\r\n      stickyInfo,\r\n      postComeBackLater,\r\n      transitionClass,\r\n      partialFlowStatus,\r\n      setStateToSubmitted,\r\n    } = this.props;\r\n\r\n    if (!checkoutData || isFromSession) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <BusinessFlow\r\n        title={isCheckout ? 'Checkout' : 'Review'}\r\n        usingSticky\r\n        onNext={onNext}\r\n        // eslint-disable-next-line\r\n        onBack={partialFlowStatus && !isCheckout ? null : isPayment ? () => { window.scrollTo(0, 0); this.setPayment(false); } : onBack}\r\n        stickyInfo={stickyInfo}\r\n        transitionClass={transitionClass}\r\n        isCheckout\r\n      >\r\n        <CheckoutV2\r\n          postComeBackLater={postComeBackLater}\r\n          promoCode={promoCode}\r\n          banner={<CheckoutBanner />}\r\n          headerData={this.getHeaderData()}\r\n          descriptionData={checkoutData.policy && checkoutData.policy.plan_breakdown}\r\n          priceSummaryData={this.getPriceSummaryData()}\r\n          bankTransferData={this.getBankTransferData()}\r\n          inputFields={checkoutFields}\r\n          onNext={onNext}\r\n          values={values}\r\n          errors={errors}\r\n          onChangeValue={onChangeValue}\r\n          isCheckout={isCheckout}\r\n          isPayment={isPayment}\r\n          setPayment={this.setPayment}\r\n          validateForm={validateForm}\r\n          postCheckout={this.postCheckout}\r\n          isFull={isFull}\r\n          postBankTransfer={postBankTransfer}\r\n          token={token}\r\n          checkoutData={checkoutData}\r\n          handleAPI={handleAPI}\r\n          paymentIntent={paymentIntent}\r\n          checkOtp={checkOtp}\r\n          partialFlowStatus={partialFlowStatus}\r\n          setStateToSubmitted={setStateToSubmitted}\r\n        />\r\n      </BusinessFlow>\r\n    );\r\n  }\r\n}\r\n\r\nBusinessCheckout.defaultProps = {\r\n  isCheckout: false,\r\n  onNext: null,\r\n  onBack: null,\r\n  values: {},\r\n  errors: {},\r\n  promoCode: null,\r\n  handleAPI: null,\r\n  paymentIntent: null,\r\n  isFromSession: false,\r\n  stickyInfo: null,\r\n  transitionClass: '',\r\n  handleTransition: null,\r\n  partialFlowStatus: null,\r\n};\r\n\r\nBusinessCheckout.propTypes = {\r\n  isCheckout: PropTypes.bool,\r\n  onBack: PropTypes.func,\r\n  onNext: PropTypes.func,\r\n  values: PropTypes.object,\r\n  errors: PropTypes.object,\r\n  onChangeValue: PropTypes.func.isRequired,\r\n  validateForm: PropTypes.func.isRequired,\r\n  checkoutFields: PropTypes.array.isRequired,\r\n  getSummary: PropTypes.func.isRequired,\r\n  postCheckout: PropTypes.func.isRequired,\r\n  postBankTransfer: PropTypes.func.isRequired,\r\n  token: PropTypes.string.isRequired,\r\n  promoCode: PropTypes.string,\r\n  handleAPI: PropTypes.func,\r\n  paymentIntent: PropTypes.string,\r\n  checkOtp: PropTypes.func.isRequired,\r\n  isFromSession: PropTypes.bool,\r\n  stickyInfo: PropTypes.object,\r\n  doSetQuoteData: PropTypes.func.isRequired,\r\n  postComeBackLater: PropTypes.func.isRequired,\r\n  transitionClass: PropTypes.string,\r\n  handleTransition: PropTypes.func,\r\n  partialFlowStatus: PropTypes.string,\r\n  setStateToSubmitted: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default BusinessCheckout;\r\n","module.exports = __webpack_public_path__ + \"static/media/arrow.6b6008ba.svg\";","module.exports = __webpack_public_path__ + \"static/media/dateIn.1b60a0c4.svg\";","module.exports = __webpack_public_path__ + \"static/media/dateOut.98be354a.svg\";","module.exports = __webpack_public_path__ + \"static/media/magnifyGlass.4cd15637.svg\";","module.exports = __webpack_public_path__ + \"static/media/cross.8df9f59e.svg\";","module.exports = __webpack_public_path__ + \"static/media/CheckoutComplete.0dec4895.svg\";","/**\r\n * CheckoutComplete.js\r\n * Shows this when checkout is complete\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component, Fragment } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport CheckoutCompleteSVG from 'assets/images/common/CheckoutComplete.svg';\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport Popup from '../Popup/Popup';\r\n\r\nimport './CheckoutPopup.scss';\r\n\r\nclass CheckoutComplete extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      animateStyle: '',\r\n    };\r\n\r\n    this.openCheckoutComplete = this.openCheckoutComplete.bind(this);\r\n  }\r\n\r\n  openCheckoutComplete(userName = null) {\r\n    this.setState({\r\n      animateStyle: 'bounce-in',\r\n      userName,\r\n    });\r\n\r\n    setTimeout(() => {\r\n      this.popupRef.openPopup();\r\n    }, 10);\r\n  }\r\n\r\n  renderUpperText() {\r\n    const { userName } = this.state;\r\n    const { isQuoteOnly, upperText } = this.props;\r\n\r\n    if (!isQuoteOnly) {\r\n      return (\r\n        <Fragment>\r\n          <p>Thank you for your</p>\r\n          <p><span>purchase, </span><span className=\"focus-text\">{userName}</span></p>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <p>{upperText || 'Success'}</p>\r\n    );\r\n  }\r\n\r\n  renderMidText() {\r\n    const { isQuoteOnly, midText } = this.props;\r\n\r\n    const message = 'The insurers representative will contact you within 2 business days to share with you more about the selected product.';\r\n\r\n    // Our partnered FA representative from Synergy Financial Advisers Pte Ltd will contact you within 48 hours to share with you more about the selected product.\r\n    if (!isQuoteOnly) {\r\n      return (\r\n        <Fragment>\r\n          <p>A copy of the receipt has been sent to</p>\r\n          <p>your inbox.</p>\r\n          <p>{'The policy will be reflected in PolicyPal\\'s APP once approved.'}</p>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    if (midText !== null) {\r\n      return (\r\n        <Fragment>\r\n          <p>{midText}</p>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        <p>Thanks for submitting your request.</p>\r\n        <p>{message}</p>\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderButton() {\r\n    const {\r\n      history,\r\n      isQuoteOnly,\r\n      buttonText,\r\n      callback,\r\n    } = this.props;\r\n\r\n    if (!isQuoteOnly) {\r\n      return (\r\n        <Fragment>\r\n          <Button\r\n            className=\"checkout-button\"\r\n            variant=\"medium-flat\"\r\n            width={166}\r\n            height={72}\r\n            onClick={() => history.push('/gotoappstore')}\r\n          >\r\n            <p>Download APP</p>\r\n          </Button>\r\n          <Button\r\n            className=\"checkout-button\"\r\n            variant=\"medium-flat-green\"\r\n            width={166}\r\n            height={72}\r\n            onClick={() => this.popupRef.closePopup()}\r\n          >\r\n            <p>Details</p>\r\n          </Button>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Button\r\n        className=\"checkout-button\"\r\n        variant=\"medium-flat-green\"\r\n        width={166}\r\n        height={72}\r\n        onClick={() => {\r\n          if (callback) {\r\n            callback();\r\n            this.popupRef.togglePopup(false);\r\n            return;\r\n          }\r\n          history.push('/');\r\n        }}\r\n      >\r\n        <p>{buttonText || 'OK'}</p>\r\n      </Button>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { animateStyle } = this.state;\r\n    const { isSellLeads, className } = this.props;\r\n\r\n    const extraText = !isSellLeads ? '' : 'In the event that you purchase a plan through our partner, PolicyPal receives a referral fee.';\r\n\r\n    return (\r\n      <Popup\r\n        className={className}\r\n        hideCloseButton ref={(r) => { this.popupRef = r; }}\r\n      >\r\n        <Fragment>\r\n          <div className=\"check-out-popup\">\r\n            <img className={animateStyle} src={CheckoutCompleteSVG} alt=\"CheckoutComplete.svg\" />\r\n            <div className=\"upper-container upper-margin-up\">\r\n              {this.renderUpperText()}\r\n            </div>\r\n            <div className=\"mid-container\">\r\n              {this.renderMidText()}\r\n            </div>\r\n            <div className=\"button-container\">\r\n              {this.renderButton()}\r\n            </div>\r\n            <div className=\"extra-text\"><p>{extraText}</p></div>\r\n          </div>\r\n        </Fragment>\r\n      </Popup>\r\n    );\r\n  }\r\n}\r\n\r\nCheckoutComplete.defaultProps = {\r\n  isQuoteOnly: false,\r\n  isSellLeads: false,\r\n  upperText: null,\r\n  midText: null,\r\n  buttonText: null,\r\n  callback: null,\r\n  className: '',\r\n};\r\n\r\nCheckoutComplete.propTypes = {\r\n  history: PropTypes.object.isRequired,\r\n  isQuoteOnly: PropTypes.bool,\r\n  isSellLeads: PropTypes.bool,\r\n  upperText: PropTypes.string,\r\n  midText: PropTypes.string,\r\n  buttonText: PropTypes.string,\r\n  callback: PropTypes.func,\r\n  className: PropTypes.string,\r\n};\r\n\r\nexport default withRouter(CheckoutComplete, { withRef: true });\r\n","import React, { Component } from 'react';\r\nimport { CustomInput } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport './Checkbox.scss';\r\n\r\nexport default class Checkbox extends Component {\r\n  render() {\r\n    const {\r\n      name,\r\n      value,\r\n      desc,\r\n      onChange,\r\n      errorString,\r\n      extraInfo,\r\n    } = this.props;\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        errorString={errorString}\r\n        extraInfo={extraInfo}\r\n        smallMargin\r\n      >\r\n        <div className=\"checkbox-container-v3\">\r\n          <CustomInput\r\n            id={name}\r\n            className=\"checkbox-input\"\r\n            type=\"checkbox\"\r\n            onChange={() => onChange('checkbox', name, !value)}\r\n            checked={!!value}\r\n          />\r\n          {/* eslint-disable-next-line */}\r\n          <p\r\n            className=\"checkbox-input-desc\"\r\n            // onClick={() => onChange('checkbox', name, !value)}\r\n          >\r\n            {desc}\r\n          </p>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nCheckbox.defaultProps = {\r\n  value: null,\r\n  errorString: null,\r\n  extraInfo: null,\r\n};\r\n\r\nCheckbox.propTypes = {\r\n  value: PropTypes.bool,\r\n  name: PropTypes.string.isRequired,\r\n  desc: PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.array]).isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  errorString: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n};\r\n","/**\r\n * ChangeInitialFormData.js\r\n * This is the green pencil button that appears mainly on\r\n * the compare view which will render the Edit Detail forms\r\n * of each category.\r\n *\r\n * Users will be able to change that form through this component\r\n * and will do a callback to update any changes, eg for compare view.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport document from 'global/document';\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport {\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n} from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './ModalPopup.scss';\r\n\r\nclass ModalPopup extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      showModal: props.showModal,\r\n    };\r\n\r\n    this.setHiddenAuto = this.setHiddenAuto.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { showModal } = this.props;\r\n\r\n    if (!showModal) {\r\n      this.setHiddenAuto();\r\n    }\r\n  }\r\n\r\n  // Toggle modal\r\n  componentWillReceiveProps(nextProps) {\r\n    const { showModal } = this.props;\r\n    if (nextProps.showModal !== showModal) {\r\n      this.setState({ showModal: nextProps.showModal });\r\n\r\n      if (!nextProps.showModal) {\r\n        this.setHiddenAuto();\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.setHiddenInterval);\r\n  }\r\n\r\n\r\n  setHiddenAuto() {\r\n    clearInterval(this.setHiddenInterval);\r\n    this.setHiddenInterval = setInterval(() => {\r\n      if (!this.props.showModal && !_.includes(document.body.style.overflow, 'auto')) {\r\n        document.body.style.overflow = 'hidden auto';\r\n        clearInterval(this.setHiddenInterval);\r\n      }\r\n    }, 100);\r\n  }\r\n\r\n  render() {\r\n    const { showModal } = this.state;\r\n    const {\r\n      closeModal,\r\n      header,\r\n      body,\r\n      footer,\r\n      className,\r\n      backdropClassName,\r\n      zIndex,\r\n    } = this.props;\r\n\r\n    return (\r\n      <Modal\r\n        isOpen={showModal}\r\n        size=\"lg\"\r\n        className={`modal-popup-custom ${className}`}\r\n        backdropClassName={backdropClassName}\r\n        zIndex={zIndex}\r\n      >\r\n        {\r\n          header &&\r\n          <ModalHeader\r\n            tag=\"h3\"\r\n            toggle={closeModal}\r\n          >\r\n            {header}\r\n          </ModalHeader>\r\n        }\r\n        {\r\n          body &&\r\n          <ModalBody>\r\n            {body}\r\n          </ModalBody>\r\n        }\r\n        {\r\n          footer &&\r\n          <ModalFooter>\r\n            {footer}\r\n          </ModalFooter>\r\n        }\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nModalPopup.defaultProps = {\r\n  showModal: false,\r\n  header: null,\r\n  body: null,\r\n  footer: null,\r\n  className: null,\r\n  backdropClassName: null,\r\n  zIndex: 1050,\r\n};\r\n\r\nModalPopup.propTypes = {\r\n  showModal: PropTypes.bool,\r\n  closeModal: PropTypes.func.isRequired,\r\n  header: PropTypes.object,\r\n  body: PropTypes.object,\r\n  footer: PropTypes.object,\r\n  className: PropTypes.string,\r\n  backdropClassName: PropTypes.string,\r\n  zIndex: PropTypes.number,\r\n};\r\n\r\nexport default ModalPopup;\r\n","/**\r\n * DropDown.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Input } from 'reactstrap';\r\nimport MagnifyGlass from 'assets/images/forms/magnifyGlass.svg';\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport './TextInput.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass TextInput extends Component {\r\n  render() {\r\n    const {\r\n      name,\r\n      desc,\r\n      placeholderString,\r\n      extraInfo,\r\n      errorString,\r\n      value,\r\n      onChange,\r\n      handlePostCode,\r\n      rows,\r\n      noInternalDesc,\r\n      type,\r\n      toUpper,\r\n      readOnly,\r\n    } = this.props;\r\n\r\n    // eslint-disable-next-line\r\n    const inputType = type === 'password' ? 'password' : type === 'textarea' ? 'textarea' : type === 'number' ? 'number' : '';\r\n\r\n    const errorStyle = errorString ? 'error' : '';\r\n    const titleStyle = value ? 'focused-title' : '';\r\n    const textareaStyle = inputType === 'textarea' ? 'textarea-padding' : '';\r\n    const inputStyle = inputType === 'textarea' ? '' : 'absolute-input';\r\n    const noInternalDescStyle = noInternalDesc ? 'no-internal-desc' : '';\r\n    const readOnlyStyle = readOnly ? 'read-only' : '';\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        desc={desc}\r\n        extraInfo={extraInfo}\r\n        errorString={errorString}\r\n      >\r\n        <div className=\"position-relative\">\r\n          <div\r\n            className={`text-input-container-v3 ${textareaStyle} ${errorStyle} ${readOnlyStyle}`}\r\n          >\r\n            {\r\n              !noInternalDesc &&\r\n              <div className={`title-header ${titleStyle}`}>\r\n                {placeholderString}\r\n              </div>\r\n            }\r\n            <div className={['text-input', noInternalDescStyle, inputStyle].join(' ')}>\r\n              <Input\r\n                className=\"text\"\r\n                type={inputType}\r\n                placeholder={(noInternalDesc && placeholderString) || ''}\r\n                name={name}\r\n                value={value || ''}\r\n                onChange={e => onChange(type, name, e.target.value && toUpper ? e.target.value.toUpperCase() : e.target.value)}\r\n                rows={rows}\r\n                disabled={readOnly}\r\n              />\r\n            </div>\r\n            {\r\n              type === 'postal' && handlePostCode ?\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"postcode\"\r\n                  onClick={handlePostCode}\r\n                >\r\n                  <img src={MagnifyGlass} alt=\"magGlass.svg\" />\r\n                </button>\r\n              :\r\n                null\r\n            }\r\n          </div>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nTextInput.defaultProps = {\r\n  value: null,\r\n  desc: null,\r\n  extraInfo: null,\r\n  errorString: null,\r\n  handlePostCode: null,\r\n  rows: 4,\r\n  noInternalDesc: false,\r\n  toUpper: false,\r\n  readOnly: false,\r\n};\r\n\r\n\r\nTextInput.propTypes = {\r\n  placeholderString: PropTypes.string.isRequired,\r\n  value: PropTypes.string,\r\n  name: PropTypes.string.isRequired,\r\n  desc: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  errorString: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  handlePostCode: PropTypes.func,\r\n  rows: PropTypes.number,\r\n  noInternalDesc: PropTypes.bool,\r\n  type: PropTypes.string.isRequired,\r\n  toUpper: PropTypes.bool,\r\n  readOnly: PropTypes.bool,\r\n};\r\n\r\nexport default TextInput;\r\n","// Day Text for display\r\nexport const dayTextList = [\r\n  'SU',\r\n  'MO',\r\n  'TU',\r\n  'WE',\r\n  'TH',\r\n  'FR',\r\n  'SA',\r\n];\r\n\r\n// Month text for display\r\nexport const monthTextMapping = [\r\n  'January',\r\n  'Feburary',\r\n  'March',\r\n  'April',\r\n  'May',\r\n  'June',\r\n  'July',\r\n  'August',\r\n  'September',\r\n  'October',\r\n  'November',\r\n  'December',\r\n];\r\n\r\n// Height for medium dropdown\r\nexport const defaultHeight = 48;\r\n// Default year range if not user defined\r\nexport const deafultYearRange = 100;\r\n","/**\r\n * DateInner.js\r\n * DateView only for rendering\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport PropTypes from 'prop-types';\r\nimport React, { Component } from 'react';\r\nimport {\r\n  UncontrolledDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n} from 'reactstrap';\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\n\r\nimport { monthTextMapping } from '../DatePicker.constants';\r\n\r\nimport './MonthYearSelector.scss';\r\n\r\n// Height for month and year dropdown items\r\nconst itemHeight = 32;\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass MonthYearSelector extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.updateScrollPosition = this.updateScrollPosition.bind(this);\r\n  }\r\n\r\n  updateScrollPosition() {\r\n    const {\r\n      currDisplayDate,\r\n      dateRangeStart,\r\n      isYear,\r\n    } = this.props;\r\n\r\n    try {\r\n      const height = itemHeight * (isYear ? currDisplayDate.getFullYear() - dateRangeStart.getFullYear() : currDisplayDate.getMonth());\r\n\r\n      // Update year scroll position to current year\r\n      if (this.scrollInput) {\r\n        setTimeout(() => this.scrollInput.scrollTop(height), 10);\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n  }\r\n\r\n  /**\r\n   * renderMonths\r\n   *\r\n   * Render months dropdown\r\n   */\r\n  renderMonths() {\r\n    const {\r\n      currDisplayDate,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      setCalender,\r\n    } = this.props;\r\n\r\n    try {\r\n      const startYear = dateRangeStart.getFullYear();\r\n      const endYear = dateRangeEnd.getFullYear();\r\n      const currYear = currDisplayDate.getFullYear();\r\n\r\n      const startMonth = currYear === startYear ? dateRangeStart.getMonth() : 0;\r\n      const endMonth = currYear === endYear ? dateRangeEnd.getMonth() : 11;\r\n\r\n      return _.reduce(monthTextMapping, (result, item, index) => {\r\n        if (startMonth <= index && index <= endMonth) {\r\n          const jsx = (\r\n            <DropdownItem\r\n              onClick={() => {\r\n                setCalender(index, currYear);\r\n              }}\r\n              key={`month-${index.toString()}`}\r\n            >\r\n              {item}\r\n            </DropdownItem>\r\n          );\r\n          result.push(jsx);\r\n        }\r\n\r\n        return result;\r\n      }, []);\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * renderYears\r\n   *\r\n   * Render years dropdown\r\n   */\r\n  renderYears() {\r\n    const {\r\n      currDisplayDate,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      setCalender,\r\n    } = this.props;\r\n\r\n    try {\r\n      const start = dateRangeStart.getFullYear();\r\n      const end = dateRangeEnd.getFullYear();\r\n\r\n      const result = [];\r\n      for (let i = start; i <= end; ++i) {\r\n        result.push((\r\n          <DropdownItem\r\n            onClick={() => {\r\n              setCalender(currDisplayDate.getMonth(), i);\r\n            }}\r\n            key={`year-${i.toString()}`}\r\n          >\r\n            {i}\r\n          </DropdownItem>\r\n        ));\r\n      }\r\n\r\n      return result;\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const { isYear, currDisplayDate, isSingle } = this.props;\r\n\r\n    try {\r\n      const dateToUse = new Date(currDisplayDate.getFullYear(), currDisplayDate.getMonth(), 1);\r\n\r\n      let displayText = '';\r\n\r\n      if (isYear) {\r\n        displayText = dateToUse.getFullYear();\r\n      } else {\r\n        const month = dateToUse.getMonth();\r\n        displayText = monthTextMapping[month];\r\n      }\r\n\r\n      if (!isSingle) {\r\n        return <p>{displayText}</p>;\r\n      }\r\n\r\n      return (\r\n        <div className=\"month-year-selector\">\r\n          <UncontrolledDropdown>\r\n            <div ref={(dateMonthInput) => { this.dateMonthInput = dateMonthInput; }}>\r\n              <DropdownToggle\r\n                caret\r\n                outline\r\n                onClick={this.updateScrollPosition}\r\n              >\r\n                {displayText}\r\n              </DropdownToggle>\r\n            </div>\r\n            <DropdownMenu>\r\n              <Scrollbars\r\n                autoHeight\r\n                ref={(scrollInput) => { this.scrollInput = scrollInput; }}\r\n              >\r\n                {isYear ? this.renderYears() : this.renderMonths()}\r\n              </Scrollbars>\r\n            </DropdownMenu>\r\n          </UncontrolledDropdown>\r\n        </div>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\nMonthYearSelector.defaultProps = {\r\n  isYear: false,\r\n  isSingle: false,\r\n};\r\n\r\nMonthYearSelector.propTypes = {\r\n  isYear: PropTypes.bool,\r\n  setCalender: PropTypes.func.isRequired,\r\n  currDisplayDate: PropTypes.instanceOf(Date).isRequired,\r\n  dateRangeStart: PropTypes.instanceOf(Date).isRequired,\r\n  dateRangeEnd: PropTypes.instanceOf(Date).isRequired,\r\n  isSingle: PropTypes.bool,\r\n};\r\n\r\nexport default MonthYearSelector;\r\n","/**\r\n * DateInner.js\r\n * DateView only for rendering\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\n\r\nimport { dayTextList /* , deafultYearRange */ } from '../DatePicker.constants';\r\n\r\nimport './DaysList.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass DaysList extends Component {\r\n  /**\r\n   * renderDaysText\r\n   *\r\n   * Render the days text\r\n   */\r\n  renderDaysText() {\r\n    return _.map(dayTextList, day => (\r\n      <Col\r\n        xs=\"auto\"\r\n        className=\"days\"\r\n        key={day}\r\n      >\r\n        <p>{day}</p>\r\n      </Col>\r\n    ));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Row className=\"days-list-container\" noGutters>\r\n        <Col className=\"days-list-inner\" xs={12}>\r\n          <Row className=\"w-100\" noGutters>\r\n            {this.renderDaysText()}\r\n          </Row>\r\n        </Col>\r\n        <Col className=\"days-list-divider\" xs={12} />\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DaysList;\r\n","/**\r\n * DateInner.js\r\n * DateView only for rendering\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React, { Component } from 'react';\r\nimport {\r\n  Row,\r\n  Col,\r\n} from 'reactstrap';\r\n\r\nimport './Calender.scss';\r\n\r\n/**\r\n * Calender\r\n *\r\n * Render calender days for range selection\r\n */\r\nclass Calender extends Component {\r\n  render() {\r\n    const {\r\n      dateRangeEndOverwrite,\r\n      isSelectingStartDate,\r\n      startValue,\r\n      endValue,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      setSelectedDate,\r\n      isRange,\r\n      currDisplayDate,\r\n      hoverDate,\r\n      setDateRangeEndOverwrite,\r\n      setHoverDate,\r\n      offsetDays,\r\n    } = this.props;\r\n\r\n    const currFirstDay = new Date(currDisplayDate);\r\n    currFirstDay.setDate(1);\r\n\r\n    const currLastDay = new Date(currFirstDay.getFullYear(), currFirstDay.getMonth() + 1, 0);\r\n\r\n    const currFirstDayTime = currFirstDay.getTime();\r\n    const currLastDayTime = currLastDay.getTime();\r\n\r\n    const month = currFirstDay.getMonth();\r\n    const year = currFirstDay.getFullYear();\r\n\r\n    // Get the starting blank days of the calender\r\n    const startIndex = currFirstDay.getDay();\r\n    // Get the end day\r\n    const endIndex = currLastDay.getDate();\r\n\r\n    // Get starting time\r\n    const currHoverTime = hoverDate && hoverDate.getTime();\r\n    const startTime = startValue && startValue.getTime();\r\n    const endTime = endValue && endValue.getTime();\r\n\r\n    let startTimeToUse = startTime;\r\n    let endTimetoUse = endTime;\r\n\r\n    const fixedDateTime = isSelectingStartDate ? endTime : startTime;\r\n    const nonfixedDateTime = !isSelectingStartDate ? endTime : startTime;\r\n\r\n    if (hoverDate) {\r\n      // eslint-disable-next-line\r\n      startTimeToUse = currHoverTime < fixedDateTime ? currHoverTime : fixedDateTime;\r\n      // eslint-disable-next-line\r\n      endTimetoUse = currHoverTime > fixedDateTime ? currHoverTime : fixedDateTime;\r\n    }\r\n\r\n    const result = [];\r\n\r\n    // These are blank elements to simulate last month dates\r\n    for (let i = 0; i < startIndex; ++i) {\r\n      result.push(<div className=\"date-col\" key={`blank${i.toString()}`} />);\r\n    }\r\n\r\n    for (let i = 1; i <= endIndex; ++i) {\r\n      const currDay = new Date(year, month, i);\r\n      const currDayOfWeek = currDay.getDay();\r\n      const currTime = currDay.getTime();\r\n\r\n      const isSat = currDayOfWeek === 6;\r\n      const isSun = currDayOfWeek === 0;\r\n      const isStartDate = startTimeToUse === currTime;\r\n      const isEndDate = endTimetoUse === currTime;\r\n      const isWithin = startTimeToUse && endTimetoUse && startTimeToUse < currTime && currTime < endTimetoUse;\r\n      const isFirstDay = currFirstDayTime === currTime;\r\n      const isLastDay = currLastDayTime === currTime;\r\n\r\n      const isSameDay = startTimeToUse === endTimetoUse || (hoverDate && fixedDateTime === currHoverTime);\r\n      const isLeftBlockActive = !isSameDay && (!isSun && !isFirstDay) && ((isEndDate && startTimeToUse)\r\n                                || isWithin);\r\n      const isRightBlockActive = !isSameDay && (!isSat && !isLastDay) && ((isStartDate && endTimetoUse)\r\n                                || isWithin);\r\n      const isDayActive = isStartDate || isEndDate;\r\n      const isEndActive = isDayActive || (isWithin && (isSat || isSun || isFirstDay || isLastDay));\r\n\r\n      // Left bock, right block, circle block and selected circle block\r\n      const leftBlockStyle = isLeftBlockActive ? 'left-active' : 'left-inactive';\r\n      const rightBlockStyle = isRightBlockActive ? 'right-active' : 'right-inactive';\r\n      const endBlockStyle = isEndActive ? 'end-active' : 'end-inactive';\r\n      const dayStyle = isDayActive ? 'day-active' : 'day-inactive';\r\n      const focusStyle = (currHoverTime && currHoverTime === currTime) || (!currHoverTime && nonfixedDateTime === currTime) ? 'day-focus' : '';\r\n\r\n      // Check if day is in within selected range\r\n      let isBlocked = false;\r\n      // if (isRange) {\r\n      //   if (isSelectingStartDate && endValue) {\r\n      //     // isBlocked = currDay > endValue;\r\n      //   } else if (!isSelectingStartDate && startValue) {\r\n      //     // isBlocked = currDay < startValue;\r\n      //   }\r\n      // }\r\n\r\n      // Check if day is out of calender range\r\n      if (!isBlocked) {\r\n        isBlocked = currDay < dateRangeStart || currDay > (dateRangeEndOverwrite || dateRangeEnd);\r\n      }\r\n\r\n      result.push((\r\n        <Col\r\n          key={`day${i.toString()}`}\r\n          className=\"date-col\"\r\n          xs=\"auto\"\r\n        >\r\n          <button\r\n            className=\"day-container\"\r\n            type=\"button\"\r\n            onClick={() => {\r\n              if (!isBlocked) {\r\n                const { isSelectingStartDate: isSelectingStartDateCurr } = this.props;\r\n                setSelectedDate(new Date(year, month, i), isSelectingStartDateCurr);\r\n                setHoverDate(null);\r\n\r\n                if (isRange && isSelectingStartDateCurr) {\r\n                  setDateRangeEndOverwrite(new Date(year, month, i + offsetDays));\r\n                }\r\n              }\r\n            }}\r\n            onMouseEnter={() => {\r\n                if (!isBlocked) {\r\n                  setHoverDate(new Date(year, month, i));\r\n                }\r\n            }}\r\n            onMouseLeave={() => {\r\n                // if (!isSelectingStartDate) {\r\n                  setHoverDate(null);\r\n                // }\r\n            }}\r\n          >\r\n            <div className={`day-range  ${leftBlockStyle}`} />\r\n            <div className={`day-range  ${rightBlockStyle}`} />\r\n            <div className={`${endBlockStyle}`} />\r\n            {\r\n              isBlocked ?\r\n                <div className=\"day-disabled\">\r\n                  <p className=\"blocked\">{i}</p>\r\n                </div>\r\n              :\r\n                <div className={`day ${dayStyle} ${focusStyle}`}>\r\n                  <p>{i}</p>\r\n                </div>\r\n            }\r\n          </button>\r\n        </Col>\r\n      ));\r\n    }\r\n\r\n    return (\r\n      <Row className=\"calender-container\" noGutters>\r\n        {result}\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nCalender.defaultProps = {\r\n  startValue: null,\r\n  endValue: null,\r\n  dateRangeEndOverwrite: null,\r\n  currDisplayDate: null,\r\n  hoverDate: null,\r\n  offsetDays: 0,\r\n};\r\n\r\nCalender.propTypes = {\r\n  isRange: PropTypes.bool.isRequired,\r\n  startValue: PropTypes.instanceOf(Date),\r\n  endValue: PropTypes.instanceOf(Date),\r\n  dateRangeStart: PropTypes.instanceOf(Date).isRequired,\r\n  dateRangeEnd: PropTypes.instanceOf(Date).isRequired,\r\n  dateRangeEndOverwrite: PropTypes.instanceOf(Date),\r\n  currDisplayDate: PropTypes.instanceOf(Date),\r\n  hoverDate: PropTypes.instanceOf(Date),\r\n  setSelectedDate: PropTypes.func.isRequired,\r\n  isSelectingStartDate: PropTypes.bool.isRequired,\r\n  setDateRangeEndOverwrite: PropTypes.func.isRequired,\r\n  setHoverDate: PropTypes.func.isRequired,\r\n  offsetDays: PropTypes.number,\r\n};\r\n\r\nexport default Calender;\r\n","/**\r\n * DateInner.js\r\n * DateView only for rendering\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport PropTypes from 'prop-types';\r\nimport React, { Component, Fragment } from 'react';\r\nimport {\r\n  Row,\r\n  Col,\r\n} from 'reactstrap';\r\nimport moment from 'moment';\r\n\r\nimport CloseIcon from 'assets/images/common/CloseIcon.svg';\r\nimport Arrow from 'assets/images/forms/arrow.svg';\r\nimport Triangle from 'assets/images/forms/triangle.svg';\r\n\r\nimport MonthYearSelector from '../MonthYearSelector/MonthYearSelector';\r\nimport DaysList from '../DaysList/DaysList';\r\nimport Calender from '../Calender/Calender';\r\n\r\nimport './DateInner.scss';\r\n\r\nconst SINGLE = 0;\r\nconst MULTIPLELEFT = 1;\r\nconst MULTIPLERIGHT = 2;\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass DateInner extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      hoverDate: null,\r\n      dateRangeEndOverwrite: null,\r\n    };\r\n\r\n    this.setCalender = this.setCalender.bind(this);\r\n    this.setDateRangeEndOverwrite = this.setDateRangeEndOverwrite.bind(this);\r\n  }\r\n\r\n  // componentDidUpdate(prevProps) {\r\n  //   const { startValue } = this.props;\r\n\r\n  //   if (!isDateEqual(startValue, prevProps.startValue)) {\r\n  //     this.setDateRangeEndOverwrite(startValue);\r\n  //   }\r\n  // }\r\n\r\n  setDateRangeEndOverwrite(value) {\r\n    const {\r\n      dateRangeEnd,\r\n      offsetDays,\r\n    } = this.props;\r\n\r\n    let newEnd = value;\r\n\r\n    if (dateRangeEnd) {\r\n      const maxEnd = moment(dateRangeEnd).add(offsetDays, 'days').toDate();\r\n      newEnd = newEnd > maxEnd ? maxEnd : newEnd;\r\n    }\r\n\r\n    this.setState({ dateRangeEndOverwrite: newEnd });\r\n  }\r\n\r\n  /**\r\n   * setCalender\r\n   *\r\n   * Set visible calender\r\n   *\r\n   * @param {number} month\r\n   * @param {number} year\r\n   */\r\n  setCalender(month, year) {\r\n    const {\r\n      dateRangeEndOverwrite,\r\n    } = this.state;\r\n\r\n    const {\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      setNewDisplayDate,\r\n    } = this.props;\r\n\r\n    let date = new Date(year, month);\r\n\r\n    // Cap date range\r\n    if (date < dateRangeStart) {\r\n      date = dateRangeStart;\r\n    } else if (date > (dateRangeEndOverwrite || dateRangeEnd)) {\r\n      date = dateRangeEndOverwrite && dateRangeEndOverwrite > dateRangeEnd ? dateRangeEndOverwrite : dateRangeEnd;\r\n    }\r\n\r\n    setNewDisplayDate(date);\r\n  }\r\n\r\n  renderMonthSelectorArrows(isBack, month, year) {\r\n    const { isRange, isResp } = this.props;\r\n\r\n    return (\r\n      <Col\r\n        xs={1}\r\n        className=\"date-arrow-style\"\r\n      >\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => {\r\n            // eslint-disable-next-line\r\n            this.setCalender(isBack ? month - 1 : (isRange && !isResp ? month : month + 1), year);\r\n          }}\r\n        >\r\n          <img\r\n            src={Arrow}\r\n            alt=\"arrow.svg\"\r\n            className={isBack ? 'angle-left' : 'angle-right'}\r\n          />\r\n        </button>\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * renderDateInner\r\n   *\r\n   * Render the popup od the datepicker\r\n   */\r\n  renderDateInner(type) {\r\n    const { dateRangeEndOverwrite, hoverDate } = this.state;\r\n\r\n    const {\r\n      currDisplayDate,\r\n      isRange,\r\n      setSelectedDate,\r\n      startValue,\r\n      endValue,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      isSelectingStartDate,\r\n      isResp,\r\n      offsetDays,\r\n    } = this.props;\r\n\r\n    const dateToUse = new Date(currDisplayDate.getFullYear(), currDisplayDate.getMonth(), 1);\r\n    if (type === MULTIPLERIGHT) {\r\n      dateToUse.setMonth(dateToUse.getMonth() + 1);\r\n    }\r\n\r\n    const month = dateToUse.getMonth();\r\n    const year = dateToUse.getFullYear();\r\n\r\n    let upperStyle = '';\r\n    if (isRange && !isResp) {\r\n      upperStyle = type === MULTIPLERIGHT ? 'range-right' : 'range-left';\r\n    }\r\n\r\n    return (\r\n      <div className=\"date-inner-container\">\r\n        {\r\n          type !== MULTIPLERIGHT ?\r\n            <div\r\n              role=\"button\"\r\n              className=\"close-button-container\"\r\n              onKeyPress={() => {}}\r\n              onClick={() => {\r\n                setSelectedDate(startValue, true);\r\n                setSelectedDate(endValue, false);\r\n              }}\r\n              tabIndex={-1}\r\n            >\r\n              <img src={CloseIcon} className=\"close-icon\" alt=\"close\" />\r\n            </div>\r\n            : null\r\n        }\r\n        <Row className={upperStyle} noGutters>\r\n          {type !== MULTIPLERIGHT && this.renderMonthSelectorArrows(true, month, year)}\r\n          <Col xs={6} className=\"selector-left\">\r\n            <MonthYearSelector\r\n              setCalender={this.setCalender}\r\n              currDisplayDate={dateToUse}\r\n              dateRangeStart={dateRangeStart}\r\n              dateRangeEnd={dateRangeEnd}\r\n              isSingle={type === SINGLE}\r\n            />\r\n          </Col>\r\n          <Col xs={4} className=\"selector-right\">\r\n            <MonthYearSelector\r\n              isYear\r\n              setCalender={this.setCalender}\r\n              currDisplayDate={dateToUse}\r\n              dateRangeStart={dateRangeStart}\r\n              dateRangeEnd={dateRangeEnd}\r\n              isSingle={type === SINGLE}\r\n            />\r\n          </Col>\r\n          {type !== MULTIPLELEFT && this.renderMonthSelectorArrows(false, month, year)}\r\n        </Row>\r\n        <DaysList />\r\n        <Calender\r\n          isRange={isRange}\r\n          startValue={startValue}\r\n          endValue={endValue}\r\n          dateRangeStart={dateRangeStart}\r\n          dateRangeEnd={dateRangeEnd}\r\n          dateRangeEndOverwrite={dateRangeEndOverwrite}\r\n          currDisplayDate={dateToUse}\r\n          hoverDate={hoverDate}\r\n          setSelectedDate={setSelectedDate}\r\n          isSelectingStartDate={isSelectingStartDate}\r\n          setDateRangeEndOverwrite={this.setDateRangeEndOverwrite}\r\n          setHoverDate={value => this.setState({ hoverDate: value })}\r\n          offsetDays={offsetDays}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isOpened,\r\n      isRange,\r\n      isArrowUp,\r\n      inputWidth,\r\n      isSelectingStartDate,\r\n      isResp,\r\n    } = this.props;\r\n\r\n    const openedStyle = isOpened ? 'dateinner-opened' : '';\r\n    const dateOpenStyle = isOpened ? 'date-container-opened' : 'date-container-closed';\r\n\r\n\r\n    const respStyle = isResp ? 'inner-absolute' : '';\r\n    const isArrowUpToUse = isResp || isArrowUp;\r\n    const arrowStyle = isArrowUpToUse ? 'arrow-up' : 'arrow-down';\r\n    const rangeBorders = isRange ? '' : '';\r\n\r\n    let transform = `translateX(20px) ${isArrowUpToUse ? '' : 'rotate(180deg)'}`;\r\n    if (isRange && inputWidth !== null) {\r\n      transform = `translateX(${(isSelectingStartDate ? 0 : inputWidth * 0.5) + 20}px) ${isArrowUpToUse ? '' : 'rotate(180deg)'}`;\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        <div className={`${openedStyle} ${respStyle} dateinner-v3`}>\r\n          <div className={dateOpenStyle}>\r\n            <img\r\n              className={['arrow-range', arrowStyle, respStyle].join(' ')}\r\n              src={Triangle}\r\n              alt=\"triangle.svg\"\r\n              style={{ transform }}\r\n            />\r\n            <div\r\n              className={`list-container list-opened ${rangeBorders}`}\r\n              ref={node => this.listCont = node}\r\n            >\r\n              {this.renderDateInner(isRange && !isResp ? MULTIPLELEFT : SINGLE)}\r\n              {isRange && !isResp && this.renderDateInner(MULTIPLERIGHT)}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nDateInner.defaultProps = {\r\n  startValue: null,\r\n  endValue: null,\r\n  inputWidth: 0,\r\n  offsetDays: 0,\r\n};\r\n\r\nDateInner.propTypes = {\r\n  isOpened: PropTypes.bool.isRequired,\r\n  isRange: PropTypes.bool.isRequired,\r\n  currDisplayDate: PropTypes.instanceOf(Date).isRequired,\r\n  startValue: PropTypes.instanceOf(Date),\r\n  endValue: PropTypes.instanceOf(Date),\r\n  dateRangeStart: PropTypes.instanceOf(Date).isRequired,\r\n  dateRangeEnd: PropTypes.instanceOf(Date).isRequired,\r\n  setSelectedDate: PropTypes.func.isRequired,\r\n  setNewDisplayDate: PropTypes.func.isRequired,\r\n  isArrowUp: PropTypes.bool.isRequired,\r\n  isSelectingStartDate: PropTypes.bool.isRequired,\r\n  inputWidth: PropTypes.number,\r\n  isResp: PropTypes.bool.isRequired,\r\n  offsetDays: PropTypes.number,\r\n};\r\n\r\nexport default DateInner;\r\n","/**\r\n * DatePickerV2.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport document from 'global/document';\r\nimport window from 'global/window';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { Input } from 'reactstrap';\r\nimport ReactDOM from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\n\r\nimport Arrow from 'assets/images/forms/arrow.svg';\r\nimport DateIn from 'assets/images/forms/dateIn.svg';\r\nimport DateOut from 'assets/images/forms/dateOut.svg';\r\n\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\nimport DateInner from './DateInner/DateInner';\r\n\r\nimport { deafultYearRange } from './DatePicker.constants';\r\n\r\nimport {\r\n  isDateEqual,\r\n  // storeStringToDate,\r\n  slashedStringDateToDate,\r\n  dateToString,\r\n  // dateToStoreString,\r\n} from '../../../lib/dateFunctions';\r\n\r\nimport '../DropDown/DropDown.scss';\r\nimport './DatePicker.scss';\r\n\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass DatePicker extends Component {\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {object} props Component props\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // size - Size of this control\r\n    // startDate - Start range of date\r\n    // endDate - End range of date\r\n    // currDisplayDate - Day to set current view in calender (Default to today)\r\n    const {\r\n      startDate,\r\n      endDate,\r\n      startValue,\r\n    } = this.props;\r\n\r\n    // Get current date\r\n    const date = startValue || new Date();\r\n    const year = date.getFullYear();\r\n    const month = date.getMonth();\r\n    // Get first and last day of the month to display\r\n    const firstDay = new Date(year, month, 1);\r\n    const lastDay = new Date(year, month + 1, 0);\r\n    // Get the calender range\r\n    const dateRangeStart = startDate != null ? startDate : new Date(year - deafultYearRange, month);\r\n    const dateRangeEnd = endDate != null ? endDate : new Date(year + deafultYearRange, month);\r\n\r\n    // isOpened - Whether dropdown is opened\r\n    // isError - Whether there is input error\r\n    // selectedString - The selected date string\r\n    // currDisplayDate - Current selected date in view\r\n    // currFirstDay - Current first day of the month in view\r\n    // currLastDay - Current last day of the month in view\r\n    // monthDropdownOpen - Whether month selector is opened\r\n    // yearDropdownOpen - Whether year selector is opened\r\n    // dateRangeStart - The actual calender start range\r\n    // dateRangeEnd - The actual calender end range\r\n    this.state = {\r\n      isOpened: false,\r\n      currDisplayDate: date,\r\n      currFirstDay: firstDay,\r\n      currLastDay: lastDay,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      isArrowUp: false,\r\n      startDateString: '',\r\n      endDateString: '',\r\n      isSelectingStartDate: true,\r\n      inputWidth: 0,\r\n      isResp: false,\r\n    };\r\n\r\n    this.handleSelectClick = this.handleSelectClick.bind(this);\r\n    this.handleClickOutside = this.handleClickOutside.bind(this);\r\n\r\n    this.handleKeyPress = this.handleKeyPress.bind(this);\r\n    this.handleExit = this.handleExit.bind(this);\r\n\r\n    this.setSelectedDate = this.setSelectedDate.bind(this);\r\n    this.setNewDisplayDate = this.setNewDisplayDate.bind(this);\r\n    this.onMovement = this.onMovement.bind(this);\r\n\r\n    this.renderInputs = this.renderInputs.bind(this);\r\n    this.renderInner = this.renderInner.bind(this);\r\n\r\n    this.dateValidateAndUpdate = this.dateValidateAndUpdate.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentDidMount\r\n   */\r\n  componentDidMount() {\r\n    // Add Handler to handle click outside of screen\r\n    document.addEventListener('mousedown', this.handleClickOutside);\r\n    window.addEventListener('scroll', this.onMovement);\r\n    window.addEventListener('resize', this.onMovement);\r\n\r\n    const {\r\n      startValue,\r\n      endValue,\r\n    } = this.props;\r\n\r\n    if (startValue) {\r\n      this.setSelectedDate(startValue, true);\r\n    }\r\n\r\n    if (endValue) {\r\n      this.setSelectedDate(endValue < startValue ? startValue : endValue, false);\r\n    }\r\n\r\n    this.setState({\r\n      dateInnerDOM: ReactDOM.findDOMNode(this.dateInner),\r\n      datePickerDOM: ReactDOM.findDOMNode(this.wrapperRef),\r\n    });\r\n\r\n    this.onMovement();\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentDidUpdate\r\n   *\r\n   * Used to update dropdown position\r\n   * of month and year selector\r\n   */\r\n  async componentDidUpdate(prevProps) {\r\n    const {\r\n      startValue,\r\n      endValue,\r\n    } = this.props;\r\n\r\n    if (\r\n      ((prevProps.startValue || startValue) && !isDateEqual(prevProps.startValue, startValue)) ||\r\n      ((prevProps.endValue || endValue) && !isDateEqual(prevProps.endValue, endValue))\r\n    ) {\r\n      const updateData = this.dateValidateAndUpdate();\r\n\r\n      this.setState({\r\n        startDateString: updateData.startDateString === 'Invalid Date' ? '' : updateData.startDateString,\r\n        endDateString: updateData.endDateString === 'Invalid Date' ? '' : updateData.endDateString,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentWillUnmount\r\n   */\r\n  componentWillUnmount() {\r\n    // Remove Handler to handle click outside of screen\r\n    document.removeEventListener('mousedown', this.handleClickOutside);\r\n    window.removeEventListener('scroll', this.onMovement);\r\n    window.removeEventListener('resize', this.onMovement);\r\n  }\r\n\r\n\r\n  // Make sure that the popup is always in the window\r\n  onMovement() {\r\n    const {\r\n      dateInnerDOM,\r\n      datePickerDOM,\r\n      isOpened,\r\n      isResp,\r\n    } = this.state;\r\n\r\n    const { innerWidth } = window;\r\n\r\n    if (isOpened) {\r\n      const newState = {};\r\n      let clientRect = null;\r\n      const currIsResp = innerWidth < 576;\r\n\r\n      if (dateInnerDOM && datePickerDOM) {\r\n        let top = 56;\r\n        let left = 0;\r\n        let right = 0;\r\n        if (!currIsResp) {\r\n          clientRect = datePickerDOM.getBoundingClientRect();\r\n          const isOverHeight = !currIsResp && clientRect.bottom + 540 > window.outerHeight;\r\n          newState.isArrowUp = !isOverHeight;\r\n\r\n          const isOverFlow = clientRect.left + 530 > window.innerWidth;\r\n          left = isOverFlow ? `${window.innerWidth - 530}px` : `${clientRect.left}px`;\r\n          top = !currIsResp && isOverHeight ? clientRect.top - 330 : clientRect.bottom + 10;\r\n          right = '';\r\n        }\r\n\r\n        dateInnerDOM.style.left = left;\r\n        dateInnerDOM.style.right = right;\r\n        dateInnerDOM.style.top = `${top}px`;\r\n        newState.inputWidth = this.wrapperRef.getBoundingClientRect().width;\r\n      }\r\n\r\n      if ((isResp && !currIsResp) || (!isResp && currIsResp)) {\r\n        newState.isResp = currIsResp;\r\n      }\r\n\r\n      this.setState(newState);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * setNewDisplayDate\r\n   *\r\n   * Set new current date and\r\n   * start and end of calender\r\n   *\r\n   * @param {date} date\r\n   */\r\n  setNewDisplayDate(date) {\r\n    const dateToUse = date || new Date();\r\n    const newYear = dateToUse.getFullYear();\r\n    const newMonth = dateToUse.getMonth();\r\n\r\n    // Get first and last day of visible month\r\n    const firstDay = new Date(newYear, newMonth, 1);\r\n    const lastDay = new Date(newYear, newMonth + 1, 0);\r\n\r\n    // Set new calender values\r\n    this.setState({\r\n      currDisplayDate: dateToUse,\r\n      currFirstDay: firstDay,\r\n      currLastDay: lastDay,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * setSelectedDate\r\n   *\r\n   * Updated selected date to store\r\n   *\r\n   * @param {date} date\r\n   */\r\n  async setSelectedDate(date, isStart = true) {\r\n    return new Promise(async (resolve) => {\r\n      try {\r\n        const updateData = this.dateValidateAndUpdate(isStart && date, !isStart && date);\r\n\r\n        if (updateData) {\r\n          if (isStart && updateData.currStartValue) {\r\n            this.setNewDisplayDate(updateData.currStartValue);\r\n          }\r\n        }\r\n\r\n        this.setState({\r\n          isOpened: !!(updateData && updateData.isChooseEndDate),\r\n          isSelectingStartDate: false,\r\n          startDateString: updateData.startDateString,\r\n          endDateString: updateData.endDateString,\r\n        }, resolve);\r\n      } catch (error) {\r\n        // eslint-disable-next-line\r\n        resolve();\r\n      }\r\n    });\r\n  }\r\n\r\n  getDateFromDateString(dateString) {\r\n    try {\r\n      let date = slashedStringDateToDate(dateString);\r\n      if (date && date.toString() === 'Invalid Date') {\r\n        date = moment(dateString).toDate();\r\n      }\r\n\r\n      return date;\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return 'Invalid Date';\r\n  }\r\n\r\n  /**\r\n   * End selection if click on outside\r\n   *\r\n   * @param {object} event\r\n   */\r\n  handleClickOutside(event) {\r\n    const { isOpened, dateInnerDOM } = this.state;\r\n\r\n    // If clicked outside of daterpicekr Inner or wrapper, go to exit\r\n    if (\r\n      isOpened &&\r\n      this.wrapperRef &&\r\n      !this.wrapperRef.contains(event.target) &&\r\n      dateInnerDOM &&\r\n      !dateInnerDOM.contains(event.target)\r\n    ) {\r\n      this.setState({\r\n        isOpened: false,\r\n      });\r\n\r\n      this.handleExit();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * handleKeyPress\r\n   *\r\n   * Handle on enter key\r\n   *\r\n   * @param {object} target\r\n   */\r\n  handleKeyPress(target) {\r\n    // If pressed on enter, go to exit\r\n    if (target.charCode === 13) {\r\n      target.preventDefault();\r\n      this.handleExit();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * handleSelectClick\r\n   *\r\n   * Handle toggling of datepicker\r\n   */\r\n  handleSelectClick(isStart = true) {\r\n    const {\r\n      isOpened,\r\n      isSelectingStartDate,\r\n    } = this.state;\r\n\r\n    const {\r\n      startValue,\r\n      endValue,\r\n      isRange,\r\n    } = this.props;\r\n\r\n    let openStartDateString = {};\r\n    let openEndDateString = {};\r\n\r\n    if (!isOpened) {\r\n      openStartDateString = { startDateString: startValue && dateToString(startValue) };\r\n      openEndDateString = { endDateString: endValue && dateToString(endValue) };\r\n    }\r\n\r\n    this.setState({\r\n      isOpened: ((isSelectingStartDate && !isStart) || (!isSelectingStartDate && isStart) || !isOpened),\r\n      isSelectingStartDate: isStart,\r\n      ...openStartDateString,\r\n      ...openEndDateString,\r\n    }, () => {\r\n      if (this.state.isOpened) {\r\n        this.onMovement();\r\n        this.setNewDisplayDate(this.state.isSelectingStartDate ? startValue : endValue);\r\n        return;\r\n      }\r\n\r\n      const {\r\n        startDateString: closeStartDateString,\r\n        endDateString: closeEndDateString,\r\n      } = this.state;\r\n\r\n      const startDate = this.getDateFromDateString(closeStartDateString);\r\n      const endDate = isRange && this.getDateFromDateString(closeEndDateString);\r\n\r\n      const updateData = this.dateValidateAndUpdate(startDate, endDate);\r\n\r\n      this.setState({\r\n        startDateString: updateData.startDateString,\r\n        endDateString: updateData.endDateString,\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * handleExit\r\n   *\r\n   * Handle exit selection of entered input\r\n   */\r\n  handleExit(newDate, isStart) {\r\n    const {\r\n      startDateString,\r\n      endDateString,\r\n    } = this.state;\r\n\r\n    const {\r\n      endName,\r\n    } = this.props;\r\n\r\n    let startDate = isStart && newDate;\r\n    let endDate = !isStart && endName && newDate;\r\n\r\n    try {\r\n      if (!startDate) {\r\n        startDate = this.getDateFromDateString(startDateString);\r\n      }\r\n      if (endName && !endDate) {\r\n        endDate = this.getDateFromDateString(endDateString);\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    const updateData = this.dateValidateAndUpdate(startDate, endDate);\r\n\r\n    if (updateData) {\r\n      this.setState({\r\n        isOpened: false,\r\n        isSelectingStartDate: false,\r\n        startDateString: updateData.startDateString,\r\n        endDateString: updateData.endDateString,\r\n      });\r\n    }\r\n  }\r\n\r\n  dateValidateAndUpdate(newStartValue = null, newEndValue = null) {\r\n    const { dateRangeStart, dateRangeEnd } = this.state;\r\n    const {\r\n      startValue,\r\n      endValue,\r\n      offsetDays,\r\n      isRange,\r\n      onChange,\r\n      name,\r\n      endName,\r\n    } = this.props;\r\n\r\n    // Whether need user to choose new end date\r\n    let isChooseEndDate = false;\r\n\r\n    // Check if inputs are invalid dates\r\n    const isNewStartInvalid = newStartValue && newStartValue.toString() === 'Invalid Date';\r\n    const isNewEndInvalid = newEndValue && newEndValue.toString() === 'Invalid Date';\r\n\r\n    // Get new or existing dates\r\n    const startValueToUse = isNewStartInvalid ? null : ((!isNewStartInvalid && newStartValue) || startValue);\r\n    const endValueToUse = isNewEndInvalid ? null : ((!isNewEndInvalid && newEndValue) || endValue);\r\n\r\n    // Dates to be modified later\r\n    let currStartValue = startValueToUse;\r\n    let currEndValue = endValueToUse;\r\n\r\n    // The date string for the input field\r\n    let startDateString = 'Invalid Date';\r\n    let endDateString = 'Invalid Date';\r\n\r\n    try {\r\n      // Choose end date if is range picker and have new start but no end value\r\n      isChooseEndDate = isRange && newStartValue && !endValue;\r\n\r\n      // For range only\r\n      if (isRange) {\r\n        // The max date is end range + 181 days\r\n        const trueMaxEnd = dateRangeEnd && moment(dateRangeEnd).add(offsetDays, 'days').toDate();\r\n        // Max curr date is current start date + 181\r\n        const currMaxEnd = startValueToUse && moment(startValueToUse).add(offsetDays, 'days').toDate();\r\n        // Get the smallest end date\r\n        const maxEnd = currMaxEnd < trueMaxEnd ? currMaxEnd : trueMaxEnd;\r\n\r\n        // If selected new start date is greater than end date,\r\n        // make end date to be 1 day after new start date\r\n        // and let user choose end date again\r\n        if (newStartValue && startValueToUse > endValueToUse) {\r\n          currEndValue = moment(startValueToUse).add(1, 'days').toDate();\r\n          isChooseEndDate = true;\r\n        }\r\n\r\n        // If selected new end date is less than start date,\r\n        // swap both dates\r\n        // and let user choose end date again\r\n        if (newEndValue && startValueToUse > endValueToUse) {\r\n          currStartValue = endValueToUse;\r\n          currEndValue = startValueToUse;\r\n          isChooseEndDate = true;\r\n        }\r\n\r\n        // If end date is less than start range, make it to start range\r\n        if (currEndValue && currEndValue < dateRangeStart) {\r\n          currEndValue = dateRangeStart;\r\n        }\r\n\r\n        // If start date is greater than end range, make it to end range\r\n        if (currStartValue && currStartValue > maxEnd) {\r\n          currStartValue = maxEnd;\r\n        }\r\n\r\n        // If end date is more than end range, make it to end range\r\n        if (currEndValue && currEndValue > maxEnd) {\r\n          currEndValue = maxEnd;\r\n        }\r\n\r\n        // if new end date is diff from state, update it\r\n        if (!isDateEqual(endValue, currEndValue)) {\r\n          onChange('date', endName, currEndValue);\r\n        }\r\n      }\r\n\r\n      // If start date is less than start range, make it to start range\r\n      if (currStartValue && currStartValue < dateRangeStart) {\r\n        currStartValue = dateRangeStart;\r\n      }\r\n\r\n      // If start date is greater than end range, make it to end range\r\n      // No need max end as start date need to be within end range\r\n      if (currStartValue && currStartValue > dateRangeEnd) {\r\n        currStartValue = dateRangeEnd;\r\n      }\r\n\r\n      // if new start date is diff from state, update it\r\n      if (!isDateEqual(startValue, currStartValue)) {\r\n        onChange('date', name, currStartValue);\r\n      }\r\n\r\n      // Get new input strings\r\n      startDateString = currStartValue ? moment(currStartValue).format('DD MMM YYYY') : startDateString;\r\n      endDateString = currEndValue ? moment(currEndValue).format('DD MMM YYYY') : startDateString;\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return {\r\n      isChooseEndDate,\r\n      currEndValue,\r\n      currStartValue,\r\n      startDateString,\r\n      endDateString,\r\n    };\r\n  }\r\n\r\n  renderDropDownArrow() {\r\n    const { isOpened } = this.state;\r\n\r\n    return (\r\n      <button\r\n        type=\"button\"\r\n        className=\"selected-arrow\"\r\n        onMouseDown={this.handleSelectClick}\r\n      >\r\n        <img\r\n          src={Arrow}\r\n          alt=\"arrow.svg\"\r\n          className={`selected-arrow-style ${isOpened ? 'angle-up' : 'angle-down'}`}\r\n        />\r\n      </button>\r\n    );\r\n  }\r\n\r\n  renderInputField(isStart) {\r\n    const {\r\n      startDateString,\r\n      endDateString,\r\n      isSelectingStartDate,\r\n      isOpened,\r\n    } = this.state;\r\n\r\n    const {\r\n      name,\r\n      endName,\r\n      isDisableTyping,\r\n      placeholderString,\r\n      noInternalDesc,\r\n      isRange,\r\n    } = this.props;\r\n\r\n    const rangeStyle = isRange ? 'range-style' : '';\r\n    let selectingDateStyle = '';\r\n    if (isOpened && isRange) {\r\n      selectingDateStyle = (isSelectingStartDate && isStart) || (!isSelectingStartDate && !isStart) ? 'faded-style' : '';\r\n    }\r\n\r\n    const displayValue = isStart ? startDateString : endDateString;\r\n    const nameToUse = isStart ? name : endName;\r\n\r\n    return (\r\n      <button\r\n        type=\"button\"\r\n        className={`selected-text text-style ${rangeStyle} ${selectingDateStyle}`}\r\n        onKeyPress={this.handleKeyPress}\r\n        onMouseDown={(e) => {\r\n          if (window.innerWidth <= 576) {\r\n            e.preventDefault();\r\n          }\r\n          this.handleSelectClick(isStart);\r\n        }}\r\n      >\r\n        <Input\r\n          value={displayValue || ''}\r\n          name={nameToUse}\r\n          onChange={e => this.setState({\r\n            [isStart ? 'startDateString' : 'endDateString']: e.target.value,\r\n          })}\r\n          placeholder={noInternalDesc ? placeholderString : ''}\r\n          autoComplete=\"off\"\r\n          disabled={isDisableTyping}\r\n        />\r\n      </button>\r\n    );\r\n  }\r\n\r\n  renderInputs() {\r\n    const {\r\n      isRange,\r\n    } = this.props;\r\n\r\n    if (!isRange) {\r\n      return (\r\n        <Fragment>\r\n          {this.renderInputField(true)}\r\n          {this.renderDropDownArrow()}\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        <div className=\"date-input-container\">\r\n          <div className=\"img-container\">\r\n            <img\r\n              className=\"date-in\"\r\n              src={DateIn}\r\n              alt=\"Date Range Icon\"\r\n            />\r\n          </div>\r\n          {this.renderInputField(true)}\r\n        </div>\r\n        <div className=\"seperator\" />\r\n        <div className=\"date-input-container\">\r\n          <div className=\"img-container\">\r\n            <img\r\n              className=\"date-out\"\r\n              src={DateOut}\r\n              alt=\"Date Range Icon\"\r\n            />\r\n          </div>\r\n          {this.renderInputField(false)}\r\n        </div>\r\n        {this.renderDropDownArrow()}\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderPopup() {\r\n    const {\r\n      isOpened,\r\n      currDisplayDate,\r\n      currFirstDay,\r\n      currLastDay,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      isArrowUp,\r\n      isSelectingStartDate,\r\n      inputWidth,\r\n      isResp,\r\n    } = this.state;\r\n\r\n    const {\r\n      isRange,\r\n      startValue,\r\n      endValue,\r\n      offsetDays,\r\n    } = this.props;\r\n\r\n\r\n    return (\r\n      <DateInner\r\n        ref={node => this.dateInner = node}\r\n        isOpened={!!isOpened}\r\n        isRange={isRange}\r\n        currDisplayDate={currDisplayDate}\r\n        currFirstDay={currFirstDay}\r\n        currLastDay={currLastDay}\r\n        startValue={startValue}\r\n        endValue={endValue}\r\n        dateRangeStart={dateRangeStart}\r\n        dateRangeEnd={dateRangeEnd}\r\n        setSelectedDate={this.setSelectedDate}\r\n        setNewDisplayDate={this.setNewDisplayDate}\r\n        isArrowUp={isArrowUp}\r\n        isSelectingStartDate={!!isSelectingStartDate}\r\n        inputWidth={inputWidth}\r\n        isResp={isResp}\r\n        offsetDays={offsetDays}\r\n      />\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Render component\r\n   */\r\n  renderInner() {\r\n    const { isOpened } = this.state;\r\n\r\n    const {\r\n      errorString,\r\n      placeholderString,\r\n      noInternalDesc,\r\n      startValue,\r\n    } = this.props;\r\n\r\n    const dropDownOpenStyle = isOpened ? 'dropdown-container-opened' : 'dropdown-container-closed';\r\n    const isErrorStyle = errorString ? 'error' : '';\r\n    const titleStyle = startValue ? 'focused-title' : '';\r\n    const noInternalDescStyle = noInternalDesc ? 'no-internal-desc' : '';\r\n\r\n    return (\r\n      <div\r\n        className={`dropdown-container-v3 datepicker-container-v3 ${noInternalDescStyle}`}\r\n        ref={node => (this.wrapperRef = node)}\r\n      >\r\n        <div className={`dropdown-container ${dropDownOpenStyle}  ${isErrorStyle}`}>\r\n          {\r\n            noInternalDesc ? null :\r\n            <div className={`title-header ${titleStyle}`}>\r\n              {placeholderString}\r\n            </div>\r\n          }\r\n          <div className=\"selected-container align-items-center\">\r\n            {this.renderInputs()}\r\n          </div>\r\n        </div>\r\n        {this.renderPopup()}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Render component\r\n   */\r\n  render() {\r\n    const {\r\n      isRange,\r\n      desc,\r\n      extraInfo,\r\n      errorString,\r\n    } = this.props;\r\n\r\n    // Range picker will take over the wrapper\r\n    if (!isRange) {\r\n      return (\r\n        <FormInputWrapper\r\n          desc={desc}\r\n          extraInfo={extraInfo}\r\n          errorString={errorString}\r\n        >\r\n          {this.renderInner()}\r\n        </FormInputWrapper>\r\n      );\r\n    }\r\n\r\n    return this.renderInner();\r\n  }\r\n}\r\n\r\nDatePicker.defaultProps = {\r\n  isRange: false,\r\n  startDate: null,\r\n  endDate: null,\r\n  desc: null,\r\n  extraInfo: null,\r\n  errorString: null,\r\n  noInternalDesc: false,\r\n  isDisableTyping: false,\r\n  endName: null,\r\n  placeholderString: null,\r\n  startValue: null,\r\n  endValue: null,\r\n  offsetDays: 0,\r\n};\r\n\r\nDatePicker.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  endName: PropTypes.string,\r\n  isRange: PropTypes.bool,\r\n  startDate: PropTypes.instanceOf(Date),\r\n  endDate: PropTypes.instanceOf(Date),\r\n  desc: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  errorString: PropTypes.string,\r\n  isDisableTyping: PropTypes.bool,\r\n  noInternalDesc: PropTypes.bool,\r\n  onChange: PropTypes.func.isRequired,\r\n  placeholderString: PropTypes.string,\r\n  startValue: PropTypes.instanceOf(Date),\r\n  endValue: PropTypes.instanceOf(Date),\r\n  offsetDays: PropTypes.number,\r\n};\r\n\r\nexport default DatePicker;\r\n","/**\r\n * DatePicker.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport DatePicker from '../DatePicker/DatePicker';\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass DateRangePicker extends Component {\r\n  render() {\r\n    const {\r\n      values,\r\n      onChange,\r\n      desc,\r\n      extraInfo,\r\n      startName,\r\n      endName,\r\n      startDate,\r\n      endDate,\r\n      errorStringStart,\r\n      errorStringEnd,\r\n      offsetDays,\r\n    } = this.props;\r\n\r\n    const errorString = (errorStringStart || errorStringEnd) && `${`${errorStringStart} ` || ''}${errorStringEnd || ''}`;\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        desc={desc}\r\n        extraInfo={extraInfo}\r\n        errorString={errorString}\r\n        isDateRange\r\n      >\r\n        <div className=\"date-range-picker-new\">\r\n          <DatePicker\r\n            startValue={values && values[startName] && values[startName].value}\r\n            endValue={values && values[endName] && values[endName].value}\r\n            onChange={onChange}\r\n            name={startName}\r\n            endName={endName}\r\n            isRange\r\n            startDate={startDate}\r\n            endDate={endDate}\r\n            errorString={errorString}\r\n            offsetDays={offsetDays}\r\n          />\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nDateRangePicker.defaultProps = {\r\n  desc: null,\r\n  extraInfo: null,\r\n  startDate: null,\r\n  endDate: null,\r\n  errorStringStart: null,\r\n  errorStringEnd: null,\r\n  values: null,\r\n  offsetDays: 0,\r\n};\r\n\r\nDateRangePicker.propTypes = {\r\n  onChange: PropTypes.func.isRequired,\r\n  startName: PropTypes.string.isRequired,\r\n  endName: PropTypes.string.isRequired,\r\n  desc: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  startDate: PropTypes.instanceOf(Date),\r\n  endDate: PropTypes.instanceOf(Date),\r\n  errorStringStart: PropTypes.string,\r\n  errorStringEnd: PropTypes.string,\r\n  values: PropTypes.object,\r\n  offsetDays: PropTypes.number,\r\n};\r\n\r\nexport default DateRangePicker;\r\n","/**\r\n * DropDown.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Tooltip from 'components/Templates/Tooltip/Tooltip';\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport './ImageSelection.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass ImageSelection extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      clickStyle: 'click-right',\r\n    };\r\n  }\r\n\r\n  handleOnClick(value) {\r\n    try {\r\n      const {\r\n        onChange,\r\n        name,\r\n        value: oldValue,\r\n        inputData,\r\n      } = this.props;\r\n\r\n      const newValue = inputData.is_required === false && value === oldValue ? null : value;\r\n      onChange(inputData.type, name, newValue);\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n  }\r\n\r\n  renderTitle() {\r\n    const { inputData } = this.props;\r\n\r\n    if (!inputData.title && !inputData.tooltip) {\r\n      return null;\r\n    }\r\n\r\n    try {\r\n      return (\r\n        <div className=\"title-container\">\r\n          <h3>{inputData.title}</h3>\r\n          {\r\n            inputData.tooltip &&\r\n            <Tooltip\r\n              id={inputData.slug}\r\n            >\r\n              <p>{inputData.tooltip}</p>\r\n            </Tooltip>\r\n          }\r\n        </div>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderItem(itemData, index, isTooltip) {\r\n    const { clickStyle } = this.state;\r\n    const { inputData, value } = this.props;\r\n\r\n    try {\r\n      const isSelected = (inputData.is_required && !value && index === 0) || (value && value === itemData.value);\r\n      const key = `${inputData.slug}-option-${index}`;\r\n\r\n      return (\r\n        <Col\r\n          key={key}\r\n          xs={6}\r\n          className=\"item-container-wrapper\"\r\n        >\r\n          <div className=\"item-container-wrapper-inner\">\r\n            <button\r\n              type=\"button\"\r\n              className={`item-container ${isSelected && 'selected'} ${clickStyle}`}\r\n              onClick={() => {\r\n                this.setState({\r\n                  clickStyle: index % 2 === 0 ? 'click-left' : 'click-right',\r\n                }, () => this.handleOnClick(itemData.value));\r\n              }}\r\n            >\r\n              <div className={`bg ${isSelected && 'bg-active'}`} />\r\n              <div className=\"image\">\r\n                <img src={itemData.icon_img} alt={`${key}.svg`} />\r\n              </div>\r\n            </button>\r\n            <div className=\"item-container-bottom\">\r\n              {\r\n                isTooltip &&\r\n                <div className=\"inner-tooltip\">\r\n                  {\r\n                    itemData.tooltip &&\r\n                    <Tooltip\r\n                      id={key}\r\n                    >\r\n                      <p>{itemData.tooltip}</p>\r\n                    </Tooltip>\r\n                  }\r\n                </div>\r\n              }\r\n              <div className={['desc', isTooltip ? 'desc-padding' : ''].join(' ')}>\r\n                <p>{itemData.title}</p>\r\n                <p className=\"sub-title\">{itemData.sub_title}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderOptions() {\r\n    const { inputData } = this.props;\r\n\r\n    try {\r\n      const isTooltip = _.find(inputData.options, option => option && option.tooltip);\r\n\r\n      return _.map(inputData.options, (option, index) => this.renderItem(option, index, isTooltip));\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const { inputData, errorString, extraInfo } = this.props;\r\n\r\n    if (!inputData) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        className=\"image-selection-margin\"\r\n        errorString={errorString}\r\n        extraInfo={extraInfo}\r\n      >\r\n        <div className=\"image-selection-container\">\r\n          {this.renderTitle()}\r\n          <Row className=\"options-container\" noGutters>\r\n            {this.renderOptions()}\r\n          </Row>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nImageSelection.defaultProps = {\r\n  value: null,\r\n  errorString: null,\r\n  extraInfo: null,\r\n};\r\n\r\n\r\nImageSelection.propTypes = {\r\n  value: PropTypes.string,\r\n  inputData: PropTypes.object.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  errorString: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n};\r\n\r\nexport default ImageSelection;\r\n","/**\r\n * DropDown.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Row, Col, Input } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './AgeGroupItem.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass AgeGroupItem extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleExit = this.handleExit.bind(this);\r\n  }\r\n\r\n  handleExit(e, isBlur) {\r\n    const { generateNewFormData } = this.props;\r\n\r\n    if (isBlur || (!isBlur && e.charCode === 13)) {\r\n      generateNewFormData();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      name,\r\n      value,\r\n      title,\r\n      onChangeValue,\r\n    } = this.props;\r\n\r\n    if (!name) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Col className=\"mb-3\" xs={12} md={6} lg={6}>\r\n        <div className=\"age-group-item-container\">\r\n          <p className=\"title\">{title}</p>\r\n          <Row className=\"selector\" noGutters>\r\n            <Col className=\"d-flex justify-content-center align-items-center\" xs={12}>\r\n              <Input\r\n                className=\"age-group-input\"\r\n                type=\"number\"\r\n                value={value || ''}\r\n                onChange={e => onChangeValue(name, e.target.value && Math.max(0, Math.floor(e.target.value)))}\r\n                onBlur={e => this.handleExit(e, true)}\r\n                onKeyPress={e => this.handleExit(e, false)}\r\n                placeholder=\"Enter number\"\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nAgeGroupItem.defaultProps = {\r\n  value: null,\r\n};\r\n\r\n\r\nAgeGroupItem.propTypes = {\r\n  value: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.number,\r\n  ]),\r\n  name: PropTypes.string.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  onChangeValue: PropTypes.func.isRequired,\r\n  generateNewFormData: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AgeGroupItem;\r\n","/**\r\n * DropDown.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport AgeGroupItem from './AgeGroupItem/AgeGroupItem';\r\n\r\nimport './AgeGroup.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass AgeGroup extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { inputData, value } = this.props;\r\n    let values = [];\r\n\r\n    try {\r\n      values = _.reduce(inputData.options, (result, v) => {\r\n        const originalData = _.find(value, vo => vo.value === v.value);\r\n\r\n        result.push({\r\n          key: v.value,\r\n          title: v.title,\r\n          value: (originalData && originalData.count) || null,\r\n        });\r\n        return result;\r\n      }, []);\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    this.state = {\r\n      values,\r\n      count: 0,\r\n    };\r\n\r\n    this.onChangeValue = this.onChangeValue.bind(this);\r\n\r\n    this.getTotalCount = this.getTotalCount.bind(this);\r\n    this.generateNewFormData = this.generateNewFormData.bind(this);\r\n  }\r\n\r\n  // Update form values on change\r\n  onChangeValue(key, value) {\r\n    const { values } = this.state;\r\n\r\n    try {\r\n      const newValue = [...values];\r\n      const group = _.find(newValue, v => v.key === key);\r\n\r\n      if (group) {\r\n        group.value = value;\r\n        this.setState({\r\n          values: newValue,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n  }\r\n\r\n  getTotalCount() {\r\n    const { values } = this.state;\r\n\r\n    try {\r\n      return _.reduce(values, (result, v) => {\r\n        if (v.value > 0) {\r\n          return result + v.value;\r\n        }\r\n\r\n        return result;\r\n      }, 0);\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return 0;\r\n  }\r\n\r\n  async generateNewFormData() {\r\n    const { values } = this.state;\r\n    const { onChange, name } = this.props;\r\n\r\n    try {\r\n      let count = 0;\r\n      const newData = _.reduce(values, (result, v) => {\r\n        if (v.value > 0) {\r\n          count += v.value;\r\n          result.push({\r\n            value: v.key,\r\n            count: v.value,\r\n          });\r\n        }\r\n\r\n        return result;\r\n      }, []);\r\n\r\n      this.setState({\r\n        count: this.getTotalCount(),\r\n      });\r\n\r\n      await onChange('age_group', name, newData);\r\n      await onChange('number', 'no_of_employees', count);\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return 0;\r\n  }\r\n\r\n  renderHeader() {\r\n    const { count } = this.state;\r\n    const { inputData } = this.props;\r\n\r\n    try {\r\n      return (\r\n        <Row className=\"title-container\" noGutters>\r\n          <Col className=\"d-none d-md-flex\" md={{ size: 4, order: 1 }} />\r\n          <Col md={{ size: 4, order: 2 }} xs={{ size: 12, order: 2 }}>\r\n            <h3>{inputData.title}</h3>\r\n          </Col>\r\n          <Col md={{ size: 4, order: 3 }} xs={{ size: 12, order: 4 }}>\r\n            <p className=\"employees\">{count} employees assigned</p>\r\n          </Col>\r\n          <Col md={{ size: 12, order: 4 }} xs={{ size: 12, order: 3 }}>\r\n            <h6>{'Employees age for upcoming birthday\\n(Current age + 1)'}</h6>\r\n          </Col>\r\n        </Row>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderAgeGroupItems() {\r\n    const { values } = this.state;\r\n    const { inputData } = this.props;\r\n\r\n    try {\r\n      return (_.reduce(values, (result, group, key) => {\r\n        result.push((\r\n          <AgeGroupItem\r\n            key={`age-group-${inputData.slug}-${key}`}\r\n            name={group.key}\r\n            value={group.value}\r\n            title={group.title}\r\n            onChangeValue={this.onChangeValue}\r\n            generateNewFormData={this.generateNewFormData}\r\n          />\r\n        ));\r\n\r\n        return result;\r\n      }, []));\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n  render() {\r\n    const { inputData, errorString, extraInfo } = this.props;\r\n\r\n    if (!inputData) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        errorString={errorString}\r\n        className=\"age-group-margin\"\r\n        extraInfo={extraInfo}\r\n      >\r\n        <div className=\"age-group-container\">\r\n          {this.renderHeader()}\r\n          <Row className=\"options-container\">\r\n            {this.renderAgeGroupItems()}\r\n          </Row>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nAgeGroup.defaultProps = {\r\n  value: null,\r\n  errorString: null,\r\n  extraInfo: null,\r\n};\r\n\r\n\r\nAgeGroup.propTypes = {\r\n  value: PropTypes.array,\r\n  inputData: PropTypes.object.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  errorString: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n};\r\n\r\nexport default AgeGroup;\r\n","/**\r\n * DropDown.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport document from 'global/document';\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport People from 'assets/images/EditForm/People.svg';\r\nimport Arrow from '../../../assets/images/forms/arrow.svg';\r\n\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport './Persons.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass Persons extends Component {\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {object} props Component props\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // isOpened - Whether dropdown is opened\r\n    // listItems - The actual dropdown list\r\n    // selectedString - The selected item string\r\n    // height - Control height\r\n    // numItemsDisplay - How many items to display\r\n    // maxheight - Max height of the list\r\n    // listHeight - Height of the list. (Items count + control)\r\n    this.state = {\r\n      isOpened: null,\r\n    };\r\n\r\n    this.setError = this.setError.bind(this);\r\n    this.clearError = this.clearError.bind(this);\r\n    this.handleSelectClick = this.handleSelectClick.bind(this);\r\n    this.handleClickOutside = this.handleClickOutside.bind(this);\r\n\r\n    this.handleValue = this.handleValue.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Add Handler to handle click outside of screen\r\n    document.addEventListener('mousedown', this.handleClickOutside);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('mousedown', this.handleClickOutside);\r\n  }\r\n\r\n  setError(message) {\r\n    this.formParent.setErrorString(message);\r\n  }\r\n\r\n  clearError() {\r\n    this.formParent.clearErrorString();\r\n  }\r\n\r\n  /**\r\n   * End selection if click on outside\r\n   *\r\n   * @param {object} event\r\n   */\r\n  handleClickOutside(event) {\r\n    const { isOpened } = this.state;\r\n\r\n    // If clicked outside, go to exit\r\n    if (\r\n      isOpened &&\r\n      this.wrapperRef &&\r\n      this.wrapperRefControl &&\r\n      (!this.wrapperRef.contains(event.target) && !this.wrapperRefControl.contains(event.target))\r\n    ) {\r\n      // Close it\r\n      this.setState({\r\n        isOpened: false,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSelectClick() {\r\n    const { isOpened } = this.state;\r\n    this.setState({ isOpened: !isOpened });\r\n  }\r\n\r\n  async handleValue(event, name, isAdd) {\r\n    event.preventDefault();\r\n    const {\r\n      nameAdult,\r\n      nameChildren,\r\n      namePlanType,\r\n      nameTripType,\r\n      values,\r\n      onChange,\r\n    } = this.props;\r\n\r\n    const oldNumAdult = (values[nameAdult] && values[nameAdult].value) || 0;\r\n    const oldNumChildren = (values[nameChildren] && values[nameChildren].value) || 0;\r\n\r\n    let numAdult = oldNumAdult;\r\n    let numChildren = oldNumChildren;\r\n    const isSingleTrip = values[nameTripType] && values[nameTripType].value === 'Single Trip';\r\n\r\n    const minAdult = 1;\r\n    const maxAdult = isSingleTrip ? 20 : 2;\r\n    const minChildren = 0;\r\n    const maxChildren = 8;\r\n\r\n    if (name === nameAdult) {\r\n      numAdult = Math.min(Math.max(minAdult, numAdult + (isAdd ? 1 : -1)), maxAdult);\r\n    } else {\r\n      numChildren = Math.min(Math.max(minChildren, numChildren + (isAdd ? 1 : -1)), maxChildren);\r\n    }\r\n\r\n    if (numChildren > 0) {\r\n      numAdult = Math.min(Math.max(1, numAdult), 2);\r\n    }\r\n\r\n    if (oldNumAdult !== numAdult) {\r\n      await onChange('number', nameAdult, numAdult);\r\n    }\r\n    if (oldNumChildren !== numChildren) {\r\n      await onChange('number', nameChildren, numChildren);\r\n    }\r\n\r\n    const planType = values && values[namePlanType] && values[namePlanType].value;\r\n\r\n    if (numChildren > 0) {\r\n      if (planType !== 'Family') {\r\n        await onChange('text', namePlanType, 'Family');\r\n      }\r\n    } else if (numAdult > 1) {\r\n      if (planType !== 'Group') {\r\n        await onChange('text', namePlanType, 'Group');\r\n      }\r\n    } else if (planType !== 'Individual') {\r\n      await onChange('text', namePlanType, 'Individual');\r\n    }\r\n\r\n    const tripType = values && values[nameTripType] && values[nameTripType].value;\r\n    if (numAdult > 1 && numChildren === 0) {\r\n      if (tripType !== 'Single Trip') {\r\n        await onChange('selection', nameTripType, 'Single Trip');\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { isOpened } = this.state;\r\n\r\n    const {\r\n      desc,\r\n      extraInfo,\r\n      errorString,\r\n      nameAdult,\r\n      nameChildren,\r\n      values,\r\n      isPrex,\r\n    } = this.props;\r\n\r\n    const errorStyle = errorString ? 'error' : '';\r\n    const arrowStyle = isOpened ? 'angle-up' : 'angle-down';\r\n    let openedStyle = isOpened ? 'drop-container-opened' : 'drop-container-closed';\r\n    openedStyle = isOpened === null ? 'drop-container-closed-init' : openedStyle;\r\n\r\n    const numAdult = (values[nameAdult] && values[nameAdult].value) || 0;\r\n    const numChildren = (values[nameChildren] && values[nameChildren].value) || 0;\r\n\r\n    const zIndexStyle = isOpened ? 'drop-open' : 'drop-close';\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        desc={desc}\r\n        extraInfo={extraInfo}\r\n        errorString={errorString}\r\n      >\r\n        <div className=\"position-relative\">\r\n          <div\r\n            className={`persons-container ${errorStyle} ${zIndexStyle}`}\r\n            ref={node => this.wrapperRefControl = node}\r\n          >\r\n            <div className=\"img-container\">\r\n              <img\r\n                src={People}\r\n                alt=\"People.svg\"\r\n              />\r\n            </div>\r\n            <div\r\n              className=\"text-input\"\r\n              onClick={() => this.handleSelectClick()}\r\n              onKeyPress={() => {}}\r\n              role=\"button\"\r\n              tabIndex={-1}\r\n            >\r\n              <p>{numAdult} adult, {numChildren} children</p>\r\n            </div>\r\n            <div\r\n              className=\"drop-arrow\"\r\n              onClick={() => this.handleSelectClick()}\r\n              onKeyPress={() => {}}\r\n              role=\"button\"\r\n              tabIndex={-1}\r\n            >\r\n              <img\r\n                src={Arrow}\r\n                alt=\"arrow.svg\"\r\n                className={arrowStyle}\r\n              />\r\n            </div>\r\n            <div\r\n              className={`drop-container ${openedStyle}`}\r\n              ref={node => this.wrapperRef = node}\r\n            >\r\n              <div className=\"value-container\">\r\n                <button onClick={e => this.handleValue(e, nameAdult, false)}><div className=\"minus fa fa-minus\" /></button>\r\n                <p>\r\n                  <span className=\"count\">{numAdult}</span>\r\n                  <span className=\"desc\">adults</span>\r\n                </p>\r\n                <button onClick={e => this.handleValue(e, nameAdult, true)}><div className=\"plus fa fa-plus\" /></button>\r\n              </div>\r\n              <div className=\"value-container\">\r\n                {!isPrex && <button onClick={e => this.handleValue(e, nameChildren, false)}><div className=\"minus fa fa-minus\" /></button>}\r\n                <p>\r\n                  <span className=\"count\">{numChildren}</span>\r\n                  <span className=\"desc\">children</span>\r\n                </p>\r\n                {!isPrex && <button onClick={e => this.handleValue(e, nameChildren, true)}><div className=\"plus fa fa-plus\" /></button>}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nPersons.defaultProps = {\r\n  desc: null,\r\n  extraInfo: null,\r\n  errorString: null,\r\n  values: {},\r\n  isPrex: false,\r\n};\r\n\r\n\r\nPersons.propTypes = {\r\n  desc: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  errorString: PropTypes.string,\r\n  nameAdult: PropTypes.string.isRequired,\r\n  nameChildren: PropTypes.string.isRequired,\r\n  namePlanType: PropTypes.string.isRequired,\r\n  nameTripType: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  values: PropTypes.object,\r\n  isPrex: PropTypes.bool,\r\n};\r\n\r\nexport default Persons;\r\n","/**\r\n * DropDown.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Row, Col } from 'reactstrap';\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport './Selection.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass Selection extends Component {\r\n  render() {\r\n    const {\r\n      name,\r\n      desc,\r\n      extraInfo,\r\n      errorString,\r\n      options,\r\n      onChange,\r\n      value,\r\n      size,\r\n    } = this.props;\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        desc={desc}\r\n        extraInfo={extraInfo}\r\n        errorString={errorString}\r\n      >\r\n        <div className=\"position-relative\">\r\n          <Row\r\n            className=\"selection-container-v3 w-100\"\r\n            noGutters\r\n          >\r\n            {\r\n              _.map(options, (option, index) => {\r\n                const selectedStyle = value === option.value ? 'selected' : '';\r\n\r\n                return (\r\n                  <Col\r\n                    xs={12}\r\n                    sm={size}\r\n                    key={`${option.value}-${index}`}\r\n                  >\r\n                    <button\r\n                      type=\"button\"\r\n                      className={selectedStyle}\r\n                      onClick={() => onChange('selection', name, option.value)}\r\n                    >\r\n                      {option.display_name}\r\n                    </button>\r\n                  </Col>\r\n                );\r\n              })\r\n            }\r\n          </Row>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nSelection.defaultProps = {\r\n  value: null,\r\n  desc: null,\r\n  extraInfo: null,\r\n  errorString: null,\r\n  size: 6,\r\n};\r\n\r\n\r\nSelection.propTypes = {\r\n  value: PropTypes.string,\r\n  name: PropTypes.string.isRequired,\r\n  desc: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  errorString: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  options: PropTypes.array.isRequired,\r\n  size: PropTypes.number,\r\n};\r\n\r\nexport default Selection;\r\n","/**\r\n * TravelDetail.js\r\n * Detail View for travel\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport window from 'global/window';\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport TextInput from './TextInput/TextInput';\r\nimport Dropdown from './DropDown/DropDown';\r\nimport Checkbox from './Checkbox/Checkbox';\r\nimport DatePicker from './DatePicker/DatePicker';\r\nimport DateRangePicker from './DateRangePicker/DateRangePicker';\r\nimport ImageSelection from './ImageSelection/ImageSelection';\r\nimport AgeGroup from './AgeGroupV2/AgeGroup';\r\nimport Persons from './Persons/Persons';\r\nimport Selection from './SelectionNew/Selection';\r\n\r\nclass FieldGenerator extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      options: null,\r\n    };\r\n\r\n    this.getOptions = this.getOptions.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getOptions();\r\n    this.doPrefill();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    this.getOptions(prevProps);\r\n    this.doPrefill(prevProps.errors);\r\n  }\r\n\r\n  getOptions(prevProps) {\r\n    try {\r\n      const { options } = this.state;\r\n      const { constants, fieldData } = this.props;\r\n      if (fieldData && fieldData.options_constant_key &&\r\n        (!prevProps || !options || (fieldData.options_constant_key !== prevProps.fieldData.options_constant_key))) {\r\n        this.setState({\r\n          options: _.map(constants[fieldData.options_constant_key], v => ({ display_name: v, value: v })),\r\n        });\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  doPrefill(prevErrors) {\r\n    const {\r\n      values,\r\n      onChangeValue,\r\n      fieldData,\r\n      errors,\r\n    } = this.props;\r\n\r\n    try {\r\n      const name = fieldData && fieldData.slug;\r\n      if (values && values[name]) {\r\n        // Set field type to values if contains prefill data\r\n        if (!values[name].type) {\r\n          onChangeValue(fieldData.type, name, values[name].value);\r\n        }\r\n      }\r\n\r\n      // Set default selection for image selection\r\n      if (\r\n        fieldData.type === 'image_selection' &&\r\n        (fieldData.is_required !== false) &&\r\n        !values[name]\r\n      ) {\r\n        onChangeValue(fieldData.type, name, fieldData.options[0].value);\r\n      }\r\n\r\n      const error = errors && errors[name];\r\n      const prevError = prevErrors && prevErrors[name];\r\n\r\n      if (error && !prevError && this.node) {\r\n        // window.scrollTo(0, this.node.getBoundingClientRect().y);\r\n        window.scrollTo({\r\n          top: this.node.getBoundingClientRect().y,\r\n          left: 0,\r\n          behavior: 'smooth',\r\n        });\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n  }\r\n\r\n  renderInput() {\r\n    const { options } = this.state;\r\n\r\n    const {\r\n      fieldData,\r\n      values,\r\n      onChangeValue,\r\n      errors,\r\n      noInternalDesc,\r\n      extraInfo,\r\n      handlePostCode,\r\n      isPrex,\r\n    } = this.props;\r\n\r\n    const name = fieldData && fieldData.slug;\r\n    const value = values && values[name] && values[name].value;\r\n    const error = errors && errors[name];\r\n\r\n    if (fieldData) {\r\n      if (fieldData.type === 'padding') {\r\n        return null;\r\n      }\r\n\r\n      const { conditions } = fieldData;\r\n\r\n      let isRenderable = true;\r\n      try {\r\n        _.each(conditions || [], (condition, index) => {\r\n          const isValid = values[condition.key].value === condition.value;\r\n          if (index === 0) {\r\n            isRenderable = isValid;\r\n          } else {\r\n            isRenderable = condition.type === 'or' ? isValid || isRenderable : isValid && isRenderable;\r\n          }\r\n        });\r\n      } catch (e) {\r\n        isRenderable = false;\r\n      }\r\n\r\n      if (!isRenderable) {\r\n        return null;\r\n      }\r\n\r\n      switch (fieldData.type) {\r\n        case 'email':\r\n        case 'number':\r\n        case 'time':\r\n        case 'text':\r\n        case 'textarea':\r\n        case 'password':\r\n        case 'postal': {\r\n          return (\r\n            <TextInput\r\n              type={fieldData.type}\r\n              value={value}\r\n              onChange={onChangeValue}\r\n              name={name}\r\n              errorString={error}\r\n              readOnly={fieldData.readOnly}\r\n              placeholderString={fieldData.title}\r\n              noInternalDesc={noInternalDesc}\r\n              extraInfo={extraInfo}\r\n              desc={fieldData.display_name}\r\n              handlePostCode={handlePostCode}\r\n            />\r\n          );\r\n        }\r\n        case 'select':\r\n        case 'multiple_select': {\r\n          return (\r\n            <Dropdown\r\n              isMultiple={fieldData.type === 'multiple_select'}\r\n              value={value}\r\n              onChange={onChangeValue}\r\n              name={name}\r\n              errorString={error}\r\n              placeholderString={fieldData.title}\r\n              dropList={fieldData.options || options}\r\n              noInternalDesc={noInternalDesc}\r\n              extraInfo={extraInfo}\r\n              desc={fieldData.display_name}\r\n            />\r\n          );\r\n        }\r\n        case 'checkbox': {\r\n          return (\r\n            <Checkbox\r\n              value={value}\r\n              name={name}\r\n              desc={fieldData.title}\r\n              onChange={onChangeValue}\r\n              errorString={error}\r\n              extraInfo={extraInfo}\r\n            />\r\n          );\r\n        }\r\n        case 'image_selection': {\r\n          return (\r\n            <ImageSelection\r\n              value={value}\r\n              onChange={onChangeValue}\r\n              name={name}\r\n              inputData={fieldData}\r\n              errorString={error}\r\n              extraInfo={extraInfo}\r\n              desc={fieldData.display_name}\r\n            />\r\n          );\r\n        }\r\n        case 'age_group': {\r\n          return (\r\n            <AgeGroup\r\n              inputData={fieldData}\r\n              value={value}\r\n              onChange={onChangeValue}\r\n              name={name}\r\n              errorString={error}\r\n              extraInfo={extraInfo}\r\n              desc={fieldData.display_name}\r\n            />\r\n          );\r\n        }\r\n        case 'date_range': {\r\n          let startName = 'start_date';\r\n          let endName = 'end_date';\r\n\r\n          try {\r\n            startName = fieldData.slugs && fieldData.slugs[0];\r\n            endName = fieldData.slugs && fieldData.slugs[1];\r\n          } catch (err) {\r\n            // eslint-disable-next-line\r\n          }\r\n\r\n          return (\r\n            <DateRangePicker\r\n              values={values}\r\n              onChange={onChangeValue}\r\n              startName={startName}\r\n              endName={endName}\r\n              errorString={errors}\r\n              startDate={fieldData.min_date}\r\n              endDate={fieldData.max_date}\r\n              errorStringStart={errors && errors[startName]}\r\n              errorStringEnd={errors && errors[endName]}\r\n              extraInfo={extraInfo}\r\n              noInternalDesc={noInternalDesc}\r\n              // desc={fieldData.display_name}\r\n              offsetDays={fieldData.offset_days}\r\n            />\r\n          );\r\n        }\r\n        case 'date': {\r\n          return (\r\n            <DatePicker\r\n              desc={fieldData.display_name}\r\n              startValue={value}\r\n              onChange={onChangeValue}\r\n              name={name}\r\n              placeholderString={fieldData.title}\r\n              errorString={error}\r\n              noInternalDesc={noInternalDesc}\r\n              extraInfo={extraInfo}\r\n              startDate={fieldData.min_date}\r\n              endDate={fieldData.max_date}\r\n            />\r\n          );\r\n        }\r\n        case 'persons': {\r\n          return (\r\n            <Persons\r\n              desc={fieldData.desc}\r\n              values={values}\r\n              onChange={onChangeValue}\r\n              nameAdult=\"num_adult\"\r\n              nameChildren=\"num_children\"\r\n              namePlanType=\"plan_type\"\r\n              nameTripType=\"trip_type\"\r\n              errorString={error}\r\n              extraInfo={extraInfo}\r\n              isPrex={isPrex}\r\n            />\r\n          );\r\n        }\r\n        case 'button_select':\r\n        case 'selection': {\r\n          return (\r\n            <Selection\r\n              desc={fieldData.display_name}\r\n              value={value}\r\n              onChange={onChangeValue}\r\n              name={name}\r\n              options={fieldData.options}\r\n              errorString={error}\r\n              extraInfo={extraInfo}\r\n              size={fieldData.tab_size}\r\n            />\r\n          );\r\n        }\r\n        default: return null;\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const { fieldData } = this.props;\r\n\r\n    if (!fieldData) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Col xs={12} sm={fieldData.size || 12}>\r\n        <div ref={node => this.node = node}>\r\n          {this.renderInput()}\r\n        </div>\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nFieldGenerator.defaultProps = {\r\n  values: {},\r\n  errors: {},\r\n  noInternalDesc: false,\r\n  extraInfo: null,\r\n  constants: null,\r\n  handlePostCode: null,\r\n  isPrex: false,\r\n};\r\n\r\nFieldGenerator.propTypes = {\r\n  values: PropTypes.object,\r\n  errors: PropTypes.object,\r\n  onChangeValue: PropTypes.func.isRequired,\r\n  fieldData: PropTypes.object.isRequired,\r\n  noInternalDesc: PropTypes.bool,\r\n  extraInfo: PropTypes.object,\r\n  constants: PropTypes.object,\r\n  handlePostCode: PropTypes.func,\r\n  isPrex: PropTypes.bool,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  constants: state.insurance.constants,\r\n});\r\n\r\nexport default connect(mapStateToProps)(FieldGenerator);\r\n","/**\r\n * SpeechScroll.js\r\n * The hovering dropdown that appears in the navbar and\r\n * the multi compare view insurer's row.\r\n *\r\n * It will auto close when out of the box.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Tooltip as TooltipStrap } from 'reactstrap';\r\n\r\nimport TooltipImg from 'assets/images/common/tooltip.svg';\r\n\r\nimport './Tooltip.scss';\r\n\r\nclass Tooltip extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isOpen: false,\r\n    };\r\n\r\n    this.toggle = this.toggle.bind(this);\r\n  }\r\n\r\n  toggle() {\r\n\r\n  }\r\n\r\n  render() {\r\n    const { isOpen } = this.state;\r\n    const { id, innerClassName } = this.props;\r\n\r\n    return (\r\n      <div className=\"tooltip-container \">\r\n        <TooltipStrap\r\n          target={id}\r\n          isOpen={isOpen}\r\n          toggle={() => this.setState({ isOpen: false })}\r\n          className=\"animated fade\"\r\n          innerClassName={[innerClassName, 'tooltip-inner-custom'].join(' ')}\r\n          arrowClassName=\"tooltip-arrow-custom\"\r\n          placement=\"bottom-end\"\r\n        >\r\n          {this.props.children}\r\n        </TooltipStrap>\r\n        <img\r\n          id={id}\r\n          src={TooltipImg}\r\n          alt=\"Tooltip.svg\"\r\n          onMouseEnter={() => this.setState({ isOpen: true })}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTooltip.defaultProps = {\r\n  innerClassName: '',\r\n};\r\n\r\nTooltip.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  innerClassName: PropTypes.string,\r\n};\r\n\r\nexport default Tooltip;\r\n","module.exports = __webpack_public_path__ + \"static/media/triangle.64c3289a.svg\";","module.exports = __webpack_public_path__ + \"static/media/tooltip.d8150eb9.svg\";","/**\r\n * LoadingScreen.js\r\n * Loading screen for anywhere use\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport styled, { keyframes } from 'styled-components';\r\n\r\nimport Logos from 'assets/images/InsurerLogos';\r\nimport './LoadingScreenV2.scss';\r\n\r\nclass LogoSlider extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const logos = _.map(Logos.small, logo => logo);\r\n    const keyFrameLogo = keyframes`\r\n      0%    { transform: translateX(0); }\r\n      100%  { transform: translateX(calc(-84px * ${logos.length})); }\r\n    `;\r\n\r\n    const AnimatedContainer = styled.div`\r\n      animation: ${keyFrameLogo} 5s linear infinite;\r\n    `;\r\n\r\n    this.state = {\r\n      logos: _.map(Logos.small, logo => logo),\r\n      AnimatedContainer,\r\n    };\r\n\r\n    this.renderLogos = this.renderLogos.bind(this);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval);\r\n  }\r\n\r\n  renderLogos(key) {\r\n    const { logos } = this.state;\r\n    return _.map(logos, (logo, index) => (\r\n      <img key={`loading-icon-${key}-${index}`} src={logo} alt={`loading-icon-${index}.svg`} />\r\n    ));\r\n  }\r\n\r\n  render() {\r\n    const { AnimatedContainer } = this.state;\r\n\r\n    return (\r\n      <AnimatedContainer\r\n        className=\"logo-container\"\r\n      >\r\n        {this.renderLogos(0)}\r\n        {this.renderLogos(1)}\r\n      </AnimatedContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LogoSlider;\r\n","/**\r\n * LoadingScreen.js\r\n * Loading screen for anywhere use\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ModalPopup from 'components/Templates/ModalPopup/ModalPopup';\r\nimport SpinnerAnimation from 'components/Templates/SpinnerAnimation/SpinnerAnimation';\r\nimport Button from 'components/FormsV3/Button/Button';\r\n\r\nimport LogoSlider from './LogoSlider';\r\n\r\nimport './LoadingScreenV2.scss';\r\n\r\nconst timeOutTimer = 30000;\r\n\r\nclass LoadingScreenV2 extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      overwriteShowWarning: false,\r\n    };\r\n\r\n    this.closeLoading = this.closeLoading.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handleChange();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { isLoading } = this.props;\r\n\r\n    if (isLoading !== prevProps.isLoading) {\r\n      this.handleChange();\r\n    }\r\n  }\r\n\r\n  handleChange() {\r\n    const { isLoading } = this.props;\r\n    if (isLoading) {\r\n      this.timer = setTimeout(() => this.setState({ overwriteShowWarning: true }), timeOutTimer);\r\n    }\r\n\r\n    if (!isLoading) {\r\n      clearTimeout(this.timer);\r\n      this.setState({ overwriteShowWarning: false });\r\n    }\r\n  }\r\n\r\n  async closeLoading() {\r\n    const {\r\n      showLoadingError,\r\n      showLoading,\r\n      errorCallback,\r\n    } = this.props;\r\n\r\n    this.setState({ overwriteShowWarning: false }, async () => {\r\n      await showLoadingError(false);\r\n      showLoading(false);\r\n\r\n      if (errorCallback) {\r\n        errorCallback();\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { overwriteShowWarning } = this.state;\r\n    const {\r\n      isLoading,\r\n      isLoadingError,\r\n      message,\r\n      noLogos,\r\n    } = this.props;\r\n\r\n    const loadingStyle = isLoading ? 'loading-screen-active' : '';\r\n\r\n    return (\r\n      <Fragment>\r\n        <div\r\n          className={`loading-screen-v2 ${loadingStyle}`}\r\n        >\r\n          {\r\n            isLoading ?\r\n              <Fragment>\r\n                <SpinnerAnimation />\r\n                {\r\n                  !noLogos &&\r\n                  <div className=\"bottom-container\">\r\n                    <p>Searching from esteemed partners...</p>\r\n                    <LogoSlider />\r\n                  </div>\r\n                }\r\n              </Fragment>\r\n            : null\r\n          }\r\n        </div>\r\n        <ModalPopup\r\n          showModal={overwriteShowWarning || isLoadingError}\r\n          closeModal={this.closeLoading}\r\n          className=\"loading-modal\"\r\n          backdropClassName=\"blue-modal-backdrop\"\r\n          header={<p>An error has occured</p>}\r\n          body={message}\r\n          zIndex={1052}\r\n          footer={\r\n            <Button\r\n              variant=\"medium-flat-green\"\r\n              height={48}\r\n              width={162}\r\n              onClick={this.closeLoading}\r\n            >\r\n              <p>Close</p>\r\n            </Button>\r\n          }\r\n        />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nLoadingScreenV2.defaultProps = {\r\n  noLogos: false,\r\n  errorCallback: null,\r\n};\r\n\r\nLoadingScreenV2.propTypes = {\r\n  isLoading: PropTypes.bool.isRequired,\r\n  isLoadingError: PropTypes.bool.isRequired,\r\n  message: PropTypes.object.isRequired,\r\n  showLoading: PropTypes.func.isRequired,\r\n  showLoadingError: PropTypes.func.isRequired,\r\n  noLogos: PropTypes.bool,\r\n  errorCallback: PropTypes.func,\r\n};\r\n\r\nexport default LoadingScreenV2;\r\n","/**\r\n * PromoCode.js\r\n * PromoCode field that takes in a callback\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Input } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport '../TextInput/TextInput.scss';\r\nimport './PromoCode.scss';\r\n\r\nconst defaultHeight = 48;\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass PromoCode extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const { value } = nextProps;\r\n    const { oldValue } = prevState;\r\n\r\n    if (value !== oldValue) {\r\n      return {\r\n        value,\r\n        oldValue: value,\r\n      };\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { value } = this.props;\r\n\r\n    this.state = {\r\n      value,\r\n      oldValue: value,\r\n      errorString: null,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.isComMounted = true;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.isComMounted = false;\r\n  }\r\n\r\n  render() {\r\n    const { value, errorString, oldValue } = this.state;\r\n    const { value: propsValue } = this.props;\r\n\r\n    const {\r\n      name,\r\n      placeholderString,\r\n      extraInfo,\r\n      postCheckout,\r\n    } = this.props;\r\n\r\n    const buttonText = propsValue ? 'Remove' : 'Apply';\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        extraInfo={extraInfo}\r\n        errorString={errorString}\r\n      >\r\n        <div\r\n          className=\"text-input-container-v3 promo-container-v3\"\r\n          style={{ height: defaultHeight }}\r\n        >\r\n          <div className=\"text-input \">\r\n            <Input\r\n              className=\"text\"\r\n              placeholder={placeholderString}\r\n              name={name}\r\n              disabled={propsValue}\r\n              value={value || ''}\r\n              onChange={e => this.setState({ value: e.target.value })}\r\n            />\r\n            <div className=\"promo-button\">\r\n              <Button\r\n                variant=\"medium-outline-edit\"\r\n                height={32}\r\n                width={88}\r\n                onClick={async () => {\r\n                  try {\r\n                    if (propsValue) {\r\n                      await postCheckout(null);\r\n\r\n                      if (this.isComMounted) {\r\n                        this.setState({\r\n                          errorString: null,\r\n                        });\r\n                      }\r\n                      return;\r\n                    }\r\n\r\n                    if (value) {\r\n                      const result = await postCheckout(value);\r\n                      if (this.isComMounted) {\r\n                        // Promo code will not be set\r\n                        if (!result) {\r\n                          this.setState({\r\n                            errorString: 'Invalid promo code!',\r\n                            value: oldValue,\r\n                          });\r\n                        } else {\r\n                          this.setState({\r\n                            errorString: null,\r\n                          });\r\n                        }\r\n                      }\r\n                    }\r\n                  } catch (error) {\r\n                    // eslint-disable-next-line\r\n                  }\r\n                }}\r\n              >\r\n                <p>{buttonText}</p>\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nPromoCode.defaultProps = {\r\n  extraInfo: null,\r\n  value: '',\r\n};\r\n\r\n\r\nPromoCode.propTypes = {\r\n  placeholderString: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  postCheckout: PropTypes.func.isRequired,\r\n  extraInfo: PropTypes.object,\r\n  value: PropTypes.string,\r\n};\r\n\r\nexport default PromoCode;\r\n","// @flow\r\nimport $ from 'jquery';\r\nimport document from 'global/document';\r\nimport window from 'global/window';\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport LoadingScreenV2 from 'components/Templates/LoadingScreenV2/LoadingScreenV2';\r\n\r\nclass StripePayment extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      currMarkup: null,\r\n      extraData: null,\r\n      isLoading: false,\r\n      isLoadingError: false,\r\n    };\r\n\r\n    this.cleanCheckoutButtonContainer = this.cleanCheckoutButtonContainer.bind(this);\r\n    this.setNewMarkup = this.setNewMarkup.bind(this);\r\n    this.invokeClick = this.invokeClick.bind(this);\r\n\r\n    this.showLoading = this.showLoading.bind(this);\r\n    this.showLoadingError = this.showLoadingError.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { markup } = this.props;\r\n    this.setNewMarkup(markup);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { currMarkup } = this.state;\r\n    const { markup } = this.props;\r\n\r\n    if (currMarkup !== markup) {\r\n      if (markup) {\r\n        this.setNewMarkup(markup);\r\n      } else if (!markup) {\r\n        this.setState({\r\n          currMarkup: null,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  setNewMarkup(markup) {\r\n    const { paymentCallback, replacementIDString } = this.props;\r\n\r\n    if (!markup) {\r\n      return;\r\n    }\r\n\r\n    this.cleanCheckoutButtonContainer();\r\n\r\n    const range = document.createRange();\r\n    if (replacementIDString) {\r\n      this.checkoutButton.appendChild(range.createContextualFragment(_.replace(markup, replacementIDString, 'id=\"checkout_form\"')));\r\n    } else {\r\n      this.checkoutButton.appendChild(range.createContextualFragment(markup));\r\n    }\r\n\r\n    $('#checkout_form').get(0).submit = () => {\r\n      const { extraData } = this.state;\r\n      const data = $('#checkout_form').serializeArray();\r\n\r\n\r\n      paymentCallback(data, extraData);\r\n\r\n      this.setState({\r\n        extraData: null,\r\n      });\r\n\r\n      // Prevent form submit.\r\n      return false;\r\n    };\r\n\r\n    // eslint-disable-next-line\r\n    this.setState({\r\n      currMarkup: markup,\r\n    });\r\n  }\r\n\r\n  showLoading(isLoading) {\r\n    this.setState({ isLoading });\r\n  }\r\n\r\n  showLoadingError(isLoadingError) {\r\n    this.setState({ isLoadingError });\r\n  }\r\n\r\n  cleanCheckoutButtonContainer() {\r\n    while (this.checkoutButton.firstChild) {\r\n      this.checkoutButton.removeChild(this.checkoutButton.firstChild);\r\n    }\r\n  }\r\n\r\n  invokeClick(failCallback, extraData, doTag = null) {\r\n    const { zeroPaymentCallback } = this.props;\r\n\r\n    let failCallTimeout = null;\r\n\r\n    this.setState({\r\n      extraData,\r\n    });\r\n\r\n    this.showLoading(true);\r\n\r\n    const ele = document.getElementsByName('stripe_checkout_app');\r\n    for (let i = ele.length - 1; i >= 0; i--) {\r\n      ele[i].parentNode.removeChild(ele[i]);\r\n    }\r\n\r\n    const invokeClick = setInterval(() => {\r\n      try {\r\n        const { amount } = $('#checkout_form')[0].getElementsByClassName('stripe-button')[0].dataset;\r\n        if (amount === '0') {\r\n          this.showLoading(false);\r\n          if (doTag) {\r\n            doTag();\r\n          }\r\n          if (zeroPaymentCallback) {\r\n            zeroPaymentCallback();\r\n          }\r\n          clearInterval(invokeClick);\r\n          clearTimeout(failCallTimeout);\r\n          return;\r\n        }\r\n      } catch (error) {\r\n        console.log('Get new payable failed');\r\n        clearInterval(invokeClick);\r\n        clearTimeout(failCallTimeout);\r\n        this.showLoadingError(true);\r\n        failCallback();\r\n      }\r\n\r\n      try {\r\n        const button = $('#checkout_form')[0].getElementsByClassName('stripe-button-el')[0];\r\n        if (button) {\r\n          $(button).trigger('click');\r\n          if (doTag) {\r\n            doTag();\r\n          }\r\n          clearInterval(invokeClick);\r\n          clearTimeout(failCallTimeout);\r\n          setTimeout(() => this.showLoading(false), 5000);\r\n        }\r\n      } catch (error) {\r\n        console.log('Button not yet generated!');\r\n        clearInterval(invokeClick);\r\n        clearTimeout(failCallTimeout);\r\n        this.showLoadingError(true);\r\n        failCallback();\r\n      }\r\n    }, 10);\r\n\r\n    failCallTimeout = setTimeout(() => {\r\n      clearInterval(invokeClick);\r\n      this.showLoadingError(true);\r\n      failCallback();\r\n    }, 10000);\r\n  }\r\n\r\n  render() {\r\n    const { isLoading, isLoadingError } = this.state;\r\n\r\n    return (\r\n      <Fragment>\r\n        <div className=\"d-none\" ref={(node) => { this.checkoutButton = node; }} />\r\n        <LoadingScreenV2\r\n          isLoading={isLoading}\r\n          isLoadingError={isLoadingError}\r\n          message={<h5>Please try again.</h5>}\r\n          showLoading={this.showLoading}\r\n          showLoadingError={this.showLoadingError}\r\n          noLogos\r\n        />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nStripePayment.defaultProps = {\r\n  markup: null,\r\n  replacementIDString: null,\r\n  zeroPaymentCallback: null,\r\n};\r\n\r\nStripePayment.propTypes = {\r\n  markup: PropTypes.string,\r\n  // doLoadStripeState: PropTypes.func.isRequired,\r\n  paymentCallback: PropTypes.func.isRequired,\r\n  zeroPaymentCallback: PropTypes.func,\r\n  replacementIDString: PropTypes.string,\r\n};\r\n\r\nexport default StripePayment;\r\n","/**\r\n * CircleHeader.js\r\n * Circle component for claims\r\n *\r\n * @version 0.0.1\r\n * @author [Barry](barry@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Collapse, Button } from 'reactstrap';\r\n\r\nimport Arrow from 'assets/images/forms/arrow.svg';\r\n\r\nimport './DetailCollapse.scss';\r\n\r\nclass DetailCollapse extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.toggle = this.toggle.bind(this);\r\n    this.state = { collapse: false };\r\n  }\r\n\r\n  toggle() {\r\n    this.setState({ collapse: !this.state.collapse });\r\n  }\r\n\r\n  render() {\r\n    const { collapse } = this.state;\r\n    const {\r\n      collapseOverwrite,\r\n      useOverwrite,\r\n      className,\r\n      topHr,\r\n    } = this.props;\r\n\r\n    const collapseToUse = useOverwrite ? collapseOverwrite : collapse;\r\n\r\n    return (\r\n      <Col className={['detail-collapse-container', className].join(' ')} xs={12}>\r\n        {\r\n          !useOverwrite &&\r\n          <Button\r\n            onClick={this.toggle}\r\n            className=\"collapse-button\"\r\n          >\r\n            <p className=\"grey-text collapse-text\">{collapse ? 'Hide details' : 'More details'}</p>\r\n            <img className={collapse ? 'rotate-arrow' : ''} src={Arrow} alt=\"Arrow.svg\" />\r\n          </Button>\r\n        }\r\n        {!useOverwrite && collapseToUse && topHr && <hr />}\r\n        <Collapse isOpen={collapseToUse}>\r\n          {this.props.children}\r\n        </Collapse>\r\n        {!useOverwrite && !topHr && <hr />}\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nDetailCollapse.defaultProps = {\r\n  collapseOverwrite: false,\r\n  useOverwrite: false,\r\n  className: '',\r\n  topHr: false,\r\n};\r\n\r\nDetailCollapse.propTypes = {\r\n  collapseOverwrite: PropTypes.bool,\r\n  useOverwrite: PropTypes.bool,\r\n  topHr: PropTypes.bool,\r\n  className: PropTypes.string,\r\n};\r\n\r\nexport default DetailCollapse;\r\n","/**\r\n * TravelDetail.js\r\n * Detail View for travel\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport window from 'global/window';\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './Sticky.scss';\r\n\r\nclass Sticky extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      showSticky: false,\r\n    };\r\n\r\n    this.onMovement = this.onMovement.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('scroll', this.onMovement);\r\n    window.addEventListener('resize', this.onMovement);\r\n\r\n    this.onMovement();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('scroll', this.onMovement);\r\n    window.removeEventListener('resize', this.onMovement);\r\n  }\r\n\r\n  onMovement() {\r\n    if (this.node) {\r\n      const { showSticky } = this.state;\r\n\r\n      const { scrollY } = window;\r\n      const isResp = window.innerWidth < 992 && !showSticky;\r\n      const height = isResp ? 150 : 100;\r\n\r\n      if (\r\n        (scrollY < height && showSticky) ||\r\n        (scrollY >= height && !showSticky)\r\n      ) {\r\n        this.setState({\r\n          showSticky: scrollY >= height,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { showSticky } = this.state;\r\n\r\n    const { isTop } = this.props;\r\n    const stickyStyle = isTop ? 'top-sticky' : 'bottom-sticky';\r\n    let showStyle = '';\r\n    if (showSticky) {\r\n      showStyle = isTop ? 'show-top-sticky' : 'show-bottom-sticky';\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        <div\r\n          ref={node => this.node = node}\r\n          className={`business-sticky ${stickyStyle} ${showStyle}`}\r\n        >\r\n          <div className=\"sticky-inner\">\r\n            {this.props.children}\r\n          </div>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nSticky.defaultProps = {\r\n  isTop: false,\r\n};\r\n\r\nSticky.propTypes = {\r\n  isTop: PropTypes.bool,\r\n};\r\n\r\nexport default Sticky;\r\n","/**\r\n * Referral.js\r\n * Referral Page For PolicyPal\r\n *\r\n * @version 0.0.1\r\n * @author [Nicolette](nicolette@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './PriceBottom.scss';\r\n\r\nclass PriceBottom extends Component {\r\n  render() {\r\n    const {\r\n      data,\r\n    } = this.props;\r\n\r\n    if (!data) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className=\"business-bottom-sticky-container\">\r\n        <div className=\"product-info\">\r\n          {data.productName && <h6>{data.productName}</h6>}\r\n          {data.productInfo && <h3>{data.productInfo}</h3>}\r\n        </div>\r\n        <div className=\"price-info\">\r\n          {data.price && <h3>{data.price}</h3>}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nPriceBottom.defaultProps = {\r\n  data: null,\r\n};\r\n\r\nPriceBottom.propTypes = {\r\n  data: PropTypes.object,\r\n};\r\n\r\nexport default PriceBottom;\r\n","/**\r\n * Referral.js\r\n * Referral Page For PolicyPal\r\n *\r\n * @version 0.0.1\r\n * @author [Nicolette](nicolette@policypal.com)\r\n */\r\nimport $ from 'jquery';\r\nimport window from 'global/window';\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Row,\r\n  Col,\r\n  Button,\r\n} from 'reactstrap';\r\n\r\nimport Sticky from 'components/Templates/Sticky/Sticky';\r\nimport FormLandingFooter from 'components/Templates/FormLanding/FormLandingFooter';\r\nimport ButtonCustom from 'components/FormsV3/Button/Button';\r\n\r\nimport { numberWithCommas } from 'lib/helperFunctions';\r\n\r\nimport PriceBottom from './PriceBottom/PriceBottom';\r\n\r\nimport './BusinessFlow.scss';\r\n\r\nclass BusinessFlow extends Component {\r\n  componentDidMount() {\r\n    if ($('#intercom-container')) {\r\n      $('#intercom-container').hide();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if ($('#intercom-container')) {\r\n      $('#intercom-container').show();\r\n    }\r\n  }\r\n\r\n  getStickyPrice() {\r\n    const { stickyInfo } = this.props;\r\n\r\n    const isDeposit = stickyInfo && stickyInfo.isDeposit;\r\n    const isBalance = stickyInfo && stickyInfo.isBalance;\r\n    const quote = stickyInfo && stickyInfo.quote && stickyInfo.quote.quote;\r\n\r\n    // eslint-disable-next-line\r\n    const stickyPrice = quote && (\r\n      // eslint-disable-next-line\r\n      isBalance ? quote.outstanding_premium : \r\n      // eslint-disable-next-line\r\n      isDeposit ? quote.deposit_premium : quote.final_premium );\r\n      //   // eslint-disable-next-line\r\n      // isCheckout ? quote.final_premium : quote.final_premium_no_gst);\r\n\r\n    return {\r\n      stickyPrice,\r\n      desc: isBalance ? 'Balance' : 'Total price',\r\n      totalCount: quote && quote.total_count,\r\n    };\r\n  }\r\n\r\n  renderTopFlow(isSticky) {\r\n    const {\r\n      onBack,\r\n      onNext,\r\n      title,\r\n      headerImage,\r\n    } = this.props;\r\n\r\n    const priceInfo = this.getStickyPrice();\r\n\r\n    return (\r\n      <Row className={isSticky ? 'sticky-top-container' : 'top-container'} noGutters>\r\n        <Col className=\"flow-back\" xs={3}>\r\n          {\r\n            onBack &&\r\n            <Button\r\n              onClick={onBack}\r\n              color=\"link\"\r\n            >\r\n              <h6>Back</h6>\r\n            </Button>\r\n          }\r\n        </Col>\r\n        <Col className=\"flow-title\" xs={6}>\r\n          {\r\n            !isSticky && headerImage &&\r\n              <div className=\"title-img\">\r\n                <img src={headerImage} alt=\"flow-img.svg\" />\r\n              </div>\r\n          }\r\n          {\r\n            title && <h3>{title}</h3>\r\n          }\r\n        </Col>\r\n        <Col className=\"flow-next\" xs={3}>\r\n          {\r\n            isSticky && priceInfo && priceInfo.stickyPrice &&\r\n              <div className=\"sticky-top-price\">\r\n                <p>{priceInfo.desc}</p>\r\n                <p>${numberWithCommas(priceInfo.stickyPrice)}</p>\r\n              </div>\r\n          }\r\n          {\r\n            onNext &&\r\n            <ButtonCustom\r\n              variant=\"medium-flat-green\"\r\n              height={48}\r\n              width={168}\r\n              onClick={onNext}\r\n            >\r\n              <p>Next</p>\r\n            </ButtonCustom>\r\n          }\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      noFooter,\r\n      noPolicyPal,\r\n      usingSticky,\r\n      transitionClass,\r\n      stickyInfo,\r\n    } = this.props;\r\n\r\n    const info = stickyInfo && stickyInfo.quote && stickyInfo.quote.info;\r\n    const priceInfo = this.getStickyPrice();\r\n\r\n    return (\r\n      <div className=\"business-flow-container\" >\r\n        <div className={['business-flow-inner-container', transitionClass].join(' ')}>\r\n          <Row noGutters>\r\n            <Col xs={12}>\r\n              {this.renderTopFlow(false)}\r\n            </Col>\r\n            <Col xs={12}>\r\n              {this.props.children}\r\n            </Col>\r\n          </Row>\r\n          <Sticky isTop>\r\n            {this.renderTopFlow(true)}\r\n          </Sticky>\r\n          {\r\n            stickyInfo !== null && priceInfo !== null &&\r\n            <div className=\"d-block d-lg-none\">\r\n              <Sticky>\r\n                <PriceBottom\r\n                  data={priceInfo && priceInfo.stickyPrice && {\r\n                    productName: info && info.insurer_name,\r\n                    productInfo: `${info && info.product_name} - ${priceInfo.totalCount} pax`,\r\n                    price: `$${numberWithCommas(priceInfo.stickyPrice)}`,\r\n                  }}\r\n                />\r\n              </Sticky>\r\n            </div>\r\n          }\r\n        </div>\r\n        {\r\n          !noFooter ?\r\n            <FormLandingFooter\r\n              noPolicyPal={noPolicyPal}\r\n              usingSticky={usingSticky}\r\n            />\r\n          : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nBusinessFlow.defaultProps = {\r\n  title: '',\r\n  onNext: null,\r\n  onBack: null,\r\n  noFooter: false,\r\n  noPolicyPal: true,\r\n  usingSticky: false,\r\n  headerImage: null,\r\n  transitionClass: '',\r\n  // stickyPrice: null,\r\n  stickyInfo: null,\r\n  // isCheckout: false,\r\n};\r\n\r\nBusinessFlow.propTypes = {\r\n  title: PropTypes.string,\r\n  onNext: PropTypes.func,\r\n  onBack: PropTypes.func,\r\n  noFooter: PropTypes.bool,\r\n  noPolicyPal: PropTypes.bool,\r\n  usingSticky: PropTypes.bool,\r\n  headerImage: PropTypes.string,\r\n  transitionClass: PropTypes.string,\r\n  // stickyPrice: PropTypes.number,\r\n  stickyInfo: PropTypes.object,\r\n  // isCheckout: PropTypes.bool,\r\n};\r\n\r\nexport default BusinessFlow;\r\n"],"sourceRoot":""}