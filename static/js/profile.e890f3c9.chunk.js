(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{1093:function(e,t,a){e.exports=a.p+"static/media/Female.d0efc021.png"},1094:function(e,t,a){e.exports=a.p+"static/media/Male.54e96d83.png"},1149:function(e,t,a){"use strict";a.r(t);var n=a(12),r=a(14),s=a(13),c=a(11),i=a(15),l=a(4),o=a(1),d=a.n(o),u=a(476),m=a(22),h=a(133),p=a(6),f=a(1093),g=a.n(f),b=a(1094),v=a.n(b),E=a(501),O=a.n(E),D=a(35),S=a(651),k=a(183),j=a(489),y=a(5),N=a.n(y),w=a(18),x=(a(715),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).renderCashbackList=a.renderCashbackList.bind(Object(l.a)(Object(l.a)(a))),a.renderFreshCashback=a.renderFreshCashback.bind(Object(l.a)(Object(l.a)(a))),a}return Object(i.a)(t,e),Object(c.a)(t,[{key:"renderCashbackList",value:function(){var e=this.props.rewardData;return N.a.map(e,function(e,t){var a=t%2?"cell-colored":"",n=Object(w.a)(e.created_at),r="add"===e.type?"+":"-",s="add"===e.type?"":"table-amount-minus";return d.a.createElement(o.Fragment,{key:"casback-".concat(t)},d.a.createElement("tr",{className:"d-table-row d-sm-none resp-height"},d.a.createElement("td",{className:"resp-height cell-header",colSpan:3},d.a.createElement("div",{className:"table-item-container resp-height"},d.a.createElement("p",{className:"table-item-text resp-text"},e.insurer," - ",e.policy_name)))),d.a.createElement("tr",null,d.a.createElement("td",{className:"d-none d-sm-table-cell ".concat(a)},d.a.createElement("div",{className:"table-item-container"},d.a.createElement("p",{className:"table-item-text"},e.insurer),d.a.createElement("p",{className:"table-item-text"},e.policy_name))),d.a.createElement("td",null,d.a.createElement("div",{className:"table-item-container ".concat(a)},d.a.createElement("p",{className:"table-item-text"},n))),d.a.createElement("td",null,d.a.createElement("div",{className:"table-item-container ".concat(a)},d.a.createElement("p",{className:"table-amount-text ".concat(s)},"".concat(r).concat(e.reward_points)))),d.a.createElement("td",null,d.a.createElement("div",{className:"table-item-container ".concat(a)},d.a.createElement("p",{className:"table-completed-text ".concat("pending"===e.status?"table-pending-text":"table-completed-text")},e.status)))))})}},{key:"renderFreshCashback",value:function(){var e=this.props.history;return d.a.createElement(p.f,{className:"fresh-cashback-container",xs:12},d.a.createElement("p",{className:"fresh-text"},"No record found, start earning cashbacks by purchasing a Travel/Motor plan!"),d.a.createElement(D.a,{variant:"medium-flat-green",width:200,height:72,onClick:function(){return e.push("/categories")}},d.a.createElement("p",null,"Get Covered")))}},{key:"render",value:function(){var e=this.props.rewardData;return d.a.createElement(o.Fragment,null,d.a.createElement(p.z,null,d.a.createElement(p.f,{className:"cashback-history-container",xs:12},d.a.createElement("img",{src:O.a,alt:"CashbackLogo.svg"}),d.a.createElement("p",null,"Cashback History"))),d.a.createElement(p.z,{className:"profile-cashback-container",noGutters:!0},d.a.createElement(p.C,{responsive:!0},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",{className:"d-none d-sm-table-cell"},d.a.createElement("div",{className:"table-item-container"},d.a.createElement("p",null,"Plan"))),d.a.createElement("th",null,d.a.createElement("div",{className:"table-item-container"},d.a.createElement("p",null,"Date"))),d.a.createElement("th",null,d.a.createElement("div",{className:"table-item-container"},d.a.createElement("p",null,"Amount"))),d.a.createElement("th",null,d.a.createElement("div",{className:"table-item-container"},d.a.createElement("p",null,"Status"))))),e?d.a.createElement("tbody",null,this.renderCashbackList()):null),e?null:this.renderFreshCashback()))}}]),t}(o.Component));x.defaultProps={rewardData:null};var F=Object(u.a)(x),I=a(3),C=a.n(I),R=a(8),z=a(212),M=a(496),L=a(182),P=a(56),_=a(23),B=a(96),T=a(19),A=a(139),U=["firstName","surname","id_type","nric","nationality","dateOfBirth","gender","marital_status","race","occupation","contact","smoker","address","unit_no","postal_code"],W=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).state={errorStringData:{},message:null},a.handleSubmit=a.handleSubmit.bind(Object(l.a)(Object(l.a)(a))),a.validateForm=a.validateForm.bind(Object(l.a)(Object(l.a)(a))),a}return Object(i.a)(t,e),Object(c.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,a){var n=e.userDetails,r=e.change,s=null;return n&&(a.userDetails&&n.data===a.userDetails.data||(t.syncStoreToForm(n.data,r),s={userDetails:n})),s}},{key:"syncStoreToForm",value:function(e,t){N.a.map(U,function(a){t(a,e[a])})}}]),Object(c.a)(t,[{key:"validateForm",value:function(){var e=Object(R.a)(C.a.mark(function e(t){var a,n,r=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.length>1&&void 0!==r[1]&&r[1],n=Object(A.b)(t,U),!a){e.next=7;break}return e.next=5,Object(_.x)(t.postal_code);case 5:e.sent||(n.postal_code="Invalid postal code");case 7:return this.setState({errorStringData:n}),e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(R.a)(C.a.mark(function e(t){var a,n,r,s,c,i,l,o,d,u,m,h=this,p=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(p.length>1&&void 0!==p[1])||p[1],n=this.props,r=n.userDetails,s=n.loading,c=n.loadingEnd,i=n.storeForm,l=a?t:i,e.next=5,this.validateForm(l,!0);case 5:if(o=e.sent,d=N.a.isEmpty(o),setTimeout(this.props.updateTabHeight,10),!Object(A.a)(d,a,o,function(e){return h.setState({errorStringData:e})},function(){return h.handleSubmit(i,!1)})){e.next=10;break}return e.abrupt("return");case 10:if(!(d&&r&&r.data&&r.data.token)){e.next=18;break}return s(),e.next=14,this.props.saveProfile(r.data.token,l);case 14:u=e.sent,m=u?"Profile has been updated.":"An error has occured. Please try again.",this.setState({message:m}),c();case 18:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"renderMessage",value:function(){var e=this.state.message;return e?d.a.createElement(p.f,{xs:12},d.a.createElement("p",{className:"message"},e)):null}},{key:"render",value:function(){var e=this,t=this.state.errorStringData,a=this.props,n=a.change,r=a.form,s=a.handleSubmit,c=a.constants,i=a.storeForm;return d.a.createElement("form",{onSubmit:s(this.handleSubmit)},d.a.createElement(p.z,{className:"profile-form",noGutters:!0},d.a.createElement(p.f,{className:"form-right-padding",xs:12,sm:6},d.a.createElement(P.a,{form:r,change:n,name:"firstName",placeholderString:"",size:"medium",zIndex:99,desc:"First name",errorString:t.firstName,validateForm:function(){return e.validateForm(i)}})),d.a.createElement(p.f,{className:"form-left-padding",xs:12,sm:6},d.a.createElement(P.a,{form:r,change:n,name:"surname",placeholderString:"",size:"medium",zIndex:97,desc:"Last name",errorString:t.surname,validateForm:function(){return e.validateForm(i)}})),d.a.createElement(p.f,{className:"form-right-padding",xs:12,sm:6},d.a.createElement(L.a,{form:r,change:n,name:"id_type",placeholderString:"Select ID Type",dropList:c.idTypes,size:"medium",zIndex:96,desc:"Type of ID",errorString:t.id_type,validateForm:function(){return e.validateForm(i)}})),d.a.createElement(p.f,{className:"form-left-padding",xs:12,sm:6},d.a.createElement(P.a,{form:r,change:n,name:"nric",placeholderString:"",size:"medium",zIndex:95,desc:"ID Number",errorString:t.nric,validateForm:function(){return e.validateForm(i)},toUpper:!0})),d.a.createElement(p.f,{className:"form-right-padding",xs:12,sm:6},d.a.createElement(L.a,{form:r,change:n,name:"nationality",placeholderString:"Select Nationality",dropList:c.nationalities,size:"medium",zIndex:94,desc:"Nationality",errorString:t.nationality,validateForm:function(){return e.validateForm(i)}})),d.a.createElement(p.f,{className:"form-left-padding",xs:12,sm:6},d.a.createElement(M.a,{form:r,change:n,name:"dateOfBirth",size:"medium",zIndex:93,desc:"Date of birth",errorString:t.dateOfBirth,validateForm:function(){return e.validateForm(i)}})),d.a.createElement(p.f,{className:"form-right-padding",xs:12,sm:6},d.a.createElement(L.a,{form:r,change:n,name:"gender",placeholderString:"Select Gender",dropList:c.gender,size:"medium",zIndex:92,desc:"Gender",errorString:t.gender,validateForm:function(){return e.validateForm(i)}})),d.a.createElement(p.f,{className:"form-left-padding",xs:12,sm:6},d.a.createElement(L.a,{form:r,change:n,name:"marital_status",placeholderString:"Select Marital Status",dropList:c.maritalStatus,size:"medium",zIndex:91,desc:"Marital Status",errorString:t.marital_status,validateForm:function(){return e.validateForm(i)}})),d.a.createElement(p.f,{className:"form-right-padding",xs:12,sm:6},d.a.createElement(L.a,{form:r,change:n,name:"race",placeholderString:"Select Race",dropList:c.race,size:"medium",zIndex:90,desc:"Race",errorString:t.race,validateForm:function(){return e.validateForm(i)}})),d.a.createElement(p.f,{className:"form-left-padding",xs:12,sm:6},d.a.createElement(L.a,{form:r,change:n,name:"occupation",placeholderString:"Select Occupation",dropList:c.occupations,size:"medium",zIndex:89,desc:"Occupation",errorString:t.occupation,validateForm:function(){return e.validateForm(i)}})),d.a.createElement(p.f,{className:"form-right-padding",xs:12,sm:6},d.a.createElement(P.a,{form:r,change:n,name:"contact",placeholderString:"",size:"medium",zIndex:88,desc:"Mobile Number",errorString:t.contact,validateForm:function(){return e.validateForm(i)}})),d.a.createElement(p.f,{className:"form-left-padding",xs:12,sm:6},d.a.createElement(L.a,{form:r,change:n,name:"smoker",placeholderString:"Select Smoking Status",dropList:c.smoker,size:"medium",zIndex:87,desc:"Smoking Status",errorString:t.smoker,validateForm:function(){return e.validateForm(i)}})),d.a.createElement(p.f,{className:"form-seperator",xs:12},d.a.createElement("p",null,"Address")),d.a.createElement(p.f,{xs:12},d.a.createElement(P.a,{form:r,change:n,name:"address",placeholderString:"",size:"medium",zIndex:86,desc:"Address",errorString:t.address,validateForm:function(){return e.validateForm(i)}})),d.a.createElement(p.f,{className:"form-right-padding",xs:12,sm:6},d.a.createElement(P.a,{form:r,change:n,name:"unit_no",placeholderString:"",size:"medium",zIndex:85,desc:"Unit No",errorString:t.unit_no,validateForm:function(){return e.validateForm(i)}})),d.a.createElement(p.f,{className:"form-left-padding",xs:12,sm:6},d.a.createElement(P.a,{form:r,change:n,name:"postal_code",placeholderString:"",size:"medium",zIndex:84,desc:"Postcode",errorString:t.postal_code,validateForm:function(){return e.validateForm(i)},isPostCode:!0,addressFields:{address:"address",unitNo:"unit_no"}})),this.renderMessage(),d.a.createElement(p.f,{className:"submit-container",xs:12},d.a.createElement(D.a,{variant:"medium-flat-green",width:200,height:72,type:"submit"},d.a.createElement("p",null,"Save")))))}}]),t}(o.Component);W.defaultProps={storeForm:null};var G=Object(z.a)({form:"profile",destroyOnUnmount:!1})(Object(m.b)(function(e){return{storeForm:Object(h.a)("profile")(e)}},function(e){return{saveProfile:function(t,a){return e(Object(T.y)(t,a))},loading:function(t,a,n){e(Object(B.d)(t,a,n))},loadingEnd:function(){e(Object(B.c)())}}})(W)),H=a(26),Y=function(e){function t(e){var a;Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).renderLeftProfile=a.renderLeftProfile.bind(Object(l.a)(Object(l.a)(a))),a.renderCashbackbalance=a.renderCashbackbalance.bind(Object(l.a)(Object(l.a)(a))),a.renderCashbackInfo=a.renderCashbackInfo.bind(Object(l.a)(Object(l.a)(a)));var c=H.l.NONE,i=H.m.NONE,o=H.k.NONE,d=a.props,u=d.resetIndicatorInsurance,m=d.resetIndicatorMore,h=d.resetIndicatorBusiness;return u(c),m(i),h(o),a}return Object(i.a)(t,e),Object(c.a)(t,[{key:"renderLeftProfile",value:function(){var e=this.props,t=e.logOut,a=e.userDetails,n=e.storeForm,r=n&&n.gender&&"FEMALE"===n.gender.toUpperCase()?g.a:v.a;return d.a.createElement("div",{className:"profile-pic-container"},d.a.createElement("div",{className:"profile-pic"},d.a.createElement("img",{src:r,alt:"Profile Pic"})),d.a.createElement("p",{className:"profile-name"},a.data.surname," ",a.data.firstName),d.a.createElement(D.a,{variant:"medium-outline",width:132,height:36,onClick:t},d.a.createElement("p",null,"Logout")))}},{key:"renderCashbackbalance",value:function(){var e=this.props.cashbackBalance;return d.a.createElement(S.a,{cashbackBalance:e.toString()})}},{key:"renderCashbackInfo",value:function(){var e=this.props.validString;return e?d.a.createElement("div",{className:"cashback-how"},d.a.createElement("p",{className:"valid-text"},"Valid till: ",e)):d.a.createElement("a",{className:"cashback-how",href:"/cashback",target:"_blank"},d.a.createElement("div",{className:"cashback-how-inner"},d.a.createElement("p",{className:"question"},"?"),d.a.createElement("p",null,"How to earn"),d.a.createElement("img",{src:O.a,alt:"CashbackLogo.svg"}),d.a.createElement("p",null,"Cashback?")))}},{key:"render",value:function(){var e=this.props,t=e.rewardData,a=e.userDetails,n=e.constants,r=e.storeForm;return d.a.createElement(o.Fragment,null,d.a.createElement(p.z,{className:"profile-container",noGutters:!0},this.renderLeftProfile(),d.a.createElement("div",{className:"profile-detail-container"},d.a.createElement(p.f,{xs:12},d.a.createElement("p",{className:"profile-header"},"My Account")),d.a.createElement(p.f,{className:"cashback-top-container",xs:12},d.a.createElement(p.z,{noGutters:!0},d.a.createElement(p.f,{xs:12,sm:6},this.renderCashbackbalance()),d.a.createElement(p.f,{xs:12,sm:6},this.renderCashbackInfo()))),d.a.createElement(p.f,{xs:12},d.a.createElement(k.a,{maxTabWidthPx:128,tabs:["Overview","Cashback"],isDisableDropdown:!0,name:"profile-tab"},[d.a.createElement(G,{key:"profileForm",userDetails:a,constants:n,storeForm:r}),d.a.createElement(F,{key:"profileCashback",rewardData:t})])))),d.a.createElement(j.a,{marginTop:-50}))}}]),t}(o.Component);Y.defaultProps={rewardData:null,validString:null,cashbackBalance:0,storeForm:null,resetIndicatorInsurance:null,resetIndicatorMore:null,resetIndicatorBusiness:null};var K=Object(u.a)(Object(m.b)(function(e){return{storeForm:Object(h.a)("profile")(e)}},function(e){return{resetIndicatorInsurance:function(t){e(Object(H.p)(t))},resetIndicatorMore:function(t){e(Object(H.q)(t))},resetIndicatorBusiness:function(t){e(Object(H.o)(t))}}})(Y)),J=function(e){function t(e){var a;Object(n.a)(this,t);var c=(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).props,i=c.userDetails,o=c.getRewards;return i&&i.data&&!i.rewardData&&o(i.data.token),a.state={userDetails:i},a.logOut=a.logOut.bind(Object(l.a)(Object(l.a)(a))),a}return Object(i.a)(t,e),Object(c.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.userDetails,n=e.getRewards,r=e.history,s=null;return a&&(a.data!==t.userDetails.data&&(a.data&&a.data.token?n(a.data.token):r.push("/"),s={userDetails:a}),a.data&&a.rewardData!==t.userDetails.rewardData&&(s={userDetails:a})),s}}]),Object(c.a)(t,[{key:"logOut",value:function(){var e=this.props,t=e.logout,a=e.history;t(),a.push("/")}},{key:"render",value:function(){var e=this.state.userDetails,t=this.props.constants,a=e.data,n=e.rewardData;return e.data&&t?d.a.createElement(K,{userDetails:e,rewardData:n,validString:a.reward_points_expire_at,cashbackBalance:a.reward_points,logOut:this.logOut,constants:t}):null}}]),t}(o.Component);J.defaultProps={constants:null};t.default=Object(u.a)(Object(m.b)(function(e){return{userDetails:e.userDetails,constants:e.insurance.constants}},function(e){return{getRewards:function(t){return e(Object(T.v)(t))},logout:function(){return e(Object(T.t)())}}})(J))},496:function(e,t,a){"use strict";var n=a(3),r=a.n(n),s=a(8),c=a(2),i=a(12),l=a(14),o=a(13),d=a(11),u=a(15),m=a(4),h=a(1),p=a.n(h),f=a(22),g=a(39),b=a.n(g),v=a(95),E=a(133),O=a(25),D=a.n(O),S=a(55),k=a.n(S),j=a(515),y=a.n(j),N=a(516),w=a.n(N),x=a(105),F=a(18),I=(a(327),a(649),"dd/mm/yyy"),C=["January","Feburary","March","April","May","June","July","August","September","October","November","December"],R=60,z=72,M=100,L=function(e){function t(e){var a;Object(i.a)(this,t);var n=(a=Object(l.a)(this,Object(o.a)(t).call(this,e))).props,r=n.size,s=n.startDate,c=n.endDate,d=n.currDate,u=n.placeholderString,h="big"===r?z:R,p=d||new Date,f=p.getFullYear(),g=p.getMonth(),b=new Date(f,g,1),v=new Date(f,g+1,0),E=null!=s?s:new Date(f-M,g),O=null!=c?c:new Date(f+M,g),D=null!=u?u:I;return a.state={isOpened:!1,selectedString:D,height:h,currDate:p,currFirstDay:b,currLastDay:v,selectedStartDate:null,selectedEndDate:null,dateRangeStart:E,dateRangeEnd:O,placeHolder:D},a.handleSelectClick=a.handleSelectClick.bind(Object(m.a)(Object(m.a)(a))),a.handleClickOutside=a.handleClickOutside.bind(Object(m.a)(Object(m.a)(a))),a.handleOnInputChange=a.handleOnInputChange.bind(Object(m.a)(Object(m.a)(a))),a.handleKeyPress=a.handleKeyPress.bind(Object(m.a)(Object(m.a)(a))),a.handleExit=a.handleExit.bind(Object(m.a)(Object(m.a)(a))),a.handleBlur=a.handleBlur.bind(Object(m.a)(Object(m.a)(a))),a.handleFocus=a.handleFocus.bind(Object(m.a)(Object(m.a)(a))),a.setSelectedDate=a.setSelectedDate.bind(Object(m.a)(Object(m.a)(a))),a.setNewDate=a.setNewDate.bind(Object(m.a)(Object(m.a)(a))),a.setCalender=a.setCalender.bind(Object(m.a)(Object(m.a)(a))),a.onMovement=a.onMovement.bind(Object(m.a)(Object(m.a)(a))),a.isFromFocus=!1,a}return Object(u.a)(t,e),Object(d.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a={};function n(e,t){var n=Object(F.j)(t);-1!==n&&(a[e]=n)}var r=e.isRange,s=e.endDate;if(r){var c=e.incomingStartDate,i=e.incomingEndDate;n("selectedStartDate",c),n("selectedEndDate",i)}return s&&!Object(F.h)(s,t.dateRangeEnd)&&(a.dateRangeEnd=s),a==={}?null:a}}]),Object(d.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside),window.addEventListener("scroll",this.onMovement),window.addEventListener("resize",this.onMovement);var e=this.props,t=e.name,a=e.formStore,n=e.dateInner;a&&a[t]&&this.setSelectedDate(Object(F.j)(a[t])),this.setState({dateInnerDOM:b.a.findDOMNode(n),datePickerDOM:b.a.findDOMNode(this.wrapperRef)}),this.onMovement()}},{key:"componentDidUpdate",value:function(e,t){var a=this.state,n=a.currDate,r=a.selectedStartDate,s=a.selectedEndDate,c=a.dateRangeEnd,i=this.props.isStart;Object(F.h)(t.dateRangeEnd,c)||c<s&&this.setSelectedDate(c),!i&&r&&n&&n<r&&this.setNewDate(r)}},{key:"componentWillUnmount",value:function(){var e=this.props.dateInner;document.removeEventListener("mousedown",this.handleClickOutside),window.removeEventListener("scroll",this.onMovement),window.removeEventListener("resize",this.onMovement),e&&e.toggleDateInner(!1)}},{key:"onMovement",value:function(){var e=this.state,t=e.dateInnerDOM,a=e.datePickerDOM,n=e.isOpened,r=this.props.dateInner;if(n&&t&&a){var s=a.getBoundingClientRect().bottom+540>window.outerHeight;r.setArrowUp(!s);var c=s?a.getBoundingClientRect().top-450:a.getBoundingClientRect().bottom+10;t.style.left="".concat(a.getBoundingClientRect().left,"px"),t.style.top="".concat(c,"px")}}},{key:"setNewDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,n=this.state.isOpened,r=this.props.dateInner,s=e.getFullYear(),i=e.getMonth(),l=new Date(s,i,1),o=new Date(s,i+1,0);this.setState(Object(c.a)({currDate:e,currFirstDay:l,currLastDay:o},t),function(){a?a({currDate:e,currFirstDay:l,currLastDay:o,selectedStartDate:t.selectedStartDate,selectedEndDate:t.selectedEndDate}):n&&r.setNewState({currDate:e,currFirstDay:l,currLastDay:o})})}},{key:"setCalender",value:function(e,t){var a=this.state,n=a.dateRangeStart,r=a.dateRangeEnd,s=new Date(t,e);s<n?s=n:s>r&&(s=r),this.setNewDate(s),this.wrapperRef.focus()}},{key:"setSelectedDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=this.state,n=a.selectedStartDate,r=a.selectedEndDate,s=this.props,c=s.change,i=s.name,l=s.isStart,o=s.isRange,d=s.endRef;try{var u=null,m=null;if(e){var h="0".concat(e.getDate().toString()).slice(-2),p="0".concat((e.getMonth()+1).toString()).slice(-2),f=e.getFullYear().toString();m="".concat(h,"/").concat(p,"/").concat(f),u="".concat(h," ").concat(C[p-1].slice(0,3)," ").concat(f)}c(i,u);var g=n,b=r;o&&!l?b=e:b<(g=e)&&(b=g,d&&d.wrappedInstance&&d.wrappedInstance.setSelectedDate(g)),this.setNewDate(e,{isOpened:!1,selectedString:m,selectedEndDate:b,selectedStartDate:g},t),this.isFromFocus=!1}catch(v){}}},{key:"handleClickOutside",value:function(e){var t=this.state,a=t.isOpened,n=t.dateInnerDOM,r=this.props,s=r.isTargetWithinDateRangePicker,c=r.dateInner;if(a&&this.wrapperRef&&!this.wrapperRef.contains(e.target)&&n&&!n.contains(e.target))return this.setState({isOpened:!1}),(!s||s&&!s(e.target))&&c.toggleDateInner(!1),this.handleExit(),this.isFromFocus=!1,void(this.doNotBlur=!1);this.doNotBlur=!0}},{key:"handleKeyPress",value:function(e){var t=this.props.dateInner;13===e.charCode&&(e.preventDefault(),this.handleExit(),t.toggleDateInner(!1))}},{key:"handleSelectClick",value:function(){var e=this,t=this.state,a=t.isOpened,n=t.placeHolder,r=t.currDate,s=t.currFirstDay,i=t.currLastDay,l=t.selectedStartDate,o=t.selectedEndDate,d=t.dateRangeStart,u=t.dateRangeEnd,m=this.props,h=m.change,p=m.name,f=m.dateInner,g=m.isRange,b=m.isStart,v=m.formStore,E=l||v&&Object(F.j)(v.start_date),O=o||v&&Object(F.j)(v.end_date);E=-1===E?null:E,O=-1===O?null:O;var D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f.toggleDateInner(!a,Object(c.a)({setNewDate:e.setNewDate,setSelectedDate:e.setSelectedDate,currDate:r,currFirstDay:s,currLastDay:i,selectedStartDate:E,selectedEndDate:O,dateRangeStart:d,dateRangeEnd:u,isRange:g,isStart:b},t)),e.setState({isOpened:!a},function(){a||e.onMovement()});var l=e.state.selectedString;if(a){if(e.handleExit(),e.inputField){var o=e.inputField.getRenderedComponent();o&&setTimeout(function(){return o.blur()},2)}}else l!==n&&h(p,l);e.isFromFocus=!1};b&&E?this.setSelectedDate(E,D):O?this.setSelectedDate(O,D):D()}},{key:"handleOnInputChange",value:function(){var e=Object(s.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:a=t.target.defaultValue,this.setState({selectedString:a});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleBlur",value:function(e){var t=this;this.wrapperRef.contains(e.relatedTarget)||this.doNotBlur||setTimeout(function(){t.handleExit(),t.isFromFocus=!1},100),this.doNotBlur=!1}},{key:"handleFocus",value:function(e){var t=this.wrapperRef.contains(e.relatedTarget);!e.relatedTarget||t||this.isClicked||(this.handleSelectClick(),this.isFromFocus=!0),this.isClicked=!1}},{key:"handleExit",value:function(){var e=this.state,t=e.selectedString,a=e.dateRangeEnd,n=e.dateRangeStart,r=e.selectedStartDate,s=this.props,c=s.change,i=s.name,l=s.isRange,o=s.isStart,d=!D()(t,"DD/MM/YYYY",!0).isValid(),u=null;if(!d){var m=t.split("/");u=new Date(m[2],m[1]-1,m[0]),d=!o&&r?r>u:d,d=u<n||a<u||d}if(this.setState({isOpened:!1}),d)return l&&!o?this.setState({selectedEndDate:null}):this.setState({selectedStartDate:null}),this.setState({selectedString:""}),void c(i,null);this.setSelectedDate(u)}},{key:"render",value:function(){var e=this,t=this.state,a=t.isOpened,n=t.height,r=t.placeHolder;if(n){var s=this.props,c=s.name,i=s.zIndex,l=s.maxWidth,o=s.isRange,d=s.isStart,u=s.desc,m=s.extraInfo,h=s.errorString,f=s.formStore,g=s.validateForm,b={height:n,zIndex:i,maxWidth:l},E=a?"dropdown-container-opened":"dropdown-container-closed",O=h?"error":"",D=d?y.a:w.a,S=d?"date-img-in":"date-img-out",j=f?f[c]:null;return p.a.createElement(x.a,{desc:u,ref:function(t){return e.formParent=t},extraInfo:m,errorString:h,refValue:j,validateForm:g},p.a.createElement("div",{className:"dropdown datepicker",style:b,ref:function(t){return e.wrapperRef=t},onBlur:function(t){return e.handleBlur(t)},onFocus:function(t){return e.handleFocus(t)}},p.a.createElement("div",{className:"dropdown-container \n                          ".concat(E," \n                          ").concat(O,"\n                        "),style:{height:n},onKeyUp:function(){},role:"button",tabIndex:-1},p.a.createElement("div",{className:"selected-container align-items-center",style:{height:n}},o?p.a.createElement("img",{className:"date-img ".concat(S),src:D,alt:"Date Range Icon"}):null,p.a.createElement("div",{className:"selected-text text-style"},p.a.createElement(v.a,{name:c,ref:function(t){return e.inputField=t},withRef:!0,component:"input",type:"text",placeholder:r,autoComplete:"off",onChange:function(t){return e.handleOnInputChange(t)},onKeyPress:this.handleKeyPress,onMouseDown:function(t){window.innerWidth<=576&&t.preventDefault(),e.isClicked=!0,e.handleSelectClick()},tabIndex:0})),o?null:p.a.createElement("div",{role:"button",className:"selected-arrow",onMouseDown:function(){e.isClicked=!0,e.handleSelectClick()},tabIndex:-1},p.a.createElement("img",{src:k.a,alt:"arrow.svg",className:"selected-arrow-style ".concat(a?"angle-up":"angle-down")}))))))}return null}}]),t}(h.Component);L.defaultProps={maxWidth:"100%",isStart:!0,isRange:!1,startDate:null,endDate:null,currDate:null,placeholderString:I,desc:null,extraInfo:null,errorString:null,formStore:null,validateForm:null,isTargetWithinDateRangePicker:null,endRef:null};t.a=Object(f.b)(function(e,t){return{formStore:Object(E.a)(t.form)(e),dateInner:e.datepicker.datePickerInner}},null,null,{withRef:!0})(L)},501:function(e,t,a){e.exports=a.p+"static/media/CashbackLogo.8368adf4.svg"},515:function(e,t,a){e.exports=a.p+"static/media/dateIn.1b60a0c4.svg"},516:function(e,t,a){e.exports=a.p+"static/media/dateOut.98be354a.svg"},649:function(e,t,a){},651:function(e,t,a){"use strict";var n=a(12),r=a(11),s=a(14),c=a(13),i=a(15),l=a(1),o=a.n(l),d=a(501),u=a.n(d),m=(a(652),function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.cashbackBalance;return o.a.createElement("div",{className:"cashback-summary"},o.a.createElement("img",{src:u.a,alt:"CashbackLogo.svg"}),o.a.createElement("p",null,"$",e))}}]),t}(l.Component));m.defaultProps={},t.a=m},652:function(e,t,a){},715:function(e,t,a){}}]);
//# sourceMappingURL=profile.e890f3c9.chunk.js.map