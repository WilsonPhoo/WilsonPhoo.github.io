(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{1007:function(e,t,a){e.exports=a.p+"static/media/Dollar.4c04bdcd.svg"},1008:function(e,t,a){e.exports=a.p+"static/media/Clock.009d7b15.svg"},1009:function(e,t,a){e.exports=a.p+"static/media/Document.942d49d5.svg"},1010:function(e,t,a){e.exports=a.p+"static/media/Exercise.095cb9c8.svg"},1011:function(e,t,a){e.exports=a.p+"static/media/Head.f919898f.svg"},1012:function(e,t,a){e.exports=a.p+"static/media/Medicine.b482e562.svg"},1013:function(e,t,a){e.exports=a.p+"static/media/Others.38c6df81.svg"},1014:function(e,t,a){e.exports=a.p+"static/media/Plane.04a26971.svg"},1015:function(e,t,a){e.exports=a.p+"static/media/DocumentsResp.714e7a23.svg"},1017:function(e,t,a){},1020:function(e,t,a){},1021:function(e,t,a){},1022:function(e,t,a){},1050:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),c=a(6),l=a(45),s=a(48),i=a(47),o=a(46),u=a(49),m=a(114),d=a(35),p=a.n(d),h=a(5),v=a.n(h),f=a(1),b=a.n(f),g=a(56),E=a(298),y=a(22),O=a(115),k=a(919),N=a.n(k),j=a(1007),x=a.n(j),P=a(300),w=a.n(P),C=a(394),D=a(603),_=a(23),S=a(2),T=a(227),B=a.n(T),F=a(12),L=a.n(F),I=a(381),M=a(639),R=a.n(M),V=a(1008),A=a.n(V),G=a(1009),U=a.n(G),z=a(1010),H=a.n(z),$=a(1011),W=a.n($),Y=a(1012),q=a.n(Y),J=a(1013),K=a.n(J),Q=a(1014),X=a.n(Q),Z=a(1015),ee=a.n(Z),te={"Travel Inconvenience":X.a,"Medical Coverage":q.a,"Personal Protection":W.a,"Leisure Activities":H.a,Others:K.a,"Policy Documents":U.a,documentsResp:ee.a},ae=a(547),ne=a(77),re=a(299),ce=a(605),le=a(324),se=a(13),ie=a(78),oe=a(24),ue=(a(1017),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={productData:null,showTooltips:{},showModal:!1,isShowBottomPrice:!1},a.handleOnClick=a.handleOnClick.bind(Object(m.a)(Object(m.a)(a))),a.handleRestrictions=a.handleRestrictions.bind(Object(m.a)(Object(m.a)(a))),a.getNewData=a.getNewData.bind(Object(m.a)(Object(m.a)(a))),a.showModal=a.showModal.bind(Object(m.a)(Object(m.a)(a))),a.hideModal=a.hideModal.bind(Object(m.a)(Object(m.a)(a))),a.onMovement=a.onMovement.bind(Object(m.a)(Object(m.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(r.a.mark(function e(){var t,a,n,c=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,a=t.form,n=t.splitParams,this.getNewData(),this.hideInterval=setInterval(function(){v.a.isEmpty(B()("#intercom-container"))||(B()("#intercom-container").hide(),clearInterval(c.hideInterval))},10),L.a.addEventListener("scroll",this.onMovement),L.a.addEventListener("resize",this.onMovement),this.onMovement(),n&&n.product&&n.insurer&&Object(oe.d)({page_title:"Travel - Product Page",page_path:"/".concat(a,"/plan/").concat(n.insurer,"/").concat(n.product)}),L.a.scrollTo(0,0);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(c.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this.props.plansData,v.a.isEqual(a,t.plansData)||this.getNewData();case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.setState({isShowBottomPrice:!1}),B()("#intercom-container")&&B()("#intercom-container").show(),clearInterval(this.hideInterval),L.a.removeEventListener("scroll",this.onMovement),L.a.removeEventListener("resize",this.onMovement)}},{key:"onMovement",value:function(){if(this.bannerDOM){var e=this.state.isShowBottomPrice;if(L.a.innerWidth<768&&!e)this.setState({isShowBottomPrice:!0});else if(L.a.innerWidth>=768){var t=this.bannerDOM.getBoundingClientRect().y;(t<0&&!e||t>=0&&e)&&this.setState({isShowBottomPrice:t<0})}}}},{key:"getNewData",value:function(){var e=Object(c.a)(r.a.mark(function e(){var t,a,n,c,l,s,i,o,u,m;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.splitParams,n=t.parseForm,c=t.values,l=t.setOverridePlanTypes,s=t.plansData,i=t.handleAPI,o=t.switchView,!(a&&a.product&&a.insurer)){e.next=13;break}if(u=s&&v.a.find(s.insurances_all,function(e){return e&&e.info&&e.info.insurer_slug===a.insurer&&e.info.product_slug===a.product})){e.next=8;break}return m=n(c),e.next=7,i(function(){return Object(se.u)(a.insurer,a.product,m)},!1,"Unable to get product data! Please try again.",o);case 7:u=e.sent;case 8:if(!u){e.next=12;break}return l(v.a.map(u.policy_types,function(e){return{display_name:v.a.startCase(e),value:v.a.startCase(e)}})),this.setState({productData:u}),e.abrupt("return");case 12:this.showModal();case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"showModal",value:function(){var e=this.state.showModal;e||this.setState({showModal:!0})}},{key:"hideModal",value:function(){var e=this.props.switchView;this.setState({showModal:!1}),e()}},{key:"handleOnClick",value:function(){var e=this.state.productData,t=this.props,a=t.handleOnClick,n=t.doSetRestrictionPopup;try{a(e,n)}catch(r){}this.showModal()}},{key:"handleRestrictions",value:function(e){var t=this.state.productData;(0,this.props.doSetRestrictionPopup)({values:t.restrictions,clickCallback:e})}},{key:"renderHeader",value:function(e){var t=this,a=this.state.productData,n=this.props,r=n.planType,c=n.values;try{var l=ne.a[a.info.insurer_slug],s=a.product_details.coverages[r].premium,i="$".concat((a.info.cashback*s.net_price).toFixed(2)),o=null,u=null;if(s.net_price!==s.price){var m="Single Trip"===c.trip_type.value?"single":"annual";(o=a.info.discount[m]?a.info.discount[m].display:a.info.discount.display)&&""!==o||(o=null),u=s.price}return b.a.createElement(f.Fragment,null,b.a.createElement(O.f,{className:[e?"d-none d-md-flex":"d-flex","product-header-container-wrapper"].join(" "),xs:12},b.a.createElement("div",{className:"product-header-container",ref:function(e){return t.bannerDOM=e}},b.a.createElement("div",{className:"product-logo"},b.a.createElement("img",{src:l,alt:"".concat(a.info.insurer_slug,".svg")})),b.a.createElement("div",{className:"product-name-container"},b.a.createElement("h2",null,a.info.product_name),o&&b.a.createElement("div",{className:"discount-container ".concat(!o&&"hidden")},b.a.createElement("p",null,o," Discount")),a.info.teaser&&b.a.createElement(ae.a,{className:o?"tag-label-margin":"",teaser:a.info.teaser}))),b.a.createElement("div",{className:"price-container d-none d-md-flex"},b.a.createElement("div",{className:"price-inner-container"},b.a.createElement("div",{className:"price-value-container"},b.a.createElement("h2",{className:"net-price"},"$",s.net_price.toFixed(2)),u?b.a.createElement("p",{className:"price"},b.a.createElement("span",null,"$",u.toFixed(2))):null),b.a.createElement("div",{className:"button-container"},b.a.createElement(re.a,{variant:"medium-flat-green",height:48,onClick:this.handleOnClick},b.a.createElement("p",null,"Buy Policy")),b.a.createElement("div",{className:"cashback-earned-container"},b.a.createElement("span",null,"Earn ",i," Cashback")))))))}catch(d){}return null}},{key:"renderBanner",value:function(){var e=this.state.productData,t=this.props.splitParams;try{var a=ne.a[e.info.insurer_slug],n=e.product_details.banner_img,r=e.product_details.banner_mobile_img,c=t&&"tokio_marine"===t.insurer&&"xplora_japan"===t.product;return b.a.createElement(O.f,{className:"banner-container",xs:12},b.a.createElement("div",{className:"banner"},n&&b.a.createElement("img",{className:"d-none d-md-block",src:n,alt:"productBanner.svg"}),r&&b.a.createElement("img",{className:"d-block d-md-none",src:r,alt:"productBanner.svg"})),r&&b.a.createElement("div",{className:"bottom-banner"},b.a.createElement("div",{className:"banner-logo d-flex d-md-none"},b.a.createElement("img",{src:a,alt:"".concat(e.info.insurer_slug,".svg")})),c&&b.a.createElement("h5",null,"*This plan covers only Japan")))}catch(l){}return null}},{key:"renderFeature",value:function(){var e=this.state.productData;try{return e.product_details.features?b.a.createElement(O.f,{xs:12,className:"segment"},b.a.createElement(O.y,{noGutters:!0},v.a.map(e.product_details.features,function(e,t){return b.a.createElement(O.f,{key:"feature-info-".concat(t),xs:12,md:4,className:"feature-container"},b.a.createElement("div",{className:"image"},b.a.createElement("img",{src:e.icon_img,alt:"tm-info-".concat(t,".svg")})),b.a.createElement("div",{className:"desc"},b.a.createElement("h4",null,e.title),b.a.createElement("p",null,e.description)))}))):null}catch(t){}return null}},{key:"renderHighlights",value:function(){var e=this,t=this.state,a=t.productData,n=t.showTooltips,r=this.props.planType;try{return b.a.createElement(O.f,{xs:12,className:"segment d-none d-md-flex"},b.a.createElement(O.y,{className:"w-100",noGutters:!0},v.a.reduce(a.product_details.coverages[r].highlights,function(t,a,r){if(r<3){var c="highlight-info-tooltip-".concat(r);t.push(b.a.createElement(O.f,{key:"highlight-info-".concat(r),xs:4,className:"highlight-container"},b.a.createElement(O.y,{className:"d-flex justify-content-center h-100",noGutters:!0},b.a.createElement("div",{className:"d-flex flex-column"},b.a.createElement("div",{className:"highlight-title-container"},b.a.createElement("div",{className:"title"},a.title),b.a.createElement("div",{className:"highlight-tooltip"},b.a.createElement(O.C,{target:c,isOpen:n[c],toggle:function(){return e.setState({showTooltips:Object(S.a)({},n,Object(_.a)({},c,!1))})},className:"animated fade"},a.tooltip),b.a.createElement("img",{className:"".concat(!a.tooltip&&"tooltip-hidden"),id:c,src:R.a,alt:"Tooltip.svg",onMouseEnter:function(){a.tooltip&&e.setState({showTooltips:Object(S.a)({},n,Object(_.a)({},c,!0))})}}))),b.a.createElement("div",{className:"d-flex justify-content-left align-items-end h-100"},b.a.createElement("p",{className:"value"},a.value))))))}return t},[])))}catch(c){}return null}},{key:"renderValue",value:function(e){return"boolean"===e.type?b.a.createElement("i",{className:"fa ".concat("Yes"===e.value?"fa-check":"fa-times")}):e.value}},{key:"renderInnerDetails",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return b.a.createElement(O.y,{className:"content-container ".concat(n),noGutters:!0},v.a.map(e.contents,function(n,r){var c=n&&n.value,l=r!==e.contents.length-1?"content-sub-container-padding":"";return b.a.createElement(f.Fragment,{key:"coverage-detail-".concat(t,"-").concat(r)},c&&b.a.createElement(O.f,{className:"content ".concat(n.sub_contents||"url"===n.type?"":"content-padding"),xs:12},b.a.createElement(O.y,{className:"w-100",noGutters:!0},b.a.createElement(O.f,{xs:6},b.a.createElement("p",{className:"title content-bold"},n.title)),b.a.createElement(O.f,{xs:6},"url"===n.type?b.a.createElement("a",{className:"content-bold",href:n.value,target:"__blank"},"Read"):b.a.createElement("p",{className:"content-bold"},a.renderValue(n))))),n.sub_contents&&b.a.createElement(O.f,{xs:12},b.a.createElement(O.y,{className:"content-sub-container w-100 ".concat(l),noGutters:!0},v.a.map(n.sub_contents,function(e,n){return b.a.createElement(O.f,{xs:12,key:"coverage-detail-".concat(t,"-").concat(r,"-").concat(n)},b.a.createElement(O.y,{className:"content-sub w-100",noGutters:!0},b.a.createElement(O.f,{xs:6},b.a.createElement("p",{className:"title"},e.title)),b.a.createElement(O.f,{xs:6},"url"===e.type?b.a.createElement("a",{href:e.value,target:"__blank"},"read"):b.a.createElement("p",null,a.renderValue(e)))))}))),r!==e.contents.length-1&&b.a.createElement(O.f,{className:"d-block d-md-none content-break",xs:12}))}))}},{key:"renderDetails",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.state.productData,n=this.props.planType;try{var r=Object(y.a)(t?a.product_details.coverages[n].prex_coverages:a.product_details.coverages[n].coverages);return v.a.isEmpty(r)?null:(!t&&a.product_details.policy_documents&&r.push(a.product_details.policy_documents),b.a.createElement(O.f,{xs:12,className:"d-none d-md-block segment coverage-container"},t&&b.a.createElement("p",{className:"prex-text"},"Sub-limit claims relating to your pre-existing medical conditions"),v.a.map(r,function(t,a){var n="policy documents"===v.a.lowerCase(t.header),c=a===r.length-1?n?"":"no-bottom-padding":"content-border",l=te[t.header]||A.a;return b.a.createElement(O.y,{key:"coverage-detail-".concat(a),className:"coverage-inner-container",noGutters:!0},b.a.createElement(O.f,{className:"coverage-header",xs:4},b.a.createElement("img",{src:l,alt:"clockImg.svg"}),b.a.createElement("h5",{className:"content-bold"},t.header)),b.a.createElement(O.f,{xs:8},e.renderInnerDetails(t,a,c)))})))}catch(c){}return null}},{key:"renderDetailsResp",value:function(e){var t=this,a=this.state.productData,n=this.props.planType;try{var r=Object(y.a)(e?a.product_details.coverages[n].prex_coverages:a.product_details.coverages[n].coverages);if(v.a.isEmpty(r))return null;var c=v.a.map(r,function(a,n){var r=te[a.header]||A.a;return b.a.createElement(f.Fragment,{key:"coverage-resp-".concat(n)},b.a.createElement(O.f,{className:"coverage-resp-container",xs:12},b.a.createElement(O.y,{noGutters:!0},b.a.createElement(O.f,{xs:12},e&&b.a.createElement("p",{className:"prex-text"},"Sub-limit claims relating to your pre-existing medical conditions")),b.a.createElement(O.f,{className:"coverage-resp-main-title",xs:12},b.a.createElement("div",{className:"coverage-resp-img"},b.a.createElement("img",{src:r,alt:"coverage-resp.svg"})),b.a.createElement("h4",null,a.header))),t.renderInnerDetails(a,n)))}),l=c&&c.length>1,s=null;return l&&(s=v.a.reduce(r,function(e,t){return e.push({desc:t.header}),e},[])),b.a.createElement(O.f,{className:"d-flex d-md-none mb-4 flex-column",xs:12},l?b.a.createElement(ce.a,{style:{marginTop:44,marginBottom:34},tabs:s,autoHeight:!0,name:"overview-tab",scrollTabs:!0,isDisableDropdown:!0},c):c)}catch(i){}return null}},{key:"renderDocumentsResp",value:function(){var e=this.state.productData;try{return v.a.map(e.product_details.policy_documents.contents,function(e,t){return b.a.createElement(O.f,{className:"d-block d-md-none",xs:12,key:"document-".concat(t)},b.a.createElement("button",{className:"document-container",onClick:function(){L.a.open(e.value)}},b.a.createElement("div",{className:"document"},b.a.createElement("img",{src:te.documentsResp,alt:"Bell.svg"}),b.a.createElement("p",null,e.title))))})}catch(t){}return null}},{key:"renderPriceResp",value:function(){var e=this.state,t=e.productData,a=e.isShowBottomPrice,n=this.props.planType;try{var r=t.product_details.coverages[n].premium,c=null;r.net_price!==r.price&&(c=r.price);var l=a?"bottom-opened-outer":"",s=a?"bottom-opened-inner":"";return b.a.createElement(f.Fragment,null,b.a.createElement("div",{className:"d-flex ".concat(l," product-price-resp-outer-container")}),b.a.createElement("div",{className:"d-flex ".concat(s," product-price-resp-container")},b.a.createElement("div",{className:"price-container"},b.a.createElement("h5",null,t.info.product_name),b.a.createElement("h6",null,v.a.startCase(n)),b.a.createElement("h4",null,b.a.createElement("span",null,"$",r.net_price.toFixed(2)),c&&b.a.createElement("span",{className:"price"},"$",c.toFixed(2)))),b.a.createElement("div",null,b.a.createElement(re.a,{variant:"medium-flat-green",height:48,onClick:this.handleOnClick},b.a.createElement("p",null,"Buy Policy")))))}catch(i){}return null}},{key:"render",value:function(){var e=this.state,t=e.productData,a=e.showModal;if(!t)return null;var n=!1;try{n=t.product_details.banner_mobile_img}catch(r){}return b.a.createElement(O.y,{className:"product-detail-container",noGutters:!0},this.renderHeader(n),this.renderBanner(),this.renderFeature(),this.renderHighlights(),this.renderDetails(!0),this.renderDetailsResp(!0),this.renderDetails(!1),this.renderDetailsResp(!1),this.renderDocumentsResp(),this.renderPriceResp(),b.a.createElement(I.a,{showModal:a,closeModal:this.hideModal,className:"product-detail-error",backdropClassName:"blue-modal-backdrop",header:b.a.createElement("p",null),body:b.a.createElement("p",null,"An error has occured! Inputs might be invalid for this plan. Please try again."),footer:b.a.createElement(re.a,{variant:"medium-flat-green",height:48,onClick:this.hideModal},b.a.createElement("p",null,"Ok"))}),b.a.createElement(le.a,null))}}]),t}(f.Component));ue.defaultProps={splitParams:null,plansData:null,values:null};var me=Object(g.connect)(null,function(e){return{doSetRestrictionPopup:function(t){e(Object(ie.d)(t))}}})(ue),de=a(609),pe=a(606),he=a.n(pe),ve=a(455),fe=a.n(ve),be=a(460),ge=(a(1020),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"renderValue",value:function(e){return"boolean"===e.type?b.a.createElement("i",{className:"fa ".concat("Yes"===e.value?"fa-check":"fa-times")}):e.value}},{key:"render",value:function(){var e=this,t=this.props.planData;try{if(!t)return null;var a=[];try{var n=v.a.find(t.coverages.coverages,function(e){return"Leisure Activities"===e.header});n&&(a=n.contents[0].sub_contents)}catch(r){}return b.a.createElement("div",{className:"list-view-item-details-container"},b.a.createElement(be.a,{topHr:!0},b.a.createElement(O.y,{className:"inner-container",noGutters:!0},b.a.createElement(O.f,{className:"table-container",xs:12,md:6},b.a.createElement("h6",{className:"title"},"Highlights"),b.a.createElement(O.B,{borderless:!0},b.a.createElement("tbody",null,v.a.reduce(t&&t.coverages&&t.coverages.highlights,function(a,n,r){return r>=3&&a.push(b.a.createElement("tr",{key:"".concat(t.insurerSlug,"_highlight_").concat(r)},b.a.createElement("td",{className:"desc"},n.title),b.a.createElement("td",{className:"value"},e.renderValue(n)))),a},[])))),b.a.createElement(O.f,{className:"table-container",xs:12,md:6},b.a.createElement("h6",{className:"title"},"Leisure Activities Covered"),b.a.createElement(O.B,{borderless:!0},b.a.createElement("tbody",null,v.a.map(a,function(a,n){return b.a.createElement("tr",{key:"".concat(t.insurerSlug,"_sub_").concat(n)},b.a.createElement("td",{className:"desc"},a.title),b.a.createElement("td",{className:"value"},e.renderValue(a)))})))))))}catch(r){}return null}}]),t}(f.Component));ge.defaultProps={planData:null};var Ee=ge,ye=(a(1021),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={showTooltips:{}},a.renderCompareTab=a.renderCompareTab.bind(Object(m.a)(Object(m.a)(a))),a.renderInsuranceInfo=a.renderInsuranceInfo.bind(Object(m.a)(Object(m.a)(a))),a.renderInsuranceDetail=a.renderInsuranceDetail.bind(Object(m.a)(Object(m.a)(a))),a.renderPriceBuy=a.renderPriceBuy.bind(Object(m.a)(Object(m.a)(a))),a.renderInsuranceDetailResp=a.renderInsuranceDetailResp.bind(Object(m.a)(Object(m.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"renderCompareTab",value:function(){var e=this.props.planData,t=e.discount?e.price:"";return b.a.createElement("div",{className:"compare-container w-100 d-flex d-md-block flex-wrap"},b.a.createElement("div",{className:"compare-price w-100 d-md-none"},b.a.createElement("p",{className:"total d-none d-md-block"},"Total"),b.a.createElement("p",{className:"net-price"},e.netPrice),t?b.a.createElement("p",{className:"price"},b.a.createElement("span",null,e.discount),b.a.createElement("span",null,t)):null))}},{key:"renderInsuranceInfo",value:function(){var e=this.props,t=e.planData,a=e.handleProductPage;try{var n=ne.a[t.insurerSlug];return b.a.createElement("div",{className:"insur-container"},b.a.createElement("img",{className:"logo",src:n,alt:"InsurerLogo.png"}),b.a.createElement("div",{className:"header-inner"},b.a.createElement("h2",null,t.productName),b.a.createElement("button",{type:"button",onClick:function(){return a(t.insurerSlug,t.productSlug)}},b.a.createElement("p",null,"Read more"))))}catch(r){}return null}},{key:"renderInsuranceDetail",value:function(){var e=this,t=this.state.showTooltips,a=this.props.planData;return b.a.createElement("div",{className:"detail-container d-none d-md-flex"},v.a.reduce(a.coverages&&a.coverages.highlights,function(n,r,c){if(c<3){var l="tool-tip-".concat(a.productIndex,"-").concat(c);n.push(b.a.createElement("div",{className:"detail-inner-wrapper",key:l},b.a.createElement("div",{className:"detail-inner"},b.a.createElement("div",null,b.a.createElement("p",{className:"detail-title"},r.title),b.a.createElement("p",{className:"detail-value"},r.value)),r.tooltip?b.a.createElement("div",{className:"d-flex align-items-start"},b.a.createElement(O.C,{target:l,isOpen:t[l],toggle:function(){return e.setState({showTooltips:Object(S.a)({},t,Object(_.a)({},l,!1))})},className:"animated fade"},r.tooltip),b.a.createElement("img",{id:l,src:R.a,alt:"Tooltip.svg",onMouseEnter:function(){return e.setState({showTooltips:Object(S.a)({},t,Object(_.a)({},l,!0))})}})):null)))}return n},[]))}},{key:"renderInsuranceDetailResp",value:function(){var e=this,t=this.state.showTooltips,a=this.props.planData;return b.a.createElement("div",{className:"detail-container d-flex d-md-none"},b.a.createElement("div",{className:"detail-inner"},b.a.createElement("div",null,v.a.reduce(a.coverages&&a.coverages.highlights,function(e,t,n){return n<3&&e.push(b.a.createElement("p",{key:"detail-title-".concat(a.productName,"-").concat(n),className:"detail-title"},t.title)),e},[])),b.a.createElement("div",{className:"detail-price-container"},v.a.reduce(a.coverages&&a.coverages.highlights,function(n,r,c){if(c<3){var l="tool-tip-small-".concat(a.productIndex,"-").concat(c);n.push(b.a.createElement("div",{className:"d-flex",key:"detail-price-".concat(a.productName,"-").concat(c)},r.tooltip?b.a.createElement(f.Fragment,null,b.a.createElement(O.C,{target:l,isOpen:t[l],toggle:function(){return e.setState({showTooltips:Object(S.a)({},t,Object(_.a)({},l,!1))})},className:"animated fade"},r.tooltip),b.a.createElement("img",{id:l,src:R.a,alt:"Tooltip.svg",onMouseEnter:function(){return e.setState({showTooltips:Object(S.a)({},t,Object(_.a)({},l,!0))})}})):null,b.a.createElement("p",{className:"detail-value"},r.value)))}return n},[]))))}},{key:"renderPriceBuy",value:function(){var e=this.props.planData,t=e.discount?e.price:"";return b.a.createElement(O.y,{className:"w-100",noGutters:!0},b.a.createElement(O.f,{className:"non-resp-compare-reco",xs:12}),b.a.createElement(O.f,{className:"d-none d-md-flex price-non-resp",xs:12,md:6},b.a.createElement("p",{className:"net-price"},e.netPrice),t?b.a.createElement("p",{className:"price"},b.a.createElement("span",null,e.discount),b.a.createElement("span",null,t)):null),b.a.createElement(O.f,{className:"button-container",xs:12,md:6},b.a.createElement(re.a,{variant:"medium-flat-green",height:40,onClick:e.buyCallBack},b.a.createElement("p",null,"Buy Policy")),b.a.createElement("div",{className:"cashback-earned-container"},b.a.createElement("img",{src:he.a,alt:"Label.svg"}),b.a.createElement("p",null,b.a.createElement("span",null,e.cashback," Cashback")))))}},{key:"render",value:function(){var e=this.props,t=e.planData,a=e.history;return t?b.a.createElement(O.y,{className:"header-list-view-container",noGutters:!0},b.a.createElement(O.f,{md:12,className:"info-container w-100 d-none d-md-flex"},this.renderCompareTab()),b.a.createElement(O.f,{xs:12,md:7,className:"info-container"},this.renderInsuranceInfo(),this.renderInsuranceDetail(),this.renderInsuranceDetailResp()),b.a.createElement(O.f,{xs:7,className:"info-container d-flex d-md-none"},this.renderCompareTab()),b.a.createElement(O.f,{xs:5,md:5,className:"price-container"},this.renderPriceBuy()),t.teaser&&b.a.createElement(O.f,{className:"tag-label",xs:12},b.a.createElement("img",{src:fe.a,alt:"TagLabel.svg"}),t.teaser.is_url&&t.teaser.value?b.a.createElement("button",{type:"button",onClick:function(){return a.push(t.teaser.value)}},t.teaser.name):b.a.createElement("span",null,t.teaser.name)),b.a.createElement(O.f,{xs:12},b.a.createElement(Ee,{planData:t}))):null}}]),t}(f.Component));ye.defaultProps={planData:null};var Oe=Object(E.a)(ye),ke=(a(1022),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).renderListSelectionButtons=a.renderListSelectionButtons.bind(Object(m.a)(Object(m.a)(a))),a.renderList=a.renderList.bind(Object(m.a)(Object(m.a)(a))),a.renderListItem=a.renderListItem.bind(Object(m.a)(Object(m.a)(a))),a.renderPiggy=a.renderPiggy.bind(Object(m.a)(Object(m.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){B()("#intercom-container")&&B()("#intercom-container").hide()}},{key:"componentWillUnmount",value:function(){B()("#intercom-container")&&B()("#intercom-container").show()}},{key:"renderListSelectionButtons",value:function(){var e=this.props,t=e.listData,a=e.setButtonSelected,n=e.selectionButtonIndex;return t?v.a.map(t,function(e,t){var r=n===t?"coverage-active-button":"";return b.a.createElement(O.a,{key:"selection-button-".concat(t),className:"coverage-button ".concat(r),color:"primary",onClick:function(){return a(t)}},e.type)}):null}},{key:"renderList",value:function(){var e=this,t=this.props,a=t.listData,n=t.plansData,r=t.selectionButtonIndex,c=t.planType;try{var l=a[r],s="PolicyPal's Favourite"===l.type,i="Pre-Existing Medical Conditions"===l.type,o=[],u=[],m=0,d=0,p=Object(y.a)(i?n.insurances_prex:n.insurances),h=function(e){return e&&e.policy_info&&e.policy_info[c]&&e.policy_info[c].premium&&e.policy_info[c].premium.net_price};try{p=v.a.orderBy(p,function(e){return h(e)||null},["asc"]),p=v.a.filter(p,function(e){return h(e)})}catch(f){}return a&&s&&l.selection&&v.a.each(l.selection,function(t,a){var n=v.a.findIndex(p,function(e){return e&&e.info&&e.info.insurer_product_slug===t});if(-1!==n){var r=a===l.selection.length-1;o.push(e.renderListItem(p[n],n,m,!0,r)),u.push(n),m+=1}}),v.a.each(p,function(e,t){void 0===v.a.find(u,function(e){return e===t})&&(d=t)}),v.a.each(p,function(t,n){var c=void 0===v.a.find(u,function(e){return e===n}),l=!1,s=!1;try{var i=Math.min(p.length-1,1);l=!a[r].selection&&n===i,s=n===d}catch(f){}c&&(o.push(e.renderListItem(t,n,m,!1,!s&&l,s)),m+=1)}),v.a.isEmpty(o)?b.a.createElement("h3",{className:"text-center mt-5"},"Sorry! No results for current inputs."):o}catch(f){}return b.a.createElement("h3",{className:"text-center mt-5"},"Sorry! No results for current inputs.")}},{key:"renderListItem",value:function(e,t,a){var n=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=this.props,i=s.values,o=s.promoGiveAway,u=s.planType,m=s.selectedArray,d=s.fadingList,p=s.handleProductPage,h=s.handleOnClick,f=null;try{var g=e.policy_info&&e.policy_info[u]&&e.policy_info[u].premium,E=e.info,y=r?"recommended":null,O=v.a.find(m,function(e){return e===(E&&E.insurer_product_slug)}),k="default";"Single Trip"===i.trip_type.value?k="single":"Annual Multi-Trip"===i.trip_type.value&&(k="annual");var N=E&&E.discount&&E.discount[k]&&E.discount[k].amount>0?" ".concat(E.discount[k].display," OFF"):null,j=null;try{j=e.product_details&&e.product_details.coverages[u]}catch(C){}f={productIndex:t,insurerSlug:E&&E.insurer_slug,productName:E&&E.product_name,productSlug:E&&E.product_slug,wording:E&&E.wording_url,teaser:E&&E.teaser,promo:y,coverages:j,netPrice:g?"$".concat(g.net_price.toFixed(2)):"",price:g&&g.price!==g.net_price?"$".concat(g.price.toFixed(2)):"",cashback:g&&E?"$".concat(((E.cashback||0)*g.net_price).toFixed(2)):"",discount:N,buyCallBack:function(){return h(e,n.props.setRestrictionPopup)},isSelected:O}}catch(C){}var x=null,P=null;try{x=c&&o.sub?this.renderPromoBanner(o.sub[0]):null,x=c&&!x&&o.main?this.renderPromoBanner(o.main[0],!0):x,P=l&&!v.a.isEmpty(o.sub)&&o.main?this.renderPromoBanner(o.main[0],!0):null}catch(C){}var w=d&&a<d.length?d[a]:"";return b.a.createElement("div",{className:"list-item-wrapper",key:"listview-item-".concat(a)},b.a.createElement("div",{className:["list-item",w].join(" ")},b.a.createElement(Oe,{planData:f,handleProductPage:p}),x,P))}},{key:"renderPromoBanner",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=null,n=null;try{var r=new Date,c=new Date(e.start_at),l=new Date(e.end_at);if(!(c<=r&&r<=l))return null}catch(s){return null}try{a=e.image_url&&!t?b.a.createElement("a",{className:"sub-promo d-none d-lg-flex",href:e.cta_url,target:"__blank"},b.a.createElement("img",{src:e.image_url,alt:"PromoSub.png"})):null}catch(s){}try{n=e.image_url_resp?b.a.createElement("a",{className:"sub-promo d-flex d-lg-none",href:e.cta_url,target:"__blank"},b.a.createElement("img",{src:e.image_url_resp,alt:"PromoSubResp.png"})):null}catch(s){}return b.a.createElement(f.Fragment,null,a,n)}},{key:"renderPiggy",value:function(){var e=this.props,t=e.piggyData,a=e.category;return t?b.a.createElement("div",{className:"piggy-list-container"},b.a.createElement(de.a,{category:a,mainText:t.mainText,descText:t.descText,onClick:t.onClick})):null}},{key:"render",value:function(){var e=this;return b.a.createElement(f.Fragment,null,b.a.createElement("div",{className:"d-none d-lg-flex top-right-container"},b.a.createElement("div",{className:"buttons"},this.renderListSelectionButtons()),this.renderPiggy()),b.a.createElement("div",null,b.a.createElement("div",{className:"d-flex d-lg-none"},this.renderPiggy()),this.renderList()),b.a.createElement(le.a,{ref:function(t){return e.resPopup=t}}))}}]),t}(f.Component));ke.defaultProps={promoGiveAway:null,listData:null,selectionButtonIndex:0,piggyData:null,fadingList:[],values:null,plansData:null};var Ne=Object(g.connect)(null,function(e){return{setRestrictionPopup:function(t){e(Object(ie.d)(t))}}})(ke),je=a(442),xe=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return b.a.createElement(je.a,{id:"compare_form_tier_tooltip",innerClassName:"tooltip-wide-modal "},b.a.createElement("p",null,b.a.createElement("span",{className:"desc-text"},"We have made it easier for you to do an apple to apple comparison by classifying the different plans into 3 levels of cover.")),b.a.createElement("p",{className:" mt-4"},b.a.createElement("span",{className:"desc-text"},"Insurers typically offers 3 levels of cover.")),b.a.createElement(O.y,{className:"w-100",noGutters:!0},b.a.createElement(O.f,{xs:4},b.a.createElement("span",{className:"title-text"},"Basic:")),b.a.createElement(O.f,{xs:8},b.a.createElement("span",{className:"desc-text"},"Lowest protection benefit."))),b.a.createElement(O.y,{className:"w-100",noGutters:!0},b.a.createElement(O.f,{xs:4},b.a.createElement("span",{className:"title-text"},"Essential:")),b.a.createElement(O.f,{xs:8},b.a.createElement("span",{className:"desc-text"},"Mid-range protection benefit."))),b.a.createElement(O.y,{className:"w-100",noGutters:!0},b.a.createElement(O.f,{xs:4},b.a.createElement("span",{className:"title-text"},"Elite:")),b.a.createElement(O.f,{xs:8},b.a.createElement("span",{className:"desc-text"},"Comprehensive protection benefit."))))}}]),t}(f.Component),Pe=["list","compare","product"],we=v.a.map(["Basic","Essential","Elite"],function(e){return{display_name:e,value:e}}),Ce=function(e){function t(e){var a;Object(l.a)(this,t);var n=(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).props.splitParams;return a.state={currViewState:n.product&&n.insurer?Pe[2]:Pe[0],isFadeOut:!1,overridePlanTypes:null,fadingList:[]},a.renderLeftContainer=a.renderLeftContainer.bind(Object(m.a)(Object(m.a)(a))),a.renderBackToListButton=a.renderBackToListButton.bind(Object(m.a)(Object(m.a)(a))),a.switchView=a.switchView.bind(Object(m.a)(Object(m.a)(a))),a.setButtonSelected=a.setButtonSelected.bind(Object(m.a)(Object(m.a)(a))),a.setOverridePlanTypes=a.setOverridePlanTypes.bind(Object(m.a)(Object(m.a)(a))),a.handleTierSelection=a.handleTierSelection.bind(Object(m.a)(Object(m.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getPlans;e.plansData||t()}},{key:"componentDidUpdate",value:function(e){var t=this.props.splitParams;!v.a.isEqual(t,e.splitParams)&&t.insurer&&t.product&&this.switchView(Pe[2])}},{key:"setOverridePlanTypes",value:function(e){var t=this.props,a=t.planType,n=t.setPlanType,r=v.a.startCase(a);if(e&&e.length>0&&!v.a.find(e,function(e){return e.value===r})){var c=v.a.find(we,function(t){return t.value===e[0].value});n(c&&c.value)}this.setState({overridePlanTypes:e})}},{key:"setButtonSelected",value:function(e){(0,this.props.setSelectionButtonIndex)(e)}},{key:"switchView",value:function(){var e=Object(c.a)(r.a.mark(function e(t){var a,n,l,s=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this.props,n=a.category,l=a.resetPath,this.setState({isFadeOut:!0,overridePlanTypes:null},Object(c.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){return setTimeout(function(){return s.setState({currViewState:t},e)},300)});case 2:if(t!==Pe[2]){e.next=5;break}return e.next=5,new Promise(function(e){return setTimeout(e,100)});case 5:s.setState({isFadeOut:!1}),t===Pe[1]&&Object(oe.a)("".concat(v.a.startCase(n),"CompareS")),t!==Pe[2]&&l&&l();case 8:case"end":return e.stop()}},e)})));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleTierSelection",value:function(){var e=Object(c.a)(r.a.mark(function e(t){var a,n,c,l,s,i,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.currViewState,n=this.props,c=n.plansData,l=n.setPlanType,e.prev=2,this.mutex||!t||!c||!c.insurances_all){e.next=32;break}if(this.mutex=!0,s=[],a!==Pe[0]){e.next=18;break}i=0;case 8:if(!(i<c.insurances_all.length)){e.next=16;break}return s.push("list-item-fade"),this.setState({fadingList:Object(y.a)(s)}),e.next=13,new Promise(function(e){setInterval(e,10)});case 13:++i,e.next=8;break;case 16:return e.next=18,new Promise(function(e){setInterval(e,100)});case 18:if(l(t.toLowerCase()),a!==Pe[0]){e.next=30;break}s=v.a.map(c.insurances_all,function(){return"list-item-fade"}),o=0;case 22:if(!(o<s.length)){e.next=30;break}return s[o]="",this.setState({fadingList:Object(y.a)(s)}),e.next=27,new Promise(function(e){setInterval(e,10)});case 27:++o,e.next=22;break;case 30:this.revalidateSelection(),this.mutex=!1;case 32:e.next=38;break;case 34:e.prev=34,e.t0=e.catch(2),this.mutex=!1,this.setState({fadingList:[]});case 38:case"end":return e.stop()}},e,this,[[2,34]])}));return function(t){return e.apply(this,arguments)}}()},{key:"renderBackToListButton",value:function(){var e=this;return this.state.currViewState!==Pe[0]?b.a.createElement("button",{className:"back-list-button",onClick:function(){return e.switchView(Pe[0])}},b.a.createElement("img",{src:w.a,alt:"Arrow.svg"}),"Back to Product List"):null}},{key:"renderLeftContainer",value:function(){var e=this,t=this.state,a=t.currViewState,n=t.overridePlanTypes,r=this.props,c=r.editForm,l=r.form,s=r.promoGiveAway,i=r.choosePlanListData,o=r.selectionButtonIndex,u=r.planType,m=r.values,d=r.getPlans,p=null,h=v.a.map(i||[],function(e){return{display_name:e.type,value:e.type}});try{var g=new Date,E=new Date(s.main[0].start_at),y=new Date(s.main[0].end_at);E<=g&&g<=y&&(p=b.a.createElement("a",{className:"d-none d-lg-block",href:s.main[0].cta_url,target:"__blank"},b.a.createElement("img",{className:"main-promo",src:s.main[0].image_url,alt:"PromoMain.png"})))}catch(j){}var k=b.a.createElement(f.Fragment,null,b.a.createElement(O.y,{noGutters:!0},a!==Pe[0]?b.a.createElement(O.f,{className:"plantype-drop",style:{minHeight:0},xs:{size:6,order:3},lg:{size:12,order:1}},this.renderBackToListButton()):null,b.a.createElement(O.f,{className:"plantype-drop d-none d-lg-block",xs:{size:6,order:2},lg:{size:12,order:2}},b.a.createElement("div",{className:"tier-selection-checkbox-container"},b.a.createElement("div",{className:"tier-header"},b.a.createElement("p",{className:"my-0 detail-value"},b.a.createElement("span",null,"Coverage Level")),b.a.createElement(xe,null)),b.a.createElement("h6",null,"Please select one"),b.a.createElement("div",{className:"options-container"},v.a.map(n||we,function(t,a){return b.a.createElement("div",{className:"option",key:"planType-checkbox-".concat(a)},b.a.createElement("button",{className:["option-button",t.value.toLowerCase()===u?"selected":""].join(" "),type:"button",onClick:function(){return e.handleTierSelection(t.value)}}),b.a.createElement("button",{type:"button",onClick:function(){return e.handleTierSelection(t.value)}},b.a.createElement("span",{className:"detail-value"},t.value)))})))),b.a.createElement(O.f,{className:"plantype-drop d-block d-lg-none",xs:{size:6,order:2},lg:{size:12,order:2}},b.a.createElement(C.a,{dropList:n||we,placeholderString:"Coverage Level",logo:x.a,value:{display_name:v.a.startCase(u),value:v.a.startCase(u)},isDisableTyping:!0,noExternalDesc:!0,onChange:function(t,a,n){e.handleTierSelection(n.value)}})),a===Pe[0]&&h?b.a.createElement(O.f,{xs:{size:6,order:3},lg:{size:12,order:3},className:"d-block d-lg-none filter-container"},b.a.createElement(C.a,{dropList:h,placeholderString:"Filter",isDisableTyping:!0,noExternalDesc:!0,value:h[o],onChange:function(t,a,n){var r=v.a.findIndex(h,function(e){return e.value===n.value});e.setButtonSelected(r)}})):null,b.a.createElement(O.f,{xs:{size:12,order:1},lg:{size:12,order:4}},b.a.createElement(D.a,{submitCallback:d,form:l,headerValue:c.headerValue,valuesToListen:c.valuesToListen,conditions:c.conditions,values:m},c.editDetail))),p);return b.a.createElement("div",{className:"left-container"},b.a.createElement("div",{className:"d-none d-lg-block"},b.a.createElement(N.a,{enabled:!0,top:100,bottomBoundary:0},k)),b.a.createElement("div",{className:"d-block d-lg-none"},k))}},{key:"render",value:function(){var e=this;try{var t=this.state,a=t.currViewState,n=t.isFadeOut,r=t.fadingList,c=this.props,l=c.plansData,s=c.choosePlanListData,i=c.choosePlanPiggyData;if(!l)return null;var o=n?"animated fadeOut":"animated fadeIn";return b.a.createElement("div",{className:"listview-container d-block d-md-flex justify-content-center"},this.renderLeftContainer(),b.a.createElement("div",{className:"right-container",ref:function(t){return e.rightContainer=t}},b.a.createElement("div",{className:"fade-container ".concat(o)},a===Pe[0]?b.a.createElement(Ne,Object.assign({},this.props,{setButtonSelected:this.setButtonSelected,fadingList:r,listData:s,piggyData:i})):b.a.createElement(me,Object.assign({},this.props,{setOverridePlanTypes:this.setOverridePlanTypes,switchView:function(){return e.switchView(Pe[0])}})))))}catch(u){return null}}}]),t}(f.Component);Ce.defaultProps={};var De=Object(g.connect)(function(e){return{selectedInsurers:e.compare.selectedInsurers}},function(e){return{setRestrictionPopup:function(t){e(Object(ie.d)(t))}}})(Ce),_e=a(383),Se=a(592),Te=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.splitParams,a=e.mainFormFields,n=e.errors,r=e.onChangeValue,c=e.onUpdateValues,l=e.values,s=e.valuesToListen,i=e.conditions,o=e.validateForm,u=e.getPlans,m=t&&"tokio_marine"===t.insurer&&"xplora_japan"===t.product,d=t&&v.a.includes(t.product,"prex");return b.a.createElement(De,Object.assign({},this.props,{category:"travel",form:"travel",editForm:{valuesToListen:s(l),conditions:i,editDetail:b.a.createElement(Se.a,{isPopUp:!0,onUpdateValues:c,values:l,title:"Edit Travel Insurance Details",validateForm:o,onSubmit:u},v.a.reduce(a,function(e,t,c){return!m||"countries"!==t.slug&&"region"!==t.slug?(e.push(b.a.createElement(_e.a,{key:"business-form-".concat(c),values:l,errors:n,fieldData:t,onChangeValue:function(e,t,n){return r(e,t,n,a)},extraInfo:t.extra_info&&b.a.createElement("p",null,t.extra_info),noInternalDesc:t.no_internal_desc,isPrex:d})),e):e},[]))},forceFixedOnDesktop:!0}))}}]),t}(f.Component);Te.defaultProps={splitParams:null};var Be=Te,Fe=a(20),Le=a(119),Ie=a(63),Me=function(e){function t(e){var a;Object(l.a)(this,t);var n=(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).props.match;return a.state={splitParams:n.params},a.getPlans=a.getPlans.bind(Object(m.a)(Object(m.a)(a))),a.handleOnClick=a.handleOnClick.bind(Object(m.a)(Object(m.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a=t.splitParams,n=e.match;return v.a.isEqual(a,n.params)?null:{splitParams:n.params}}}]),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(r.a.mark(function e(){var t,a,n,c,l,s,i,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.setFormState,n=t.doSetCategoryNavBar,c=t.mainFormFields,l=t.handleAPI,s=t.getMainFields,i=t.constants,o=t.history,a(se.b.CHOOSEPLAN.index),Object(oe.b)("PPS2 - Pageview - Travel - ChoosePlan",{Product:"Travel"}),Object(oe.d)({page_title:"Travel - Choose Plan",page_path:"/travel/chooseplan"}),Object(oe.a)("TravelResultsS"),p.a.body.style.backgroundColor="#F9FAFF",n(!0),c){e.next=12;break}return e.next=10,l(function(){return s(i)},!1,"Unable to get form fields. Please try again!",function(){return o.goBack()});case 10:e.sent||o.push("/");case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=this.props.doSetCategoryNavBar;p.a.body.style.backgroundColor="#FFFFFF",e(!1)}},{key:"getPlans",value:function(){var e=Object(c.a)(r.a.mark(function e(){var t,a,n,c,l,s,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.values,n=t.handleAPI,c=t.setPlansData,l=t.history,s=Object(Le.e)(a),e.next=4,n(function(){return Object(Le.d)(s)},!1,"Unable to get products! Please try again.",function(){return l.goBack()});case 4:(i=e.sent)&&c(i);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleOnClick",value:function(e,t){var a=this.props,n=a.category,r=a.setFormState,c=a.setSelectedPlanData,l=a.planType,s=a.history;Object(Ie.h)(l,e);var i=function(){c(e),r(se.b.DETAILFORM.index),s.push("/travel".concat(se.b.DETAILFORM.path))};e.restrictions&&(Object(oe.a)("".concat(v.a.startCase(n),"RestrictionsS")),t)?t({values:e.restrictions,clickCallback:i,doAcceptTag:function(){return Object(oe.a)("".concat(v.a.startCase(n),"AcceptA"))}}):i()}},{key:"render",value:function(){var e=this.state.splitParams,t=this.props,a=t.history,n=t.values;if(!t.mainFormFields)return null;var r="default";try{"Single Trip"===n.trip_type.value?r="single":"Annual Multi-Trip"===n.trip_type.value&&(r="annual")}catch(c){}return b.a.createElement(Be,Object.assign({},this.props,{loadingFailBackState:function(){return a.goBack()},resetPath:function(){return a.replace("/travel".concat(se.b.CHOOSEPLAN.path))},getPlans:this.getPlans,splitParams:e,valuesToListen:Ie.k,conditions:Ie.e,choosePlanListData:Ie.c,choosePlanPiggyData:Ie.d,handleOnClick:this.handleOnClick,tripType:r,parseForm:Le.e}))}}]),t}(f.Component);Me.defaultProps={values:null};t.default=Object(E.a)(Object(g.connect)(function(e){return{travelPromoGiveAway:e.insurance.promoGiveaways.travel,mainFormFields:e.travel.mainFormFields,constants:e.insurance.constants}},function(e){return{getMainFields:function(t){return e(Object(Le.b)(t))},setFormState:function(t){e(Object(se.G)(t))},doSetCategoryNavBar:function(t){e(Object(Fe.n)(t))}}})(Me))},324:function(e,t,a){"use strict";var n=a(45),r=a(48),c=a(47),l=a(46),s=a(49),i=a(114),o=a(5),u=a.n(o),m=a(1),d=a.n(m),p=a(56),h=a(115),v=a(299),f=a(78),b=(a(354),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).state={values:null,clickCallback:null,doAcceptTag:null,modal:!1},a.setData=a.setData.bind(Object(i.a)(Object(i.a)(a))),a.handleClick=a.handleClick.bind(Object(i.a)(Object(i.a)(a))),a}return Object(s.a)(t,e),Object(l.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.data;return a&&a!==t.data?(e.clearRestrictionPopup(),{values:a.values,clickCallback:a.clickCallback,doAcceptTag:a.doAcceptTag}):null}}]),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.state,t=e.values,a=e.modal;t&&!a&&this.setState({modal:!0})}},{key:"setData",value:function(e,t,a){var n=this;this.setState({values:e,clickCallback:t,doAcceptTag:a}),setTimeout(function(){return n.setState({modal:!0})},100)}},{key:"handleClick",value:function(){var e=this.state,t=e.clickCallback,a=e.doAcceptTag;a&&a(),t&&t(),this.setState({modal:!1,values:null})}},{key:"renderData",value:function(){var e=this.state.values;return u.a.map(e,function(e,t){var a=u.a.split(e.description,"\n");return d.a.createElement(m.Fragment,{key:"res-data-".concat(t)},d.a.createElement(h.f,{className:"title",xs:12,sm:4},d.a.createElement("p",null,e.title)),d.a.createElement(h.f,{className:"res-desc",xs:12,sm:8},u.a.map(a,function(e,t){return d.a.createElement("p",{key:"res-desc-".concat(t)},e)})),d.a.createElement(h.f,{xs:12},d.a.createElement("div",{className:"line",xs:12})))})}},{key:"render",value:function(){var e=this,t=this.state.modal;return d.a.createElement(h.o,{backdropClassName:"blue-modal-backdrop",className:"restrictions-popup",isOpen:t,size:"lg"},d.a.createElement(h.r,{toggle:function(){return e.setState({modal:!1,values:null})}}),d.a.createElement(h.y,null,d.a.createElement(h.f,{className:"header",xs:12},d.a.createElement("p",null,"Company's Restrictions"),d.a.createElement("p",{className:"sub"},"Scroll down to read the restrictions")),this.renderData()),d.a.createElement(h.y,null,d.a.createElement(h.f,{className:"button-container",xs:12},d.a.createElement(v.a,{onClick:this.handleClick,type:"submit",variant:"medium-flat-green",width:165,height:72},d.a.createElement("p",null,"Accept")))))}}]),t}(m.Component));t.a=Object(p.connect)(function(e){return{data:e.restrictions.data}},function(e){return{clearRestrictionPopup:function(){e(Object(f.c)())}}})(b)},342:function(e,t,a){e.exports=a.p+"static/media/EditButton.d239c2ce.svg"},354:function(e,t,a){},455:function(e,t,a){e.exports=a.p+"static/media/TagLabel.8f22645f.svg"},460:function(e,t,a){"use strict";var n=a(45),r=a(46),c=a(48),l=a(47),s=a(49),i=a(114),o=a(1),u=a.n(o),m=a(115),d=a(300),p=a.n(d),h=(a(579),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).toggle=a.toggle.bind(Object(i.a)(Object(i.a)(a))),a.state={collapse:!1},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"toggle",value:function(){this.setState({collapse:!this.state.collapse})}},{key:"render",value:function(){var e=this.state.collapse,t=this.props,a=t.collapseOverwrite,n=t.useOverwrite,r=t.className,c=t.topHr,l=n?a:e;return u.a.createElement(m.f,{className:["detail-collapse-container",r].join(" "),xs:12},!n&&u.a.createElement(m.a,{onClick:this.toggle,className:"collapse-button"},u.a.createElement("p",{className:"grey-text collapse-text"},e?"Hide details":"More details"),u.a.createElement("img",{className:e?"rotate-arrow":"",src:p.a,alt:"Arrow.svg"})),!n&&l&&c&&u.a.createElement("hr",null),u.a.createElement(m.g,{isOpen:l},this.props.children),!n&&!c&&u.a.createElement("hr",null))}}]),t}(o.Component));h.defaultProps={collapseOverwrite:!1,useOverwrite:!1,className:"",topHr:!1},t.a=h},547:function(e,t,a){"use strict";var n=a(45),r=a(46),c=a(48),l=a(47),s=a(49),i=a(1),o=a.n(i),u=a(298),m=a(455),d=a.n(m),p=(a(548),function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.history,a=e.className,n=e.teaser;return n?o.a.createElement("div",{className:["voucher-tag-container",a].join(" ")},o.a.createElement("img",{src:d.a,alt:"TagLabel.svg"}),n.is_url&&n.value?o.a.createElement("button",{type:"button",onClick:function(){return t.push(n.value)}},n.name):o.a.createElement("span",null,n.name)):null}}]),t}(i.Component));p.defaultProps={className:"",teaser:null},t.a=Object(u.a)(p)},548:function(e,t,a){},579:function(e,t,a){},592:function(e,t,a){"use strict";var n=a(3),r=a.n(n),c=a(6),l=a(45),s=a(46),i=a(48),o=a(47),u=a(49),m=a(114),d=a(5),p=a.n(d),h=a(1),v=a.n(h),f=a(115),b=a(299),g=function(e){function t(e){var a;Object(l.a)(this,t);var n=(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).props,r=n.values,c=n.setCloseCallBack;return a.originalValues=p.a.cloneDeep(r),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(Object(m.a)(a))),a.handleCloseEdit=a.handleCloseEdit.bind(Object(m.a)(Object(m.a)(a))),a.handleRevert=a.handleRevert.bind(Object(m.a)(Object(m.a)(a))),c&&c(a.handleRevert),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleSubmit",value:function(){var e=Object(c.a)(r.a.mark(function e(t){var a,n,c,l,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=this.props,n=a.closePopUp,c=a.fields,l=a.validateForm,s=a.onSubmit,e.next=4,l(function(){n&&n(),s()},c);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleRevert",value:function(){var e=this.props.onUpdateValues;e&&e(this.originalValues)}},{key:"handleCloseEdit",value:function(){(0,this.props.closePopUp)(this.handleRevert)}},{key:"render",value:function(){var e=this,t=this.props,a=t.isPopUp,n=t.title,r=a?"":"landing-form-container-border";return v.a.createElement("div",{className:"landing-form-container-new ".concat(r)},a?v.a.createElement("p",{className:"edit-header"},n):null,v.a.createElement(f.m,{onSubmit:this.handleSubmit},v.a.createElement(f.y,{className:"input-offset",noGutters:!0},this.props.children,a?null:v.a.createElement(f.f,{className:"d-flex align-items-end justify-content-end button",xs:12,sm:6},v.a.createElement(b.a,{type:"submit",variant:"medium-flat-green",height:48},v.a.createElement("p",null,"Search Policies")))),v.a.createElement(f.y,{className:"align-items-center button-container",noGutters:!0},a?v.a.createElement(f.f,{className:"justify-content-center button",xs:12},v.a.createElement(f.y,{noGutters:!0},v.a.createElement(f.f,{className:"button-container-inner",xs:12,sm:6},v.a.createElement(b.a,{type:"button",className:"button-left",variant:"medium-outline-inverse",height:48,onClick:function(){return e.handleCloseEdit()}},v.a.createElement("p",null,"Cancel"))),v.a.createElement(f.f,{className:"button-container-inner",xs:12,sm:6},v.a.createElement(b.a,{type:"submit",variant:"medium-flat-green",height:48},v.a.createElement("p",null,"Save"))))):null)))}}]),t}(h.Component);g.defaultProps={values:null,closePopUp:null,setCloseCallBack:null,isPopUp:!1,onUpdateValues:null},t.a=g},603:function(e,t,a){"use strict";var n=a(22),r=a(45),c=a(46),l=a(48),s=a(47),i=a(49),o=a(114),u=a(5),m=a.n(u),d=a(16),p=a.n(d),h=a(1),v=a.n(h),f=a(115),b=a(342),g=a.n(b),E=a(299),y=a(8),O=(a(604),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={modal:!1,revertFunc:function(){},isToolTip:!1},a.renderDetailValues=a.renderDetailValues.bind(Object(o.a)(Object(o.a)(a))),a.renderEditButton=a.renderEditButton.bind(Object(o.a)(Object(o.a)(a))),a.toggle=a.toggle.bind(Object(o.a)(Object(o.a)(a))),a}return Object(i.a)(t,e),Object(c.a)(t,[{key:"toggle",value:function(e){var t=this.state.modal;t&&e&&e(),this.setState({modal:!t})}},{key:"renderDetailValues",value:function(e){var t=this,a=this.state.isToolTip,r=this.props,c=r.values,l=r.valuesToListen,s=r.conditions,i=s?c[s.key]&&c[s.key].value:null,o=i?s.values[i]:null;return c?v.a.createElement("div",{className:"edit-detail-value-container-new"},m.a.reduce(l,function(r,s,i){if(!o||o&&-1!==m.a.findIndex(o,function(e){return e===s.value})){var u=c[s.value]?c[s.value].value:"None",d=u,b=!1;s.customFunc?d=s.customFunc():"cost_simplify"===s.extra?d=Object(y.o)(u):u.constructor===Array?(b=!0,d=Object(n.a)(u),s.aggregateDesc&&d.length>1&&(d="".concat(d.length," ").concat(s.aggregateDesc))):u.constructor===Object?d=u.display_name:u.constructor===Date&&(d=p()(u).format("DD MMM YYYY")),d=d.toString();var g=null;if(e){var E=i===l.length-1?"":",";g=v.a.createElement("div",{key:"detail-".concat(i),className:"detail-resp-value"},d,E)}else g=v.a.createElement("div",{className:"edit-detail-value",key:"detail-".concat(i)},v.a.createElement("img",{src:s.logo,alt:"".concat(s.value,".svg"),className:"detail-logo"}),v.a.createElement("span",{className:"detail-value"},d,b&&u.length>1?v.a.createElement(h.Fragment,null,v.a.createElement(f.C,{target:"initial-form-tooltip-".concat(i),isOpen:a,toggle:function(){return t.setState({isToolTip:!1})},className:"animated fade"},m.a.map(u,function(e,t){return v.a.createElement("p",{key:"tooltip-value-".concat(t)},e)})),v.a.createElement("div",{id:"initial-form-tooltip-".concat(i),className:"tooltip-button",onMouseMove:function(){t.setState({isToolTip:!0})}},v.a.createElement("p",null,"i"))):null));r.push(g)}return r},[])):null}},{key:"renderEditButton",value:function(e){var t=this;return e?v.a.createElement("div",{role:"button",tabIndex:-1,onKeyDown:function(){},onClick:function(){t.toggle()}},v.a.createElement("img",{src:g.a,alt:"EditButton.svg"})):v.a.createElement(E.a,{variant:"medium-outline-edit",height:40,onClick:function(){t.toggle()}},v.a.createElement("p",null,"Edit"))}},{key:"render",value:function(){var e=this,t=this.state,a=t.modal,n=t.revertFunc,r=this.props,c=r.submitCallback;return r.displayOnly?this.renderDetailValues(!1):v.a.createElement("div",{className:"change-form-container-new"},v.a.createElement("div",{className:"edit-detail-container d-none d-lg-flex"},v.a.createElement("div",{className:"edit-detail-inner-container"},this.renderDetailValues(!1)),this.renderEditButton(!1)),v.a.createElement("div",{className:"edit-detail-resp-container d-flex d-lg-none"},v.a.createElement("div",{className:"detail-inner-resp-container"},this.renderDetailValues(!0)),this.renderEditButton(!0)),v.a.createElement(f.o,{isOpen:a,size:"lg",backdropClassName:"blue-modal-backdrop"},v.a.createElement(f.r,{toggle:function(){return e.toggle(n)}}),v.a.cloneElement(this.props.children,{submitCallback:c,closePopUp:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e.toggle(),t()},setCloseCallBack:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return e.setState({revertFunc:t})}})))}}]),t}(h.Component));O.defaultProps={submitCallback:null,conditions:null,headerValue:null,displayOnly:!1,values:null},t.a=O},604:function(e,t,a){},639:function(e,t,a){e.exports=a.p+"static/media/Tooltip.1bc18b72.svg"}}]);
//# sourceMappingURL=TravelChoosePlan.85caf153.chunk.js.map