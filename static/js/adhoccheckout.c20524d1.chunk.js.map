{"version":3,"sources":["containers/Motor/MotorCheckoutContainer.js","containers/AdHocCheckout/AdHocOthersContainer.js","containers/AdHocCheckout/AdHocCheckoutContainer.js","components/Templates/CheckoutPopup/CheckoutComplete.js","components/Forms/Selection/Selection.js","assets/images/forms/ArrowGradient.svg","assets/images/common/CheckoutComplete.svg","components/Templates/Enquiry/Enquiry.js","components/Templates/LoadingScreenV2/LogoSlider.js","components/Templates/LoadingScreenV2/LoadingScreenV2.js","lib/trackingHelper.js","components/Templates/TabView/TabViewNew.js","assets/images/forms/Label.svg","components/FormsV3/PromoCode/PromoCode.js","components/Templates/StripePayment/StripePayment.js","components/Templates/PiggySignUp/PiggySignUpNew.js","components/Templates/PiggySignUp/PiggyFillFormNew.js","assets/images/common/CheckIcon.svg","assets/images/common/Phone.svg","components/Templates/Accordion/Accordion.js","assets/images/Icons/Google.png","assets/images/Icons/Facebook.png","components/Templates/PiggySignUp/PiggySignUp.js","assets/images/Motor/Pig.svg","containers/Pet/PetCheckoutContainer.js","components/Templates/APILoader/APILoader.js","assets/images/forms/PiggyBank.svg","containers/PA/PACheckoutContainer.js","components/Templates/InsurerFormHeader/HeaderDescWithTypeDateNew.js","components/Templates/CheckoutV1/CheckoutDetailsTable/CheckoutDetailsTable.js","components/Templates/CheckoutV1/CheckoutPriceSummary/CheckoutPriceSummary.js","components/Templates/CashbackBalance/CashbackBalanceNew.js","components/Templates/CheckoutV1/CheckoutCashback/CheckoutCashback.js","components/Templates/CheckoutV1/CheckoutTotal/CheckoutTotal.js","components/Templates/CheckoutV1/CheckoutDisclaimer/CheckoutDisclaimer.js","components/Templates/CheckoutV1/CheckoutPayment/CheckoutPayment.js","components/Templates/CheckoutV1/Checkout.js","containers/Travel/TravelCheckoutContainer.js","components/Templates/ErrorPage/ErrorPage.js"],"names":["MotorCheckoutContainer","props","_this","Object","classCallCheck","this","_this$props","possibleConstructorReturn","getPrototypeOf","call","motorForm","motorMoreForm","motorDetailsForm","selectedPlanData","isAdHoc","adHocData","paramsWording","getCheckoutParamsWording","getSessionParams","headerCoverage","getCheckoutHeaderDataCoverage","params","motorDetailFormToUse","data","session_params","state","objectSpread","headerData","mainDetails","title","attributes","compactCheckoutAttributes","description","email","name","family_name","given_name","nric","gender","marital_status","birth_date","mobile_number","address","unit_no","postal","start_date","end_date","subDetails","getCompactSubDetails","key","leftDetail","pass_date","years_of_experience","ncd","offence_free","num_claims","rightDetail","vehicle_number","vehicle_no","vehicle_usage","vehicle_make","vehicle_model","num_seats","reg_year","manufacture_year","off_peak","commencement_date","setFormState","FORMSTATES","CHECKOUT","index","gaTag","page_title","page_path","_this$state","wording","_this$props2","isLoggedIn","charged","history","sessionId","react_default","a","createElement","CheckoutWrapper","backToDetails","goBack","category","trackingTags","payment","gaEvent","event_category","event_label","receipt","SUBMITTED","push","concat","path","Component","defaultProps","withRouter","connect","ownProps","insurance","getFormValues","pet","dispatch","setInsuranceFormState","defaultTopNames","defaultBottomNames","AdHocOthersContainer","sessionParamsToUse","_","map","param","startCase","replace","AdHocCheckoutContainer","apiLoader","setCharged","bind","assertThisInitialized","match","getAdhocTransaction","id","setState","APILoader","status","Promise","resolve","_this2","localCharged","userDetails","isEmpty","TravelCheckoutContainer","handleAPI","PetCheckoutContainer","Motor_MotorCheckoutContainer","PACheckoutContainer","AdHocCheckout_AdHocOthersContainer","error","ErrorPage","_this3","react","renderCheckout","ref","node","CheckoutComplete","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","animateStyle","openCheckoutComplete","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","userName","arguments","length","undefined","setTimeout","popupRef","openPopup","isQuoteOnly","upperText","react__WEBPACK_IMPORTED_MODULE_6___default","react__WEBPACK_IMPORTED_MODULE_6__","className","midText","_this$props3","buttonText","callback","components_FormsV3_Button_Button__WEBPACK_IMPORTED_MODULE_9__","variant","width","height","onClick","togglePopup","closePopup","_this4","_this$props4","isSellLeads","extraText","_Popup_Popup__WEBPACK_IMPORTED_MODULE_10__","hideCloseButton","r","src","CheckoutCompleteSVG","alt","renderUpperText","renderMidText","renderButton","withRef","Selection","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","selections","formStore","storeValues","storeValuesArray","constructor","Array","resultState","forEach","v","nextProps","prevState","getStoreSelection","noEmptyTextSelection","setInitialValue","prevProps","option","type","change","toggleResult","newSelections","noUpdate","mapValues","findKey","assign","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","each","k","options","selectionState","CheckIcon","_this$props5","sizeInSM","children","role","onKeyPress","onToggleSelection","tabIndex","renderSelectionInsides","reactstrap__WEBPACK_IMPORTED_MODULE_10__","sm","_this$props6","desc","extraInfo","errorString","_FormInputWrapper_FormInputWrapper__WEBPACK_IMPORTED_MODULE_13__","formParent","style","marginTop","redux_form__WEBPACK_IMPORTED_MODULE_8__","component","renderSelectionIcon","PureComponent","form","module","exports","__webpack_require__","p","Enquiry","react__WEBPACK_IMPORTED_MODULE_5___default","reactstrap__WEBPACK_IMPORTED_MODULE_6__","Phone","href","LogoSlider","logos","Logos","small","logo","keyFrameLogo","keyframes","_templateObject","AnimatedContainer","styled","div","_templateObject2","renderLogos","clearInterval","interval","LoadingScreenV2","overwriteShowWarning","closeLoading","handleChange","isLoading","timer","clearTimeout","showLoadingError","showLoading","errorCallback","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","stop","isLoadingError","message","noLogos","loadingStyle","SpinnerAnimation","LoadingScreenV2_LogoSlider","ModalPopup","showModal","closeModal","backdropClassName","header","body","zIndex","footer","Button","getInsurerLogo","insurer_slug","getAddToCartData","result","keys","_params$insurer_slug","_params$product_slug","product_slug","_params$values","values","_params$price","price","product","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","pick","i","item","date","isObject","value","moment","format","isArray","from","c","parseValues","product_image","quantity","content_ids","content_name","product_name","content_type","contents","currency","Number","TabViewNew","padding","maxTabWidthPx","isDataFadeOnly","tabs","initialIndex","isUsingMaxWidth","maxWidth","tabWidth","activeIndex","containerWidth","widthPercentage","paddingWidth","isControlVisible","fadeStyle","goToIndex","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__","handleResize","resizeTabHeight","renderTabs","renderTabContent","renderControls","renderSlides","renderScollableTabs","renderSelectableTabs","renderDropControls","currentTabSelection","newIndex","findIndex","tab","changeTab","window","addEventListener","ReactDOM","findDOMNode","carousel","setTriggerHeightUpdate","tabContainer","getBoundingClientRect","removeEventListener","_this$state2","hideWidth","isVisibleNow","innerWidth","isForced","_this$state3","carouselIncoming","overrideNegation","isConstantHeight","carouselToUse","list","getElementsByTagName","sliderWrapper","parentNode","itemHeight","scrollHeight","activeStyle","bigTextStyle","big","isWithImg","isString","img","react__WEBPACK_IMPORTED_MODULE_8___default","react__WEBPACK_IMPORTED_MODULE_8__","_this$state4","bigTabStyle","tabStyle","onKeyDown","_this5","React","cloneElement","updateTabHeight","_this6","_this$state5","isDisableDropdown","displayStyle","react_custom_scrollbars__WEBPACK_IMPORTED_MODULE_9__","_this7","_this$state6","droplist","display_name","_FormsV3_DropDown_DropDown__WEBPACK_IMPORTED_MODULE_13__","placeholderString","dropList","isDisableTyping","onChange","noInternalDesc","_this8","_this$state7","isOverContainer","selectedMargin","bigStyle","marginLeft","scrollTabs","_this9","_this$state8","react_responsive_carousel__WEBPACK_IMPORTED_MODULE_12__","showThumbs","showIndicators","showArrows","showStatus","selectedItem","swipeable","tabName","setTabSelection","PromoCode","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","oldValue","isComMounted","propsValue","postCheckout","react__WEBPACK_IMPORTED_MODULE_7___default","_FormInputWrapper_FormInputWrapper__WEBPACK_IMPORTED_MODULE_10__","reactstrap__WEBPACK_IMPORTED_MODULE_8__","placeholder","disabled","e","target","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","abrupt","sent","t0","StripePayment","currMarkup","extraData","cleanCheckoutButtonContainer","setNewMarkup","invokeClick","markup","paymentCallback","replacementIDString","range","document","createRange","checkoutButton","appendChild","createContextualFragment","$","get","submit","serializeArray","firstChild","removeChild","failCallback","doTag","zeroPaymentCallback","failCallTimeout","ele","getElementsByName","setInterval","getElementsByClassName","dataset","amount","console","log","button","trigger","react__WEBPACK_IMPORTED_MODULE_7__","components_Templates_LoadingScreenV2_LoadingScreenV2__WEBPACK_IMPORTED_MODULE_8__","PiggySignUpNew","subHeader","reactstrap_es","xs","PiggyBank","PiggyFillFormNew","mainText","descText","cashback","mainTextToUse","descTextToUse","Templates_PiggySignUp_PiggySignUpNew","Accordion","isOpened","openCallback","handleExpand","setOpenCallback","isWarning","openStyle","openText","arrowOpenStyle","borderStyle","isFullBorder","reactstrap__WEBPACK_IMPORTED_MODULE_7__","isOpen","minHeight","ArrowGradient","PiggySignUp","buttonInner","Pig","components_FormsV3_Button_Button__WEBPACK_IMPORTED_MODULE_8__","petForm","petDetailsForm","petIllness","pet_illness","medicalRecord","pet_medical_record","record","petFormToUse","sessionParams","petDetailFormToUse","pet_species","id_type","pet_name","pet_microchip_no","pet_birth_date","ampTag","location","pathname","info","planType","trackData","coverage_level","amountPayable","ReactPixel","track","_components_Templates_Checkout_CheckoutWrapper__WEBPACK_IMPORTED_MODULE_15__","rewardsID","promo","promoCode","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","errorMsg","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__","show","apiCallback","overwriteWarning","showLoadigInterval","showError","_context3","components_Templates_LoadingScreenV2_LoadingScreenV2__WEBPACK_IMPORTED_MODULE_9__","paForm","paDetailsForm","SpouseAttribute","familyMemberText","num_adult","family","occupation","numChildren","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","plan_type","family_members","num_children","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","getSubDetails","isMyself","myself","full_name","nationality","race","industry","familyData","childCount","isSpouse","full_school_education","relationship","_components_Templates_Checkout_CheckoutWrapper__WEBPACK_IMPORTED_MODULE_13__","pa","HeaderDescWithTypeDateNew","logoName","insurerDesc","data1","data1Value","data2","data2Value","noGutters","CheckoutDetailsTable","reduce","details","isFullWidth","isMain","transactionData","smLeftWidth","smRightWidth","coverageData","find","transaction","policy_info","toUpperCase","toConsumableArray","infoList","renderDetails","marginRight","generateTabs","autoHeight","renderMainDetails","renderSubDetails","CheckoutPriceSummary","getPromo","handleOnChange","_ref","promoResult","code","_x","apply","isRenderPromo","priceData","JSX","noTitle","isPromo","extraCol","promoStyle","subTotalExtra","element","sub_title","renderPromoCodeButton","CashbackBalanceNew","cashbackBalance","CashbackLogo","CheckoutCashback","rewardPoints","errors","cashbackData","cashbackUsed","toFixed","chargedBalanceStyle","Checkbox","_x2","_x3","isRequired","Templates_CashbackBalance_CashbackBalanceNew","CheckoutTotal","totalData","CheckoutDisclaimer","wordings","CheckoutPayment","handlePaymentCallback","handleOnCheckout","handleOnCheckoutZero","renderCashBackEarned","setError","checkout","checkoutResult","user","userData","users","familyName","d","givenName","checkoutComplete","gaReceipt","useCashback","getStripe","setErrors","isTnCChecked","getFormValue","validatedTnC","validateForm","w","slug","is_required","_callee2","_context2","stripePayment","goog_report_conversion","LabelImg","CreditCards","checkoutUsingCashback","openCheckoutUsingCashback","CheckoutUsingCashback","onConfirm","wrappedComponentRef","Checkout","renderHeader","renderDetailsTable","renderPriceSummary","renderTotal","renderCashBack","renderDisclaimer","renderBackToDetail","renderSignUp","renderPayment","verifyParams","getAnonymousSession","newSessionId","token","promo_code","scrollTo","hide","gaCheckOut","newErrors","newError","defineProperty","Templates_InsurerFormHeader_HeaderDescWithTypeDateNew","CheckoutV1_CheckoutDetailsTable_CheckoutDetailsTable","promoErrorString","CheckoutV1_CheckoutPriceSummary_CheckoutPriceSummary","CheckoutV1_CheckoutTotal_CheckoutTotal","CheckoutV1_CheckoutCashback_CheckoutCashback","reward_points","_this$props7","CheckoutV1_CheckoutDisclaimer_CheckoutDisclaimer","_this$props8","_this$props9","login","popup","loginContainer","setInitialIndex","_this$props10","CheckoutV1_CheckoutPayment_CheckoutPayment","getTransactionStripeSession","lg","renderChargedHeader","renderWarning","adHocCharged","isCharged","propsFromState","propsFromDispatch","getReceipt","userToken","promocode","useReward","getPromoCode","detailValues","getCheckoutParamsWordingNew","getCheckoutHeaderDataCoverageNew","tripType","trip_type","travelDate","getTravelDate","travellingString","getTravellingString","getTravellersDetails","countries","countryName","country","destination","doSetCategoryNavBar","backgroundColor","whoTravelling","mainAdultDetail","adultsDetail","childrenDetail","blkNo","blk_no","citizenship","arrayName","count","startIndex","Templates_CheckoutV1_Checkout","isCategory","setCategoryNavBar","_containers_FooterContainer__WEBPACK_IMPORTED_MODULE_7__"],"mappings":"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","file":"static/js/adhoccheckout.c20524d1.chunk.js","sourcesContent":["/**\r\n * MotorCheckoutContainer.js\r\n * Checkout Container for motor\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { getFormValues } from 'redux-form';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { getSessionParams } from '../../actions/petActions';\r\nimport { setInsuranceFormState, FORMSTATES } from '../../actions/insuranceActions';\r\nimport CheckoutWrapper from '../../components/Templates/Checkout/CheckoutWrapper';\r\nimport { gaTag, gaEvent } from '../../lib/tagFunctions';\r\n\r\nimport {\r\n  compactCheckoutAttributes,\r\n  getCheckoutParamsWording,\r\n  getCheckoutHeaderDataCoverage,\r\n  getCompactSubDetails,\r\n} from '../../lib/helperFunctions';\r\n\r\nclass MotorCheckoutContainer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const {\r\n      motorForm,\r\n      motorMoreForm,\r\n      motorDetailsForm,\r\n      selectedPlanData,\r\n      isAdHoc,\r\n      adHocData,\r\n    } = this.props;\r\n\r\n    const paramsWording = getCheckoutParamsWording(\r\n      isAdHoc,\r\n      adHocData,\r\n      selectedPlanData,\r\n      () => getSessionParams(\r\n        selectedPlanData,\r\n        motorDetailsForm,\r\n        motorForm,\r\n        motorMoreForm,\r\n      ),\r\n    );\r\n\r\n    const headerCoverage = getCheckoutHeaderDataCoverage('Motor Insurance', isAdHoc, adHocData, selectedPlanData, paramsWording.params);\r\n    const motorDetailFormToUse = isAdHoc ? adHocData.data.session_params : motorDetailsForm;\r\n\r\n    this.state = {\r\n      headerData: headerCoverage.headerData,\r\n      mainDetails: {\r\n        title: 'Details',\r\n        attributes: compactCheckoutAttributes([\r\n          { title: 'Email', description: motorDetailFormToUse.email },\r\n          { title: 'Full Name', description: motorDetailFormToUse.name },\r\n          { title: 'Family Name', description: motorDetailFormToUse.family_name },\r\n          { title: 'Given Name', description: motorDetailFormToUse.given_name },\r\n          { title: 'ID Number', description: motorDetailFormToUse.nric },\r\n          { title: 'Gender', description: motorDetailFormToUse.gender },\r\n          { title: 'Marital Status', description: motorDetailFormToUse.marital_status },\r\n          { title: 'Date of birth', description: motorDetailFormToUse.birth_date },\r\n          { title: 'Mobile Number', description: motorDetailFormToUse.mobile_number },\r\n          { title: 'Address', description: motorDetailFormToUse.address },\r\n          { title: 'Unit no', description: motorDetailFormToUse.unit_no },\r\n          { title: 'Postal', description: motorDetailFormToUse.postal },\r\n          { title: 'Start Date', description: motorDetailFormToUse.start_date },\r\n          { title: 'End Date', description: motorDetailFormToUse.end_date },\r\n          // { title: 'Coverage', description: headerCoverage.coverage },\r\n        ]),\r\n      },\r\n      subDetails: [getCompactSubDetails({\r\n        key: 'Car',\r\n        leftDetail: {\r\n          title: 'Driving License',\r\n          attributes: compactCheckoutAttributes([\r\n            { title: 'Pass date', description: motorDetailFormToUse.pass_date },\r\n            { title: 'Years of experience', description: motorDetailFormToUse.years_of_experience },\r\n            { title: 'No claim discount', description: motorDetailFormToUse.ncd },\r\n            { title: 'Offence free', description: motorDetailFormToUse.offence_free },\r\n            { title: 'No of cliams in the last 3 years', description: motorDetailFormToUse.num_claims },\r\n          ]),\r\n        },\r\n        rightDetail: {\r\n          title: 'Vehicle',\r\n          attributes: compactCheckoutAttributes([\r\n            { title: 'Vehicle no', description: motorDetailFormToUse.vehicle_number },\r\n            { title: 'Vehicle no', description: motorDetailFormToUse.vehicle_no },\r\n            { title: 'Vehicle usage', description: motorDetailFormToUse.vehicle_usage },\r\n            { title: 'Car brand', description: motorDetailFormToUse.vehicle_make },\r\n            { title: 'Car model', description: motorDetailFormToUse.vehicle_model },\r\n            { title: 'No of seats', description: motorDetailFormToUse.num_seats },\r\n            { title: 'Years of registration', description: motorDetailFormToUse.reg_year },\r\n            { title: 'Years of manufacture', description: motorDetailFormToUse.manufacture_year },\r\n            { title: 'Off-peak car', description: motorDetailFormToUse.off_peak },\r\n            { title: 'Commencement date', description: motorDetailFormToUse.commencement_date },\r\n          ]),\r\n        },\r\n      })],\r\n      ...paramsWording,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { setFormState } = this.props;\r\n    setFormState(FORMSTATES.CHECKOUT.index);\r\n\r\n    gaTag({\r\n      page_title: 'Motor - Checkout',\r\n      page_path: '/motor/checkout',\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      headerData,\r\n      mainDetails,\r\n      subDetails,\r\n      wording,\r\n      params,\r\n    } = this.state;\r\n\r\n    const {\r\n      isLoggedIn,\r\n      charged,\r\n      setFormState,\r\n      history,\r\n      isAdHoc,\r\n      adHocData,\r\n      sessionId,\r\n    } = this.props;\r\n\r\n    return (\r\n      <CheckoutWrapper\r\n        headerData={headerData}\r\n        mainDetails={mainDetails}\r\n        subDetails={subDetails}\r\n        sessionId={sessionId}\r\n        isLoggedIn={isLoggedIn}\r\n        charged={charged}\r\n        backToDetails={() => {\r\n          history.goBack();\r\n        }}\r\n        wording={wording}\r\n        isAdHoc={isAdHoc}\r\n        adHocData={adHocData}\r\n        params={params}\r\n        category=\"motor\"\r\n        trackingTags={{\r\n          payment: () => {\r\n            gaEvent('Motor - CheckoutPage_ProceedPayment', {\r\n              event_category: 'Motor',\r\n              event_label: 'Motor - CheckoutPage_ProceedPayment',\r\n            });\r\n          },\r\n          receipt: () => {\r\n            if (!isAdHoc) {\r\n              setFormState(FORMSTATES.SUBMITTED.index);\r\n              history.push(`/motor${FORMSTATES.SUBMITTED.path}`);\r\n            }\r\n            gaTag({\r\n              page_title: 'Motor - Receipt',\r\n              page_path: '/motor/Receipt',\r\n            });\r\n          },\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nMotorCheckoutContainer.defaultProps = {\r\n  charged: null,\r\n  sessionId: null,\r\n  adHocData: null,\r\n  isAdHoc: false,\r\n  isLoggedIn: false,\r\n  motorForm: null,\r\n  motorMoreForm: null,\r\n  motorDetailsForm: null,\r\n  selectedPlanData: null,\r\n};\r\n\r\nMotorCheckoutContainer.propTypes = {\r\n  charged: PropTypes.bool,\r\n  sessionId: PropTypes.string,\r\n  isLoggedIn: PropTypes.bool,\r\n  motorForm: PropTypes.object,\r\n  motorMoreForm: PropTypes.object,\r\n  motorDetailsForm: PropTypes.object,\r\n  selectedPlanData: PropTypes.object,\r\n  adHocData: PropTypes.object,\r\n  isAdHoc: PropTypes.bool,\r\n  setFormState: PropTypes.func.isRequired,\r\n  history: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  const sessionId = ownProps.isAdHoc ? ownProps.sessionId : state.insurance.sessionId;\r\n  return ({\r\n    motorForm: getFormValues('motor')(state),\r\n    motorMoreForm: getFormValues('motor-detail')(state),\r\n    motorDetailsForm: getFormValues('motor-detail')(state),\r\n    selectedPlanData: state.pet.selectedPlanData,\r\n    sessionId,\r\n  });\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setFormState: (state) => {\r\n    dispatch(setInsuranceFormState(state));\r\n  },\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(MotorCheckoutContainer));\r\n","/**\r\n * AdHocOthersContainer.js\r\n * The generic Checkout container for adhoc\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport CheckoutWrapper from '../../components/Templates/Checkout/CheckoutWrapper';\r\nimport { gaTag, gaEvent } from '../../lib/tagFunctions';\r\n\r\nimport {\r\n  compactCheckoutAttributes,\r\n  getCheckoutParamsWording,\r\n  getCheckoutHeaderDataCoverage,\r\n} from '../../lib/helperFunctions';\r\n\r\nconst defaultTopNames = [\r\n  'start_date',\r\n  'end_date',\r\n  'vehicle_no',\r\n];\r\n\r\nconst defaultBottomNames = [\r\n  'email',\r\n  'family_name',\r\n  'given_name',\r\n  'nric',\r\n  'birth_date',\r\n  'mobile_number',\r\n  'address',\r\n  'unit_no',\r\n  'postal',\r\n];\r\n\r\nclass AdHocOthersContainer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const {\r\n      isAdHoc,\r\n      adHocData,\r\n    } = this.props;\r\n\r\n    const paramsWording = getCheckoutParamsWording(\r\n      true,\r\n      adHocData,\r\n    );\r\n\r\n    const headerCoverage = getCheckoutHeaderDataCoverage('Insurance', isAdHoc, adHocData);\r\n    const sessionParamsToUse = adHocData.data.session_params;\r\n\r\n    this.state = {\r\n      headerData: headerCoverage.headerData,\r\n      mainDetails: {\r\n        title: 'Insurance',\r\n        attributes: compactCheckoutAttributes(_.map(defaultTopNames, param => ({\r\n          title: _.startCase(_.replace(param, '_', ' ')),\r\n          description: sessionParamsToUse[param],\r\n        }))),\r\n      },\r\n      subDetails: [{\r\n        key: 'Detail',\r\n        leftDetail: {\r\n          title: 'Details',\r\n          attributes: compactCheckoutAttributes(_.map(defaultBottomNames, param => ({\r\n            title: _.startCase(_.replace(param, '_', ' ')),\r\n            description: sessionParamsToUse[param],\r\n          }))),\r\n        },\r\n      }],\r\n      ...paramsWording,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    gaTag({\r\n      page_title: 'Adhoc - Checkout',\r\n      page_path: '/adhoc/checkout',\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      headerData,\r\n      mainDetails,\r\n      subDetails,\r\n      wording,\r\n      params,\r\n    } = this.state;\r\n\r\n    const {\r\n      isLoggedIn,\r\n      charged,\r\n      isAdHoc,\r\n      adHocData,\r\n      sessionId,\r\n    } = this.props;\r\n\r\n    return (\r\n      <CheckoutWrapper\r\n        headerData={headerData}\r\n        mainDetails={mainDetails}\r\n        subDetails={subDetails}\r\n        sessionId={sessionId}\r\n        isLoggedIn={isLoggedIn}\r\n        charged={charged}\r\n        backToDetails={() => {}}\r\n        wording={wording}\r\n        isAdHoc={isAdHoc}\r\n        adHocData={adHocData}\r\n        params={params}\r\n        category=\"adhoc\"\r\n        trackingTags={{\r\n          payment: () => {\r\n            gaEvent('Adhoc - CheckoutPage_ProceedPayment', {\r\n              event_category: 'Adhoc',\r\n              event_label: 'Adhoc - CheckoutPage_ProceedPayment',\r\n            });\r\n          },\r\n          receipt: () => {\r\n            gaTag({\r\n              page_title: 'Adhoc - Receipt',\r\n              page_path: '/adhoc/Receipt',\r\n            });\r\n          },\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nAdHocOthersContainer.defaultProps = {\r\n  charged: null,\r\n  sessionId: null,\r\n  adHocData: null,\r\n  isAdHoc: false,\r\n  isLoggedIn: false,\r\n};\r\n\r\nAdHocOthersContainer.propTypes = {\r\n  charged: PropTypes.bool,\r\n  sessionId: PropTypes.string,\r\n  isLoggedIn: PropTypes.bool,\r\n  adHocData: PropTypes.object,\r\n  isAdHoc: PropTypes.bool,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  sessionId: ownProps.sessionId,\r\n});\r\n\r\nexport default connect(mapStateToProps)(AdHocOthersContainer);\r\n","/**\r\n * AdHocCheckoutContainer.js\r\n * Used for Adhoc payments/ receipts\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\n\r\nimport APILoader from 'components/Templates/APILoader/APILoader';\r\nimport TravelCheckoutContainer from '../Travel/TravelCheckoutContainer';\r\nimport MotorCheckoutContainer from '../Motor/MotorCheckoutContainer';\r\nimport PACheckoutContainer from '../PA/PACheckoutContainer';\r\nimport PetCheckoutContainer from '../Pet/PetCheckoutContainer';\r\nimport AdHocOthersContainer from './AdHocOthersContainer';\r\nimport ErrorPage from '../../components/Templates/ErrorPage/ErrorPage';\r\n\r\nimport { getAdhocTransaction } from '../../actions/insuranceActions';\r\n\r\nclass AdHocCheckoutContainer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      data: null,\r\n      apiLoader: null,\r\n      charged: false,\r\n    };\r\n\r\n    this.setCharged = this.setCharged.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { match } = this.props;\r\n\r\n    const data = await getAdhocTransaction(match.params.id);\r\n\r\n    this.setState({\r\n      data,\r\n      apiLoader: this.APILoader,\r\n      charged: data && data.status === 'paid',\r\n    });\r\n  }\r\n\r\n  async setCharged(charged) {\r\n    await new Promise(resolve => this.setState({ charged }, resolve));\r\n  }\r\n\r\n  renderCheckout() {\r\n    const { data, apiLoader, charged: localCharged } = this.state;\r\n    const { match, charged, userDetails } = this.props;\r\n\r\n    if (!data) {\r\n      return null;\r\n    }\r\n    const isLoggedIn = !_.isEmpty(userDetails);\r\n\r\n    try {\r\n      switch (data.data.session_params.category) {\r\n        case 'Travel':\r\n          return (\r\n            <TravelCheckoutContainer\r\n              adHocData={data}\r\n              sessionId={match.params.id}\r\n              isAdHoc\r\n              charged={localCharged}\r\n              isLoggedIn={isLoggedIn}\r\n              handleAPI={apiLoader ? apiLoader.handleAPI : () => {}}\r\n              setCharged={this.setCharged}\r\n            />);\r\n        case 'Pet':\r\n          return (\r\n            <PetCheckoutContainer\r\n              adHocData={data}\r\n              sessionId={match.params.id}\r\n              isAdHoc\r\n              charged={charged}\r\n              isLoggedIn={isLoggedIn}\r\n            />);\r\n        case 'Motor':\r\n          return (\r\n            <MotorCheckoutContainer\r\n              adHocData={data}\r\n              sessionId={match.params.id}\r\n              isAdHoc\r\n              charged={charged}\r\n              isLoggedIn={isLoggedIn}\r\n            />);\r\n        case 'Personal Accident':\r\n          return (\r\n            <PACheckoutContainer\r\n              adHocData={data}\r\n              sessionId={match.params.id}\r\n              isAdHoc\r\n              charged={charged}\r\n              isLoggedIn={isLoggedIn}\r\n            />);\r\n        default:\r\n          return (\r\n            <AdHocOthersContainer\r\n              adHocData={data}\r\n              sessionId={match.params.id}\r\n              isAdHoc\r\n              charged={charged}\r\n              isLoggedIn={isLoggedIn}\r\n            />\r\n          );\r\n      }\r\n    } catch (error) {\r\n      return <ErrorPage />;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        {this.renderCheckout()}\r\n        <APILoader ref={(node) => { this.APILoader = node; }} />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nAdHocCheckoutContainer.defaultProps = {\r\n  charged: null,\r\n  userDetails: null,\r\n};\r\n\r\nAdHocCheckoutContainer.propTypes = {\r\n  match: PropTypes.object.isRequired,\r\n  charged: PropTypes.bool,\r\n  userDetails: PropTypes.object,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  charged: state.insurance.charged,\r\n  userDetails: state.userDetails.data,\r\n});\r\n\r\nexport default connect(mapStateToProps)(AdHocCheckoutContainer);\r\n","/**\r\n * CheckoutComplete.js\r\n * Shows this when checkout is complete\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component, Fragment } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport CheckoutCompleteSVG from 'assets/images/common/CheckoutComplete.svg';\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport Popup from '../Popup/Popup';\r\n\r\nimport './CheckoutPopup.scss';\r\n\r\nclass CheckoutComplete extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      animateStyle: '',\r\n    };\r\n\r\n    this.openCheckoutComplete = this.openCheckoutComplete.bind(this);\r\n  }\r\n\r\n  openCheckoutComplete(userName = null) {\r\n    this.setState({\r\n      animateStyle: 'bounce-in',\r\n      userName,\r\n    });\r\n\r\n    setTimeout(() => {\r\n      this.popupRef.openPopup();\r\n    }, 10);\r\n  }\r\n\r\n  renderUpperText() {\r\n    const { userName } = this.state;\r\n    const { isQuoteOnly, upperText } = this.props;\r\n\r\n    if (!isQuoteOnly) {\r\n      return (\r\n        <Fragment>\r\n          <p>Thank you for your</p>\r\n          <p><span>purchase, </span><span className=\"focus-text\">{userName}</span></p>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <p>{upperText || 'Success'}</p>\r\n    );\r\n  }\r\n\r\n  renderMidText() {\r\n    const { isQuoteOnly, midText } = this.props;\r\n\r\n    const message = 'The insurer’s representative will contact you within 2 business days to share with you more about the selected product.';\r\n\r\n    // Our partnered FA representative from Synergy Financial Advisers Pte Ltd will contact you within 48 hours to share with you more about the selected product.\r\n    if (!isQuoteOnly) {\r\n      return (\r\n        <Fragment>\r\n          <p>A copy of the receipt has been sent to</p>\r\n          <p>your inbox.</p>\r\n          <p>{'The policy will be reflected in PolicyPal\\'s APP once approved.'}</p>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    if (midText !== null) {\r\n      return (\r\n        <Fragment>\r\n          <p>{midText}</p>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        <p>Thanks for submitting your request.</p>\r\n        <p>{message}</p>\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderButton() {\r\n    const {\r\n      history,\r\n      isQuoteOnly,\r\n      buttonText,\r\n      callback,\r\n    } = this.props;\r\n\r\n    if (!isQuoteOnly) {\r\n      return (\r\n        <Fragment>\r\n          <Button\r\n            className=\"checkout-button\"\r\n            variant=\"medium-flat\"\r\n            width={166}\r\n            height={72}\r\n            onClick={() => history.push('/gotoappstore')}\r\n          >\r\n            <p>Download APP</p>\r\n          </Button>\r\n          <Button\r\n            className=\"checkout-button\"\r\n            variant=\"medium-flat-green\"\r\n            width={166}\r\n            height={72}\r\n            onClick={() => this.popupRef.closePopup()}\r\n          >\r\n            <p>Details</p>\r\n          </Button>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Button\r\n        className=\"checkout-button\"\r\n        variant=\"medium-flat-green\"\r\n        width={166}\r\n        height={72}\r\n        onClick={() => {\r\n          if (callback) {\r\n            callback();\r\n            this.popupRef.togglePopup(false);\r\n            return;\r\n          }\r\n          history.push('/');\r\n        }}\r\n      >\r\n        <p>{buttonText || 'OK'}</p>\r\n      </Button>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { animateStyle } = this.state;\r\n    const { isSellLeads, className } = this.props;\r\n\r\n    const extraText = !isSellLeads ? '' : 'In the event that you purchase a plan through our partner, PolicyPal receives a referral fee.';\r\n\r\n    return (\r\n      <Popup\r\n        className={className}\r\n        hideCloseButton ref={(r) => { this.popupRef = r; }}\r\n      >\r\n        <Fragment>\r\n          <div className=\"check-out-popup\">\r\n            <img className={animateStyle} src={CheckoutCompleteSVG} alt=\"CheckoutComplete.svg\" />\r\n            <div className=\"upper-container upper-margin-up\">\r\n              {this.renderUpperText()}\r\n            </div>\r\n            <div className=\"mid-container\">\r\n              {this.renderMidText()}\r\n            </div>\r\n            <div className=\"button-container\">\r\n              {this.renderButton()}\r\n            </div>\r\n            <div className=\"extra-text\"><p>{extraText}</p></div>\r\n          </div>\r\n        </Fragment>\r\n      </Popup>\r\n    );\r\n  }\r\n}\r\n\r\nCheckoutComplete.defaultProps = {\r\n  isQuoteOnly: false,\r\n  isSellLeads: false,\r\n  upperText: null,\r\n  midText: null,\r\n  buttonText: null,\r\n  callback: null,\r\n  className: '',\r\n};\r\n\r\nCheckoutComplete.propTypes = {\r\n  history: PropTypes.object.isRequired,\r\n  isQuoteOnly: PropTypes.bool,\r\n  isSellLeads: PropTypes.bool,\r\n  upperText: PropTypes.string,\r\n  midText: PropTypes.string,\r\n  buttonText: PropTypes.string,\r\n  callback: PropTypes.func,\r\n  className: PropTypes.string,\r\n};\r\n\r\nexport default withRouter(CheckoutComplete, { withRef: true });\r\n","/**\r\n * Selection.js\r\n * Selection with dynamic content\r\n *\r\n * @version 0.0.1\r\n * @author [Jia Hao](jiahao@policypal.com)\r\n */\r\nimport React, { PureComponent } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { Field, getFormValues } from 'redux-form';\r\nimport { Row, Col } from 'reactstrap';\r\nimport _ from 'lodash';\r\n\r\nimport CheckIcon from 'assets/images/common/CheckIcon.svg';\r\n\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport './Selection.scss';\r\n\r\nconst marginTopOffset = 10;\r\n\r\n/**\r\n * Custom Selection Class\r\n */\r\nclass Selection extends PureComponent {\r\n  static getStoreSelection(formStore, name) {\r\n    const storeValues = formStore[name];\r\n    if (!storeValues) {\r\n      return null;\r\n    }\r\n\r\n    const storeValuesArray = storeValues.constructor === Array ? storeValues : [storeValues];\r\n    const resultState = {};\r\n    _.forEach(storeValuesArray, (v) => {\r\n      if (v) { resultState[v] = true; }\r\n    });\r\n    return resultState;\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const { resultState, selections } = prevState;\r\n    const { formStore, name } = nextProps;\r\n    if (formStore && formStore[name] !== resultState) {\r\n      return {\r\n        resultState: formStore[name],\r\n        selections: Selection.getStoreSelection(formStore, name) || selections,\r\n      };\r\n    }\r\n\r\n    return null;\r\n  }\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selections: {},\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const {\r\n      name,\r\n      formStore,\r\n      noEmptyTextSelection,\r\n    } = this.props;\r\n\r\n    if (formStore && formStore[name]) {\r\n      this.setState({\r\n        selections: Selection.getStoreSelection(formStore, name),\r\n      });\r\n\r\n      return;\r\n    }\r\n\r\n    if (noEmptyTextSelection) {\r\n      this.setInitialValue();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { name, formStore } = this.props;\r\n    if (name !== prevProps.name) {\r\n      const value = formStore[name];\r\n      if (!value) {\r\n        this.setInitialValue();\r\n      }\r\n    }\r\n  }\r\n\r\n  onToggleSelection(option) {\r\n    const { selections } = this.state;\r\n    const {\r\n      name,\r\n      type,\r\n      change,\r\n      noEmptyTextSelection,\r\n    } = this.props;\r\n\r\n    const { key } = option;\r\n\r\n    const toggleResult = !this.state.selections[key];\r\n\r\n    let newSelections = {};\r\n    let resultState = null;\r\n    let noUpdate = false;\r\n    switch (type) {\r\n      case 'text-selection':\r\n      case 'radio':\r\n        if (!noEmptyTextSelection || (noEmptyTextSelection && !selections[key])) {\r\n          newSelections = _.mapValues(selections, () => false);\r\n          newSelections[key] = toggleResult;\r\n          resultState = _.findKey(newSelections, v => v);\r\n        } else {\r\n          noUpdate = true;\r\n        }\r\n        break;\r\n      case 'checkbox':\r\n        newSelections = Object.assign({}, selections, { [key]: toggleResult });\r\n        resultState = [];\r\n        _.each(newSelections, (v, k) => {\r\n          if (v) { resultState.push(k); }\r\n        });\r\n        break;\r\n      default: break;\r\n    }\r\n\r\n    if (!noUpdate) {\r\n      this.setState({ selections: newSelections });\r\n      change(name, resultState);\r\n    }\r\n  }\r\n\r\n  setInitialValue() {\r\n    const {\r\n      options,\r\n      change,\r\n      name,\r\n    } = this.props;\r\n\r\n    const newSelections = { [options[0].key]: true };\r\n    this.setState({\r\n      selections: newSelections,\r\n    });\r\n    change(name, _.findKey(newSelections, v => v));\r\n  }\r\n\r\n  renderSelectionInsides(option, selectionState) {\r\n    const { type } = this.props;\r\n\r\n    switch (type) {\r\n      case 'radio':\r\n        return <div className={`${type}-inner-${selectionState}`} />;\r\n      case 'checkbox':\r\n        return <img src={CheckIcon} className={`checkbox-inner-${selectionState}`} alt=\"check\" />;\r\n      case 'text-selection':\r\n        return <div className=\"description py-3\">{option.description}</div>;\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  renderSelectionIcon(option) {\r\n    const { selections } = this.state;\r\n    const { type, sizeInSM } = this.props;\r\n    const { key, description } = option;\r\n    const isSelected = (selections[key] || false);\r\n    const selectionState = (isSelected) ? 'highlighted' : 'default';\r\n\r\n    const children = (\r\n      <div\r\n        role=\"button\"\r\n        onKeyPress={() => {}}\r\n        onClick={() => this.onToggleSelection(option)}\r\n        tabIndex={0}\r\n        className={`${type}-outer-${selectionState}`}\r\n      >\r\n        {this.renderSelectionInsides(option, selectionState)}\r\n      </div>\r\n    );\r\n\r\n    if (type === 'text-selection') {\r\n      return (\r\n        <Col sm={sizeInSM} key={key} className=\"text-sel-col\">\r\n          <div className=\"single-selection\" key={key}>\r\n            {children}\r\n          </div>\r\n        </Col>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Col sm={sizeInSM} key={key}>\r\n        <div className=\"single-selection\">\r\n          {children}\r\n          <div className=\"description\">{description}</div>\r\n        </div>\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      name,\r\n      options,\r\n      type,\r\n      desc,\r\n      extraInfo,\r\n      errorString,\r\n    } = this.props;\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        desc={desc}\r\n        ref={node => (this.formParent = node)}\r\n        extraInfo={\r\n          <div style={{ marginTop: -marginTopOffset }}>\r\n            {extraInfo}\r\n          </div>\r\n        }\r\n        errorString={errorString}\r\n      >\r\n        <Field name={name} component={() => <div />} />\r\n        <div className=\"selection\">\r\n          <Row className={(type === 'text-selection') ? 'text-sel-container' : ''}>\r\n            {\r\n              _.map(options, option => this.renderSelectionIcon(option))\r\n            }\r\n          </Row>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nSelection.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  type: PropTypes.string.isRequired,\r\n  options: PropTypes.array.isRequired, // each option is { key, description }\r\n  change: PropTypes.func.isRequired,\r\n  sizeInSM: PropTypes.number,\r\n  desc: PropTypes.string,\r\n  formStore: PropTypes.object,\r\n  extraInfo: PropTypes.object,\r\n  errorString: PropTypes.string,\r\n  noEmptyTextSelection: PropTypes.bool,\r\n};\r\n\r\nSelection.defaultProps = {\r\n  sizeInSM: 12,\r\n  desc: null,\r\n  formStore: null,\r\n  extraInfo: null,\r\n  errorString: null,\r\n  noEmptyTextSelection: false,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  formStore: (getFormValues(ownProps.form)(state)),\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Selection);\r\n","module.exports = __webpack_public_path__ + \"static/media/ArrowGradient.50433ef5.svg\";","module.exports = __webpack_public_path__ + \"static/media/CheckoutComplete.0dec4895.svg\";","/**\r\n * Enquiry.js\r\n * Enquiry view that appears in most of the forms\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n*/\r\nimport React, { Component } from 'react';\r\nimport { Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Phone from 'assets/images/common/Phone.svg';\r\n\r\nimport './Enquiry.scss';\r\n\r\nclass Enquiry extends Component {\r\n  render() {\r\n    const { marginTop } = this.props;\r\n\r\n    return (\r\n      <Col className=\"enquiry-container\" style={{ marginTop }}>\r\n        <div className=\"upper-container\">\r\n          <p className=\"left-text\">\r\n            Need some assistance? Please contact us and one of our\r\n            Client Services Executives will be happy to guide you along.\r\n          </p>\r\n          <div className=\"right-text\">\r\n            <img src={Phone} alt=\"Phone.svg\" />\r\n            <a href=\"tel:+6531639184\">\r\n              +65 3163 9184\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <div className=\"lower-container\">\r\n          <p className=\"lower-main\">Speak to our Client Service Executives</p>\r\n          <p className=\"lower-sub\">Servicing hours:</p>\r\n          <p className=\"lower-sub\">10am - 7pm</p>\r\n          <p className=\"lower-sub\">Mondays to Fridays</p>\r\n          <p className=\"lower-sub\">(excluding public holidays)</p>\r\n        </div>\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nEnquiry.defaultProps = {\r\n  marginTop: 0,\r\n};\r\n\r\n\r\nEnquiry.propTypes = {\r\n  marginTop: PropTypes.number,\r\n};\r\n\r\nexport default Enquiry;\r\n","/**\r\n * LoadingScreen.js\r\n * Loading screen for anywhere use\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport styled, { keyframes } from 'styled-components';\r\n\r\nimport Logos from 'assets/images/InsurerLogos';\r\nimport './LoadingScreenV2.scss';\r\n\r\nclass LogoSlider extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const logos = _.map(Logos.small, logo => logo);\r\n    const keyFrameLogo = keyframes`\r\n      0%    { transform: translateX(0); }\r\n      100%  { transform: translateX(calc(-84px * ${logos.length})); }\r\n    `;\r\n\r\n    const AnimatedContainer = styled.div`\r\n      animation: ${keyFrameLogo} 5s linear infinite;\r\n    `;\r\n\r\n    this.state = {\r\n      logos: _.map(Logos.small, logo => logo),\r\n      AnimatedContainer,\r\n    };\r\n\r\n    this.renderLogos = this.renderLogos.bind(this);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval);\r\n  }\r\n\r\n  renderLogos(key) {\r\n    const { logos } = this.state;\r\n    return _.map(logos, (logo, index) => (\r\n      <img key={`loading-icon-${key}-${index}`} src={logo} alt={`loading-icon-${index}.svg`} />\r\n    ));\r\n  }\r\n\r\n  render() {\r\n    const { AnimatedContainer } = this.state;\r\n\r\n    return (\r\n      <AnimatedContainer\r\n        className=\"logo-container\"\r\n      >\r\n        {this.renderLogos(0)}\r\n        {this.renderLogos(1)}\r\n      </AnimatedContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LogoSlider;\r\n","/**\r\n * LoadingScreen.js\r\n * Loading screen for anywhere use\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ModalPopup from 'components/Templates/ModalPopup/ModalPopup';\r\nimport SpinnerAnimation from 'components/Templates/SpinnerAnimation/SpinnerAnimation';\r\nimport Button from 'components/FormsV3/Button/Button';\r\n\r\nimport LogoSlider from './LogoSlider';\r\n\r\nimport './LoadingScreenV2.scss';\r\n\r\nconst timeOutTimer = 30000;\r\n\r\nclass LoadingScreenV2 extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      overwriteShowWarning: false,\r\n    };\r\n\r\n    this.closeLoading = this.closeLoading.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handleChange();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { isLoading } = this.props;\r\n\r\n    if (isLoading !== prevProps.isLoading) {\r\n      this.handleChange();\r\n    }\r\n  }\r\n\r\n  handleChange() {\r\n    const { isLoading } = this.props;\r\n    if (isLoading) {\r\n      this.timer = setTimeout(() => this.setState({ overwriteShowWarning: true }), timeOutTimer);\r\n    }\r\n\r\n    if (!isLoading) {\r\n      clearTimeout(this.timer);\r\n      this.setState({ overwriteShowWarning: false });\r\n    }\r\n  }\r\n\r\n  async closeLoading() {\r\n    const {\r\n      showLoadingError,\r\n      showLoading,\r\n      errorCallback,\r\n    } = this.props;\r\n\r\n    this.setState({ overwriteShowWarning: false }, async () => {\r\n      await showLoadingError(false);\r\n      showLoading(false);\r\n\r\n      if (errorCallback) {\r\n        errorCallback();\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { overwriteShowWarning } = this.state;\r\n    const {\r\n      isLoading,\r\n      isLoadingError,\r\n      message,\r\n      noLogos,\r\n    } = this.props;\r\n\r\n    const loadingStyle = isLoading ? 'loading-screen-active' : '';\r\n\r\n    return (\r\n      <Fragment>\r\n        <div\r\n          className={`loading-screen-v2 ${loadingStyle}`}\r\n        >\r\n          {\r\n            isLoading ?\r\n              <Fragment>\r\n                <SpinnerAnimation />\r\n                {\r\n                  !noLogos &&\r\n                  <div className=\"bottom-container\">\r\n                    <p>Searching from esteemed partners...</p>\r\n                    <LogoSlider />\r\n                  </div>\r\n                }\r\n              </Fragment>\r\n            : null\r\n          }\r\n        </div>\r\n        <ModalPopup\r\n          showModal={overwriteShowWarning || isLoadingError}\r\n          closeModal={this.closeLoading}\r\n          className=\"loading-modal\"\r\n          backdropClassName=\"blue-modal-backdrop\"\r\n          header={<p>An error has occured</p>}\r\n          body={message}\r\n          zIndex={1052}\r\n          footer={\r\n            <Button\r\n              variant=\"medium-flat-green\"\r\n              height={48}\r\n              width={162}\r\n              onClick={this.closeLoading}\r\n            >\r\n              <p>Close</p>\r\n            </Button>\r\n          }\r\n        />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nLoadingScreenV2.defaultProps = {\r\n  noLogos: false,\r\n  errorCallback: null,\r\n};\r\n\r\nLoadingScreenV2.propTypes = {\r\n  isLoading: PropTypes.bool.isRequired,\r\n  isLoadingError: PropTypes.bool.isRequired,\r\n  message: PropTypes.object.isRequired,\r\n  showLoading: PropTypes.func.isRequired,\r\n  showLoadingError: PropTypes.func.isRequired,\r\n  noLogos: PropTypes.bool,\r\n  errorCallback: PropTypes.func,\r\n};\r\n\r\nexport default LoadingScreenV2;\r\n","import _ from 'lodash';\r\nimport moment from 'moment';\r\n// import { dateToString } from 'lib/dateFunctions';\r\n\r\nconst getInsurerLogo = (insurer_slug) => `https://webassets.policypal.com/insurer_logos/${insurer_slug}.png`;\r\nconst parseValues = (values) => {\r\n  const keys = Object.keys(values);\r\n  let result = {};\r\n\r\n  for (let i = 0; i < keys.length; i++) {\r\n    const key = keys[i];\r\n    const item = values[key];\r\n    \r\n    switch(key) {\r\n      case 'start_date':\r\n      case 'end_date':\r\n      case 'pet_birth_date':\r\n        const date = _.isObject(item) ? item.value : item;\r\n        result[key] = moment(date).format(\"DD/MM/YYYY\");\r\n        break;\r\n      case 'trip_type':\r\n      case 'plan_type':\r\n      case 'num_children':\r\n      case 'num_adult':\r\n        result[key] = item.value;\r\n        break;\r\n      case 'region':\r\n      case 'countries':\r\n        result[key] = _.isArray(item.value) ? Array.from(item.value, c => c.value) : item.value.value;\r\n        break;\r\n      default:\r\n        result[key] = item;\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nexport const getAddToCartData = (params = {}) => {\r\n  const allowedKeys = [\r\n    'insurer_slug',\r\n    'insurer_name',\r\n    'product_slug',\r\n    'product_name',\r\n    'coverage_level',\r\n  ];\r\n\r\n  let result = {};\r\n  if (Object.keys(params).length > 0) {\r\n    const {\r\n      insurer_slug: insurer_slug = '',\r\n      product_slug: product_slug = '',\r\n      values:       values = {},\r\n      price:        price = '',\r\n    } = params;\r\n\r\n    const product = {\r\n      ..._.pick(params, allowedKeys),\r\n      ...parseValues(values || {}),\r\n      id: `${insurer_slug}__${product_slug}`,\r\n      product_image: getInsurerLogo(insurer_slug),\r\n      quantity: 1,\r\n    }\r\n\r\n    result = {\r\n      content_ids:  [product.id],\r\n      content_name: product.product_name,\r\n      content_type: 'product',\r\n      contents:     [product],\r\n      ...((price) ? {currency: 'SGD', value: Number(price.replace('$', ''))} : {}),\r\n    }\r\n  }\r\n\r\n  return result;\r\n}","/**\r\n * TabView.js\r\n * TabView that uses a carousel or fading.\r\n *\r\n * For carousel, it will take in multiple elements in\r\n * an array to swap when changed tabs.\r\n *\r\n * For fading view, it will only take the 1st element in the array,\r\n * but it does a fading to simulate and give time for the change of state\r\n * to happen in that element.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\nimport ReactDOM from 'react-dom';\r\nimport { connect } from 'react-redux';\r\nimport { Carousel } from 'react-responsive-carousel';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport DropDown from '../../FormsV3/DropDown/DropDown';\r\n\r\nimport { setTabSelection } from '../../../actions/tabActions';\r\n\r\nimport './TabViewNew.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass TabViewNew extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const {\r\n      currentTabSelection,\r\n      tabs,\r\n      maxTabWidthPx,\r\n      isDataFadeOnly,\r\n      padding,\r\n      children,\r\n    } = nextProps;\r\n\r\n    const { activeIndex } = prevState;\r\n\r\n    let result = null;\r\n\r\n    if (tabs && currentTabSelection) {\r\n      const newIndex = _.findIndex(tabs, tab => tab.desc === currentTabSelection);\r\n      if (newIndex >= 0 && newIndex !== activeIndex) {\r\n        result = {\r\n          activeIndex: newIndex,\r\n        };\r\n      }\r\n    }\r\n\r\n    if (tabs !== prevState.tabs && children) {\r\n      const isUsingMaxWidth = maxTabWidthPx > 0;\r\n      const maxWidth = (100 - padding) / (isDataFadeOnly ? tabs.length : children.length);\r\n      const tabWidth = isUsingMaxWidth ? maxTabWidthPx : maxWidth;\r\n\r\n      result = {\r\n        ...result,\r\n        tabs,\r\n        width: tabWidth,\r\n        widthPercentage: isUsingMaxWidth ? `${maxTabWidthPx}px` : `${tabWidth}%`,\r\n        maxWidth: `${maxWidth}%`,\r\n      };\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {object} props Component props\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const {\r\n      padding,\r\n      children,\r\n      maxTabWidthPx,\r\n      isDataFadeOnly,\r\n      tabs,\r\n      initialIndex,\r\n    } = this.props;\r\n\r\n    const isUsingMaxWidth = maxTabWidthPx > 0;\r\n    const maxWidth = (100 - padding) / (isDataFadeOnly ? tabs.length : children.length);\r\n    const tabWidth = isUsingMaxWidth ? maxTabWidthPx : maxWidth;\r\n\r\n    this.state = {\r\n      activeIndex: initialIndex,\r\n      containerWidth: 0,\r\n      width: tabWidth,\r\n      widthPercentage: isUsingMaxWidth ? `${maxTabWidthPx}px` : `${tabWidth}%`,\r\n      maxWidth: `${maxWidth}%`,\r\n      paddingWidth: maxTabWidthPx ? '100%' : `${padding}%`,\r\n      isControlVisible: true,\r\n      isUsingMaxWidth,\r\n      // isDropDownControl: tabs && tabs.length > 10,\r\n      fadeStyle: '',\r\n      tabs,\r\n    };\r\n\r\n    this.goToIndex = this.goToIndex.bind(this);\r\n\r\n    this.handleResize = this.handleResize.bind(this);\r\n    this.resizeTabHeight = this.resizeTabHeight.bind(this);\r\n    this.renderTabs = this.renderTabs.bind(this);\r\n    this.renderTabContent = this.renderTabContent.bind(this);\r\n    this.renderControls = this.renderControls.bind(this);\r\n    this.renderSlides = this.renderSlides.bind(this);\r\n    this.renderScollableTabs = this.renderScollableTabs.bind(this);\r\n    this.renderSelectableTabs = this.renderSelectableTabs.bind(this);\r\n    this.renderDropControls = this.renderDropControls.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { tabs } = this.state;\r\n    const {\r\n      initialIndex,\r\n      name,\r\n      changeTab,\r\n    } = this.props;\r\n\r\n    changeTab(name, tabs[0].desc);\r\n\r\n    window.addEventListener('resize', this.handleResize);\r\n\r\n    this.handleResize();\r\n\r\n    this.resizeTabHeight(initialIndex, ReactDOM.findDOMNode(this.carousel));\r\n\r\n    this.setState({\r\n      activeIndex: initialIndex,\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { tabs, activeIndex, containerWidth } = this.state;\r\n    const { setTriggerHeightUpdate } = this.props;\r\n    if (!prevProps.setTriggerHeightUpdate && setTriggerHeightUpdate) {\r\n      const { resizeTabHeight } = this;\r\n\r\n      setTriggerHeightUpdate(() => {\r\n        resizeTabHeight(activeIndex);\r\n      });\r\n    }\r\n\r\n    if (tabs !== prevState.tabs) {\r\n      this.resizeTabHeight(activeIndex);\r\n    }\r\n\r\n    if (this.tabContainer) {\r\n      const tabWidth = this.tabContainer.getBoundingClientRect().width;\r\n      if (tabWidth !== containerWidth) {\r\n        setTimeout(() => this.setState({ containerWidth: tabWidth }), 100);\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.handleResize);\r\n  }\r\n\r\n  handleResize() {\r\n    const { isControlVisible, activeIndex } = this.state;\r\n    const { hideWidth } = this.props;\r\n\r\n    // this.setState({\r\n    //   isDropDownControl: window.innerWidth < 560 || (tabs && tabs.length > 10),\r\n    // });\r\n\r\n\r\n    this.resizeTabHeight(activeIndex);\r\n\r\n    if (hideWidth) {\r\n      const isVisibleNow = window.innerWidth > hideWidth;\r\n\r\n      this.setState({\r\n        isControlVisible: isVisibleNow,\r\n      });\r\n\r\n      if (isControlVisible && !isVisibleNow) {\r\n        this.goToIndex(0);\r\n      }\r\n    }\r\n  }\r\n\r\n  goToIndex(newIndex, isForced = false) {\r\n    const { tabs, activeIndex } = this.state;\r\n    if (!isForced && newIndex === activeIndex) {\r\n      return;\r\n    }\r\n    const {\r\n      name,\r\n      isDataFadeOnly,\r\n      changeTab,\r\n    } = this.props;\r\n\r\n\r\n    if (isDataFadeOnly) {\r\n      this.setState({\r\n        fadeStyle: 'animated fadeOut',\r\n      });\r\n\r\n      this.setState({ activeIndex: newIndex });\r\n      changeTab(name, tabs[newIndex].desc);\r\n\r\n      setTimeout(() => {\r\n        if (tabs[newIndex].onClick) {\r\n          tabs[newIndex].onClick();\r\n        }\r\n        this.setState({\r\n          fadeStyle: 'animated fadeIn',\r\n        });\r\n\r\n        setTimeout(() => {\r\n          this.setState({\r\n            fadeStyle: '',\r\n          });\r\n        }, 300);\r\n      }, 300);\r\n    } else {\r\n      this.setState({ activeIndex: newIndex });\r\n      changeTab(name, tabs[newIndex].desc);\r\n      if (tabs[newIndex].onClick) {\r\n        tabs[newIndex].onClick();\r\n      }\r\n    }\r\n\r\n    this.resizeTabHeight(newIndex);\r\n  }\r\n\r\n  resizeTabHeight(index, carouselIncoming = null, overrideNegation = null) {\r\n    const { isConstantHeight } = this.props;\r\n\r\n    const carouselToUse = carouselIncoming !== null ? carouselIncoming : ReactDOM.findDOMNode(this.carousel);\r\n    // No other way for now >_<\r\n    if (!isConstantHeight && carouselToUse) {\r\n      const list = carouselToUse.getElementsByTagName('UL')[0];\r\n      const children = list.children[index];\r\n\r\n      if (children) {\r\n        const sliderWrapper = list.parentNode;\r\n        const itemHeight = overrideNegation ? children.children[0].scrollHeight + overrideNegation : children.children[0].scrollHeight;\r\n        sliderWrapper.style.height = itemHeight === 0 ? 1000 : `${itemHeight}px`;\r\n      }\r\n    }\r\n  }\r\n\r\n  renderTabContent(tab, activeStyle) {\r\n    const {\r\n      big,\r\n    } = this.props;\r\n\r\n    const bigTextStyle = big ? 'tab-text-big' : '';\r\n\r\n    const isWithImg = !_.isString(tab);\r\n    const desc = isWithImg ? tab.desc : tab;\r\n    const img = isWithImg ? tab.img : null;\r\n\r\n    return (\r\n      <Fragment>\r\n        {\r\n          img ?\r\n            <div className=\"img-container\">\r\n              <img className={activeStyle} src={img} alt={`${desc}.svg`} />\r\n            </div>\r\n          :\r\n            null\r\n        }\r\n        <p className={`${activeStyle} ${bigTextStyle}`}>{desc}</p>\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderTabs(width) {\r\n    const { activeIndex, tabs } = this.state;\r\n    const {\r\n      big,\r\n      maxTabWidthPx,\r\n    } = this.props;\r\n\r\n    const bigTabStyle = big ? 'tab-big' : '';\r\n\r\n    return _.map(tabs, (tab, index) => {\r\n      const tabStyle = index === activeIndex ? 'active' : 'inactive';\r\n      const maxWidth = maxTabWidthPx > 0 ? maxTabWidthPx : null;\r\n\r\n      return (\r\n        <div\r\n          className={`tab ${bigTabStyle}`}\r\n          style={{ width, maxWidth }}\r\n          key={`tab${index}`}\r\n        >\r\n          <div\r\n            className=\"tab-inner\"\r\n            onClick={() => { this.goToIndex(index); }}\r\n            role=\"button\"\r\n            tabIndex={-1}\r\n            onKeyDown={() => {}}\r\n          >\r\n            {this.renderTabContent(tab, tabStyle)}\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  renderSlides() {\r\n    const { children } = this.props;\r\n    const { goToIndex } = this;\r\n\r\n    return _.map(children, (item, index) => (\r\n      <div key={`tab-item${index}`}>\r\n        {React.cloneElement(item, {\r\n          updateTabHeight: (overrideNegation = null) => this.resizeTabHeight(index, null, overrideNegation),\r\n          goToIndex,\r\n        })}\r\n      </div>\r\n    ));\r\n  }\r\n\r\n  renderScollableTabs() {\r\n    const { activeIndex, tabs } = this.state;\r\n    const { isDisableDropdown } = this.props;\r\n    const displayStyle = isDisableDropdown ? '' : 'd-none d-sm-flex';\r\n\r\n    return (\r\n      <Fragment>\r\n        <div className={`scroll-tabs ${displayStyle}`}>\r\n          <Scrollbars style={{ width: '100%', height: '100%' }}>\r\n            <div className=\"scroll-tabs-inner\">\r\n              {\r\n                _.map(tabs, (tab, index) => {\r\n                  const tabStyle = index === activeIndex ? 'active' : 'inactive';\r\n                  return (\r\n                    <div\r\n                      key={`tab${index}`}\r\n                    >\r\n                      <div\r\n                        className={`tab-inner ${tabStyle}`}\r\n                        onClick={() => { this.goToIndex(index); }}\r\n                        role=\"button\"\r\n                        tabIndex={-1}\r\n                        onKeyDown={() => {}}\r\n                      >\r\n                        {tab.desc}\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })\r\n              }\r\n            </div>\r\n          </Scrollbars>\r\n        </div>\r\n        {\r\n          !isDisableDropdown ?\r\n            <div className=\"d-flex d-sm-none w-100\">\r\n              {this.renderDropControls()}\r\n            </div>\r\n          : null\r\n        }\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderDropControls() {\r\n    const { tabs, activeIndex } = this.state;\r\n    const droplist = _.map(tabs, tab => ({ display_name: tab.desc, value: tab.desc }));\r\n\r\n    return (\r\n      <div className=\"tab-container\">\r\n        <DropDown\r\n          placeholderString=\"Make selection\"\r\n          dropList={droplist}\r\n          value={{ display_name: tabs[activeIndex].desc, value: tabs[activeIndex].desc }}\r\n          isDisableTyping\r\n          onChange={(type, name, value) => {\r\n            this.goToIndex(_.findIndex(tabs, tab => tab.desc === value.value));\r\n          }}\r\n          noInternalDesc\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderSelectableTabs() {\r\n    const {\r\n      activeIndex,\r\n      width,\r\n      widthPercentage,\r\n      maxWidth,\r\n      containerWidth,\r\n      paddingWidth,\r\n      isUsingMaxWidth,\r\n      tabs,\r\n    } = this.state;\r\n\r\n    const {\r\n      style,\r\n      big,\r\n      charged,\r\n      isDisableDropdown,\r\n    } = this.props;\r\n\r\n    const isOverContainer = tabs && tabs.length * width > containerWidth;\r\n    const selectedMargin = isUsingMaxWidth && !isOverContainer ? activeIndex * width : `${activeIndex / tabs.length * 100}%`;\r\n    const bigStyle = big ? 'tab-big' : '';\r\n    const tabStyle = charged ? 'tab-container-charged' : '';\r\n    const displayStyle = isDisableDropdown ? '' : 'd-none d-lg-flex';\r\n\r\n    return (\r\n      <Fragment>\r\n        <div\r\n          style={style}\r\n          className={`tab-container ${tabStyle} tab-container-padding ${displayStyle}`}\r\n          ref={node => this.tabContainer = node}\r\n        >\r\n          {this.renderTabs(isOverContainer ? maxWidth : widthPercentage)}\r\n          <div className=\"tab tab-padding\" style={{ width: paddingWidth }} />\r\n          <div\r\n            className={`selected-tab ${bigStyle}`}\r\n            style={{\r\n              width: widthPercentage,\r\n              maxWidth,\r\n              marginLeft: selectedMargin,\r\n            }}\r\n          />\r\n        </div>\r\n        {\r\n          !isDisableDropdown ?\r\n            <div className=\"d-flex d-lg-none w-100\">\r\n              {this.renderDropControls()}\r\n            </div>\r\n          : null\r\n        }\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderControls() {\r\n    const { scrollTabs } = this.props;\r\n\r\n    if (scrollTabs) {\r\n      return this.renderScollableTabs();\r\n    }\r\n\r\n    return this.renderSelectableTabs();\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      activeIndex,\r\n      isControlVisible,\r\n      fadeStyle,\r\n    } = this.state;\r\n\r\n    const { isDataFadeOnly, className } = this.props;\r\n\r\n    return (\r\n      <div className={`tabview-container-new ${className}`}>\r\n        {\r\n          isControlVisible ?\r\n            this.renderControls()\r\n          :\r\n            null\r\n        }\r\n        <div className={`tab-items-container ${fadeStyle}`}>\r\n          {\r\n            isDataFadeOnly ?\r\n              this.props.children\r\n            :\r\n              <Carousel\r\n                showThumbs={false}\r\n                showIndicators={false}\r\n                showArrows={false}\r\n                showStatus={false}\r\n                selectedItem={activeIndex}\r\n                swipeable={false}\r\n                onChange={index => this.goToIndex(index)}\r\n                ref={node => (this.carousel = node)}\r\n              >\r\n                {this.renderSlides()}\r\n              </Carousel>\r\n          }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTabViewNew.defaultProps = {\r\n  padding: 0,\r\n  hideWidth: 0,\r\n  maxTabWidthPx: 0,\r\n  style: null,\r\n  isDisableDropdown: false,\r\n  isConstantHeight: false,\r\n  initialIndex: 0,\r\n  setTriggerHeightUpdate: null,\r\n  isDataFadeOnly: false,\r\n  big: false,\r\n  className: null,\r\n  charged: null,\r\n  scrollTabs: false,\r\n};\r\n\r\nTabViewNew.propTypes = {\r\n  padding: PropTypes.number,\r\n  tabs: PropTypes.array.isRequired,\r\n  hideWidth: PropTypes.number,\r\n  maxTabWidthPx: PropTypes.number,\r\n  style: PropTypes.object,\r\n  isDisableDropdown: PropTypes.bool,\r\n  isConstantHeight: PropTypes.bool,\r\n  initialIndex: PropTypes.number,\r\n  setTriggerHeightUpdate: PropTypes.func,\r\n  isDataFadeOnly: PropTypes.bool,\r\n  big: PropTypes.bool,\r\n  name: PropTypes.string.isRequired,\r\n  className: PropTypes.string,\r\n  charged: PropTypes.bool,\r\n  changeTab: PropTypes.func.isRequired,\r\n  scrollTabs: PropTypes.bool,\r\n};\r\n\r\nconst mapStateToProps = (state, props) => ({\r\n  currentTabSelection: state.tab[props.name],\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  changeTab: (tabName, value) => {\r\n    dispatch(setTabSelection(tabName, value));\r\n  },\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps, null, { withRef: true })(TabViewNew);\r\n","module.exports = __webpack_public_path__ + \"static/media/Label.500a43ce.svg\";","/**\r\n * PromoCode.js\r\n * PromoCode field that takes in a callback\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Input } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport '../TextInput/TextInput.scss';\r\nimport './PromoCode.scss';\r\n\r\nconst defaultHeight = 48;\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass PromoCode extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const { value } = nextProps;\r\n    const { oldValue } = prevState;\r\n\r\n    if (value !== oldValue) {\r\n      return {\r\n        value,\r\n        oldValue: value,\r\n      };\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { value } = this.props;\r\n\r\n    this.state = {\r\n      value,\r\n      oldValue: value,\r\n      errorString: null,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.isComMounted = true;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.isComMounted = false;\r\n  }\r\n\r\n  render() {\r\n    const { value, errorString, oldValue } = this.state;\r\n    const { value: propsValue } = this.props;\r\n\r\n    const {\r\n      name,\r\n      placeholderString,\r\n      extraInfo,\r\n      postCheckout,\r\n    } = this.props;\r\n\r\n    const buttonText = propsValue ? 'Remove' : 'Apply';\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        extraInfo={extraInfo}\r\n        errorString={errorString}\r\n      >\r\n        <div\r\n          className=\"text-input-container-v3 promo-container-v3\"\r\n          style={{ height: defaultHeight }}\r\n        >\r\n          <div className=\"text-input \">\r\n            <Input\r\n              className=\"text\"\r\n              placeholder={placeholderString}\r\n              name={name}\r\n              disabled={propsValue}\r\n              value={value || ''}\r\n              onChange={e => this.setState({ value: e.target.value })}\r\n            />\r\n            <div className=\"promo-button\">\r\n              <Button\r\n                variant=\"medium-outline-edit\"\r\n                height={32}\r\n                width={88}\r\n                onClick={async () => {\r\n                  try {\r\n                    if (propsValue) {\r\n                      await postCheckout(null);\r\n\r\n                      if (this.isComMounted) {\r\n                        this.setState({\r\n                          errorString: null,\r\n                        });\r\n                      }\r\n                      return;\r\n                    }\r\n\r\n                    if (value) {\r\n                      const result = await postCheckout(value);\r\n                      if (this.isComMounted) {\r\n                        // Promo code will not be set\r\n                        if (!result) {\r\n                          this.setState({\r\n                            errorString: 'Invalid promo code!',\r\n                            value: oldValue,\r\n                          });\r\n                        } else {\r\n                          this.setState({\r\n                            errorString: null,\r\n                          });\r\n                        }\r\n                      }\r\n                    }\r\n                  } catch (error) {\r\n                    // eslint-disable-next-line\r\n                  }\r\n                }}\r\n              >\r\n                <p>{buttonText}</p>\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nPromoCode.defaultProps = {\r\n  extraInfo: null,\r\n  value: '',\r\n};\r\n\r\n\r\nPromoCode.propTypes = {\r\n  placeholderString: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  postCheckout: PropTypes.func.isRequired,\r\n  extraInfo: PropTypes.object,\r\n  value: PropTypes.string,\r\n};\r\n\r\nexport default PromoCode;\r\n","// @flow\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport LoadingScreenV2 from 'components/Templates/LoadingScreenV2/LoadingScreenV2';\r\n\r\nclass StripePayment extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      currMarkup: null,\r\n      extraData: null,\r\n      isLoading: false,\r\n      isLoadingError: false,\r\n    };\r\n\r\n    this.cleanCheckoutButtonContainer = this.cleanCheckoutButtonContainer.bind(this);\r\n    this.setNewMarkup = this.setNewMarkup.bind(this);\r\n    this.invokeClick = this.invokeClick.bind(this);\r\n\r\n    this.showLoading = this.showLoading.bind(this);\r\n    this.showLoadingError = this.showLoadingError.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { markup } = this.props;\r\n    this.setNewMarkup(markup);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { currMarkup } = this.state;\r\n    const { markup } = this.props;\r\n\r\n    if (currMarkup !== markup) {\r\n      if (markup) {\r\n        this.setNewMarkup(markup);\r\n      } else if (!markup) {\r\n        this.setState({\r\n          currMarkup: null,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  setNewMarkup(markup) {\r\n    const { paymentCallback, replacementIDString } = this.props;\r\n\r\n    if (!markup) {\r\n      return;\r\n    }\r\n\r\n    this.cleanCheckoutButtonContainer();\r\n\r\n    const range = document.createRange();\r\n    if (replacementIDString) {\r\n      this.checkoutButton.appendChild(range.createContextualFragment(_.replace(markup, replacementIDString, 'id=\"checkout_form\"')));\r\n    } else {\r\n      this.checkoutButton.appendChild(range.createContextualFragment(markup));\r\n    }\r\n\r\n    window.$('#checkout_form').get(0).submit = () => {\r\n      const { extraData } = this.state;\r\n      const data = window.$('#checkout_form').serializeArray();\r\n\r\n\r\n      paymentCallback(data, extraData);\r\n\r\n      this.setState({\r\n        extraData: null,\r\n      });\r\n\r\n      // Prevent form submit.\r\n      return false;\r\n    };\r\n\r\n    // eslint-disable-next-line\r\n    this.setState({\r\n      currMarkup: markup,\r\n    });\r\n  }\r\n\r\n  showLoading(isLoading) {\r\n    this.setState({ isLoading });\r\n  }\r\n\r\n  showLoadingError(isLoadingError) {\r\n    this.setState({ isLoadingError });\r\n  }\r\n\r\n  cleanCheckoutButtonContainer() {\r\n    while (this.checkoutButton.firstChild) {\r\n      this.checkoutButton.removeChild(this.checkoutButton.firstChild);\r\n    }\r\n  }\r\n\r\n  invokeClick(failCallback, extraData, doTag = null) {\r\n    const { zeroPaymentCallback } = this.props;\r\n\r\n    let failCallTimeout = null;\r\n\r\n    this.setState({\r\n      extraData,\r\n    });\r\n\r\n    this.showLoading(true);\r\n\r\n    const ele = document.getElementsByName('stripe_checkout_app');\r\n    for (let i = ele.length - 1; i >= 0; i--) {\r\n      ele[i].parentNode.removeChild(ele[i]);\r\n    }\r\n\r\n    const invokeClick = setInterval(() => {\r\n      try {\r\n        const { amount } = window.$('#checkout_form')[0].getElementsByClassName('stripe-button')[0].dataset;\r\n        if (amount === '0') {\r\n          this.showLoading(false);\r\n          if (doTag) {\r\n            doTag();\r\n          }\r\n          if (zeroPaymentCallback) {\r\n            zeroPaymentCallback();\r\n          }\r\n          clearInterval(invokeClick);\r\n          clearTimeout(failCallTimeout);\r\n          return;\r\n        }\r\n      } catch (error) {\r\n        console.log('Get new payable failed');\r\n        clearInterval(invokeClick);\r\n        clearTimeout(failCallTimeout);\r\n        this.showLoadingError(true);\r\n        failCallback();\r\n      }\r\n\r\n      try {\r\n        const button = window.$('#checkout_form')[0].getElementsByClassName('stripe-button-el')[0];\r\n        if (button) {\r\n          window.$(button).trigger('click');\r\n          if (doTag) {\r\n            doTag();\r\n          }\r\n          clearInterval(invokeClick);\r\n          clearTimeout(failCallTimeout);\r\n          setTimeout(() => this.showLoading(false), 5000);\r\n        }\r\n      } catch (error) {\r\n        console.log('Button not yet generated!');\r\n        clearInterval(invokeClick);\r\n        clearTimeout(failCallTimeout);\r\n        this.showLoadingError(true);\r\n        failCallback();\r\n      }\r\n    }, 10);\r\n\r\n    failCallTimeout = setTimeout(() => {\r\n      clearInterval(invokeClick);\r\n      this.showLoadingError(true);\r\n      failCallback();\r\n    }, 10000);\r\n  }\r\n\r\n  render() {\r\n    const { isLoading, isLoadingError } = this.state;\r\n\r\n    return (\r\n      <Fragment>\r\n        <div className=\"d-none\" ref={(node) => { this.checkoutButton = node; }} />\r\n        <LoadingScreenV2\r\n          isLoading={isLoading}\r\n          isLoadingError={isLoadingError}\r\n          message={<h5>Please try again.</h5>}\r\n          showLoading={this.showLoading}\r\n          showLoadingError={this.showLoadingError}\r\n          noLogos\r\n        />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nStripePayment.defaultProps = {\r\n  markup: null,\r\n  replacementIDString: null,\r\n  zeroPaymentCallback: null,\r\n};\r\n\r\nStripePayment.propTypes = {\r\n  markup: PropTypes.string,\r\n  // doLoadStripeState: PropTypes.func.isRequired,\r\n  paymentCallback: PropTypes.func.isRequired,\r\n  zeroPaymentCallback: PropTypes.func,\r\n  replacementIDString: PropTypes.string,\r\n};\r\n\r\nexport default StripePayment;\r\n","/**\r\n * PiggySignUp.js\r\n * The piggy sign up template\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport PiggyBank from 'assets/images/forms/PiggyBank.svg';\r\n\r\nimport './PiggySignUpNew.scss';\r\n\r\nclass PiggySignUpNew extends Component {\r\n  render() {\r\n    const {\r\n      header,\r\n      subHeader,\r\n      onClick,\r\n      isLoggedIn,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div\r\n        className={`piggy-container-new ${isLoggedIn ? 'piggy-hovered' : 'piggy-hover'}`}\r\n        onClick={onClick}\r\n        role=\"button\"\r\n        tabIndex={-1}\r\n        onKeyDown={null}\r\n      >\r\n        <Col className=\"d-flex d-sm-none wrap-container\" xs={12}>\r\n          <div className=\"piggy-img-container\">\r\n            <img src={PiggyBank} alt=\"Pig.svg\" />\r\n          </div>\r\n          <div className=\"piggy-right-container\">\r\n            <div className=\"piggy-desc-container\">\r\n              {header}\r\n              {subHeader}\r\n            </div>\r\n          </div>\r\n        </Col>\r\n        <Col className=\"d-none d-sm-flex wrap-container\" xs={12}>\r\n          <div className=\"piggy-img-container\">\r\n            <img src={PiggyBank} alt=\"Pig.svg\" />\r\n          </div>\r\n          <div className=\"piggy-right-container\">\r\n            <div className=\"piggy-desc-container\">\r\n              {header}\r\n              {subHeader}\r\n            </div>\r\n          </div>\r\n        </Col>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nPiggySignUpNew.defaultProps = {\r\n  onClick: () => {},\r\n  isLoggedIn: false,\r\n  subHeader: null,\r\n};\r\n\r\nPiggySignUpNew.propTypes = {\r\n  header: PropTypes.object.isRequired,\r\n  subHeader: PropTypes.object,\r\n  onClick: PropTypes.func,\r\n  isLoggedIn: PropTypes.bool,\r\n};\r\n\r\nexport default PiggySignUpNew;\r\n","/**\r\n * PiggyFillForm.js\r\n * The piggy component in DetailForm\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n * @author [Nicolette](nicolette@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport PiggySignUp from './PiggySignUpNew';\r\n\r\nclass PiggyFillFormNew extends Component {\r\n  render() {\r\n    const {\r\n      onClick,\r\n      category,\r\n      mainText,\r\n      descText,\r\n      isLoggedIn,\r\n      cashback,\r\n    } = this.props;\r\n\r\n    let mainTextToUse = mainText;\r\n    let descTextToUse = descText;\r\n\r\n    if (!mainTextToUse) {\r\n      mainTextToUse = category === 'life' || category === 'endowment' || category === 'retirement' ?\r\n        'Earn extra $5 Credits instantly!' :\r\n        'Sign in to get 5% Cashback on your purchase!';\r\n    }\r\n\r\n    if (!descTextToUse) {\r\n      descTextToUse = category === 'life' || category === 'endowment' || category === 'retirement' ?\r\n        'Submit the form below as a PolicyPal user to earn $5 Credits in your account.' :\r\n        'Purchase as a PolicyPal user to earn 5% Cashback in your account within 14 days.';\r\n    }\r\n\r\n    if (isLoggedIn && cashback) {\r\n      mainTextToUse = `Proceed to earn ${cashback} cashback now!`;\r\n      descTextToUse = null;\r\n    }\r\n\r\n\r\n    return (\r\n      <PiggySignUp\r\n        isLoggedIn={isLoggedIn}\r\n        header={\r\n          <p className=\"main-text\">{mainTextToUse}</p>\r\n        }\r\n        subHeader={\r\n          descTextToUse && <p className=\"desc-text\">{descTextToUse}</p>\r\n        }\r\n        onClick={!isLoggedIn && onClick ? onClick : null}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nPiggyFillFormNew.defaultProps = {\r\n  onClick: () => {},\r\n  mainText: null,\r\n  descText: null,\r\n  isLoggedIn: false,\r\n  cashback: null,\r\n};\r\n\r\nPiggyFillFormNew.propTypes = {\r\n  onClick: PropTypes.func,\r\n  category: PropTypes.string.isRequired,\r\n  mainText: PropTypes.string,\r\n  descText: PropTypes.string,\r\n  isLoggedIn: PropTypes.bool,\r\n  cashback: PropTypes.string,\r\n};\r\n\r\nexport default PiggyFillFormNew;\r\n","module.exports = __webpack_public_path__ + \"static/media/CheckIcon.02ce5aca.svg\";","module.exports = __webpack_public_path__ + \"static/media/Phone.02c1235c.svg\";","/**\r\n * Accordion.js\r\n * A collapse view that is enhanced from reactstrap\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Collapse, CardBody, Card } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ArrowGradient from 'assets/images/forms/ArrowGradient.svg';\r\n\r\nimport './Accordion.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass Accordion extends Component {\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {object} props Component props\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isOpened: false,\r\n      openCallback: null,\r\n    };\r\n\r\n    this.handleExpand = this.handleExpand.bind(this);\r\n    this.setOpenCallback = this.setOpenCallback.bind(this);\r\n  }\r\n\r\n  setOpenCallback(callback) {\r\n    this.setState({\r\n      openCallback: callback,\r\n    });\r\n  }\r\n\r\n  handleExpand() {\r\n    const { isOpened, openCallback } = this.state;\r\n    if (!isOpened && openCallback) {\r\n      setTimeout(() => openCallback(), 10);\r\n    }\r\n\r\n    this.setState({\r\n      isOpened: !isOpened,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isOpened,\r\n    } = this.state;\r\n\r\n    const {\r\n      height,\r\n      isWarning,\r\n      isFullBorder,\r\n    } = this.props;\r\n\r\n    const openStyle = isOpened ? 'accordion-opened' : 'accordion-closed';\r\n    const openText = isOpened ? 'Close Details' : 'Expand Details';\r\n    const arrowOpenStyle = isOpened ? 'arrow-opened' : 'arrow-closed';\r\n    const borderStyle = isFullBorder ? 'accordion-border' : '';\r\n\r\n    return (\r\n      <div className={`${borderStyle} accordion-container`}>\r\n        <div className=\"accordion-inner\">\r\n          <Collapse className={openStyle} isOpen={isOpened}>\r\n            <Card>\r\n              <CardBody>\r\n                {this.props.children}\r\n              </CardBody>\r\n            </Card>\r\n          </Collapse>\r\n        </div>\r\n        <div className=\"expand-container\" style={{ minHeight: height }}>\r\n          <button\r\n            className=\"control-container\"\r\n            onClick={() => this.handleExpand()}\r\n          >\r\n            <img className={`arrow ${arrowOpenStyle}`} src={ArrowGradient} alt=\"Arrow.svg\" />\r\n            <span>{openText}</span>\r\n          </button>\r\n        </div>\r\n        {\r\n          isWarning ?\r\n            <div className=\"warning-container\">\r\n              <p>Please make sure all your information is correct before making the payment</p>\r\n            </div>\r\n          :\r\n            null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nAccordion.defaultProps = {\r\n  isWarning: false,\r\n  height: 95,\r\n  isFullBorder: false,\r\n};\r\n\r\nAccordion.propTypes = {\r\n  isWarning: PropTypes.bool,\r\n  isFullBorder: PropTypes.bool,\r\n  height: PropTypes.number,\r\n};\r\n\r\nexport default Accordion;\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAsNJREFUSA3Flz1rFEEYgLOSGJB0QsRTCxtFUUHTCImS9BaR09JKLQTBQs0/uEoU0mpnFQiYCIp2CYqFogELP7CwCJ6iCAqxMEU4n+cya9Zld7KXkPjCczM779fM7nxd0lVBWq1WgtkgjMIA1AIUXZ8Dryin4VmSJC3KqBiwVEjYi/IKXIUmGPhpqJtQsRO74ATYMes3YZwOLFJ2JiStwzxMwv6q3toGH33rVf3adjg04CMc78gxY6xviNHINJdXMZ6AWdheblVNY4wQayLqgZEjNWlP1LADpbFCzOKRo/Sb+nrXPdJ8v4wZYv/7zWnsBSfDmr9pPln+2dghhytlWWgYg8n0OVZi1w9nYAqewwXYF/NJddi5Qsbaz1QS+ArRJYO+G67DJ8jLAg23wTVcKuhdauZKuvgZgrlSaxTonSB3ISu/ePiZaVikfjIWRx02czC0hbq7jTtSTK6hPBcM5ikvwhE4BKfgEdTZqZ5QribmGrUHMzBSZo2uBt9BacLBMtsq7fiPwEw3xu61zYiTnUqX2C1G9VZbnN3nj8I2HyEV2z9g9y1tyJXmqhnAidGXU/59RPcClCU4liqo+93fQZHcSe3yJcZ9sOA3VuxlmcR0PSVO/SXtNhuvZWKPt51QJuNBoe1wxmiJ+iVwNzoNNyCVB2mloDTXl7VMrgMFwYxzL7zz35SFNvqha08uR+HNwUO8UJgkvhEPdsWJ+Bjn87AXnPHDcJ92R61Mwft2rfjHXC/tQZUNZCt2+Q3ESfkDsvKGh93F+ZZb0bc3EBN3smW6p7uW8+Lr9Rzfs0rSlS1TQxw6OSR2YH8WHsJruAyHYwlTHXYrh0RI/H+OxZC8To829yKQeRUNks9C2caQmlYujRViNqJOGG3+ZS/tEckd+eZebzPJ/ebewzbkQh87AFxmG/YXJpo4M3rtBsHbygCs+0/bH+1FEN8ETvXEAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAArlJREFUSA29l79PFEEUx3f38EBFE6ONoLGwMLGUkJAQC/4DEmJCYeU/YGGirYnSmFD4X5DQ4F+ACblKiQUSQwGFl8NYkmtgXXb9fI9ZmJuws3MQ7iXfm1/vve/M7JuZd3EUIEVRxKjNgnkwBSYMKKJ9g03KNdCK47ig9IocVgqEowy+Bm9AB8jxhqmLUKJJTILnQBNTfRl8ZgJHlIMJpAvgN1gFT0KtpWtsZLsQatfTw2AJ7IGZgQwtZdkaH0tWd3UV5RXwFdyt1gobkQ/ja8VrgZJWKtJrXsUBBuXL+Dx/5Qzqm2p7L71Sd17yaXz3f3M6R4GC4cLf1CVz2/JtOHRSot5xouMt9WnC/4VrUNU+JHpHjo9nsLktP0mSbFD/UaWvfnhWKb6h90mNGPwFwUcmy7KX6B8AW975SA2xjpq44hE6dCN1mMVOnaExvkX5AWiltuR247y6OCDVRTQrYt02upGCJE3TR81m84FRTvM8f4+zX+zCzyAHJ1zz2up1MBdoFKVp8QyyHBvJPhgLtZUe+nNgPaGuu1bLr5V2u309jqMblqKC8x6Obm5vF02r31cV14Rm0AXjPk2NoaMgXGOxHcpSMto6hnts9WKdD+NnHP2uvrHE+0qdqPR+HxMg2qFSGrQfqtFoNEJfInEVItbzdh90gVfyPNrkqU0ge2oU/zH7LeoZfbte47NBcf25QHCl05DZwXXnzGd9DdvT4FLmoEc8VNzzWpttOI7F9V1RrTOssxwqbjy47To/4voi4haYZAuCr8w6z1XjhkOpUUuBoq1SjvSxysDp12TLVQ50eRiOZcPZO6PBzyKz1oXxymCRMujiQK/vWTxdDAPDTwRKdsiHn/pY5MNP9ixyrXy46a1Frm+uB+BKEvryWJR8fSWkSsyu5C+Ml7icBROQnlIk3TpT4NJ/2v4DJHsycMQfgx0AAAAASUVORK5CYII=\"","/**\r\n * PiggySignUp.js\r\n * The piggy sign up template\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Pig from 'assets/images/Motor/Pig.svg';\r\n\r\nimport Button from 'components/FormsV3/Button/Button';\r\n\r\nimport './PiggySignUp.scss';\r\n\r\nclass PiggySignUp extends Component {\r\n  render() {\r\n    const {\r\n      header,\r\n      subHeader,\r\n      buttonInner,\r\n      onClick,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className=\"piggy-container\">\r\n        <Col className=\"d-flex d-sm-none wrap-container\" xs={12}>\r\n          <div className=\"piggy-img-container\">\r\n            <img src={Pig} alt=\"Pig.svg\" />\r\n          </div>\r\n          <div className=\"piggy-right-container\">\r\n            <div className=\"piggy-desc-container\">\r\n              {header}\r\n              {subHeader}\r\n            </div>\r\n          </div>\r\n          <div className=\"button-container\">\r\n            <Button variant=\"medium-color\" width=\"100%\" height={48} onClick={onClick}>\r\n              <p>{buttonInner}</p>\r\n            </Button>\r\n          </div>\r\n        </Col>\r\n        <Col className=\"d-none d-sm-flex wrap-container\" xs={12}>\r\n          <div className=\"piggy-img-container\">\r\n            <img src={Pig} alt=\"Pig.svg\" />\r\n          </div>\r\n          <div className=\"piggy-right-container\">\r\n            <div className=\"piggy-desc-container\">\r\n              {header}\r\n              {subHeader}\r\n            </div>\r\n            <div className=\"button-container\">\r\n              <Button variant=\"medium-color\" width=\"100%\" height={48} onClick={onClick}>\r\n                <p>{buttonInner}</p>\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nPiggySignUp.defaultProps = {\r\n  onClick: () => {},\r\n};\r\n\r\nPiggySignUp.propTypes = {\r\n  header: PropTypes.object.isRequired,\r\n  subHeader: PropTypes.object.isRequired,\r\n  buttonInner: PropTypes.object.isRequired,\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default PiggySignUp;\r\n","module.exports = __webpack_public_path__ + \"static/media/Pig.4e0854df.svg\";","/**\r\n * PetCheckoutContainer.js\r\n * The checkout container for pet\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { getFormValues } from 'redux-form';\r\nimport PropTypes from 'prop-types';\r\nimport ReactPixel from 'react-facebook-pixel';\r\nimport _ from 'lodash';\r\n\r\nimport { getAddToCartData } from 'lib/trackingHelper';\r\nimport { getSessionParams } from '../../actions/petActions';\r\nimport { setInsuranceFormState, FORMSTATES } from '../../actions/insuranceActions';\r\nimport CheckoutWrapper from '../../components/Templates/Checkout/CheckoutWrapper';\r\n\r\nimport {\r\n  compactCheckoutAttributes,\r\n  getCheckoutParamsWording,\r\n  getCheckoutHeaderDataCoverage,\r\n  getCompactSubDetails,\r\n} from '../../lib/helperFunctions';\r\nimport { gaTag, gaEvent, ampTag } from '../../lib/tagFunctions';\r\n\r\nclass PetCheckoutContainer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const {\r\n      petForm,\r\n      petDetailsForm,\r\n      selectedPlanData,\r\n      isAdHoc,\r\n      adHocData,\r\n    } = this.props;\r\n\r\n    const paramsWording = getCheckoutParamsWording(\r\n      isAdHoc,\r\n      adHocData,\r\n      selectedPlanData,\r\n      () => getSessionParams(petForm, petDetailsForm, selectedPlanData),\r\n    );\r\n\r\n    const headerCoverage = getCheckoutHeaderDataCoverage('Pet Insurance', isAdHoc, adHocData, selectedPlanData, paramsWording.params);\r\n\r\n    const petIllness = isAdHoc ? adHocData.data.session_params.pet_illness : petDetailsForm.pet_illness;\r\n    const medicalRecord = isAdHoc ? adHocData.data.session_params.pet_medical_record : petDetailsForm.pet_medical_record;\r\n    const record = petIllness === 'Yes' ?\r\n      [{ title: 'Illness Details', description: medicalRecord }] :\r\n      [];\r\n\r\n    const petFormToUse = isAdHoc ? adHocData.data.session_params : paramsWording.params.sessionParams.session_params;\r\n    const petDetailFormToUse = isAdHoc ? adHocData.data.session_params : paramsWording.params.sessionParams.session_params;\r\n    this.state = {\r\n      headerData: headerCoverage.headerData,\r\n      mainDetails: {\r\n        title: 'Insurance',\r\n        attributes: compactCheckoutAttributes([\r\n          { title: 'Pet Species', description: petFormToUse.pet_species },\r\n          { title: 'Start Date', description: petFormToUse.start_date },\r\n          { title: 'End Date', description: petFormToUse.end_date },\r\n          // { title: 'Coverage', description: headerCoverage.coverage },\r\n        ]),\r\n      },\r\n      subDetails: [getCompactSubDetails({\r\n        key: 'Adult 1',\r\n        leftDetail: {\r\n          title: 'Details',\r\n          attributes: compactCheckoutAttributes([\r\n            { title: 'Email', description: petDetailFormToUse.email },\r\n            { title: 'Last name', description: petDetailFormToUse.family_name },\r\n            { title: 'First name', description: petDetailFormToUse.given_name },\r\n            { title: 'Date of birth', description: petDetailFormToUse.birth_date },\r\n            { title: 'ID type', description: petDetailFormToUse.id_type },\r\n            { title: 'ID number', description: petDetailFormToUse.nric },\r\n            { title: 'Mobile number', description: petDetailFormToUse.mobile_number },\r\n            { title: 'Address', description: petDetailFormToUse.address },\r\n            { title: 'Unit no', description: petDetailFormToUse.unit_no },\r\n            { title: 'Postcode', description: petDetailFormToUse.postal },\r\n          ]),\r\n        },\r\n        rightDetail: {\r\n          title: 'Pet',\r\n          attributes: compactCheckoutAttributes([\r\n            { title: 'Name', description: petDetailFormToUse.pet_name },\r\n            { title: 'Microchip number', description: petDetailFormToUse.pet_microchip_no },\r\n            { title: 'Date of birth', description: petDetailFormToUse.pet_birth_date },\r\n            { title: 'Pet Illness', description: petDetailFormToUse.pet_illness },\r\n            ...record,\r\n          ]),\r\n        },\r\n      })],\r\n      ...paramsWording,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { setFormState, history } = this.props;\r\n    setFormState(FORMSTATES.CHECKOUT.index);\r\n    gaTag({\r\n      page_title: 'Pet - Checkout',\r\n      page_path: '/pet/checkout',\r\n    });\r\n    ampTag('PetCheckoutS');\r\n\r\n    if (history.location.pathname && history.location.pathname === `/pet${FORMSTATES.CHECKOUT.path}`) {\r\n      const { petDetailsForm, petForm, selectedPlanData } = this.props;\r\n      const { params } = this.state;\r\n      const { info, planType } = selectedPlanData;\r\n      const trackData = getAddToCartData({\r\n        ..._.pick(info, ['insurer_slug', 'insurer_name', 'product_slug', 'product_name']),\r\n        values: {\r\n          ..._.pick(petDetailsForm, ['pet_name', 'pet_birth_date', 'pet_illness', 'pet_microchip_no', 'pet_medical_record']),\r\n          ...petForm,\r\n        },\r\n        coverage_level: planType,\r\n        price: `$${params.amountPayable}`,\r\n      });\r\n      ReactPixel.track('AddToCart', trackData);\r\n      ReactPixel.track('InitiateCheckout');\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      headerData,\r\n      mainDetails,\r\n      subDetails,\r\n      wording,\r\n      params,\r\n    } = this.state;\r\n\r\n    const {\r\n      isLoggedIn,\r\n      charged,\r\n      setFormState,\r\n      history,\r\n      isAdHoc,\r\n      adHocData,\r\n      sessionId,\r\n    } = this.props;\r\n\r\n    return (\r\n      <CheckoutWrapper\r\n        headerData={headerData}\r\n        mainDetails={mainDetails}\r\n        subDetails={subDetails}\r\n        sessionId={sessionId}\r\n        isLoggedIn={isLoggedIn}\r\n        charged={charged}\r\n        backToDetails={() => {\r\n          history.goBack();\r\n        }}\r\n        wording={wording}\r\n        isAdHoc={isAdHoc}\r\n        adHocData={adHocData}\r\n        params={params}\r\n        category=\"pet\"\r\n        trackingTags={{\r\n          payment: (data) => {\r\n            ReactPixel.track('AddPaymentInfo');\r\n            gaEvent('Pet - CheckoutPage_ProceedPayment', {\r\n              event_category: 'Pet',\r\n              event_label: 'Pet - CheckoutPage_ProceedPayment',\r\n            });\r\n            ampTag('PetProceedPayA', {\r\n              cashback: data.rewardsID !== null,\r\n              promo: data.promoCode !== null && data.promoCode !== '',\r\n            });\r\n          },\r\n          receipt: () => {\r\n            if (!isAdHoc) {\r\n              ReactPixel.track('Purchase', { currency: 'SGD', value: params.amountPayable });\r\n              setFormState(FORMSTATES.SUBMITTED.index);\r\n              history.push(`/pet${FORMSTATES.SUBMITTED.path}`);\r\n            }\r\n            gaTag({\r\n              page_title: 'Pet - Receipt',\r\n              page_path: '/pet/Receipt',\r\n            });\r\n            ampTag('PetConfirmationS');\r\n          },\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nPetCheckoutContainer.defaultProps = {\r\n  charged: null,\r\n  sessionId: null,\r\n  adHocData: null,\r\n  isAdHoc: false,\r\n  isLoggedIn: false,\r\n  petForm: null,\r\n  petDetailsForm: null,\r\n  selectedPlanData: null,\r\n};\r\n\r\nPetCheckoutContainer.propTypes = {\r\n  charged: PropTypes.bool,\r\n  sessionId: PropTypes.string,\r\n  isLoggedIn: PropTypes.bool,\r\n  petForm: PropTypes.object,\r\n  petDetailsForm: PropTypes.object,\r\n  selectedPlanData: PropTypes.object,\r\n  adHocData: PropTypes.object,\r\n  isAdHoc: PropTypes.bool,\r\n  setFormState: PropTypes.func.isRequired,\r\n  history: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  const sessionId = ownProps.isAdHoc ? ownProps.sessionId : state.insurance.sessionId;\r\n  return ({\r\n    petForm: getFormValues('pet')(state),\r\n    petDetailsForm: getFormValues('pet-detail')(state),\r\n    selectedPlanData: state.pet.selectedPlanData,\r\n    sessionId,\r\n  });\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setFormState: (state) => {\r\n    dispatch(setInsuranceFormState(state));\r\n  },\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(PetCheckoutContainer));\r\n","/**\r\n * Checkout.js\r\n * This is the checkout view that will render the summary\r\n * of details and handle all the promo, cashback and stripe\r\n * APIs.\r\n *\r\n * There is 2 state to this view. Checkout or receipt. It will\r\n * toggle accordingly if charged/ahHocCharged.\r\n *\r\n * Upon successful payment, it will update the user data again\r\n * to check if any cashback is used.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component, Fragment } from 'react';\r\n// import PropTypes from 'prop-types';\r\n\r\nimport LoadingScreenV2 from 'components/Templates/LoadingScreenV2/LoadingScreenV2';\r\n\r\nconst defaultMsg = 'Please try again.';\r\n\r\nclass APILoader extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      showLoading: false,\r\n      showLoadingError: false,\r\n      errorMsg: null,\r\n      errorCallback: null,\r\n    };\r\n\r\n    this.handleAPI = this.handleAPI.bind(this);\r\n    this.showLoading = this.showLoading.bind(this);\r\n    this.showLoadingError = this.showLoadingError.bind(this);\r\n  }\r\n\r\n  async showLoading(show) {\r\n    await new Promise((resolve) => { this.setState({ showLoading: show }, resolve); });\r\n  }\r\n\r\n  async showLoadingError(show) {\r\n    await new Promise((resolve) => { this.setState({ showLoadingError: show }, resolve); });\r\n  }\r\n\r\n  async handleAPI(apiCallback, overwriteWarning = false, errorMsg = null, errorCallback = null) {\r\n    try {\r\n      clearInterval(this.showLoadigInterval);\r\n      this.showLoadigInterval = setInterval(() => this.setState({\r\n        showLoading: true,\r\n      }), 300);\r\n\r\n      const result = await apiCallback();\r\n\r\n      clearInterval(this.showLoadigInterval);\r\n\r\n      const showError = overwriteWarning ? false : !result;\r\n\r\n      this.setState({\r\n        showLoadingError: showError,\r\n        showLoading: showError,\r\n        errorMsg,\r\n        errorCallback,\r\n      });\r\n      return result;\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n      console.log(error);\r\n    }\r\n\r\n    this.setState({\r\n      showLoadingError: true,\r\n      showLoading: true,\r\n      errorMsg,\r\n      errorCallback,\r\n    });\r\n\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      showLoading,\r\n      showLoadingError,\r\n      errorMsg,\r\n      errorCallback,\r\n    } = this.state;\r\n\r\n    return (\r\n      <Fragment>\r\n        <LoadingScreenV2\r\n          isLoading={showLoading}\r\n          isLoadingError={showLoadingError}\r\n          message={<h5>{errorMsg || defaultMsg}</h5>}\r\n          showLoading={this.showLoading}\r\n          showLoadingError={this.showLoadingError}\r\n          errorCallback={errorCallback}\r\n          noLogos\r\n        />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nAPILoader.defaultProps = {\r\n};\r\n\r\nAPILoader.propTypes = {\r\n};\r\n\r\nexport default APILoader;\r\n","module.exports = __webpack_public_path__ + \"static/media/PiggyBank.9fc90d27.svg\";","/**\r\n * PACheckoutContainer.js\r\n * Checkout Container for PA\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { getFormValues } from 'redux-form';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { getSessionParams } from '../../actions/paActions';\r\nimport { setInsuranceFormState, FORMSTATES } from '../../actions/insuranceActions';\r\nimport CheckoutWrapper from '../../components/Templates/Checkout/CheckoutWrapper';\r\nimport { gaTag, gaEvent, ampTag } from '../../lib/tagFunctions';\r\n\r\nimport {\r\n  compactCheckoutAttributes,\r\n  getCheckoutParamsWording,\r\n  getCheckoutHeaderDataCoverage,\r\n  getCompactSubDetails,\r\n} from '../../lib/helperFunctions';\r\n\r\nclass PACheckoutContainer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const {\r\n      paForm,\r\n      paDetailsForm,\r\n      selectedPlanData,\r\n      isAdHoc,\r\n      adHocData,\r\n    } = this.props;\r\n\r\n    const paramsWording = getCheckoutParamsWording(\r\n      isAdHoc,\r\n      adHocData,\r\n      selectedPlanData,\r\n      () => getSessionParams(paForm, paDetailsForm, selectedPlanData),\r\n    );\r\n\r\n    const headerCoverage = getCheckoutHeaderDataCoverage('Personal Accident Insurance', isAdHoc, adHocData, selectedPlanData, paramsWording.params);\r\n    const sessionParams = isAdHoc ? adHocData.data.session_params : paramsWording.params.sessionParams.session_params;\r\n    const isSpouse = sessionParams.num_adult === '2';\r\n    let SpouseAttribute = [];\r\n    let familyMemberText = isAdHoc ? null : '1 Adult';\r\n    if (isSpouse) {\r\n      SpouseAttribute = [\r\n        { title: 'My spouse\\'s occupation', description: sessionParams.family[0].occupation },\r\n      ];\r\n      familyMemberText = '2 Adults';\r\n    }\r\n\r\n    const numChildren = isAdHoc ? null : '0';\r\n\r\n    this.state = {\r\n      headerData: headerCoverage.headerData,\r\n      mainDetails: {\r\n        title: 'Insurance',\r\n        attributes: compactCheckoutAttributes([\r\n          { title: 'Plan type', description: sessionParams.plan_type },\r\n          { title: 'Family members', description: sessionParams.family_members || familyMemberText },\r\n          { title: 'Number of children', description: sessionParams.num_children || numChildren },\r\n          { title: 'My occupation', description: sessionParams.occupation },\r\n          ...SpouseAttribute,\r\n          { title: 'Start Date', description: sessionParams.start_date },\r\n          { title: 'End Date', description: sessionParams.end_date },\r\n          // { title: 'Coverage', description: headerCoverage.coverage },\r\n        ]),\r\n      },\r\n      subDetails: this.getSubDetails(paramsWording.params.sessionParams),\r\n      ...paramsWording,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { setFormState } = this.props;\r\n    setFormState(FORMSTATES.CHECKOUT.index);\r\n\r\n    gaTag({\r\n      page_title: 'PersonalAccident - Checkout',\r\n      page_path: '/personal-accident/checkout',\r\n    });\r\n    ampTag('PAReviewS');\r\n  }\r\n\r\n  getSubDetails(sessionParams) {\r\n    const isMyself = sessionParams.session_params.plan_type === 'Myself';\r\n\r\n    const myself = getCompactSubDetails({\r\n      key: 'Myself',\r\n      leftDetail: {\r\n        title: 'Details',\r\n        attributes: compactCheckoutAttributes([\r\n          { title: 'Email', description: sessionParams.session_params.email },\r\n          { title: 'Family Name', description: sessionParams.session_params.family_name },\r\n          { title: 'Given Name', description: sessionParams.session_params.given_name },\r\n          { title: 'Full Name', description: sessionParams.session_params.full_name },\r\n          { title: 'Nationality', description: sessionParams.session_params.nationality },\r\n          { title: 'ID type', description: sessionParams.session_params.id_type },\r\n          { title: 'ID number', description: sessionParams.session_params.nric },\r\n          { title: 'Race', description: sessionParams.session_params.race },\r\n          { title: 'Gender', description: sessionParams.session_params.gender },\r\n          { title: 'Date of birth', description: sessionParams.session_params.birth_date },\r\n          { title: 'Marital Status', description: sessionParams.session_params.marital_status },\r\n          { title: 'Address', description: sessionParams.session_params.address },\r\n          { title: 'Unit no', description: sessionParams.session_params.unit_no },\r\n          { title: 'Postal', description: sessionParams.session_params.postal },\r\n          { title: 'Mobile number', description: sessionParams.session_params.mobile_number },\r\n        ]),\r\n      },\r\n      rightDetail: {\r\n        title: 'Work Details',\r\n        attributes: compactCheckoutAttributes([\r\n          { title: 'Occupation', description: sessionParams.session_params.occupation },\r\n          { title: 'Industry', description: sessionParams.session_params.industry },\r\n        ]),\r\n      },\r\n    });\r\n\r\n    const familyData = [];\r\n    if (!isMyself && sessionParams.session_params.family) {\r\n      let childCount = 1;\r\n      for (let i = 0; i < sessionParams.session_params.family.length; ++i) {\r\n        const isSpouse = i === 0 && sessionParams.session_params.num_adult === '2';\r\n        const data = sessionParams.session_params.family[i];\r\n\r\n        let rightDetail = null;\r\n        if (isSpouse) {\r\n          childCount = 0;\r\n          rightDetail = {\r\n            title: 'Work Details',\r\n            attributes: compactCheckoutAttributes([\r\n              { title: 'Occupation', description: data.occupation },\r\n              { title: 'Industry', description: data.industry },\r\n            ]),\r\n          };\r\n        } else {\r\n          rightDetail = {\r\n            title: 'Education Details',\r\n            attributes: compactCheckoutAttributes([\r\n              { title: 'Full school education', description: data.full_school_education },\r\n            ]),\r\n          };\r\n        }\r\n\r\n        const key = isSpouse ? 'Spouse' : `Children ${childCount + i}`;\r\n\r\n        familyData.push(getCompactSubDetails({\r\n          key,\r\n          leftDetail: {\r\n            title: 'Details',\r\n            attributes: compactCheckoutAttributes([\r\n              { title: 'Full Name', description: data.full_name },\r\n              { title: 'Nationality', description: data.nationality },\r\n              { title: 'ID type', description: data.id_type },\r\n              { title: 'ID number', description: data.nric },\r\n              { title: 'Relationship', description: data.relationship },\r\n              { title: 'Gender', description: data.gender },\r\n              { title: 'Date of birth', description: data.birth_date },\r\n            ]),\r\n          },\r\n          rightDetail,\r\n        }));\r\n      }\r\n    }\r\n\r\n    return [myself, ...familyData];\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      headerData,\r\n      mainDetails,\r\n      subDetails,\r\n      wording,\r\n      params,\r\n    } = this.state;\r\n\r\n    const {\r\n      isLoggedIn,\r\n      charged,\r\n      history,\r\n      isAdHoc,\r\n      adHocData,\r\n      sessionId,\r\n      setFormState,\r\n    } = this.props;\r\n\r\n    return (\r\n      <CheckoutWrapper\r\n        headerData={headerData}\r\n        mainDetails={mainDetails}\r\n        subDetails={subDetails}\r\n        sessionId={sessionId}\r\n        isLoggedIn={isLoggedIn}\r\n        charged={charged}\r\n        backToDetails={() => {\r\n          history.goBack();\r\n        }}\r\n        wording={wording}\r\n        isAdHoc={isAdHoc}\r\n        adHocData={adHocData}\r\n        params={params}\r\n        category=\"pa\"\r\n        trackingTags={{\r\n          payment: (data) => {\r\n            gaEvent('PersonalAccident - CheckoutPage_ProceedPayment', {\r\n              event_category: 'PersonalAccident',\r\n              event_label: 'PersonalAccident - CheckoutPage_ProceedPayment',\r\n            });\r\n            ampTag('PAProceedPayA', {\r\n              cashback: data.rewardsID !== null,\r\n              promo: data.promoCode !== null && data.promoCode !== '',\r\n            });\r\n          },\r\n          receipt: () => {\r\n            if (!isAdHoc) {\r\n              setFormState(FORMSTATES.SUBMITTED.index);\r\n              history.push(`/personal-accident${FORMSTATES.SUBMITTED.path}`);\r\n            }\r\n            gaTag({\r\n              page_title: 'PersonalAccident - Receipt',\r\n              page_path: '/personal-accident/Receipt',\r\n            });\r\n            ampTag('PAConfirmationS');\r\n          },\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nPACheckoutContainer.defaultProps = {\r\n  charged: null,\r\n  sessionId: null,\r\n  adHocData: null,\r\n  isAdHoc: false,\r\n  paForm: null,\r\n  paDetailsForm: null,\r\n  selectedPlanData: null,\r\n  isLoggedIn: false,\r\n};\r\n\r\nPACheckoutContainer.propTypes = {\r\n  charged: PropTypes.bool,\r\n  sessionId: PropTypes.string,\r\n  isLoggedIn: PropTypes.bool,\r\n  paForm: PropTypes.object,\r\n  paDetailsForm: PropTypes.object,\r\n  selectedPlanData: PropTypes.object,\r\n  adHocData: PropTypes.object,\r\n  isAdHoc: PropTypes.bool,\r\n  history: PropTypes.object.isRequired,\r\n  setFormState: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  const sessionId = ownProps.isAdHoc ? ownProps.sessionId : state.insurance.sessionId;\r\n\r\n  return ({\r\n    paForm: getFormValues('pa')(state),\r\n    paDetailsForm: getFormValues('pa-detail')(state),\r\n    selectedPlanData: state.pa.selectedPlanData,\r\n    sessionId,\r\n  });\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setFormState: (state) => {\r\n    dispatch(setInsuranceFormState(state));\r\n  },\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(PACheckoutContainer));\r\n","/**\r\n * HeaderDescWithTypeDate.js\r\n * Product summary with type and date\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Row } from 'reactstrap';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './HeaderDescWithTypeDateNew.scss';\r\n\r\nclass HeaderDescWithTypeDateNew extends Component {\r\n  render() {\r\n    const {\r\n      logo,\r\n      logoName,\r\n      insurerDesc,\r\n      data1,\r\n      data1Value,\r\n      data2,\r\n      data2Value,\r\n    } = this.props;\r\n\r\n    return (\r\n      <Row className=\"header-desc-with-type-date-container-new\" noGutters>\r\n        <div className=\"insurer-left-container\">\r\n          <div className=\"insurer-logo-container\">\r\n            <div className=\"company-logo-container\">\r\n              <img className=\"company-logo\" src={logo} alt={logoName} />\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div className=\"insurer-desc-container\">\r\n              <p className=\"insurer-desc\">{insurerDesc}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"insurer-right-container\">\r\n          <div className=\"data-container\">\r\n            <div className=\"data\">\r\n              <p className=\"data-name\">{data1}</p>\r\n              <p className=\"data-val\">{data1Value}</p>\r\n            </div>\r\n            <div className=\"data\">\r\n              <p className=\"data-name\">{data2}</p>\r\n              <p className=\"data-val\">{data2Value}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nHeaderDescWithTypeDateNew.defaultProps = {\r\n};\r\n\r\nHeaderDescWithTypeDateNew.propTypes = {\r\n  logo: PropTypes.string.isRequired,\r\n  logoName: PropTypes.string.isRequired,\r\n  insurerDesc: PropTypes.string.isRequired,\r\n  data1: PropTypes.string.isRequired,\r\n  data1Value: PropTypes.string.isRequired,\r\n  data2: PropTypes.string.isRequired,\r\n  data2Value: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default HeaderDescWithTypeDateNew;\r\n","/**\r\n * Checkout.js\r\n * This is the checkout view that will render the summary\r\n * of details and handle all the promo, cashback and stripe\r\n * APIs.\r\n *\r\n * There is 2 state to this view. Checkout or receipt. It will\r\n * toggle accordingly if charged/ahHocCharged.\r\n *\r\n * Upon successful payment, it will update the user data again\r\n * to check if any cashback is used.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Row, Col } from 'reactstrap';\r\n\r\nimport TabView from 'components/Templates/TabView/TabViewNew';\r\n\r\nimport './CheckoutDetailsTable.scss';\r\n\r\nclass CheckoutDetailsTable extends Component {\r\n  generateTabs() {\r\n    const { subDetails } = this.props;\r\n    return _.reduce(subDetails, (result, data) => {\r\n      result.push({\r\n        desc: data.key,\r\n      });\r\n\r\n      return result;\r\n    }, []);\r\n  }\r\n\r\n  renderDetails(details, isFullWidth, isMain = false) {\r\n    const { transactionData } = this.props;\r\n    if (!details) {\r\n      return null;\r\n    }\r\n\r\n    let smLeftWidth = 5;\r\n    let smRightWidth = 7;\r\n    smLeftWidth = isFullWidth ? 12 : smLeftWidth;\r\n    smRightWidth = isFullWidth ? 12 : smRightWidth;\r\n\r\n    // let paddingStyle = isLeftSide ? 'detail-padding-right' : 'detail-padding-left';\r\n    // paddingStyle = isFullWidth ? '' : paddingStyle;\r\n\r\n    let coverageData = {};\r\n\r\n    if (isMain) {\r\n      try {\r\n        coverageData = {\r\n          title: 'Coverage',\r\n          description: _.find(transactionData.transaction.policy_info, data => data.title.toUpperCase() === 'COVERAGE').description,\r\n        };\r\n      } catch (error) {\r\n        // No coverage found\r\n      }\r\n    }\r\n\r\n    const attributes = [...details.attributes, coverageData];\r\n    const infoList = _.map(attributes, (info, index) => (\r\n      <Col\r\n        xs={12}\r\n        className=\"detail-group\"\r\n        key={`${info.title}-${index}`}\r\n      >\r\n        <Row noGutters>\r\n          <Col className=\"detail-desc\" xs={12} sm={smLeftWidth}>{info.title}</Col>\r\n          <Col className=\"detail-value\" xs={12} sm={smRightWidth}>{info.description}</Col>\r\n        </Row>\r\n      </Col>\r\n    ));\r\n\r\n    return (\r\n      <Col className=\"detail-column\" xs={12} sm={6}>\r\n        <Row noGutters>\r\n          <Col className=\"detail-header\" xs={12}>{details.title}</Col>\r\n          {infoList}\r\n        </Row>\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  renderMainDetails() {\r\n    const { mainDetails } = this.props;\r\n    if (_.isEmpty(mainDetails.attributes)) {\r\n      return null;\r\n    }\r\n    return this.renderDetails(mainDetails, false, true);\r\n  }\r\n\r\n  renderSubDetails() {\r\n    const { subDetails, charged } = this.props;\r\n\r\n    if (_.isArray(subDetails)) {\r\n      if (subDetails.length === 1) {\r\n        return (\r\n          <Row className=\"checkout-detail-container\" noGutters>\r\n            {this.renderDetails(subDetails[0].leftDetail, false)}\r\n            {this.renderDetails(subDetails[0].rightDetail, false)}\r\n          </Row>\r\n        );\r\n      }\r\n\r\n      if (subDetails.length > 1) {\r\n        return (\r\n          <TabView\r\n            style={{ marginTop: 44, marginLeft: 30, marginRight: 30 }}\r\n            tabs={this.generateTabs()}\r\n            maxTabWidthPx={128}\r\n            autoHeight\r\n            name=\"travel-checkout-tab\"\r\n            charged={charged}\r\n            scrollTabs\r\n          >\r\n            {\r\n              _.map(subDetails, data => (\r\n                <Fragment key={data.key}>\r\n                  <Row className=\"checkout-detail-container\" noGutters>\r\n                    {this.renderDetails(data.leftDetail, false)}\r\n                    {this.renderDetails(data.rightDetail, false)}\r\n                  </Row>\r\n                </Fragment>\r\n              ))\r\n            }\r\n          </TabView>\r\n        );\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const innerJSX = (\r\n      <Col className=\"no-padding\"xs={12}>\r\n        <Row className=\"checkout-detail-container main-details\" noGutters>\r\n          {this.renderMainDetails()}\r\n        </Row>\r\n        {this.renderSubDetails()}\r\n      </Col>\r\n    );\r\n\r\n    return innerJSX;\r\n  }\r\n}\r\n\r\nCheckoutDetailsTable.defaultProps = {\r\n  charged: false,\r\n};\r\n\r\nCheckoutDetailsTable.propTypes = {\r\n  subDetails: PropTypes.array.isRequired,\r\n  mainDetails: PropTypes.object.isRequired,\r\n  charged: PropTypes.bool,\r\n  transactionData: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default CheckoutDetailsTable;\r\n","/**\r\n * Checkout.js\r\n * This is the checkout view that will render the summary\r\n * of details and handle all the promo, cashback and stripe\r\n * APIs.\r\n *\r\n * There is 2 state to this view. Checkout or receipt. It will\r\n * toggle accordingly if charged/ahHocCharged.\r\n *\r\n * Upon successful payment, it will update the user data again\r\n * to check if any cashback is used.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col } from 'reactstrap';\r\n\r\nimport PromoCode from 'components/FormsV3/PromoCode/PromoCode';\r\n\r\nimport './CheckoutPriceSummary.scss';\r\n\r\nclass CheckoutPriceSummary extends Component {\r\n  renderPromoCodeButton() {\r\n    const {\r\n      getPromo,\r\n      isAdHoc,\r\n      charged,\r\n      promoCode,\r\n      handleOnChange,\r\n    } = this.props;\r\n\r\n    if (charged || isAdHoc) {\r\n      return (\r\n        <Fragment>\r\n          <Col xs={12} sm={7} />\r\n          <Col xs={4} sm={7} className=\"d-block d-sm-none\" />\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    // if (isAdHoc) {\r\n    //   return <div className=\"promo\" />;\r\n    // }\r\n\r\n    return (\r\n      <Fragment>\r\n        <Col xs={12} sm={7} className=\"promo\">\r\n          <PromoCode\r\n            value={promoCode}\r\n            name=\"promo_code\"\r\n            placeholderString=\"Promo Code\"\r\n            postCheckout={async (promo) => {\r\n              await handleOnChange('text', 'promo_code', promo);\r\n              const promoResult = await getPromo();\r\n              const actualPromo = promoResult && promoResult.promo && promoResult.promo.code;\r\n              if (actualPromo !== promo) {\r\n                await handleOnChange('text', 'promo_code', null);\r\n                return false;\r\n              }\r\n\r\n              return true;\r\n            }}\r\n          />\r\n        </Col>\r\n        <Col xs={4} sm={7} className=\"d-block d-sm-none\" />\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      transactionData,\r\n      charged,\r\n      isRenderPromo,\r\n      isAdHoc,\r\n    } = this.props;\r\n\r\n    if (\r\n      !transactionData ||\r\n      !transactionData.transaction ||\r\n      !transactionData.transaction.price\r\n    ) {\r\n      return null;\r\n    }\r\n\r\n    const priceData = transactionData.transaction.price;\r\n    const JSX = _.reduce(priceData, (result, price, index) => {\r\n      if (index === priceData.length - 1 || price.title === 'P$ Cashback') {\r\n        return result;\r\n      }\r\n      const noTitle = !price.title || price.title === '';\r\n      const isPromo = price.title !== 'Subtotal' &&\r\n                      price.title !== 'Discount' &&\r\n                      !noTitle;\r\n\r\n      if ((isPromo && !isRenderPromo) || (!isPromo && isRenderPromo)) {\r\n        return result;\r\n      }\r\n\r\n      const extraCol = isPromo ? null : <Col xs={4} sm={7} />;\r\n      const promoStyle = isPromo ? 'promo-item' : '';\r\n      const subTotalExtra = price.title === 'Subtotal' ? 'GST 7% included' : '';\r\n\r\n      const element = (\r\n        <Fragment key={`price-data-${index}`}>\r\n          {extraCol}\r\n          <Col className={`summary-item-container ${promoStyle}`} xs={8} sm={5}>\r\n            {\r\n              noTitle ?\r\n                <span className=\"summary-item-desc\">{price.sub_title}</span>\r\n              :\r\n                <div className=\"summary-left\">\r\n                  <span className=\"summary-item-desc\">{price.title} {price.sub_title}</span>\r\n                  <span className=\"summary-item-sub-desc\">{subTotalExtra}</span>\r\n                </div>\r\n            }\r\n            <span className=\"summary-item-value\">{price.description}</span>\r\n          </Col>\r\n        </Fragment>\r\n      );\r\n\r\n      result.push(element);\r\n      return result;\r\n    }, []);\r\n\r\n    if (!isRenderPromo) {\r\n      return JSX;\r\n    }\r\n\r\n    if ((charged || isAdHoc) && _.isEmpty(JSX)) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        <Col xs={12} className=\"summary-seperator\" />\r\n        {this.renderPromoCodeButton()}\r\n        {JSX}\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nCheckoutPriceSummary.defaultProps = {\r\n  isAdHoc: false,\r\n  charged: false,\r\n  promoCode: null,\r\n};\r\n\r\nCheckoutPriceSummary.propTypes = {\r\n  isAdHoc: PropTypes.bool,\r\n  isRenderPromo: PropTypes.bool.isRequired,\r\n  charged: PropTypes.bool,\r\n  transactionData: PropTypes.object.isRequired,\r\n  getPromo: PropTypes.func.isRequired,\r\n  promoCode: PropTypes.string,\r\n  handleOnChange: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default CheckoutPriceSummary;\r\n","/**\r\n * CashbackBalance.js\r\n * Component that displays the user's cashback balance\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport CashbackLogo from 'assets/images/common/CashbackLogo.svg';\r\n\r\nimport './CashbackBalanceNew.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass CashbackBalanceNew extends Component {\r\n  render() {\r\n    const { cashbackBalance } = this.props;\r\n\r\n    return (\r\n      <div className=\"cashback-summary-new\">\r\n        <img src={CashbackLogo} alt=\"CashbackLogo.svg\" />\r\n        <p>${cashbackBalance}</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nCashbackBalanceNew.defaultProps = {\r\n};\r\n\r\nCashbackBalanceNew.propTypes = {\r\n  cashbackBalance: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default CashbackBalanceNew;\r\n","/**\r\n * Checkout.js\r\n * This is the checkout view that will render the summary\r\n * of details and handle all the promo, cashback and stripe\r\n * APIs.\r\n *\r\n * There is 2 state to this view. Checkout or receipt. It will\r\n * toggle accordingly if charged/ahHocCharged.\r\n *\r\n * Upon successful payment, it will update the user data again\r\n * to check if any cashback is used.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Row, Col } from 'reactstrap';\r\n\r\nimport CashbackBalance from 'components/Templates/CashbackBalance/CashbackBalanceNew';\r\nimport Checkbox from 'components/FormsV3/Checkbox/Checkbox';\r\n\r\nimport './CheckoutCashback.scss';\r\n\r\nclass CheckoutCashback extends Component {\r\n  render() {\r\n    const {\r\n      isLoggedIn,\r\n      rewardPoints,\r\n      charged,\r\n      transactionData,\r\n      values,\r\n      errors,\r\n      handleOnChange,\r\n      getPromo,\r\n    } = this.props;\r\n\r\n    if (\r\n      (!isLoggedIn && !charged) ||\r\n      !transactionData ||\r\n      !transactionData.transaction ||\r\n      !transactionData.transaction.price\r\n    ) {\r\n      return null;\r\n    }\r\n\r\n    const priceData = transactionData.transaction.price;\r\n    const cashbackData = _.find(priceData, data => data.title === 'P$ Cashback');\r\n\r\n    const cashbackUsed = cashbackData ? cashbackData.description : '$0';\r\n\r\n    let cashbackBalance = '';\r\n    try {\r\n      cashbackBalance = cashbackData && !charged ?\r\n        rewardPoints - _.replace(cashbackUsed, '-$', '') :\r\n        rewardPoints;\r\n    } catch (error) {\r\n      cashbackBalance = rewardPoints;\r\n    }\r\n\r\n    // In case null\r\n    cashbackBalance = cashbackBalance || 0;\r\n    cashbackBalance = `${cashbackBalance.toFixed(2)}`;\r\n\r\n    const chargedBalanceStyle = charged ? 'cashback-balance-charged' : '';\r\n\r\n    return (\r\n      <Fragment>\r\n        <Col xs={12} className=\"summary-seperator\" />\r\n        <Col xs={12}>\r\n          <Row className=\"cashback\" noGutters>\r\n            {\r\n              isLoggedIn ?\r\n                <Col xs={12} sm={7}>\r\n                  <div className=\"cashback-inner\">\r\n                    {\r\n                      charged ?\r\n                        <span className=\"cashback-text\">Cashback Balance</span>\r\n                      :\r\n                        <div className=\"cashback-checkbox\">\r\n                          <Checkbox\r\n                            value={values.cashback && values.cashback.value}\r\n                            name=\"cashback\"\r\n                            desc={<span>Use Cashback Balance</span>}\r\n                            onChange={async (type, name, value) => {\r\n                              await handleOnChange(type, name, value);\r\n                              getPromo();\r\n                            }}\r\n                            errorString={errors.cashback}\r\n                            isRequired\r\n                          />\r\n                        </div>\r\n                    }\r\n                  </div>\r\n                  {\r\n                    isLoggedIn ?\r\n                      <div className={`cashback-balance ${chargedBalanceStyle}`}>\r\n                        <div className=\"cashback-balance-display\">\r\n                          <CashbackBalance cashbackBalance={cashbackBalance} />\r\n                        </div>\r\n                      </div>\r\n                    :\r\n                      null\r\n                  }\r\n                </Col>\r\n              : <Col xs={12} sm={7} />\r\n            }\r\n            <Col xs={4} sm={7} className=\"d-block d-sm-none\" />\r\n            <Col xs={8} sm={5}>\r\n              <div className=\"summary-item-container\">\r\n                <span className=\"summary-item-desc\">Cashback Used</span>\r\n                <span className=\"summary-item-value\">{cashbackUsed}</span>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Col>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nCheckoutCashback.defaultProps = {\r\n  rewardPoints: null,\r\n  charged: false,\r\n};\r\n\r\nCheckoutCashback.propTypes = {\r\n  transactionData: PropTypes.object.isRequired,\r\n  isLoggedIn: PropTypes.bool.isRequired,\r\n  rewardPoints: PropTypes.number,\r\n  values: PropTypes.object.isRequired,\r\n  errors: PropTypes.object.isRequired,\r\n  charged: PropTypes.bool,\r\n  handleOnChange: PropTypes.func.isRequired,\r\n  getPromo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default CheckoutCashback;\r\n","/**\r\n * Checkout.js\r\n * This is the checkout view that will render the summary\r\n * of details and handle all the promo, cashback and stripe\r\n * APIs.\r\n *\r\n * There is 2 state to this view. Checkout or receipt. It will\r\n * toggle accordingly if charged/ahHocCharged.\r\n *\r\n * Upon successful payment, it will update the user data again\r\n * to check if any cashback is used.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col } from 'reactstrap';\r\n\r\nimport './CheckoutTotal.scss';\r\n\r\nclass CheckoutTotal extends Component {\r\n  render() {\r\n    const { transactionData } = this.props;\r\n\r\n    if (\r\n      !transactionData ||\r\n      !transactionData.transaction ||\r\n      !transactionData.transaction.price\r\n    ) {\r\n      return null;\r\n    }\r\n\r\n    const priceData = transactionData.transaction.price;\r\n    const totalData = _.find(priceData, price => price.title === 'Total');\r\n\r\n    if (!totalData) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        <Col xs={4} sm={7} />\r\n        <Col className=\"summary-item-container\" xs={8} sm={5}>\r\n          <span className=\"summary-item-desc\">{totalData.title}</span>\r\n          <span className=\"summary-item-value final-amount\">{totalData.description}</span>\r\n        </Col>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nCheckoutTotal.defaultProps = {\r\n};\r\n\r\nCheckoutTotal.propTypes = {\r\n  transactionData: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default CheckoutTotal;\r\n","/**\r\n * Checkout.js\r\n * This is the checkout view that will render the summary\r\n * of details and handle all the promo, cashback and stripe\r\n * APIs.\r\n *\r\n * There is 2 state to this view. Checkout or receipt. It will\r\n * toggle accordingly if charged/ahHocCharged.\r\n *\r\n * Upon successful payment, it will update the user data again\r\n * to check if any cashback is used.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col } from 'reactstrap';\r\n\r\nimport Checkbox from 'components/FormsV3/Checkbox/Checkbox';\r\n\r\nimport './CheckoutDisclaimer.scss';\r\n\r\nclass CheckoutDisclaimer extends Component {\r\n  render() {\r\n    const {\r\n      wordings,\r\n      charged,\r\n      values,\r\n      errors,\r\n      handleOnChange,\r\n    } = this.props;\r\n\r\n    if (charged) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        {\r\n          _.map(wordings, (wording, index) => {\r\n            const name = `tnc_${index}`;\r\n            return (\r\n              <Col key={name} xs={12}>\r\n                <div className=\"disclaimer\">\r\n                  <Checkbox\r\n                    key={name}\r\n                    value={values[name] && values[name].value}\r\n                    name={name}\r\n                    desc={wording}\r\n                    onChange={handleOnChange}\r\n                    errorString={errors[name]}\r\n                    isRequired\r\n                  />\r\n                </div>\r\n              </Col>\r\n            );\r\n          })\r\n        }\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nCheckoutDisclaimer.defaultProps = {\r\n  wordings: [],\r\n  charged: false,\r\n};\r\n\r\nCheckoutDisclaimer.propTypes = {\r\n  values: PropTypes.object.isRequired,\r\n  errors: PropTypes.object.isRequired,\r\n  wordings: PropTypes.array,\r\n  charged: PropTypes.bool,\r\n  handleOnChange: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default CheckoutDisclaimer;\r\n","/**\r\n * Checkout.js\r\n * This is the checkout view that will render the summary\r\n * of details and handle all the promo, cashback and stripe\r\n * APIs.\r\n *\r\n * There is 2 state to this view. Checkout or receipt. It will\r\n * toggle accordingly if charged/ahHocCharged.\r\n *\r\n * Upon successful payment, it will update the user data again\r\n * to check if any cashback is used.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col } from 'reactstrap';\r\n\r\nimport CreditCards from 'assets/images/common/CreditCards.png';\r\nimport LabelImg from 'assets/images/forms/Label.svg';\r\n\r\nimport Button from 'components/FormsV3/Button/Button';\r\n\r\nimport StripePayment from 'components/Templates/StripePayment/StripePayment';\r\nimport CheckoutUsingCashback from 'components/Templates/CheckoutPopup/CheckoutUsingCashback';\r\nimport CheckoutComplete from 'components/Templates/CheckoutPopup/CheckoutComplete';\r\n\r\nimport { getFormValue } from 'lib/helperFunctions';\r\nimport { validateForm } from 'lib/validatorsV2';\r\n\r\n\r\nimport './CheckoutPayment.scss';\r\n\r\n// const termsError = 'Please agree to all the terms to proceed.';\r\nconst transactionError = 'Transaction error. Please try again.';\r\n\r\nclass CheckoutPayment extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      markup: null,\r\n    };\r\n\r\n    this.handlePaymentCallback = this.handlePaymentCallback.bind(this);\r\n    this.handleOnCheckout = this.handleOnCheckout.bind(this);\r\n    this.handleOnCheckoutZero = this.handleOnCheckoutZero.bind(this);\r\n    this.renderCashBackEarned = this.renderCashBackEarned.bind(this);\r\n  }\r\n\r\n  handleOnCheckoutZero() {\r\n    const { setError } = this.props;\r\n    try {\r\n      window.$('#checkout_form').get(0).submit();\r\n    } catch (error) {\r\n      setError('Payment failed! Please try again!');\r\n    }\r\n  }\r\n\r\n  async handlePaymentCallback(data) {\r\n    const {\r\n      checkout,\r\n      sessionId,\r\n      id,\r\n      handleAPI,\r\n      trackingTags,\r\n      transactionData,\r\n      category,\r\n      setCharged,\r\n      getPromo,\r\n    } = this.props;\r\n\r\n    const checkoutResult = await handleAPI(() => checkout(sessionId, data, id)());\r\n    if (checkoutResult && checkoutResult.charged) {\r\n      await setCharged(checkoutResult.charged);\r\n      await getPromo();\r\n      if (trackingTags && trackingTags.receipt) {\r\n        trackingTags.receipt();\r\n      }\r\n      let user = 'User';\r\n      try {\r\n        const userData = transactionData.transaction.users[0].details;\r\n        const familyName = _.find(userData, d => d.title === 'Family Name');\r\n        const givenName = _.find(userData, d => d.title === 'Given Name');\r\n        user = `${givenName ? `${givenName.description} ` : ' '}${familyName ? familyName.description : ''}`;\r\n      } catch (error) {\r\n        console.log('Name not found in checkout.');\r\n      }\r\n\r\n      setTimeout(() => this.checkoutComplete.openCheckoutComplete(user), 300);\r\n\r\n      if (category === 'travel') {\r\n        const range = document.createRange();\r\n        this.gaReceipt.appendChild(range.createContextualFragment(`\r\n        <!-- Google Code for PPS - Travel - Receipt page Conversion Page -->\r\n        <script type=\"text/javascript\">\r\n        /* <![CDATA[ */\r\n        var google_conversion_id = 865122565;\r\n        var google_conversion_label = \"3xCyCO-P54QBEIXywpwD\";\r\n        var google_remarketing_only = false;\r\n        /* ]]> */\r\n        </script>\r\n        <script type=\"text/javascript\" src=\"//www.googleadservices.com/pagead/conversion.js\">\r\n        </script>\r\n        <noscript>\r\n        <div style=\"display:inline;\">\r\n        <img height=\"1\" width=\"1\" style=\"border-style:none;\" alt=\"\" src=\"//www.googleadservices.com/pagead/conversion/865122565/?label=3xCyCO-P54QBEIXywpwD&amp;guid=ON&amp;script=0\"/>\r\n        </div>\r\n        </noscript>\r\n        `));\r\n      }\r\n    }\r\n  }\r\n\r\n  async handleOnCheckout() {\r\n    const {\r\n      useCashback,\r\n      promoCode,\r\n      values,\r\n      getStripe,\r\n      sessionId,\r\n      wordings,\r\n      trackingTags,\r\n      setError,\r\n      id,\r\n      setErrors,\r\n    } = this.props;\r\n\r\n    let isTnCChecked = true;\r\n    _.each(wordings, (wording, index) => {\r\n      isTnCChecked = isTnCChecked && getFormValue(values[`tnc_${index}`]);\r\n    });\r\n\r\n    const validatedTnC = validateForm(values, null, _.map(wordings, (w, index) => ({\r\n      type: 'checkbox',\r\n      slug: `tnc_${index}`,\r\n      is_required: true,\r\n    })));\r\n\r\n    if (!_.isEmpty(validatedTnC)) {\r\n      setErrors(validatedTnC);\r\n      return;\r\n    }\r\n\r\n    if (isTnCChecked) {\r\n      this.setState({\r\n        markup: null,\r\n      }, async () => {\r\n        const result = await getStripe(sessionId, promoCode, useCashback && id)();\r\n        if (result) {\r\n          this.setState({\r\n            markup: result,\r\n          }, () => {\r\n            try {\r\n              this.stripePayment.invokeClick(() => setError(transactionError), result, () => {\r\n                if (trackingTags && trackingTags.payment) {\r\n                  trackingTags.payment({\r\n                    useCashback,\r\n                    promoCode,\r\n                  });\r\n                }\r\n                if (window.goog_report_conversion) {\r\n                  window.goog_report_conversion();\r\n                }\r\n              });\r\n            } catch (error) {\r\n              // esline-disable-next-line\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  renderCashBackEarned() {\r\n    const { transactionData } = this.props;\r\n\r\n    if (\r\n      !transactionData ||\r\n      !transactionData.transaction ||\r\n      !transactionData.transaction.cashback\r\n    ) {\r\n      return null;\r\n    }\r\n\r\n    const { cashback } = transactionData.transaction;\r\n\r\n    return (\r\n      cashback ?\r\n        <div className=\"cashback-earned-container\">\r\n          <img src={LabelImg} alt=\"Label.svg\" />\r\n          <span>Earn ${cashback.toFixed(2)} Cashback</span>\r\n        </div>\r\n        :\r\n        null\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { markup } = this.state;\r\n    const { charged } = this.props;\r\n\r\n    return (\r\n      <Fragment>\r\n        {\r\n          !charged &&\r\n          <Fragment>\r\n            <Col xs={12} className=\"mt-3\" />\r\n            <Col className=\"credit-card-container\" xs={6}>\r\n              <img src={CreditCards} alt=\"CreditCard.png\" />\r\n            </Col>\r\n            <Col className=\"checkout-button-container\" xs={6}>\r\n              <Button\r\n                onClick={this.handleOnCheckout}\r\n                className=\"checkout-button\"\r\n                type=\"submit\"\r\n                variant=\"medium-flat-green\"\r\n                height={48}\r\n              >\r\n                <p>Proceed to Payment</p>\r\n              </Button>\r\n              {this.renderCashBackEarned()}\r\n            </Col>\r\n          </Fragment>\r\n        }\r\n        <StripePayment\r\n          replacementIDString={'action=\"CALLBACK_URL\" method=\"post\"'}\r\n          ref={(node) => { this.stripePayment = node; }}\r\n          markup={markup}\r\n          paymentCallback={this.handlePaymentCallback}\r\n          zeroPaymentCallback={this.checkoutUsingCashback ? this.checkoutUsingCashback.openCheckoutUsingCashback : null}\r\n        />\r\n        <CheckoutUsingCashback\r\n          ref={node => this.checkoutUsingCashback = node}\r\n          onConfirm={this.handleOnCheckoutZero}\r\n        />\r\n        <CheckoutComplete\r\n          className=\"blue-popup-backdrop\"\r\n          wrappedComponentRef={node => this.checkoutComplete = node}\r\n        />\r\n        <div ref={node => this.gaReceipt = node} />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nCheckoutPayment.defaultProps = {\r\n  wordings: [],\r\n  trackingTags: null,\r\n  charged: false,\r\n  promoCode: null,\r\n  useCashback: null,\r\n  id: null,\r\n};\r\n\r\nCheckoutPayment.propTypes = {\r\n  getStripe: PropTypes.func.isRequired,\r\n  sessionId: PropTypes.string.isRequired,\r\n  checkout: PropTypes.func.isRequired,\r\n  wordings: PropTypes.array,\r\n  trackingTags: PropTypes.object,\r\n  setError: PropTypes.func.isRequired,\r\n  charged: PropTypes.bool,\r\n  transactionData: PropTypes.object.isRequired,\r\n  values: PropTypes.object.isRequired,\r\n  useCashback: PropTypes.bool,\r\n  promoCode: PropTypes.string,\r\n  category: PropTypes.string.isRequired,\r\n  getPromo: PropTypes.func.isRequired,\r\n  id: PropTypes.number,\r\n  setErrors: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default CheckoutPayment;\r\n","/**\r\n * Checkout.js\r\n * This is the checkout view that will render the summary\r\n * of details and handle all the promo, cashback and stripe\r\n * APIs.\r\n *\r\n * There is 2 state to this view. Checkout or receipt. It will\r\n * toggle accordingly if charged/ahHocCharged.\r\n *\r\n * Upon successful payment, it will update the user data again\r\n * to check if any cashback is used.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { Row, Col } from 'reactstrap';\r\n\r\nimport Button from 'components/FormsV3/Button/Button';\r\n\r\nimport PiggyFillForm from 'components/Templates/PiggySignUp/PiggyFillFormNew';\r\nimport HeaderDescWithTypeDate from 'components/Templates/InsurerFormHeader/HeaderDescWithTypeDateNew';\r\n\r\nimport { getFormValue } from 'lib/helperFunctions';\r\nimport {\r\n  getAnonymousSession,\r\n  getPromoCode,\r\n  getReceipt,\r\n  getTransactionStripeSession,\r\n  postCheckout,\r\n} from '../../../actions/insuranceActions';\r\n\r\nimport CheckoutDetailsTable from './CheckoutDetailsTable/CheckoutDetailsTable';\r\nimport CheckoutPriceSummary from './CheckoutPriceSummary/CheckoutPriceSummary';\r\nimport CheckoutCashback from './CheckoutCashback/CheckoutCashback';\r\nimport CheckoutTotal from './CheckoutTotal/CheckoutTotal';\r\nimport CheckoutDisclaimer from './CheckoutDisclaimer/CheckoutDisclaimer';\r\nimport CheckoutPayment from './CheckoutPayment/CheckoutPayment';\r\n\r\nimport './Checkout.scss';\r\n\r\nclass Checkout extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const {\r\n      charged,\r\n      trackingTags,\r\n    } = this.props;\r\n\r\n    this.state = {\r\n      transactionData: null,\r\n      errorMsg: null,\r\n      values: {},\r\n      errors: {},\r\n      sessionId: null,\r\n    };\r\n\r\n    if (charged && trackingTags && trackingTags.receipt) {\r\n      trackingTags.receipt();\r\n    }\r\n\r\n\r\n    this.getPromo = this.getPromo.bind(this);\r\n    this.setErrors = this.setErrors.bind(this);\r\n    this.handleOnChange = this.handleOnChange.bind(this);\r\n    this.renderHeader = this.renderHeader.bind(this);\r\n    this.renderDetailsTable = this.renderDetailsTable.bind(this);\r\n    this.renderPriceSummary = this.renderPriceSummary.bind(this);\r\n    this.renderTotal = this.renderTotal.bind(this);\r\n    this.renderCashBack = this.renderCashBack.bind(this);\r\n    this.renderDisclaimer = this.renderDisclaimer.bind(this);\r\n    this.renderBackToDetail = this.renderBackToDetail.bind(this);\r\n    this.renderSignUp = this.renderSignUp.bind(this);\r\n    this.renderPayment = this.renderPayment.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { values } = this.state;\r\n\r\n    const {\r\n      isAdHoc,\r\n      params,\r\n      verifyParams,\r\n      category,\r\n      userDetails,\r\n      getPromo,\r\n      handleAPI,\r\n      sessionId,\r\n      charged,\r\n    } = this.props;\r\n\r\n    const newSessionId = isAdHoc ? sessionId : await getAnonymousSession(params, false, verifyParams)();\r\n    const transactionData = await handleAPI(() => getPromo(newSessionId, userDetails && userDetails.token, getFormValue(values.promo_code), getFormValue(values.cashback)));\r\n\r\n    this.setState({\r\n      sessionId: newSessionId,\r\n      transactionData: charged ? { transaction: transactionData } : transactionData,\r\n    });\r\n\r\n    window.scrollTo(0, 0);\r\n\r\n    if (window.$('#intercom-container')) {\r\n      window.$('#intercom-container').hide();\r\n    }\r\n\r\n    if (this.gaCheckOut && category === 'travel') {\r\n      const range = document.createRange();\r\n      this.gaCheckOut.appendChild(range.createContextualFragment(`\r\n      <!-- Google Code for PPS2 - Travel - CheckoutPage_ProceedPayment Conversion Page\r\n      In your html page, add the snippet and call\r\n      goog_report_conversion when someone clicks on the\r\n      chosen link or button. -->\r\n      <script type=\"text/javascript\">\r\n        /* <![CDATA[ */\r\n        goog_snippet_vars = function() {\r\n          var w = window;\r\n          w.google_conversion_id = 865122565;\r\n          w.google_conversion_label = \"rJn8CLL_5oQBEIXywpwD\";\r\n          w.google_remarketing_only = false;\r\n        }\r\n        // DO NOT CHANGE THE CODE BELOW.\r\n        goog_report_conversion = function(url) {\r\n          goog_snippet_vars();\r\n          window.google_conversion_format = \"3\";\r\n          var opt = new Object();\r\n          opt.onload_callback = function() {\r\n          if (typeof(url) != 'undefined') {\r\n            window.location = url;\r\n          }\r\n        }\r\n        var conv_handler = window['google_trackConversion'];\r\n        if (typeof(conv_handler) == 'function') {\r\n          conv_handler(opt);\r\n        }\r\n      }\r\n      /* ]]> */\r\n      </script>\r\n      <script type=\"text/javascript\"\r\n        src=\"//www.googleadservices.com/pagead/conversion_async.js\">\r\n      </script>\r\n      `));\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (window.$('#intercom-container')) {\r\n      window.$('#intercom-container').show();\r\n    }\r\n\r\n    if (window.goog_report_conversion) {\r\n      delete window.goog_report_conversion;\r\n    }\r\n  }\r\n\r\n  async getPromo() {\r\n    const {\r\n      values,\r\n      sessionId,\r\n    } = this.state;\r\n\r\n    const {\r\n      getPromo,\r\n      userDetails,\r\n      handleAPI,\r\n      charged,\r\n    } = this.props;\r\n\r\n    const transactionData = await handleAPI(() => getPromo(sessionId, userDetails && userDetails.token, getFormValue(values.promo_code), getFormValue(values.cashback)));\r\n    this.setState({\r\n      transactionData: charged ? { transaction: transactionData } : transactionData,\r\n    });\r\n    return transactionData;\r\n  }\r\n\r\n  async setErrors(newErrors) {\r\n    const { errors } = this.state;\r\n    return new Promise((resolve) => {\r\n      this.setState({\r\n        errors: {\r\n          ...errors,\r\n          ...newErrors,\r\n        },\r\n      }, resolve);\r\n    });\r\n  }\r\n\r\n  async handleOnChange(type, name, value) {\r\n    const { values, errors } = this.state;\r\n    let newError = {};\r\n    if (value) {\r\n      newError = { [name]: null };\r\n    }\r\n\r\n    return new Promise((resolve) => {\r\n      this.setState({\r\n        values: {\r\n          ...values,\r\n          [name]: { type, value },\r\n        },\r\n        errors: { ...errors, ...newError },\r\n      }, resolve);\r\n    });\r\n  }\r\n\r\n  renderHeader() {\r\n    const { headerData } = this.props;\r\n    return (\r\n      <HeaderDescWithTypeDate\r\n        logo={headerData.logo}\r\n        logoName={headerData.logoName}\r\n        insurerDesc={headerData.insurerDesc}\r\n        data1={headerData.data1}\r\n        data1Value={headerData.data1Value}\r\n        data2={headerData.data2}\r\n        data2Value={headerData.data2Value}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderDetailsTable() {\r\n    const { transactionData } = this.state;\r\n    const { mainDetails, subDetails, charged } = this.props;\r\n\r\n    return (\r\n      <CheckoutDetailsTable\r\n        mainDetails={mainDetails}\r\n        subDetails={subDetails}\r\n        charged={charged}\r\n        transactionData={transactionData}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderPriceSummary(isRenderPromo = false) {\r\n    const {\r\n      transactionData,\r\n      values,\r\n    } = this.state;\r\n\r\n    const {\r\n      promoErrorString,\r\n      isAdHoc,\r\n      charged,\r\n    } = this.props;\r\n\r\n    return (\r\n      <CheckoutPriceSummary\r\n        charged={charged}\r\n        isAdHoc={isAdHoc}\r\n        isRenderPromo={isRenderPromo}\r\n        transactionData={transactionData}\r\n        getPromo={this.getPromo}\r\n        promoErrorString={promoErrorString}\r\n        promoCode={getFormValue(values.promo_code)}\r\n        handleOnChange={this.handleOnChange}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderTotal() {\r\n    const { transactionData } = this.state;\r\n\r\n    return (\r\n      <CheckoutTotal\r\n        transactionData={transactionData}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderCashBack() {\r\n    const {\r\n      transactionData,\r\n      values,\r\n      errors,\r\n    } = this.state;\r\n\r\n    const {\r\n      isLoggedIn,\r\n      userDetails,\r\n      charged,\r\n    } = this.props;\r\n\r\n    return (\r\n      <CheckoutCashback\r\n        charged={charged}\r\n        transactionData={transactionData}\r\n        values={values}\r\n        errors={errors}\r\n        isLoggedIn={isLoggedIn}\r\n        rewardPoints={userDetails && userDetails.reward_points}\r\n        handleOnChange={this.handleOnChange}\r\n        getPromo={this.getPromo}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderDisclaimer() {\r\n    const {\r\n      values,\r\n      errors,\r\n      errorMsg,\r\n    } = this.state;\r\n    const { wordings, charged } = this.props;\r\n\r\n    return (\r\n      <CheckoutDisclaimer\r\n        charged={charged}\r\n        values={values}\r\n        errors={errors}\r\n        wordings={wordings}\r\n        handleOnChange={this.handleOnChange}\r\n        errorMsg={errorMsg}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderBackToDetail() {\r\n    const { backToDetails, isAdHoc } = this.props;\r\n    if (!isAdHoc && backToDetails) {\r\n      return (\r\n        <Button\r\n          className=\"checkout-button\"\r\n          variant=\"medium-grey\"\r\n          width={300}\r\n          height={72}\r\n          onClick={backToDetails}\r\n        >\r\n          <p>Back to Edit Details</p>\r\n        </Button>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderChargedHeader() {\r\n    const { charged } = this.props;\r\n\r\n    if (charged) {\r\n      return (\r\n        <Col className=\"charged-header\" xs={12}>\r\n          <p>Receipt</p>\r\n        </Col>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderSignUp() {\r\n    const {\r\n      isLoggedIn,\r\n      category,\r\n      login,\r\n      charged,\r\n    } = this.props;\r\n\r\n    if (!charged && !isLoggedIn) {\r\n      return (\r\n        <div className=\"piggy\">\r\n          <PiggyFillForm\r\n            category={category}\r\n            onClick={() => login.popup.openPopup(login.loginContainer.setInitialIndex(1))}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderWarning() {\r\n    const { errorMsg } = this.state;\r\n\r\n    if (!errorMsg) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Col xs={12}>\r\n        <p className=\"disclaimer-warning\">{errorMsg}</p>\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  renderPayment() {\r\n    const {\r\n      transactionData,\r\n      values,\r\n      sessionId,\r\n    } = this.state;\r\n\r\n    const {\r\n      wordings,\r\n      trackingTags,\r\n      handleAPI,\r\n      category,\r\n      setCharged,\r\n      charged,\r\n      userDetails,\r\n    } = this.props;\r\n\r\n    return (\r\n      <CheckoutPayment\r\n        getStripe={getTransactionStripeSession}\r\n        sessionId={sessionId}\r\n        checkout={postCheckout}\r\n        wordings={wordings}\r\n        trackingTags={trackingTags}\r\n        setError={errorMsg => this.setState({ errorMsg })}\r\n        charged={charged}\r\n        transactionData={transactionData}\r\n        values={values}\r\n        promoCode={getFormValue(values.promo_code)}\r\n        useCashback={getFormValue(values.cashback)}\r\n        handleAPI={handleAPI}\r\n        setCharged={setCharged}\r\n        category={category}\r\n        getPromo={this.getPromo}\r\n        id={userDetails && userDetails.id}\r\n        setErrors={this.setErrors}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { transactionData } = this.state;\r\n\r\n    return (\r\n      <Row className=\"detail-main-container-new checkout-container\" noGutters>\r\n        {\r\n          transactionData &&\r\n          <Fragment>\r\n            <Col xs={12} lg={7}>\r\n              {/* <div className=\"d-block d-lg-none\">\r\n                {this.renderSignUp()}\r\n              </div> */}\r\n              <Row className=\"detail-left-container\" noGutters>\r\n                {this.renderChargedHeader()}\r\n                <Col className=\"company-product-container\" xs={12}>\r\n                  {this.renderHeader()}\r\n                </Col>\r\n                {this.renderDetailsTable()}\r\n              </Row>\r\n            </Col>\r\n            <Col lg={5}>\r\n              {this.renderSignUp()}\r\n              <Row className=\"detail-right-container summary-container\" noGutters>\r\n                <Col xs={12} className=\"summary-seperator\" />\r\n                {this.renderPriceSummary(false)}\r\n                {this.renderPriceSummary(true)}\r\n                {this.renderCashBack()}\r\n                <Col xs={12} className=\"summary-seperator\" />\r\n                {this.renderTotal()}\r\n                {this.renderDisclaimer()}\r\n                {this.renderWarning()}\r\n                {this.renderPayment()}\r\n              </Row>\r\n            </Col>\r\n          </Fragment>\r\n        }\r\n        <div ref={node => this.gaCheckOut = node} />\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nCheckout.defaultProps = {\r\n  promoErrorString: null,\r\n  wordings: [],\r\n  backToDetails: null,\r\n  isAdHoc: false,\r\n  trackingTags: null,\r\n  charged: false,\r\n  userDetails: null,\r\n};\r\n\r\nCheckout.propTypes = {\r\n  userDetails: PropTypes.object,\r\n  getPromo: PropTypes.func.isRequired,\r\n  subDetails: PropTypes.array.isRequired,\r\n  headerData: PropTypes.object.isRequired,\r\n  mainDetails: PropTypes.object.isRequired,\r\n  promoErrorString: PropTypes.string,\r\n  isLoggedIn: PropTypes.bool.isRequired,\r\n  login: PropTypes.object.isRequired,\r\n  wordings: PropTypes.array,\r\n  backToDetails: PropTypes.func,\r\n  isAdHoc: PropTypes.bool,\r\n  trackingTags: PropTypes.object,\r\n  charged: PropTypes.bool,\r\n  category: PropTypes.string.isRequired,\r\n  handleAPI: PropTypes.func.isRequired,\r\n  setCharged: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  const adHocCharged = ownProps.isAdHoc && ownProps.adHocData && ownProps.adHocData.status === 'paid' ? true : null;\r\n  const isCharged = ownProps.charged || adHocCharged;\r\n  return ({\r\n    login: state.login,\r\n    transactionData: state.insurance.transactionData,\r\n    promoErrorString: state.insurance.promoErrorString,\r\n    userDetails: state.userDetails && state.userDetails.data,\r\n    adHocCharged: ownProps.isAdHoc && ownProps.adHocData && ownProps.adHocData.status === 'paid' ? true : null,\r\n    isCharged,\r\n  });\r\n};\r\n\r\n// const mapDispatchToProps = dispatch => ({\r\n// });\r\n\r\nconst mergeProps = (propsFromState, propsFromDispatch, ownProps) => {\r\n  const getPromo = propsFromState.isCharged ?\r\n    sessionId => getReceipt(sessionId)() :\r\n    (sessionId, userToken, promocode, useReward) => getPromoCode(userToken, sessionId, promocode, useReward)();\r\n\r\n  return ({\r\n    ...ownProps,\r\n    ...propsFromState,\r\n    // ...propsFromDispatch,\r\n    getPromo,\r\n  });\r\n};\r\n\r\nexport default connect(mapStateToProps, null, mergeProps)(Checkout);\r\n","/**\r\n * TravelCheckoutContainer.js\r\n * The Checkout container for travel\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport ReactPixel from 'react-facebook-pixel';\r\n\r\nimport { setCategoryNavBar } from '../../actions/navActions';\r\nimport { getSessionParams } from '../../actions/travelActions';\r\nimport { setInsuranceFormState, FORMSTATES } from '../../actions/insuranceActions';\r\nimport Checkout from '../../components/Templates/CheckoutV1/Checkout';\r\nimport { gaTag, gaEvent, ampTag } from '../../lib/tagFunctions';\r\n\r\nimport {\r\n  compactCheckoutAttributes,\r\n  getCheckoutParamsWordingNew,\r\n  getCheckoutHeaderDataCoverageNew,\r\n  getCompactSubDetails,\r\n} from '../../lib/helperFunctions';\r\n\r\nclass TravelCheckoutContainer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const {\r\n      values,\r\n      detailValues,\r\n      selectedPlanData,\r\n      isAdHoc,\r\n      adHocData,\r\n      planType,\r\n    } = this.props;\r\n\r\n    const paramsWording = getCheckoutParamsWordingNew(\r\n      planType,\r\n      isAdHoc,\r\n      adHocData,\r\n      selectedPlanData,\r\n      () => getSessionParams(values, detailValues, selectedPlanData, planType),\r\n    );\r\n\r\n    const headerCoverage = getCheckoutHeaderDataCoverageNew('Travel Insurance', isAdHoc, adHocData, selectedPlanData, paramsWording.params);\r\n    const sessionParamsToUse = isAdHoc ? adHocData.data.session_params : paramsWording.params.sessionParams.session_params;\r\n    const tripType = isAdHoc ? adHocData.data.session_params.trip_type : values.trip_type.value;\r\n    const travelDate = this.getTravelDate(sessionParamsToUse, isAdHoc);\r\n    const travellingString = this.getTravellingString(sessionParamsToUse);\r\n    const subDetails = this.getTravellersDetails(sessionParamsToUse);\r\n    let countries = null;\r\n    let countryName = 'Country';\r\n\r\n    try {\r\n      countryName = sessionParamsToUse.countries.length > 1 ? 'Countries' : countryName;\r\n      countries = _.reduce(sessionParamsToUse.countries, (result, country, index) => {\r\n        const newStr = index === 0 ? `${country}` : `${result}, ${country}`;\r\n        return newStr;\r\n      }, '');\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    this.state = {\r\n      headerData: headerCoverage.headerData,\r\n      mainDetails: {\r\n        title: 'Insurance',\r\n        attributes: compactCheckoutAttributes([\r\n          { title: 'Trip type', description: tripType },\r\n          ...travelDate,\r\n          { title: 'Who is travelling', description: travellingString },\r\n          { title: countryName, description: countries },\r\n          { title: 'Region', description: sessionParamsToUse.destination },\r\n          // { title: 'Coverage', description: headerCoverage.coverage },\r\n        ]),\r\n      },\r\n      subDetails,\r\n      ...paramsWording,\r\n      wordings: [\r\n        ...(paramsWording.wording ? [<span>I have read and agree to abide by the <a href={paramsWording.wording} target=\"__blank\">Policy Wording.</a></span>] : []),\r\n        <Fragment>\r\n          <span>I agree to store this policy in my PolicyPal account after purchase, in accordance with the Personal Data Protection Act.</span>\r\n          <span className=\"disclaimer-cashback-text\">*Cashback <a href=\"/cashback\" target=\"_blank\">Terms & Conditions</a></span>\r\n        </Fragment>,\r\n      ],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { setFormState, doSetCategoryNavBar, history } = this.props;\r\n    setFormState(FORMSTATES.CHECKOUT.index);\r\n    gaTag({\r\n      page_title: 'Travel - Checkout',\r\n      page_path: '/travel/checkout',\r\n    });\r\n    ampTag('TravelReviewS');\r\n    document.body.style.backgroundColor = '#F9FAFF';\r\n    doSetCategoryNavBar(true);\r\n\r\n    if (history.location.pathname && history.location.pathname === `/travel${FORMSTATES.CHECKOUT.path}`) {\r\n      ReactPixel.track('InitiateCheckout');\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { doSetCategoryNavBar } = this.props;\r\n    document.body.style.backgroundColor = '#FFFFFF';\r\n    doSetCategoryNavBar(false);\r\n  }\r\n\r\n  getTravellingString(data) {\r\n    let whoTravelling = null;\r\n    if (data.plan_type === 'Family') {\r\n      whoTravelling = `Family, ${data.num_adult} adults, ${data.num_children} children`;\r\n    } else if (data.plan_type === 'Group') {\r\n      whoTravelling = `Group, ${data.num_adult} persons`;\r\n    } else if (data.plan_type === 'Individual') {\r\n      whoTravelling = 'Myself';\r\n    }\r\n\r\n    return whoTravelling;\r\n  }\r\n\r\n  getTravelDate(data, isAdHoc) {\r\n    if (data.trip_type === 'Single Trip' || (isAdHoc && data.trip_type !== 'Annual Multi-Trip')) {\r\n      return ([\r\n        { title: 'Start date', description: data.start_date },\r\n        { title: 'End date', description: data.end_date },\r\n      ]);\r\n    }\r\n\r\n    return ([\r\n      { title: 'Start date', description: data.start_date },\r\n    ]);\r\n  }\r\n\r\n  getTravellersDetails(data) {\r\n    if (data.plan_type === 'Individual') {\r\n      return ([this.mainAdultDetail(data)]);\r\n    }\r\n\r\n    if (data.plan_type === 'Group') {\r\n      return (\r\n        [\r\n          this.mainAdultDetail(data),\r\n          ...this.adultsDetail(data),\r\n        ]\r\n      );\r\n    }\r\n\r\n    return (\r\n      [\r\n        this.mainAdultDetail(data),\r\n        ...this.adultsDetail(data),\r\n        ...this.childrenDetail(data),\r\n      ]\r\n    );\r\n  }\r\n\r\n  mainAdultDetail(data) {\r\n    const name = data.plan_type === 'Group' ? 'Person' : 'Adult';\r\n    const blkNo = data.blk_no ? `${data.blk_no} ` : '';\r\n\r\n    return (getCompactSubDetails({\r\n      key: `${name} 1`,\r\n      leftDetail: {\r\n        title: 'Details',\r\n        attributes: compactCheckoutAttributes([\r\n          { title: 'Email', description: data.email || '' },\r\n          { title: 'Last name', description: data.family_name || '' },\r\n          { title: 'First name', description: data.given_name || '' },\r\n          { title: 'ID type', description: data.id_type || '' },\r\n          { title: 'ID number', description: data.nric || '' },\r\n          { title: 'Date of birth', description: data.birth_date || '' },\r\n          { title: 'Gender', description: data.gender || '' },\r\n          { title: 'Race', description: data.race || '' },\r\n          { title: 'Nationality', description: data.citizenship || '' },\r\n          { title: 'Marital Status', description: data.marital_status || '' },\r\n          { title: 'Occupation', description: data.occupation || '' },\r\n          { title: 'Mobile number', description: data.mobile_number || '' },\r\n        ]),\r\n      },\r\n      rightDetail: {\r\n        title: 'Address',\r\n        attributes: compactCheckoutAttributes([\r\n          { title: 'Address', description: `${blkNo}${data.address || ''}` },\r\n          { title: 'Unit no', description: data.unit_no || '' },\r\n          { title: 'Postcode', description: data.postal || '' },\r\n        ]),\r\n      },\r\n    }));\r\n  }\r\n\r\n  adultsDetail(data) {\r\n    const result = [];\r\n    const arrayName = data.plan_type === 'Group' ? 'group' : 'family';\r\n    const name = data.plan_type === 'Group' ? 'Person' : 'Adult';\r\n    const count = data.num_adult - 1;\r\n\r\n    for (let i = 0; i < count; ++i) {\r\n      result.push({\r\n        key: `${name} ${i + 2}`,\r\n        leftDetail: {\r\n          title: 'Details',\r\n          attributes: compactCheckoutAttributes([\r\n            { title: 'Name', description: data[arrayName][i].name || '' },\r\n            { title: 'ID type', description: data[arrayName][i].id_type || '' },\r\n            { title: 'ID number', description: data[arrayName][i].nric || '' },\r\n            { title: 'Nationality', description: data[arrayName][i].citizenship || '' },\r\n            { title: 'Date of Birth', description: data[arrayName][i].birth_date || '' },\r\n            { title: 'Gender', description: data[arrayName][i].gender || '' },\r\n            { title: 'Mobile number', description: data[arrayName][i].mobile_number || '' },\r\n            { title: 'Relationship', description: data[arrayName][i].relationship || '' },\r\n          ]),\r\n        },\r\n      });\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  childrenDetail(data) {\r\n    const result = [];\r\n    const startIndex = data.num_adult - 1;\r\n    const arrayName = data.plan_type === 'Group' ? 'group' : 'family';\r\n\r\n    for (let i = 0; i < data.num_children; ++i) {\r\n      const index = startIndex + i;\r\n      result.push({\r\n        key: `Child ${i + 1}`,\r\n        leftDetail: {\r\n          title: 'Details',\r\n          attributes: compactCheckoutAttributes([\r\n            { title: 'Name', description: data[arrayName][index].name || '' },\r\n            { title: 'ID type', description: data[arrayName][index].id_type || '' },\r\n            { title: 'ID number', description: data[arrayName][index].nric || '' },\r\n            { title: 'Nationality', description: data[arrayName][index].citizenship || '' },\r\n            { title: 'Date of Birth', description: data[arrayName][index].birth_date || '' },\r\n            { title: 'Gender', description: data[arrayName][index].gender || '' },\r\n            { title: 'Relationship', description: data[arrayName][index].relationship || '' },\r\n          ]),\r\n        },\r\n      });\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      headerData,\r\n      mainDetails,\r\n      subDetails,\r\n      params,\r\n      wordings,\r\n    } = this.state;\r\n\r\n    const {\r\n      isAdHoc,\r\n      setFormState,\r\n      history,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className=\"travel-checkout-container\">\r\n        <Checkout\r\n          {...this.props}\r\n          verifyParams={['quote_reference']}\r\n          headerData={headerData}\r\n          mainDetails={mainDetails}\r\n          subDetails={subDetails}\r\n          backToDetails={() => {\r\n            history.goBack();\r\n          }}\r\n          wordings={wordings}\r\n          params={params}\r\n          category=\"travel\"\r\n          trackingTags={{\r\n            payment: (data) => {\r\n              ReactPixel.track('AddPaymentInfo');\r\n              gaEvent('Travel - CheckoutPage_ProceedPayment', {\r\n                event_category: 'Travel',\r\n                event_label: 'Travel - CheckoutPage_ProceedPayment',\r\n              });\r\n              ampTag('TravelProceedPayA', {\r\n                cashback: data.useCashback !== null,\r\n                promo: data.promoCode !== null && data.promoCode !== '',\r\n              });\r\n            },\r\n            receipt: () => {\r\n              if (!isAdHoc) {\r\n                ReactPixel.track('Purchase', { currency: 'SGD', value: params.amountPayable });\r\n                setFormState(FORMSTATES.SUBMITTED.index);\r\n                history.push(`/travel${FORMSTATES.SUBMITTED.path}`);\r\n              }\r\n              gaTag({\r\n                page_title: 'Travel - Receipt',\r\n                page_path: '/travel/Receipt',\r\n              });\r\n              ampTag('TravelConfirmationS');\r\n            },\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTravelCheckoutContainer.defaultProps = {\r\n  charged: null,\r\n  sessionId: null,\r\n  adHocData: null,\r\n  isAdHoc: false,\r\n  isLoggedIn: false,\r\n  selectedPlanData: null,\r\n  values: null,\r\n  detailValues: null,\r\n};\r\n\r\nTravelCheckoutContainer.propTypes = {\r\n  charged: PropTypes.bool,\r\n  sessionId: PropTypes.string,\r\n  values: PropTypes.object,\r\n  detailValues: PropTypes.object,\r\n  selectedPlanData: PropTypes.object,\r\n  isLoggedIn: PropTypes.bool,\r\n  adHocData: PropTypes.object,\r\n  isAdHoc: PropTypes.bool,\r\n  setFormState: PropTypes.func.isRequired,\r\n  history: PropTypes.object.isRequired,\r\n  doSetCategoryNavBar: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  sessionId: ownProps.isAdHoc ? ownProps.sessionId : state.insurance.sessionId,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setFormState: (state) => {\r\n    dispatch(setInsuranceFormState(state));\r\n  },\r\n  doSetCategoryNavBar: (isCategory) => {\r\n    dispatch(setCategoryNavBar(isCategory));\r\n  },\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(TravelCheckoutContainer));\r\n","/**\r\n * ErrorPage.js\r\n * Generic error page for invalid urls\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n*/\r\nimport React, { Component } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\n\r\nimport FooterContainer from '../../../containers/FooterContainer';\r\nimport './ErrorPage.scss';\r\n\r\nclass ErrorPage extends Component {\r\n  render() {\r\n    return (\r\n      <Row>\r\n        <Col className=\"error-page\">\r\n          <p>Oops. This page does not exists!</p>\r\n        </Col>\r\n        <FooterContainer />\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ErrorPage;\r\n"],"sourceRoot":""}