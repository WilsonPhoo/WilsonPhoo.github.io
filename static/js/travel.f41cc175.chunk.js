(window.webpackJsonp=window.webpackJsonp||[]).push([[88,34],{1120:function(e,t,a){"use strict";a.r(t);var n=a(22),r=a(3),o=a.n(r),i=a(23),s=a(6),l=a(2),c=a(45),u=a(48),d=a(47),p=a(46),h=a(49),m=a(114),v=a(12),f=a.n(v),b=a(5),g=a.n(b),y=a(1),O=a.n(y),j=(a(227),a(56)),w=a(299),k=a(13),P=a.n(k),C=a(307),E=a(11),x=a.n(E),L=a(399),S=a(14),D=a(32),I=a(8),T=a(121),A=a(595),_=a(63),N=x()({loader:function(){return Promise.all([a.e(0),a.e(94),a.e(11),a.e(52)]).then(a.bind(null,695))},loading:function(){return null},modules:["StepProgressBarNew"]}),M=x()({loader:function(){return Promise.all([a.e(0),a.e(3),a.e(93),a.e(2),a.e(56)]).then(a.bind(null,1089))},loading:function(){return null},modules:["TravelMainContainer"]}),F=x()({loader:function(){return Promise.all([a.e(0),a.e(3),a.e(90),a.e(11),a.e(54)]).then(a.bind(null,1088))},loading:function(){return null},modules:["TravelChoosePlanContainer"]}),V=x()({loader:function(){return Promise.all([a.e(0),a.e(1),a.e(3),a.e(95),a.e(55)]).then(a.bind(null,1090))},loading:function(){return null},modules:["TravelDetailContainer"]}),U=x()({loader:function(){return Promise.all([a.e(0),a.e(3),a.e(11),a.e(53)]).then(a.bind(null,657))},loading:function(){return null},modules:["TravelCheckoutContainer"]}),W=function(e){function t(e){var a;Object(c.a)(this,t);var n=(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).props,r=n.match,o=(n.history,r&&r.params&&r.params.insurer&&r.params.product&&"tokio_marine"===r.params.insurer&&"xplora_japan"===r.params.product),i=Object(l.a)({},_.g);return o&&(i.countries={type:"multi_select",value:[{display_name:"Japan",value:"Japan"}]},i.region={type:"select",value:{display_name:"Asia",value:"Asia"}}),a.state={formIndex:0,selectedArray:[null,null,null],selectionButtonIndex:0,planType:"essential",bypassParams:Object(l.a)({},r.params),values:i,errors:{},detailValues:{},detailErrors:{},plansData:null,selectedPlanData:null,charged:!1,apiLoader:null,isInitialLoad:!0},a.renderStepProgress=a.renderStepProgress.bind(Object(m.a)(Object(m.a)(a))),a.renderTravelForms=a.renderTravelForms.bind(Object(m.a)(Object(m.a)(a))),a.setCharged=a.setCharged.bind(Object(m.a)(Object(m.a)(a))),a.setSelectedArray=a.setSelectedArray.bind(Object(m.a)(Object(m.a)(a))),a.setSelectionButtonIndex=a.setSelectionButtonIndex.bind(Object(m.a)(Object(m.a)(a))),a.setPlanType=a.setPlanType.bind(Object(m.a)(Object(m.a)(a))),a.setPlansData=a.setPlansData.bind(Object(m.a)(Object(m.a)(a))),a.setSelectedPlanData=a.setSelectedPlanData.bind(Object(m.a)(Object(m.a)(a))),a.changeUserDetails=a.changeUserDetails.bind(Object(m.a)(Object(m.a)(a))),a.handleProductPage=a.handleProductPage.bind(Object(m.a)(Object(m.a)(a))),a.onChangeValue=a.onChangeValue.bind(Object(m.a)(Object(m.a)(a))),a.onChangeDetailValue=a.onChangeDetailValue.bind(Object(m.a)(Object(m.a)(a))),a.onUpdateValues=a.onUpdateValues.bind(Object(m.a)(Object(m.a)(a))),a.validateForm=a.validateForm.bind(Object(m.a)(Object(m.a)(a))),a.validateDetailsForm=a.validateDetailsForm.bind(Object(m.a)(Object(m.a)(a))),a}return Object(h.a)(t,e),Object(p.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a=t.formIndex,n=t.isMounted,r=e.formState,o=e.match,i=e.history;if(n){var s=Object(I.n)("travel",r,a,o,i);if(s&&null!==s.formIndex)return{formIndex:s.formIndex}}return null}}]),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.bypassParams,t=this.props,a=t.history,n=t.setFormState,r=t.travelPromoGiveAway,o=t.doGetPromoGiveaways;this.changeUserDetails(),this.setState({isMounted:!0,apiLoader:this.APILoader}),e&&e.insurer&&e.product&&(n(S.b.CHOOSEPLAN.index),a.push("/travel".concat(S.b.CHOOSEPLAN.path,"/").concat(e.insurer,"/").concat(e.product))),void 0===r&&this.APILoader&&o(),f.a.scrollTo(0,0)}},{key:"componentDidUpdate",value:function(e){var t=this.state.isInitialLoad,a=this.props.userDetails;t&&g.a.isEqual(a,e.userDetails)&&this.changeUserDetails()}},{key:"onChangeValue",value:function(){var e=Object(s.a)(o.a.mark(function e(t,a,n,r){var s,c,u,d,p,h=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=this.state,c=s.values,u=s.errors,e.prev=1,d=u&&u[a],p={},!d){e.next=12;break}return e.t0=i.a,e.t1={},e.t2=a,e.next=10,Object(T.b)(a,{type:t,value:n},c,r);case 10:e.t3=e.sent,p=(0,e.t0)(e.t1,e.t2,e.t3);case 12:return e.abrupt("return",new Promise(function(e){h.setState({values:Object(l.a)({},c,Object(i.a)({},a,{type:t,value:n})),errors:Object(l.a)({},u,p)},e)}));case 15:e.prev=15,e.t4=e.catch(1);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}},e,this,[[1,15]])}));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"onChangeDetailValue",value:function(){var e=Object(s.a)(o.a.mark(function e(t,a,n,r,s){var c,u,d,p,h,m=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=this.state,u=c.detailValues,d=c.detailErrors,e.prev=1,p=d&&d[r]&&d[r][a],h={},!p){e.next=12;break}return e.t0=i.a,e.t1={},e.t2=a,e.next=10,Object(T.b)(a,{type:t,value:n},u[r],s);case 10:e.t3=e.sent,h=(0,e.t0)(e.t1,e.t2,e.t3);case 12:return e.abrupt("return",new Promise(function(e){m.setState({detailValues:Object(l.a)({},u,Object(i.a)({},r,Object(l.a)({},u[r],Object(i.a)({},a,{type:t,value:n})))),detailErrors:Object(l.a)({},d,Object(i.a)({},r,Object(l.a)({},d[r],h)))},e)}));case 15:e.prev=15,e.t4=e.catch(1);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}},e,this,[[1,15]])}));return function(t,a,n,r,o){return e.apply(this,arguments)}}()},{key:"onUpdateValues",value:function(){var e=Object(s.a)(o.a.mark(function e(t){var a=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){a.setState({values:t},e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"setSelectedPlanData",value:function(e){this.setState({selectedPlanData:e})}},{key:"setSelectedArray",value:function(e){this.setState({selectedArray:e})}},{key:"setSelectionButtonIndex",value:function(e){this.setState({selectionButtonIndex:e})}},{key:"setPlanType",value:function(e){this.setState({planType:e})}},{key:"setCharged",value:function(){var e=Object(s.a)(o.a.mark(function e(t){var a=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){return a.setState({charged:t},e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"setPlansData",value:function(e){if(e){var t=Object(l.a)({},e);try{t.insurances_all=[].concat(Object(n.a)(e.insurances),Object(n.a)(e.insurances_prex||{})),g.a.each(t,function(e){g.a.each(e,function(e){e&&e.info&&e.info.insurer_slug&&e.info.product_slug&&(e.info.insurer_product_slug="".concat(e.info.insurer_slug,"_").concat(e.info.product_slug))})})}catch(a){}this.setState({plansData:t})}else this.setState({plansData:null})}},{key:"validateForm",value:function(){var e=Object(s.a)(o.a.mark(function e(){var t,a,n,r,i,s,c,u=this,d=arguments;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:null,a=d.length>1&&void 0!==d[1]?d[1]:null,n=d.length>2&&void 0!==d[2]?d[2]:null,r=this.state,i=r.values,s=r.errors,c=Object(l.a)({},s),e.prev=5,e.next=8,Object(T.a)(i,null,a,n);case 8:c=e.sent,e.next=13;break;case 11:e.prev=11,e.t0=e.catch(5);case 13:return e.abrupt("return",new Promise(function(e){u.setState({errors:c},function(){g.a.isEmpty(c)&&(t&&t(),e(!0)),e(!1)})}));case 14:case"end":return e.stop()}},e,this,[[5,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"validateDetailsForm",value:function(){var e=Object(s.a)(o.a.mark(function e(t){var a,n,r,s,c,u,d,p=this,h=arguments;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>1&&void 0!==h[1]?h[1]:null,n=h.length>2&&void 0!==h[2]?h[2]:null,r=h.length>3&&void 0!==h[3]?h[3]:null,s=this.state,c=s.detailValues,u=s.detailErrors,d=Object(l.a)({},u[t]),e.prev=5,e.next=8,Object(T.a)(c[t],null,n,r);case 8:d=e.sent,e.next=13;break;case 11:e.prev=11,e.t0=e.catch(5);case 13:return e.abrupt("return",new Promise(function(e){p.setState({detailErrors:Object(l.a)({},u,Object(i.a)({},t,d))},function(){g.a.isEmpty(d)&&(a&&a(),e(!0)),e(!1)})}));case 14:case"end":return e.stop()}},e,this,[[5,11]])}));return function(t){return e.apply(this,arguments)}}()},{key:"changeUserDetails",value:function(){var e=this.state,t=e.detailValues,a=(e.isInitialLoad,this.props.userDetails);a&&this.setState({detailValues:Object(l.a)({},t,{adult_0:{email:{type:"email",value:a.email},given_name:{type:"text",value:a.firstName},family_name:{type:"text",value:a.surname},id_type:{type:"select",value:{display_name:a.id_type,value:a.id_type}},nric:{type:"text",value:a.nric},nationality:{type:"select",value:{display_name:a.nationality,value:a.nationality}},birth_date:{type:"date",value:P()(a.dateOfBirth).toDate()},gender:{type:"select",value:{display_name:a.gender,value:a.gender}},marital_status:{type:"select",value:{display_name:a.marital_status,value:a.marital_status}},race:{type:"select",value:{display_name:a.race,value:a.race}},occupation:{type:"select",value:{display_name:a.occupation,value:a.occupation}},mobile_number:{type:"number",value:a.contact},address:{type:"text",value:a.address},unit_no:{type:"text",value:a.unit_no},postal:{type:"text",value:a.postal_code}}}),isInitialLoad:!1})}},{key:"handleProductPage",value:function(e,t){var a=this.props.history;e&&t&&a.push("/travel".concat(S.b.CHOOSEPLAN.path,"/").concat(e,"/").concat(t))}},{key:"renderStepProgress",value:function(){var e=this.state,t=e.formIndex,a=e.charged;return O.a.createElement(N,{formState:t,inputList:["Choose Plan","Details","Checkout"],form:"travel",stateList:[S.b.CHOOSEPLAN,S.b.DETAILFORM,S.b.CHECKOUT],stateDescriptions:[{main:""},{main:"Details"},{main:"Checkout -  Please check your details"}],charged:a})}},{key:"renderTravelForms",value:function(){var e=this.state,t=e.formIndex,a=e.selectedArray,n=e.selectionButtonIndex,r=e.planType,o=e.values,i=e.errors,s=e.detailValues,l=e.detailErrors,c=e.mainFields,u=e.plansData,d=e.selectedPlanData,p=e.charged,h=e.apiLoader,m=this.props.userDetails,v=!g.a.isEmpty(m),f={values:o,errors:i};switch(t){case S.b.CHOOSEPLAN.index:return O.a.createElement(F,Object.assign({},f,{isLoggedIn:v,setSelectedArray:this.setSelectedArray,setSelectionButtonIndex:this.setSelectionButtonIndex,selectedArray:a,selectionButtonIndex:n,planType:r,setPlanType:this.setPlanType,handleProductPage:this.handleProductPage,setSelectedPlanData:this.setSelectedPlanData,onChangeValue:this.onChangeValue,onUpdateValues:this.onUpdateValues,mainFields:c,plansData:u,selectedPlanData:d,setPlansData:this.setPlansData,handleAPI:h?h.handleAPI:function(){},validateForm:this.validateForm}));case S.b.DETAILFORM.index:return O.a.createElement(V,{isLoggedIn:v,planType:r,piggyCallback:this.changeUserDetails,values:o,errors:i,onChangeValue:this.onChangeValue,detailValues:s,detailErrors:l,onChangeDetailValue:this.onChangeDetailValue,plansData:u,selectedPlanData:d,handleAPI:h?h.handleAPI:function(){},validateForm:this.validateDetailsForm});case S.b.CHECKOUT.index:case S.b.SUBMITTED.index:return O.a.createElement(U,{values:o,detailValues:s,planType:r,isLoggedIn:v,charged:p,plansData:u,selectedPlanData:d,handleAPI:h?h.handleAPI:function(){},setCharged:this.setCharged});default:return O.a.createElement(M,{isLoggedIn:v,values:o,errors:i,onChangeValue:this.onChangeValue,handleAPI:h?h.handleAPI:function(){},validateForm:this.validateForm,setPlansData:this.setPlansData})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.formIndex,n=t.apiLoader,r=this.props.constants,o=a===S.b.CHECKOUT.index?"travel-checkout-container":"";D.e;return O.a.createElement(C.a,{id:"travel"},O.a.createElement("div",{className:o},r&&n&&O.a.createElement(y.Fragment,null,this.renderStepProgress(),this.renderTravelForms()),O.a.createElement(L.a,{ref:function(t){e.refresher||t.invokeNewTimer(),e.refresher=t}}),O.a.createElement(A.a,{ref:function(t){e.APILoader=t}})))}}]),t}(y.Component);W.defaultProps={userDetails:null,travelPromoGiveAway:void 0,constants:null};t.default=Object(w.a)(Object(j.connect)(function(e){return{formState:e.insurance.formState,travelPromoGiveAway:e.insurance.promoGiveaways.travel,userDetails:e.userDetails.data,constants:e.insurance.constants,login:e.login}},function(e){return{setFormState:function(t){e(Object(S.K)(t))},doGetPromoGiveaways:function(){return e(Object(S.A)("travel"))}}})(W))},307:function(e,t,a){"use strict";var n=a(309),r=a(45),o=a(46),i=a(48),s=a(47),l=a(49),c=a(1),u=a.n(c),d=a(65),p=a(227),h=a.n(p),m=a(308),v=a.n(m),f="https://web.policypal.com",b="".concat(f).concat(v.a),g=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"getMetaTags",value:function(e,t){var a=e.title,n=e.description,r=e.image,o=e.contentType,i=e.twitter,s=e.noCrawl,l=e.published,c=e.updated,u=e.category,d=e.tags,p=a?(a+" | My Website").substring(0,60):"My Website",h=n?n.substring(0,155):"This is a really awesome website where we can render on the server. Supa cool.",m=r?"".concat(f).concat(r):b,v=[{itemprop:"name",content:p},{itemprop:"description",content:h},{itemprop:"image",content:m},{name:"description",content:h},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:site",content:"@cereallarceny"},{name:"twitter:title",content:p},{name:"twitter:description",content:h},{name:"twitter:creator",content:i||"@cereallarceny"},{name:"twitter:image:src",content:m},{property:"og:title",content:p},{property:"og:type",content:o||"website"},{property:"og:url",content:f+t},{property:"og:image",content:m},{property:"og:description",content:h},{property:"og:site_name",content:"My Website"},{property:"fb:app_id",content:"XXXXXXXXX"}];return s&&v.push({name:"robots",content:"noindex, nofollow"}),l&&v.push({name:"article:published_time",content:l}),c&&v.push({name:"article:modified_time",content:c}),u&&v.push({name:"article:section",content:u}),d&&v.push({name:"article:tag",content:d}),v}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.id,r=e.className,o=Object(n.a)(e,["children","id","className"]);return u.a.createElement("div",{id:a,className:r},u.a.createElement(h.a,{htmlAttributes:{lang:"en",itemscope:void 0,itemtype:"http://schema.org/".concat(o.schema||"WebPage")},title:o.title?o.title+" | My Website":"My Website",link:[{rel:"canonical",href:f+this.props.location.pathname}],meta:this.getMetaTags(o,this.props.location.pathname)}),t)}}]),t}(c.Component);t.a=Object(d.a)(g)},308:function(e,t,a){e.exports=a.p+"static/media/logo.f0988bd7.png"},309:function(e,t,a){"use strict";function n(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}a.d(t,"a",function(){return n})},372:function(e,t,a){"use strict";var n=a(45),r=a(46),o=a(48),i=a(47),s=a(49),l=a(114),c=a(35),u=a.n(c),d=a(5),p=a.n(d),h=a(1),m=a.n(h),v=a(115),f=(a(400),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={showModal:e.showModal},a.setHiddenAuto=a.setHiddenAuto.bind(Object(l.a)(Object(l.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.showModal||this.setHiddenAuto()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.showModal;e.showModal!==t&&(this.setState({showModal:e.showModal}),e.showModal||this.setHiddenAuto())}},{key:"componentWillUnmount",value:function(){clearInterval(this.setHiddenInterval)}},{key:"setHiddenAuto",value:function(){var e=this;clearInterval(this.setHiddenInterval),this.setHiddenInterval=setInterval(function(){e.props.showModal||p.a.includes(u.a.body.style.overflow,"auto")||(u.a.body.style.overflow="hidden auto",clearInterval(e.setHiddenInterval))},100)}},{key:"render",value:function(){var e=this.state.showModal,t=this.props,a=t.closeModal,n=t.header,r=t.body,o=t.footer,i=t.className,s=t.backdropClassName,l=t.zIndex;return m.a.createElement(v.o,{isOpen:e,size:"lg",className:"modal-popup-custom ".concat(i),backdropClassName:s,zIndex:l},n&&m.a.createElement(v.r,{tag:"h3",toggle:a},n),r&&m.a.createElement(v.p,null,r),o&&m.a.createElement(v.q,null,o))}}]),t}(h.Component));f.defaultProps={showModal:!1,header:null,body:null,footer:null,className:null,backdropClassName:null,zIndex:1050},t.a=f},375:function(e,t,a){"use strict";var n=a(45),r=a(46),o=a(48),i=a(47),s=a(49),l=a(114),c=a(1),u=a.n(c),d=a(300),p=a(311),h=(a(390),function(e){function t(e){var a;Object(n.a)(this,t);var r=(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).props.onConfirm;return a.state={text:"",jsx:null,useConfirm:!0,onConfirm:r},a.openPopupWithText=a.openPopupWithText.bind(Object(l.a)(Object(l.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"openPopupWithText",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.setState({text:e,useConfirm:t}),a&&this.setState({onConfirm:a}),setTimeout(this.popupRef.openPopup,10)}},{key:"openPopupWithJSX",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.setState({jsx:e,useConfirm:t}),a&&this.setState({onConfirm:a}),setTimeout(this.popupRef.openPopup,10)}},{key:"render",value:function(){var e=this,t=this.state,a=t.text,n=t.jsx,r=t.useConfirm,o=t.onConfirm,i=this.props,s=i.showCancelButton,l=i.hideCloseButton;return u.a.createElement("div",{className:"popup-with-text"},u.a.createElement(p.a,{hideCloseButton:l,ref:function(t){e.popupRef=t}},u.a.createElement(c.Fragment,null,u.a.createElement("div",{className:"check-out-popup"},u.a.createElement("div",{className:"upper-container upper-margin-down"},n||u.a.createElement("p",null,u.a.createElement("span",{className:"focus-text"},a))),u.a.createElement("div",{className:"button-container"},s?u.a.createElement(d.a,{className:"checkout-button",variant:"medium-flat",width:166,height:72,onClick:function(){e.popupRef.closePopup()}},u.a.createElement("p",null,"Cancel")):null,u.a.createElement(d.a,{className:"checkout-button",variant:"medium-flat-green",width:166,height:72,onClick:function(){r&&o(),e.popupRef.closePopup()}},u.a.createElement("p",null,"Confirm")))))))}}]),t}(c.Component));h.defaultProps={onConfirm:function(){},showCancelButton:!1,hideCloseButton:!1},t.a=h},390:function(e,t,a){},399:function(e,t,a){"use strict";var n=a(45),r=a(46),o=a(48),i=a(47),s=a(49),l=a(114),c=a(12),u=a.n(c),d=a(1),p=a.n(d),h=a(375),m=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).oldTime=new Date,a.timeout=null,a.invokeNewTimer=a.invokeNewTimer.bind(Object(l.a)(Object(l.a)(a))),a.setTimer=a.setTimer.bind(Object(l.a)(Object(l.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.interval=u.a.setInterval(function(){u.a.addEventListener&&(u.a.addEventListener("mousemove",e.invokeNewTimer),u.a.addEventListener("keypress",e.invokeNewTimer),clearInterval(e.interval))},100)}},{key:"componentWillUnmount",value:function(){this.timeout&&clearTimeout(this.timeout),u.a.removeEventListener("mousemove",this.invokeNewTimer),u.a.removeEventListener("keypress",this.invokeNewTimer)}},{key:"setTimer",value:function(){var e=this,t=this.props,a=t.popupTimer,n=t.refreshTimer;this.timeout=setTimeout(function(){var t=u.a.confirm("Your session will expire due inactivity. Please click \u201cOK\u201d within ".concat(n/1e3/60," mins to continue, or \u201cCancel\u201d, if you wish to leave the page.")),r=new Date-e.oldTime;t&&r<a+n?e.invokeNewTimer():u.a.location.assign("/")},a),this.oldTime=new Date}},{key:"invokeNewTimer",value:function(){this.timeout&&clearTimeout(this.timeout),this.setTimer()}},{key:"render",value:function(){var e=this;return p.a.createElement(d.Fragment,null,p.a.createElement(h.a,{hideCloseButton:!0,ref:function(t){return e.popup=t}}))}}]),t}(d.Component);m.defaultProps={popupTimer:6e5,refreshTimer:12e4},t.a=m},400:function(e,t,a){},427:function(e,t,a){},448:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),o=a(6),i=a(45),s=a(46),l=a(48),c=a(47),u=a(49),d=a(114),p=a(1),h=a.n(p),m=a(372),v=a(360),f=a(300),b=a(499),g=a(5),y=a.n(g),O=a(500),j=a(78);a(427);function w(){var e=Object(b.a)(["\n      animation: "," 5s linear infinite;\n    "]);return w=function(){return e},e}function k(){var e=Object(b.a)(["\n      0%    { transform: translateX(0); }\n      100%  { transform: translateX(calc(-84px * ",")); }\n    "]);return k=function(){return e},e}var P=function(e){function t(e){var a;Object(i.a)(this,t),a=Object(l.a)(this,Object(c.a)(t).call(this,e));var n=y.a.map(j.a.small,function(e){return e}),r=Object(O.b)(k(),n.length),o=O.a.div(w(),r);return a.state={logos:y.a.map(j.a.small,function(e){return e}),AnimatedContainer:o},a.renderLogos=a.renderLogos.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"renderLogos",value:function(e){var t=this.state.logos;return y.a.map(t,function(t,a){return h.a.createElement("img",{key:"loading-icon-".concat(e,"-").concat(a),src:t,alt:"loading-icon-".concat(a,".svg")})})}},{key:"render",value:function(){var e=this.state.AnimatedContainer;return h.a.createElement(e,{className:"logo-container"},this.renderLogos(0),this.renderLogos(1))}}]),t}(p.Component),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).state={overwriteShowWarning:!1},a.closeLoading=a.closeLoading.bind(Object(d.a)(Object(d.a)(a))),a.handleChange=a.handleChange.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleChange()}},{key:"componentDidUpdate",value:function(e){this.props.isLoading!==e.isLoading&&this.handleChange()}},{key:"handleChange",value:function(){var e=this,t=this.props.isLoading;t&&(this.timer=setTimeout(function(){return e.setState({overwriteShowWarning:!0})},3e4)),t||(clearTimeout(this.timer),this.setState({overwriteShowWarning:!1}))}},{key:"closeLoading",value:function(){var e=Object(o.a)(r.a.mark(function e(){var t,a,n,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,a=t.showLoadingError,n=t.showLoading,i=t.errorCallback,this.setState({overwriteShowWarning:!1},Object(o.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(!1);case 2:n(!1),i&&i();case 4:case"end":return e.stop()}},e)})));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.overwriteShowWarning,t=this.props,a=t.isLoading,n=t.isLoadingError,r=t.message,o=t.noLogos,i=a?"loading-screen-active":"";return h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"loading-screen-v2 ".concat(i)},a?h.a.createElement(p.Fragment,null,h.a.createElement(v.a,null),!o&&h.a.createElement("div",{className:"bottom-container"},h.a.createElement("p",null,"Searching from esteemed partners..."),h.a.createElement(P,null))):null),h.a.createElement(m.a,{showModal:e||n,closeModal:this.closeLoading,className:"loading-modal",backdropClassName:"blue-modal-backdrop",header:h.a.createElement("p",null,"An error has occured"),body:r,zIndex:1052,footer:h.a.createElement(f.a,{variant:"medium-flat-green",height:48,width:162,onClick:this.closeLoading},h.a.createElement("p",null,"Close"))}))}}]),t}(p.Component);C.defaultProps={noLogos:!1,errorCallback:null};t.default=C},595:function(e,t,a){"use strict";var n=a(3),r=a.n(n),o=a(6),i=a(45),s=a(46),l=a(48),c=a(47),u=a(49),d=a(114),p=a(1),h=a.n(p),m=a(448),v=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).state={showLoading:!1,showLoadingError:!1,errorMsg:null,errorCallback:null},a.handleAPI=a.handleAPI.bind(Object(d.a)(Object(d.a)(a))),a.showLoading=a.showLoading.bind(Object(d.a)(Object(d.a)(a))),a.showLoadingError=a.showLoadingError.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"showLoading",value:function(){var e=Object(o.a)(r.a.mark(function e(t){var a=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){a.setState({showLoading:t},e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"showLoadingError",value:function(){var e=Object(o.a)(r.a.mark(function e(t){var a=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){a.setState({showLoadingError:t},e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleAPI",value:function(){var e=Object(o.a)(r.a.mark(function e(t){var a,n,o,i,s,l=this,c=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]&&c[1],n=c.length>2&&void 0!==c[2]?c[2]:null,o=c.length>3&&void 0!==c[3]?c[3]:null,e.prev=3,clearInterval(this.showLoadigInterval),this.showLoadigInterval=setInterval(function(){return l.setState({showLoading:!0})},300),e.next=8,t();case 8:return i=e.sent,clearInterval(this.showLoadigInterval),s=!a&&!i,this.setState({showLoadingError:s,showLoading:s,errorMsg:n,errorCallback:o}),e.abrupt("return",i);case 15:e.prev=15,e.t0=e.catch(3),console.log(e.t0);case 18:return this.setState({showLoadingError:!0,showLoading:!0,errorMsg:n,errorCallback:o}),e.abrupt("return",null);case 20:case"end":return e.stop()}},e,this,[[3,15]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.showLoading,a=e.showLoadingError,n=e.errorMsg,r=e.errorCallback;return h.a.createElement(p.Fragment,null,h.a.createElement(m.default,{isLoading:t,isLoadingError:a,message:h.a.createElement("h5",null,n||"Please try again."),showLoading:this.showLoading,showLoadingError:this.showLoadingError,errorCallback:r,noLogos:!0}))}}]),t}(p.Component);v.defaultProps={},t.a=v}}]);
//# sourceMappingURL=travel.f41cc175.chunk.js.map