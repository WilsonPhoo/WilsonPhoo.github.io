(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{1111:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n.n(a),o=n(5),s=n(28),i=n(29),c=n(31),l=n(30),u=n(32),p=n(26),d=n(7),m=n.n(d),h=n(1),f=n.n(h),b=n(184),v=n(52),g=n(221),j=n(84),O=n(261),E=n(187),S=(n(816),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).state={errorString:null},n.handleSubmit=n.handleSubmit.bind(Object(p.a)(Object(p.a)(n))),n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleSubmit",value:function(e){var t=this.props.submitCallback;e.password1&&e.password2?e.password1===e.password2?e.password1.length<8?this.setState({errorString:"Password must be at least 8 characters."}):(this.setState({errorString:null}),t(e.password1)):this.setState({errorString:"Password are not the same."}):this.setState({errorString:"Please fill in both password fields."})}},{key:"render",value:function(){var e=this.state.errorString,t=this.props,n=t.handleSubmit,a=t.form,r=t.change;return f.a.createElement(j.y,{className:"reset-password"},f.a.createElement(j.f,{className:"reset-text",xs:12},f.a.createElement("p",null,"Reset Password")),f.a.createElement("form",{onSubmit:n(this.handleSubmit)},f.a.createElement(j.f,{xs:12},f.a.createElement(O.a,{form:a,change:r,name:"password1",placeholderString:"Enter your new Password",size:"medium",isPassword:!0,desc:"New Password",zIndex:99})),f.a.createElement(j.f,{xs:12},f.a.createElement(O.a,{form:a,change:r,name:"password2",placeholderString:"Confirm Password",size:"medium",isPassword:!0,desc:"Confirm Password",zIndex:98})),f.a.createElement(j.f,{xs:12},f.a.createElement("p",{className:"error-text"},e)),f.a.createElement(j.f,{className:"justify-content-center button",xs:12},f.a.createElement(E.a,{type:"submit",variant:"medium-color",width:165,height:72},f.a.createElement("p",null,"Reset Password")))))}}]),t}(h.Component));S.defaultProps={};var C=Object(g.a)({form:"reset-password"})(S),k=n(262),w=n(69),x=n(11),y=function(e){function t(e){var n;Object(s.a)(this,t);var a=(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).props.location,r=null;try{r=a.search.substring(m.a.findIndex(a.search,function(e){return"="===e})+1)}catch(o){console.log("Token parse error")}return n.state={token:r},n.submitCallback=n.submitCallback.bind(Object(p.a)(Object(p.a)(n))),n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"submitCallback",value:function(){var e=Object(o.a)(r.a.mark(function e(t){var n,a,o,s,i,c,l=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state.token,a=this.props,o=a.loading,s=a.loadingEnd,o(),e.next=5,Object(x.x)(t,n);case 5:i=e.sent,s(),c=i?"Your password has been reset successfully.":"Password reset failed. Please try again.",setTimeout(function(){return l.popup.openPopupWithText(c,i)},300);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.token,n=this.props.history;return t?f.a.createElement(h.Fragment,null,f.a.createElement(C,{submitCallback:this.submitCallback}),f.a.createElement(k.a,{ref:function(t){return e.popup=t},onConfirm:function(){return n.push("/")}})):null}}]),t}(h.Component);t.default=Object(b.a)(Object(v.b)(function(e){return{login:e.login}},function(e){return{loading:function(t,n,a){e(Object(w.d)(t,n,a))},loadingEnd:function(){e(Object(w.c)())}}})(y))},187:function(e,t,n){"use strict";var a=n(28),r=n(29),o=n(31),s=n(30),i=n(32),c=n(1),l=n.n(c),u=n(206),p=(n(210),function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={variantStyle:n.getVariantClassString()},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.variant!==e.variant&&this.setState({variantStyle:this.getVariantClassString()})}},{key:"getVariantClassString",value:function(){var e=this.props.variant;return e?"button-".concat(e):"button-medium-color"}},{key:"render",value:function(){var e=this.state.variantStyle,t=this.props,n=t.onClick,a=t.type,r=t.children,o=t.disabled,s=t.width,i=t.height,c=t.className,p=t.isLoading,d=o?"disabled":"",m=s?"".concat(s,"px"):"101%",h=i?"".concat(i,"px"):"100%";return l.a.createElement("button",{type:a,className:"".concat(c," ").concat(e," ").concat(d),onClick:function(){p||n()},tabIndex:0,onKeyUp:function(){p||n()},disabled:o,style:{width:m,minHeight:h}},p?l.a.createElement(u.a,null):r)}}]),t}(c.Component));p.defaultProps={type:"button",onClick:function(){},disabled:!1,width:"",height:"",className:"",isLoading:!1},t.a=p},190:function(e,t,n){"use strict";var a=n(28),r=n(31),o=n(30),s=n(29),i=n(32),c=n(26),l=n(1),u=n.n(l),p=(n(259),function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(r.a)(this,Object(o.a)(t).call(this,e))).state={errorString:null},n.setErrorString=n.setErrorString.bind(Object(c.a)(Object(c.a)(n))),n.clearErrorString=n.clearErrorString.bind(Object(c.a)(Object(c.a)(n))),n}return Object(i.a)(t,e),Object(s.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return t.errorString!==e.errorString?{errorString:e.errorString,refValue:e.refValue}:e.validateForm&&t.errorString&&t.refValue!==e.refValue?(e.validateForm(),{errorString:null}):null}}]),Object(s.a)(t,[{key:"setErrorString",value:function(e){this.setState({errorString:e})}},{key:"clearErrorString",value:function(){this.setState({errorString:null})}},{key:"render",value:function(){var e=this.state.errorString,t=this.props,n=t.desc,a=t.extraInfo;return u.a.createElement("div",{className:"input-wrapper-main input-wrapper-error"},null!==n?u.a.createElement("p",{className:"input-wrapper-desc"},n):null,this.props.children,null!==a?u.a.createElement("div",{className:"extra-info-container"},a):null,null!==e?u.a.createElement("p",{className:"input-wrapper-error-text"},e):null)}}]),t}(l.Component));p.defaultProps={desc:null,extraInfo:null},t.a=p},199:function(e,t,n){e.exports=n.p+"static/media/magnifyGlass.eedb8132.svg"},206:function(e,t,n){"use strict";var a=n(28),r=n(29),o=n(31),s=n(30),i=n(32),c=n(1),l=n.n(c),u=(n(209),function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.dotsColor;return l.a.createElement("div",{className:"spinner-animation"},l.a.createElement("div",{className:"dot1",style:{backgroundColor:e}}),l.a.createElement("div",{className:"dot2",style:{backgroundColor:e}}))}}]),t}(c.Component));u.defaultProps={dotsColor:"#333"},t.a=u},209:function(e,t,n){},210:function(e,t,n){},259:function(e,t,n){},260:function(e,t,n){},261:function(e,t,n){"use strict";var a=n(3),r=n.n(a),o=n(5),s=n(28),i=n(29),c=n(31),l=n(30),u=n(32),p=n(26),d=n(1),m=n.n(d),h=n(52),f=n(192),b=n(193),v=n(180),g=n(199),j=n.n(g),O=n(190),E=n(12),S=(n(260),60),C=72,k=function(e){function t(e){var n;Object(s.a)(this,t);var a=(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).props,r=a.size,o=a.height,i="big"===r?C:S;return i=o||i,n.state={height:i,isFocus:!1},n.handleFocus=n.handleFocus.bind(Object(p.a)(Object(p.a)(n))),n.handleBlur=n.handleBlur.bind(Object(p.a)(Object(p.a)(n))),n.setError=n.setError.bind(Object(p.a)(Object(p.a)(n))),n.clearError=n.clearError.bind(Object(p.a)(Object(p.a)(n))),n.renderTextArea=n.renderTextArea.bind(Object(p.a)(Object(p.a)(n))),n.handlePostCode=n.handlePostCode.bind(Object(p.a)(Object(p.a)(n))),n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"setError",value:function(e){this.formParent.setErrorString(e)}},{key:"clearError",value:function(){this.formParent.clearErrorString()}},{key:"handleFocus",value:function(){this.setState({isFocus:!0})}},{key:"handleBlur",value:function(){this.setState({isFocus:!1})}},{key:"handlePostCode",value:function(){var e=Object(o.a)(r.a.mark(function e(t){var n,a,o,s,i,c,l,u,p,d,m;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=this.props,a=n.storeValue,o=n.name,s=n.addressFields,i=n.formChange,c=n.form,!a){e.next=8;break}return l=a[o],e.next=6,Object(E.u)(l);case 6:(u=e.sent)&&(p=""===u.street?"":"".concat(u.street," "),d=""===u.block?"":"".concat(u.block," "),m="".concat(d).concat(p),s.blkNo&&(i(c,s.blkNo,u.block),m=p),s.address&&i(c,s.address,m));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"renderTextArea",value:function(e){var t=e.input,n=this.props.placeholderString;return m.a.createElement("div",{className:"text-area"},m.a.createElement("textarea",Object.assign({},t,{placeholder:n,rows:"10",cols:"40"})))}},{key:"render",value:function(){var e=this,t=this.state,n=t.height,a=t.isFocus,r=this.props,o=r.name,s=r.desc,i=r.placeholderString,c=r.zIndex,l=r.isPassword,u=r.extraInfo,p=r.errorString,d=r.isTextArea,h=r.storeValue,b=r.validateForm,v=r.isPostCode,g=r.toUpper,E=a?"focus":"",S=l?"password":"",C=p?"error":"",k=h?h[o]:null;return m.a.createElement(O.a,{desc:s,ref:function(t){return e.formParent=t},extraInfo:u,errorString:p,refValue:k,validateForm:b},m.a.createElement("div",{className:"text-input-container ".concat(E," ").concat(C),style:{height:n,zIndex:c},onFocus:function(){return e.handleFocus()},onBlur:function(){return e.handleBlur()}},m.a.createElement("div",{className:"text-input"},d?m.a.createElement(f.a,{className:"text",component:this.renderTextArea,name:o,normalize:function(e){return e&&g?e.toUpperCase():e}}):m.a.createElement(f.a,{className:"text",component:"input",type:S,placeholder:i,name:o,normalize:function(e){return e&&g?e.toUpperCase():e}}),v?m.a.createElement("button",{className:"postcode",onClick:function(t){return e.handlePostCode(t)}},m.a.createElement("img",{src:j.a,alt:"magGlass.svg"})):null)))}}]),t}(d.Component);k.defaultProps={desc:null,isPassword:!1,extraInfo:null,errorString:null,isTextArea:!1,height:null,storeValue:null,isPostCode:!1,addressFields:null,validateForm:null,toUpper:!1};t.a=Object(h.b)(function(e,t){return{storeValue:Object(b.a)(t.form)(e)}},function(e){return{formChange:function(t,n,a){e(Object(v.a)(t,n,a))}}})(k)},262:function(e,t,n){"use strict";var a=n(28),r=n(29),o=n(31),s=n(30),i=n(32),c=n(26),l=n(1),u=n.n(l),p=n(187),d=n(86),m=(n(271),function(e){function t(e){var n;Object(a.a)(this,t);var r=(n=Object(o.a)(this,Object(s.a)(t).call(this,e))).props.onConfirm;return n.state={text:"",jsx:null,useConfirm:!0,onConfirm:r},n.openPopupWithText=n.openPopupWithText.bind(Object(c.a)(Object(c.a)(n))),n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"openPopupWithText",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.setState({text:e,useConfirm:t}),n&&this.setState({onConfirm:n}),setTimeout(this.popupRef.openPopup,10)}},{key:"openPopupWithJSX",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.setState({jsx:e,useConfirm:t}),n&&this.setState({onConfirm:n}),setTimeout(this.popupRef.openPopup,10)}},{key:"render",value:function(){var e=this,t=this.state,n=t.text,a=t.jsx,r=t.useConfirm,o=t.onConfirm,s=this.props,i=s.showCancelButton,c=s.hideCloseButton;return u.a.createElement("div",{className:"popup-with-text"},u.a.createElement(d.a,{hideCloseButton:c,ref:function(t){e.popupRef=t}},u.a.createElement(l.Fragment,null,u.a.createElement("div",{className:"check-out-popup"},u.a.createElement("div",{className:"upper-container upper-margin-down"},a||u.a.createElement("p",null,u.a.createElement("span",{className:"focus-text"},n))),u.a.createElement("div",{className:"button-container"},i?u.a.createElement(p.a,{className:"checkout-button",variant:"medium-flat",width:166,height:72,onClick:function(){e.popupRef.closePopup()}},u.a.createElement("p",null,"Cancel")):null,u.a.createElement(p.a,{className:"checkout-button",variant:"medium-flat-green",width:166,height:72,onClick:function(){r&&o(),e.popupRef.closePopup()}},u.a.createElement("p",null,"Confirm")))))))}}]),t}(l.Component));m.defaultProps={onConfirm:function(){},showCancelButton:!1,hideCloseButton:!1},t.a=m},271:function(e,t,n){},816:function(e,t,n){}}]);
//# sourceMappingURL=forgetpassword.df34620e.chunk.js.map