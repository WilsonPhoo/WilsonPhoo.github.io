{"version":3,"sources":["assets/images/EditForm/Dollar.svg","assets/images/forms/Clock.svg","assets/images/ProductPage/Document.svg","assets/images/ProductPage/Exercise.svg","assets/images/ProductPage/Head.svg","assets/images/ProductPage/Medicine.svg","assets/images/ProductPage/Others.svg","assets/images/ProductPage/Plane.svg","assets/images/ProductPage/DocumentsResp.svg","assets/images/ProductPage/index.js","components/Templates/ProductDetails/ProductDetails.js","components/Templates/ListViewMultiCompareNew/ListViewItem/ListViewItemDetails/ListViewItemDetails.js","components/Templates/ListViewMultiCompareNew/ListViewItem/ListViewItem.js","components/Templates/ListViewMultiCompareNew/ListView/ListView.js","components/Templates/ListViewMultiCompareNew/ListViewTierToolTip/ListViewTierToolTip.js","components/Templates/ListViewMultiCompareNew/ListViewMultiCompare.js","components/Travel/TravelChoosePlan.js","containers/Travel/TravelChoosePlanContainer.js","assets/images/forms/arrow.svg","assets/images/forms/dateIn.svg","assets/images/forms/dateOut.svg","assets/images/forms/magnifyGlass.svg","components/Templates/RestrictionsPopup/RestrictionsPopup.js","assets/images/forms/cross.svg","assets/images/common/CheckoutComplete.svg","components/FormsV3/Checkbox/Checkbox.js","assets/images/forms/EditButton.svg","components/FormsV3/TextInput/TextInput.js","components/FormsV3/DatePicker/DatePicker.constants.js","components/FormsV3/DatePicker/MonthYearSelector/MonthYearSelector.js","components/FormsV3/DatePicker/DaysList/DaysList.js","components/FormsV3/DatePicker/Calender/Calender.js","components/FormsV3/DatePicker/DateInner/DateInner.js","components/FormsV3/DatePicker/DatePicker.js","components/FormsV3/DateRangePicker/DateRangePicker.js","components/FormsV3/ImageSelection/ImageSelection.js","components/FormsV3/AgeGroupV2/AgeGroupItem/AgeGroupItem.js","components/FormsV3/AgeGroupV2/AgeGroup.js","components/FormsV3/Persons/Persons.js","components/FormsV3/SelectionNew/Selection.js","components/FormsV3/FieldGenerator.js","components/Templates/Tooltip/Tooltip.js","assets/images/forms/triangle.svg","assets/images/common/tooltip.svg","assets/images/forms/PiggyBank.svg","components/Templates/TabView/TabViewNew.js","assets/images/forms/Label.svg","components/Templates/PiggySignUp/PiggySignUpNew.js","components/Templates/PiggySignUp/PiggyFillFormNew.js","assets/images/common/TagLabel.svg","components/Templates/DetailCollapse/DetailCollapse.js","components/Templates/CheckoutComplete/CheckoutComplete.js","components/Templates/FlowEnquiry/FlowEnquiry.js","components/Templates/VoucherTag/VoucherTag.js","components/Travel/TravelEditDetail.js","components/Templates/ChangeInitialFormData/ChangeInitialFormDataNew.js","assets/images/forms/Tooltip.svg"],"names":["module","exports","__webpack_require__","p","ProductPage","Travel Inconvenience","Plane","Medical Coverage","Medicine","Personal Protection","Head","Leisure Activities","Exercise","Others","OthersImg","Policy Documents","DocumentImg","documentsResp","DocumentsResp","ProductDetails","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","productData","showTooltips","showModal","showPrexModal","isShowBottomPrice","emailPopupData","handleOnClick","bind","assertThisInitialized","handleRestrictions","getNewData","hideModal","onMovement","showEnquiryModal","form","splitParams","hideInterval","setInterval","_","isEmpty","$","hide","clearInterval","_this2","window","addEventListener","product","insurer","gaTag","page_title","page_path","concat","scrollTo","prevProps","plansData","isEqual","setState","show","removeEventListener","bannerDOM","innerWidth","scrollY","getBoundingClientRect","y","parseForm","values","setOverridePlanTypes","handleAPI","switchView","find","insurances_all","data","info","insurer_slug","product_slug","requestData","getProductDetails","map","policy_types","type","display_name","startCase","value","_this$props3","doSetRestrictionPopup","i","length","insurer_product_slug","error","callback","restrictions","clickCallback","isRespBannerActive","_this3","_this$props4","planType","logoImage","InsurersLogo","pricePlan","product_details","coverages","premium","cashback","net_price","toFixed","discount","price","tripType","trip_type","display","react_default","a","createElement","react","reactstrap_es","className","join","xs","ref","node","src","alt","product_name","teaser","VoucherTag","Button","variant","height","onClick","bannerImg","banner_img","bannerRespImg","banner_mobile_img","isXploraJapan","features","noGutters","feature","index","key","md","icon_img","title","description","_this4","_this$state","reduce","highlights","result","highlight","id","push","target","isOpen","toggle","objectSpread","defineProperty","tooltip","TooltipImg","onMouseEnter","coverage","_this5","borderStyle","arguments","undefined","contents","content","index2","isContentAvaliable","bottomPaddingStyle","sub_contents","href","renderValue","sub","index3","_this6","isPrex","toConsumableArray","prex_coverages","policy_documents","isPolicyDocuments","lowerCase","header","image","ProductImages","ClockImg","renderInnerDetails","_this7","JSX","isTabView","tabs","desc","TabViewNew","style","marginTop","marginBottom","autoHeight","name","scrollTabs","isDisableDropdown","open","_this$state2","outerStyle","innerStyle","_this8","_this$state3","_this$props5","renderHeader","renderBanner","renderFeature","renderHighlights","renderDetails","renderDetailsResp","renderDocumentsResp","renderPriceResp","ModalPopup","closeModal","backdropClassName","body","footer","RestrictionsPopup","FlowEnquiry","hideEnquiryModal","onNext","Component","defaultProps","connect","dispatch","setRestrictionPopup","ListViewItemDetails","planData","subData","leisureActivitiesData","DetailCollapse","topHr","borderless","insurerSlug","ListViewItem","renderCompareTab","renderInsuranceInfo","renderInsuranceDetail","renderPriceBuy","renderInsuranceDetailResp","netPrice","_this$props","handleProductPage","productName","productSlug","detail","productIndex","buyCallBack","LabelImg","_this$props2","history","TagLabel","is_url","ListViewItem_ListViewItemDetails_ListViewItemDetails","renderEnquiry","withRouter","ListView","renderListSelectionButtons","renderList","renderListItem","renderPiggy","listData","setButtonSelected","selectionButtonIndex","selectedStyle","color","toMatch","isFavourite","voidIndices","keyIndex","lastItem","selectedProducts","insurances_prex","insurances","getNetPrice","policy_info","orderBy","filter","selection","each","insurerIndex","findIndex","isPromo","idx","isValid","isEndPromo","indexToMatch","Math","min","isRecommended","promoGiveAway","selectedArray","fadingList","dataInfo","promo","isSelected","selected","amount","selectedEmailPopupData","wording","wording_url","noPopup","promoJsx","promoEndJSX","renderPromoBanner","main","fadingStyle","ListViewMultiCompareNew_ListViewItem_ListViewItem","promoData","isMain","promoRespJSX","currDate","Date","startDate","start_at","endDate","end_at","image_url","cta_url","image_url_resp","piggyData","category","PiggyFillFormNew","mainText","descText","resPopup","ListViewTierToolTip","Tooltip_Tooltip","innerClassName","viewState","planTypesList","ListViewMultiCompare","currViewState","isFadeOut","overridePlanTypes","renderLeftContainer","renderBackToListButton","handleTierSelection","getPlans","setPlanType","planTypeUpper","setSelectionButtonIndex","resetPath","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","Promise","resolve","setTimeout","ampTag","stop","newPlanType","mutex","r","toLowerCase","revalidateSelection","Arrow","editForm","choosePlanListData","promoJSX","selectionButtonsArray","minHeight","size","order","lg","ListViewMultiCompareNew_ListViewTierToolTip_ListViewTierToolTip","DropDown","dropList","placeholderString","logo","DollarLogo","isDisableTyping","noExternalDesc","onChange","ChangeInitialFormDataNew","submitCallback","headerValue","valuesToListen","conditions","editDetail","react_stickynode_default","enabled","top","bottomBoundary","_this$props6","choosePlanPiggyData","fadeStyle","rightContainer","ListViewMultiCompareNew_ListView_ListView","assign","Templates_ProductDetails_ProductDetails","selectedInsurers","compare","TravelChoosePlan","mainFormFields","errors","onChangeValue","onUpdateValues","validateForm","includes","ListViewMultiCompareNew_ListViewMultiCompare","TravelEditDetail","isPopUp","onSubmit","f","slug","FieldGenerator","fieldData","extraInfo","extra_info","noInternalDesc","no_internal_desc","forceFixedOnDesktop","TravelChoosePlanContainer","match","params","nextProps","prevState","setFormState","doSetCategoryNavBar","getMainFields","constants","FORMSTATES","CHOOSEPLAN","fbTag","Product","document","backgroundColor","goBack","setPlansData","parsedParams","parseTravelForm","getTravelPlans","newPlansData","setSelectedPlanData","doTrackingTagsChoosePlan","DETAILFORM","path","doAcceptTag","Travel_TravelChoosePlan","loadingFailBackState","replace","getValuesToListen","msigPrexPopup","travelPromoGiveAway","insurance","promoGiveaways","travel","getMainFormFields","setInsuranceFormState","isCategory","setCategoryNavBar","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__","modal","setData","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","handleClick","clearRestrictionPopup","item","split","react__WEBPACK_IMPORTED_MODULE_7___default","react__WEBPACK_IMPORTED_MODULE_7__","reactstrap__WEBPACK_IMPORTED_MODULE_9__","sm","descIndex","renderData","components_FormsV3_Button_Button__WEBPACK_IMPORTED_MODULE_10__","width","Checkbox","errorString","react__WEBPACK_IMPORTED_MODULE_5___default","_FormInputWrapper_FormInputWrapper__WEBPACK_IMPORTED_MODULE_7__","smallMargin","reactstrap__WEBPACK_IMPORTED_MODULE_6__","checked","TextInput","handlePostCode","rows","toUpper","readOnly","inputType","errorStyle","titleStyle","textareaStyle","inputStyle","noInternalDescStyle","readOnlyStyle","FormInputWrapper","placeholder","e","toUpperCase","disabled","MagnifyGlass","dayTextList","monthTextMapping","deafultYearRange","MonthYearSelector","updateScrollPosition","currDisplayDate","dateRangeStart","isYear","getFullYear","getMonth","scrollInput","scrollTop","dateRangeEnd","setCalender","startYear","endYear","currYear","startMonth","endMonth","jsx","toString","start","end","_loop","isSingle","dateToUse","displayText","month","dateMonthInput","caret","outline","lib","renderYears","renderMonths","DaysList","day","renderDaysText","Calender","dateRangeEndOverwrite","isSelectingStartDate","startValue","endValue","setSelectedDate","isRange","hoverDate","setDateRangeEndOverwrite","setHoverDate","offsetDays","currFirstDay","setDate","currLastDay","currFirstDayTime","getTime","currLastDayTime","year","startIndex","getDay","endIndex","getDate","currHoverTime","startTime","endTime","startTimeToUse","endTimetoUse","fixedDateTime","nonfixedDateTime","currDay","currDayOfWeek","currTime","isSat","isSun","isStartDate","isEndDate","isWithin","isFirstDay","isLastDay","isSameDay","isDayActive","leftBlockStyle","rightBlockStyle","endBlockStyle","dayStyle","focusStyle","isBlocked","isSelectingStartDateCurr","onMouseLeave","DateInner","newEnd","maxEnd","moment","add","toDate","setNewDisplayDate","date","isBack","isResp","setMonth","upperStyle","role","onKeyPress","tabIndex","CloseIcon","renderMonthSelectorArrows","DatePicker_MonthYearSelector_MonthYearSelector","DatePicker_DaysList_DaysList","DatePicker_Calender_Calender","isOpened","isArrowUp","inputWidth","openedStyle","dateOpenStyle","respStyle","isArrowUpToUse","arrowStyle","transform","Triangle","listCont","renderDateInner","DatePicker","firstDay","lastDay","startDateString","endDateString","handleSelectClick","handleClickOutside","handleKeyPress","handleExit","renderInputs","renderInner","dateValidateAndUpdate","dateInnerDOM","ReactDOM","findDOMNode","dateInner","datePickerDOM","wrapperRef","isDateEqual","updateData","newState","clientRect","currIsResp","left","right","isOverHeight","bottom","outerHeight","isOverFlow","newYear","newMonth","isStart","_ref","_callee2","_context2","currStartValue","isChooseEndDate","_x3","apply","dateString","slashedStringDateToDate","event","contains","charCode","preventDefault","openStartDateString","openEndDateString","dateToString","_this3$state","closeStartDateString","closeEndDateString","getDateFromDateString","newDate","_this$state4","endName","newStartValue","newEndValue","_this$state5","isNewStartInvalid","isNewEndInvalid","startValueToUse","endValueToUse","currEndValue","trueMaxEnd","currMaxEnd","format","onMouseDown","_this$state6","rangeStyle","selectingDateStyle","displayValue","nameToUse","autoComplete","DateIn","renderInputField","DateOut","renderDropDownArrow","_this$state7","_this$props7","DatePicker_DateInner_DateInner","_this$props8","dropDownOpenStyle","isErrorStyle","renderPopup","_this$props9","DateRangePicker","startName","errorStringStart","errorStringEnd","isDateRange","FormsV3_DatePicker_DatePicker","ImageSelection","clickStyle","oldValue","inputData","newValue","is_required","Tooltip","itemData","isTooltip","sub_title","options","option","renderItem","renderTitle","renderOptions","AgeGroupItem","isBlur","generateNewFormData","max","floor","onBlur","AgeGroup","v","originalData","vo","count","getTotalCount","group","newData","AgeGroupV2_AgeGroupItem_AgeGroupItem","renderAgeGroupItems","Persons","setError","clearError","handleValue","message","formParent","setErrorString","clearErrorString","wrapperRefControl","isAdd","nameAdult","nameChildren","namePlanType","nameTripType","oldNumAdult","oldNumChildren","numAdult","numChildren","isSingleTrip","maxAdult","zIndexStyle","People","Selection","getOptions","doPrefill","options_constant_key","console","log","prevErrors","prevError","behavior","isRenderable","condition","FormsV3_TextInput_TextInput","isMultiple","FormsV3_ImageSelection_ImageSelection","FormsV3_AgeGroupV2_AgeGroup","slugs","err","FormsV3_DateRangePicker_DateRangePicker","min_date","max_date","offset_days","FormsV3_Persons_Persons","FormsV3_SelectionNew_Selection","tab_size","renderInput","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","react__WEBPACK_IMPORTED_MODULE_6___default","reactstrap__WEBPACK_IMPORTED_MODULE_7__","arrowClassName","placement","children","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","padding","maxTabWidthPx","isDataFadeOnly","initialIndex","isUsingMaxWidth","maxWidth","tabWidth","activeIndex","containerWidth","widthPercentage","paddingWidth","isControlVisible","goToIndex","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__","handleResize","resizeTabHeight","renderTabs","renderTabContent","renderControls","renderSlides","renderScollableTabs","renderSelectableTabs","renderDropControls","currentTabSelection","newIndex","tab","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","changeTab","carousel","setTriggerHeightUpdate","tabContainer","hideWidth","isVisibleNow","isForced","carouselIncoming","overrideNegation","isConstantHeight","carouselToUse","list","getElementsByTagName","sliderWrapper","parentNode","itemHeight","scrollHeight","activeStyle","bigTextStyle","big","isWithImg","isString","img","react__WEBPACK_IMPORTED_MODULE_9___default","react__WEBPACK_IMPORTED_MODULE_9__","bigTabStyle","tabStyle","onKeyDown","React","cloneElement","updateTabHeight","displayStyle","react_custom_scrollbars__WEBPACK_IMPORTED_MODULE_10__","droplist","_FormsV3_DropDown_DropDown__WEBPACK_IMPORTED_MODULE_14__","charged","isOverContainer","selectedMargin","bigStyle","marginLeft","_this9","_this$state8","react_responsive_carousel__WEBPACK_IMPORTED_MODULE_13__","showThumbs","showIndicators","showArrows","showStatus","selectedItem","swipeable","tabName","setTabSelection","withRef","PiggySignUpNew","subHeader","isLoggedIn","PiggyBank","mainTextToUse","descTextToUse","Templates_PiggySignUp_PiggySignUpNew","collapse","collapseOverwrite","useOverwrite","collapseToUse","CheckoutComplete","animateStyle","openCheckoutComplete","userName","isQuoteOnly","upperText","midText","buttonText","extraText","isSellLeads","CheckoutCompleteSVG","renderUpperText","renderMidText","renderButton","renderBody","email","formState","errorMsg","handleSubmit","newError","validateFormValue","forms","newErrors","form_category","input_data","sendEmailForm","checkoutComplete","disclaimer","details","disagree_text","agree_text","renderDisclaimer","renderForm","renderDisclaimerButton","renderFormButton","Templates_CheckoutComplete_CheckoutComplete","wrappedComponentRef","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","setCloseCallBack","originalValues","cloneDeep","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__","handleCloseEdit","handleRevert","closePopUp","fields","reactstrap__WEBPACK_IMPORTED_MODULE_10__","components_FormsV3_Button_Button__WEBPACK_IMPORTED_MODULE_11__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","revertFunc","isToolTip","renderDetailValues","renderEditButton","conditonValue","valuesArrayToListen","isArray","customFunc","extra","simplifyCost","constructor","Array","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","aggregateDesc","comma","onMouseMove","EditButton","components_FormsV3_Button_Button__WEBPACK_IMPORTED_MODULE_12__","displayOnly","func"],"mappings":"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","file":"static/js/TravelChoosePlanContainer.4c330abd.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Dollar.0c0d2143.svg\";","module.exports = __webpack_public_path__ + \"static/media/Clock.e73ee758.svg\";","module.exports = __webpack_public_path__ + \"static/media/Document.ba938f08.svg\";","module.exports = __webpack_public_path__ + \"static/media/Exercise.d9d59f41.svg\";","module.exports = __webpack_public_path__ + \"static/media/Head.ed48d2b2.svg\";","module.exports = __webpack_public_path__ + \"static/media/Medicine.12a9bb0e.svg\";","module.exports = __webpack_public_path__ + \"static/media/Others.fd20785d.svg\";","module.exports = __webpack_public_path__ + \"static/media/Plane.71c5c302.svg\";","module.exports = __webpack_public_path__ + \"static/media/DocumentsResp.fd5e7886.svg\";","import DocumentImg from './Document.svg';\r\nimport Exercise from './Exercise.svg';\r\nimport Head from './Head.svg';\r\nimport Medicine from './Medicine.svg';\r\nimport OthersImg from './Others.svg';\r\nimport Plane from './Plane.svg';\r\nimport DocumentsResp from './DocumentsResp.svg';\r\n\r\nexport default {\r\n  'Travel Inconvenience': Plane,\r\n  'Medical Coverage': Medicine,\r\n  'Personal Protection': Head,\r\n  'Leisure Activities': Exercise,\r\n  Others: OthersImg,\r\n  'Policy Documents': DocumentImg,\r\n  documentsResp: DocumentsResp,\r\n};\r\n","/**\r\n * PromoPopup.js\r\n * popup used to display promos on Form landings\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport $ from 'jquery';\r\nimport window from 'global/window';\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { Row, Col, Tooltip } from 'reactstrap';\r\nimport ModalPopup from 'components/Templates/ModalPopup/ModalPopup';\r\n\r\nimport TooltipImg from 'assets/images/forms/Tooltip.svg';\r\n// import LabelImg from 'assets/images/forms/Label.svg';\r\nimport ClockImg from 'assets/images/forms/Clock.svg';\r\nimport ProductImages from 'assets/images/ProductPage';\r\n\r\nimport VoucherTag from 'components/Templates/VoucherTag/VoucherTag';\r\nimport InsurersLogo from 'assets/images/InsurerLogos';\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport TabView from 'components/Templates/TabView/TabViewNew';\r\nimport RestrictionsPopup from '../RestrictionsPopup/RestrictionsPopup';\r\nimport FlowEnquiry from '../FlowEnquiry/FlowEnquiry';\r\n\r\nimport { getProductDetails } from '../../../actions/insuranceActions';\r\nimport { setRestrictionPopup } from '../../../actions/restrictionsActions';\r\n\r\nimport { gaTag } from '../../../lib/tagFunctions';\r\n\r\nimport './ProductDetails.scss';\r\n\r\nclass ProductDetails extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      productData: null,\r\n      showTooltips: {},\r\n      showModal: false,\r\n      showPrexModal: false,\r\n      isShowBottomPrice: false,\r\n      emailPopupData: null,\r\n    };\r\n\r\n    this.handleOnClick = this.handleOnClick.bind(this);\r\n    this.handleRestrictions = this.handleRestrictions.bind(this);\r\n    this.getNewData = this.getNewData.bind(this);\r\n\r\n    this.showModal = this.showModal.bind(this);\r\n    this.hideModal = this.hideModal.bind(this);\r\n\r\n    this.onMovement = this.onMovement.bind(this);\r\n\r\n    this.showEnquiryModal = this.showEnquiryModal.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { form, splitParams } = this.props;\r\n\r\n    this.getNewData();\r\n\r\n    this.hideInterval = setInterval(() => {\r\n      if (!_.isEmpty($('#intercom-container'))) {\r\n        $('#intercom-container').hide();\r\n        clearInterval(this.hideInterval);\r\n      }\r\n    }, 10);\r\n\r\n    window.addEventListener('scroll', this.onMovement);\r\n    window.addEventListener('resize', this.onMovement);\r\n\r\n    this.onMovement();\r\n\r\n    if (splitParams && splitParams.product && splitParams.insurer) {\r\n      gaTag({\r\n        page_title: 'Travel - Product Page',\r\n        page_path: `/${form}/plan/${splitParams.insurer}/${splitParams.product}`,\r\n      });\r\n    }\r\n\r\n    window.scrollTo(0, 0);\r\n  }\r\n\r\n  async componentDidUpdate(prevProps) {\r\n    const { plansData } = this.props;\r\n    if (!_.isEqual(plansData, prevProps.plansData)) {\r\n      this.getNewData();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.setState({\r\n      isShowBottomPrice: false,\r\n    });\r\n\r\n    if ($('#intercom-container')) {\r\n      $('#intercom-container').show();\r\n    }\r\n\r\n    clearInterval(this.hideInterval);\r\n\r\n    window.removeEventListener('scroll', this.onMovement);\r\n    window.removeEventListener('resize', this.onMovement);\r\n  }\r\n\r\n  onMovement() {\r\n    if (this.bannerDOM) {\r\n      const { isShowBottomPrice } = this.state;\r\n\r\n      if (window.innerWidth < 768 && !isShowBottomPrice) {\r\n        this.setState({\r\n          isShowBottomPrice: true,\r\n        });\r\n      } else if (window.innerWidth >= 768) {\r\n        const scrollY = this.bannerDOM.getBoundingClientRect().y;\r\n        if (\r\n          (scrollY < 0 && !isShowBottomPrice) ||\r\n          (scrollY >= 0 && isShowBottomPrice)\r\n        ) {\r\n          this.setState({\r\n            isShowBottomPrice: scrollY < 0,\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  async getNewData() {\r\n    const {\r\n      splitParams,\r\n      parseForm,\r\n      values,\r\n      setOverridePlanTypes,\r\n      plansData,\r\n      handleAPI,\r\n      switchView,\r\n    } = this.props;\r\n\r\n    if (splitParams && splitParams.product && splitParams.insurer) {\r\n      let productData = plansData && _.find(plansData.insurances_all, data => data && data.info && data.info.insurer_slug === splitParams.insurer && data.info.product_slug === splitParams.product);\r\n      if (!productData) {\r\n        const requestData = parseForm(values);\r\n        productData = await handleAPI(\r\n          () => getProductDetails(splitParams.insurer, splitParams.product, requestData),\r\n          false,\r\n          'Unable to get product data! Please try again.',\r\n          switchView,\r\n        );\r\n      }\r\n\r\n      if (productData) {\r\n        setOverridePlanTypes(_.map(productData.policy_types, type => ({ display_name: _.startCase(type), value: _.startCase(type) })));\r\n\r\n        this.setState({\r\n          productData,\r\n        });\r\n\r\n        return;\r\n      }\r\n\r\n      // Cannot get data, so show error\r\n      this.showModal();\r\n    }\r\n  }\r\n\r\n  showEnquiryModal(showPrexModal) {\r\n    this.setState({ showPrexModal });\r\n  }\r\n\r\n  showModal() {\r\n    const { showModal } = this.state;\r\n\r\n    if (!showModal) {\r\n      this.setState({ showModal: true });\r\n    }\r\n  }\r\n\r\n  hideModal() {\r\n    const { switchView } = this.props;\r\n    this.setState({ showModal: false });\r\n    switchView();\r\n  }\r\n\r\n  handleOnClick() {\r\n    const { productData } = this.state;\r\n    const { handleOnClick, doSetRestrictionPopup, emailPopupData } = this.props;\r\n\r\n    try {\r\n      for (let i = 0; i < emailPopupData.length; ++i) {\r\n        if (productData.info.insurer_product_slug === emailPopupData[i].insurer_product_slug) {\r\n          this.setState({\r\n            emailPopupData: emailPopupData[i],\r\n            showPrexModal: true,\r\n          });\r\n          return;\r\n        }\r\n      }\r\n      handleOnClick(productData, doSetRestrictionPopup);\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n      // Cannot proceed to next flow, show error\r\n      this.showModal();\r\n    }\r\n  }\r\n\r\n  handleRestrictions(callback) {\r\n    const { productData } = this.state;\r\n    const {\r\n      doSetRestrictionPopup,\r\n    } = this.props;\r\n\r\n    doSetRestrictionPopup({\r\n      values: productData.restrictions,\r\n      clickCallback: callback,\r\n      // doAcceptTag: () => ampTag(`${_.startCase(category)}AcceptA`),\r\n    });\r\n  }\r\n\r\n  renderHeader(isRespBannerActive) {\r\n    const { productData } = this.state;\r\n    const { planType, values } = this.props;\r\n\r\n    try {\r\n      const logoImage = InsurersLogo[productData.info.insurer_slug];\r\n      const pricePlan = productData.product_details.coverages[planType].premium;\r\n\r\n      const cashback = `$${(productData.info.cashback * pricePlan.net_price).toFixed(2)}`;\r\n      let discount = null;\r\n      let price = null;\r\n\r\n      if (pricePlan.net_price !== pricePlan.price) {\r\n        const tripType = values.trip_type.value === 'Single Trip' ? 'single' : 'annual';\r\n        discount = productData.info.discount[tripType] ? productData.info.discount[tripType].display : productData.info.discount.display;\r\n        if (!discount || discount === '') {\r\n          discount = null;\r\n        }\r\n        // eslint-disable-next-line\r\n        price = pricePlan.price;\r\n      }\r\n\r\n      return (\r\n        <Fragment>\r\n          <Col\r\n            className={[!isRespBannerActive ? 'd-flex' : 'd-none d-md-flex', 'product-header-container-wrapper'].join(' ')}\r\n            xs={12}\r\n          >\r\n            <div\r\n              className=\"product-header-container\"\r\n              ref={node => this.bannerDOM = node}\r\n            >\r\n              <div className=\"product-logo\">\r\n                <img src={logoImage} alt={`${productData.info.insurer_slug}.svg`} />\r\n              </div>\r\n              <div className=\"product-name-container\">\r\n                <h2>{productData.info.product_name}</h2>\r\n                {\r\n                  discount &&\r\n                  <div className={`discount-container ${!discount && 'hidden'}`}>\r\n                    <p>{discount} Discount</p>\r\n                  </div>\r\n                }\r\n                {\r\n                  productData.info.teaser &&\r\n                  <VoucherTag\r\n                    className={discount ? 'tag-label-margin' : ''}\r\n                    teaser={productData.info.teaser}\r\n                  />\r\n                }\r\n              </div>\r\n            </div>\r\n            <div className=\"price-container d-none d-md-flex\">\r\n              <div className=\"price-inner-container\">\r\n                <div className=\"price-value-container\">\r\n                  <h2 className=\"net-price\">${pricePlan.net_price.toFixed(2)}</h2>\r\n                  {\r\n                    price ?\r\n                      <p className=\"price\"><span>${price.toFixed(2)}</span></p>\r\n                    :\r\n                      null\r\n                  }\r\n                </div>\r\n                <div className=\"button-container\">\r\n                  <Button\r\n                    variant=\"medium-flat-green\"\r\n                    height={48}\r\n                    onClick={this.handleOnClick}\r\n                  >\r\n                    <p>Buy Policy</p>\r\n                  </Button>\r\n                  <div className=\"cashback-earned-container\">\r\n                    {/* <img src={LabelImg} alt=\"Label.svg\" /> */}\r\n                    <span>Earn {cashback} Cashback</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n        </Fragment>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderBanner() {\r\n    const { productData } = this.state;\r\n    const { splitParams } = this.props;\r\n\r\n    try {\r\n      const logoImage = InsurersLogo[productData.info.insurer_slug];\r\n      const bannerImg = productData.product_details.banner_img;\r\n      const bannerRespImg = productData.product_details.banner_mobile_img;\r\n      const isXploraJapan = splitParams && splitParams.insurer === 'tokio_marine' && splitParams.product === 'xplora_japan';\r\n\r\n      return (\r\n        <Col className=\"banner-container\" xs={12}>\r\n          <div className=\"banner\">\r\n            {bannerImg && <img className=\"d-none d-md-block\" src={bannerImg} alt=\"productBanner.svg\" />}\r\n            {bannerRespImg && <img className=\"d-block d-md-none\" src={bannerRespImg} alt=\"productBanner.svg\" />}\r\n          </div>\r\n          {\r\n            bannerRespImg &&\r\n            <div className=\"bottom-banner\">\r\n              <div className=\"banner-logo d-flex d-md-none\">\r\n                <img src={logoImage} alt={`${productData.info.insurer_slug}.svg`} />\r\n              </div>\r\n              { isXploraJapan && <h5>*This plan covers only Japan</h5> }\r\n            </div>\r\n          }\r\n        </Col>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderFeature() {\r\n    const { productData } = this.state;\r\n\r\n    try {\r\n      if (!productData.product_details.features) {\r\n        return null;\r\n      }\r\n\r\n      return (\r\n        <Col xs={12} className=\"segment\">\r\n          <Row noGutters>\r\n            {\r\n              _.map(productData.product_details.features, (feature, index) => (\r\n                <Col\r\n                  key={`feature-info-${index}`}\r\n                  xs={12}\r\n                  md={4}\r\n                  className=\"feature-container\"\r\n                >\r\n                  <div className=\"image\">\r\n                    <img src={feature.icon_img} alt={`tm-info-${index}.svg`} />\r\n                  </div>\r\n                  <div className=\"desc\">\r\n                    <h4>{feature.title}</h4>\r\n                    <p>{feature.description}</p>\r\n                  </div>\r\n                </Col>\r\n              ))\r\n            }\r\n          </Row>\r\n        </Col>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderHighlights() {\r\n    const { productData, showTooltips } = this.state;\r\n    const { planType } = this.props;\r\n\r\n    try {\r\n      return (\r\n        <Col xs={12} className=\"segment d-none d-md-flex\">\r\n          <Row className=\"w-100\" noGutters>\r\n            {\r\n              _.reduce(productData.product_details.coverages[planType].highlights, (result, highlight, index) => {\r\n                if (index < 3) {\r\n                  const id = `highlight-info-tooltip-${index}`;\r\n                  result.push((\r\n                    <Col\r\n                      key={`highlight-info-${index}`}\r\n                      xs={4}\r\n                      className=\"highlight-container\"\r\n                    >\r\n                      <Row className=\"d-flex justify-content-center h-100\" noGutters>\r\n                        <div className=\"d-flex flex-column\">\r\n                          <div className=\"highlight-title-container\">\r\n                            <div className=\"title\">\r\n                              {highlight.title}\r\n                            </div>\r\n                            <div className=\"highlight-tooltip\">\r\n                              <Tooltip\r\n                                target={id}\r\n                                isOpen={showTooltips[id]}\r\n                                toggle={() => this.setState({ showTooltips: { ...showTooltips, [id]: false } })}\r\n                                className=\"animated fade\"\r\n                              >\r\n                                {highlight.tooltip}\r\n                              </Tooltip>\r\n                              <img\r\n                                className={`${!highlight.tooltip && 'tooltip-hidden'}`}\r\n                                id={id}\r\n                                src={TooltipImg}\r\n                                alt=\"Tooltip.svg\"\r\n                                onMouseEnter={() => { if (highlight.tooltip) this.setState({ showTooltips: { ...showTooltips, [id]: true } }); }}\r\n                              />\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"d-flex justify-content-left align-items-end h-100\">\r\n                            <p className=\"value\">{highlight.value}</p>\r\n                          </div>\r\n                        </div>\r\n                      </Row>\r\n                    </Col>\r\n                  ));\r\n                }\r\n\r\n                return result;\r\n              }, [])\r\n            }\r\n          </Row>\r\n        </Col>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderValue(data) {\r\n    if (data.type === 'boolean') {\r\n      return <i className={`fa ${data.value === 'Yes' ? 'fa-check' : 'fa-times'}`} />;\r\n    }\r\n\r\n    return data.value;\r\n  }\r\n\r\n  renderInnerDetails(coverage, index, borderStyle = '') {\r\n    return (\r\n      <Row className={`content-container ${borderStyle}`} noGutters>\r\n        {\r\n          _.map(coverage.contents, (content, index2) => {\r\n            const isContentAvaliable = content && content.value;\r\n            const bottomPaddingStyle = index2 !== coverage.contents.length - 1 ? 'content-sub-container-padding' : '';\r\n\r\n            return (\r\n              <Fragment key={`coverage-detail-${index}-${index2}`}>\r\n                {\r\n                  isContentAvaliable &&\r\n                  <Col\r\n                    className={`content ${!content.sub_contents && content.type !== 'url' ? 'content-padding' : ''}`}\r\n                    xs={12}\r\n                  >\r\n                    <Row className=\"w-100\" noGutters>\r\n                      <Col xs={6}>\r\n                        <p className=\"title content-bold\">{content.title}</p>\r\n                      </Col>\r\n                      <Col xs={6}>\r\n                        {\r\n                          content.type === 'url' ?\r\n                            <a\r\n                              className=\"content-bold\"\r\n                              href={content.value}\r\n                              target=\"__blank\"\r\n                            >\r\n                              Read\r\n                            </a>\r\n                          :\r\n                            <p className=\"content-bold\">{this.renderValue(content)}</p>\r\n                        }\r\n                      </Col>\r\n                    </Row>\r\n                  </Col>\r\n                }\r\n                {\r\n                  content.sub_contents && (\r\n                    <Col xs={12}>\r\n                      <Row className={`content-sub-container w-100 ${bottomPaddingStyle}`} noGutters>\r\n                        {\r\n                          _.map(content.sub_contents, (sub, index3) => (\r\n                            <Col\r\n                              xs={12}\r\n                              key={`coverage-detail-${index}-${index2}-${index3}`}\r\n                            >\r\n                              <Row className=\"content-sub w-100\" noGutters>\r\n                                <Col xs={6}>\r\n                                  <p className=\"title\">{sub.title}</p>\r\n                                </Col>\r\n                                <Col xs={6}>\r\n                                  {\r\n                                    sub.type === 'url' ?\r\n                                      <a\r\n                                        href={sub.value}\r\n                                        target=\"__blank\"\r\n                                      >\r\n                                        read\r\n                                      </a>\r\n                                    :\r\n                                      <p>{this.renderValue(sub)}</p>\r\n                                  }\r\n                                </Col>\r\n                              </Row>\r\n                            </Col>\r\n                          ))\r\n                        }\r\n                      </Row>\r\n                    </Col>\r\n                  )\r\n                }\r\n                {\r\n                  index2 !== coverage.contents.length - 1 && <Col className=\"d-block d-md-none content-break\" xs={12} />\r\n                }\r\n              </Fragment>\r\n            );\r\n          })\r\n        }\r\n      </Row>\r\n    );\r\n  }\r\n\r\n  renderDetails(isPrex = false) {\r\n    const { productData } = this.state;\r\n    const { planType } = this.props;\r\n\r\n    try {\r\n      const coverages = [...(isPrex ? productData.product_details.coverages[planType].prex_coverages : productData.product_details.coverages[planType].coverages)];\r\n      if (_.isEmpty(coverages)) {\r\n        return null;\r\n      }\r\n\r\n      if (!isPrex && productData.product_details.policy_documents) {\r\n        coverages.push(productData.product_details.policy_documents);\r\n      }\r\n\r\n      return (\r\n        <Col xs={12} className=\"d-none d-md-block segment coverage-container\">\r\n          { isPrex && <p className=\"prex-text\">Sub-limit claims relating to your pre-existing medical conditions</p> }\r\n          {\r\n            _.map(coverages, (coverage, index) => {\r\n              const isPolicyDocuments = _.lowerCase(coverage.header) === 'policy documents';\r\n              // eslint-disable-next-line\r\n              const borderStyle = index === coverages.length - 1 ? isPolicyDocuments ? '' : 'no-bottom-padding' : 'content-border';\r\n              const image = ProductImages[coverage.header] || ClockImg;\r\n\r\n              return (\r\n                <Row\r\n                  key={`coverage-detail-${index}`}\r\n                  className=\"coverage-inner-container\"\r\n                  noGutters\r\n                >\r\n                  <Col className=\"coverage-header\" xs={4}>\r\n                    <img src={image} alt=\"clockImg.svg\" />\r\n                    <h5 className=\"content-bold\">{coverage.header}</h5>\r\n                  </Col>\r\n                  <Col xs={8}>\r\n                    {this.renderInnerDetails(coverage, index, borderStyle)}\r\n                  </Col>\r\n                </Row>\r\n              );\r\n            })\r\n          }\r\n        </Col>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderDetailsResp(isPrex) {\r\n    const { productData } = this.state;\r\n    const { planType } = this.props;\r\n\r\n    try {\r\n      const coverages = [...(isPrex ? productData.product_details.coverages[planType].prex_coverages : productData.product_details.coverages[planType].coverages)];\r\n      if (_.isEmpty(coverages)) {\r\n        return null;\r\n      }\r\n\r\n      const JSX = _.map(coverages, (coverage, index) => {\r\n        const image = ProductImages[coverage.header] || ClockImg;\r\n\r\n        return (\r\n          <Fragment key={`coverage-resp-${index}`}>\r\n            <Col\r\n              className=\"coverage-resp-container\"\r\n              xs={12}\r\n            >\r\n              <Row noGutters>\r\n                <Col xs={12}>\r\n                  { isPrex && <p className=\"prex-text\">Sub-limit claims relating to your pre-existing medical conditions</p> }\r\n                </Col>\r\n                <Col className=\"coverage-resp-main-title\" xs={12}>\r\n                  <div className=\"coverage-resp-img\">\r\n                    <img src={image} alt=\"coverage-resp.svg\" />\r\n                  </div>\r\n                  <h4>{coverage.header}</h4>\r\n                </Col>\r\n              </Row>\r\n              {this.renderInnerDetails(coverage, index)}\r\n            </Col>\r\n          </Fragment>\r\n        );\r\n      });\r\n\r\n      const isTabView = JSX && JSX.length > 1;\r\n      let tabs = null;\r\n      if (isTabView) {\r\n        tabs = _.reduce(coverages, (result, coverage) => {\r\n          result.push({ desc: coverage.header });\r\n          return result;\r\n        }, []);\r\n      }\r\n\r\n      return (\r\n        <Col className=\"d-flex d-md-none mb-4 flex-column\" xs={12}>\r\n          {\r\n            isTabView ?\r\n              <TabView\r\n                style={{ marginTop: 44, marginBottom: 34 }}\r\n                tabs={tabs}\r\n                autoHeight\r\n                name=\"overview-tab\"\r\n                scrollTabs\r\n                isDisableDropdown\r\n              >\r\n                {JSX}\r\n              </TabView>\r\n            : JSX\r\n          }\r\n        </Col>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderDocumentsResp() {\r\n    const { productData } = this.state;\r\n\r\n    try {\r\n      return _.map(productData.product_details.policy_documents.contents, (content, index) => (\r\n        <Col\r\n          className=\"d-block d-md-none\"\r\n          xs={12}\r\n          key={`document-${index}`}\r\n        >\r\n          <button\r\n            className=\"document-container\"\r\n            onClick={() => {\r\n              window.open(content.value);\r\n            }}\r\n          >\r\n            <div className=\"document\">\r\n              <img src={ProductImages.documentsResp} alt=\"Bell.svg\" />\r\n              <p>{content.title}</p>\r\n            </div>\r\n          </button>\r\n        </Col>\r\n      ));\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderPriceResp() {\r\n    const { productData, isShowBottomPrice } = this.state;\r\n    const { planType } = this.props;\r\n\r\n    try {\r\n      const pricePlan = productData.product_details.coverages[planType].premium;\r\n\r\n      let price = null;\r\n\r\n      if (pricePlan.net_price !== pricePlan.price) {\r\n        // eslint-disable-next-line\r\n        price = pricePlan.price;\r\n      }\r\n\r\n      const outerStyle = isShowBottomPrice ? 'bottom-opened-outer' : '';\r\n      const innerStyle = isShowBottomPrice ? 'bottom-opened-inner' : '';\r\n\r\n      // d-md-none\r\n      return (\r\n        <Fragment>\r\n          <div\r\n            className={`d-flex ${outerStyle} product-price-resp-outer-container`}\r\n          />\r\n          <div\r\n            className={`d-flex ${innerStyle} product-price-resp-container`}\r\n          >\r\n            <div className=\"price-container\">\r\n              <h5>{productData.info.product_name}</h5>\r\n              <h6>{_.startCase(planType)}</h6>\r\n              <h4>\r\n                <span>${pricePlan.net_price.toFixed(2)}</span>\r\n                {\r\n                  price && <span className=\"price\">${price.toFixed(2)}</span>\r\n                }\r\n              </h4>\r\n            </div>\r\n            <div>\r\n              <Button\r\n                variant=\"medium-flat-green\"\r\n                height={48}\r\n                onClick={this.handleOnClick}\r\n              >\r\n                <p>Buy Policy</p>\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Fragment>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      productData,\r\n      showModal,\r\n      showPrexModal,\r\n      emailPopupData,\r\n    } = this.state;\r\n    const { handleOnClick, handleAPI } = this.props;\r\n\r\n    if (!productData) {\r\n      return null;\r\n    }\r\n\r\n    let isRespBannerActive = false;\r\n    try {\r\n      isRespBannerActive = productData.product_details.banner_mobile_img;\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return (\r\n      <Row className=\"product-detail-container\" noGutters>\r\n        {this.renderHeader(isRespBannerActive)}\r\n        {this.renderBanner()}\r\n        {this.renderFeature()}\r\n        {this.renderHighlights()}\r\n        {this.renderDetails(true)}\r\n        {this.renderDetailsResp(true)}\r\n        {this.renderDetails(false)}\r\n        {this.renderDetailsResp(false)}\r\n        {this.renderDocumentsResp()}\r\n        {this.renderPriceResp()}\r\n        <ModalPopup\r\n          showModal={showModal}\r\n          closeModal={this.hideModal}\r\n          className=\"product-detail-error\"\r\n          backdropClassName=\"blue-modal-backdrop\"\r\n          header={<p />}\r\n          body={<p>An error has occured! Inputs might be invalid for this plan. Please try again.</p>}\r\n          footer={\r\n            <Button\r\n              variant=\"medium-flat-green\"\r\n              height={48}\r\n              onClick={this.hideModal}\r\n            >\r\n              <p>Ok</p>\r\n            </Button>\r\n          }\r\n        />\r\n        <RestrictionsPopup />\r\n        <FlowEnquiry\r\n          showModal={showPrexModal}\r\n          hideEnquiryModal={() => this.showEnquiryModal(false)}\r\n          onNext={() => handleOnClick(productData)}\r\n          handleAPI={handleAPI}\r\n          data={emailPopupData}\r\n        />\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nProductDetails.defaultProps = {\r\n  splitParams: null,\r\n  plansData: null,\r\n  values: null,\r\n  emailPopupData: [],\r\n};\r\n\r\nProductDetails.propTypes = {\r\n  planType: PropTypes.string.isRequired,\r\n  splitParams: PropTypes.object,\r\n  setOverridePlanTypes: PropTypes.func.isRequired,\r\n  doSetRestrictionPopup: PropTypes.func.isRequired,\r\n  plansData: PropTypes.object,\r\n  handleOnClick: PropTypes.func.isRequired,\r\n  values: PropTypes.object,\r\n  switchView: PropTypes.func.isRequired,\r\n  handleAPI: PropTypes.func.isRequired,\r\n  emailPopupData: PropTypes.array,\r\n};\r\n\r\n// const mapStateToProps = (state, ownProps) => ({\r\n// });\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  doSetRestrictionPopup: (data) => {\r\n    dispatch(setRestrictionPopup(data));\r\n  },\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(ProductDetails);\r\n","/**\r\n * HeaderDescWithTypeDate.js\r\n * Product summary with type and date\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { Row, Col, Table } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport DetailCollapse from 'components/Templates/DetailCollapse/DetailCollapse';\r\n\r\nimport './ListViewItemDetails.scss';\r\n\r\nclass ListViewItemDetails extends Component {\r\n  renderValue(data) {\r\n    if (data.type === 'boolean') {\r\n      return <i className={`fa ${data.value === 'Yes' ? 'fa-check' : 'fa-times'}`} />;\r\n    }\r\n\r\n    return data.value;\r\n  }\r\n\r\n  render() {\r\n    const { planData } = this.props;\r\n\r\n    try {\r\n      if (!planData) {\r\n        return null;\r\n      }\r\n\r\n      let subData = [];\r\n      try {\r\n        const leisureActivitiesData = _.find(planData.coverages.coverages, coverage => coverage.header === 'Leisure Activities');\r\n        if (leisureActivitiesData) {\r\n          subData = leisureActivitiesData.contents[0].sub_contents;\r\n        }\r\n      } catch (error) {\r\n        // eslint-disable-next-line\r\n      }\r\n\r\n      return (\r\n        <div className=\"list-view-item-details-container\">\r\n          <DetailCollapse topHr>\r\n            <Row className=\"inner-container\" noGutters>\r\n              <Col className=\"table-container\" xs={12} md={6}>\r\n                <h6 className=\"title\">Highlights</h6>\r\n                <Table borderless>\r\n                  <tbody>\r\n                    {\r\n                      _.reduce(planData && planData.coverages && planData.coverages.highlights, (result, highlight, index) => {\r\n                        if (index >= 3) {\r\n                          result.push((\r\n                            <tr key={`${planData.insurerSlug}_highlight_${index}`}>\r\n                              <td className=\"desc\">{highlight.title}</td>\r\n                              <td className=\"value\">{this.renderValue(highlight)}</td>\r\n                            </tr>\r\n                          ));\r\n                        }\r\n\r\n                        return result;\r\n                      }, [])\r\n                    }\r\n                  </tbody>\r\n                </Table>\r\n              </Col>\r\n              <Col className=\"table-container\" xs={12} md={6}>\r\n                <h6 className=\"title\">Leisure Activities Covered</h6>\r\n                <Table borderless>\r\n                  <tbody>\r\n                    {\r\n                      _.map(subData, (data, index) => (\r\n                        <tr key={`${planData.insurerSlug}_sub_${index}`}>\r\n                          <td className=\"desc\">{data.title}</td>\r\n                          <td className=\"value\">{this.renderValue(data)}</td>\r\n                        </tr>\r\n                      ))\r\n                    }\r\n                  </tbody>\r\n                </Table>\r\n              </Col>\r\n            </Row>\r\n          </DetailCollapse>\r\n        </div>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\nListViewItemDetails.defaultProps = {\r\n  planData: null,\r\n};\r\n\r\nListViewItemDetails.propTypes = {\r\n  planData: PropTypes.object,\r\n};\r\n\r\nexport default ListViewItemDetails;\r\n","/**\r\n * HeaderDescWithTypeDate.js\r\n * Product summary with type and date\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { Row, Col, Tooltip } from 'reactstrap';\r\nimport { withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport InsurersLogo from 'assets/images/InsurerLogos';\r\nimport TooltipImg from 'assets/images/forms/Tooltip.svg';\r\nimport LabelImg from 'assets/images/forms/Label.svg';\r\nimport TagLabel from 'assets/images/common/TagLabel.svg';\r\n\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport FlowEnquiry from 'components/Templates/FlowEnquiry/FlowEnquiry';\r\n// import SingleCheckBox from 'components/FormsV3/SingleCheckBox/SingleCheckBox';\r\n\r\nimport ListViewItemDetails from './ListViewItemDetails/ListViewItemDetails';\r\n\r\nimport './ListViewItem.scss';\r\n\r\nclass ListViewItem extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      showTooltips: {},\r\n      showPrexModal: false,\r\n    };\r\n\r\n    this.renderCompareTab = this.renderCompareTab.bind(this);\r\n    this.renderInsuranceInfo = this.renderInsuranceInfo.bind(this);\r\n    this.renderInsuranceDetail = this.renderInsuranceDetail.bind(this);\r\n    this.renderPriceBuy = this.renderPriceBuy.bind(this);\r\n    this.renderInsuranceDetailResp = this.renderInsuranceDetailResp.bind(this);\r\n\r\n    this.showEnquiryModal = this.showEnquiryModal.bind(this);\r\n  }\r\n\r\n  showEnquiryModal(showPrexModal) {\r\n    this.setState({ showPrexModal });\r\n  }\r\n\r\n  renderCompareTab() {\r\n    const { planData } = this.props;\r\n    const price = planData.discount ? planData.price : '';\r\n\r\n    // const compareStyle = planData.promo ? '' : 'compare-extra';\r\n\r\n    return (\r\n      <div className=\"compare-container w-100 d-flex d-md-block flex-wrap\">\r\n        <div className=\"compare-price w-100 d-md-none\">\r\n          <p className=\"total d-none d-md-block\">Total</p>\r\n          <p className=\"net-price\">{planData.netPrice}</p>\r\n          {\r\n            price ?\r\n              <p className=\"price\"><span>{planData.discount}</span><span>{price}</span></p>\r\n            :\r\n              null\r\n          }\r\n        </div>\r\n        {/* {\r\n          planData.promo ?\r\n            <div>\r\n              <span className=\"d-block d-md-none promo-tag\">\r\n                Recommended\r\n              </span>\r\n            </div>\r\n          : null\r\n        }\r\n        <div className={`compare ${compareStyle} d-block d-md-none`}>\r\n          <SingleCheckBox\r\n            id={`checkbox-${planData.productName}`}\r\n            onChange={() => planData.handleCompareCheck(planData.insurerSlug)}\r\n            checked={!!planData.isSelected}\r\n          >\r\n            Compare\r\n          </SingleCheckBox>\r\n        </div> */}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderInsuranceInfo() {\r\n    const { planData, handleProductPage } = this.props;\r\n\r\n    try {\r\n      const image = InsurersLogo[planData.insurerSlug];\r\n\r\n      return (\r\n        <div className=\"insur-container\">\r\n          <img className=\"logo\" src={image} alt=\"InsurerLogo.png\" />\r\n          <div className=\"header-inner\">\r\n            <h2>{planData.productName}</h2>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => handleProductPage(planData.insurerSlug, planData.productSlug)}\r\n            >\r\n              <p>Read more</p>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderInsuranceDetail() {\r\n    const { showTooltips } = this.state;\r\n    const { planData } = this.props;\r\n\r\n    return (\r\n      <div className=\"detail-container d-none d-md-flex\">\r\n        {\r\n          _.reduce(planData.coverages && planData.coverages.highlights, (result, detail, index) => {\r\n            if (index < 3) {\r\n              const tooltip = `tool-tip-${planData.productIndex}-${index}`;\r\n\r\n              result.push((\r\n                <div className=\"detail-inner-wrapper\" key={tooltip}>\r\n                  <div className=\"detail-inner\">\r\n                    <div>\r\n                      <p className=\"detail-title\">{detail.title}</p>\r\n                      <p className=\"detail-value\">{detail.value}</p>\r\n                    </div>\r\n                    {\r\n                      detail.tooltip ?\r\n                        <div className=\"d-flex align-items-start\">\r\n                          <Tooltip\r\n                            target={tooltip}\r\n                            isOpen={showTooltips[tooltip]}\r\n                            toggle={() => this.setState({ showTooltips: { ...showTooltips, [tooltip]: false } })}\r\n                            className=\"animated fade\"\r\n                          >\r\n                            {detail.tooltip}\r\n                          </Tooltip>\r\n                          <img\r\n                            id={tooltip}\r\n                            src={TooltipImg}\r\n                            alt=\"Tooltip.svg\"\r\n                            onMouseEnter={() => this.setState({ showTooltips: { ...showTooltips, [tooltip]: true } })}\r\n                          />\r\n                        </div>\r\n                      : null\r\n                    }\r\n                  </div>\r\n                </div>\r\n              ));\r\n            }\r\n\r\n            return result;\r\n          }, [])\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderInsuranceDetailResp() {\r\n    const { showTooltips } = this.state;\r\n    const { planData } = this.props;\r\n\r\n    return (\r\n      <div className=\"detail-container d-flex d-md-none\">\r\n        <div className=\"detail-inner\">\r\n          <div>\r\n            {\r\n              _.reduce(planData.coverages && planData.coverages.highlights, (result, detail, index) => {\r\n                if (index < 3) {\r\n                  result.push((\r\n                    <p\r\n                      key={`detail-title-${planData.productName}-${index}`}\r\n                      className=\"detail-title\"\r\n                    >\r\n                      {detail.title}\r\n                    </p>\r\n                  ));\r\n                }\r\n\r\n                return result;\r\n              }, [])\r\n            }\r\n          </div>\r\n          <div className=\"detail-price-container\">\r\n            {\r\n              _.reduce(planData.coverages && planData.coverages.highlights, (result, detail, index) => {\r\n                if (index < 3) {\r\n                  const tooltip = `tool-tip-small-${planData.productIndex}-${index}`;\r\n\r\n                  result.push((\r\n                    <div className=\"d-flex\" key={`detail-price-${planData.productName}-${index}`}>\r\n                      {\r\n                        detail.tooltip ?\r\n                          <Fragment>\r\n                            <Tooltip\r\n                              target={tooltip}\r\n                              isOpen={showTooltips[tooltip]}\r\n                              toggle={() => this.setState({ showTooltips: { ...showTooltips, [tooltip]: false } })}\r\n                              className=\"animated fade\"\r\n                            >\r\n                              {detail.tooltip}\r\n                            </Tooltip>\r\n                            <img\r\n                              id={tooltip}\r\n                              src={TooltipImg}\r\n                              alt=\"Tooltip.svg\"\r\n                              onMouseEnter={() => this.setState({ showTooltips: { ...showTooltips, [tooltip]: true } })}\r\n                            />\r\n                          </Fragment>\r\n                        : null\r\n                      }\r\n                      <p className=\"detail-value\">{detail.value}</p>\r\n                    </div>\r\n                  ));\r\n                }\r\n\r\n                return result;\r\n              }, [])\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderPriceBuy() {\r\n    const { planData } = this.props;\r\n\r\n    const price = planData.discount ? planData.price : '';\r\n\r\n    // const compareStyle = planData.promo ? '' : 'compare-extra';\r\n\r\n\r\n    return (\r\n      <Row className=\"w-100\" noGutters>\r\n        <Col className=\"non-resp-compare-reco\" xs={12}>\r\n          {/* <div className={`compare ${compareStyle} ${planData.promo ? '' : 'compare-padding'} d-none d-md-block`}>\r\n            <SingleCheckBox\r\n              id={`checkbox-${planData.productName}`}\r\n              onChange={() => planData.handleCompareCheck(planData.insurerSlug)}\r\n              checked={!!planData.isSelected}\r\n            >\r\n              Compare\r\n            </SingleCheckBox>\r\n          </div>\r\n          {\r\n            planData.promo &&\r\n            <div className=\"h-100\">\r\n              <span className=\"d-none d-md-block promo-tag\">\r\n                Recommended\r\n              </span>\r\n            </div>\r\n          } */}\r\n        </Col>\r\n        <Col className=\"d-none d-md-flex price-non-resp\" xs={12} md={6}>\r\n          <p className=\"net-price\">{planData.netPrice}</p>\r\n          {\r\n            price ?\r\n              <p className=\"price\">\r\n                <span>{planData.discount}</span>\r\n                <span>{price}</span>\r\n              </p>\r\n            :\r\n              null\r\n          }\r\n        </Col>\r\n        <Col className=\"button-container\" xs={12} md={6}>\r\n          <Button\r\n            variant=\"medium-flat-green\"\r\n            height={40}\r\n            onClick={() => {\r\n              if (planData.emailPopupData) {\r\n                this.showEnquiryModal(true);\r\n                return;\r\n              }\r\n              planData.buyCallBack();\r\n            }}\r\n          >\r\n            <p>Buy Policy</p>\r\n          </Button>\r\n          <div className=\"cashback-earned-container\">\r\n            <img src={LabelImg} alt=\"Label.svg\" />\r\n            <p><span>{planData.cashback} Cashback</span></p>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n\r\n  renderEnquiry() {\r\n    const { showPrexModal } = this.state;\r\n    const { planData, handleAPI } = this.props;\r\n\r\n    if (!(planData && planData.emailPopupData)) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <FlowEnquiry\r\n        showModal={showPrexModal}\r\n        hideEnquiryModal={() => this.showEnquiryModal(false)}\r\n        onNext={() => planData.buyCallBack(true)}\r\n        handleAPI={handleAPI}\r\n        data={planData.emailPopupData}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { planData, history } = this.props;\r\n\r\n    if (!planData) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Row className=\"header-list-view-container\" noGutters>\r\n        <Col md={12} className=\"info-container w-100 d-none d-md-flex\">\r\n          {this.renderCompareTab()}\r\n        </Col>\r\n        <Col xs={12} md={7} className=\"info-container\">\r\n          {this.renderInsuranceInfo()}\r\n          {this.renderInsuranceDetail()}\r\n          {this.renderInsuranceDetailResp()}\r\n        </Col>\r\n        <Col xs={7} className=\"info-container d-flex d-md-none\">\r\n          {this.renderCompareTab()}\r\n        </Col>\r\n        <Col xs={5} md={5} className=\"price-container\">\r\n          {this.renderPriceBuy()}\r\n        </Col>\r\n        {\r\n          planData.teaser &&\r\n          <Col className=\"tag-label\" xs={12}>\r\n            <img src={TagLabel} alt=\"TagLabel.svg\" />\r\n            {\r\n              planData.teaser.is_url && planData.teaser.value ?\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => history.push(planData.teaser.value)}\r\n                >\r\n                  {planData.teaser.name}\r\n                </button>\r\n              :\r\n                <span>{planData.teaser.name}</span>\r\n            }\r\n          </Col>\r\n        }\r\n        <Col xs={12}>\r\n          <ListViewItemDetails\r\n            planData={planData}\r\n          />\r\n        </Col>\r\n        {this.renderEnquiry()}\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nListViewItem.defaultProps = {\r\n  planData: null,\r\n};\r\n\r\nListViewItem.propTypes = {\r\n  planData: PropTypes.object,\r\n  handleProductPage: PropTypes.func.isRequired,\r\n  history: PropTypes.object.isRequired,\r\n  handleAPI: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withRouter(ListViewItem);\r\n","/**\r\n* LandingHeader.js\r\n* Landing Header Page - container for advertisement carousel\r\n*\r\n* @version 0.0.1\r\n* @author [Nicolette Chan](nicolette@policypal.com)\r\n*/\r\nimport $ from 'jquery';\r\nimport window from 'global/window';\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport PiggyFillForm from 'components/Templates/PiggySignUp/PiggyFillFormNew';\r\nimport RestrictionsPopup from 'components/Templates/RestrictionsPopup/RestrictionsPopup';\r\n\r\nimport { setRestrictionPopup } from 'actions/restrictionsActions';\r\nimport ListViewItem from '../ListViewItem/ListViewItem';\r\n\r\n// import css\r\nimport './ListView.scss';\r\n\r\nclass ListView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.renderListSelectionButtons = this.renderListSelectionButtons.bind(this);\r\n    this.renderList = this.renderList.bind(this);\r\n    this.renderListItem = this.renderListItem.bind(this);\r\n    this.renderPiggy = this.renderPiggy.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if ($('#intercom-container')) {\r\n      $('#intercom-container').hide();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if ($('#intercom-container')) {\r\n      $('#intercom-container').show();\r\n    }\r\n  }\r\n\r\n  renderListSelectionButtons() {\r\n    const { listData, setButtonSelected, selectionButtonIndex } = this.props;\r\n\r\n    if (listData) {\r\n      return _.map(listData, (data, index) => {\r\n        const selectedStyle = selectionButtonIndex === index ? 'coverage-active-button' : '';\r\n        return (\r\n          <Button\r\n            key={`selection-button-${index}`}\r\n            className={`coverage-button ${selectedStyle}`}\r\n            color=\"primary\"\r\n            onClick={() => setButtonSelected(index)}\r\n          >\r\n            {data.type}\r\n          </Button>\r\n        );\r\n      });\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderList() {\r\n    const {\r\n      listData,\r\n      plansData,\r\n      selectionButtonIndex,\r\n      planType,\r\n    } = this.props;\r\n\r\n    try {\r\n      const toMatch = listData[selectionButtonIndex];\r\n      const isFavourite = toMatch.type === 'PolicyPal\\'s Favourite';\r\n      const isPrex = toMatch.type === 'Pre-Existing Medical Conditions';\r\n\r\n      const result = [];\r\n      const voidIndices = [];\r\n      let keyIndex = 0;\r\n      let lastItem = 0;\r\n      let selectedProducts = [...(isPrex ? plansData.insurances_prex : plansData.insurances)];\r\n\r\n      const getNetPrice = product => product &&\r\n        product.policy_info &&\r\n        product.policy_info[planType] &&\r\n        product.policy_info[planType].premium &&\r\n        product.policy_info[planType].premium.net_price;\r\n\r\n      try {\r\n        selectedProducts = _.orderBy(selectedProducts, product => getNetPrice(product) || null, ['asc']);\r\n        selectedProducts = _.filter(selectedProducts, product => getNetPrice(product));\r\n      } catch (error) {\r\n        // eslint-disable-next-line\r\n      }\r\n\r\n      if (listData) {\r\n        if (isFavourite && toMatch.selection) {\r\n          _.each(toMatch.selection, (data, index) => {\r\n            const insurerIndex = _.findIndex(selectedProducts, product => product && product.info && product.info.insurer_product_slug === data);\r\n            if (insurerIndex !== -1) {\r\n              const isPromo = index === toMatch.selection.length - 1;\r\n              result.push(this.renderListItem(selectedProducts[insurerIndex], insurerIndex, keyIndex, true, isPromo));\r\n              voidIndices.push(insurerIndex);\r\n              keyIndex += 1;\r\n            }\r\n          });\r\n        }\r\n      }\r\n\r\n      _.each(selectedProducts, (data, index) => {\r\n        const isValid = _.find(voidIndices, idx => idx === index) === undefined;\r\n        if (isValid) {\r\n          lastItem = index;\r\n        }\r\n      });\r\n\r\n      _.each(selectedProducts, (data, index) => {\r\n        const isValid = _.find(voidIndices, idx => idx === index) === undefined;\r\n        let isPromo = false;\r\n        let isEndPromo = false;\r\n\r\n        try {\r\n          const indexToMatch = Math.min(selectedProducts.length - 1, 1);\r\n          isPromo = !listData[selectionButtonIndex].selection && index === indexToMatch;\r\n          isEndPromo = index === lastItem;\r\n        } catch (error) {\r\n          // eslint-disable-next-line\r\n        }\r\n\r\n        if (isValid) {\r\n          result.push(this.renderListItem(data, index, keyIndex, false, !isEndPromo && isPromo, isEndPromo));\r\n          keyIndex += 1;\r\n        }\r\n      });\r\n\r\n      if (_.isEmpty(result)) {\r\n        return <h3 className=\"text-center mt-5\">Sorry! No results for current inputs.</h3>;\r\n      }\r\n\r\n      return result;\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return <h3 className=\"text-center mt-5\">Sorry! No results for current inputs.</h3>;\r\n  }\r\n\r\n  renderListItem(data, index, keyIndex, isRecommended = false, isPromo = false, isEndPromo = false) {\r\n    const {\r\n      values,\r\n      promoGiveAway,\r\n      planType,\r\n      // setCompareSelected,\r\n      selectedArray,\r\n      fadingList,\r\n      handleProductPage,\r\n      handleOnClick,\r\n      emailPopupData,\r\n      handleAPI,\r\n    } = this.props;\r\n\r\n    let planData = null;\r\n    try {\r\n      const premium = data.policy_info && data.policy_info[planType] && data.policy_info[planType].premium;\r\n      const dataInfo = data.info;\r\n\r\n      const promo = isRecommended ? 'recommended' : null;\r\n      const isSelected = _.find(selectedArray, selected => selected === (dataInfo && dataInfo.insurer_product_slug));\r\n\r\n      let tripType = 'default';\r\n      if (values.trip_type.value === 'Single Trip') {\r\n        tripType = 'single';\r\n      } else if (values.trip_type.value === 'Annual Multi-Trip') {\r\n        tripType = 'annual';\r\n      }\r\n\r\n      const discount = dataInfo &&\r\n      dataInfo.discount &&\r\n      dataInfo.discount[tripType] &&\r\n      dataInfo.discount[tripType].amount > 0 ? ` ${dataInfo.discount[tripType].display} OFF` : null;\r\n\r\n      let coverages = null;\r\n      try {\r\n        coverages = data.product_details && data.product_details.coverages[planType];\r\n      } catch (error) {\r\n        // eslint-disable-next-line\r\n      }\r\n\r\n      let selectedEmailPopupData = null;\r\n      for (let i = 0; i < emailPopupData.length; ++i) {\r\n        if (dataInfo.insurer_product_slug === emailPopupData[i].insurer_product_slug) {\r\n          selectedEmailPopupData = emailPopupData[i];\r\n          break;\r\n        }\r\n      }\r\n\r\n      planData = {\r\n        productIndex: index,\r\n        insurerSlug: dataInfo && dataInfo.insurer_slug,\r\n        productName: dataInfo && dataInfo.product_name,\r\n        productSlug: dataInfo && dataInfo.product_slug,\r\n        wording: dataInfo && dataInfo.wording_url,\r\n        teaser: dataInfo && dataInfo.teaser,\r\n        promo,\r\n        coverages,\r\n        netPrice: premium ? `$${premium.net_price.toFixed(2)}` : '',\r\n        price: premium && premium.price !== premium.net_price ? `$${premium.price.toFixed(2)}` : '',\r\n        cashback: premium && dataInfo ? `$${((dataInfo.cashback || 0) * premium.net_price).toFixed(2)}` : '',\r\n        discount,\r\n        // handleCompareCheck: () => setCompareSelected(dataInfo && dataInfo.insurer_product_slug),\r\n        buyCallBack: noPopup => handleOnClick(data, noPopup ? null : this.props.setRestrictionPopup),\r\n        isSelected,\r\n        emailPopupData: selectedEmailPopupData,\r\n      };\r\n    } catch (error) {\r\n      // console.log(error);\r\n    }\r\n\r\n    // console.log(planData);\r\n    let promoJsx = null;\r\n    let promoEndJSX = null;\r\n\r\n    try {\r\n      promoJsx = isPromo && promoGiveAway.sub ? this.renderPromoBanner(promoGiveAway.sub[0]) : null;\r\n      promoJsx = isPromo && !promoJsx && promoGiveAway.main ? this.renderPromoBanner(promoGiveAway.main[0], true) : promoJsx;\r\n      promoEndJSX = isEndPromo && !_.isEmpty(promoGiveAway.sub) && promoGiveAway.main ? this.renderPromoBanner(promoGiveAway.main[0], true) : null;\r\n    } catch (error) {\r\n      // eslint-error-next-line\r\n    }\r\n\r\n    const fadingStyle = fadingList && keyIndex < fadingList.length ? fadingList[keyIndex] : '';\r\n    return (\r\n      <div\r\n        className=\"list-item-wrapper\"\r\n        key={`listview-item-${keyIndex}`}\r\n      >\r\n        <div className={['list-item', fadingStyle].join(' ')}>\r\n          <ListViewItem\r\n            planData={planData}\r\n            handleProductPage={handleProductPage}\r\n            handleAPI={handleAPI}\r\n          />\r\n          {promoJsx}\r\n          {promoEndJSX}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderPromoBanner(promoData, isMain = false) {\r\n    let promoJsx = null;\r\n    let promoRespJSX = null;\r\n\r\n    try {\r\n      const currDate = new Date();\r\n      const startDate = new Date(promoData.start_at);\r\n      const endDate = new Date(promoData.end_at);\r\n      if (!(startDate <= currDate && currDate <= endDate)) {\r\n        return null;\r\n      }\r\n    } catch (error) {\r\n      // eslint-error-next-line\r\n      return null;\r\n    }\r\n\r\n    try {\r\n      promoJsx = promoData.image_url && !isMain ? (\r\n        <a className=\"sub-promo d-none d-lg-flex\" href={promoData.cta_url} target=\"__blank\">\r\n          <img\r\n            src={promoData.image_url}\r\n            alt=\"PromoSub.png\"\r\n          />\r\n        </a>\r\n      ) : null;\r\n    } catch (error) {\r\n      // eslint-error-next-line\r\n    }\r\n\r\n    try {\r\n      promoRespJSX = promoData.image_url_resp ? (\r\n        <a className=\"sub-promo d-flex d-lg-none\" href={promoData.cta_url} target=\"__blank\">\r\n          <img\r\n            src={promoData.image_url_resp}\r\n            alt=\"PromoSubResp.png\"\r\n          />\r\n        </a>\r\n      ) : null;\r\n    } catch (error) {\r\n      // eslint-error-next-line\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        {promoJsx}\r\n        {promoRespJSX}\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderPiggy() {\r\n    const { piggyData, category } = this.props;\r\n\r\n    if (!piggyData) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className=\"piggy-list-container\">\r\n        <PiggyFillForm\r\n          category={category}\r\n          mainText={piggyData.mainText}\r\n          descText={piggyData.descText}\r\n          onClick={piggyData.onClick}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <div className=\"d-none d-lg-flex top-right-container\">\r\n          <div className=\"buttons\">\r\n            {this.renderListSelectionButtons()}\r\n          </div>\r\n          {this.renderPiggy()}\r\n        </div>\r\n        <div>\r\n          <div className=\"d-flex d-lg-none\">\r\n            {this.renderPiggy()}\r\n          </div>\r\n          {this.renderList()}\r\n        </div>\r\n        <RestrictionsPopup ref={node => this.resPopup = node} />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nListView.defaultProps = {\r\n  promoGiveAway: null,\r\n  listData: null,\r\n  selectionButtonIndex: 0,\r\n  piggyData: null,\r\n  fadingList: [],\r\n  values: null,\r\n  plansData: null,\r\n  emailPopupData: null,\r\n};\r\n\r\nListView.propTypes = {\r\n  // setCompareSelected: PropTypes.func.isRequired,\r\n  planType: PropTypes.string.isRequired,\r\n  promoGiveAway: PropTypes.object,\r\n  selectedArray: PropTypes.array.isRequired,\r\n  listData: PropTypes.array,\r\n  setButtonSelected: PropTypes.func.isRequired,\r\n  selectionButtonIndex: PropTypes.number,\r\n  category: PropTypes.string.isRequired,\r\n  piggyData: PropTypes.object,\r\n  fadingList: PropTypes.array,\r\n  handleProductPage: PropTypes.func.isRequired,\r\n  values: PropTypes.object,\r\n  plansData: PropTypes.object,\r\n  handleOnClick: PropTypes.func.isRequired,\r\n  setRestrictionPopup: PropTypes.func.isRequired,\r\n  handleAPI: PropTypes.func.isRequired,\r\n  emailPopupData: PropTypes.array,\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setRestrictionPopup: (data) => {\r\n    dispatch(setRestrictionPopup(data));\r\n  },\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(ListView);\r\n","/**\r\n * TravelChoosePlan.js\r\n * Choose Plan view for travel\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\n\r\nimport Tooltip from 'components/Templates/Tooltip/Tooltip';\r\n\r\nclass ListViewTierToolTip extends Component {\r\n  render() {\r\n    return (\r\n      <Tooltip\r\n        id=\"compare_form_tier_tooltip\"\r\n        innerClassName=\"tooltip-wide-modal \"\r\n      >\r\n        <p><span className=\"desc-text\">We have made it easier for you to do an apple to apple comparison by classifying the different plans into 3 levels of cover.</span></p>\r\n        <p className=\" mt-4\"><span className=\"desc-text\">Insurers typically offers 3 levels of cover.</span></p>\r\n        <Row className=\"w-100\" noGutters>\r\n          <Col xs={4}>\r\n            <span className=\"title-text\">Basic:</span>\r\n          </Col>\r\n          <Col xs={8}>\r\n            <span className=\"desc-text\">Lowest protection benefit.</span>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"w-100\" noGutters>\r\n          <Col xs={4}>\r\n            <span className=\"title-text\">Essential:</span>\r\n          </Col>\r\n          <Col xs={8}>\r\n            <span className=\"desc-text\">Mid-range protection benefit.</span>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"w-100\" noGutters>\r\n          <Col xs={4}>\r\n            <span className=\"title-text\">Elite:</span>\r\n          </Col>\r\n          <Col xs={8}>\r\n            <span className=\"desc-text\">Comprehensive protection benefit.</span>\r\n          </Col>\r\n        </Row>\r\n      </Tooltip>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ListViewTierToolTip;\r\n","/**\r\n * MultiCompareView.js\r\n * Multi Compare view with different insurers\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\n// import PropTypes from 'prop-types';\r\nimport Sticky from 'react-stickynode';\r\n\r\nimport DollarLogo from 'assets/images/EditForm/Dollar.svg';\r\nimport Arrow from 'assets/images/forms/arrow.svg';\r\n\r\nimport DropDown from 'components/FormsV3/DropDown/DropDown';\r\nimport ChangeInitialFormDataNew from 'components/Templates/ChangeInitialFormData/ChangeInitialFormDataNew';\r\n// import CompareView from 'components/Templates/CompareViewNew/CompareView';\r\nimport ProductDetails from 'components/Templates/ProductDetails/ProductDetails';\r\n\r\nimport { ampTag } from 'lib/tagFunctions';\r\nimport { setRestrictionPopup } from 'actions/restrictionsActions';\r\n\r\nimport ListView from './ListView/ListView';\r\n// import ListCompareBottom from './ListCompareBottom/ListCompareBottom';\r\nimport ListViewTierToolTip from './ListViewTierToolTip/ListViewTierToolTip';\r\n\r\nconst planTypes = ['Basic', 'Essential', 'Elite'];\r\nconst viewState = ['list', 'compare', 'product'];\r\n\r\nconst planTypesList = _.map(planTypes, type => ({ display_name: type, value: type }));\r\n\r\nclass ListViewMultiCompare extends Component {\r\n  /**\r\n   * Lifecycle Method - constructor\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const {\r\n      splitParams,\r\n    } = this.props;\r\n\r\n    this.state = {\r\n      currViewState: splitParams.product && splitParams.insurer ? viewState[2] : viewState[0],\r\n      isFadeOut: false,\r\n      overridePlanTypes: null,\r\n      fadingList: [],\r\n    };\r\n\r\n    this.renderLeftContainer = this.renderLeftContainer.bind(this);\r\n    this.renderBackToListButton = this.renderBackToListButton.bind(this);\r\n    // this.setCompareSelected = this.setCompareSelected.bind(this);\r\n    // this.setCancelSelected = this.setCancelSelected.bind(this);\r\n    this.switchView = this.switchView.bind(this);\r\n    // this.scrollPopUpCallback = this.scrollPopUpCallback.bind(this);\r\n    this.setButtonSelected = this.setButtonSelected.bind(this);\r\n    // this.revalidateSelection = this.revalidateSelection.bind(this);\r\n    this.setOverridePlanTypes = this.setOverridePlanTypes.bind(this);\r\n    this.handleTierSelection = this.handleTierSelection.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { getPlans, plansData } = this.props;\r\n\r\n    // Get list plans\r\n    if (!plansData) {\r\n      getPlans();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const {\r\n      splitParams,\r\n    } = this.props;\r\n\r\n    // For product page use\r\n    // If detected is product, goes to product view\r\n    if (!_.isEqual(splitParams, prevProps.splitParams) && splitParams.insurer && splitParams.product) {\r\n      this.switchView(viewState[2]);\r\n    }\r\n  }\r\n\r\n  setOverridePlanTypes(overridePlanTypes) {\r\n    const { planType, setPlanType } = this.props;\r\n\r\n    const planTypeUpper = _.startCase(planType);\r\n\r\n    if (overridePlanTypes &&\r\n      overridePlanTypes.length > 0 &&\r\n      !_.find(overridePlanTypes, p => p.value === planTypeUpper)) {\r\n      const value = _.find(planTypesList, p => p.value === overridePlanTypes[0].value);\r\n      setPlanType(value && value.value);\r\n    }\r\n\r\n    this.setState({ overridePlanTypes });\r\n  }\r\n\r\n  // setCompareSelected(item) {\r\n  //   const { selectedArray, setSelectedArray } = this.props;\r\n  //   const newSelectedArray = [...selectedArray];\r\n\r\n  //   let result = false;\r\n\r\n  //   // Null = No empty slot\r\n  //   // -1 = Deselection\r\n  //   // 0,1,2 - Empty slot\r\n  //   let emptySlot = null;\r\n\r\n  //   for (let i = 0; i < newSelectedArray.length; ++i) {\r\n  //     if (newSelectedArray[i] === null) {\r\n  //       if (emptySlot === null) {\r\n  //         emptySlot = i;\r\n  //       }\r\n  //     } else if (newSelectedArray[i] === item) {\r\n  //       newSelectedArray[i] = null;\r\n  //       emptySlot = -1;\r\n  //     }\r\n  //   }\r\n\r\n  //   // Can select\r\n  //   if (emptySlot !== null && emptySlot >= 0) {\r\n  //     newSelectedArray[emptySlot] = item;\r\n  //     result = true;\r\n  //   }\r\n\r\n  //   setSelectedArray(newSelectedArray);\r\n\r\n  //   return result;\r\n  // }\r\n\r\n  // setCancelSelected(item, isAll = false) {\r\n  //   const { setSelectedArray, selectedArray } = this.props;\r\n\r\n  //   if (isAll) {\r\n  //     setSelectedArray([null, null, null]);\r\n  //     return;\r\n  //   }\r\n\r\n  //   const newSelectedArray = [...selectedArray];\r\n\r\n  //   const index = _.findIndex(newSelectedArray, selected => selected === item);\r\n  //   if (index !== -1) {\r\n  //     newSelectedArray[index] = null;\r\n  //   }\r\n\r\n  //   setSelectedArray(newSelectedArray);\r\n  // }\r\n\r\n  // Sets the tab selection\r\n  setButtonSelected(index) {\r\n    const { setSelectionButtonIndex } = this.props;\r\n    setSelectionButtonIndex(index);\r\n  }\r\n\r\n  // revalidateSelection(planTypeOverwrite = null) {\r\n  //   const {\r\n  //     selectedArray,\r\n  //     setSelectedArray,\r\n  //     plansData,\r\n  //     planType,\r\n  //   } = this.props;\r\n\r\n  //   const planTypeToUse = planTypeOverwrite || planType;\r\n  //   const newSelectedArray = [...selectedArray];\r\n\r\n  //   for (let i = 0; i < newSelectedArray.length; ++i) {\r\n  //     try {\r\n  //       const product = _.find(plansData.insurances_all, p => p && p.info && p.info.insurer_product_slug === newSelectedArray[i]);\r\n  //       if (!product.policy_info[planTypeToUse].premium) {\r\n  //         newSelectedArray[i] = null;\r\n  //       }\r\n  //     } catch (error) {\r\n  //       // eslint-disable-next-line\r\n  //       newSelectedArray[i] = null;\r\n  //     }\r\n  //   }\r\n\r\n  //   setSelectedArray(newSelectedArray);\r\n  // }\r\n\r\n  async switchView(state) {\r\n    // const {\r\n    //   currViewState,\r\n    // } = this.state;\r\n    const { category, resetPath } = this.props;\r\n\r\n    // if (currViewState !== viewState[0]) {\r\n    //   this.revalidateSelection();\r\n    // }\r\n\r\n    this.setState({\r\n      isFadeOut: true,\r\n      overridePlanTypes: null,\r\n    }, async () => {\r\n      await new Promise(resolve => setTimeout(() => this.setState({ currViewState: state }, resolve), 300));\r\n      if (state === viewState[2]) {\r\n        await new Promise(resolve => setTimeout(resolve, 100));\r\n      }\r\n\r\n      this.setState({\r\n        isFadeOut: false,\r\n      });\r\n\r\n      if (state === viewState[1]) {\r\n        ampTag(`${_.startCase(category)}CompareS`);\r\n      }\r\n\r\n      if (state !== viewState[2] && resetPath) {\r\n        resetPath();\r\n      }\r\n    });\r\n  }\r\n\r\n  // scrollPopUpCallback(insurerProductSlug, hoveredIndex) {\r\n  //   const { selectedArray, setSelectedArray } = this.props;\r\n  //   const newSelectedArray = [...selectedArray];\r\n\r\n  //   newSelectedArray[hoveredIndex] = insurerProductSlug;\r\n  //   setSelectedArray(newSelectedArray);\r\n  // }\r\n\r\n  // Change tier\r\n  async handleTierSelection(newPlanType) {\r\n    const { currViewState } = this.state;\r\n    const { plansData, setPlanType } = this.props;\r\n\r\n    try {\r\n      if (!this.mutex && newPlanType && plansData && plansData.insurances_all) {\r\n        this.mutex = true;\r\n        let fadingList = [];\r\n\r\n        if (currViewState === viewState[0]) {\r\n          for (let i = 0; i < plansData.insurances_all.length; ++i) {\r\n            fadingList.push('list-item-fade');\r\n            this.setState({\r\n              fadingList: [...fadingList],\r\n            });\r\n\r\n            // eslint-disable-next-line\r\n            await new Promise((r) => { setInterval(r, 10); });\r\n          }\r\n\r\n          // this.setState({\r\n          //   fadingList: [...fadingList],\r\n          // });\r\n          // await new Promise((r) => { setInterval(r, 250); });\r\n          await new Promise((r) => { setInterval(r, 100); });\r\n        }\r\n\r\n        setPlanType(newPlanType.toLowerCase());\r\n\r\n        if (currViewState === viewState[0]) {\r\n          fadingList = _.map(plansData.insurances_all, () => 'list-item-fade');\r\n          for (let i = 0; i < fadingList.length; ++i) {\r\n            fadingList[i] = '';\r\n            this.setState({\r\n              fadingList: [...fadingList],\r\n            });\r\n\r\n            // eslint-disable-next-line\r\n            await new Promise((r) => { setInterval(r, 10); });\r\n          }\r\n\r\n          // this.setState({\r\n          //   fadingList: [...fadingList],\r\n          // });\r\n        }\r\n\r\n        this.revalidateSelection();\r\n\r\n        this.mutex = false;\r\n      }\r\n    } catch (error) {\r\n      this.mutex = false;\r\n      this.setState({\r\n        fadingList: [],\r\n      });\r\n    }\r\n  }\r\n\r\n  renderBackToListButton() {\r\n    const { currViewState } = this.state;\r\n\r\n    if (currViewState !== viewState[0]) {\r\n      return (\r\n        <button\r\n          className=\"back-list-button\"\r\n          onClick={() => this.switchView(viewState[0])}\r\n        >\r\n          <img src={Arrow} alt=\"Arrow.svg\" />\r\n          Back to Product List\r\n        </button>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderLeftContainer() {\r\n    const { currViewState, overridePlanTypes } = this.state;\r\n    const {\r\n      editForm,\r\n      form,\r\n      promoGiveAway,\r\n      choosePlanListData,\r\n      selectionButtonIndex,\r\n      planType,\r\n      values,\r\n      getPlans,\r\n    } = this.props;\r\n\r\n    let promoJSX = null;\r\n    const selectionButtonsArray = _.map(choosePlanListData || [], data => ({ display_name: data.type, value: data.type }));\r\n\r\n    try {\r\n      const currDate = new Date();\r\n      const startDate = new Date(promoGiveAway.main[0].start_at);\r\n      const endDate = new Date(promoGiveAway.main[0].end_at);\r\n      if (startDate <= currDate && currDate <= endDate) {\r\n        promoJSX = (\r\n          <a className=\"d-none d-lg-block\" href={promoGiveAway.main[0].cta_url} target=\"__blank\">\r\n            <img\r\n              className=\"main-promo\"\r\n              src={promoGiveAway.main[0].image_url}\r\n              alt=\"PromoMain.png\"\r\n            />\r\n          </a>\r\n        );\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n      // console.log(error);\r\n    }\r\n\r\n    const JSX = (\r\n      <Fragment>\r\n        <Row noGutters>\r\n          {\r\n            currViewState !== viewState[0] ?\r\n              <Col className=\"plantype-drop\" style={{ minHeight: 0 }} xs={{ size: 6, order: 3 }} lg={{ size: 12, order: 1 }}>\r\n                {this.renderBackToListButton()}\r\n              </Col>\r\n            : null\r\n          }\r\n          <Col className=\"plantype-drop d-none d-lg-block\" xs={{ size: 6, order: 2 }} lg={{ size: 12, order: 2 }}>\r\n            <div className=\"tier-selection-checkbox-container\">\r\n              <div className=\"tier-header\">\r\n                <p className=\"my-0 detail-value\"><span>Coverage Level</span></p>\r\n                <ListViewTierToolTip />\r\n              </div>\r\n              <h6>Please select one</h6>\r\n              <div className=\"options-container\">\r\n                {\r\n                  _.map(overridePlanTypes || planTypesList, (type, index) => (\r\n                    <div className=\"option\" key={`planType-checkbox-${index}`}>\r\n                      <button\r\n                        className={['option-button', type.value.toLowerCase() === planType ? 'selected' : ''].join(' ')}\r\n                        type=\"button\"\r\n                        onClick={() => this.handleTierSelection(type.value)}\r\n                      />\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => this.handleTierSelection(type.value)}\r\n                      >\r\n                        <span className=\"detail-value\">{type.value}</span>\r\n                      </button>\r\n                    </div>\r\n                  ))\r\n                }\r\n              </div>\r\n            </div>\r\n          </Col>\r\n          <Col className=\"plantype-drop d-block d-lg-none\" xs={{ size: 6, order: 2 }} lg={{ size: 12, order: 2 }}>\r\n            <DropDown\r\n              dropList={overridePlanTypes || planTypesList}\r\n              placeholderString=\"Coverage Level\"\r\n              logo={DollarLogo}\r\n              value={{ display_name: _.startCase(planType), value: _.startCase(planType) }}\r\n              isDisableTyping\r\n              noExternalDesc\r\n              onChange={(type, name, value) => {\r\n                this.handleTierSelection(value.value);\r\n              }}\r\n            />\r\n            {/* <ListViewTierToolTip /> */}\r\n          </Col>\r\n          {\r\n            currViewState === viewState[0] && selectionButtonsArray ?\r\n              <Col xs={{ size: 6, order: 3 }} lg={{ size: 12, order: 3 }} className=\"d-block d-lg-none filter-container\">\r\n                <DropDown\r\n                  dropList={selectionButtonsArray}\r\n                  placeholderString=\"Filter\"\r\n                  isDisableTyping\r\n                  noExternalDesc\r\n                  value={selectionButtonsArray[selectionButtonIndex]}\r\n                  onChange={(type, name, value) => {\r\n                    const index = _.findIndex(selectionButtonsArray, selection => selection.value === value.value);\r\n                    this.setButtonSelected(index);\r\n                  }}\r\n                />\r\n              </Col>\r\n            : null\r\n          }\r\n          <Col xs={{ size: 12, order: 1 }} lg={{ size: 12, order: 4 }}>\r\n            <ChangeInitialFormDataNew\r\n              submitCallback={getPlans}\r\n              form={form}\r\n              headerValue={editForm.headerValue}\r\n              valuesToListen={editForm.valuesToListen}\r\n              conditions={editForm.conditions}\r\n              values={values}\r\n            >\r\n              {editForm.editDetail}\r\n            </ChangeInitialFormDataNew>\r\n          </Col>\r\n        </Row>\r\n        {promoJSX}\r\n      </Fragment>\r\n    );\r\n\r\n    return (\r\n      <div className=\"left-container\" >\r\n        <div className=\"d-none d-lg-block\">\r\n          <Sticky\r\n            enabled={true}\r\n            top={100}\r\n            bottomBoundary={0}\r\n          >\r\n            {JSX}\r\n          </Sticky>\r\n        </div>\r\n        <div className=\"d-block d-lg-none\">\r\n          {JSX}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Render\r\n   */\r\n  render() {\r\n    try {\r\n      const {\r\n        currViewState,\r\n        isFadeOut,\r\n        fadingList,\r\n      } = this.state;\r\n\r\n      const {\r\n        plansData,\r\n        // tripType,\r\n        choosePlanListData,\r\n        choosePlanPiggyData,\r\n      } = this.props;\r\n\r\n      // Do not render if no data\r\n      if (!plansData) {\r\n        return null;\r\n      }\r\n\r\n      const fadeStyle = isFadeOut ? 'animated fadeOut' : 'animated fadeIn';\r\n\r\n      return (\r\n        <div className=\"listview-container d-block d-md-flex justify-content-center\">\r\n          {this.renderLeftContainer()}\r\n          <div\r\n            className=\"right-container\"\r\n            ref={node => this.rightContainer = node}\r\n          >\r\n            <div className={`fade-container ${fadeStyle}`}>\r\n              {\r\n                // eslint-disable-next-line\r\n                currViewState === viewState[0] ?\r\n                  <ListView\r\n                    {...this.props}\r\n                    // setCompareSelected={this.setCompareSelected}\r\n                    setButtonSelected={this.setButtonSelected}\r\n                    fadingList={fadingList}\r\n                    listData={choosePlanListData}\r\n                    piggyData={choosePlanPiggyData}\r\n                  />\r\n                // : currViewState === viewState[1] ?\r\n                //   <CompareView\r\n                //     {...this.props}\r\n                //     key=\"overview\"\r\n                //     className=\"overview-container-padding\"\r\n                //     notAccordion\r\n                //     productChangable\r\n                //     scrollPopUpCallback={this.scrollPopUpCallback}\r\n                //     tripType={tripType}\r\n                //   />\r\n                :\r\n                  <ProductDetails\r\n                    {...this.props}\r\n                    setOverridePlanTypes={this.setOverridePlanTypes}\r\n                    switchView={() => this.switchView(viewState[0])}\r\n                  />\r\n              }\r\n            </div>\r\n            {/* <ListCompareBottom\r\n              {...this.props}\r\n              isListView={currViewState === viewState[0]}\r\n              clearAllCallBack={() => this.setCancelSelected(null, true)}\r\n              compareCallback={() => this.switchView(viewState[1])}\r\n              cancelSelectedCallBack={item => this.setCancelSelected(item, false)}\r\n            /> */}\r\n          </div>\r\n        </div>\r\n      );\r\n    } catch (error) {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nListViewMultiCompare.defaultProps = {\r\n  // initialIndex: 0,\r\n  // plansData: null,\r\n  // selectedInsurers: null,\r\n  // trackingTags: null,\r\n  // defaultInsurers: null,\r\n  // buttonDesc: null,\r\n  // forceFixedOnDesktop: false,\r\n  // category: null,\r\n  // promoGiveAway: null,\r\n  // listData: null,\r\n  // piggyData: null,\r\n  // splitParams: null,\r\n  // resetPath: null,\r\n};\r\n\r\nListViewMultiCompare.propTypes = {\r\n  // setSelectedInsurers: PropTypes.func.isRequired,\r\n  // mainForm: PropTypes.object.isRequired,\r\n  // parseForm: PropTypes.func.isRequired,\r\n  // getPlans: PropTypes.func.isRequired,\r\n  // clearData: PropTypes.func.isRequired,\r\n  // loading: PropTypes.func.isRequired,\r\n  // defaultInsurers: PropTypes.array,\r\n  // editForm: PropTypes.object.isRequired,\r\n  // form: PropTypes.string.isRequired,\r\n  // initialIndex: PropTypes.number,\r\n  // plansData: PropTypes.array,\r\n  // selectedInsurers: PropTypes.array,\r\n  // setSelectedPlanData: PropTypes.func.isRequired,\r\n  // loadingEnd: PropTypes.func.isRequired,\r\n  // setFormState: PropTypes.func.isRequired,\r\n  // setRestrictionPopup: PropTypes.func.isRequired,\r\n  // loadingFailBackState: PropTypes.func.isRequired,\r\n  // trackingTags: PropTypes.object,\r\n  // buttonDesc: PropTypes.string,\r\n  // forceFixedOnDesktop: PropTypes.bool,\r\n  // category: PropTypes.string,\r\n  // promoGiveAway: PropTypes.object,\r\n  // listData: PropTypes.array,\r\n  // piggyData: PropTypes.object,\r\n  // setSelectedArray: PropTypes.func.isRequired,\r\n  // setSelectionButtonIndex: PropTypes.func.isRequired,\r\n  // selectedArray: PropTypes.array.isRequired,\r\n  // selectionButtonIndex: PropTypes.number.isRequired,\r\n  // planType: PropTypes.string.isRequired,\r\n  // setPlanType: PropTypes.func.isRequired,\r\n  // splitParams: PropTypes.object,\r\n  // resetPath: PropTypes.func,\r\n  // handleProductPage: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  selectedInsurers: state.compare.selectedInsurers,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  // loading: (callBack, errorMsg, time, mainMsg) => {\r\n  //   dispatch(setLoading(callBack, errorMsg, time, mainMsg));\r\n  // },\r\n  // loadingEnd: () => {\r\n  //   dispatch(clearLoading());\r\n  // },\r\n  setRestrictionPopup: (data) => {\r\n    dispatch(setRestrictionPopup(data));\r\n  },\r\n  // setSelectedInsurers: (array) => {\r\n  //   dispatch(setSelectedInsurers(array));\r\n  // },\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ListViewMultiCompare);\r\n","/**\r\n * TravelChoosePlan.js\r\n * Choose Plan view for travel\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ListViewMultiCompare from 'components/Templates/ListViewMultiCompareNew/ListViewMultiCompare';\r\nimport FieldGenerator from 'components/FormsV3/FieldGenerator';\r\n\r\nimport TravelEditDetail from './TravelEditDetail';\r\n\r\nclass TravelChoosePlan extends Component {\r\n  render() {\r\n    const {\r\n      splitParams,\r\n      mainFormFields,\r\n      errors,\r\n      onChangeValue,\r\n      onUpdateValues,\r\n      values,\r\n      valuesToListen,\r\n      conditions,\r\n      validateForm,\r\n      getPlans,\r\n    } = this.props;\r\n\r\n    const isXploraJapan = splitParams && splitParams.insurer === 'tokio_marine' && splitParams.product === 'xplora_japan';\r\n    const isPrex = splitParams && _.includes(splitParams.product, 'prex');\r\n\r\n    return (\r\n      <ListViewMultiCompare\r\n        {...this.props}\r\n        category=\"travel\"\r\n        form=\"travel\"\r\n        editForm={{\r\n          valuesToListen: valuesToListen(values),\r\n          conditions,\r\n          editDetail: (\r\n            <TravelEditDetail\r\n              isPopUp\r\n              onUpdateValues={onUpdateValues}\r\n              values={values}\r\n              title=\"Edit Travel Insurance Details\"\r\n              validateForm={validateForm}\r\n              onSubmit={getPlans}\r\n            >\r\n              {\r\n                _.reduce(mainFormFields, (result, f, index) => {\r\n                  if (isXploraJapan && (f.slug === 'countries' || f.slug === 'region')) {\r\n                    return result;\r\n                  }\r\n                  result.push((<FieldGenerator\r\n                    key={`business-form-${index}`}\r\n                    values={values}\r\n                    errors={errors}\r\n                    fieldData={f}\r\n                    onChangeValue={(type, name, value) => onChangeValue(type, name, value, mainFormFields)}\r\n                    extraInfo={f.extra_info && <p>{f.extra_info}</p>}\r\n                    noInternalDesc={f.no_internal_desc}\r\n                    isPrex={isPrex}\r\n                  />));\r\n\r\n                  return result;\r\n                }, [])\r\n              }\r\n            </TravelEditDetail>\r\n          ),\r\n        }}\r\n        forceFixedOnDesktop\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nTravelChoosePlan.defaultProps = {\r\n  splitParams: null,\r\n};\r\n\r\nTravelChoosePlan.propTypes = {\r\n  splitParams: PropTypes.object,\r\n};\r\n\r\nexport default TravelChoosePlan;\r\n","/**\r\n * TravelChoosePlanContainer.js\r\n * The choose plan container for travel\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport document from 'global/document';\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport TravelChoosePlan from 'components/Travel/TravelChoosePlan';\r\n\r\nimport { setCategoryNavBar } from 'actions/navActions';\r\nimport { setInsuranceFormState, FORMSTATES } from 'actions/insuranceActions';\r\nimport { parseTravelForm, getTravelPlans, getMainFormFields } from 'actions/travelActions';\r\n\r\nimport {\r\n  getValuesToListen,\r\n  conditions,\r\n  doTrackingTagsChoosePlan,\r\n  choosePlanListData,\r\n  choosePlanPiggyData,\r\n  msigPrexPopup,\r\n} from './Travel.constants';\r\n\r\nimport { fbTag, gaTag, ampTag } from '../../lib/tagFunctions';\r\n\r\nclass TravelChoosePlanContainer extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const { splitParams } = prevState;\r\n    const { match } = nextProps;\r\n\r\n    if (!_.isEqual(splitParams, match.params)) {\r\n      return {\r\n        splitParams: match.params,\r\n      };\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { match } = this.props;\r\n    this.state = {\r\n      splitParams: match.params,\r\n    };\r\n\r\n    this.getPlans = this.getPlans.bind(this);\r\n    this.handleOnClick = this.handleOnClick.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const {\r\n      setFormState,\r\n      doSetCategoryNavBar,\r\n      mainFormFields,\r\n      handleAPI,\r\n      getMainFields,\r\n      constants,\r\n      history,\r\n    } = this.props;\r\n    setFormState(FORMSTATES.CHOOSEPLAN.index);\r\n\r\n    fbTag('PPS2 - Pageview - Travel - ChoosePlan', { Product: 'Travel' });\r\n    gaTag({\r\n      page_title: 'Travel - Choose Plan',\r\n      page_path: '/travel/chooseplan',\r\n    });\r\n    ampTag('TravelResultsS');\r\n    document.body.style.backgroundColor = '#F9FAFF';\r\n    doSetCategoryNavBar(true);\r\n\r\n    if (!mainFormFields) {\r\n      const mainFields = await handleAPI(\r\n        () => getMainFields(constants),\r\n        false,\r\n        'Unable to get form fields. Please try again!',\r\n        () => history.goBack(),\r\n      );\r\n\r\n      if (!mainFields) {\r\n        history.push('/');\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { doSetCategoryNavBar } = this.props;\r\n    document.body.style.backgroundColor = '#FFFFFF';\r\n    doSetCategoryNavBar(false);\r\n  }\r\n\r\n  async getPlans() {\r\n    const {\r\n      values,\r\n      handleAPI,\r\n      setPlansData,\r\n      history,\r\n    } = this.props;\r\n\r\n    const parsedParams = parseTravelForm(values);\r\n\r\n    // Get plans and valid insurers list\r\n    const newPlansData = await handleAPI(\r\n      () => getTravelPlans(parsedParams),\r\n      false,\r\n      'Unable to get products! Please try again.',\r\n      () => history.goBack(),\r\n    );\r\n\r\n    if (newPlansData) {\r\n      setPlansData(newPlansData);\r\n    }\r\n  }\r\n\r\n  handleOnClick(product, setRestrictionPopup) {\r\n    const {\r\n      category,\r\n      setFormState,\r\n      setSelectedPlanData,\r\n      planType,\r\n      history,\r\n    } = this.props;\r\n\r\n    try {\r\n      doTrackingTagsChoosePlan(planType, product);\r\n\r\n      const clickCallback = () => {\r\n        setSelectedPlanData(product);\r\n        setFormState(FORMSTATES.DETAILFORM.index);\r\n        history.push(`/travel${FORMSTATES.DETAILFORM.path}`);\r\n      };\r\n\r\n      if (product.restrictions) {\r\n        ampTag(`${_.startCase(category)}RestrictionsS`);\r\n\r\n        if (setRestrictionPopup) {\r\n          setRestrictionPopup({\r\n            values: product.restrictions,\r\n            clickCallback,\r\n            doAcceptTag: () => ampTag(`${_.startCase(category)}AcceptA`),\r\n          });\r\n          return true;\r\n        }\r\n      }\r\n\r\n      ampTag(`${_.startCase(category)}AcceptA`);\r\n      clickCallback();\r\n      return true;\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    const { splitParams } = this.state;\r\n\r\n    const {\r\n      history,\r\n      values,\r\n      mainFormFields,\r\n    } = this.props;\r\n\r\n    if (!mainFormFields) {\r\n      return null;\r\n    }\r\n\r\n    let tripType = 'default';\r\n    try {\r\n      if (values.trip_type.value === 'Single Trip') {\r\n        tripType = 'single';\r\n      } else if (values.trip_type.value === 'Annual Multi-Trip') {\r\n        tripType = 'annual';\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-lien\r\n    }\r\n\r\n    return (\r\n      <TravelChoosePlan\r\n        {...this.props}\r\n        loadingFailBackState={() => history.goBack()}\r\n        resetPath={() => history.replace(`/travel${FORMSTATES.CHOOSEPLAN.path}`)}\r\n        getPlans={this.getPlans}\r\n        splitParams={splitParams}\r\n        valuesToListen={getValuesToListen}\r\n        conditions={conditions}\r\n        choosePlanListData={choosePlanListData}\r\n        choosePlanPiggyData={choosePlanPiggyData}\r\n        handleOnClick={this.handleOnClick}\r\n        tripType={tripType}\r\n        parseForm={parseTravelForm}\r\n        emailPopupData={[msigPrexPopup]}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nTravelChoosePlanContainer.defaultProps = {\r\n  values: null,\r\n};\r\n\r\nTravelChoosePlanContainer.propTypes = {\r\n  history: PropTypes.object.isRequired,\r\n  values: PropTypes.object,\r\n  constants: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  travelPromoGiveAway: state.insurance.promoGiveaways.travel,\r\n  mainFormFields: state.travel.mainFormFields,\r\n  constants: state.insurance.constants,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  getMainFields: constants => dispatch(getMainFormFields(constants)),\r\n  setFormState: (state) => {\r\n    dispatch(setInsuranceFormState(state));\r\n  },\r\n  doSetCategoryNavBar: (isCategory) => {\r\n    dispatch(setCategoryNavBar(isCategory));\r\n  },\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(TravelChoosePlanContainer));\r\n","module.exports = __webpack_public_path__ + \"static/media/arrow.6b6008ba.svg\";","module.exports = __webpack_public_path__ + \"static/media/dateIn.1b60a0c4.svg\";","module.exports = __webpack_public_path__ + \"static/media/dateOut.98be354a.svg\";","module.exports = __webpack_public_path__ + \"static/media/magnifyGlass.4cd15637.svg\";","/**\r\n * RestrictionPopup.js\r\n * Used to display product restrictions\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Row, Col, Modal, ModalHeader } from 'reactstrap';\r\nimport Button from 'components/FormsV3/Button/Button';\r\n\r\nimport { clearRestrictionPopup } from '../../../actions/restrictionsActions';\r\n\r\nimport './RestrictionsPopup.scss';\r\n\r\nclass RestrictionsPopup extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const { data } = nextProps;\r\n\r\n    if (data && data !== prevState.data) {\r\n      nextProps.clearRestrictionPopup();\r\n      return ({\r\n        values: data.values,\r\n        clickCallback: data.clickCallback,\r\n        doAcceptTag: data.doAcceptTag,\r\n      });\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      values: null,\r\n      clickCallback: null,\r\n      doAcceptTag: null,\r\n      modal: false,\r\n    };\r\n\r\n    this.setData = this.setData.bind(this);\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { values, modal } = this.state;\r\n\r\n    if (values && !modal) {\r\n      this.setState({ modal: true });\r\n    }\r\n  }\r\n\r\n  setData(values, clickCallback, doAcceptTag) {\r\n    this.setState({\r\n      values,\r\n      clickCallback,\r\n      doAcceptTag,\r\n    });\r\n\r\n    setTimeout(() => this.setState({ modal: true }), 100);\r\n  }\r\n\r\n  handleClick() {\r\n    const { clickCallback, doAcceptTag } = this.state;\r\n\r\n    if (doAcceptTag) {\r\n      doAcceptTag();\r\n    }\r\n\r\n    if (clickCallback) {\r\n      clickCallback();\r\n    }\r\n\r\n    this.setState({ modal: false, values: null });\r\n  }\r\n\r\n  renderData() {\r\n    const { values } = this.state;\r\n\r\n    return _.map(values, (item, index) => {\r\n      const description = _.split(item.description, '\\n');\r\n      return (\r\n        <Fragment key={`res-data-${index}`}>\r\n          <Col className=\"title\" xs={12} sm={4}>\r\n            <p>{item.title}</p>\r\n          </Col>\r\n          <Col className=\"res-desc\" xs={12} sm={8}>\r\n            {\r\n              _.map(description, (desc, descIndex) => (\r\n                <p key={`res-desc-${descIndex}`}>{desc}</p>\r\n              ))\r\n            }\r\n          </Col>\r\n          <Col xs={12}>\r\n            <div className=\"line\" xs={12} />\r\n          </Col>\r\n        </Fragment>\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { modal } = this.state;\r\n    return (\r\n      <Modal\r\n        backdropClassName=\"blue-modal-backdrop\"\r\n        className=\"restrictions-popup\"\r\n        isOpen={modal}\r\n        size=\"lg\"\r\n      >\r\n        <ModalHeader toggle={() => this.setState({ modal: false, values: null })} />\r\n        <Row>\r\n          <Col className=\"header\" xs={12}>\r\n            <p>{'Company\\'s Restrictions'}</p>\r\n            <p className=\"sub\">Scroll down to read the restrictions</p>\r\n          </Col>\r\n          {this.renderData()}\r\n        </Row>\r\n        <Row>\r\n          <Col className=\"button-container\" xs={12}>\r\n            <Button\r\n              onClick={this.handleClick}\r\n              type=\"submit\"\r\n              variant=\"medium-flat-green\"\r\n              width={165}\r\n              height={72}\r\n            >\r\n              <p>Accept</p>\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  data: state.restrictions.data,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  clearRestrictionPopup: () => {\r\n    dispatch(clearRestrictionPopup());\r\n  },\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RestrictionsPopup);\r\n","module.exports = __webpack_public_path__ + \"static/media/cross.8df9f59e.svg\";","module.exports = __webpack_public_path__ + \"static/media/CheckoutComplete.0dec4895.svg\";","import React, { Component } from 'react';\r\nimport { CustomInput } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport './Checkbox.scss';\r\n\r\nexport default class Checkbox extends Component {\r\n  render() {\r\n    const {\r\n      name,\r\n      value,\r\n      desc,\r\n      onChange,\r\n      errorString,\r\n      extraInfo,\r\n    } = this.props;\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        errorString={errorString}\r\n        extraInfo={extraInfo}\r\n        smallMargin\r\n      >\r\n        <div className=\"checkbox-container-v3\">\r\n          <CustomInput\r\n            id={name}\r\n            className=\"checkbox-input\"\r\n            type=\"checkbox\"\r\n            onChange={() => onChange('checkbox', name, !value)}\r\n            checked={!!value}\r\n          />\r\n          {/* eslint-disable-next-line */}\r\n          <p\r\n            className=\"checkbox-input-desc\"\r\n            // onClick={() => onChange('checkbox', name, !value)}\r\n          >\r\n            {desc}\r\n          </p>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nCheckbox.defaultProps = {\r\n  value: null,\r\n  errorString: null,\r\n  extraInfo: null,\r\n};\r\n\r\nCheckbox.propTypes = {\r\n  value: PropTypes.bool,\r\n  name: PropTypes.string.isRequired,\r\n  desc: PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.array]).isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  errorString: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n};\r\n","module.exports = __webpack_public_path__ + \"static/media/EditButton.cbb0b06a.svg\";","/**\r\n * DropDown.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Input } from 'reactstrap';\r\nimport MagnifyGlass from 'assets/images/forms/magnifyGlass.svg';\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport './TextInput.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass TextInput extends Component {\r\n  render() {\r\n    const {\r\n      name,\r\n      desc,\r\n      placeholderString,\r\n      extraInfo,\r\n      errorString,\r\n      value,\r\n      onChange,\r\n      handlePostCode,\r\n      rows,\r\n      noInternalDesc,\r\n      type,\r\n      toUpper,\r\n      readOnly,\r\n    } = this.props;\r\n\r\n    // eslint-disable-next-line\r\n    const inputType = type === 'password' ? 'password' : type === 'textarea' ? 'textarea' : type === 'number' ? 'number' : '';\r\n\r\n    const errorStyle = errorString ? 'error' : '';\r\n    const titleStyle = value ? 'focused-title' : '';\r\n    const textareaStyle = inputType === 'textarea' ? 'textarea-padding' : '';\r\n    const inputStyle = inputType === 'textarea' ? '' : 'absolute-input';\r\n    const noInternalDescStyle = noInternalDesc ? 'no-internal-desc' : '';\r\n    const readOnlyStyle = readOnly ? 'read-only' : '';\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        desc={desc}\r\n        extraInfo={extraInfo}\r\n        errorString={errorString}\r\n      >\r\n        <div className=\"position-relative\">\r\n          <div\r\n            className={`text-input-container-v3 ${textareaStyle} ${errorStyle} ${readOnlyStyle}`}\r\n          >\r\n            {\r\n              !noInternalDesc &&\r\n              <div className={`title-header ${titleStyle}`}>\r\n                {placeholderString}\r\n              </div>\r\n            }\r\n            <div className={['text-input', noInternalDescStyle, inputStyle].join(' ')}>\r\n              <Input\r\n                className=\"text\"\r\n                type={inputType}\r\n                placeholder={(noInternalDesc && placeholderString) || ''}\r\n                name={name}\r\n                value={value || ''}\r\n                onChange={e => onChange(type, name, e.target.value && toUpper ? e.target.value.toUpperCase() : e.target.value)}\r\n                rows={rows}\r\n                disabled={readOnly}\r\n              />\r\n            </div>\r\n            {\r\n              type === 'postal' && handlePostCode ?\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"postcode\"\r\n                  onClick={handlePostCode}\r\n                >\r\n                  <img src={MagnifyGlass} alt=\"magGlass.svg\" />\r\n                </button>\r\n              :\r\n                null\r\n            }\r\n          </div>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nTextInput.defaultProps = {\r\n  value: null,\r\n  desc: null,\r\n  extraInfo: null,\r\n  errorString: null,\r\n  handlePostCode: null,\r\n  rows: 4,\r\n  noInternalDesc: false,\r\n  toUpper: false,\r\n  readOnly: false,\r\n};\r\n\r\n\r\nTextInput.propTypes = {\r\n  placeholderString: PropTypes.string.isRequired,\r\n  value: PropTypes.string,\r\n  name: PropTypes.string.isRequired,\r\n  desc: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  errorString: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  handlePostCode: PropTypes.func,\r\n  rows: PropTypes.number,\r\n  noInternalDesc: PropTypes.bool,\r\n  type: PropTypes.string.isRequired,\r\n  toUpper: PropTypes.bool,\r\n  readOnly: PropTypes.bool,\r\n};\r\n\r\nexport default TextInput;\r\n","// Day Text for display\r\nexport const dayTextList = [\r\n  'SU',\r\n  'MO',\r\n  'TU',\r\n  'WE',\r\n  'TH',\r\n  'FR',\r\n  'SA',\r\n];\r\n\r\n// Month text for display\r\nexport const monthTextMapping = [\r\n  'January',\r\n  'Feburary',\r\n  'March',\r\n  'April',\r\n  'May',\r\n  'June',\r\n  'July',\r\n  'August',\r\n  'September',\r\n  'October',\r\n  'November',\r\n  'December',\r\n];\r\n\r\n// Height for medium dropdown\r\nexport const defaultHeight = 48;\r\n// Default year range if not user defined\r\nexport const deafultYearRange = 100;\r\n","/**\r\n * DateInner.js\r\n * DateView only for rendering\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport PropTypes from 'prop-types';\r\nimport React, { Component } from 'react';\r\nimport {\r\n  UncontrolledDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n} from 'reactstrap';\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\n\r\nimport { monthTextMapping } from '../DatePicker.constants';\r\n\r\nimport './MonthYearSelector.scss';\r\n\r\n// Height for month and year dropdown items\r\nconst itemHeight = 32;\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass MonthYearSelector extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.updateScrollPosition = this.updateScrollPosition.bind(this);\r\n  }\r\n\r\n  updateScrollPosition() {\r\n    const {\r\n      currDisplayDate,\r\n      dateRangeStart,\r\n      isYear,\r\n    } = this.props;\r\n\r\n    try {\r\n      const height = itemHeight * (isYear ? currDisplayDate.getFullYear() - dateRangeStart.getFullYear() : currDisplayDate.getMonth());\r\n\r\n      // Update year scroll position to current year\r\n      if (this.scrollInput) {\r\n        setTimeout(() => this.scrollInput.scrollTop(height), 10);\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n  }\r\n\r\n  /**\r\n   * renderMonths\r\n   *\r\n   * Render months dropdown\r\n   */\r\n  renderMonths() {\r\n    const {\r\n      currDisplayDate,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      setCalender,\r\n    } = this.props;\r\n\r\n    try {\r\n      const startYear = dateRangeStart.getFullYear();\r\n      const endYear = dateRangeEnd.getFullYear();\r\n      const currYear = currDisplayDate.getFullYear();\r\n\r\n      const startMonth = currYear === startYear ? dateRangeStart.getMonth() : 0;\r\n      const endMonth = currYear === endYear ? dateRangeEnd.getMonth() : 11;\r\n\r\n      return _.reduce(monthTextMapping, (result, item, index) => {\r\n        if (startMonth <= index && index <= endMonth) {\r\n          const jsx = (\r\n            <DropdownItem\r\n              onClick={() => {\r\n                setCalender(index, currYear);\r\n              }}\r\n              key={`month-${index.toString()}`}\r\n            >\r\n              {item}\r\n            </DropdownItem>\r\n          );\r\n          result.push(jsx);\r\n        }\r\n\r\n        return result;\r\n      }, []);\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * renderYears\r\n   *\r\n   * Render years dropdown\r\n   */\r\n  renderYears() {\r\n    const {\r\n      currDisplayDate,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      setCalender,\r\n    } = this.props;\r\n\r\n    try {\r\n      const start = dateRangeStart.getFullYear();\r\n      const end = dateRangeEnd.getFullYear();\r\n\r\n      const result = [];\r\n      for (let i = start; i <= end; ++i) {\r\n        result.push((\r\n          <DropdownItem\r\n            onClick={() => {\r\n              setCalender(currDisplayDate.getMonth(), i);\r\n            }}\r\n            key={`year-${i.toString()}`}\r\n          >\r\n            {i}\r\n          </DropdownItem>\r\n        ));\r\n      }\r\n\r\n      return result;\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const { isYear, currDisplayDate, isSingle } = this.props;\r\n\r\n    try {\r\n      const dateToUse = new Date(currDisplayDate.getFullYear(), currDisplayDate.getMonth(), 1);\r\n\r\n      let displayText = '';\r\n\r\n      if (isYear) {\r\n        displayText = dateToUse.getFullYear();\r\n      } else {\r\n        const month = dateToUse.getMonth();\r\n        displayText = monthTextMapping[month];\r\n      }\r\n\r\n      if (!isSingle) {\r\n        return <p>{displayText}</p>;\r\n      }\r\n\r\n      return (\r\n        <div className=\"month-year-selector\">\r\n          <UncontrolledDropdown>\r\n            <div ref={(dateMonthInput) => { this.dateMonthInput = dateMonthInput; }}>\r\n              <DropdownToggle\r\n                caret\r\n                outline\r\n                onClick={this.updateScrollPosition}\r\n              >\r\n                {displayText}\r\n              </DropdownToggle>\r\n            </div>\r\n            <DropdownMenu>\r\n              <Scrollbars\r\n                autoHeight\r\n                ref={(scrollInput) => { this.scrollInput = scrollInput; }}\r\n              >\r\n                {isYear ? this.renderYears() : this.renderMonths()}\r\n              </Scrollbars>\r\n            </DropdownMenu>\r\n          </UncontrolledDropdown>\r\n        </div>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\nMonthYearSelector.defaultProps = {\r\n  isYear: false,\r\n  isSingle: false,\r\n};\r\n\r\nMonthYearSelector.propTypes = {\r\n  isYear: PropTypes.bool,\r\n  setCalender: PropTypes.func.isRequired,\r\n  currDisplayDate: PropTypes.instanceOf(Date).isRequired,\r\n  dateRangeStart: PropTypes.instanceOf(Date).isRequired,\r\n  dateRangeEnd: PropTypes.instanceOf(Date).isRequired,\r\n  isSingle: PropTypes.bool,\r\n};\r\n\r\nexport default MonthYearSelector;\r\n","/**\r\n * DateInner.js\r\n * DateView only for rendering\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\n\r\nimport { dayTextList /* , deafultYearRange */ } from '../DatePicker.constants';\r\n\r\nimport './DaysList.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass DaysList extends Component {\r\n  /**\r\n   * renderDaysText\r\n   *\r\n   * Render the days text\r\n   */\r\n  renderDaysText() {\r\n    return _.map(dayTextList, day => (\r\n      <Col\r\n        xs=\"auto\"\r\n        className=\"days\"\r\n        key={day}\r\n      >\r\n        <p>{day}</p>\r\n      </Col>\r\n    ));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Row className=\"days-list-container\" noGutters>\r\n        <Col className=\"days-list-inner\" xs={12}>\r\n          <Row className=\"w-100\" noGutters>\r\n            {this.renderDaysText()}\r\n          </Row>\r\n        </Col>\r\n        <Col className=\"days-list-divider\" xs={12} />\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DaysList;\r\n","/**\r\n * DateInner.js\r\n * DateView only for rendering\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React, { Component } from 'react';\r\nimport {\r\n  Row,\r\n  Col,\r\n} from 'reactstrap';\r\n\r\nimport './Calender.scss';\r\n\r\n/**\r\n * Calender\r\n *\r\n * Render calender days for range selection\r\n */\r\nclass Calender extends Component {\r\n  render() {\r\n    const {\r\n      dateRangeEndOverwrite,\r\n      isSelectingStartDate,\r\n      startValue,\r\n      endValue,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      setSelectedDate,\r\n      isRange,\r\n      currDisplayDate,\r\n      hoverDate,\r\n      setDateRangeEndOverwrite,\r\n      setHoverDate,\r\n      offsetDays,\r\n    } = this.props;\r\n\r\n    const currFirstDay = new Date(currDisplayDate);\r\n    currFirstDay.setDate(1);\r\n\r\n    const currLastDay = new Date(currFirstDay.getFullYear(), currFirstDay.getMonth() + 1, 0);\r\n\r\n    const currFirstDayTime = currFirstDay.getTime();\r\n    const currLastDayTime = currLastDay.getTime();\r\n\r\n    const month = currFirstDay.getMonth();\r\n    const year = currFirstDay.getFullYear();\r\n\r\n    // Get the starting blank days of the calender\r\n    const startIndex = currFirstDay.getDay();\r\n    // Get the end day\r\n    const endIndex = currLastDay.getDate();\r\n\r\n    // Get starting time\r\n    const currHoverTime = hoverDate && hoverDate.getTime();\r\n    const startTime = startValue && startValue.getTime();\r\n    const endTime = endValue && endValue.getTime();\r\n\r\n    let startTimeToUse = startTime;\r\n    let endTimetoUse = endTime;\r\n\r\n    const fixedDateTime = isSelectingStartDate ? endTime : startTime;\r\n    const nonfixedDateTime = !isSelectingStartDate ? endTime : startTime;\r\n\r\n    if (hoverDate) {\r\n      // eslint-disable-next-line\r\n      startTimeToUse = currHoverTime < fixedDateTime ? currHoverTime : fixedDateTime;\r\n      // eslint-disable-next-line\r\n      endTimetoUse = currHoverTime > fixedDateTime ? currHoverTime : fixedDateTime;\r\n    }\r\n\r\n    const result = [];\r\n\r\n    // These are blank elements to simulate last month dates\r\n    for (let i = 0; i < startIndex; ++i) {\r\n      result.push(<div className=\"date-col\" key={`blank${i.toString()}`} />);\r\n    }\r\n\r\n    for (let i = 1; i <= endIndex; ++i) {\r\n      const currDay = new Date(year, month, i);\r\n      const currDayOfWeek = currDay.getDay();\r\n      const currTime = currDay.getTime();\r\n\r\n      const isSat = currDayOfWeek === 6;\r\n      const isSun = currDayOfWeek === 0;\r\n      const isStartDate = startTimeToUse === currTime;\r\n      const isEndDate = endTimetoUse === currTime;\r\n      const isWithin = startTimeToUse && endTimetoUse && startTimeToUse < currTime && currTime < endTimetoUse;\r\n      const isFirstDay = currFirstDayTime === currTime;\r\n      const isLastDay = currLastDayTime === currTime;\r\n\r\n      const isSameDay = startTimeToUse === endTimetoUse || (hoverDate && fixedDateTime === currHoverTime);\r\n      const isLeftBlockActive = !isSameDay && (!isSun && !isFirstDay) && ((isEndDate && startTimeToUse)\r\n                                || isWithin);\r\n      const isRightBlockActive = !isSameDay && (!isSat && !isLastDay) && ((isStartDate && endTimetoUse)\r\n                                || isWithin);\r\n      const isDayActive = isStartDate || isEndDate;\r\n      const isEndActive = isDayActive || (isWithin && (isSat || isSun || isFirstDay || isLastDay));\r\n\r\n      // Left bock, right block, circle block and selected circle block\r\n      const leftBlockStyle = isLeftBlockActive ? 'left-active' : 'left-inactive';\r\n      const rightBlockStyle = isRightBlockActive ? 'right-active' : 'right-inactive';\r\n      const endBlockStyle = isEndActive ? 'end-active' : 'end-inactive';\r\n      const dayStyle = isDayActive ? 'day-active' : 'day-inactive';\r\n      const focusStyle = (currHoverTime && currHoverTime === currTime) || (!currHoverTime && nonfixedDateTime === currTime) ? 'day-focus' : '';\r\n\r\n      // Check if day is in within selected range\r\n      let isBlocked = false;\r\n      // if (isRange) {\r\n      //   if (isSelectingStartDate && endValue) {\r\n      //     // isBlocked = currDay > endValue;\r\n      //   } else if (!isSelectingStartDate && startValue) {\r\n      //     // isBlocked = currDay < startValue;\r\n      //   }\r\n      // }\r\n\r\n      // Check if day is out of calender range\r\n      if (!isBlocked) {\r\n        isBlocked = currDay < dateRangeStart || currDay > (dateRangeEndOverwrite || dateRangeEnd);\r\n      }\r\n\r\n      result.push((\r\n        <Col\r\n          key={`day${i.toString()}`}\r\n          className=\"date-col\"\r\n          xs=\"auto\"\r\n        >\r\n          <button\r\n            className=\"day-container\"\r\n            type=\"button\"\r\n            onClick={() => {\r\n              if (!isBlocked) {\r\n                const { isSelectingStartDate: isSelectingStartDateCurr } = this.props;\r\n                setSelectedDate(new Date(year, month, i), isSelectingStartDateCurr);\r\n                setHoverDate(null);\r\n\r\n                if (isRange && isSelectingStartDateCurr) {\r\n                  setDateRangeEndOverwrite(new Date(year, month, i + offsetDays));\r\n                }\r\n              }\r\n            }}\r\n            onMouseEnter={() => {\r\n                if (!isBlocked) {\r\n                  setHoverDate(new Date(year, month, i));\r\n                }\r\n            }}\r\n            onMouseLeave={() => {\r\n                // if (!isSelectingStartDate) {\r\n                  setHoverDate(null);\r\n                // }\r\n            }}\r\n          >\r\n            <div className={`day-range  ${leftBlockStyle}`} />\r\n            <div className={`day-range  ${rightBlockStyle}`} />\r\n            <div className={`${endBlockStyle}`} />\r\n            {\r\n              isBlocked ?\r\n                <div className=\"day-disabled\">\r\n                  <p className=\"blocked\">{i}</p>\r\n                </div>\r\n              :\r\n                <div className={`day ${dayStyle} ${focusStyle}`}>\r\n                  <p>{i}</p>\r\n                </div>\r\n            }\r\n          </button>\r\n        </Col>\r\n      ));\r\n    }\r\n\r\n    return (\r\n      <Row className=\"calender-container\" noGutters>\r\n        {result}\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nCalender.defaultProps = {\r\n  startValue: null,\r\n  endValue: null,\r\n  dateRangeEndOverwrite: null,\r\n  currDisplayDate: null,\r\n  hoverDate: null,\r\n  offsetDays: 0,\r\n};\r\n\r\nCalender.propTypes = {\r\n  isRange: PropTypes.bool.isRequired,\r\n  startValue: PropTypes.instanceOf(Date),\r\n  endValue: PropTypes.instanceOf(Date),\r\n  dateRangeStart: PropTypes.instanceOf(Date).isRequired,\r\n  dateRangeEnd: PropTypes.instanceOf(Date).isRequired,\r\n  dateRangeEndOverwrite: PropTypes.instanceOf(Date),\r\n  currDisplayDate: PropTypes.instanceOf(Date),\r\n  hoverDate: PropTypes.instanceOf(Date),\r\n  setSelectedDate: PropTypes.func.isRequired,\r\n  isSelectingStartDate: PropTypes.bool.isRequired,\r\n  setDateRangeEndOverwrite: PropTypes.func.isRequired,\r\n  setHoverDate: PropTypes.func.isRequired,\r\n  offsetDays: PropTypes.number,\r\n};\r\n\r\nexport default Calender;\r\n","/**\r\n * DateInner.js\r\n * DateView only for rendering\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport PropTypes from 'prop-types';\r\nimport React, { Component, Fragment } from 'react';\r\nimport {\r\n  Row,\r\n  Col,\r\n} from 'reactstrap';\r\nimport moment from 'moment';\r\n\r\nimport CloseIcon from 'assets/images/common/CloseIcon.svg';\r\nimport Arrow from 'assets/images/forms/arrow.svg';\r\nimport Triangle from 'assets/images/forms/triangle.svg';\r\n\r\nimport MonthYearSelector from '../MonthYearSelector/MonthYearSelector';\r\nimport DaysList from '../DaysList/DaysList';\r\nimport Calender from '../Calender/Calender';\r\n\r\nimport './DateInner.scss';\r\n\r\nconst SINGLE = 0;\r\nconst MULTIPLELEFT = 1;\r\nconst MULTIPLERIGHT = 2;\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass DateInner extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      hoverDate: null,\r\n      dateRangeEndOverwrite: null,\r\n    };\r\n\r\n    this.setCalender = this.setCalender.bind(this);\r\n    this.setDateRangeEndOverwrite = this.setDateRangeEndOverwrite.bind(this);\r\n  }\r\n\r\n  // componentDidUpdate(prevProps) {\r\n  //   const { startValue } = this.props;\r\n\r\n  //   if (!isDateEqual(startValue, prevProps.startValue)) {\r\n  //     this.setDateRangeEndOverwrite(startValue);\r\n  //   }\r\n  // }\r\n\r\n  setDateRangeEndOverwrite(value) {\r\n    const {\r\n      dateRangeEnd,\r\n      offsetDays,\r\n    } = this.props;\r\n\r\n    let newEnd = value;\r\n\r\n    if (dateRangeEnd) {\r\n      const maxEnd = moment(dateRangeEnd).add(offsetDays, 'days').toDate();\r\n      newEnd = newEnd > maxEnd ? maxEnd : newEnd;\r\n    }\r\n\r\n    this.setState({ dateRangeEndOverwrite: newEnd });\r\n  }\r\n\r\n  /**\r\n   * setCalender\r\n   *\r\n   * Set visible calender\r\n   *\r\n   * @param {number} month\r\n   * @param {number} year\r\n   */\r\n  setCalender(month, year) {\r\n    const {\r\n      dateRangeEndOverwrite,\r\n    } = this.state;\r\n\r\n    const {\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      setNewDisplayDate,\r\n    } = this.props;\r\n\r\n    let date = new Date(year, month);\r\n\r\n    // Cap date range\r\n    if (date < dateRangeStart) {\r\n      date = dateRangeStart;\r\n    } else if (date > (dateRangeEndOverwrite || dateRangeEnd)) {\r\n      date = dateRangeEndOverwrite && dateRangeEndOverwrite > dateRangeEnd ? dateRangeEndOverwrite : dateRangeEnd;\r\n    }\r\n\r\n    setNewDisplayDate(date);\r\n  }\r\n\r\n  renderMonthSelectorArrows(isBack, month, year) {\r\n    const { isRange, isResp } = this.props;\r\n\r\n    return (\r\n      <Col\r\n        xs={1}\r\n        className=\"date-arrow-style\"\r\n      >\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => {\r\n            // eslint-disable-next-line\r\n            this.setCalender(isBack ? month - 1 : (isRange && !isResp ? month : month + 1), year);\r\n          }}\r\n        >\r\n          <img\r\n            src={Arrow}\r\n            alt=\"arrow.svg\"\r\n            className={isBack ? 'angle-left' : 'angle-right'}\r\n          />\r\n        </button>\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * renderDateInner\r\n   *\r\n   * Render the popup od the datepicker\r\n   */\r\n  renderDateInner(type) {\r\n    const { dateRangeEndOverwrite, hoverDate } = this.state;\r\n\r\n    const {\r\n      currDisplayDate,\r\n      isRange,\r\n      setSelectedDate,\r\n      startValue,\r\n      endValue,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      isSelectingStartDate,\r\n      isResp,\r\n      offsetDays,\r\n    } = this.props;\r\n\r\n    const dateToUse = new Date(currDisplayDate.getFullYear(), currDisplayDate.getMonth(), 1);\r\n    if (type === MULTIPLERIGHT) {\r\n      dateToUse.setMonth(dateToUse.getMonth() + 1);\r\n    }\r\n\r\n    const month = dateToUse.getMonth();\r\n    const year = dateToUse.getFullYear();\r\n\r\n    let upperStyle = '';\r\n    if (isRange && !isResp) {\r\n      upperStyle = type === MULTIPLERIGHT ? 'range-right' : 'range-left';\r\n    }\r\n\r\n    return (\r\n      <div className=\"date-inner-container\">\r\n        {\r\n          type !== MULTIPLERIGHT ?\r\n            <div\r\n              role=\"button\"\r\n              className=\"close-button-container\"\r\n              onKeyPress={() => {}}\r\n              onClick={() => {\r\n                setSelectedDate(startValue, true);\r\n                setSelectedDate(endValue, false);\r\n              }}\r\n              tabIndex={-1}\r\n            >\r\n              <img src={CloseIcon} className=\"close-icon\" alt=\"close\" />\r\n            </div>\r\n            : null\r\n        }\r\n        <Row className={upperStyle} noGutters>\r\n          {type !== MULTIPLERIGHT && this.renderMonthSelectorArrows(true, month, year)}\r\n          <Col xs={6} className=\"selector-left\">\r\n            <MonthYearSelector\r\n              setCalender={this.setCalender}\r\n              currDisplayDate={dateToUse}\r\n              dateRangeStart={dateRangeStart}\r\n              dateRangeEnd={dateRangeEnd}\r\n              isSingle={type === SINGLE}\r\n            />\r\n          </Col>\r\n          <Col xs={4} className=\"selector-right\">\r\n            <MonthYearSelector\r\n              isYear\r\n              setCalender={this.setCalender}\r\n              currDisplayDate={dateToUse}\r\n              dateRangeStart={dateRangeStart}\r\n              dateRangeEnd={dateRangeEnd}\r\n              isSingle={type === SINGLE}\r\n            />\r\n          </Col>\r\n          {type !== MULTIPLELEFT && this.renderMonthSelectorArrows(false, month, year)}\r\n        </Row>\r\n        <DaysList />\r\n        <Calender\r\n          isRange={isRange}\r\n          startValue={startValue}\r\n          endValue={endValue}\r\n          dateRangeStart={dateRangeStart}\r\n          dateRangeEnd={dateRangeEnd}\r\n          dateRangeEndOverwrite={dateRangeEndOverwrite}\r\n          currDisplayDate={dateToUse}\r\n          hoverDate={hoverDate}\r\n          setSelectedDate={setSelectedDate}\r\n          isSelectingStartDate={isSelectingStartDate}\r\n          setDateRangeEndOverwrite={this.setDateRangeEndOverwrite}\r\n          setHoverDate={value => this.setState({ hoverDate: value })}\r\n          offsetDays={offsetDays}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isOpened,\r\n      isRange,\r\n      isArrowUp,\r\n      inputWidth,\r\n      isSelectingStartDate,\r\n      isResp,\r\n    } = this.props;\r\n\r\n    const openedStyle = isOpened ? 'dateinner-opened' : '';\r\n    const dateOpenStyle = isOpened ? 'date-container-opened' : 'date-container-closed';\r\n\r\n\r\n    const respStyle = isResp ? 'inner-absolute' : '';\r\n    const isArrowUpToUse = isResp || isArrowUp;\r\n    const arrowStyle = isArrowUpToUse ? 'arrow-up' : 'arrow-down';\r\n    const rangeBorders = isRange ? '' : '';\r\n\r\n    let transform = `translateX(20px) ${isArrowUpToUse ? '' : 'rotate(180deg)'}`;\r\n    if (isRange && inputWidth !== null) {\r\n      transform = `translateX(${(isSelectingStartDate ? 0 : inputWidth * 0.5) + 20}px) ${isArrowUpToUse ? '' : 'rotate(180deg)'}`;\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        <div className={`${openedStyle} ${respStyle} dateinner-v3`}>\r\n          <div className={dateOpenStyle}>\r\n            <img\r\n              className={['arrow-range', arrowStyle, respStyle].join(' ')}\r\n              src={Triangle}\r\n              alt=\"triangle.svg\"\r\n              style={{ transform }}\r\n            />\r\n            <div\r\n              className={`list-container list-opened ${rangeBorders}`}\r\n              ref={node => this.listCont = node}\r\n            >\r\n              {this.renderDateInner(isRange && !isResp ? MULTIPLELEFT : SINGLE)}\r\n              {isRange && !isResp && this.renderDateInner(MULTIPLERIGHT)}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nDateInner.defaultProps = {\r\n  startValue: null,\r\n  endValue: null,\r\n  inputWidth: 0,\r\n  offsetDays: 0,\r\n};\r\n\r\nDateInner.propTypes = {\r\n  isOpened: PropTypes.bool.isRequired,\r\n  isRange: PropTypes.bool.isRequired,\r\n  currDisplayDate: PropTypes.instanceOf(Date).isRequired,\r\n  startValue: PropTypes.instanceOf(Date),\r\n  endValue: PropTypes.instanceOf(Date),\r\n  dateRangeStart: PropTypes.instanceOf(Date).isRequired,\r\n  dateRangeEnd: PropTypes.instanceOf(Date).isRequired,\r\n  setSelectedDate: PropTypes.func.isRequired,\r\n  setNewDisplayDate: PropTypes.func.isRequired,\r\n  isArrowUp: PropTypes.bool.isRequired,\r\n  isSelectingStartDate: PropTypes.bool.isRequired,\r\n  inputWidth: PropTypes.number,\r\n  isResp: PropTypes.bool.isRequired,\r\n  offsetDays: PropTypes.number,\r\n};\r\n\r\nexport default DateInner;\r\n","/**\r\n * DatePickerV2.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport document from 'global/document';\r\nimport window from 'global/window';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { Input } from 'reactstrap';\r\nimport ReactDOM from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\n\r\nimport Arrow from 'assets/images/forms/arrow.svg';\r\nimport DateIn from 'assets/images/forms/dateIn.svg';\r\nimport DateOut from 'assets/images/forms/dateOut.svg';\r\n\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\nimport DateInner from './DateInner/DateInner';\r\n\r\nimport { deafultYearRange } from './DatePicker.constants';\r\n\r\nimport {\r\n  isDateEqual,\r\n  // storeStringToDate,\r\n  slashedStringDateToDate,\r\n  dateToString,\r\n  // dateToStoreString,\r\n} from '../../../lib/dateFunctions';\r\n\r\nimport '../DropDown/DropDown.scss';\r\nimport './DatePicker.scss';\r\n\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass DatePicker extends Component {\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {object} props Component props\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // size - Size of this control\r\n    // startDate - Start range of date\r\n    // endDate - End range of date\r\n    // currDisplayDate - Day to set current view in calender (Default to today)\r\n    const {\r\n      startDate,\r\n      endDate,\r\n      startValue,\r\n    } = this.props;\r\n\r\n    // Get current date\r\n    const date = startValue || new Date();\r\n    const year = date.getFullYear();\r\n    const month = date.getMonth();\r\n    // Get first and last day of the month to display\r\n    const firstDay = new Date(year, month, 1);\r\n    const lastDay = new Date(year, month + 1, 0);\r\n    // Get the calender range\r\n    const dateRangeStart = startDate != null ? startDate : new Date(year - deafultYearRange, month);\r\n    const dateRangeEnd = endDate != null ? endDate : new Date(year + deafultYearRange, month);\r\n\r\n    // isOpened - Whether dropdown is opened\r\n    // isError - Whether there is input error\r\n    // selectedString - The selected date string\r\n    // currDisplayDate - Current selected date in view\r\n    // currFirstDay - Current first day of the month in view\r\n    // currLastDay - Current last day of the month in view\r\n    // monthDropdownOpen - Whether month selector is opened\r\n    // yearDropdownOpen - Whether year selector is opened\r\n    // dateRangeStart - The actual calender start range\r\n    // dateRangeEnd - The actual calender end range\r\n    this.state = {\r\n      isOpened: false,\r\n      currDisplayDate: date,\r\n      currFirstDay: firstDay,\r\n      currLastDay: lastDay,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      isArrowUp: false,\r\n      startDateString: '',\r\n      endDateString: '',\r\n      isSelectingStartDate: true,\r\n      inputWidth: 0,\r\n      isResp: false,\r\n    };\r\n\r\n    this.handleSelectClick = this.handleSelectClick.bind(this);\r\n    this.handleClickOutside = this.handleClickOutside.bind(this);\r\n\r\n    this.handleKeyPress = this.handleKeyPress.bind(this);\r\n    this.handleExit = this.handleExit.bind(this);\r\n\r\n    this.setSelectedDate = this.setSelectedDate.bind(this);\r\n    this.setNewDisplayDate = this.setNewDisplayDate.bind(this);\r\n    this.onMovement = this.onMovement.bind(this);\r\n\r\n    this.renderInputs = this.renderInputs.bind(this);\r\n    this.renderInner = this.renderInner.bind(this);\r\n\r\n    this.dateValidateAndUpdate = this.dateValidateAndUpdate.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentDidMount\r\n   */\r\n  componentDidMount() {\r\n    // Add Handler to handle click outside of screen\r\n    document.addEventListener('mousedown', this.handleClickOutside);\r\n    window.addEventListener('scroll', this.onMovement);\r\n    window.addEventListener('resize', this.onMovement);\r\n\r\n    const {\r\n      startValue,\r\n      endValue,\r\n    } = this.props;\r\n\r\n    if (startValue) {\r\n      this.setSelectedDate(startValue, true);\r\n    }\r\n\r\n    if (endValue) {\r\n      this.setSelectedDate(endValue < startValue ? startValue : endValue, false);\r\n    }\r\n\r\n    this.setState({\r\n      dateInnerDOM: ReactDOM.findDOMNode(this.dateInner),\r\n      datePickerDOM: ReactDOM.findDOMNode(this.wrapperRef),\r\n    });\r\n\r\n    this.onMovement();\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentDidUpdate\r\n   *\r\n   * Used to update dropdown position\r\n   * of month and year selector\r\n   */\r\n  async componentDidUpdate(prevProps) {\r\n    const {\r\n      startValue,\r\n      endValue,\r\n    } = this.props;\r\n\r\n    if (\r\n      ((prevProps.startValue || startValue) && !isDateEqual(prevProps.startValue, startValue)) ||\r\n      ((prevProps.endValue || endValue) && !isDateEqual(prevProps.endValue, endValue))\r\n    ) {\r\n      const updateData = this.dateValidateAndUpdate();\r\n\r\n      this.setState({\r\n        startDateString: updateData.startDateString === 'Invalid Date' ? '' : updateData.startDateString,\r\n        endDateString: updateData.endDateString === 'Invalid Date' ? '' : updateData.endDateString,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentWillUnmount\r\n   */\r\n  componentWillUnmount() {\r\n    // Remove Handler to handle click outside of screen\r\n    document.removeEventListener('mousedown', this.handleClickOutside);\r\n    window.removeEventListener('scroll', this.onMovement);\r\n    window.removeEventListener('resize', this.onMovement);\r\n  }\r\n\r\n\r\n  // Make sure that the popup is always in the window\r\n  onMovement() {\r\n    const {\r\n      dateInnerDOM,\r\n      datePickerDOM,\r\n      isOpened,\r\n      isResp,\r\n    } = this.state;\r\n\r\n    const { innerWidth } = window;\r\n\r\n    if (isOpened) {\r\n      const newState = {};\r\n      let clientRect = null;\r\n      const currIsResp = innerWidth < 576;\r\n\r\n      if (dateInnerDOM && datePickerDOM) {\r\n        let top = 56;\r\n        let left = 0;\r\n        let right = 0;\r\n        if (!currIsResp) {\r\n          clientRect = datePickerDOM.getBoundingClientRect();\r\n          const isOverHeight = !currIsResp && clientRect.bottom + 540 > window.outerHeight;\r\n          newState.isArrowUp = !isOverHeight;\r\n\r\n          const isOverFlow = clientRect.left + 530 > window.innerWidth;\r\n          left = isOverFlow ? `${window.innerWidth - 530}px` : `${clientRect.left}px`;\r\n          top = !currIsResp && isOverHeight ? clientRect.top - 330 : clientRect.bottom + 10;\r\n          right = '';\r\n        }\r\n\r\n        dateInnerDOM.style.left = left;\r\n        dateInnerDOM.style.right = right;\r\n        dateInnerDOM.style.top = `${top}px`;\r\n        newState.inputWidth = this.wrapperRef.getBoundingClientRect().width;\r\n      }\r\n\r\n      if ((isResp && !currIsResp) || (!isResp && currIsResp)) {\r\n        newState.isResp = currIsResp;\r\n      }\r\n\r\n      this.setState(newState);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * setNewDisplayDate\r\n   *\r\n   * Set new current date and\r\n   * start and end of calender\r\n   *\r\n   * @param {date} date\r\n   */\r\n  setNewDisplayDate(date) {\r\n    const dateToUse = date || new Date();\r\n    const newYear = dateToUse.getFullYear();\r\n    const newMonth = dateToUse.getMonth();\r\n\r\n    // Get first and last day of visible month\r\n    const firstDay = new Date(newYear, newMonth, 1);\r\n    const lastDay = new Date(newYear, newMonth + 1, 0);\r\n\r\n    // Set new calender values\r\n    this.setState({\r\n      currDisplayDate: dateToUse,\r\n      currFirstDay: firstDay,\r\n      currLastDay: lastDay,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * setSelectedDate\r\n   *\r\n   * Updated selected date to store\r\n   *\r\n   * @param {date} date\r\n   */\r\n  async setSelectedDate(date, isStart = true) {\r\n    return new Promise(async (resolve) => {\r\n      try {\r\n        const updateData = this.dateValidateAndUpdate(isStart && date, !isStart && date);\r\n\r\n        if (updateData) {\r\n          if (isStart && updateData.currStartValue) {\r\n            this.setNewDisplayDate(updateData.currStartValue);\r\n          }\r\n        }\r\n\r\n        this.setState({\r\n          isOpened: !!(updateData && updateData.isChooseEndDate),\r\n          isSelectingStartDate: false,\r\n          startDateString: updateData.startDateString,\r\n          endDateString: updateData.endDateString,\r\n        }, resolve);\r\n      } catch (error) {\r\n        // eslint-disable-next-line\r\n        resolve();\r\n      }\r\n    });\r\n  }\r\n\r\n  getDateFromDateString(dateString) {\r\n    try {\r\n      let date = slashedStringDateToDate(dateString);\r\n      if (date && date.toString() === 'Invalid Date') {\r\n        date = moment(dateString).toDate();\r\n      }\r\n\r\n      return date;\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return 'Invalid Date';\r\n  }\r\n\r\n  /**\r\n   * End selection if click on outside\r\n   *\r\n   * @param {object} event\r\n   */\r\n  handleClickOutside(event) {\r\n    const { isOpened, dateInnerDOM } = this.state;\r\n\r\n    // If clicked outside of daterpicekr Inner or wrapper, go to exit\r\n    if (\r\n      isOpened &&\r\n      this.wrapperRef &&\r\n      !this.wrapperRef.contains(event.target) &&\r\n      dateInnerDOM &&\r\n      !dateInnerDOM.contains(event.target)\r\n    ) {\r\n      this.setState({\r\n        isOpened: false,\r\n      });\r\n\r\n      this.handleExit();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * handleKeyPress\r\n   *\r\n   * Handle on enter key\r\n   *\r\n   * @param {object} target\r\n   */\r\n  handleKeyPress(target) {\r\n    // If pressed on enter, go to exit\r\n    if (target.charCode === 13) {\r\n      target.preventDefault();\r\n      this.handleExit();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * handleSelectClick\r\n   *\r\n   * Handle toggling of datepicker\r\n   */\r\n  handleSelectClick(isStart = true) {\r\n    const {\r\n      isOpened,\r\n      isSelectingStartDate,\r\n    } = this.state;\r\n\r\n    const {\r\n      startValue,\r\n      endValue,\r\n      isRange,\r\n    } = this.props;\r\n\r\n    let openStartDateString = {};\r\n    let openEndDateString = {};\r\n\r\n    if (!isOpened) {\r\n      openStartDateString = { startDateString: startValue && dateToString(startValue) };\r\n      openEndDateString = { endDateString: endValue && dateToString(endValue) };\r\n    }\r\n\r\n    this.setState({\r\n      isOpened: ((isSelectingStartDate && !isStart) || (!isSelectingStartDate && isStart) || !isOpened),\r\n      isSelectingStartDate: isStart,\r\n      ...openStartDateString,\r\n      ...openEndDateString,\r\n    }, () => {\r\n      if (this.state.isOpened) {\r\n        this.onMovement();\r\n        this.setNewDisplayDate(this.state.isSelectingStartDate ? startValue : endValue);\r\n        return;\r\n      }\r\n\r\n      const {\r\n        startDateString: closeStartDateString,\r\n        endDateString: closeEndDateString,\r\n      } = this.state;\r\n\r\n      const startDate = this.getDateFromDateString(closeStartDateString);\r\n      const endDate = isRange && this.getDateFromDateString(closeEndDateString);\r\n\r\n      const updateData = this.dateValidateAndUpdate(startDate, endDate);\r\n\r\n      this.setState({\r\n        startDateString: updateData.startDateString,\r\n        endDateString: updateData.endDateString,\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * handleExit\r\n   *\r\n   * Handle exit selection of entered input\r\n   */\r\n  handleExit(newDate, isStart) {\r\n    const {\r\n      startDateString,\r\n      endDateString,\r\n    } = this.state;\r\n\r\n    const {\r\n      endName,\r\n    } = this.props;\r\n\r\n    let startDate = isStart && newDate;\r\n    let endDate = !isStart && endName && newDate;\r\n\r\n    try {\r\n      if (!startDate) {\r\n        startDate = this.getDateFromDateString(startDateString);\r\n      }\r\n      if (endName && !endDate) {\r\n        endDate = this.getDateFromDateString(endDateString);\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    const updateData = this.dateValidateAndUpdate(startDate, endDate);\r\n\r\n    if (updateData) {\r\n      this.setState({\r\n        isOpened: false,\r\n        isSelectingStartDate: false,\r\n        startDateString: updateData.startDateString,\r\n        endDateString: updateData.endDateString,\r\n      });\r\n    }\r\n  }\r\n\r\n  dateValidateAndUpdate(newStartValue = null, newEndValue = null) {\r\n    const { dateRangeStart, dateRangeEnd } = this.state;\r\n    const {\r\n      startValue,\r\n      endValue,\r\n      offsetDays,\r\n      isRange,\r\n      onChange,\r\n      name,\r\n      endName,\r\n    } = this.props;\r\n\r\n    // Whether need user to choose new end date\r\n    let isChooseEndDate = false;\r\n\r\n    // Check if inputs are invalid dates\r\n    const isNewStartInvalid = newStartValue && newStartValue.toString() === 'Invalid Date';\r\n    const isNewEndInvalid = newEndValue && newEndValue.toString() === 'Invalid Date';\r\n\r\n    // Get new or existing dates\r\n    const startValueToUse = isNewStartInvalid ? null : ((!isNewStartInvalid && newStartValue) || startValue);\r\n    const endValueToUse = isNewEndInvalid ? null : ((!isNewEndInvalid && newEndValue) || endValue);\r\n\r\n    // Dates to be modified later\r\n    let currStartValue = startValueToUse;\r\n    let currEndValue = endValueToUse;\r\n\r\n    // The date string for the input field\r\n    let startDateString = 'Invalid Date';\r\n    let endDateString = 'Invalid Date';\r\n\r\n    try {\r\n      // Choose end date if is range picker and have new start but no end value\r\n      isChooseEndDate = isRange && newStartValue && !endValue;\r\n\r\n      // For range only\r\n      if (isRange) {\r\n        // The max date is end range + 181 days\r\n        const trueMaxEnd = dateRangeEnd && moment(dateRangeEnd).add(offsetDays, 'days').toDate();\r\n        // Max curr date is current start date + 181\r\n        const currMaxEnd = startValueToUse && moment(startValueToUse).add(offsetDays, 'days').toDate();\r\n        // Get the smallest end date\r\n        const maxEnd = currMaxEnd < trueMaxEnd ? currMaxEnd : trueMaxEnd;\r\n\r\n        // If selected new start date is greater than end date,\r\n        // make end date to be 1 day after new start date\r\n        // and let user choose end date again\r\n        if (newStartValue && startValueToUse > endValueToUse) {\r\n          currEndValue = moment(startValueToUse).add(1, 'days').toDate();\r\n          isChooseEndDate = true;\r\n        }\r\n\r\n        // If selected new end date is less than start date,\r\n        // swap both dates\r\n        // and let user choose end date again\r\n        if (newEndValue && startValueToUse > endValueToUse) {\r\n          currStartValue = endValueToUse;\r\n          currEndValue = startValueToUse;\r\n          isChooseEndDate = true;\r\n        }\r\n\r\n        // If end date is less than start range, make it to start range\r\n        if (currEndValue && currEndValue < dateRangeStart) {\r\n          currEndValue = dateRangeStart;\r\n        }\r\n\r\n        // If start date is greater than end range, make it to end range\r\n        if (currStartValue && currStartValue > maxEnd) {\r\n          currStartValue = maxEnd;\r\n        }\r\n\r\n        // If end date is more than end range, make it to end range\r\n        if (currEndValue && currEndValue > maxEnd) {\r\n          currEndValue = maxEnd;\r\n        }\r\n\r\n        // if new end date is diff from state, update it\r\n        if (!isDateEqual(endValue, currEndValue)) {\r\n          onChange('date', endName, currEndValue);\r\n        }\r\n      }\r\n\r\n      // If start date is less than start range, make it to start range\r\n      if (currStartValue && currStartValue < dateRangeStart) {\r\n        currStartValue = dateRangeStart;\r\n      }\r\n\r\n      // If start date is greater than end range, make it to end range\r\n      // No need max end as start date need to be within end range\r\n      if (currStartValue && currStartValue > dateRangeEnd) {\r\n        currStartValue = dateRangeEnd;\r\n      }\r\n\r\n      // if new start date is diff from state, update it\r\n      if (!isDateEqual(startValue, currStartValue)) {\r\n        onChange('date', name, currStartValue);\r\n      }\r\n\r\n      // Get new input strings\r\n      startDateString = currStartValue ? moment(currStartValue).format('DD MMM YYYY') : startDateString;\r\n      endDateString = currEndValue ? moment(currEndValue).format('DD MMM YYYY') : startDateString;\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return {\r\n      isChooseEndDate,\r\n      currEndValue,\r\n      currStartValue,\r\n      startDateString,\r\n      endDateString,\r\n    };\r\n  }\r\n\r\n  renderDropDownArrow() {\r\n    const { isOpened } = this.state;\r\n\r\n    return (\r\n      <button\r\n        type=\"button\"\r\n        className=\"selected-arrow\"\r\n        onMouseDown={this.handleSelectClick}\r\n      >\r\n        <img\r\n          src={Arrow}\r\n          alt=\"arrow.svg\"\r\n          className={`selected-arrow-style ${isOpened ? 'angle-up' : 'angle-down'}`}\r\n        />\r\n      </button>\r\n    );\r\n  }\r\n\r\n  renderInputField(isStart) {\r\n    const {\r\n      startDateString,\r\n      endDateString,\r\n      isSelectingStartDate,\r\n      isOpened,\r\n    } = this.state;\r\n\r\n    const {\r\n      name,\r\n      endName,\r\n      isDisableTyping,\r\n      placeholderString,\r\n      noInternalDesc,\r\n      isRange,\r\n    } = this.props;\r\n\r\n    const rangeStyle = isRange ? 'range-style' : '';\r\n    let selectingDateStyle = '';\r\n    if (isOpened && isRange) {\r\n      selectingDateStyle = (isSelectingStartDate && isStart) || (!isSelectingStartDate && !isStart) ? 'faded-style' : '';\r\n    }\r\n\r\n    const displayValue = isStart ? startDateString : endDateString;\r\n    const nameToUse = isStart ? name : endName;\r\n\r\n    return (\r\n      <button\r\n        type=\"button\"\r\n        className={`selected-text text-style ${rangeStyle} ${selectingDateStyle}`}\r\n        onKeyPress={this.handleKeyPress}\r\n        onMouseDown={(e) => {\r\n          if (window.innerWidth <= 576) {\r\n            e.preventDefault();\r\n          }\r\n          this.handleSelectClick(isStart);\r\n        }}\r\n      >\r\n        <Input\r\n          value={displayValue || ''}\r\n          name={nameToUse}\r\n          onChange={e => this.setState({\r\n            [isStart ? 'startDateString' : 'endDateString']: e.target.value,\r\n          })}\r\n          placeholder={noInternalDesc ? placeholderString : ''}\r\n          autoComplete=\"off\"\r\n          disabled={isDisableTyping}\r\n        />\r\n      </button>\r\n    );\r\n  }\r\n\r\n  renderInputs() {\r\n    const {\r\n      isRange,\r\n    } = this.props;\r\n\r\n    if (!isRange) {\r\n      return (\r\n        <Fragment>\r\n          {this.renderInputField(true)}\r\n          {this.renderDropDownArrow()}\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        <div className=\"date-input-container\">\r\n          <div className=\"img-container\">\r\n            <img\r\n              className=\"date-in\"\r\n              src={DateIn}\r\n              alt=\"Date Range Icon\"\r\n            />\r\n          </div>\r\n          {this.renderInputField(true)}\r\n        </div>\r\n        <div className=\"seperator\" />\r\n        <div className=\"date-input-container\">\r\n          <div className=\"img-container\">\r\n            <img\r\n              className=\"date-out\"\r\n              src={DateOut}\r\n              alt=\"Date Range Icon\"\r\n            />\r\n          </div>\r\n          {this.renderInputField(false)}\r\n        </div>\r\n        {this.renderDropDownArrow()}\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderPopup() {\r\n    const {\r\n      isOpened,\r\n      currDisplayDate,\r\n      currFirstDay,\r\n      currLastDay,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      isArrowUp,\r\n      isSelectingStartDate,\r\n      inputWidth,\r\n      isResp,\r\n    } = this.state;\r\n\r\n    const {\r\n      isRange,\r\n      startValue,\r\n      endValue,\r\n      offsetDays,\r\n    } = this.props;\r\n\r\n\r\n    return (\r\n      <DateInner\r\n        ref={node => this.dateInner = node}\r\n        isOpened={!!isOpened}\r\n        isRange={isRange}\r\n        currDisplayDate={currDisplayDate}\r\n        currFirstDay={currFirstDay}\r\n        currLastDay={currLastDay}\r\n        startValue={startValue}\r\n        endValue={endValue}\r\n        dateRangeStart={dateRangeStart}\r\n        dateRangeEnd={dateRangeEnd}\r\n        setSelectedDate={this.setSelectedDate}\r\n        setNewDisplayDate={this.setNewDisplayDate}\r\n        isArrowUp={isArrowUp}\r\n        isSelectingStartDate={!!isSelectingStartDate}\r\n        inputWidth={inputWidth}\r\n        isResp={isResp}\r\n        offsetDays={offsetDays}\r\n      />\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Render component\r\n   */\r\n  renderInner() {\r\n    const { isOpened } = this.state;\r\n\r\n    const {\r\n      errorString,\r\n      placeholderString,\r\n      noInternalDesc,\r\n      startValue,\r\n    } = this.props;\r\n\r\n    const dropDownOpenStyle = isOpened ? 'dropdown-container-opened' : 'dropdown-container-closed';\r\n    const isErrorStyle = errorString ? 'error' : '';\r\n    const titleStyle = startValue ? 'focused-title' : '';\r\n    const noInternalDescStyle = noInternalDesc ? 'no-internal-desc' : '';\r\n\r\n    return (\r\n      <div\r\n        className={`dropdown-container-v3 datepicker-container-v3 ${noInternalDescStyle}`}\r\n        ref={node => (this.wrapperRef = node)}\r\n      >\r\n        <div className={`dropdown-container ${dropDownOpenStyle}  ${isErrorStyle}`}>\r\n          {\r\n            noInternalDesc ? null :\r\n            <div className={`title-header ${titleStyle}`}>\r\n              {placeholderString}\r\n            </div>\r\n          }\r\n          <div className=\"selected-container align-items-center\">\r\n            {this.renderInputs()}\r\n          </div>\r\n        </div>\r\n        {this.renderPopup()}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Render component\r\n   */\r\n  render() {\r\n    const {\r\n      isRange,\r\n      desc,\r\n      extraInfo,\r\n      errorString,\r\n    } = this.props;\r\n\r\n    // Range picker will take over the wrapper\r\n    if (!isRange) {\r\n      return (\r\n        <FormInputWrapper\r\n          desc={desc}\r\n          extraInfo={extraInfo}\r\n          errorString={errorString}\r\n        >\r\n          {this.renderInner()}\r\n        </FormInputWrapper>\r\n      );\r\n    }\r\n\r\n    return this.renderInner();\r\n  }\r\n}\r\n\r\nDatePicker.defaultProps = {\r\n  isRange: false,\r\n  startDate: null,\r\n  endDate: null,\r\n  desc: null,\r\n  extraInfo: null,\r\n  errorString: null,\r\n  noInternalDesc: false,\r\n  isDisableTyping: false,\r\n  endName: null,\r\n  placeholderString: null,\r\n  startValue: null,\r\n  endValue: null,\r\n  offsetDays: 0,\r\n};\r\n\r\nDatePicker.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  endName: PropTypes.string,\r\n  isRange: PropTypes.bool,\r\n  startDate: PropTypes.instanceOf(Date),\r\n  endDate: PropTypes.instanceOf(Date),\r\n  desc: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  errorString: PropTypes.string,\r\n  isDisableTyping: PropTypes.bool,\r\n  noInternalDesc: PropTypes.bool,\r\n  onChange: PropTypes.func.isRequired,\r\n  placeholderString: PropTypes.string,\r\n  startValue: PropTypes.instanceOf(Date),\r\n  endValue: PropTypes.instanceOf(Date),\r\n  offsetDays: PropTypes.number,\r\n};\r\n\r\nexport default DatePicker;\r\n","/**\r\n * DatePicker.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport DatePicker from '../DatePicker/DatePicker';\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass DateRangePicker extends Component {\r\n  render() {\r\n    const {\r\n      values,\r\n      onChange,\r\n      desc,\r\n      extraInfo,\r\n      startName,\r\n      endName,\r\n      startDate,\r\n      endDate,\r\n      errorStringStart,\r\n      errorStringEnd,\r\n      offsetDays,\r\n    } = this.props;\r\n\r\n    const errorString = (errorStringStart || errorStringEnd) && `${`${errorStringStart} ` || ''}${errorStringEnd || ''}`;\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        desc={desc}\r\n        extraInfo={extraInfo}\r\n        errorString={errorString}\r\n        isDateRange\r\n      >\r\n        <div className=\"date-range-picker-new\">\r\n          <DatePicker\r\n            startValue={values && values[startName] && values[startName].value}\r\n            endValue={values && values[endName] && values[endName].value}\r\n            onChange={onChange}\r\n            name={startName}\r\n            endName={endName}\r\n            isRange\r\n            startDate={startDate}\r\n            endDate={endDate}\r\n            errorString={errorString}\r\n            offsetDays={offsetDays}\r\n          />\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nDateRangePicker.defaultProps = {\r\n  desc: null,\r\n  extraInfo: null,\r\n  startDate: null,\r\n  endDate: null,\r\n  errorStringStart: null,\r\n  errorStringEnd: null,\r\n  values: null,\r\n  offsetDays: 0,\r\n};\r\n\r\nDateRangePicker.propTypes = {\r\n  onChange: PropTypes.func.isRequired,\r\n  startName: PropTypes.string.isRequired,\r\n  endName: PropTypes.string.isRequired,\r\n  desc: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  startDate: PropTypes.instanceOf(Date),\r\n  endDate: PropTypes.instanceOf(Date),\r\n  errorStringStart: PropTypes.string,\r\n  errorStringEnd: PropTypes.string,\r\n  values: PropTypes.object,\r\n  offsetDays: PropTypes.number,\r\n};\r\n\r\nexport default DateRangePicker;\r\n","/**\r\n * DropDown.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Tooltip from 'components/Templates/Tooltip/Tooltip';\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport './ImageSelection.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass ImageSelection extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      clickStyle: 'click-right',\r\n    };\r\n  }\r\n\r\n  handleOnClick(value) {\r\n    try {\r\n      const {\r\n        onChange,\r\n        name,\r\n        value: oldValue,\r\n        inputData,\r\n      } = this.props;\r\n\r\n      const newValue = inputData.is_required === false && value === oldValue ? null : value;\r\n      onChange(inputData.type, name, newValue);\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n  }\r\n\r\n  renderTitle() {\r\n    const { inputData } = this.props;\r\n\r\n    if (!inputData.title && !inputData.tooltip) {\r\n      return null;\r\n    }\r\n\r\n    try {\r\n      return (\r\n        <div className=\"title-container\">\r\n          <h3>{inputData.title}</h3>\r\n          {\r\n            inputData.tooltip &&\r\n            <Tooltip\r\n              id={inputData.slug}\r\n            >\r\n              <p>{inputData.tooltip}</p>\r\n            </Tooltip>\r\n          }\r\n        </div>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderItem(itemData, index, isTooltip) {\r\n    const { clickStyle } = this.state;\r\n    const { inputData, value } = this.props;\r\n\r\n    try {\r\n      const isSelected = (inputData.is_required && !value && index === 0) || (value && value === itemData.value);\r\n      const key = `${inputData.slug}-option-${index}`;\r\n\r\n      return (\r\n        <Col\r\n          key={key}\r\n          xs={6}\r\n          className=\"item-container-wrapper\"\r\n        >\r\n          <div className=\"item-container-wrapper-inner\">\r\n            <button\r\n              type=\"button\"\r\n              className={`item-container ${isSelected && 'selected'} ${clickStyle}`}\r\n              onClick={() => {\r\n                this.setState({\r\n                  clickStyle: index % 2 === 0 ? 'click-left' : 'click-right',\r\n                }, () => this.handleOnClick(itemData.value));\r\n              }}\r\n            >\r\n              <div className={`bg ${isSelected && 'bg-active'}`} />\r\n              <div className=\"image\">\r\n                <img src={itemData.icon_img} alt={`${key}.svg`} />\r\n              </div>\r\n            </button>\r\n            <div className=\"item-container-bottom\">\r\n              {\r\n                isTooltip &&\r\n                <div className=\"inner-tooltip\">\r\n                  {\r\n                    itemData.tooltip &&\r\n                    <Tooltip\r\n                      id={key}\r\n                    >\r\n                      <p>{itemData.tooltip}</p>\r\n                    </Tooltip>\r\n                  }\r\n                </div>\r\n              }\r\n              <div className={['desc', isTooltip ? 'desc-padding' : ''].join(' ')}>\r\n                <p>{itemData.title}</p>\r\n                <p className=\"sub-title\">{itemData.sub_title}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderOptions() {\r\n    const { inputData } = this.props;\r\n\r\n    try {\r\n      const isTooltip = _.find(inputData.options, option => option && option.tooltip);\r\n\r\n      return _.map(inputData.options, (option, index) => this.renderItem(option, index, isTooltip));\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const { inputData, errorString, extraInfo } = this.props;\r\n\r\n    if (!inputData) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        className=\"image-selection-margin\"\r\n        errorString={errorString}\r\n        extraInfo={extraInfo}\r\n      >\r\n        <div className=\"image-selection-container\">\r\n          {this.renderTitle()}\r\n          <Row className=\"options-container\" noGutters>\r\n            {this.renderOptions()}\r\n          </Row>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nImageSelection.defaultProps = {\r\n  value: null,\r\n  errorString: null,\r\n  extraInfo: null,\r\n};\r\n\r\n\r\nImageSelection.propTypes = {\r\n  value: PropTypes.string,\r\n  inputData: PropTypes.object.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  errorString: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n};\r\n\r\nexport default ImageSelection;\r\n","/**\r\n * DropDown.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Row, Col, Input } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './AgeGroupItem.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass AgeGroupItem extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleExit = this.handleExit.bind(this);\r\n  }\r\n\r\n  handleExit(e, isBlur) {\r\n    const { generateNewFormData } = this.props;\r\n\r\n    if (isBlur || (!isBlur && e.charCode === 13)) {\r\n      generateNewFormData();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      name,\r\n      value,\r\n      title,\r\n      onChangeValue,\r\n    } = this.props;\r\n\r\n    if (!name) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Col className=\"mb-3\" xs={12} md={6} lg={6}>\r\n        <div className=\"age-group-item-container\">\r\n          <p className=\"title\">{title}</p>\r\n          <Row className=\"selector\" noGutters>\r\n            <Col className=\"d-flex justify-content-center align-items-center\" xs={12}>\r\n              <Input\r\n                className=\"age-group-input\"\r\n                type=\"number\"\r\n                value={value || ''}\r\n                onChange={e => onChangeValue(name, e.target.value && Math.max(0, Math.floor(e.target.value)))}\r\n                onBlur={e => this.handleExit(e, true)}\r\n                onKeyPress={e => this.handleExit(e, false)}\r\n                placeholder=\"Enter number\"\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nAgeGroupItem.defaultProps = {\r\n  value: null,\r\n};\r\n\r\n\r\nAgeGroupItem.propTypes = {\r\n  value: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.number,\r\n  ]),\r\n  name: PropTypes.string.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  onChangeValue: PropTypes.func.isRequired,\r\n  generateNewFormData: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AgeGroupItem;\r\n","/**\r\n * DropDown.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport AgeGroupItem from './AgeGroupItem/AgeGroupItem';\r\n\r\nimport './AgeGroup.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass AgeGroup extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { inputData, value } = this.props;\r\n    let values = [];\r\n\r\n    try {\r\n      values = _.reduce(inputData.options, (result, v) => {\r\n        const originalData = _.find(value, vo => vo.value === v.value);\r\n\r\n        result.push({\r\n          key: v.value,\r\n          title: v.title,\r\n          value: (originalData && originalData.count) || null,\r\n        });\r\n        return result;\r\n      }, []);\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    this.state = {\r\n      values,\r\n      count: 0,\r\n    };\r\n\r\n    this.onChangeValue = this.onChangeValue.bind(this);\r\n\r\n    this.getTotalCount = this.getTotalCount.bind(this);\r\n    this.generateNewFormData = this.generateNewFormData.bind(this);\r\n  }\r\n\r\n  // Update form values on change\r\n  onChangeValue(key, value) {\r\n    const { values } = this.state;\r\n\r\n    try {\r\n      const newValue = [...values];\r\n      const group = _.find(newValue, v => v.key === key);\r\n\r\n      if (group) {\r\n        group.value = value;\r\n        this.setState({\r\n          values: newValue,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n  }\r\n\r\n  getTotalCount() {\r\n    const { values } = this.state;\r\n\r\n    try {\r\n      return _.reduce(values, (result, v) => {\r\n        if (v.value > 0) {\r\n          return result + v.value;\r\n        }\r\n\r\n        return result;\r\n      }, 0);\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return 0;\r\n  }\r\n\r\n  async generateNewFormData() {\r\n    const { values } = this.state;\r\n    const { onChange, name } = this.props;\r\n\r\n    try {\r\n      let count = 0;\r\n      const newData = _.reduce(values, (result, v) => {\r\n        if (v.value > 0) {\r\n          count += v.value;\r\n          result.push({\r\n            value: v.key,\r\n            count: v.value,\r\n          });\r\n        }\r\n\r\n        return result;\r\n      }, []);\r\n\r\n      this.setState({\r\n        count: this.getTotalCount(),\r\n      });\r\n\r\n      await onChange('age_group', name, newData);\r\n      await onChange('number', 'no_of_employees', count);\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return 0;\r\n  }\r\n\r\n  renderHeader() {\r\n    const { count } = this.state;\r\n    const { inputData } = this.props;\r\n\r\n    try {\r\n      return (\r\n        <Row className=\"title-container\" noGutters>\r\n          <Col className=\"d-none d-md-flex\" md={{ size: 4, order: 1 }} />\r\n          <Col md={{ size: 4, order: 2 }} xs={{ size: 12, order: 2 }}>\r\n            <h3>{inputData.title}</h3>\r\n          </Col>\r\n          <Col md={{ size: 4, order: 3 }} xs={{ size: 12, order: 4 }}>\r\n            <p className=\"employees\">{count} employees assigned</p>\r\n          </Col>\r\n          <Col md={{ size: 12, order: 4 }} xs={{ size: 12, order: 3 }}>\r\n            <h6>{'Employee’s age for upcoming birthday\\n(Current age + 1)'}</h6>\r\n          </Col>\r\n        </Row>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderAgeGroupItems() {\r\n    const { values } = this.state;\r\n    const { inputData } = this.props;\r\n\r\n    try {\r\n      return (_.reduce(values, (result, group, key) => {\r\n        result.push((\r\n          <AgeGroupItem\r\n            key={`age-group-${inputData.slug}-${key}`}\r\n            name={group.key}\r\n            value={group.value}\r\n            title={group.title}\r\n            onChangeValue={this.onChangeValue}\r\n            generateNewFormData={this.generateNewFormData}\r\n          />\r\n        ));\r\n\r\n        return result;\r\n      }, []));\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n  render() {\r\n    const { inputData, errorString, extraInfo } = this.props;\r\n\r\n    if (!inputData) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        errorString={errorString}\r\n        className=\"age-group-margin\"\r\n        extraInfo={extraInfo}\r\n      >\r\n        <div className=\"age-group-container\">\r\n          {this.renderHeader()}\r\n          <Row className=\"options-container\">\r\n            {this.renderAgeGroupItems()}\r\n          </Row>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nAgeGroup.defaultProps = {\r\n  value: null,\r\n  errorString: null,\r\n  extraInfo: null,\r\n};\r\n\r\n\r\nAgeGroup.propTypes = {\r\n  value: PropTypes.array,\r\n  inputData: PropTypes.object.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  errorString: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n};\r\n\r\nexport default AgeGroup;\r\n","/**\r\n * DropDown.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport document from 'global/document';\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport People from 'assets/images/EditForm/People.svg';\r\nimport Arrow from '../../../assets/images/forms/arrow.svg';\r\n\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport './Persons.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass Persons extends Component {\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {object} props Component props\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // isOpened - Whether dropdown is opened\r\n    // listItems - The actual dropdown list\r\n    // selectedString - The selected item string\r\n    // height - Control height\r\n    // numItemsDisplay - How many items to display\r\n    // maxheight - Max height of the list\r\n    // listHeight - Height of the list. (Items count + control)\r\n    this.state = {\r\n      isOpened: null,\r\n    };\r\n\r\n    this.setError = this.setError.bind(this);\r\n    this.clearError = this.clearError.bind(this);\r\n    this.handleSelectClick = this.handleSelectClick.bind(this);\r\n    this.handleClickOutside = this.handleClickOutside.bind(this);\r\n\r\n    this.handleValue = this.handleValue.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Add Handler to handle click outside of screen\r\n    document.addEventListener('mousedown', this.handleClickOutside);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('mousedown', this.handleClickOutside);\r\n  }\r\n\r\n  setError(message) {\r\n    this.formParent.setErrorString(message);\r\n  }\r\n\r\n  clearError() {\r\n    this.formParent.clearErrorString();\r\n  }\r\n\r\n  /**\r\n   * End selection if click on outside\r\n   *\r\n   * @param {object} event\r\n   */\r\n  handleClickOutside(event) {\r\n    const { isOpened } = this.state;\r\n\r\n    // If clicked outside, go to exit\r\n    if (\r\n      isOpened &&\r\n      this.wrapperRef &&\r\n      this.wrapperRefControl &&\r\n      (!this.wrapperRef.contains(event.target) && !this.wrapperRefControl.contains(event.target))\r\n    ) {\r\n      // Close it\r\n      this.setState({\r\n        isOpened: false,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSelectClick() {\r\n    const { isOpened } = this.state;\r\n    this.setState({ isOpened: !isOpened });\r\n  }\r\n\r\n  async handleValue(event, name, isAdd) {\r\n    event.preventDefault();\r\n    const {\r\n      nameAdult,\r\n      nameChildren,\r\n      namePlanType,\r\n      nameTripType,\r\n      values,\r\n      onChange,\r\n    } = this.props;\r\n\r\n    const oldNumAdult = (values[nameAdult] && values[nameAdult].value) || 0;\r\n    const oldNumChildren = (values[nameChildren] && values[nameChildren].value) || 0;\r\n\r\n    let numAdult = oldNumAdult;\r\n    let numChildren = oldNumChildren;\r\n    const isSingleTrip = values[nameTripType] && values[nameTripType].value === 'Single Trip';\r\n\r\n    const minAdult = 1;\r\n    const maxAdult = isSingleTrip ? 20 : 2;\r\n    const minChildren = 0;\r\n    const maxChildren = 8;\r\n\r\n    if (name === nameAdult) {\r\n      numAdult = Math.min(Math.max(minAdult, numAdult + (isAdd ? 1 : -1)), maxAdult);\r\n    } else {\r\n      numChildren = Math.min(Math.max(minChildren, numChildren + (isAdd ? 1 : -1)), maxChildren);\r\n    }\r\n\r\n    if (numChildren > 0) {\r\n      numAdult = Math.min(Math.max(1, numAdult), 2);\r\n    }\r\n\r\n    if (oldNumAdult !== numAdult) {\r\n      await onChange('number', nameAdult, numAdult);\r\n    }\r\n    if (oldNumChildren !== numChildren) {\r\n      await onChange('number', nameChildren, numChildren);\r\n    }\r\n\r\n    const planType = values && values[namePlanType] && values[namePlanType].value;\r\n\r\n    if (numChildren > 0) {\r\n      if (planType !== 'Family') {\r\n        await onChange('text', namePlanType, 'Family');\r\n      }\r\n    } else if (numAdult > 1) {\r\n      if (planType !== 'Group') {\r\n        await onChange('text', namePlanType, 'Group');\r\n      }\r\n    } else if (planType !== 'Individual') {\r\n      await onChange('text', namePlanType, 'Individual');\r\n    }\r\n\r\n    const tripType = values && values[nameTripType] && values[nameTripType].value;\r\n    if (numAdult > 1 && numChildren === 0) {\r\n      if (tripType !== 'Single Trip') {\r\n        await onChange('selection', nameTripType, 'Single Trip');\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { isOpened } = this.state;\r\n\r\n    const {\r\n      desc,\r\n      extraInfo,\r\n      errorString,\r\n      nameAdult,\r\n      nameChildren,\r\n      values,\r\n      isPrex,\r\n    } = this.props;\r\n\r\n    const errorStyle = errorString ? 'error' : '';\r\n    const arrowStyle = isOpened ? 'angle-up' : 'angle-down';\r\n    let openedStyle = isOpened ? 'drop-container-opened' : 'drop-container-closed';\r\n    openedStyle = isOpened === null ? 'drop-container-closed-init' : openedStyle;\r\n\r\n    const numAdult = (values[nameAdult] && values[nameAdult].value) || 0;\r\n    const numChildren = (values[nameChildren] && values[nameChildren].value) || 0;\r\n\r\n    const zIndexStyle = isOpened ? 'drop-open' : 'drop-close';\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        desc={desc}\r\n        extraInfo={extraInfo}\r\n        errorString={errorString}\r\n      >\r\n        <div className=\"position-relative\">\r\n          <div\r\n            className={`persons-container ${errorStyle} ${zIndexStyle}`}\r\n            ref={node => this.wrapperRefControl = node}\r\n          >\r\n            <div className=\"img-container\">\r\n              <img\r\n                src={People}\r\n                alt=\"People.svg\"\r\n              />\r\n            </div>\r\n            <div\r\n              className=\"text-input\"\r\n              onClick={() => this.handleSelectClick()}\r\n              onKeyPress={() => {}}\r\n              role=\"button\"\r\n              tabIndex={-1}\r\n            >\r\n              <p>{numAdult} adult, {numChildren} children</p>\r\n            </div>\r\n            <div\r\n              className=\"drop-arrow\"\r\n              onClick={() => this.handleSelectClick()}\r\n              onKeyPress={() => {}}\r\n              role=\"button\"\r\n              tabIndex={-1}\r\n            >\r\n              <img\r\n                src={Arrow}\r\n                alt=\"arrow.svg\"\r\n                className={arrowStyle}\r\n              />\r\n            </div>\r\n            <div\r\n              className={`drop-container ${openedStyle}`}\r\n              ref={node => this.wrapperRef = node}\r\n            >\r\n              <div className=\"value-container\">\r\n                <button onClick={e => this.handleValue(e, nameAdult, false)}><div className=\"minus fa fa-minus\" /></button>\r\n                <p>\r\n                  <span className=\"count\">{numAdult}</span>\r\n                  <span className=\"desc\">adults</span>\r\n                </p>\r\n                <button onClick={e => this.handleValue(e, nameAdult, true)}><div className=\"plus fa fa-plus\" /></button>\r\n              </div>\r\n              <div className=\"value-container\">\r\n                {!isPrex && <button onClick={e => this.handleValue(e, nameChildren, false)}><div className=\"minus fa fa-minus\" /></button>}\r\n                <p>\r\n                  <span className=\"count\">{numChildren}</span>\r\n                  <span className=\"desc\">children</span>\r\n                </p>\r\n                {!isPrex && <button onClick={e => this.handleValue(e, nameChildren, true)}><div className=\"plus fa fa-plus\" /></button>}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nPersons.defaultProps = {\r\n  desc: null,\r\n  extraInfo: null,\r\n  errorString: null,\r\n  values: {},\r\n  isPrex: false,\r\n};\r\n\r\n\r\nPersons.propTypes = {\r\n  desc: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  errorString: PropTypes.string,\r\n  nameAdult: PropTypes.string.isRequired,\r\n  nameChildren: PropTypes.string.isRequired,\r\n  namePlanType: PropTypes.string.isRequired,\r\n  nameTripType: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  values: PropTypes.object,\r\n  isPrex: PropTypes.bool,\r\n};\r\n\r\nexport default Persons;\r\n","/**\r\n * DropDown.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Row, Col } from 'reactstrap';\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\n\r\nimport './Selection.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass Selection extends Component {\r\n  render() {\r\n    const {\r\n      name,\r\n      desc,\r\n      extraInfo,\r\n      errorString,\r\n      options,\r\n      onChange,\r\n      value,\r\n      size,\r\n    } = this.props;\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        desc={desc}\r\n        extraInfo={extraInfo}\r\n        errorString={errorString}\r\n      >\r\n        <div className=\"position-relative\">\r\n          <Row\r\n            className=\"selection-container-v3 w-100\"\r\n            noGutters\r\n          >\r\n            {\r\n              _.map(options, (option, index) => {\r\n                const selectedStyle = value === option.value ? 'selected' : '';\r\n\r\n                return (\r\n                  <Col\r\n                    xs={12}\r\n                    sm={size}\r\n                    key={`${option.value}-${index}`}\r\n                  >\r\n                    <button\r\n                      type=\"button\"\r\n                      className={selectedStyle}\r\n                      onClick={() => onChange('selection', name, option.value)}\r\n                    >\r\n                      {option.display_name}\r\n                    </button>\r\n                  </Col>\r\n                );\r\n              })\r\n            }\r\n          </Row>\r\n        </div>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nSelection.defaultProps = {\r\n  value: null,\r\n  desc: null,\r\n  extraInfo: null,\r\n  errorString: null,\r\n  size: 6,\r\n};\r\n\r\n\r\nSelection.propTypes = {\r\n  value: PropTypes.string,\r\n  name: PropTypes.string.isRequired,\r\n  desc: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  errorString: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  options: PropTypes.array.isRequired,\r\n  size: PropTypes.number,\r\n};\r\n\r\nexport default Selection;\r\n","/**\r\n * TravelDetail.js\r\n * Detail View for travel\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport window from 'global/window';\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport TextInput from './TextInput/TextInput';\r\nimport Dropdown from './DropDown/DropDown';\r\nimport Checkbox from './Checkbox/Checkbox';\r\nimport DatePicker from './DatePicker/DatePicker';\r\nimport DateRangePicker from './DateRangePicker/DateRangePicker';\r\nimport ImageSelection from './ImageSelection/ImageSelection';\r\nimport AgeGroup from './AgeGroupV2/AgeGroup';\r\nimport Persons from './Persons/Persons';\r\nimport Selection from './SelectionNew/Selection';\r\n\r\nclass FieldGenerator extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      options: null,\r\n    };\r\n\r\n    this.getOptions = this.getOptions.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getOptions();\r\n    this.doPrefill();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    this.getOptions(prevProps);\r\n    this.doPrefill(prevProps.errors);\r\n  }\r\n\r\n  getOptions(prevProps) {\r\n    try {\r\n      const { options } = this.state;\r\n      const { constants, fieldData } = this.props;\r\n      if (fieldData && fieldData.options_constant_key &&\r\n        (!prevProps || !options || (fieldData.options_constant_key !== prevProps.fieldData.options_constant_key))) {\r\n        this.setState({\r\n          options: _.map(constants[fieldData.options_constant_key], v => ({ display_name: v, value: v })),\r\n        });\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  doPrefill(prevErrors) {\r\n    const {\r\n      values,\r\n      onChangeValue,\r\n      fieldData,\r\n      errors,\r\n    } = this.props;\r\n\r\n    try {\r\n      const name = fieldData && fieldData.slug;\r\n      if (values && values[name]) {\r\n        // Set field type to values if contains prefill data\r\n        if (!values[name].type) {\r\n          onChangeValue(fieldData.type, name, values[name].value);\r\n        }\r\n      }\r\n\r\n      // Set default selection for image selection\r\n      if (\r\n        fieldData.type === 'image_selection' &&\r\n        (fieldData.is_required !== false) &&\r\n        !values[name]\r\n      ) {\r\n        onChangeValue(fieldData.type, name, fieldData.options[0].value);\r\n      }\r\n\r\n      const error = errors && errors[name];\r\n      const prevError = prevErrors && prevErrors[name];\r\n\r\n      if (error && !prevError && this.node) {\r\n        // window.scrollTo(0, this.node.getBoundingClientRect().y);\r\n        window.scrollTo({\r\n          top: this.node.getBoundingClientRect().y,\r\n          left: 0,\r\n          behavior: 'smooth',\r\n        });\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n  }\r\n\r\n  renderInput() {\r\n    const { options } = this.state;\r\n\r\n    const {\r\n      fieldData,\r\n      values,\r\n      onChangeValue,\r\n      errors,\r\n      noInternalDesc,\r\n      extraInfo,\r\n      handlePostCode,\r\n      isPrex,\r\n    } = this.props;\r\n\r\n    const name = fieldData && fieldData.slug;\r\n    const value = values && values[name] && values[name].value;\r\n    const error = errors && errors[name];\r\n\r\n    if (fieldData) {\r\n      if (fieldData.type === 'padding') {\r\n        return null;\r\n      }\r\n\r\n      const { conditions } = fieldData;\r\n\r\n      let isRenderable = true;\r\n      try {\r\n        _.each(conditions || [], (condition, index) => {\r\n          const isValid = values[condition.key].value === condition.value;\r\n          if (index === 0) {\r\n            isRenderable = isValid;\r\n          } else {\r\n            isRenderable = condition.type === 'or' ? isValid || isRenderable : isValid && isRenderable;\r\n          }\r\n        });\r\n      } catch (e) {\r\n        isRenderable = false;\r\n      }\r\n\r\n      if (!isRenderable) {\r\n        return null;\r\n      }\r\n\r\n      switch (fieldData.type) {\r\n        case 'email':\r\n        case 'number':\r\n        case 'time':\r\n        case 'text':\r\n        case 'textarea':\r\n        case 'password':\r\n        case 'postal': {\r\n          return (\r\n            <TextInput\r\n              type={fieldData.type}\r\n              value={value}\r\n              onChange={onChangeValue}\r\n              name={name}\r\n              errorString={error}\r\n              readOnly={fieldData.readOnly}\r\n              placeholderString={fieldData.title}\r\n              noInternalDesc={noInternalDesc}\r\n              extraInfo={extraInfo}\r\n              desc={fieldData.display_name}\r\n              handlePostCode={handlePostCode}\r\n            />\r\n          );\r\n        }\r\n        case 'select':\r\n        case 'multiple_select': {\r\n          return (\r\n            <Dropdown\r\n              isMultiple={fieldData.type === 'multiple_select'}\r\n              value={value}\r\n              onChange={onChangeValue}\r\n              name={name}\r\n              errorString={error}\r\n              placeholderString={fieldData.title}\r\n              dropList={fieldData.options || options}\r\n              noInternalDesc={noInternalDesc}\r\n              extraInfo={extraInfo}\r\n              desc={fieldData.display_name}\r\n            />\r\n          );\r\n        }\r\n        case 'checkbox': {\r\n          return (\r\n            <Checkbox\r\n              value={value}\r\n              name={name}\r\n              desc={fieldData.title}\r\n              onChange={onChangeValue}\r\n              errorString={error}\r\n              extraInfo={extraInfo}\r\n            />\r\n          );\r\n        }\r\n        case 'image_selection': {\r\n          return (\r\n            <ImageSelection\r\n              value={value}\r\n              onChange={onChangeValue}\r\n              name={name}\r\n              inputData={fieldData}\r\n              errorString={error}\r\n              extraInfo={extraInfo}\r\n              desc={fieldData.display_name}\r\n            />\r\n          );\r\n        }\r\n        case 'age_group': {\r\n          return (\r\n            <AgeGroup\r\n              inputData={fieldData}\r\n              value={value}\r\n              onChange={onChangeValue}\r\n              name={name}\r\n              errorString={error}\r\n              extraInfo={extraInfo}\r\n              desc={fieldData.display_name}\r\n            />\r\n          );\r\n        }\r\n        case 'date_range': {\r\n          let startName = 'start_date';\r\n          let endName = 'end_date';\r\n\r\n          try {\r\n            startName = fieldData.slugs && fieldData.slugs[0];\r\n            endName = fieldData.slugs && fieldData.slugs[1];\r\n          } catch (err) {\r\n            // eslint-disable-next-line\r\n          }\r\n\r\n          return (\r\n            <DateRangePicker\r\n              values={values}\r\n              onChange={onChangeValue}\r\n              startName={startName}\r\n              endName={endName}\r\n              errorString={errors}\r\n              startDate={fieldData.min_date}\r\n              endDate={fieldData.max_date}\r\n              errorStringStart={errors && errors[startName]}\r\n              errorStringEnd={errors && errors[endName]}\r\n              extraInfo={extraInfo}\r\n              noInternalDesc={noInternalDesc}\r\n              // desc={fieldData.display_name}\r\n              offsetDays={fieldData.offset_days}\r\n            />\r\n          );\r\n        }\r\n        case 'date': {\r\n          return (\r\n            <DatePicker\r\n              desc={fieldData.display_name}\r\n              startValue={value}\r\n              onChange={onChangeValue}\r\n              name={name}\r\n              placeholderString={fieldData.title}\r\n              errorString={error}\r\n              noInternalDesc={noInternalDesc}\r\n              extraInfo={extraInfo}\r\n              startDate={fieldData.min_date}\r\n              endDate={fieldData.max_date}\r\n            />\r\n          );\r\n        }\r\n        case 'persons': {\r\n          return (\r\n            <Persons\r\n              desc={fieldData.desc}\r\n              values={values}\r\n              onChange={onChangeValue}\r\n              nameAdult=\"num_adult\"\r\n              nameChildren=\"num_children\"\r\n              namePlanType=\"plan_type\"\r\n              nameTripType=\"trip_type\"\r\n              errorString={error}\r\n              extraInfo={extraInfo}\r\n              isPrex={isPrex}\r\n            />\r\n          );\r\n        }\r\n        case 'button_select':\r\n        case 'selection': {\r\n          return (\r\n            <Selection\r\n              desc={fieldData.display_name}\r\n              value={value}\r\n              onChange={onChangeValue}\r\n              name={name}\r\n              options={fieldData.options}\r\n              errorString={error}\r\n              extraInfo={extraInfo}\r\n              size={fieldData.tab_size}\r\n            />\r\n          );\r\n        }\r\n        default: return null;\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const { fieldData } = this.props;\r\n\r\n    if (!fieldData) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Col xs={12} sm={fieldData.size || 12}>\r\n        <div ref={node => this.node = node}>\r\n          {this.renderInput()}\r\n        </div>\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nFieldGenerator.defaultProps = {\r\n  values: {},\r\n  errors: {},\r\n  noInternalDesc: false,\r\n  extraInfo: null,\r\n  constants: null,\r\n  handlePostCode: null,\r\n  isPrex: false,\r\n};\r\n\r\nFieldGenerator.propTypes = {\r\n  values: PropTypes.object,\r\n  errors: PropTypes.object,\r\n  onChangeValue: PropTypes.func.isRequired,\r\n  fieldData: PropTypes.object.isRequired,\r\n  noInternalDesc: PropTypes.bool,\r\n  extraInfo: PropTypes.object,\r\n  constants: PropTypes.object,\r\n  handlePostCode: PropTypes.func,\r\n  isPrex: PropTypes.bool,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  constants: state.insurance.constants,\r\n});\r\n\r\nexport default connect(mapStateToProps)(FieldGenerator);\r\n","/**\r\n * SpeechScroll.js\r\n * The hovering dropdown that appears in the navbar and\r\n * the multi compare view insurer's row.\r\n *\r\n * It will auto close when out of the box.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Tooltip as TooltipStrap } from 'reactstrap';\r\n\r\nimport TooltipImg from 'assets/images/common/tooltip.svg';\r\n\r\nimport './Tooltip.scss';\r\n\r\nclass Tooltip extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isOpen: false,\r\n    };\r\n\r\n    this.toggle = this.toggle.bind(this);\r\n  }\r\n\r\n  toggle() {\r\n\r\n  }\r\n\r\n  render() {\r\n    const { isOpen } = this.state;\r\n    const { id, innerClassName } = this.props;\r\n\r\n    return (\r\n      <div className=\"tooltip-container \">\r\n        <TooltipStrap\r\n          target={id}\r\n          isOpen={isOpen}\r\n          toggle={() => this.setState({ isOpen: false })}\r\n          className=\"animated fade\"\r\n          innerClassName={[innerClassName, 'tooltip-inner-custom'].join(' ')}\r\n          arrowClassName=\"tooltip-arrow-custom\"\r\n          placement=\"bottom-end\"\r\n        >\r\n          {this.props.children}\r\n        </TooltipStrap>\r\n        <img\r\n          id={id}\r\n          src={TooltipImg}\r\n          alt=\"Tooltip.svg\"\r\n          onMouseEnter={() => this.setState({ isOpen: true })}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTooltip.defaultProps = {\r\n  innerClassName: '',\r\n};\r\n\r\nTooltip.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  innerClassName: PropTypes.string,\r\n};\r\n\r\nexport default Tooltip;\r\n","module.exports = __webpack_public_path__ + \"static/media/triangle.64c3289a.svg\";","module.exports = __webpack_public_path__ + \"static/media/tooltip.d8150eb9.svg\";","module.exports = __webpack_public_path__ + \"static/media/PiggyBank.9fc90d27.svg\";","/**\r\n * TabView.js\r\n * TabView that uses a carousel or fading.\r\n *\r\n * For carousel, it will take in multiple elements in\r\n * an array to swap when changed tabs.\r\n *\r\n * For fading view, it will only take the 1st element in the array,\r\n * but it does a fading to simulate and give time for the change of state\r\n * to happen in that element.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport window from 'global/window';\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\nimport ReactDOM from 'react-dom';\r\nimport { connect } from 'react-redux';\r\nimport { Carousel } from 'react-responsive-carousel';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport DropDown from '../../FormsV3/DropDown/DropDown';\r\n\r\nimport { setTabSelection } from '../../../actions/tabActions';\r\n\r\nimport './TabViewNew.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass TabViewNew extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const {\r\n      currentTabSelection,\r\n      tabs,\r\n      maxTabWidthPx,\r\n      isDataFadeOnly,\r\n      padding,\r\n      children,\r\n    } = nextProps;\r\n\r\n    const { activeIndex } = prevState;\r\n\r\n    let result = null;\r\n\r\n    if (tabs && currentTabSelection) {\r\n      const newIndex = _.findIndex(tabs, tab => tab.desc === currentTabSelection);\r\n      if (newIndex >= 0 && newIndex !== activeIndex) {\r\n        result = {\r\n          activeIndex: newIndex,\r\n        };\r\n      }\r\n    }\r\n\r\n    if (tabs !== prevState.tabs && children) {\r\n      const isUsingMaxWidth = maxTabWidthPx > 0;\r\n      const maxWidth = (100 - padding) / (isDataFadeOnly ? tabs.length : children.length);\r\n      const tabWidth = isUsingMaxWidth ? maxTabWidthPx : maxWidth;\r\n\r\n      result = {\r\n        ...result,\r\n        tabs,\r\n        width: tabWidth,\r\n        widthPercentage: isUsingMaxWidth ? `${maxTabWidthPx}px` : `${tabWidth}%`,\r\n        maxWidth: `${maxWidth}%`,\r\n      };\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {object} props Component props\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const {\r\n      padding,\r\n      children,\r\n      maxTabWidthPx,\r\n      isDataFadeOnly,\r\n      tabs,\r\n      initialIndex,\r\n    } = this.props;\r\n\r\n    const isUsingMaxWidth = maxTabWidthPx > 0;\r\n    const maxWidth = (100 - padding) / (isDataFadeOnly ? tabs.length : children.length);\r\n    const tabWidth = isUsingMaxWidth ? maxTabWidthPx : maxWidth;\r\n\r\n    this.state = {\r\n      activeIndex: initialIndex,\r\n      containerWidth: 0,\r\n      width: tabWidth,\r\n      widthPercentage: isUsingMaxWidth ? `${maxTabWidthPx}px` : `${tabWidth}%`,\r\n      maxWidth: `${maxWidth}%`,\r\n      paddingWidth: maxTabWidthPx ? '100%' : `${padding}%`,\r\n      isControlVisible: true,\r\n      isUsingMaxWidth,\r\n      // isDropDownControl: tabs && tabs.length > 10,\r\n      fadeStyle: '',\r\n      tabs,\r\n    };\r\n\r\n    this.goToIndex = this.goToIndex.bind(this);\r\n\r\n    this.handleResize = this.handleResize.bind(this);\r\n    this.resizeTabHeight = this.resizeTabHeight.bind(this);\r\n    this.renderTabs = this.renderTabs.bind(this);\r\n    this.renderTabContent = this.renderTabContent.bind(this);\r\n    this.renderControls = this.renderControls.bind(this);\r\n    this.renderSlides = this.renderSlides.bind(this);\r\n    this.renderScollableTabs = this.renderScollableTabs.bind(this);\r\n    this.renderSelectableTabs = this.renderSelectableTabs.bind(this);\r\n    this.renderDropControls = this.renderDropControls.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { tabs } = this.state;\r\n    const {\r\n      initialIndex,\r\n      name,\r\n      changeTab,\r\n    } = this.props;\r\n\r\n    changeTab(name, tabs[0].desc);\r\n\r\n    window.addEventListener('resize', this.handleResize);\r\n\r\n    this.handleResize();\r\n\r\n    this.resizeTabHeight(initialIndex, ReactDOM.findDOMNode(this.carousel));\r\n\r\n    this.setState({\r\n      activeIndex: initialIndex,\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { tabs, activeIndex, containerWidth } = this.state;\r\n    const { setTriggerHeightUpdate } = this.props;\r\n    if (!prevProps.setTriggerHeightUpdate && setTriggerHeightUpdate) {\r\n      const { resizeTabHeight } = this;\r\n\r\n      setTriggerHeightUpdate(() => {\r\n        resizeTabHeight(activeIndex);\r\n      });\r\n    }\r\n\r\n    if (tabs !== prevState.tabs) {\r\n      this.resizeTabHeight(activeIndex);\r\n    }\r\n\r\n    if (this.tabContainer) {\r\n      const tabWidth = this.tabContainer.getBoundingClientRect().width;\r\n      if (tabWidth !== containerWidth) {\r\n        setTimeout(() => this.setState({ containerWidth: tabWidth }), 100);\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.handleResize);\r\n  }\r\n\r\n  handleResize() {\r\n    const { isControlVisible, activeIndex } = this.state;\r\n    const { hideWidth } = this.props;\r\n\r\n    // this.setState({\r\n    //   isDropDownControl: window.innerWidth < 560 || (tabs && tabs.length > 10),\r\n    // });\r\n\r\n\r\n    this.resizeTabHeight(activeIndex);\r\n\r\n    if (hideWidth) {\r\n      const isVisibleNow = window.innerWidth > hideWidth;\r\n\r\n      this.setState({\r\n        isControlVisible: isVisibleNow,\r\n      });\r\n\r\n      if (isControlVisible && !isVisibleNow) {\r\n        this.goToIndex(0);\r\n      }\r\n    }\r\n  }\r\n\r\n  goToIndex(newIndex, isForced = false) {\r\n    const { tabs, activeIndex } = this.state;\r\n    if (!isForced && newIndex === activeIndex) {\r\n      return;\r\n    }\r\n    const {\r\n      name,\r\n      isDataFadeOnly,\r\n      changeTab,\r\n    } = this.props;\r\n\r\n\r\n    if (isDataFadeOnly) {\r\n      this.setState({\r\n        fadeStyle: 'animated fadeOut',\r\n      });\r\n\r\n      this.setState({ activeIndex: newIndex });\r\n      changeTab(name, tabs[newIndex].desc);\r\n\r\n      setTimeout(() => {\r\n        if (tabs[newIndex].onClick) {\r\n          tabs[newIndex].onClick();\r\n        }\r\n        this.setState({\r\n          fadeStyle: 'animated fadeIn',\r\n        });\r\n\r\n        setTimeout(() => {\r\n          this.setState({\r\n            fadeStyle: '',\r\n          });\r\n        }, 300);\r\n      }, 300);\r\n    } else {\r\n      this.setState({ activeIndex: newIndex });\r\n      changeTab(name, tabs[newIndex].desc);\r\n      if (tabs[newIndex].onClick) {\r\n        tabs[newIndex].onClick();\r\n      }\r\n    }\r\n\r\n    this.resizeTabHeight(newIndex);\r\n  }\r\n\r\n  resizeTabHeight(index, carouselIncoming = null, overrideNegation = null) {\r\n    const { isConstantHeight } = this.props;\r\n\r\n    const carouselToUse = carouselIncoming !== null ? carouselIncoming : ReactDOM.findDOMNode(this.carousel);\r\n    // No other way for now >_<\r\n    if (!isConstantHeight && carouselToUse) {\r\n      const list = carouselToUse.getElementsByTagName('UL')[0];\r\n      const children = list.children[index];\r\n\r\n      if (children) {\r\n        const sliderWrapper = list.parentNode;\r\n        const itemHeight = overrideNegation ? children.children[0].scrollHeight + overrideNegation : children.children[0].scrollHeight;\r\n        sliderWrapper.style.height = itemHeight === 0 ? 1000 : `${itemHeight}px`;\r\n      }\r\n    }\r\n  }\r\n\r\n  renderTabContent(tab, activeStyle) {\r\n    const {\r\n      big,\r\n    } = this.props;\r\n\r\n    const bigTextStyle = big ? 'tab-text-big' : '';\r\n\r\n    const isWithImg = !_.isString(tab);\r\n    const desc = isWithImg ? tab.desc : tab;\r\n    const img = isWithImg ? tab.img : null;\r\n\r\n    return (\r\n      <Fragment>\r\n        {\r\n          img ?\r\n            <div className=\"img-container\">\r\n              <img className={activeStyle} src={img} alt={`${desc}.svg`} />\r\n            </div>\r\n          :\r\n            null\r\n        }\r\n        <p className={`${activeStyle} ${bigTextStyle}`}>{desc}</p>\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderTabs(width) {\r\n    const { activeIndex, tabs } = this.state;\r\n    const {\r\n      big,\r\n      maxTabWidthPx,\r\n    } = this.props;\r\n\r\n    const bigTabStyle = big ? 'tab-big' : '';\r\n\r\n    return _.map(tabs, (tab, index) => {\r\n      const tabStyle = index === activeIndex ? 'active' : 'inactive';\r\n      const maxWidth = maxTabWidthPx > 0 ? maxTabWidthPx : null;\r\n\r\n      return (\r\n        <div\r\n          className={`tab ${bigTabStyle}`}\r\n          style={{ width, maxWidth }}\r\n          key={`tab${index}`}\r\n        >\r\n          <div\r\n            className=\"tab-inner\"\r\n            onClick={() => { this.goToIndex(index); }}\r\n            role=\"button\"\r\n            tabIndex={-1}\r\n            onKeyDown={() => {}}\r\n          >\r\n            {this.renderTabContent(tab, tabStyle)}\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  renderSlides() {\r\n    const { children } = this.props;\r\n    const { goToIndex } = this;\r\n\r\n    return _.map(children, (item, index) => (\r\n      <div key={`tab-item${index}`}>\r\n        {React.cloneElement(item, {\r\n          updateTabHeight: (overrideNegation = null) => this.resizeTabHeight(index, null, overrideNegation),\r\n          goToIndex,\r\n        })}\r\n      </div>\r\n    ));\r\n  }\r\n\r\n  renderScollableTabs() {\r\n    const { activeIndex, tabs } = this.state;\r\n    const { isDisableDropdown } = this.props;\r\n    const displayStyle = isDisableDropdown ? '' : 'd-none d-sm-flex';\r\n\r\n    return (\r\n      <Fragment>\r\n        <div className={`scroll-tabs ${displayStyle}`}>\r\n          <Scrollbars style={{ width: '100%', height: '100%' }}>\r\n            <div className=\"scroll-tabs-inner\">\r\n              {\r\n                _.map(tabs, (tab, index) => {\r\n                  const tabStyle = index === activeIndex ? 'active' : 'inactive';\r\n                  return (\r\n                    <div\r\n                      key={`tab${index}`}\r\n                    >\r\n                      <div\r\n                        className={`tab-inner ${tabStyle}`}\r\n                        onClick={() => { this.goToIndex(index); }}\r\n                        role=\"button\"\r\n                        tabIndex={-1}\r\n                        onKeyDown={() => {}}\r\n                      >\r\n                        {tab.desc}\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })\r\n              }\r\n            </div>\r\n          </Scrollbars>\r\n        </div>\r\n        {\r\n          !isDisableDropdown ?\r\n            <div className=\"d-flex d-sm-none w-100\">\r\n              {this.renderDropControls()}\r\n            </div>\r\n          : null\r\n        }\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderDropControls() {\r\n    const { tabs, activeIndex } = this.state;\r\n    const droplist = _.map(tabs, tab => ({ display_name: tab.desc, value: tab.desc }));\r\n\r\n    return (\r\n      <div className=\"tab-container\">\r\n        <DropDown\r\n          placeholderString=\"Make selection\"\r\n          dropList={droplist}\r\n          value={{ display_name: tabs[activeIndex].desc, value: tabs[activeIndex].desc }}\r\n          isDisableTyping\r\n          onChange={(type, name, value) => {\r\n            this.goToIndex(_.findIndex(tabs, tab => tab.desc === value.value));\r\n          }}\r\n          noInternalDesc\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderSelectableTabs() {\r\n    const {\r\n      activeIndex,\r\n      width,\r\n      widthPercentage,\r\n      maxWidth,\r\n      containerWidth,\r\n      paddingWidth,\r\n      isUsingMaxWidth,\r\n      tabs,\r\n    } = this.state;\r\n\r\n    const {\r\n      style,\r\n      big,\r\n      charged,\r\n      isDisableDropdown,\r\n    } = this.props;\r\n\r\n    const isOverContainer = tabs && tabs.length * width > containerWidth;\r\n    const selectedMargin = isUsingMaxWidth && !isOverContainer ? activeIndex * width : `${activeIndex / tabs.length * 100}%`;\r\n    const bigStyle = big ? 'tab-big' : '';\r\n    const tabStyle = charged ? 'tab-container-charged' : '';\r\n    const displayStyle = isDisableDropdown ? '' : 'd-none d-lg-flex';\r\n\r\n    return (\r\n      <Fragment>\r\n        <div\r\n          style={style}\r\n          className={`tab-container ${tabStyle} tab-container-padding ${displayStyle}`}\r\n          ref={node => this.tabContainer = node}\r\n        >\r\n          {this.renderTabs(isOverContainer ? maxWidth : widthPercentage)}\r\n          <div className=\"tab tab-padding\" style={{ width: paddingWidth }} />\r\n          <div\r\n            className={`selected-tab ${bigStyle}`}\r\n            style={{\r\n              width: widthPercentage,\r\n              maxWidth,\r\n              marginLeft: selectedMargin,\r\n            }}\r\n          />\r\n        </div>\r\n        {\r\n          !isDisableDropdown ?\r\n            <div className=\"d-flex d-lg-none w-100\">\r\n              {this.renderDropControls()}\r\n            </div>\r\n          : null\r\n        }\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderControls() {\r\n    const { scrollTabs } = this.props;\r\n\r\n    if (scrollTabs) {\r\n      return this.renderScollableTabs();\r\n    }\r\n\r\n    return this.renderSelectableTabs();\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      activeIndex,\r\n      isControlVisible,\r\n      fadeStyle,\r\n    } = this.state;\r\n\r\n    const { isDataFadeOnly, className } = this.props;\r\n\r\n    return (\r\n      <div className={`tabview-container-new ${className}`}>\r\n        {\r\n          isControlVisible ?\r\n            this.renderControls()\r\n          :\r\n            null\r\n        }\r\n        <div className={`tab-items-container ${fadeStyle}`}>\r\n          {\r\n            isDataFadeOnly ?\r\n              this.props.children\r\n            :\r\n              <Carousel\r\n                showThumbs={false}\r\n                showIndicators={false}\r\n                showArrows={false}\r\n                showStatus={false}\r\n                selectedItem={activeIndex}\r\n                swipeable={false}\r\n                onChange={index => this.goToIndex(index)}\r\n                ref={node => (this.carousel = node)}\r\n              >\r\n                {this.renderSlides()}\r\n              </Carousel>\r\n          }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTabViewNew.defaultProps = {\r\n  padding: 0,\r\n  hideWidth: 0,\r\n  maxTabWidthPx: 0,\r\n  style: null,\r\n  isDisableDropdown: false,\r\n  isConstantHeight: false,\r\n  initialIndex: 0,\r\n  setTriggerHeightUpdate: null,\r\n  isDataFadeOnly: false,\r\n  big: false,\r\n  className: null,\r\n  charged: null,\r\n  scrollTabs: false,\r\n};\r\n\r\nTabViewNew.propTypes = {\r\n  padding: PropTypes.number,\r\n  tabs: PropTypes.array.isRequired,\r\n  hideWidth: PropTypes.number,\r\n  maxTabWidthPx: PropTypes.number,\r\n  style: PropTypes.object,\r\n  isDisableDropdown: PropTypes.bool,\r\n  isConstantHeight: PropTypes.bool,\r\n  initialIndex: PropTypes.number,\r\n  setTriggerHeightUpdate: PropTypes.func,\r\n  isDataFadeOnly: PropTypes.bool,\r\n  big: PropTypes.bool,\r\n  name: PropTypes.string.isRequired,\r\n  className: PropTypes.string,\r\n  charged: PropTypes.bool,\r\n  changeTab: PropTypes.func.isRequired,\r\n  scrollTabs: PropTypes.bool,\r\n};\r\n\r\nconst mapStateToProps = (state, props) => ({\r\n  currentTabSelection: state.tab[props.name],\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  changeTab: (tabName, value) => {\r\n    dispatch(setTabSelection(tabName, value));\r\n  },\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps, null, { withRef: true })(TabViewNew);\r\n","module.exports = __webpack_public_path__ + \"static/media/Label.500a43ce.svg\";","/**\r\n * PiggySignUp.js\r\n * The piggy sign up template\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport PiggyBank from 'assets/images/forms/PiggyBank.svg';\r\n\r\nimport './PiggySignUpNew.scss';\r\n\r\nclass PiggySignUpNew extends Component {\r\n  render() {\r\n    const {\r\n      header,\r\n      subHeader,\r\n      onClick,\r\n      isLoggedIn,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div\r\n        className={`piggy-container-new ${isLoggedIn ? 'piggy-hovered' : 'piggy-hover'}`}\r\n        onClick={onClick}\r\n        role=\"button\"\r\n        tabIndex={-1}\r\n        onKeyDown={null}\r\n      >\r\n        <Col className=\"d-flex d-sm-none wrap-container\" xs={12}>\r\n          <div className=\"piggy-img-container\">\r\n            <img src={PiggyBank} alt=\"Pig.svg\" />\r\n          </div>\r\n          <div className=\"piggy-right-container\">\r\n            <div className=\"piggy-desc-container\">\r\n              {header}\r\n              {subHeader}\r\n            </div>\r\n          </div>\r\n        </Col>\r\n        <Col className=\"d-none d-sm-flex wrap-container\" xs={12}>\r\n          <div className=\"piggy-img-container\">\r\n            <img src={PiggyBank} alt=\"Pig.svg\" />\r\n          </div>\r\n          <div className=\"piggy-right-container\">\r\n            <div className=\"piggy-desc-container\">\r\n              {header}\r\n              {subHeader}\r\n            </div>\r\n          </div>\r\n        </Col>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nPiggySignUpNew.defaultProps = {\r\n  onClick: () => {},\r\n  isLoggedIn: false,\r\n  subHeader: null,\r\n};\r\n\r\nPiggySignUpNew.propTypes = {\r\n  header: PropTypes.object.isRequired,\r\n  subHeader: PropTypes.object,\r\n  onClick: PropTypes.func,\r\n  isLoggedIn: PropTypes.bool,\r\n};\r\n\r\nexport default PiggySignUpNew;\r\n","/**\r\n * PiggyFillForm.js\r\n * The piggy component in DetailForm\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n * @author [Nicolette](nicolette@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport PiggySignUp from './PiggySignUpNew';\r\n\r\nclass PiggyFillFormNew extends Component {\r\n  render() {\r\n    const {\r\n      onClick,\r\n      category,\r\n      mainText,\r\n      descText,\r\n      isLoggedIn,\r\n      cashback,\r\n    } = this.props;\r\n\r\n    let mainTextToUse = mainText;\r\n    let descTextToUse = descText;\r\n\r\n    if (!mainTextToUse) {\r\n      mainTextToUse = category === 'life' || category === 'endowment' || category === 'retirement' ?\r\n        'Earn extra $5 Credits instantly!' :\r\n        'Sign in to get 5% Cashback on your purchase!';\r\n    }\r\n\r\n    if (!descTextToUse) {\r\n      descTextToUse = category === 'life' || category === 'endowment' || category === 'retirement' ?\r\n        'Submit the form below as a PolicyPal user to earn $5 Credits in your account.' :\r\n        'Purchase as a PolicyPal user to earn 5% Cashback in your account within 14 days.';\r\n    }\r\n\r\n    if (isLoggedIn && cashback) {\r\n      mainTextToUse = `Proceed to earn ${cashback} cashback now!`;\r\n      descTextToUse = null;\r\n    }\r\n\r\n\r\n    return (\r\n      <PiggySignUp\r\n        isLoggedIn={isLoggedIn}\r\n        header={\r\n          <p className=\"main-text\">{mainTextToUse}</p>\r\n        }\r\n        subHeader={\r\n          descTextToUse && <p className=\"desc-text\">{descTextToUse}</p>\r\n        }\r\n        onClick={!isLoggedIn && onClick ? onClick : null}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nPiggyFillFormNew.defaultProps = {\r\n  onClick: () => {},\r\n  mainText: null,\r\n  descText: null,\r\n  isLoggedIn: false,\r\n  cashback: null,\r\n};\r\n\r\nPiggyFillFormNew.propTypes = {\r\n  onClick: PropTypes.func,\r\n  category: PropTypes.string.isRequired,\r\n  mainText: PropTypes.string,\r\n  descText: PropTypes.string,\r\n  isLoggedIn: PropTypes.bool,\r\n  cashback: PropTypes.string,\r\n};\r\n\r\nexport default PiggyFillFormNew;\r\n","module.exports = __webpack_public_path__ + \"static/media/TagLabel.61fadb00.svg\";","/**\r\n * CircleHeader.js\r\n * Circle component for claims\r\n *\r\n * @version 0.0.1\r\n * @author [Barry](barry@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Collapse, Button } from 'reactstrap';\r\n\r\nimport Arrow from 'assets/images/forms/arrow.svg';\r\n\r\nimport './DetailCollapse.scss';\r\n\r\nclass DetailCollapse extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.toggle = this.toggle.bind(this);\r\n    this.state = { collapse: false };\r\n  }\r\n\r\n  toggle() {\r\n    this.setState({ collapse: !this.state.collapse });\r\n  }\r\n\r\n  render() {\r\n    const { collapse } = this.state;\r\n    const {\r\n      collapseOverwrite,\r\n      useOverwrite,\r\n      className,\r\n      topHr,\r\n    } = this.props;\r\n\r\n    const collapseToUse = useOverwrite ? collapseOverwrite : collapse;\r\n\r\n    return (\r\n      <Col className={['detail-collapse-container', className].join(' ')} xs={12}>\r\n        {\r\n          !useOverwrite &&\r\n          <Button\r\n            onClick={this.toggle}\r\n            className=\"collapse-button\"\r\n          >\r\n            <p className=\"grey-text collapse-text\">{collapse ? 'Hide details' : 'More details'}</p>\r\n            <img className={collapse ? 'rotate-arrow' : ''} src={Arrow} alt=\"Arrow.svg\" />\r\n          </Button>\r\n        }\r\n        {!useOverwrite && collapseToUse && topHr && <hr />}\r\n        <Collapse isOpen={collapseToUse}>\r\n          {this.props.children}\r\n        </Collapse>\r\n        {!useOverwrite && !topHr && <hr />}\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nDetailCollapse.defaultProps = {\r\n  collapseOverwrite: false,\r\n  useOverwrite: false,\r\n  className: '',\r\n  topHr: false,\r\n};\r\n\r\nDetailCollapse.propTypes = {\r\n  collapseOverwrite: PropTypes.bool,\r\n  useOverwrite: PropTypes.bool,\r\n  topHr: PropTypes.bool,\r\n  className: PropTypes.string,\r\n};\r\n\r\nexport default DetailCollapse;\r\n","/**\r\n * CheckoutComplete.js\r\n * Detail View for travel\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component, Fragment } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport ModalPopup from 'components/Templates/ModalPopup/ModalPopup';\r\nimport CheckoutCompleteSVG from 'assets/images/common/CheckoutComplete.svg';\r\n\r\nimport './CheckoutComplete.scss';\r\n\r\nclass CheckoutComplete extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      animateStyle: '',\r\n      showModal: false,\r\n    };\r\n\r\n    this.openCheckoutComplete = this.openCheckoutComplete.bind(this);\r\n  }\r\n\r\n  openCheckoutComplete(userName = null) {\r\n    this.setState({\r\n      showModal: true,\r\n    }, () => {\r\n      setTimeout(() => {\r\n        this.setState({\r\n          animateStyle: 'bounce-in',\r\n          userName,\r\n        });\r\n      }, 500);\r\n    });\r\n  }\r\n\r\n  renderUpperText() {\r\n    const { userName } = this.state;\r\n    const { isQuoteOnly, upperText } = this.props;\r\n\r\n    if (!isQuoteOnly) {\r\n      return (\r\n        <Fragment>\r\n          <p>Thank you for your</p>\r\n          <p><span>purchase, </span><span className=\"focus-text\">{userName}</span></p>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <p>{upperText || 'Success'}</p>\r\n    );\r\n  }\r\n\r\n  renderMidText() {\r\n    const { isQuoteOnly, midText } = this.props;\r\n\r\n    const message = 'The insurer’s representative will contact you within 2 business days to share with you more about the selected product.';\r\n\r\n    // Our partnered FA representative from Synergy Financial Advisers Pte Ltd will contact you within 48 hours to share with you more about the selected product.\r\n    if (!isQuoteOnly) {\r\n      return (\r\n        <Fragment>\r\n          <p>A copy of the receipt has been sent to</p>\r\n          <p>your inbox.</p>\r\n          <p>{'The policy will be reflected in PolicyPal\\'s APP once approved.'}</p>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    if (midText !== null) {\r\n      return (\r\n        <Fragment>\r\n          <p>{midText}</p>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        <p>Thanks for submitting your request.</p>\r\n        <p>{message}</p>\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderButton() {\r\n    const {\r\n      history,\r\n      isQuoteOnly,\r\n      buttonText,\r\n      callback,\r\n    } = this.props;\r\n\r\n    if (!isQuoteOnly) {\r\n      return (\r\n        <Fragment>\r\n          <Button\r\n            className=\"checkout-button\"\r\n            variant=\"medium-flat\"\r\n            width={166}\r\n            height={72}\r\n            onClick={() => history.push('/gotoappstore')}\r\n          >\r\n            <p>Download APP</p>\r\n          </Button>\r\n          <Button\r\n            className=\"checkout-button\"\r\n            variant=\"medium-flat-green\"\r\n            width={166}\r\n            height={72}\r\n            onClick={() => this.setState({ showModal: false })}\r\n          >\r\n            <p>Details</p>\r\n          </Button>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Button\r\n        className=\"checkout-button\"\r\n        variant=\"medium-flat-green\"\r\n        width={166}\r\n        height={72}\r\n        onClick={() => {\r\n          if (callback) {\r\n            callback();\r\n            this.setState({\r\n              showModal: false,\r\n            });\r\n            return;\r\n          }\r\n          history.push('/');\r\n        }}\r\n      >\r\n        <p>{buttonText || 'OK'}</p>\r\n      </Button>\r\n    );\r\n  }\r\n\r\n  renderBody() {\r\n    const { animateStyle } = this.state;\r\n    const { isSellLeads } = this.props;\r\n\r\n    const extraText = !isSellLeads ? '' : 'In the event that you purchase a plan through our partner, PolicyPal receives a referral fee.';\r\n\r\n    return (\r\n      <div className=\"check-out-complete\">\r\n        <img className={animateStyle} src={CheckoutCompleteSVG} alt=\"CheckoutComplete.svg\" />\r\n        <div className=\"upper-container upper-margin-up\">\r\n          {this.renderUpperText()}\r\n        </div>\r\n        <div className=\"mid-container\">\r\n          {this.renderMidText()}\r\n        </div>\r\n        <div className=\"button-container\">\r\n          {this.renderButton()}\r\n        </div>\r\n        <div className=\"extra-text\"><p>{extraText}</p></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { showModal } = this.state;\r\n\r\n    try {\r\n      return (\r\n        <div>\r\n          <ModalPopup\r\n            showModal={showModal}\r\n            closeModal={() => this.setState({ showModal: false })}\r\n            className=\"check-out-complete-popup\"\r\n            backdropClassName=\"blue-modal-backdrop\"\r\n            // header={<p>{formState === 0 ? data.disclaimer.header : data.form.header}</p>}\r\n            body={this.renderBody()}\r\n            // footer={formState === 0 ? this.renderDisclaimerButton() : this.renderFormButton()}\r\n          />\r\n        </div>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\nCheckoutComplete.defaultProps = {\r\n  isQuoteOnly: false,\r\n  isSellLeads: false,\r\n  upperText: null,\r\n  midText: null,\r\n  buttonText: null,\r\n  callback: null,\r\n};\r\n\r\nCheckoutComplete.propTypes = {\r\n  history: PropTypes.object.isRequired,\r\n  isQuoteOnly: PropTypes.bool,\r\n  isSellLeads: PropTypes.bool,\r\n  upperText: PropTypes.string,\r\n  midText: PropTypes.string,\r\n  buttonText: PropTypes.string,\r\n  callback: PropTypes.func,\r\n};\r\n\r\n\r\nexport default withRouter(CheckoutComplete, { withRef: true });\r\n","/**\r\n * TravelDetail.js\r\n * Detail View for travel\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport FieldGenerator from 'components/FormsV3/FieldGenerator';\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport ModalPopup from 'components/Templates/ModalPopup/ModalPopup';\r\nimport CheckoutComplete from 'components/Templates/CheckoutComplete/CheckoutComplete';\r\n\r\nimport { sendEmailForm } from 'actions/insuranceActions';\r\n\r\nimport { validateFormValue, validateForm } from 'lib/validatorsV2';\r\n\r\nimport './FlowEnquiry.scss';\r\n\r\nclass FlowEnquiry extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { email } = this.props;\r\n\r\n    this.state = {\r\n      values: { email },\r\n      errors: {},\r\n      formState: 0,\r\n      errorMsg: '',\r\n    };\r\n\r\n    this.onChangeValue = this.onChangeValue.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.hideModal = this.hideModal.bind(this);\r\n  }\r\n\r\n  // Update form values on change\r\n  async onChangeValue(type, name, value) {\r\n    const { values, errors } = this.state;\r\n    const { data } = this.props;\r\n    const error = errors && errors[name];\r\n    let newError = {};\r\n\r\n    if (error) {\r\n      newError = { [name]: await validateFormValue(name, { type, value }, values, data.form.forms) };\r\n    }\r\n\r\n    this.setState({\r\n      values: {\r\n        ...values,\r\n        [name]: { type, value },\r\n      },\r\n      errors: { ...errors, ...newError },\r\n    });\r\n  }\r\n\r\n  async handleSubmit() {\r\n    const { values } = this.state;\r\n    const {\r\n      handleAPI,\r\n      errors,\r\n      data,\r\n      hideEnquiryModal,\r\n    } = this.props;\r\n\r\n    try {\r\n      const newErrors = await validateForm(values, null, data.form.forms);\r\n      if (!_.isEmpty(newErrors)) {\r\n        this.setState({\r\n          errors: newErrors,\r\n        });\r\n\r\n        return;\r\n      }\r\n\r\n      const requestData = {\r\n        form_category: 'Travel (Prex)',\r\n        input_data: _.map(data.form.forms, f => ({\r\n          name: f.title,\r\n          value: values[f.slug].value,\r\n          type: 'text',\r\n        })),\r\n      };\r\n\r\n      const result = await handleAPI(() => sendEmailForm(requestData));\r\n\r\n      if (result) {\r\n        hideEnquiryModal();\r\n        if (this.checkoutComplete) {\r\n          setTimeout(() => {\r\n            this.checkoutComplete.openCheckoutComplete();\r\n          }, 300);\r\n        }\r\n      } else {\r\n        this.setState({\r\n          errors: {\r\n            ...errors,\r\n            errorMsg: 'Request failed! Please try again.',\r\n          },\r\n        });\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n  }\r\n\r\n  hideModal() {\r\n    const { hideEnquiryModal, email } = this.props;\r\n\r\n    this.setState({\r\n      values: { email },\r\n      errors: {},\r\n      formState: 0,\r\n      errorMsg: '',\r\n    });\r\n\r\n    if (hideEnquiryModal) {\r\n      hideEnquiryModal();\r\n    }\r\n  }\r\n\r\n  renderDisclaimer() {\r\n    const { data } = this.props;\r\n\r\n    return (\r\n      <Fragment>\r\n        {\r\n          _.map(data.disclaimer.details, (detail, index) => (\r\n            <Fragment key={`discliamer-${index}`}>\r\n              {\r\n                _.map(detail.title, (title, index2) => (\r\n                  <p\r\n                    key={`discliamer-title-${index}-${index2}`}\r\n                    className=\"desc-text desc-heavy\"\r\n                  >\r\n                    {title}\r\n                  </p>\r\n                ))\r\n              }\r\n              <ol>\r\n                {\r\n                  _.map(detail.desc, (desc, index2) => (\r\n                    <li\r\n                      key={`discliamer-desc-${index}-${index2}`}\r\n                      className=\"desc-text\"\r\n                    >\r\n                      {desc}\r\n                    </li>\r\n                  ))\r\n                }\r\n              </ol>\r\n            </Fragment>\r\n          ))\r\n        }\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  renderForm() {\r\n    const { values, errors, errorMsg } = this.state;\r\n    const { data } = this.props;\r\n\r\n    return (\r\n      <Row noGutters>\r\n        <Col xs={12}>\r\n          <p className=\"desc-text\">{data.form.desc}</p>\r\n        </Col>\r\n        {\r\n          _.map(data.form.forms, (form, index) => (\r\n            <FieldGenerator\r\n              key={`business-form-${index}`}\r\n              values={values}\r\n              errors={errors}\r\n              fieldData={form}\r\n              onChangeValue={this.onChangeValue}\r\n              extraInfo={form.extra_info && <p>{form.extra_info}</p>}\r\n            />\r\n          ))\r\n        }\r\n        <Col xs={12}>\r\n          <p className=\"error-text\">{errorMsg}</p>\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n\r\n  renderDisclaimerButton() {\r\n    const { onNext, data } = this.props;\r\n\r\n    return (\r\n      <Row className=\"w-100\" noGutters>\r\n        <Col className=\"button-container\" xs={12} sm={6}>\r\n          <Button\r\n            className=\"button-left cancel-btn\"\r\n            variant=\"medium-outline\"\r\n            height={48}\r\n            width={162}\r\n            onClick={() => this.setState({ formState: 1 })}\r\n          >\r\n            <p>{data.disagree_text}</p>\r\n          </Button>\r\n        </Col>\r\n        <Col className=\"button-container\" xs={12} sm={6}>\r\n          <Button\r\n            variant=\"medium-flat-green\"\r\n            height={48}\r\n            width={162}\r\n            onClick={onNext}\r\n          >\r\n            <p>{data.agree_text}</p>\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n\r\n  renderFormButton() {\r\n    return (\r\n      <Row className=\"w-100\" noGutters>\r\n        <Col className=\"button-container justify-content-center\" xs={12}>\r\n          <Button\r\n            variant=\"medium-flat-green\"\r\n            height={48}\r\n            width={114}\r\n            onClick={this.handleSubmit}\r\n          >\r\n            <p>Submit</p>\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { formState } = this.state;\r\n    const {\r\n      showModal,\r\n      history,\r\n      data,\r\n      className,\r\n    } = this.props;\r\n\r\n    if (!data) {\r\n      return null;\r\n    }\r\n\r\n    try {\r\n      return (\r\n        <div>\r\n          <ModalPopup\r\n            showModal={showModal}\r\n            closeModal={this.hideModal}\r\n            className={[className, 'default-flow-enquiry-modal'].join(' ')}\r\n            backdropClassName=\"blue-modal-backdrop\"\r\n            header={<p>{formState === 0 ? data.disclaimer.header : data.form.header}</p>}\r\n            body={formState === 0 ? this.renderDisclaimer() : this.renderForm()}\r\n            footer={formState === 0 ? this.renderDisclaimerButton() : this.renderFormButton()}\r\n          />\r\n          <CheckoutComplete\r\n            className=\"blue-popup-backdrop\"\r\n            isQuoteOnly\r\n            upperText=\"Submission Successful!\"\r\n            midText=\"Thank You for Choosing PolicyPal! We will be contacting you within 2 business days.\"\r\n            buttonText=\"Confirm\"\r\n            wrappedComponentRef={node => this.checkoutComplete = node}\r\n            callback={() => history.push('/')}\r\n          />\r\n        </div>\r\n      );\r\n    } catch (error) {\r\n      // eslint-disable-next-line\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\nFlowEnquiry.defaultProps = {\r\n  data: null,\r\n  className: '',\r\n};\r\n\r\nFlowEnquiry.propTypes = {\r\n  showModal: PropTypes.bool.isRequired,\r\n  hideEnquiryModal: PropTypes.func.isRequired,\r\n  handleAPI: PropTypes.func.isRequired,\r\n  onNext: PropTypes.func.isRequired,\r\n  history: PropTypes.object.isRequired,\r\n  data: PropTypes.object,\r\n  className: PropTypes.string,\r\n};\r\n\r\nexport default withRouter(FlowEnquiry);\r\n","/**\r\n * PromoPopup.js\r\n * popup used to display promos on Form landings\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport TagLabel from 'assets/images/common/TagLabel.svg';\r\n\r\nimport './VoucherTag.scss';\r\n\r\nclass VoucherTag extends Component {\r\n  render() {\r\n    const { history, className, teaser } = this.props;\r\n\r\n    if (!teaser) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className={['voucher-tag-container', className].join(' ')}>\r\n        <img src={TagLabel} alt=\"TagLabel.svg\" />\r\n        {\r\n          teaser.is_url && teaser.value ?\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => history.push(teaser.value)}\r\n            >\r\n              {teaser.name}\r\n            </button>\r\n          :\r\n            <span>{teaser.name}</span>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nVoucherTag.defaultProps = {\r\n  className: '',\r\n  teaser: null,\r\n};\r\n\r\nVoucherTag.propTypes = {\r\n  className: PropTypes.string,\r\n  history: PropTypes.object.isRequired,\r\n  teaser: PropTypes.object,\r\n};\r\n\r\nexport default withRouter(VoucherTag);\r\n","/**\r\n * TravelEditDetail.js\r\n * Edit Detail View for travel\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { Row, Col, Form } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Button from 'components/FormsV3/Button/Button';\r\n\r\nclass TravelEditDetail extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { values, setCloseCallBack } = this.props;\r\n    this.originalValues = _.cloneDeep(values);\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleCloseEdit = this.handleCloseEdit.bind(this);\r\n    this.handleRevert = this.handleRevert.bind(this);\r\n\r\n    if (setCloseCallBack) {\r\n      setCloseCallBack(this.handleRevert);\r\n    }\r\n  }\r\n\r\n  async handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const {\r\n      closePopUp,\r\n      fields,\r\n      validateForm,\r\n      onSubmit,\r\n    } = this.props;\r\n\r\n    await validateForm(() => {\r\n      if (closePopUp) {\r\n        closePopUp();\r\n      }\r\n\r\n      onSubmit();\r\n    }, fields);\r\n  }\r\n\r\n  handleRevert() {\r\n    const { onUpdateValues } = this.props;\r\n\r\n    if (onUpdateValues) {\r\n      onUpdateValues(this.originalValues);\r\n    }\r\n  }\r\n\r\n  handleCloseEdit() {\r\n    const { closePopUp } = this.props;\r\n    closePopUp(this.handleRevert);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isPopUp,\r\n      title,\r\n    } = this.props;\r\n\r\n    const borderStyle = isPopUp ? '' : 'landing-form-container-border';\r\n\r\n    return (\r\n      <div className={`landing-form-container-new ${borderStyle}`}>\r\n        {\r\n          isPopUp ?\r\n            <p className=\"edit-header\">{title}</p>\r\n          :\r\n            null\r\n        }\r\n        <Form onSubmit={this.handleSubmit}>\r\n          <Row className=\"input-offset\" noGutters>\r\n            {this.props.children}\r\n            {\r\n              !isPopUp ?\r\n                <Col className=\"d-flex align-items-end justify-content-end button\" xs={12} sm={6}>\r\n                  <Button type=\"submit\" variant=\"medium-flat-green\" height={48}>\r\n                    <p>Search Policies</p>\r\n                  </Button>\r\n                </Col>\r\n              :\r\n                null\r\n            }\r\n          </Row>\r\n          <Row className=\"align-items-center button-container\" noGutters>\r\n            {\r\n              isPopUp ?\r\n                <Col className=\"justify-content-center button\" xs={12}>\r\n                  <Row noGutters>\r\n                    <Col className=\"button-container-inner\" xs={12} sm={6}>\r\n                      <Button\r\n                        type=\"button\"\r\n                        className=\"button-left\"\r\n                        variant=\"medium-outline-inverse\"\r\n                        height={48}\r\n                        onClick={() => this.handleCloseEdit()}\r\n                      >\r\n                        <p>Cancel</p>\r\n                      </Button>\r\n                    </Col>\r\n                    <Col className=\"button-container-inner\" xs={12} sm={6}>\r\n                      <Button\r\n                        type=\"submit\"\r\n                        variant=\"medium-flat-green\"\r\n                        height={48}\r\n                      >\r\n                        <p>Save</p>\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                </Col>\r\n              :\r\n                null\r\n            }\r\n          </Row>\r\n        </Form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTravelEditDetail.defaultProps = {\r\n  values: null,\r\n  closePopUp: null,\r\n  setCloseCallBack: null,\r\n  isPopUp: false,\r\n  onUpdateValues: null,\r\n};\r\n\r\nTravelEditDetail.propTypes = {\r\n  values: PropTypes.object,\r\n  isPopUp: PropTypes.bool,\r\n\r\n  closePopUp: PropTypes.func,\r\n  setCloseCallBack: PropTypes.func,\r\n\r\n  onUpdateValues: PropTypes.func,\r\n  title: PropTypes.string.isRequired,\r\n\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default TravelEditDetail;\r\n","/**\r\n * ChangeInitialFormData.js\r\n * This is the green pencil button that appears mainly on\r\n * the compare view which will render the Edit Detail forms\r\n * of each category.\r\n *\r\n * Users will be able to change that form through this component\r\n * and will do a callback to update any changes, eg for compare view.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport moment from 'moment';\r\nimport React, { Component, Fragment } from 'react';\r\n// import { connect } from 'react-redux';\r\nimport { Modal, ModalHeader, Tooltip } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport EditButton from 'assets/images/forms/EditButton.svg';\r\n\r\nimport Button from 'components/FormsV3/Button/Button';\r\n\r\nimport { simplifyCost } from '../../../lib/helperFunctions';\r\n\r\nimport './ChangeInitialFormDataNew.scss';\r\n\r\nclass ChangeInitialFormDataNew extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      modal: false,\r\n      revertFunc: () => {},\r\n      isToolTip: false,\r\n    };\r\n\r\n    // this.renderHeader = this.renderHeader.bind(this);\r\n    this.renderDetailValues = this.renderDetailValues.bind(this);\r\n    this.renderEditButton = this.renderEditButton.bind(this);\r\n    this.toggle = this.toggle.bind(this);\r\n  }\r\n\r\n  // componentDidMount() {\r\n  //   const { resetSubmit } = this.props;\r\n\r\n  //   resetSubmit();\r\n  // }\r\n\r\n  // shouldComponentUpdate(nextProps, nextState) {\r\n  //   const {\r\n  //     closePopUp,\r\n  //     toolTipData,\r\n  //     modal,\r\n  //     isToolTip,\r\n  //   } = this.state;\r\n  //   const { resetSubmit } = this.props;\r\n\r\n  //   if (nextProps.isEditSubmitted) {\r\n  //     resetSubmit();\r\n  //   }\r\n\r\n  //   return nextProps.isEditSubmitted ||\r\n  //         closePopUp !== nextState.closePopUp ||\r\n  //         toolTipData !== nextState.toolTipData ||\r\n  //         modal !== nextState.modal ||\r\n  //         isToolTip !== nextState.isToolTip;\r\n  // }\r\n\r\n  toggle(revertFunc) {\r\n    const { modal } = this.state;\r\n\r\n    if (modal && revertFunc) {\r\n      revertFunc();\r\n    }\r\n\r\n    this.setState({\r\n      modal: !modal,\r\n    });\r\n  }\r\n\r\n  // renderHeader() {\r\n  //   const { headerValue, storeForm } = this.props;\r\n  //   if (storeForm && headerValue) {\r\n  //     const value = storeForm[headerValue] ? storeForm[headerValue] : '';\r\n  //     return <span className=\"edit-detail-header\">{value}</span>;\r\n  //   }\r\n\r\n  //   return null;\r\n  // }\r\n\r\n  renderDetailValues(isResp) {\r\n    const { isToolTip } = this.state;\r\n    const {\r\n      values,\r\n      valuesToListen,\r\n      conditions,\r\n    } = this.props;\r\n\r\n    const conditonValue = conditions ? values[conditions.key] && values[conditions.key].value : null;\r\n    const valuesArrayToListen = conditonValue ? conditions.values[conditonValue] : null;\r\n\r\n    if (!values) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className=\"edit-detail-value-container-new\">\r\n        {\r\n          _.reduce(valuesToListen, (result, data, index) => {\r\n            if (\r\n              !valuesArrayToListen ||\r\n              (valuesArrayToListen && _.findIndex(valuesArrayToListen, value => value === data.value) !== -1)\r\n            ) {\r\n              const value = values[data.value] ? values[data.value].value : 'None';\r\n              let displayValue = value;\r\n              let isArray = false;\r\n\r\n              if (data.customFunc) {\r\n                displayValue = data.customFunc();\r\n              } else if (data.extra === 'cost_simplify') {\r\n                displayValue = simplifyCost(value);\r\n              } else if (value.constructor === Array) {\r\n                isArray = true;\r\n                displayValue = [...value];\r\n                if (data.aggregateDesc && displayValue.length > 1) {\r\n                  displayValue = `${displayValue.length} ${data.aggregateDesc}`;\r\n                }\r\n              } else if (value.constructor === Object) {\r\n                displayValue = value.display_name;\r\n              } else if (value.constructor === Date) {\r\n                displayValue = moment(value).format('DD MMM YYYY');\r\n              }\r\n\r\n              displayValue = displayValue.toString();\r\n\r\n              let jsx = null;\r\n              if (isResp) {\r\n                const isLast = index === valuesToListen.length - 1;\r\n                const comma = isLast ? '' : ',';\r\n                jsx = (\r\n                  <div key={`detail-${index}`} className=\"detail-resp-value\">{displayValue}{comma}</div>\r\n                );\r\n              } else {\r\n                jsx = (\r\n                  <div className=\"edit-detail-value\" key={`detail-${index}`}>\r\n                    <img\r\n                      src={data.logo}\r\n                      alt={`${data.value}.svg`}\r\n                      className=\"detail-logo\"\r\n                    />\r\n                    <span className=\"detail-value\">\r\n                      {displayValue}\r\n                      {\r\n                        isArray && value.length > 1 ?\r\n                          <Fragment>\r\n                            <Tooltip\r\n                              target={`initial-form-tooltip-${index}`}\r\n                              isOpen={isToolTip}\r\n                              toggle={() => this.setState({ isToolTip: false })}\r\n                              className=\"animated fade\"\r\n                            >\r\n                              {_.map(value, (v, idx) => <p key={`tooltip-value-${idx}`}>{v}</p>)}\r\n                            </Tooltip>\r\n                            <div\r\n                              id={`initial-form-tooltip-${index}`}\r\n                              className=\"tooltip-button\"\r\n                              onMouseMove={() => {\r\n                                this.setState({\r\n                                  isToolTip: true,\r\n                                });\r\n                              }}\r\n                            >\r\n                              <p>i</p>\r\n                            </div>\r\n                          </Fragment>\r\n                        :\r\n                          null\r\n                      }\r\n                    </span>\r\n                  </div>\r\n                );\r\n              }\r\n              result.push(jsx);\r\n            }\r\n\r\n            return result;\r\n          }, [])\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderEditButton(isResp) {\r\n    if (isResp) {\r\n      return (\r\n        <div\r\n          role=\"button\"\r\n          tabIndex={-1}\r\n          onKeyDown={() => {}}\r\n          onClick={() => {\r\n            // this.popupRef.openPopup();\r\n            this.toggle();\r\n          }}\r\n        >\r\n          <img src={EditButton} alt=\"EditButton.svg\" />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Button\r\n        variant=\"medium-outline-edit\"\r\n        height={40}\r\n        onClick={() => {\r\n          // this.popupRef.openPopup();\r\n          this.toggle();\r\n        }}\r\n      >\r\n        <p>Edit</p>\r\n      </Button>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { modal, revertFunc } = this.state;\r\n    const { submitCallback, displayOnly } = this.props;\r\n\r\n    if (displayOnly) {\r\n      return (\r\n        this.renderDetailValues(false)\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"change-form-container-new\">\r\n        <div className=\"edit-detail-container d-none d-lg-flex\">\r\n          {/* {this.renderHeader()} */}\r\n          <div className=\"edit-detail-inner-container\">\r\n            {this.renderDetailValues(false)}\r\n          </div>\r\n          {this.renderEditButton(false)}\r\n        </div>\r\n        <div className=\"edit-detail-resp-container d-flex d-lg-none\">\r\n          <div className=\"detail-inner-resp-container\">\r\n            {this.renderDetailValues(true)}\r\n          </div>\r\n          {this.renderEditButton(true)}\r\n        </div>\r\n        <Modal\r\n          isOpen={modal}\r\n          size=\"lg\"\r\n          backdropClassName=\"blue-modal-backdrop\"\r\n        >\r\n          <ModalHeader toggle={() => this.toggle(revertFunc)} />\r\n          {React.cloneElement(this.props.children, {\r\n            submitCallback,\r\n            closePopUp: (func = () => {}) => { this.toggle(); func(); },\r\n            setCloseCallBack: (func = () => {}) => this.setState({ revertFunc: func }),\r\n          })}\r\n        </Modal>\r\n        {/* <Popup ref={(r) => { this.popupRef = r; }}>\r\n          {React.cloneElement(this.props.children, {\r\n            submitCallback,\r\n          })}\r\n        </Popup> */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nChangeInitialFormDataNew.defaultProps = {\r\n  submitCallback: null,\r\n  conditions: null,\r\n  headerValue: null,\r\n  displayOnly: false,\r\n  values: null,\r\n};\r\n\r\nChangeInitialFormDataNew.propTypes = {\r\n  valuesToListen: PropTypes.array.isRequired,\r\n  // storeForm: PropTypes.object.isRequired,\r\n  // isEditSubmitted: PropTypes.bool.isRequired,\r\n  // resetSubmit: PropTypes.func.isRequired,\r\n  submitCallback: PropTypes.func,\r\n  conditions: PropTypes.object,\r\n  headerValue: PropTypes.string,\r\n  displayOnly: PropTypes.bool,\r\n  values: PropTypes.object,\r\n};\r\n\r\n// const mapStateToProps = (state, ownProps) => ({\r\n//   // isEditSubmitted: state.editForm.isEditSubmitted,\r\n// });\r\n\r\n// const mapDispatchToProps = dispatch => ({\r\n// });\r\n\r\n// connect(mapStateToProps, mapDispatchToProps)(ChangeInitialFormDataNew);\r\n\r\nexport default ChangeInitialFormDataNew;\r\n","module.exports = __webpack_public_path__ + \"static/media/Tooltip.1d702c17.svg\";"],"sourceRoot":""}