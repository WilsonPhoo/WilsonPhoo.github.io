(window.webpackJsonp=window.webpackJsonp||[]).push([[20,28],{1154:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),i=a(8),c=a(12),s=a(11),o=a(14),l=a(13),u=a(15),d=a(4),m=a(5),p=a.n(m),h=a(1),b=a.n(h),g=a(22),f=a(660),v=a(718),y=a(2),k=a(476),O=a(133),E=a(97),j=a(23),C=a(526),D=a(54),w=a(16),_=function(e){function t(e){var a;Object(c.a)(this,t);var n=(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).props,r=n.motorForm,i=n.motorMoreForm,s=n.motorDetailsForm,u=n.selectedPlanData,d=n.isAdHoc,m=n.adHocData,p=Object(w.f)(d,m,u,function(){return Object(E.h)(u,s,r,i)}),h=Object(w.d)("Motor Insurance",d,m,u,p.params),b=d?m.data.session_params:s;return a.state=Object(y.a)({headerData:h.headerData,mainDetails:{title:"Details",attributes:Object(w.a)([{title:"Email",description:b.email},{title:"Full Name",description:b.name},{title:"Family Name",description:b.family_name},{title:"Given Name",description:b.given_name},{title:"ID Number",description:b.nric},{title:"Gender",description:b.gender},{title:"Marital Status",description:b.marital_status},{title:"Date of birth",description:b.birth_date},{title:"Mobile Number",description:b.mobile_number},{title:"Address",description:b.address},{title:"Unit no",description:b.unit_no},{title:"Postal",description:b.postal},{title:"Start Date",description:b.start_date},{title:"End Date",description:b.end_date}])},subDetails:[Object(w.h)({key:"Car",leftDetail:{title:"Driving License",attributes:Object(w.a)([{title:"Pass date",description:b.pass_date},{title:"Years of experience",description:b.years_of_experience},{title:"No claim discount",description:b.ncd},{title:"Offence free",description:b.offence_free},{title:"No of cliams in the last 3 years",description:b.num_claims}])},rightDetail:{title:"Vehicle",attributes:Object(w.a)([{title:"Vehicle no",description:b.vehicle_number},{title:"Vehicle no",description:b.vehicle_no},{title:"Vehicle usage",description:b.vehicle_usage},{title:"Car brand",description:b.vehicle_make},{title:"Car model",description:b.vehicle_model},{title:"No of seats",description:b.num_seats},{title:"Years of registration",description:b.reg_year},{title:"Years of manufacture",description:b.manufacture_year},{title:"Off-peak car",description:b.off_peak},{title:"Commencement date",description:b.commencement_date}])}})]},p),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.setFormState)(j.b.CHECKOUT.index),Object(D.c)({page_title:"Motor - Checkout",page_path:"/motor/checkout"})}},{key:"render",value:function(){var e=this.state,t=e.headerData,a=e.mainDetails,n=e.subDetails,r=e.wording,i=e.params,c=this.props,s=c.isLoggedIn,o=c.charged,l=c.setFormState,u=c.history,d=c.isAdHoc,m=c.adHocData,p=c.sessionId;return b.a.createElement(C.a,{headerData:t,mainDetails:a,subDetails:n,sessionId:p,isLoggedIn:s,charged:o,backToDetails:function(){u.goBack()},wording:r,isAdHoc:d,adHocData:m,params:i,category:"motor",trackingTags:{payment:function(){Object(D.b)("Motor - CheckoutPage_ProceedPayment",{event_category:"Motor",event_label:"Motor - CheckoutPage_ProceedPayment"})},receipt:function(){d||(l(j.b.SUBMITTED.index),u.push("/motor".concat(j.b.SUBMITTED.path))),Object(D.c)({page_title:"Motor - Receipt",page_path:"/motor/Receipt"})}}})}}]),t}(h.Component);_.defaultProps={charged:null,sessionId:null,adHocData:null,isAdHoc:!1,isLoggedIn:!1,motorForm:null,motorMoreForm:null,motorDetailsForm:null,selectedPlanData:null};var P=Object(k.a)(Object(g.b)(function(e,t){var a=t.isAdHoc?t.sessionId:e.insurance.sessionId;return{motorForm:Object(O.a)("motor")(e),motorMoreForm:Object(O.a)("motor-detail")(e),motorDetailsForm:Object(O.a)("motor-detail")(e),selectedPlanData:e.pet.selectedPlanData,sessionId:a}},function(e){return{setFormState:function(t){e(Object(j.K)(t))}}})(_)),x=a(700),N=a(650),S=["start_date","end_date","vehicle_no"],I=["email","family_name","given_name","nric","birth_date","mobile_number","address","unit_no","postal"],T=function(e){function t(e){var a;Object(c.a)(this,t);var n=(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).props,r=n.isAdHoc,i=n.adHocData,s=Object(w.f)(!0,i),u=Object(w.d)("Insurance",r,i),d=i.data.session_params;return a.state=Object(y.a)({headerData:u.headerData,mainDetails:{title:"Insurance",attributes:Object(w.a)(p.a.map(S,function(e){return{title:p.a.startCase(p.a.replace(e,"_"," ")),description:d[e]}}))},subDetails:[{key:"Detail",leftDetail:{title:"Details",attributes:Object(w.a)(p.a.map(I,function(e){return{title:p.a.startCase(p.a.replace(e,"_"," ")),description:d[e]}}))}}]},s),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){Object(D.c)({page_title:"Adhoc - Checkout",page_path:"/adhoc/checkout"})}},{key:"render",value:function(){var e=this.state,t=e.headerData,a=e.mainDetails,n=e.subDetails,r=e.wording,i=e.params,c=this.props,s=c.isLoggedIn,o=c.charged,l=c.isAdHoc,u=c.adHocData,d=c.sessionId;return b.a.createElement(C.a,{headerData:t,mainDetails:a,subDetails:n,sessionId:d,isLoggedIn:s,charged:o,backToDetails:function(){},wording:r,isAdHoc:l,adHocData:u,params:i,category:"adhoc",trackingTags:{payment:function(){Object(D.b)("Adhoc - CheckoutPage_ProceedPayment",{event_category:"Adhoc",event_label:"Adhoc - CheckoutPage_ProceedPayment"})},receipt:function(){Object(D.c)({page_title:"Adhoc - Receipt",page_path:"/adhoc/Receipt"})}}})}}]),t}(h.Component);T.defaultProps={charged:null,sessionId:null,adHocData:null,isAdHoc:!1,isLoggedIn:!1};var A=Object(g.b)(function(e,t){return{sessionId:t.sessionId}})(T),L=a(750),F=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).state={data:null,apiLoader:null,charged:!1},a.setCharged=a.setCharged.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark(function e(){var t,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match,e.next=3,Object(j.t)(t.params.id);case 3:a=e.sent,this.setState({data:a,apiLoader:this.APILoader,charged:a&&"paid"===a.status});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setCharged",value:function(){var e=Object(i.a)(r.a.mark(function e(t){var a=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){return a.setState({charged:t},e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"renderCheckout",value:function(){var e=this.state,t=e.data,a=e.apiLoader,n=e.charged,r=this.props,i=r.match,c=r.charged,s=r.userDetails;if(!t)return null;var o=!p.a.isEmpty(s);try{switch(t.data.session_params.category){case"Travel":return b.a.createElement(v.a,{adHocData:t,sessionId:i.params.id,isAdHoc:!0,charged:n,isLoggedIn:o,handleAPI:a?a.handleAPI:function(){},setCharged:this.setCharged});case"Pet":return b.a.createElement(N.a,{adHocData:t,sessionId:i.params.id,isAdHoc:!0,charged:c,isLoggedIn:o});case"Motor":return b.a.createElement(P,{adHocData:t,sessionId:i.params.id,isAdHoc:!0,charged:c,isLoggedIn:o});case"Personal Accident":return b.a.createElement(x.a,{adHocData:t,sessionId:i.params.id,isAdHoc:!0,charged:c,isLoggedIn:o});default:return b.a.createElement(A,{adHocData:t,sessionId:i.params.id,isAdHoc:!0,charged:c,isLoggedIn:o})}}catch(l){return b.a.createElement(L.default,null)}}},{key:"render",value:function(){var e=this;return b.a.createElement(h.Fragment,null,this.renderCheckout(),b.a.createElement(f.a,{ref:function(t){e.APILoader=t}}))}}]),t}(h.Component);F.defaultProps={charged:null,userDetails:null};t.default=Object(g.b)(function(e){return{charged:e.insurance.charged,userDetails:e.userDetails.data}})(F)},486:function(e,t,a){"use strict";var n=a(12),r=a(11),i=a(14),c=a(13),s=a(15),o=a(4),l=a(1),u=a.n(l),d=a(476),m=a(499),p=a.n(m),h=a(35),b=a(104),g=(a(500),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).state={animateStyle:""},a.openCheckoutComplete=a.openCheckoutComplete.bind(Object(o.a)(Object(o.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"openCheckoutComplete",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.setState({animateStyle:"bounce-in",userName:t}),setTimeout(function(){e.popupRef.openPopup()},10)}},{key:"renderUpperText",value:function(){var e=this.state.userName,t=this.props,a=t.isQuoteOnly,n=t.upperText;return a?u.a.createElement("p",null,n||"Success"):u.a.createElement(l.Fragment,null,u.a.createElement("p",null,"Thank you for your"),u.a.createElement("p",null,u.a.createElement("span",null,"purchase, "),u.a.createElement("span",{className:"focus-text"},e)))}},{key:"renderMidText",value:function(){var e=this.props,t=e.isQuoteOnly,a=e.midText;return t?null!==a?u.a.createElement(l.Fragment,null,u.a.createElement("p",null,a)):u.a.createElement(l.Fragment,null,u.a.createElement("p",null,"Thanks for submitting your request."),u.a.createElement("p",null,"The insurer\u2019s representative will contact you within 2 business days to share with you more about the selected product.")):u.a.createElement(l.Fragment,null,u.a.createElement("p",null,"A copy of the receipt has been sent to"),u.a.createElement("p",null,"your inbox."),u.a.createElement("p",null,"The policy will be reflected in PolicyPal's APP once approved."))}},{key:"renderButton",value:function(){var e=this,t=this.props,a=t.history,n=t.isQuoteOnly,r=t.buttonText,i=t.callback;return n?u.a.createElement(h.a,{className:"checkout-button",variant:"medium-flat-green",width:166,height:72,onClick:function(){if(i)return i(),void e.popupRef.togglePopup(!1);a.push("/")}},u.a.createElement("p",null,r||"OK")):u.a.createElement(l.Fragment,null,u.a.createElement(h.a,{className:"checkout-button",variant:"medium-flat",width:166,height:72,onClick:function(){return a.push("/gotoappstore")}},u.a.createElement("p",null,"Download APP")),u.a.createElement(h.a,{className:"checkout-button",variant:"medium-flat-green",width:166,height:72,onClick:function(){return e.popupRef.closePopup()}},u.a.createElement("p",null,"Details")))}},{key:"render",value:function(){var e=this,t=this.state.animateStyle,a=this.props,n=a.isSellLeads,r=a.className,i=n?"In the event that you purchase a plan through our partner, PolicyPal receives a referral fee.":"";return u.a.createElement(b.a,{className:r,hideCloseButton:!0,ref:function(t){e.popupRef=t}},u.a.createElement(l.Fragment,null,u.a.createElement("div",{className:"check-out-popup"},u.a.createElement("img",{className:t,src:p.a,alt:"CheckoutComplete.svg"}),u.a.createElement("div",{className:"upper-container upper-margin-up"},this.renderUpperText()),u.a.createElement("div",{className:"mid-container"},this.renderMidText()),u.a.createElement("div",{className:"button-container"},this.renderButton()),u.a.createElement("div",{className:"extra-text"},u.a.createElement("p",null,i)))))}}]),t}(l.Component));g.defaultProps={isQuoteOnly:!1,isSellLeads:!1,upperText:null,midText:null,buttonText:null,callback:null,className:""},t.a=Object(d.a)(g,{withRef:!0})},488:function(e,t,a){"use strict";var n=a(41),r=a(12),i=a(14),c=a(13),s=a(11),o=a(15),l=a(1),u=a.n(l),d=a(22),m=a(95),p=a(133),h=a(6),b=a(5),g=a.n(b),f=a(631),v=a.n(f),y=a(105),k=(a(632),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).state={selections:{}},a}return Object(o.a)(t,e),Object(s.a)(t,null,[{key:"getStoreSelection",value:function(e,t){var a=e[t];if(!a)return null;var n=a.constructor===Array?a:[a],r={};return g.a.forEach(n,function(e){e&&(r[e]=!0)}),r}},{key:"getDerivedStateFromProps",value:function(e,a){var n=a.resultState,r=a.selections,i=e.formStore,c=e.name;return i&&i[c]!==n?{resultState:i[c],selections:t.getStoreSelection(i,c)||r}:null}}]),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,a=e.name,n=e.formStore,r=e.noEmptyTextSelection;n&&n[a]?this.setState({selections:t.getStoreSelection(n,a)}):r&&this.setInitialValue()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.name,n=t.formStore;a!==e.name&&(n[a]||this.setInitialValue())}},{key:"onToggleSelection",value:function(e){var t=this.state.selections,a=this.props,r=a.name,i=a.type,c=a.change,s=a.noEmptyTextSelection,o=e.key,l=!this.state.selections[o],u={},d=null,m=!1;switch(i){case"text-selection":case"radio":!s||s&&!t[o]?((u=g.a.mapValues(t,function(){return!1}))[o]=l,d=g.a.findKey(u,function(e){return e})):m=!0;break;case"checkbox":u=Object.assign({},t,Object(n.a)({},o,l)),d=[],g.a.each(u,function(e,t){e&&d.push(t)})}m||(this.setState({selections:u}),c(r,d))}},{key:"setInitialValue",value:function(){var e=this.props,t=e.options,a=e.change,r=e.name,i=Object(n.a)({},t[0].key,!0);this.setState({selections:i}),a(r,g.a.findKey(i,function(e){return e}))}},{key:"renderSelectionInsides",value:function(e,t){var a=this.props.type;switch(a){case"radio":return u.a.createElement("div",{className:"".concat(a,"-inner-").concat(t)});case"checkbox":return u.a.createElement("img",{src:v.a,className:"checkbox-inner-".concat(t),alt:"check"});case"text-selection":return u.a.createElement("div",{className:"description py-3"},e.description);default:return null}}},{key:"renderSelectionIcon",value:function(e){var t=this,a=this.state.selections,n=this.props,r=n.type,i=n.sizeInSM,c=e.key,s=e.description,o=a[c]||!1?"highlighted":"default",l=u.a.createElement("div",{role:"button",onKeyPress:function(){},onClick:function(){return t.onToggleSelection(e)},tabIndex:0,className:"".concat(r,"-outer-").concat(o)},this.renderSelectionInsides(e,o));return"text-selection"===r?u.a.createElement(h.f,{sm:i,key:c,className:"text-sel-col"},u.a.createElement("div",{className:"single-selection",key:c},l)):u.a.createElement(h.f,{sm:i,key:c},u.a.createElement("div",{className:"single-selection"},l,u.a.createElement("div",{className:"description"},s)))}},{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.options,r=t.type,i=t.desc,c=t.extraInfo,s=t.errorString;return u.a.createElement(y.a,{desc:i,ref:function(t){return e.formParent=t},extraInfo:u.a.createElement("div",{style:{marginTop:-10}},c),errorString:s},u.a.createElement(m.a,{name:a,component:function(){return u.a.createElement("div",null)}}),u.a.createElement("div",{className:"selection"},u.a.createElement(h.z,{className:"text-selection"===r?"text-sel-container":""},g.a.map(n,function(t){return e.renderSelectionIcon(t)}))))}}]),t}(l.PureComponent));k.defaultProps={sizeInSM:12,desc:null,formStore:null,extraInfo:null,errorString:null,noEmptyTextSelection:!1};t.a=Object(d.b)(function(e,t){return{formStore:Object(p.a)(t.form)(e)}},null)(k)},495:function(e,t,a){e.exports=a.p+"static/media/ArrowGradient.50433ef5.svg"},499:function(e,t,a){e.exports=a.p+"static/media/CheckoutComplete.0dec4895.svg"},500:function(e,t,a){},502:function(e,t,a){},504:function(e,t,a){"use strict";var n=a(12),r=a(11),i=a(14),c=a(13),s=a(15),o=a(1),l=a.n(o),u=a(6),d=a(638),m=a.n(d),p=(a(639),function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.marginTop;return l.a.createElement(u.f,{className:"enquiry-container",style:{marginTop:e}},l.a.createElement("div",{className:"upper-container"},l.a.createElement("p",{className:"left-text"},"Need some assistance? Please contact us and one of our Client Services Executives will be happy to guide you along."),l.a.createElement("div",{className:"right-text"},l.a.createElement("img",{src:m.a,alt:"Phone.svg"}),l.a.createElement("a",{href:"tel:+6531639184"},"+65 3163 9184"))),l.a.createElement("div",{className:"lower-container"},l.a.createElement("p",{className:"lower-main"},"Speak to our Client Service Executives"),l.a.createElement("p",{className:"lower-sub"},"Servicing hours:"),l.a.createElement("p",{className:"lower-sub"},"10am - 7pm"),l.a.createElement("p",{className:"lower-sub"},"Mondays to Fridays"),l.a.createElement("p",{className:"lower-sub"},"(excluding public holidays)")))}}]),t}(o.Component));p.defaultProps={marginTop:0},t.a=p},505:function(e,t,a){"use strict";var n=a(3),r=a.n(n),i=a(8),c=a(12),s=a(11),o=a(14),l=a(13),u=a(15),d=a(4),m=a(1),p=a.n(m),h=a(490),b=a(107),g=a(35),f=a(144),v=a(5),y=a.n(v),k=a(145),O=a(76);a(502);function E(){var e=Object(f.a)(["\n      animation: "," 5s linear infinite;\n    "]);return E=function(){return e},e}function j(){var e=Object(f.a)(["\n      0%    { transform: translateX(0); }\n      100%  { transform: translateX(calc(-84px * ",")); }\n    "]);return j=function(){return e},e}var C=function(e){function t(e){var a;Object(c.a)(this,t),a=Object(o.a)(this,Object(l.a)(t).call(this,e));var n=y.a.map(O.a.small,function(e){return e}),r=Object(k.b)(j(),n.length),i=k.a.div(E(),r);return a.state={logos:y.a.map(O.a.small,function(e){return e}),AnimatedContainer:i},a.renderLogos=a.renderLogos.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"renderLogos",value:function(e){var t=this.state.logos;return y.a.map(t,function(t,a){return p.a.createElement("img",{key:"loading-icon-".concat(e,"-").concat(a),src:t,alt:"loading-icon-".concat(a,".svg")})})}},{key:"render",value:function(){var e=this.state.AnimatedContainer;return p.a.createElement(e,{className:"logo-container"},this.renderLogos(0),this.renderLogos(1))}}]),t}(m.Component),D=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).state={overwriteShowWarning:!1},a.closeLoading=a.closeLoading.bind(Object(d.a)(Object(d.a)(a))),a.handleChange=a.handleChange.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleChange()}},{key:"componentDidUpdate",value:function(e){this.props.isLoading!==e.isLoading&&this.handleChange()}},{key:"handleChange",value:function(){var e=this,t=this.props.isLoading;t&&(this.timer=setTimeout(function(){return e.setState({overwriteShowWarning:!0})},3e4)),t||(clearTimeout(this.timer),this.setState({overwriteShowWarning:!1}))}},{key:"closeLoading",value:function(){var e=Object(i.a)(r.a.mark(function e(){var t,a,n,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,a=t.showLoadingError,n=t.showLoading,c=t.errorCallback,this.setState({overwriteShowWarning:!1},Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(!1);case 2:n(!1),c&&c();case 4:case"end":return e.stop()}},e)})));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.overwriteShowWarning,t=this.props,a=t.isLoading,n=t.isLoadingError,r=t.message,i=t.noLogos,c=a?"loading-screen-active":"";return p.a.createElement(m.Fragment,null,p.a.createElement("div",{className:"loading-screen-v2 ".concat(c)},a?p.a.createElement(m.Fragment,null,p.a.createElement(b.a,null),!i&&p.a.createElement("div",{className:"bottom-container"},p.a.createElement("p",null,"Searching from esteemed partners..."),p.a.createElement(C,null))):null),p.a.createElement(h.a,{showModal:e||n,closeModal:this.closeLoading,className:"loading-modal",backdropClassName:"blue-modal-backdrop",header:p.a.createElement("p",null,"An error has occured"),body:r,zIndex:1052,footer:p.a.createElement(g.a,{variant:"medium-flat-green",height:48,width:162,onClick:this.closeLoading},p.a.createElement("p",null,"Close"))}))}}]),t}(m.Component);D.defaultProps={noLogos:!1,errorCallback:null};t.a=D},514:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var n=a(2),r=a(5),i=a.n(r),c=a(25),s=a.n(c),o=function(e){return"https://webassets.policypal.com/insurer_logos/".concat(e,".png")},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};if(Object.keys(e).length>0){var a=e.insurer_slug,r=void 0===a?"":a,c=e.product_slug,l=void 0===c?"":c,u=e.values,d=void 0===u?{}:u,m=e.price,p=void 0===m?"":m,h=Object(n.a)({},i.a.pick(e,["insurer_slug","insurer_name","product_slug","product_name","coverage_level"]),function(e){for(var t=Object.keys(e),a={},n=0;n<t.length;n++){var r=t[n],c=e[r];switch(r){case"start_date":case"end_date":case"pet_birth_date":var o=i.a.isObject(c)?c.value:c;a[r]=s()(o).format("DD/MM/YYYY");break;case"trip_type":case"plan_type":case"num_children":case"num_adult":a[r]=c.value;break;case"region":case"countries":a[r]=i.a.isArray(c.value)?Array.from(c.value,function(e){return e.value}):c.value.value;break;default:a[r]=c}}return a}(d||{}),{id:"".concat(r,"__").concat(l),product_image:o(r),quantity:1});t=Object(n.a)({content_ids:[h.id],content_name:h.product_name,content_type:"product",contents:[h]},p?{currency:"SGD",value:Number(p.replace("$",""))}:{})}return t}},554:function(e,t,a){"use strict";var n=a(2),r=a(12),i=a(14),c=a(13),s=a(11),o=a(15),l=a(4),u=a(5),d=a.n(u),m=a(1),p=a.n(m),h=a(186),b=a(39),g=a.n(b),f=a(22),v=a(189),y=a(517),k=a(111),O=(a(685),function(e){function t(e){var a;Object(r.a)(this,t);var n=(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).props,s=n.padding,o=n.children,u=n.maxTabWidthPx,d=n.isDataFadeOnly,m=n.tabs,p=n.initialIndex,h=u>0,b=(100-s)/(d?m.length:o.length),g=h?u:b;return a.state={activeIndex:p,containerWidth:0,width:g,widthPercentage:h?"".concat(u,"px"):"".concat(g,"%"),maxWidth:"".concat(b,"%"),paddingWidth:u?"100%":"".concat(s,"%"),isControlVisible:!0,isUsingMaxWidth:h,fadeStyle:"",tabs:m},a.goToIndex=a.goToIndex.bind(Object(l.a)(Object(l.a)(a))),a.handleResize=a.handleResize.bind(Object(l.a)(Object(l.a)(a))),a.resizeTabHeight=a.resizeTabHeight.bind(Object(l.a)(Object(l.a)(a))),a.renderTabs=a.renderTabs.bind(Object(l.a)(Object(l.a)(a))),a.renderTabContent=a.renderTabContent.bind(Object(l.a)(Object(l.a)(a))),a.renderControls=a.renderControls.bind(Object(l.a)(Object(l.a)(a))),a.renderSlides=a.renderSlides.bind(Object(l.a)(Object(l.a)(a))),a.renderScollableTabs=a.renderScollableTabs.bind(Object(l.a)(Object(l.a)(a))),a.renderSelectableTabs=a.renderSelectableTabs.bind(Object(l.a)(Object(l.a)(a))),a.renderDropControls=a.renderDropControls.bind(Object(l.a)(Object(l.a)(a))),a}return Object(o.a)(t,e),Object(s.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.currentTabSelection,r=e.tabs,i=e.maxTabWidthPx,c=e.isDataFadeOnly,s=e.padding,o=e.children,l=t.activeIndex,u=null;if(r&&a){var m=d.a.findIndex(r,function(e){return e.desc===a});m>=0&&m!==l&&(u={activeIndex:m})}if(r!==t.tabs&&o){var p=i>0,h=(100-s)/(c?r.length:o.length),b=p?i:h;u=Object(n.a)({},u,{tabs:r,width:b,widthPercentage:p?"".concat(i,"px"):"".concat(b,"%"),maxWidth:"".concat(h,"%")})}return u}}]),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.tabs,t=this.props,a=t.initialIndex,n=t.name;(0,t.changeTab)(n,e[0].desc),window.addEventListener("resize",this.handleResize),this.handleResize(),this.resizeTabHeight(a,g.a.findDOMNode(this.carousel)),this.setState({activeIndex:a})}},{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.state,r=n.tabs,i=n.activeIndex,c=n.containerWidth,s=this.props.setTriggerHeightUpdate;if(!e.setTriggerHeightUpdate&&s){var o=this.resizeTabHeight;s(function(){o(i)})}if(r!==t.tabs&&this.resizeTabHeight(i),this.tabContainer){var l=this.tabContainer.getBoundingClientRect().width;l!==c&&setTimeout(function(){return a.setState({containerWidth:l})},100)}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"handleResize",value:function(){var e=this.state,t=e.isControlVisible,a=e.activeIndex,n=this.props.hideWidth;if(this.resizeTabHeight(a),n){var r=window.innerWidth>n;this.setState({isControlVisible:r}),t&&!r&&this.goToIndex(0)}}},{key:"goToIndex",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.state,r=n.tabs,i=n.activeIndex;if(a||e!==i){var c=this.props,s=c.name,o=c.isDataFadeOnly,l=c.changeTab;o?(this.setState({fadeStyle:"animated fadeOut"}),this.setState({activeIndex:e}),l(s,r[e].desc),setTimeout(function(){r[e].onClick&&r[e].onClick(),t.setState({fadeStyle:"animated fadeIn"}),setTimeout(function(){t.setState({fadeStyle:""})},300)},300)):(this.setState({activeIndex:e}),l(s,r[e].desc),r[e].onClick&&r[e].onClick()),this.resizeTabHeight(e)}}},{key:"resizeTabHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.props.isConstantHeight,r=null!==t?t:g.a.findDOMNode(this.carousel);if(!n&&r){var i=r.getElementsByTagName("UL")[0],c=i.children[e];if(c){var s=i.parentNode,o=a?c.children[0].scrollHeight+a:c.children[0].scrollHeight;s.style.height=0===o?1e3:"".concat(o,"px")}}}},{key:"renderTabContent",value:function(e,t){var a=this.props.big?"tab-text-big":"",n=!d.a.isString(e),r=n?e.desc:e,i=n?e.img:null;return p.a.createElement(m.Fragment,null,i?p.a.createElement("div",{className:"img-container"},p.a.createElement("img",{className:t,src:i,alt:"".concat(r,".svg")})):null,p.a.createElement("p",{className:"".concat(t," ").concat(a)},r))}},{key:"renderTabs",value:function(e){var t=this,a=this.state,n=a.activeIndex,r=a.tabs,i=this.props,c=i.big,s=i.maxTabWidthPx,o=c?"tab-big":"";return d.a.map(r,function(a,r){var i=r===n?"active":"inactive",c=s>0?s:null;return p.a.createElement("div",{className:"tab ".concat(o),style:{width:e,maxWidth:c},key:"tab".concat(r)},p.a.createElement("div",{className:"tab-inner",onClick:function(){t.goToIndex(r)},role:"button",tabIndex:-1,onKeyDown:function(){}},t.renderTabContent(a,i)))})}},{key:"renderSlides",value:function(){var e=this,t=this.props.children,a=this.goToIndex;return d.a.map(t,function(t,n){return p.a.createElement("div",{key:"tab-item".concat(n)},p.a.cloneElement(t,{updateTabHeight:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e.resizeTabHeight(n,null,t)},goToIndex:a}))})}},{key:"renderScollableTabs",value:function(){var e=this,t=this.state,a=t.activeIndex,n=t.tabs,r=this.props.isDisableDropdown,i=r?"":"d-none d-sm-flex";return p.a.createElement(m.Fragment,null,p.a.createElement("div",{className:"scroll-tabs ".concat(i)},p.a.createElement(h.Scrollbars,{style:{width:"100%",height:"100%"}},p.a.createElement("div",{className:"scroll-tabs-inner"},d.a.map(n,function(t,n){var r=n===a?"active":"inactive";return p.a.createElement("div",{key:"tab".concat(n)},p.a.createElement("div",{className:"tab-inner ".concat(r),onClick:function(){e.goToIndex(n)},role:"button",tabIndex:-1,onKeyDown:function(){}},t.desc))})))),r?null:p.a.createElement("div",{className:"d-flex d-sm-none w-100"},this.renderDropControls()))}},{key:"renderDropControls",value:function(){var e=this,t=this.state,a=t.tabs,n=t.activeIndex,r=d.a.map(a,function(e){return{display_name:e.desc,value:e.desc}});return p.a.createElement("div",{className:"tab-container"},p.a.createElement(y.a,{placeholderString:"Make selection",dropList:r,value:{display_name:a[n].desc,value:a[n].desc},isDisableTyping:!0,onChange:function(t,n,r){e.goToIndex(d.a.findIndex(a,function(e){return e.desc===r.value}))},noInternalDesc:!0}))}},{key:"renderSelectableTabs",value:function(){var e=this,t=this.state,a=t.activeIndex,n=t.width,r=t.widthPercentage,i=t.maxWidth,c=t.containerWidth,s=t.paddingWidth,o=t.isUsingMaxWidth,l=t.tabs,u=this.props,d=u.style,h=u.big,b=u.charged,g=u.isDisableDropdown,f=l&&l.length*n>c,v=o&&!f?a*n:"".concat(a/l.length*100,"%"),y=h?"tab-big":"",k=b?"tab-container-charged":"",O=g?"":"d-none d-lg-flex";return p.a.createElement(m.Fragment,null,p.a.createElement("div",{style:d,className:"tab-container ".concat(k," tab-container-padding ").concat(O),ref:function(t){return e.tabContainer=t}},this.renderTabs(f?i:r),p.a.createElement("div",{className:"tab tab-padding",style:{width:s}}),p.a.createElement("div",{className:"selected-tab ".concat(y),style:{width:r,maxWidth:i,marginLeft:v}})),g?null:p.a.createElement("div",{className:"d-flex d-lg-none w-100"},this.renderDropControls()))}},{key:"renderControls",value:function(){return this.props.scrollTabs?this.renderScollableTabs():this.renderSelectableTabs()}},{key:"render",value:function(){var e=this,t=this.state,a=t.activeIndex,n=t.isControlVisible,r=t.fadeStyle,i=this.props,c=i.isDataFadeOnly,s=i.className;return p.a.createElement("div",{className:"tabview-container-new ".concat(s)},n?this.renderControls():null,p.a.createElement("div",{className:"tab-items-container ".concat(r)},c?this.props.children:p.a.createElement(v.Carousel,{showThumbs:!1,showIndicators:!1,showArrows:!1,showStatus:!1,selectedItem:a,swipeable:!1,onChange:function(t){return e.goToIndex(t)},ref:function(t){return e.carousel=t}},this.renderSlides())))}}]),t}(m.Component));O.defaultProps={padding:0,hideWidth:0,maxTabWidthPx:0,style:null,isDisableDropdown:!1,isConstantHeight:!1,initialIndex:0,setTriggerHeightUpdate:null,isDataFadeOnly:!1,big:!1,className:null,charged:null,scrollTabs:!1};t.a=Object(f.b)(function(e,t){return{currentTabSelection:e.tab[t.name]}},function(e){return{changeTab:function(t,a){e(Object(k.b)(t,a))}}},null,{withRef:!0})(O)},555:function(e,t,a){e.exports=a.p+"static/media/Label.500a43ce.svg"},556:function(e,t,a){"use strict";var n=a(3),r=a.n(n),i=a(8),c=a(12),s=a(14),o=a(13),l=a(11),u=a(15),d=a(1),m=a.n(d),p=a(6),h=a(35),b=a(481),g=(a(509),a(557),function(e){function t(e){var a;Object(c.a)(this,t);var n=(a=Object(s.a)(this,Object(o.a)(t).call(this,e))).props.value;return a.state={value:n,oldValue:n,errorString:null},a}return Object(u.a)(t,e),Object(l.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.value;return a!==t.oldValue?{value:a,oldValue:a}:null}}]),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.isComMounted=!0}},{key:"componentWillUnmount",value:function(){this.isComMounted=!1}},{key:"render",value:function(){var e=this,t=this.state,a=t.value,n=t.errorString,c=t.oldValue,s=this.props.value,o=this.props,l=o.name,u=o.placeholderString,d=o.extraInfo,g=o.postCheckout,f=s?"Remove":"Apply";return m.a.createElement(b.a,{extraInfo:d,errorString:n},m.a.createElement("div",{className:"text-input-container-v3 promo-container-v3",style:{height:48}},m.a.createElement("div",{className:"text-input "},m.a.createElement(p.o,{className:"text",placeholder:u,name:l,disabled:s,value:a||"",onChange:function(t){return e.setState({value:t.target.value})}}),m.a.createElement("div",{className:"promo-button"},m.a.createElement(h.a,{variant:"medium-outline-edit",height:32,width:88,onClick:Object(i.a)(r.a.mark(function t(){var n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!s){t.next=6;break}return t.next=4,g(null);case 4:return e.isComMounted&&e.setState({errorString:null}),t.abrupt("return");case 6:if(!a){t.next=11;break}return t.next=9,g(a);case 9:n=t.sent,e.isComMounted&&(n?e.setState({errorString:null}):e.setState({errorString:"Invalid promo code!",value:c}));case 11:t.next=15;break;case 13:t.prev=13,t.t0=t.catch(0);case 15:case"end":return t.stop()}},t,null,[[0,13]])}))},m.a.createElement("p",null,f))))))}}]),t}(d.Component));g.defaultProps={extraInfo:null,value:""},t.a=g},557:function(e,t,a){},558:function(e,t,a){"use strict";var n=a(12),r=a(11),i=a(14),c=a(13),s=a(15),o=a(4),l=a(5),u=a.n(l),d=a(1),m=a.n(d),p=a(505),h=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).state={currMarkup:null,extraData:null,isLoading:!1,isLoadingError:!1},a.cleanCheckoutButtonContainer=a.cleanCheckoutButtonContainer.bind(Object(o.a)(Object(o.a)(a))),a.setNewMarkup=a.setNewMarkup.bind(Object(o.a)(Object(o.a)(a))),a.invokeClick=a.invokeClick.bind(Object(o.a)(Object(o.a)(a))),a.showLoading=a.showLoading.bind(Object(o.a)(Object(o.a)(a))),a.showLoadingError=a.showLoadingError.bind(Object(o.a)(Object(o.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.markup;this.setNewMarkup(e)}},{key:"componentDidUpdate",value:function(){var e=this.state.currMarkup,t=this.props.markup;e!==t&&(t?this.setNewMarkup(t):t||this.setState({currMarkup:null}))}},{key:"setNewMarkup",value:function(e){var t=this,a=this.props,n=a.paymentCallback,r=a.replacementIDString;if(e){this.cleanCheckoutButtonContainer();var i=document.createRange();r?this.checkoutButton.appendChild(i.createContextualFragment(u.a.replace(e,r,'id="checkout_form"'))):this.checkoutButton.appendChild(i.createContextualFragment(e)),window.$("#checkout_form").get(0).submit=function(){var e=t.state.extraData,a=window.$("#checkout_form").serializeArray();return n(a,e),t.setState({extraData:null}),!1},this.setState({currMarkup:e})}}},{key:"showLoading",value:function(e){this.setState({isLoading:e})}},{key:"showLoadingError",value:function(e){this.setState({isLoadingError:e})}},{key:"cleanCheckoutButtonContainer",value:function(){for(;this.checkoutButton.firstChild;)this.checkoutButton.removeChild(this.checkoutButton.firstChild)}},{key:"invokeClick",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.props.zeroPaymentCallback,i=null;this.setState({extraData:t}),this.showLoading(!0);for(var c=document.getElementsByName("stripe_checkout_app"),s=c.length-1;s>=0;s--)c[s].parentNode.removeChild(c[s]);var o=setInterval(function(){try{if("0"===window.$("#checkout_form")[0].getElementsByClassName("stripe-button")[0].dataset.amount)return a.showLoading(!1),n&&n(),r&&r(),clearInterval(o),void clearTimeout(i)}catch(c){console.log("Get new payable failed"),clearInterval(o),clearTimeout(i),a.showLoadingError(!0),e()}try{var t=window.$("#checkout_form")[0].getElementsByClassName("stripe-button-el")[0];t&&(window.$(t).trigger("click"),n&&n(),clearInterval(o),clearTimeout(i),setTimeout(function(){return a.showLoading(!1)},5e3))}catch(c){console.log("Button not yet generated!"),clearInterval(o),clearTimeout(i),a.showLoadingError(!0),e()}},10);i=setTimeout(function(){clearInterval(o),a.showLoadingError(!0),e()},1e4)}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.isLoadingError;return m.a.createElement(d.Fragment,null,m.a.createElement("div",{className:"d-none",ref:function(t){e.checkoutButton=t}}),m.a.createElement(p.a,{isLoading:a,isLoadingError:n,message:m.a.createElement("h5",null,"Please try again."),showLoading:this.showLoading,showLoadingError:this.showLoadingError,noLogos:!0}))}}]),t}(d.Component);h.defaultProps={markup:null,replacementIDString:null,zeroPaymentCallback:null},t.a=h},577:function(e,t,a){"use strict";var n=a(12),r=a(11),i=a(14),c=a(13),s=a(15),o=a(1),l=a.n(o),u=a(6),d=a(688),m=a.n(d),p=(a(689),function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.header,a=e.subHeader,n=e.onClick,r=e.isLoggedIn;return l.a.createElement("div",{className:"piggy-container-new ".concat(r?"piggy-hovered":"piggy-hover"),onClick:n,role:"button",tabIndex:-1,onKeyDown:null},l.a.createElement(u.f,{className:"d-flex d-sm-none wrap-container",xs:12},l.a.createElement("div",{className:"piggy-img-container"},l.a.createElement("img",{src:m.a,alt:"Pig.svg"})),l.a.createElement("div",{className:"piggy-right-container"},l.a.createElement("div",{className:"piggy-desc-container"},t,a))),l.a.createElement(u.f,{className:"d-none d-sm-flex wrap-container",xs:12},l.a.createElement("div",{className:"piggy-img-container"},l.a.createElement("img",{src:m.a,alt:"Pig.svg"})),l.a.createElement("div",{className:"piggy-right-container"},l.a.createElement("div",{className:"piggy-desc-container"},t,a))))}}]),t}(o.Component));p.defaultProps={onClick:function(){},isLoggedIn:!1,subHeader:null};var h=p,b=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,a=e.category,n=e.mainText,r=e.descText,i=e.isLoggedIn,c=e.cashback,s=n,o=r;return s||(s="life"===a||"endowment"===a||"retirement"===a?"Earn extra $5 Credits instantly!":"Sign in to get 5% Cashback on your purchase!"),o||(o="life"===a||"endowment"===a||"retirement"===a?"Submit the form below as a PolicyPal user to earn $5 Credits in your account.":"Purchase as a PolicyPal user to earn 5% Cashback in your account within 14 days."),i&&c&&(s="Proceed to earn ".concat(c," cashback now!"),o=null),l.a.createElement(h,{isLoggedIn:i,header:l.a.createElement("p",{className:"main-text"},s),subHeader:o&&l.a.createElement("p",{className:"desc-text"},o),onClick:!i&&t?t:null})}}]),t}(o.Component);b.defaultProps={onClick:function(){},mainText:null,descText:null,isLoggedIn:!1,cashback:null};t.a=b},631:function(e,t,a){e.exports=a.p+"static/media/CheckIcon.02ce5aca.svg"},632:function(e,t,a){},638:function(e,t,a){e.exports=a.p+"static/media/Phone.02c1235c.svg"},639:function(e,t,a){},640:function(e,t,a){"use strict";var n=a(12),r=a(11),i=a(14),c=a(13),s=a(15),o=a(4),l=a(1),u=a.n(l),d=a(6),m=a(495),p=a.n(m),h=(a(641),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).state={isOpened:!1,openCallback:null},a.handleExpand=a.handleExpand.bind(Object(o.a)(Object(o.a)(a))),a.setOpenCallback=a.setOpenCallback.bind(Object(o.a)(Object(o.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"setOpenCallback",value:function(e){this.setState({openCallback:e})}},{key:"handleExpand",value:function(){var e=this.state,t=e.isOpened,a=e.openCallback;!t&&a&&setTimeout(function(){return a()},10),this.setState({isOpened:!t})}},{key:"render",value:function(){var e=this,t=this.state.isOpened,a=this.props,n=a.height,r=a.isWarning,i=t?"accordion-opened":"accordion-closed",c=t?"Close Details":"Expand Details",s=t?"arrow-opened":"arrow-closed",o=a.isFullBorder?"accordion-border":"";return u.a.createElement("div",{className:"".concat(o," accordion-container")},u.a.createElement("div",{className:"accordion-inner"},u.a.createElement(d.g,{className:i,isOpen:t},u.a.createElement(d.b,null,u.a.createElement(d.c,null,this.props.children)))),u.a.createElement("div",{className:"expand-container",style:{minHeight:n}},u.a.createElement("button",{className:"control-container",onClick:function(){return e.handleExpand()}},u.a.createElement("img",{className:"arrow ".concat(s),src:p.a,alt:"Arrow.svg"}),u.a.createElement("span",null,c))),r?u.a.createElement("div",{className:"warning-container"},u.a.createElement("p",null,"Please make sure all your information is correct before making the payment")):null)}}]),t}(l.Component));h.defaultProps={isWarning:!1,height:95,isFullBorder:!1},t.a=h},641:function(e,t,a){},644:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAsNJREFUSA3Flz1rFEEYgLOSGJB0QsRTCxtFUUHTCImS9BaR09JKLQTBQs0/uEoU0mpnFQiYCIp2CYqFogELP7CwCJ6iCAqxMEU4n+cya9Zld7KXkPjCczM779fM7nxd0lVBWq1WgtkgjMIA1AIUXZ8Dryin4VmSJC3KqBiwVEjYi/IKXIUmGPhpqJtQsRO74ATYMes3YZwOLFJ2JiStwzxMwv6q3toGH33rVf3adjg04CMc78gxY6xviNHINJdXMZ6AWdheblVNY4wQayLqgZEjNWlP1LADpbFCzOKRo/Sb+nrXPdJ8v4wZYv/7zWnsBSfDmr9pPln+2dghhytlWWgYg8n0OVZi1w9nYAqewwXYF/NJddi5Qsbaz1QS+ArRJYO+G67DJ8jLAg23wTVcKuhdauZKuvgZgrlSaxTonSB3ISu/ePiZaVikfjIWRx02czC0hbq7jTtSTK6hPBcM5ikvwhE4BKfgEdTZqZ5QribmGrUHMzBSZo2uBt9BacLBMtsq7fiPwEw3xu61zYiTnUqX2C1G9VZbnN3nj8I2HyEV2z9g9y1tyJXmqhnAidGXU/59RPcClCU4liqo+93fQZHcSe3yJcZ9sOA3VuxlmcR0PSVO/SXtNhuvZWKPt51QJuNBoe1wxmiJ+iVwNzoNNyCVB2mloDTXl7VMrgMFwYxzL7zz35SFNvqha08uR+HNwUO8UJgkvhEPdsWJ+Bjn87AXnPHDcJ92R61Mwft2rfjHXC/tQZUNZCt2+Q3ESfkDsvKGh93F+ZZb0bc3EBN3smW6p7uW8+Lr9Rzfs0rSlS1TQxw6OSR2YH8WHsJruAyHYwlTHXYrh0RI/H+OxZC8To829yKQeRUNks9C2caQmlYujRViNqJOGG3+ZS/tEckd+eZebzPJ/ebewzbkQh87AFxmG/YXJpo4M3rtBsHbygCs+0/bH+1FEN8ETvXEAAAAAElFTkSuQmCC"},645:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAArlJREFUSA29l79PFEEUx3f38EBFE6ONoLGwMLGUkJAQC/4DEmJCYeU/YGGirYnSmFD4X5DQ4F+ACblKiQUSQwGFl8NYkmtgXXb9fI9ZmJuws3MQ7iXfm1/vve/M7JuZd3EUIEVRxKjNgnkwBSYMKKJ9g03KNdCK47ig9IocVgqEowy+Bm9AB8jxhqmLUKJJTILnQBNTfRl8ZgJHlIMJpAvgN1gFT0KtpWtsZLsQatfTw2AJ7IGZgQwtZdkaH0tWd3UV5RXwFdyt1gobkQ/ja8VrgZJWKtJrXsUBBuXL+Dx/5Qzqm2p7L71Sd17yaXz3f3M6R4GC4cLf1CVz2/JtOHRSot5xouMt9WnC/4VrUNU+JHpHjo9nsLktP0mSbFD/UaWvfnhWKb6h90mNGPwFwUcmy7KX6B8AW975SA2xjpq44hE6dCN1mMVOnaExvkX5AWiltuR247y6OCDVRTQrYt02upGCJE3TR81m84FRTvM8f4+zX+zCzyAHJ1zz2up1MBdoFKVp8QyyHBvJPhgLtZUe+nNgPaGuu1bLr5V2u309jqMblqKC8x6Obm5vF02r31cV14Rm0AXjPk2NoaMgXGOxHcpSMto6hnts9WKdD+NnHP2uvrHE+0qdqPR+HxMg2qFSGrQfqtFoNEJfInEVItbzdh90gVfyPNrkqU0ge2oU/zH7LeoZfbte47NBcf25QHCl05DZwXXnzGd9DdvT4FLmoEc8VNzzWpttOI7F9V1RrTOssxwqbjy47To/4voi4haYZAuCr8w6z1XjhkOpUUuBoq1SjvSxysDp12TLVQ50eRiOZcPZO6PBzyKz1oXxymCRMujiQK/vWTxdDAPDTwRKdsiHn/pY5MNP9ixyrXy46a1Frm+uB+BKEvryWJR8fSWkSsyu5C+Ml7icBROQnlIk3TpT4NJ/2v4DJHsycMQfgx0AAAAASUVORK5CYII="},646:function(e,t,a){"use strict";var n=a(12),r=a(11),i=a(14),c=a(13),s=a(15),o=a(1),l=a.n(o),u=a(6),d=a(647),m=a.n(d),p=a(35),h=(a(648),function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.header,a=e.subHeader,n=e.buttonInner,r=e.onClick;return l.a.createElement("div",{className:"piggy-container"},l.a.createElement(u.f,{className:"d-flex d-sm-none wrap-container",xs:12},l.a.createElement("div",{className:"piggy-img-container"},l.a.createElement("img",{src:m.a,alt:"Pig.svg"})),l.a.createElement("div",{className:"piggy-right-container"},l.a.createElement("div",{className:"piggy-desc-container"},t,a)),l.a.createElement("div",{className:"button-container"},l.a.createElement(p.a,{variant:"medium-color",width:"100%",height:48,onClick:r},l.a.createElement("p",null,n)))),l.a.createElement(u.f,{className:"d-none d-sm-flex wrap-container",xs:12},l.a.createElement("div",{className:"piggy-img-container"},l.a.createElement("img",{src:m.a,alt:"Pig.svg"})),l.a.createElement("div",{className:"piggy-right-container"},l.a.createElement("div",{className:"piggy-desc-container"},t,a),l.a.createElement("div",{className:"button-container"},l.a.createElement(p.a,{variant:"medium-color",width:"100%",height:48,onClick:r},l.a.createElement("p",null,n))))))}}]),t}(o.Component));h.defaultProps={onClick:function(){}},t.a=h},647:function(e,t,a){e.exports=a.p+"static/media/Pig.4e0854df.svg"},648:function(e,t,a){},650:function(e,t,a){"use strict";var n=a(2),r=a(12),i=a(11),c=a(14),s=a(13),o=a(15),l=a(1),u=a.n(l),d=a(476),m=a(22),p=a(133),h=a(141),b=a.n(h),g=a(5),f=a.n(g),v=a(514),y=a(97),k=a(23),O=a(526),E=a(16),j=a(54),C=function(e){function t(e){var a;Object(r.a)(this,t);var i=(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).props,o=i.petForm,l=i.petDetailsForm,u=i.selectedPlanData,d=i.isAdHoc,m=i.adHocData,p=Object(E.f)(d,m,u,function(){return Object(y.h)(o,l,u)}),h=Object(E.d)("Pet Insurance",d,m,u,p.params),b=d?m.data.session_params.pet_illness:l.pet_illness,g=d?m.data.session_params.pet_medical_record:l.pet_medical_record,f="Yes"===b?[{title:"Illness Details",description:g}]:[],v=d?m.data.session_params:p.params.sessionParams.session_params,k=d?m.data.session_params:p.params.sessionParams.session_params;return a.state=Object(n.a)({headerData:h.headerData,mainDetails:{title:"Insurance",attributes:Object(E.a)([{title:"Pet Species",description:v.pet_species},{title:"Start Date",description:v.start_date},{title:"End Date",description:v.end_date}])},subDetails:[Object(E.h)({key:"Adult 1",leftDetail:{title:"Details",attributes:Object(E.a)([{title:"Email",description:k.email},{title:"Last name",description:k.family_name},{title:"First name",description:k.given_name},{title:"Date of birth",description:k.birth_date},{title:"ID type",description:k.id_type},{title:"ID number",description:k.nric},{title:"Mobile number",description:k.mobile_number},{title:"Address",description:k.address},{title:"Unit no",description:k.unit_no},{title:"Postcode",description:k.postal}])},rightDetail:{title:"Pet",attributes:Object(E.a)([{title:"Name",description:k.pet_name},{title:"Microchip number",description:k.pet_microchip_no},{title:"Date of birth",description:k.pet_birth_date},{title:"Pet Illness",description:k.pet_illness}].concat(f))}})]},p),a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setFormState,a=e.history;if(t(k.b.CHECKOUT.index),Object(j.c)({page_title:"Pet - Checkout",page_path:"/pet/checkout"}),Object(j.a)("PetCheckoutS"),a.location.pathname&&a.location.pathname==="/pet".concat(k.b.CHECKOUT.path)){var r=this.props,i=r.petDetailsForm,c=r.petForm,s=r.selectedPlanData,o=this.state.params,l=s.info,u=s.planType,d=Object(v.a)(Object(n.a)({},f.a.pick(l,["insurer_slug","insurer_name","product_slug","product_name"]),{values:Object(n.a)({},f.a.pick(i,["pet_name","pet_birth_date","pet_illness","pet_microchip_no","pet_medical_record"]),c),coverage_level:u,price:"$".concat(o.amountPayable)}));b.a.track("AddToCart",d),b.a.track("InitiateCheckout")}}},{key:"render",value:function(){var e=this.state,t=e.headerData,a=e.mainDetails,n=e.subDetails,r=e.wording,i=e.params,c=this.props,s=c.isLoggedIn,o=c.charged,l=c.setFormState,d=c.history,m=c.isAdHoc,p=c.adHocData,h=c.sessionId;return u.a.createElement(O.a,{headerData:t,mainDetails:a,subDetails:n,sessionId:h,isLoggedIn:s,charged:o,backToDetails:function(){d.goBack()},wording:r,isAdHoc:m,adHocData:p,params:i,category:"pet",trackingTags:{payment:function(e){b.a.track("AddPaymentInfo"),Object(j.b)("Pet - CheckoutPage_ProceedPayment",{event_category:"Pet",event_label:"Pet - CheckoutPage_ProceedPayment"}),Object(j.a)("PetProceedPayA",{cashback:null!==e.rewardsID,promo:null!==e.promoCode&&""!==e.promoCode})},receipt:function(){m||(b.a.track("Purchase",{currency:"SGD",value:i.amountPayable}),l(k.b.SUBMITTED.index),d.push("/pet".concat(k.b.SUBMITTED.path))),Object(j.c)({page_title:"Pet - Receipt",page_path:"/pet/Receipt"}),Object(j.a)("PetConfirmationS")}}})}}]),t}(l.Component);C.defaultProps={charged:null,sessionId:null,adHocData:null,isAdHoc:!1,isLoggedIn:!1,petForm:null,petDetailsForm:null,selectedPlanData:null};t.a=Object(d.a)(Object(m.b)(function(e,t){var a=t.isAdHoc?t.sessionId:e.insurance.sessionId;return{petForm:Object(p.a)("pet")(e),petDetailsForm:Object(p.a)("pet-detail")(e),selectedPlanData:e.pet.selectedPlanData,sessionId:a}},function(e){return{setFormState:function(t){e(Object(k.K)(t))}}})(C))},660:function(e,t,a){"use strict";var n=a(3),r=a.n(n),i=a(8),c=a(12),s=a(11),o=a(14),l=a(13),u=a(15),d=a(4),m=a(1),p=a.n(m),h=a(505),b=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).state={showLoading:!1,showLoadingError:!1,errorMsg:null,errorCallback:null},a.handleAPI=a.handleAPI.bind(Object(d.a)(Object(d.a)(a))),a.showLoading=a.showLoading.bind(Object(d.a)(Object(d.a)(a))),a.showLoadingError=a.showLoadingError.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"showLoading",value:function(){var e=Object(i.a)(r.a.mark(function e(t){var a=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){a.setState({showLoading:t},e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"showLoadingError",value:function(){var e=Object(i.a)(r.a.mark(function e(t){var a=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){a.setState({showLoadingError:t},e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleAPI",value:function(){var e=Object(i.a)(r.a.mark(function e(t){var a,n,i,c,s,o=this,l=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]&&l[1],n=l.length>2&&void 0!==l[2]?l[2]:null,i=l.length>3&&void 0!==l[3]?l[3]:null,e.prev=3,clearInterval(this.showLoadigInterval),this.showLoadigInterval=setInterval(function(){return o.setState({showLoading:!0})},300),e.next=8,t();case 8:return c=e.sent,clearInterval(this.showLoadigInterval),s=!a&&!c,this.setState({showLoadingError:s,showLoading:s,errorMsg:n,errorCallback:i}),e.abrupt("return",c);case 15:e.prev=15,e.t0=e.catch(3),console.log(e.t0);case 18:return this.setState({showLoadingError:!0,showLoading:!0,errorMsg:n,errorCallback:i}),e.abrupt("return",null);case 20:case"end":return e.stop()}},e,this,[[3,15]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.showLoading,a=e.showLoadingError,n=e.errorMsg,r=e.errorCallback;return p.a.createElement(m.Fragment,null,p.a.createElement(h.a,{isLoading:t,isLoadingError:a,message:p.a.createElement("h5",null,n||"Please try again."),showLoading:this.showLoading,showLoadingError:this.showLoadingError,errorCallback:r,noLogos:!0}))}}]),t}(m.Component);b.defaultProps={},t.a=b},685:function(e,t,a){},688:function(e,t,a){e.exports=a.p+"static/media/PiggyBank.9fc90d27.svg"},689:function(e,t,a){},691:function(e,t,a){},692:function(e,t,a){},693:function(e,t,a){},694:function(e,t,a){},695:function(e,t,a){},696:function(e,t,a){},697:function(e,t,a){},698:function(e,t,a){},699:function(e,t,a){},700:function(e,t,a){"use strict";var n=a(37),r=a(2),i=a(12),c=a(11),s=a(14),o=a(13),l=a(15),u=a(1),d=a.n(u),m=a(476),p=a(22),h=a(133),b=a(79),g=a(23),f=a(526),v=a(54),y=a(16),k=function(e){function t(e){var a;Object(i.a)(this,t);var c=(a=Object(s.a)(this,Object(o.a)(t).call(this,e))).props,l=c.paForm,u=c.paDetailsForm,d=c.selectedPlanData,m=c.isAdHoc,p=c.adHocData,h=Object(y.f)(m,p,d,function(){return Object(b.i)(l,u,d)}),g=Object(y.d)("Personal Accident Insurance",m,p,d,h.params),f=m?p.data.session_params:h.params.sessionParams.session_params,v=[],k=m?null:"1 Adult";"2"===f.num_adult&&(v=[{title:"My spouse's occupation",description:f.family[0].occupation}],k="2 Adults");var O=m?null:"0";return a.state=Object(r.a)({headerData:g.headerData,mainDetails:{title:"Insurance",attributes:Object(y.a)([{title:"Plan type",description:f.plan_type},{title:"Family members",description:f.family_members||k},{title:"Number of children",description:f.num_children||O},{title:"My occupation",description:f.occupation}].concat(Object(n.a)(v),[{title:"Start Date",description:f.start_date},{title:"End Date",description:f.end_date}]))},subDetails:a.getSubDetails(h.params.sessionParams)},h),a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.setFormState)(g.b.CHECKOUT.index),Object(v.c)({page_title:"PersonalAccident - Checkout",page_path:"/personal-accident/checkout"}),Object(v.a)("PAReviewS")}},{key:"getSubDetails",value:function(e){var t="Myself"===e.session_params.plan_type,a=Object(y.h)({key:"Myself",leftDetail:{title:"Details",attributes:Object(y.a)([{title:"Email",description:e.session_params.email},{title:"Family Name",description:e.session_params.family_name},{title:"Given Name",description:e.session_params.given_name},{title:"Full Name",description:e.session_params.full_name},{title:"Nationality",description:e.session_params.nationality},{title:"ID type",description:e.session_params.id_type},{title:"ID number",description:e.session_params.nric},{title:"Race",description:e.session_params.race},{title:"Gender",description:e.session_params.gender},{title:"Date of birth",description:e.session_params.birth_date},{title:"Marital Status",description:e.session_params.marital_status},{title:"Address",description:e.session_params.address},{title:"Unit no",description:e.session_params.unit_no},{title:"Postal",description:e.session_params.postal},{title:"Mobile number",description:e.session_params.mobile_number}])},rightDetail:{title:"Work Details",attributes:Object(y.a)([{title:"Occupation",description:e.session_params.occupation},{title:"Industry",description:e.session_params.industry}])}}),n=[];if(!t&&e.session_params.family)for(var r=1,i=0;i<e.session_params.family.length;++i){var c=0===i&&"2"===e.session_params.num_adult,s=e.session_params.family[i],o=null;c?(r=0,o={title:"Work Details",attributes:Object(y.a)([{title:"Occupation",description:s.occupation},{title:"Industry",description:s.industry}])}):o={title:"Education Details",attributes:Object(y.a)([{title:"Full school education",description:s.full_school_education}])};var l=c?"Spouse":"Children ".concat(r+i);n.push(Object(y.h)({key:l,leftDetail:{title:"Details",attributes:Object(y.a)([{title:"Full Name",description:s.full_name},{title:"Nationality",description:s.nationality},{title:"ID type",description:s.id_type},{title:"ID number",description:s.nric},{title:"Relationship",description:s.relationship},{title:"Gender",description:s.gender},{title:"Date of birth",description:s.birth_date}])},rightDetail:o}))}return[a].concat(n)}},{key:"render",value:function(){var e=this.state,t=e.headerData,a=e.mainDetails,n=e.subDetails,r=e.wording,i=e.params,c=this.props,s=c.isLoggedIn,o=c.charged,l=c.history,u=c.isAdHoc,m=c.adHocData,p=c.sessionId,h=c.setFormState;return d.a.createElement(f.a,{headerData:t,mainDetails:a,subDetails:n,sessionId:p,isLoggedIn:s,charged:o,backToDetails:function(){l.goBack()},wording:r,isAdHoc:u,adHocData:m,params:i,category:"pa",trackingTags:{payment:function(e){Object(v.b)("PersonalAccident - CheckoutPage_ProceedPayment",{event_category:"PersonalAccident",event_label:"PersonalAccident - CheckoutPage_ProceedPayment"}),Object(v.a)("PAProceedPayA",{cashback:null!==e.rewardsID,promo:null!==e.promoCode&&""!==e.promoCode})},receipt:function(){u||(h(g.b.SUBMITTED.index),l.push("/personal-accident".concat(g.b.SUBMITTED.path))),Object(v.c)({page_title:"PersonalAccident - Receipt",page_path:"/personal-accident/Receipt"}),Object(v.a)("PAConfirmationS")}}})}}]),t}(u.Component);k.defaultProps={charged:null,sessionId:null,adHocData:null,isAdHoc:!1,paForm:null,paDetailsForm:null,selectedPlanData:null,isLoggedIn:!1};t.a=Object(m.a)(Object(p.b)(function(e,t){var a=t.isAdHoc?t.sessionId:e.insurance.sessionId;return{paForm:Object(h.a)("pa")(e),paDetailsForm:Object(h.a)("pa-detail")(e),selectedPlanData:e.pa.selectedPlanData,sessionId:a}},function(e){return{setFormState:function(t){e(Object(g.K)(t))}}})(k))},716:function(e,t,a){},718:function(e,t,a){"use strict";var n=a(37),r=a(2),i=a(12),c=a(11),s=a(14),o=a(13),l=a(15),u=a(5),d=a.n(u),m=a(1),p=a.n(m),h=a(476),b=a(22),g=a(141),f=a.n(g),v=a(26),y=a(188),k=a(23),O=a(41),E=a(3),j=a.n(E),C=a(8),D=a(4),w=a(6),_=a(35),P=a(577),x=(a(691),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.logo,a=e.logoName,n=e.insurerDesc,r=e.data1,i=e.data1Value,c=e.data2,s=e.data2Value;return p.a.createElement(w.z,{className:"header-desc-with-type-date-container-new",noGutters:!0},p.a.createElement("div",{className:"insurer-left-container"},p.a.createElement("div",{className:"insurer-logo-container"},p.a.createElement("div",{className:"company-logo-container"},p.a.createElement("img",{className:"company-logo",src:t,alt:a}))),p.a.createElement("div",null,p.a.createElement("div",{className:"insurer-desc-container"},p.a.createElement("p",{className:"insurer-desc"},n)))),p.a.createElement("div",{className:"insurer-right-container"},p.a.createElement("div",{className:"data-container"},p.a.createElement("div",{className:"data"},p.a.createElement("p",{className:"data-name"},r),p.a.createElement("p",{className:"data-val"},i)),p.a.createElement("div",{className:"data"},p.a.createElement("p",{className:"data-name"},c),p.a.createElement("p",{className:"data-val"},s)))))}}]),t}(m.Component));x.defaultProps={};var N=x,S=a(16),I=a(554),T=(a(692),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"generateTabs",value:function(){var e=this.props.subDetails;return d.a.reduce(e,function(e,t){return e.push({desc:t.key}),e},[])}},{key:"renderDetails",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.props.transactionData;if(!e)return null;var i=5,c=7;i=t?12:i,c=t?12:c;var s={};if(a)try{s={title:"Coverage",description:d.a.find(r.transaction.policy_info,function(e){return"COVERAGE"===e.title.toUpperCase()}).description}}catch(u){}var o=[].concat(Object(n.a)(e.attributes),[s]),l=d.a.map(o,function(e,t){return p.a.createElement(w.f,{xs:12,className:"detail-group",key:"".concat(e.title,"-").concat(t)},p.a.createElement(w.z,{noGutters:!0},p.a.createElement(w.f,{className:"detail-desc",xs:12,sm:i},e.title),p.a.createElement(w.f,{className:"detail-value",xs:12,sm:c},e.description)))});return p.a.createElement(w.f,{className:"detail-column",xs:12,sm:6},p.a.createElement(w.z,{noGutters:!0},p.a.createElement(w.f,{className:"detail-header",xs:12},e.title),l))}},{key:"renderMainDetails",value:function(){var e=this.props.mainDetails;return d.a.isEmpty(e.attributes)?null:this.renderDetails(e,!1,!0)}},{key:"renderSubDetails",value:function(){var e=this,t=this.props,a=t.subDetails,n=t.charged;if(d.a.isArray(a)){if(1===a.length)return p.a.createElement(w.z,{className:"checkout-detail-container",noGutters:!0},this.renderDetails(a[0].leftDetail,!1),this.renderDetails(a[0].rightDetail,!1));if(a.length>1)return p.a.createElement(I.a,{style:{marginTop:44,marginLeft:30,marginRight:30},tabs:this.generateTabs(),maxTabWidthPx:128,autoHeight:!0,name:"travel-checkout-tab",charged:n,scrollTabs:!0},d.a.map(a,function(t){return p.a.createElement(m.Fragment,{key:t.key},p.a.createElement(w.z,{className:"checkout-detail-container",noGutters:!0},e.renderDetails(t.leftDetail,!1),e.renderDetails(t.rightDetail,!1)))}))}return null}},{key:"render",value:function(){return p.a.createElement(w.f,{className:"no-padding",xs:12},p.a.createElement(w.z,{className:"checkout-detail-container main-details",noGutters:!0},this.renderMainDetails()),this.renderSubDetails())}}]),t}(m.Component));T.defaultProps={charged:!1};var A=T,L=a(556),F=(a(693),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"renderPromoCodeButton",value:function(){var e=this.props,t=e.getPromo,a=e.isAdHoc,n=e.charged,r=e.promoCode,i=e.handleOnChange;return n||a?p.a.createElement(m.Fragment,null,p.a.createElement(w.f,{xs:12,sm:7}),p.a.createElement(w.f,{xs:4,sm:7,className:"d-block d-sm-none"})):p.a.createElement(m.Fragment,null,p.a.createElement(w.f,{xs:12,sm:7,className:"promo"},p.a.createElement(L.a,{value:r,name:"promo_code",placeholderString:"Promo Code",postCheckout:function(){var e=Object(C.a)(j.a.mark(function e(a){var n;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i("text","promo_code",a);case 2:return e.next=4,t();case 4:if(n=e.sent,(n&&n.promo&&n.promo.code)===a){e.next=10;break}return e.next=9,i("text","promo_code",null);case 9:return e.abrupt("return",!1);case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()})),p.a.createElement(w.f,{xs:4,sm:7,className:"d-block d-sm-none"}))}},{key:"render",value:function(){var e=this.props,t=e.transactionData,a=e.charged,n=e.isRenderPromo,r=e.isAdHoc;if(!t||!t.transaction||!t.transaction.price)return null;var i=t.transaction.price,c=d.a.reduce(i,function(e,t,a){if(a===i.length-1||"P$ Cashback"===t.title)return e;var r=!t.title||""===t.title,c="Subtotal"!==t.title&&"Discount"!==t.title&&!r;if(c&&!n||!c&&n)return e;var s=c?null:p.a.createElement(w.f,{xs:4,sm:7}),o=c?"promo-item":"",l="Subtotal"===t.title?"GST 7% included":"",u=p.a.createElement(m.Fragment,{key:"price-data-".concat(a)},s,p.a.createElement(w.f,{className:"summary-item-container ".concat(o),xs:8,sm:5},r?p.a.createElement("span",{className:"summary-item-desc"},t.sub_title):p.a.createElement("div",{className:"summary-left"},p.a.createElement("span",{className:"summary-item-desc"},t.title," ",t.sub_title),p.a.createElement("span",{className:"summary-item-sub-desc"},l)),p.a.createElement("span",{className:"summary-item-value"},t.description)));return e.push(u),e},[]);return n?(a||r)&&d.a.isEmpty(c)?null:p.a.createElement(m.Fragment,null,p.a.createElement(w.f,{xs:12,className:"summary-seperator"}),this.renderPromoCodeButton(),c):c}}]),t}(m.Component));F.defaultProps={isAdHoc:!1,charged:!1,promoCode:null};var H=F,M=a(501),B=a.n(M),R=(a(694),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.cashbackBalance;return p.a.createElement("div",{className:"cashback-summary-new"},p.a.createElement("img",{src:B.a,alt:"CashbackLogo.svg"}),p.a.createElement("p",null,"$",e))}}]),t}(m.Component));R.defaultProps={};var U=R,z=a(518),W=(a(695),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isLoggedIn,a=e.rewardPoints,n=e.charged,r=e.transactionData,i=e.values,c=e.errors,s=e.handleOnChange,o=e.getPromo;if(!t&&!n||!r||!r.transaction||!r.transaction.price)return null;var l=r.transaction.price,u=d.a.find(l,function(e){return"P$ Cashback"===e.title}),h=u?u.description:"$0",b="";try{b=u&&!n?a-d.a.replace(h,"-$",""):a}catch(f){b=a}b="".concat((b=b||0).toFixed(2));var g=n?"cashback-balance-charged":"";return p.a.createElement(m.Fragment,null,p.a.createElement(w.f,{xs:12,className:"summary-seperator"}),p.a.createElement(w.f,{xs:12},p.a.createElement(w.z,{className:"cashback",noGutters:!0},t?p.a.createElement(w.f,{xs:12,sm:7},p.a.createElement("div",{className:"cashback-inner"},n?p.a.createElement("span",{className:"cashback-text"},"Cashback Balance"):p.a.createElement("div",{className:"cashback-checkbox"},p.a.createElement(z.a,{value:i.cashback&&i.cashback.value,name:"cashback",desc:p.a.createElement("span",null,"Use Cashback Balance"),onChange:function(){var e=Object(C.a)(j.a.mark(function e(t,a,n){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t,a,n);case 2:o();case 3:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),errorString:c.cashback,isRequired:!0}))),t?p.a.createElement("div",{className:"cashback-balance ".concat(g)},p.a.createElement("div",{className:"cashback-balance-display"},p.a.createElement(U,{cashbackBalance:b}))):null):p.a.createElement(w.f,{xs:12,sm:7}),p.a.createElement(w.f,{xs:4,sm:7,className:"d-block d-sm-none"}),p.a.createElement(w.f,{xs:8,sm:5},p.a.createElement("div",{className:"summary-item-container"},p.a.createElement("span",{className:"summary-item-desc"},"Cashback Used"),p.a.createElement("span",{className:"summary-item-value"},h))))))}}]),t}(m.Component));W.defaultProps={rewardPoints:null,charged:!1};var G=W,V=(a(696),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.transactionData;if(!e||!e.transaction||!e.transaction.price)return null;var t=e.transaction.price,a=d.a.find(t,function(e){return"Total"===e.title});return a?p.a.createElement(m.Fragment,null,p.a.createElement(w.f,{xs:4,sm:7}),p.a.createElement(w.f,{className:"summary-item-container",xs:8,sm:5},p.a.createElement("span",{className:"summary-item-desc"},a.title),p.a.createElement("span",{className:"summary-item-value final-amount"},a.description))):null}}]),t}(m.Component));V.defaultProps={};var K=V,J=(a(697),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.wordings,a=e.charged,n=e.values,r=e.errors,i=e.handleOnChange;return a?null:p.a.createElement(m.Fragment,null,d.a.map(t,function(e,t){var a="tnc_".concat(t);return p.a.createElement(w.f,{key:a,xs:12},p.a.createElement("div",{className:"disclaimer"},p.a.createElement(z.a,{key:a,value:n[a]&&n[a].value,name:a,desc:e,onChange:i,errorString:r[a],isRequired:!0})))}))}}]),t}(m.Component));J.defaultProps={wordings:[],charged:!1};var Q=J,X=a(588),Z=a.n(X),Y=a(555),q=a.n(Y),$=a(558),ee=a(589),te=a(486),ae=a(184),ne=(a(698),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(o.a)(t).call(this,e))).state={markup:null},a.handlePaymentCallback=a.handlePaymentCallback.bind(Object(D.a)(Object(D.a)(a))),a.handleOnCheckout=a.handleOnCheckout.bind(Object(D.a)(Object(D.a)(a))),a.handleOnCheckoutZero=a.handleOnCheckoutZero.bind(Object(D.a)(Object(D.a)(a))),a.renderCashBackEarned=a.renderCashBackEarned.bind(Object(D.a)(Object(D.a)(a))),a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"handleOnCheckoutZero",value:function(){var e=this.props.setError;try{window.$("#checkout_form").get(0).submit()}catch(t){e("Payment failed! Please try again!")}}},{key:"handlePaymentCallback",value:function(){var e=Object(C.a)(j.a.mark(function e(t){var a,n,r,i,c,s,o,l,u,m,p,h,b,g,f,v,y=this;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props,n=a.checkout,r=a.sessionId,i=a.id,c=a.handleAPI,s=a.trackingTags,o=a.transactionData,l=a.category,u=a.setCharged,m=a.getPromo,e.next=3,c(function(){return n(r,t,i)()});case 3:if(!(p=e.sent)||!p.charged){e.next=14;break}return e.next=7,u(p.charged);case 7:return e.next=9,m();case 9:s&&s.receipt&&s.receipt(),h="User";try{b=o.transaction.users[0].details,g=d.a.find(b,function(e){return"Family Name"===e.title}),f=d.a.find(b,function(e){return"Given Name"===e.title}),h="".concat(f?"".concat(f.description," "):" ").concat(g?g.description:"")}catch(k){console.log("Name not found in checkout.")}setTimeout(function(){return y.checkoutComplete.openCheckoutComplete(h)},300),"travel"===l&&(v=document.createRange(),this.gaReceipt.appendChild(v.createContextualFragment('\n        \x3c!-- Google Code for PPS - Travel - Receipt page Conversion Page --\x3e\n        <script type="text/javascript">\n        /* <![CDATA[ */\n        var google_conversion_id = 865122565;\n        var google_conversion_label = "3xCyCO-P54QBEIXywpwD";\n        var google_remarketing_only = false;\n        /* ]]> */\n        <\/script>\n        <script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js">\n        <\/script>\n        <noscript>\n        <div style="display:inline;">\n        <img height="1" width="1" style="border-style:none;" alt="" src="//www.googleadservices.com/pagead/conversion/865122565/?label=3xCyCO-P54QBEIXywpwD&amp;guid=ON&amp;script=0"/>\n        </div>\n        </noscript>\n        ')));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleOnCheckout",value:function(){var e=Object(C.a)(j.a.mark(function e(){var t,a,n,r,i,c,s,o,l,u,m,p,h,b=this;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.useCashback,n=t.promoCode,r=t.values,i=t.getStripe,c=t.sessionId,s=t.wordings,o=t.trackingTags,l=t.setError,u=t.id,m=t.setErrors,p=!0,d.a.each(s,function(e,t){p=p&&Object(S.j)(r["tnc_".concat(t)])}),h=Object(ae.a)(r,null,d.a.map(s,function(e,t){return{type:"checkbox",slug:"tnc_".concat(t),is_required:!0}})),d.a.isEmpty(h)){e.next=7;break}return m(h),e.abrupt("return");case 7:p&&this.setState({markup:null},Object(C.a)(j.a.mark(function e(){var t;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(c,n,a&&u)();case 2:(t=e.sent)&&b.setState({markup:t},function(){try{b.stripePayment.invokeClick(function(){return l("Transaction error. Please try again.")},t,function(){o&&o.payment&&o.payment({useCashback:a,promoCode:n}),window.goog_report_conversion&&window.goog_report_conversion()})}catch(e){}});case 4:case"end":return e.stop()}},e)})));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderCashBackEarned",value:function(){var e=this.props.transactionData;if(!e||!e.transaction||!e.transaction.cashback)return null;var t=e.transaction.cashback;return t?p.a.createElement("div",{className:"cashback-earned-container"},p.a.createElement("img",{src:q.a,alt:"Label.svg"}),p.a.createElement("span",null,"Earn $",t.toFixed(2)," Cashback")):null}},{key:"render",value:function(){var e=this,t=this.state.markup,a=this.props.charged;return p.a.createElement(m.Fragment,null,!a&&p.a.createElement(m.Fragment,null,p.a.createElement(w.f,{xs:12,className:"mt-3"}),p.a.createElement(w.f,{className:"credit-card-container",xs:6},p.a.createElement("img",{src:Z.a,alt:"CreditCard.png"})),p.a.createElement(w.f,{className:"checkout-button-container",xs:6},p.a.createElement(_.a,{onClick:this.handleOnCheckout,className:"checkout-button",type:"submit",variant:"medium-flat-green",height:48},p.a.createElement("p",null,"Proceed to Payment")),this.renderCashBackEarned())),p.a.createElement($.a,{replacementIDString:'action="CALLBACK_URL" method="post"',ref:function(t){e.stripePayment=t},markup:t,paymentCallback:this.handlePaymentCallback,zeroPaymentCallback:this.checkoutUsingCashback?this.checkoutUsingCashback.openCheckoutUsingCashback:null}),p.a.createElement(ee.a,{ref:function(t){return e.checkoutUsingCashback=t},onConfirm:this.handleOnCheckoutZero}),p.a.createElement(te.a,{className:"blue-popup-backdrop",wrappedComponentRef:function(t){return e.checkoutComplete=t}}),p.a.createElement("div",{ref:function(t){return e.gaReceipt=t}}))}}]),t}(m.Component));ne.defaultProps={wordings:[],trackingTags:null,charged:!1,promoCode:null,useCashback:null,id:null};var re=ne,ie=(a(699),function(e){function t(e){var a;Object(i.a)(this,t);var n=(a=Object(s.a)(this,Object(o.a)(t).call(this,e))).props,r=n.charged,c=n.trackingTags;return a.state={transactionData:null,errorMsg:null,values:{},errors:{},sessionId:null},r&&c&&c.receipt&&c.receipt(),a.getPromo=a.getPromo.bind(Object(D.a)(Object(D.a)(a))),a.setErrors=a.setErrors.bind(Object(D.a)(Object(D.a)(a))),a.handleOnChange=a.handleOnChange.bind(Object(D.a)(Object(D.a)(a))),a.renderHeader=a.renderHeader.bind(Object(D.a)(Object(D.a)(a))),a.renderDetailsTable=a.renderDetailsTable.bind(Object(D.a)(Object(D.a)(a))),a.renderPriceSummary=a.renderPriceSummary.bind(Object(D.a)(Object(D.a)(a))),a.renderTotal=a.renderTotal.bind(Object(D.a)(Object(D.a)(a))),a.renderCashBack=a.renderCashBack.bind(Object(D.a)(Object(D.a)(a))),a.renderDisclaimer=a.renderDisclaimer.bind(Object(D.a)(Object(D.a)(a))),a.renderBackToDetail=a.renderBackToDetail.bind(Object(D.a)(Object(D.a)(a))),a.renderSignUp=a.renderSignUp.bind(Object(D.a)(Object(D.a)(a))),a.renderPayment=a.renderPayment.bind(Object(D.a)(Object(D.a)(a))),a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(C.a)(j.a.mark(function e(){var t,a,n,r,i,c,s,o,l,u,d,m,p,h;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.values,a=this.props,n=a.isAdHoc,r=a.params,i=a.verifyParams,c=a.category,s=a.userDetails,o=a.getPromo,l=a.handleAPI,u=a.sessionId,d=a.charged,!n){e.next=6;break}e.t0=u,e.next=9;break;case 6:return e.next=8,Object(k.v)(r,!1,i)();case 8:e.t0=e.sent;case 9:return m=e.t0,e.next=12,l(function(){return o(m,s&&s.token,Object(S.j)(t.promo_code),Object(S.j)(t.cashback))});case 12:p=e.sent,this.setState({sessionId:m,transactionData:d?{transaction:p}:p}),window.scrollTo(0,0),window.$("#intercom-container")&&window.$("#intercom-container").hide(),this.gaCheckOut&&"travel"===c&&(h=document.createRange(),this.gaCheckOut.appendChild(h.createContextualFragment('\n      \x3c!-- Google Code for PPS2 - Travel - CheckoutPage_ProceedPayment Conversion Page\n      In your html page, add the snippet and call\n      goog_report_conversion when someone clicks on the\n      chosen link or button. --\x3e\n      <script type="text/javascript">\n        /* <![CDATA[ */\n        goog_snippet_vars = function() {\n          var w = window;\n          w.google_conversion_id = 865122565;\n          w.google_conversion_label = "rJn8CLL_5oQBEIXywpwD";\n          w.google_remarketing_only = false;\n        }\n        // DO NOT CHANGE THE CODE BELOW.\n        goog_report_conversion = function(url) {\n          goog_snippet_vars();\n          window.google_conversion_format = "3";\n          var opt = new Object();\n          opt.onload_callback = function() {\n          if (typeof(url) != \'undefined\') {\n            window.location = url;\n          }\n        }\n        var conv_handler = window[\'google_trackConversion\'];\n        if (typeof(conv_handler) == \'function\') {\n          conv_handler(opt);\n        }\n      }\n      /* ]]> */\n      <\/script>\n      <script type="text/javascript"\n        src="//www.googleadservices.com/pagead/conversion_async.js">\n      <\/script>\n      ')));case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){window.$("#intercom-container")&&window.$("#intercom-container").show(),window.goog_report_conversion&&delete window.goog_report_conversion}},{key:"getPromo",value:function(){var e=Object(C.a)(j.a.mark(function e(){var t,a,n,r,i,c,s,o,l;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.values,n=t.sessionId,r=this.props,i=r.getPromo,c=r.userDetails,s=r.handleAPI,o=r.charged,e.next=4,s(function(){return i(n,c&&c.token,Object(S.j)(a.promo_code),Object(S.j)(a.cashback))});case 4:return l=e.sent,this.setState({transactionData:o?{transaction:l}:l}),e.abrupt("return",l);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setErrors",value:function(){var e=Object(C.a)(j.a.mark(function e(t){var a,n=this;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state.errors,e.abrupt("return",new Promise(function(e){n.setState({errors:Object(r.a)({},a,t)},e)}));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleOnChange",value:function(){var e=Object(C.a)(j.a.mark(function e(t,a,n){var i,c,s,o,l=this;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.state,c=i.values,s=i.errors,o={},n&&(o=Object(O.a)({},a,null)),e.abrupt("return",new Promise(function(e){l.setState({values:Object(r.a)({},c,Object(O.a)({},a,{type:t,value:n})),errors:Object(r.a)({},s,o)},e)}));case 4:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"renderHeader",value:function(){var e=this.props.headerData;return p.a.createElement(N,{logo:e.logo,logoName:e.logoName,insurerDesc:e.insurerDesc,data1:e.data1,data1Value:e.data1Value,data2:e.data2,data2Value:e.data2Value})}},{key:"renderDetailsTable",value:function(){var e=this.state.transactionData,t=this.props,a=t.mainDetails,n=t.subDetails,r=t.charged;return p.a.createElement(A,{mainDetails:a,subDetails:n,charged:r,transactionData:e})}},{key:"renderPriceSummary",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.state,a=t.transactionData,n=t.values,r=this.props,i=r.promoErrorString,c=r.isAdHoc,s=r.charged;return p.a.createElement(H,{charged:s,isAdHoc:c,isRenderPromo:e,transactionData:a,getPromo:this.getPromo,promoErrorString:i,promoCode:Object(S.j)(n.promo_code),handleOnChange:this.handleOnChange})}},{key:"renderTotal",value:function(){var e=this.state.transactionData;return p.a.createElement(K,{transactionData:e})}},{key:"renderCashBack",value:function(){var e=this.state,t=e.transactionData,a=e.values,n=e.errors,r=this.props,i=r.isLoggedIn,c=r.userDetails,s=r.charged;return p.a.createElement(G,{charged:s,transactionData:t,values:a,errors:n,isLoggedIn:i,rewardPoints:c&&c.reward_points,handleOnChange:this.handleOnChange,getPromo:this.getPromo})}},{key:"renderDisclaimer",value:function(){var e=this.state,t=e.values,a=e.errors,n=e.errorMsg,r=this.props,i=r.wordings,c=r.charged;return p.a.createElement(Q,{charged:c,values:t,errors:a,wordings:i,handleOnChange:this.handleOnChange,errorMsg:n})}},{key:"renderBackToDetail",value:function(){var e=this.props,t=e.backToDetails;return!e.isAdHoc&&t?p.a.createElement(_.a,{className:"checkout-button",variant:"medium-grey",width:300,height:72,onClick:t},p.a.createElement("p",null,"Back to Edit Details")):null}},{key:"renderChargedHeader",value:function(){return this.props.charged?p.a.createElement(w.f,{className:"charged-header",xs:12},p.a.createElement("p",null,"Receipt")):null}},{key:"renderSignUp",value:function(){var e=this.props,t=e.isLoggedIn,a=e.category,n=e.login;return e.charged||t?null:p.a.createElement("div",{className:"piggy"},p.a.createElement(P.a,{category:a,onClick:function(){return n.popup.openPopup(n.loginContainer.setInitialIndex(1))}}))}},{key:"renderWarning",value:function(){var e=this.state.errorMsg;return e?p.a.createElement(w.f,{xs:12},p.a.createElement("p",{className:"disclaimer-warning"},e)):null}},{key:"renderPayment",value:function(){var e=this,t=this.state,a=t.transactionData,n=t.values,r=t.sessionId,i=this.props,c=i.wordings,s=i.trackingTags,o=i.handleAPI,l=i.category,u=i.setCharged,d=i.charged,m=i.userDetails;return p.a.createElement(re,{getStripe:k.D,sessionId:r,checkout:k.F,wordings:c,trackingTags:s,setError:function(t){return e.setState({errorMsg:t})},charged:d,transactionData:a,values:n,promoCode:Object(S.j)(n.promo_code),useCashback:Object(S.j)(n.cashback),handleAPI:o,setCharged:u,category:l,getPromo:this.getPromo,id:m&&m.id,setErrors:this.setErrors})}},{key:"render",value:function(){var e=this,t=this.state.transactionData;return p.a.createElement(w.z,{className:"detail-main-container-new checkout-container",noGutters:!0},t&&p.a.createElement(m.Fragment,null,p.a.createElement(w.f,{xs:12,lg:7},p.a.createElement(w.z,{className:"detail-left-container",noGutters:!0},this.renderChargedHeader(),p.a.createElement(w.f,{className:"company-product-container",xs:12},this.renderHeader()),this.renderDetailsTable())),p.a.createElement(w.f,{lg:5},this.renderSignUp(),p.a.createElement(w.z,{className:"detail-right-container summary-container",noGutters:!0},p.a.createElement(w.f,{xs:12,className:"summary-seperator"}),this.renderPriceSummary(!1),this.renderPriceSummary(!0),this.renderCashBack(),p.a.createElement(w.f,{xs:12,className:"summary-seperator"}),this.renderTotal(),this.renderDisclaimer(),this.renderWarning(),this.renderPayment()))),p.a.createElement("div",{ref:function(t){return e.gaCheckOut=t}}))}}]),t}(m.Component));ie.defaultProps={promoErrorString:null,wordings:[],backToDetails:null,isAdHoc:!1,trackingTags:null,charged:!1,userDetails:null};var ce=Object(b.b)(function(e,t){var a=!(!t.isAdHoc||!t.adHocData||"paid"!==t.adHocData.status)||null,n=t.charged||a;return{login:e.login,transactionData:e.insurance.transactionData,promoErrorString:e.insurance.promoErrorString,userDetails:e.userDetails&&e.userDetails.data,adHocCharged:!(!t.isAdHoc||!t.adHocData||"paid"!==t.adHocData.status)||null,isCharged:n}},null,function(e,t,a){var n=e.isCharged?function(e){return Object(k.B)(e)()}:function(e,t,a,n){return Object(k.z)(t,e,a,n)()};return Object(r.a)({},a,e,{getPromo:n})})(ie),se=a(54),oe=function(e){function t(e){var a;Object(i.a)(this,t);var c=(a=Object(s.a)(this,Object(o.a)(t).call(this,e))).props,l=c.values,u=c.detailValues,h=c.selectedPlanData,b=c.isAdHoc,g=c.adHocData,f=c.planType,v=Object(S.g)(f,b,g,h,function(){return Object(y.c)(l,u,h,f)}),k=Object(S.e)("Travel Insurance",b,g,h,v.params),O=b?g.data.session_params:v.params.sessionParams.session_params,E=b?g.data.session_params.trip_type:l.trip_type.value,j=a.getTravelDate(O,b),C=a.getTravellingString(O),D=a.getTravellersDetails(O),w=null,_="Country";try{_=O.countries.length>1?"Countries":_,w=d.a.reduce(O.countries,function(e,t,a){return 0===a?"".concat(t):"".concat(e,", ").concat(t)},"")}catch(P){}return a.state=Object(r.a)({headerData:k.headerData,mainDetails:{title:"Insurance",attributes:Object(S.a)([{title:"Trip type",description:E}].concat(Object(n.a)(j),[{title:"Who is travelling",description:C},{title:_,description:w},{title:"Region",description:O.destination}]))},subDetails:D},v,{wordings:[].concat(Object(n.a)(v.wording?[p.a.createElement("span",null,"I have read and agree to abide by the ",p.a.createElement("a",{href:v.wording,target:"__blank"},"Policy Wording."))]:[]),[p.a.createElement(m.Fragment,null,p.a.createElement("span",null,"I agree to store this policy in my PolicyPal account after purchase, in accordance with the Personal Data Protection Act."),p.a.createElement("span",{className:"disclaimer-cashback-text"},"*Cashback ",p.a.createElement("a",{href:"/cashback",target:"_blank"},"Terms & Conditions")))])}),a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setFormState,a=e.doSetCategoryNavBar,n=e.history;t(k.b.CHECKOUT.index),Object(se.c)({page_title:"Travel - Checkout",page_path:"/travel/checkout"}),Object(se.a)("TravelReviewS"),document.body.style.backgroundColor="#F9FAFF",a(!0),n.location.pathname&&n.location.pathname==="/travel".concat(k.b.CHECKOUT.path)&&f.a.track("InitiateCheckout")}},{key:"componentWillUnmount",value:function(){var e=this.props.doSetCategoryNavBar;document.body.style.backgroundColor="#FFFFFF",e(!1)}},{key:"getTravellingString",value:function(e){var t=null;return"Family"===e.plan_type?t="Family, ".concat(e.num_adult," adults, ").concat(e.num_children," children"):"Group"===e.plan_type?t="Group, ".concat(e.num_adult," persons"):"Individual"===e.plan_type&&(t="Myself"),t}},{key:"getTravelDate",value:function(e,t){return"Single Trip"===e.trip_type||t&&"Annual Multi-Trip"!==e.trip_type?[{title:"Start date",description:e.start_date},{title:"End date",description:e.end_date}]:[{title:"Start date",description:e.start_date}]}},{key:"getTravellersDetails",value:function(e){return"Individual"===e.plan_type?[this.mainAdultDetail(e)]:"Group"===e.plan_type?[this.mainAdultDetail(e)].concat(Object(n.a)(this.adultsDetail(e))):[this.mainAdultDetail(e)].concat(Object(n.a)(this.adultsDetail(e)),Object(n.a)(this.childrenDetail(e)))}},{key:"mainAdultDetail",value:function(e){var t="Group"===e.plan_type?"Person":"Adult",a=e.blk_no?"".concat(e.blk_no," "):"";return Object(S.h)({key:"".concat(t," 1"),leftDetail:{title:"Details",attributes:Object(S.a)([{title:"Email",description:e.email||""},{title:"Last name",description:e.family_name||""},{title:"First name",description:e.given_name||""},{title:"ID type",description:e.id_type||""},{title:"ID number",description:e.nric||""},{title:"Date of birth",description:e.birth_date||""},{title:"Gender",description:e.gender||""},{title:"Race",description:e.race||""},{title:"Nationality",description:e.citizenship||""},{title:"Marital Status",description:e.marital_status||""},{title:"Occupation",description:e.occupation||""},{title:"Mobile number",description:e.mobile_number||""}])},rightDetail:{title:"Address",attributes:Object(S.a)([{title:"Address",description:"".concat(a).concat(e.address||"")},{title:"Unit no",description:e.unit_no||""},{title:"Postcode",description:e.postal||""}])}})}},{key:"adultsDetail",value:function(e){for(var t=[],a="Group"===e.plan_type?"group":"family",n="Group"===e.plan_type?"Person":"Adult",r=e.num_adult-1,i=0;i<r;++i)t.push({key:"".concat(n," ").concat(i+2),leftDetail:{title:"Details",attributes:Object(S.a)([{title:"Name",description:e[a][i].name||""},{title:"ID type",description:e[a][i].id_type||""},{title:"ID number",description:e[a][i].nric||""},{title:"Nationality",description:e[a][i].citizenship||""},{title:"Date of Birth",description:e[a][i].birth_date||""},{title:"Gender",description:e[a][i].gender||""},{title:"Mobile number",description:e[a][i].mobile_number||""},{title:"Relationship",description:e[a][i].relationship||""}])}});return t}},{key:"childrenDetail",value:function(e){for(var t=[],a=e.num_adult-1,n="Group"===e.plan_type?"group":"family",r=0;r<e.num_children;++r){var i=a+r;t.push({key:"Child ".concat(r+1),leftDetail:{title:"Details",attributes:Object(S.a)([{title:"Name",description:e[n][i].name||""},{title:"ID type",description:e[n][i].id_type||""},{title:"ID number",description:e[n][i].nric||""},{title:"Nationality",description:e[n][i].citizenship||""},{title:"Date of Birth",description:e[n][i].birth_date||""},{title:"Gender",description:e[n][i].gender||""},{title:"Relationship",description:e[n][i].relationship||""}])}})}return t}},{key:"render",value:function(){var e=this.state,t=e.headerData,a=e.mainDetails,n=e.subDetails,r=e.params,i=e.wordings,c=this.props,s=c.isAdHoc,o=c.setFormState,l=c.history;return p.a.createElement("div",{className:"travel-checkout-container"},p.a.createElement(ce,Object.assign({},this.props,{verifyParams:["quote_reference"],headerData:t,mainDetails:a,subDetails:n,backToDetails:function(){l.goBack()},wordings:i,params:r,category:"travel",trackingTags:{payment:function(e){f.a.track("AddPaymentInfo"),Object(se.b)("Travel - CheckoutPage_ProceedPayment",{event_category:"Travel",event_label:"Travel - CheckoutPage_ProceedPayment"}),Object(se.a)("TravelProceedPayA",{cashback:null!==e.useCashback,promo:null!==e.promoCode&&""!==e.promoCode})},receipt:function(){s||(f.a.track("Purchase",{currency:"SGD",value:r.amountPayable}),o(k.b.SUBMITTED.index),l.push("/travel".concat(k.b.SUBMITTED.path))),Object(se.c)({page_title:"Travel - Receipt",page_path:"/travel/Receipt"}),Object(se.a)("TravelConfirmationS")}}})))}}]),t}(m.Component);oe.defaultProps={charged:null,sessionId:null,adHocData:null,isAdHoc:!1,isLoggedIn:!1,selectedPlanData:null,values:null,detailValues:null};t.a=Object(h.a)(Object(b.b)(function(e,t){return{sessionId:t.isAdHoc?t.sessionId:e.insurance.sessionId}},function(e){return{setFormState:function(t){e(Object(k.K)(t))},doSetCategoryNavBar:function(t){e(Object(v.n)(t))}}})(oe))},750:function(e,t,a){"use strict";a.r(t);var n=a(12),r=a(11),i=a(14),c=a(13),s=a(15),o=a(1),l=a.n(o),u=a(6),d=a(489),m=(a(716),function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement(u.z,null,l.a.createElement(u.f,{className:"error-page"},l.a.createElement("p",null,"Oops. This page does not exists!")),l.a.createElement(d.a,null))}}]),t}(o.Component));t.default=m}}]);
//# sourceMappingURL=adhoccheckout.2e44b371.chunk.js.map