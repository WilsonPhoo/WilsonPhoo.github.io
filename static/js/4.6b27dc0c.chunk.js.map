{"version":3,"sources":["assets/images/forms/ArrowGradient.svg","components/Forms/DatePicker/DatePickerV2.js","components/Templates/Enquiry/Enquiry.js","components/Templates/ChangeInitialFormData/ChangeInitialFormData.js","components/Templates/StepProgressBar/StepProgressBar.js","components/Templates/FormLanding/FormLanding.js","components/Templates/CompareView/CompareViewTableAccordion.js","components/Templates/CompareView/CompareViewTable.js","components/Templates/CompareView/CompareView.js","components/Templates/PiggySignUp/PiggyFillForm.js","components/Templates/DetailForm/DetailForm.js","components/Forms/Slider/Slider.js","assets/images/common/Phone.svg","components/Templates/Accordion/Accordion.js","assets/images/Icons/Google.png","assets/images/Icons/Facebook.png","components/Templates/PiggySignUp/PiggySignUp.js","assets/images/Motor/Pig.svg","assets/images/common/Tick.svg"],"names":["module","exports","__webpack_require__","p","placeholderStringDefault","monthTextMapping","mediumHeight","bigHeight","deafultYearRange","DatePickerV2","props","_this","Object","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","this","_this$props","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","call","size","startDate","endDate","currDate","placeholderString","height","date","Date","year","getFullYear","month","getMonth","firstDay","lastDay","dateRangeStart","dateRangeEnd","placeHolder","state","isOpened","selectedString","currFirstDay","currLastDay","selectedStartDate","selectedEndDate","handleSelectClick","bind","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__","handleClickOutside","handleOnInputChange","handleKeyPress","handleExit","handleBlur","handleFocus","setSelectedDate","setNewDate","setCalender","onMovement","isFromFocus","nextProps","prevState","result","updateStartEndDate","dateName","dateReformed","storeStringToDate","isRange","incomingStartDate","incomingEndDate","isDateEqual","document","addEventListener","window","_this$props2","name","formStore","dateInner","setState","dateInnerDOM","ReactDOM","findDOMNode","datePickerDOM","wrapperRef","prevProps","_this$state","isStart","removeEventListener","toggleDateInner","_this$state2","isOverHeight","getBoundingClientRect","bottom","outerHeight","setArrowUp","top","style","left","concat","extraState","arguments","length","undefined","selectedCallback","newYear","newMonth","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","setNewState","_this$state3","focus","_this$state4","_this$props3","change","endRef","storeString","dateString","currDay","getDate","toString","slice","currMonth","currYear","newSelectedStartDate","newSelectedEndDate","wrappedInstance","error","event","_this$state5","_this$props4","isTargetWithinDateRangePicker","contains","target","doNotBlur","charCode","preventDefault","_this2","_this$state6","_this$props5","selectedStart","start_date","selectedEnd","end_date","inputField","input","getRenderedComponent","setTimeout","blur","value","defaultValue","_this3","relatedTarget","isChildren","isClicked","_this$state7","_this$props6","isError","moment","isValid","selectedDate","parts","split","_this4","_this$state8","_this$props7","zIndex","maxWidth","desc","extraInfo","errorString","validateForm","mainStyle","dropDownOpenStyle","isErrorStyle","rangeIcon","DateIn","DateOut","rangIconStyle","refValue","react__WEBPACK_IMPORTED_MODULE_9___default","a","createElement","_FormInputWrapper_FormInputWrapper__WEBPACK_IMPORTED_MODULE_18__","ref","node","formParent","className","onBlur","onFocus","onKeyUp","role","tabIndex","src","alt","redux_form__WEBPACK_IMPORTED_MODULE_12__","withRef","component","type","placeholder","autoComplete","onChange","onKeyPress","onMouseDown","e","innerWidth","Arrow","Component","defaultProps","connect","ownProps","getFormValues","form","datepicker","datePickerInner","Enquiry","marginTop","react__WEBPACK_IMPORTED_MODULE_5___default","reactstrap__WEBPACK_IMPORTED_MODULE_6__","Phone","href","ChangeInitialFormData","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","toolTipData","renderHeader","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__","renderDetailLabels","renderDetailValues","renderEditButton","renderSpeechScrollList","resetSubmit","nextState","closePopUp","speechScroll","isEditSubmitted","headerValue","storeForm","react__WEBPACK_IMPORTED_MODULE_8___default","valuesToListen","conditions","conditonValue","key","valuesArrayToListen","values","_","reduce","data","index","findIndex","push","isArray","constructor","Array","displayValue","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","aggregateDesc","extra","simplifyCost","jsx","onMouseEnter","onMouseMove","handleInsurerHover","map","onKeyDown","onClick","popupRef","openPopup","EditButton","submitCallback","_SpeechScroll_SpeechScroll__WEBPACK_IMPORTED_MODULE_13__","_Popup_Popup__WEBPACK_IMPORTED_MODULE_14__","r","React","cloneElement","children","editForm","dispatch","undoFormChange","resetSubmitStatus","StepProgressBar","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","getStateList","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","renderDescription","stateList","history","callback","formState","currIndex","s","go","stateDescriptions","charged","mainDesc","main","subDesc","sub","react__WEBPACK_IMPORTED_MODULE_7___default","reactstrap__WEBPACK_IMPORTED_MODULE_10__","xs","goBack","inputList","FORMSTATES","MAIN","noGutters","_Forms_Slider_Slider__WEBPACK_IMPORTED_MODULE_11__","isProductSlider","hideWidth","formStateList","withRouter","setInsurFormState","setInsuranceFormState","FormLanding","pageState","onPageInsurance","ACTIVE","resetMore","onPageMore","NONE","resetBusiness","onPageBusiness","setPage","resetIndicatorMore","resetIndicatorBusiness","opacity","updateOpacity","handlePromoClick","promo","promoPopup","openPopUp","newOpacity","Math","max","img1","img2","img3","imgAlt","isPromo","promoOuterStyle","promoImgStyle","react__WEBPACK_IMPORTED_MODULE_6___default","react__WEBPACK_IMPORTED_MODULE_6__","reactstrap__WEBPACK_IMPORTED_MODULE_8__","_PromoPopup_PromoPopup__WEBPACK_IMPORTED_MODULE_10__","setStateInsurance","setStateMore","setStateBusiness","CompareViewTableAccordion","classCallCheck","possibleConstructorReturn","getPrototypeOf","recursiveUpdate","assertThisInitialized","handleResize","accordion","offsetHeight","level","updateTabHeight","bgStyle","title","description","firstStyle","lastStyle","rotateStyle","react_default","transform","reactstrap_es","isOpen","CompareViewTable","productChangable","width","disclaimer","itemBorderStyle","infoContainerStyle","isValidDisclaimer","targets","arrayToMap","union","content","idx","dropdown","CompareView_CompareViewTableAccordion","renderTable","subContent","subTitle","sub_title","startCase","paddingStyle","Tick","Cross","CompareView","currentTab","isFixed","categoryWidth","handleScroll","handleOnClick","renderLists","renderEditForm","renderEditableHeader","renderBottomHeader","renderNonProductChangable","renderProductChangable","scrollTo","$","hide","show","forceFixedOnDesktop","catMarker","scrollPos","isNowFixed","bottomHeader","innerHeight","selectedInsurer","clickCallback","doTag","category","restrictions","ampTag","setRestrictionPopup","doAcceptTag","buttonDesc","currPlanData","plans","policyTypes","premium","isPriceUsed","leftStyle","premiumData","isPrice","price","net_price","toFixed","buttonText","selectedInsurers","cashbackProduct","cashback","cashbackText","cashbackJSX","renderData","frequency","Button","variant","setHoveredIndex","hoveredIndex","policyType","tripType","editableHeaders","insurer","matchedInsurer","find","validInsurers","insur","insurer_slug","insurerSlug","discountData","discountRawData","i","discount","amount","display","discountText","insurer_name","product","insurance_name","header","inurerLogoName","noDiscountPadding","react","Logos","isPriceExists","headerList","netPrice","discountPrice","life_frequency","isMultiple","coverageTypes","CompareView_CompareViewTable","coverages","default","notAccordion","tabs","coverageTypesDescs","tab","TabView","marginBottom","autoHeight","setTriggerHeightUpdate","setOpenCallback","scrollPopUpCallback","validForSelection","productSlug","insurance_slug","textAlign","flex","discount_data","handleInsurerBlur","_this5","fixedCatStyle","Accordion","_this6","SpeechScroll","_this7","RestrictionsPopup","resPopup","insurance","setHoveredInsurerIndex","PiggyFillForm","mainText","descText","PiggySignUp","subHeader","buttonInner","Facebook","Google","DetailForm","rightStickyStyle","handlePreSubmit","renderSignUp","renderSignUpButton","renderUpperRightContainer","onSubmit","login","selection_checkbox","loginContainer","setSuccessCallback","setInitialIndex","popup","upperMarker","stickyStyle","y","isLoggedIn","piggyCallback","PiggySignUp_PiggyFillForm","isPlanTotal","signUpStyle","Selection","options","sizeInSM","changePlan","planDetails","handleSubmit","checkoutButtonDesc","upperRightContainer","logo","logoDesc","planName","planTotal","errorArray","SLIDERSTATE","ONIDLE","ONDOWN","ONUP","Slider","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__","C_Users_Kaiser_Desktop_policypal_web_reactjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__","sliderWidth","sliderState","activeIndex","isUseDropDown","renderKnobs","renderSummary","handleSliderDown","handleSliderMove","handleSliderUp","indexToChange","selectedTabString","selectedTabIndex","indexOf","formStateIndex","listState","isDrop","rect","sliderStart","position","min","clientX","x","handleClick","len","indexToUse","handleProductSlider","round","newWidth","IDLE","isValidSelection","displayList","inputLength","leftOffset","isProductPassedPage","activeStyle","sliderStyle","dataToUse","prefix","suffix","valueToUse","_this$props8","knobColor1","knobColor2","_FormInputWrapper_FormInputWrapper__WEBPACK_IMPORTED_MODULE_11__","_DropDown_DropDownV2__WEBPACK_IMPORTED_MODULE_12__","dropList","isDisableTyping","slider","redux_form__WEBPACK_IMPORTED_MODULE_7__","openCallback","handleExpand","isWarning","openStyle","openText","arrowOpenStyle","borderStyle","isFullBorder","reactstrap__WEBPACK_IMPORTED_MODULE_7__","minHeight","ArrowGradient","Pig","components_FormsV3_Button_Button__WEBPACK_IMPORTED_MODULE_8__"],"mappings":"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","file":"static/js/4.6b27dc0c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ArrowGradient.50433ef5.svg\";","/**\r\n * DatePickerV2.js\r\n * Custom form dropdown menu with input\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport ReactDOM from 'react-dom';\r\nimport { Field, getFormValues } from 'redux-form';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\n\r\nimport Arrow from 'assets/images/forms/arrow.svg';\r\nimport DateIn from 'assets/images/forms/dateIn.svg';\r\nimport DateOut from 'assets/images/forms/dateOut.svg';\r\n\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\nimport { isDateEqual, storeStringToDate } from '../../../lib/dateFunctions';\r\n\r\nimport '../DropDown/DropDown.scss';\r\nimport './DatePickerV2.scss';\r\n\r\n/**\r\n * Constants\r\n */\r\n// Placeholder string when no input\r\nconst placeholderStringDefault = 'dd/mm/yyy';\r\n// Month text for display\r\nconst monthTextMapping = [\r\n  'January',\r\n  'Feburary',\r\n  'March',\r\n  'April',\r\n  'May',\r\n  'June',\r\n  'July',\r\n  'August',\r\n  'September',\r\n  'October',\r\n  'November',\r\n  'December',\r\n];\r\n\r\n// Height for medium dropdown\r\nconst mediumHeight = 60;\r\n// Height for big dropdown\r\nconst bigHeight = 72;\r\n// Default year range if not user defined\r\nconst deafultYearRange = 100;\r\n\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass DatePickerV2 extends Component {\r\n  /**\r\n   * Lifecycle Method - getDerivedStateFromProps\r\n   *\r\n   * Used to set sibling date range values for\r\n   * selected start and end date\r\n   *\r\n   * @param {object} nextProps Component props\r\n   */\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const result = {};\r\n\r\n    // Update selected Start End date state\r\n    function updateStartEndDate(dateName, date) {\r\n      const dateReformed = storeStringToDate(date);\r\n      if (dateReformed !== -1) {\r\n        result[dateName] = dateReformed;\r\n      }\r\n    }\r\n\r\n    // Only valid for date range picker\r\n    const { isRange, endDate } = nextProps;\r\n\r\n    if (isRange) {\r\n      const {\r\n        incomingStartDate,\r\n        incomingEndDate,\r\n      } = nextProps;\r\n      updateStartEndDate('selectedStartDate', incomingStartDate);\r\n      updateStartEndDate('selectedEndDate', incomingEndDate);\r\n    }\r\n\r\n    // Update end date from date range picker\r\n    if (endDate && !isDateEqual(endDate, prevState.dateRangeEnd)) {\r\n      result.dateRangeEnd = endDate;\r\n    }\r\n\r\n    return result === {} ? null : result;\r\n  }\r\n\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {object} props Component props\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // size - Size of this control\r\n    // startDate - Start range of date\r\n    // endDate - End range of date\r\n    // currDate - Day to set current view in calender (Default to today)\r\n    const {\r\n      size,\r\n      startDate,\r\n      endDate,\r\n      currDate,\r\n      placeholderString,\r\n    } = this.props;\r\n\r\n    // Get the control height\r\n    const height = size === 'big' ? bigHeight : mediumHeight;\r\n\r\n    // Get current date\r\n    const date = currDate || new Date();\r\n    const year = date.getFullYear();\r\n    const month = date.getMonth();\r\n    // Get first and last day of the month to display\r\n    const firstDay = new Date(year, month, 1);\r\n    const lastDay = new Date(year, month + 1, 0);\r\n    // Get the calender range\r\n    const dateRangeStart = startDate != null ? startDate : new Date(year - deafultYearRange, month);\r\n    const dateRangeEnd = endDate != null ? endDate : new Date(year + deafultYearRange, month);\r\n\r\n    // Get default placeholder string\r\n    const placeHolder = placeholderString != null ? placeholderString : placeholderStringDefault;\r\n\r\n    // isOpened - Whether dropdown is opened\r\n    // isError - Whether there is input error\r\n    // selectedString - The selected date string\r\n    // height - Control height\r\n    // currDate - Current selected date in view\r\n    // currFirstDay - Current first day of the month in view\r\n    // currLastDay - Current last day of the month in view\r\n    // monthDropdownOpen - Whether month selector is opened\r\n    // yearDropdownOpen - Whether year selector is opened\r\n    // selectedStartDate - Selected start date(If single select also use this)\r\n    // selectedEndDate - Selected end date for date range picker\r\n    // dateRangeStart - The actual calender start range\r\n    // dateRangeEnd - The actual calender end range\r\n    this.state = {\r\n      isOpened: false,\r\n      selectedString: placeHolder,\r\n      height,\r\n      currDate: date,\r\n      currFirstDay: firstDay,\r\n      currLastDay: lastDay,\r\n      selectedStartDate: null,\r\n      selectedEndDate: null,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n      placeHolder,\r\n    };\r\n\r\n    this.handleSelectClick = this.handleSelectClick.bind(this);\r\n    this.handleClickOutside = this.handleClickOutside.bind(this);\r\n    this.handleOnInputChange = this.handleOnInputChange.bind(this);\r\n    this.handleKeyPress = this.handleKeyPress.bind(this);\r\n    this.handleExit = this.handleExit.bind(this);\r\n    this.handleBlur = this.handleBlur.bind(this);\r\n    this.handleFocus = this.handleFocus.bind(this);\r\n\r\n    this.setSelectedDate = this.setSelectedDate.bind(this);\r\n    this.setNewDate = this.setNewDate.bind(this);\r\n    this.setCalender = this.setCalender.bind(this);\r\n    this.onMovement = this.onMovement.bind(this);\r\n\r\n    this.isFromFocus = false;\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentDidMount\r\n   */\r\n  componentDidMount() {\r\n    // Add Handler to handle click outside of screen\r\n    document.addEventListener('mousedown', this.handleClickOutside);\r\n    window.addEventListener('scroll', this.onMovement);\r\n    window.addEventListener('resize', this.onMovement);\r\n\r\n    const {\r\n      name,\r\n      formStore,\r\n      dateInner,\r\n    } = this.props;\r\n\r\n    // Update prefill dates\r\n    if (formStore && formStore[name]) {\r\n      this.setSelectedDate(storeStringToDate(formStore[name]));\r\n    }\r\n\r\n    this.setState({\r\n      dateInnerDOM: ReactDOM.findDOMNode(dateInner),\r\n      datePickerDOM: ReactDOM.findDOMNode(this.wrapperRef),\r\n    });\r\n\r\n    this.onMovement();\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentDidUpdate\r\n   *\r\n   * Used to update dropdown position\r\n   * of month and year selector\r\n   */\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const {\r\n      currDate,\r\n      selectedStartDate,\r\n      selectedEndDate,\r\n      dateRangeEnd,\r\n    } = this.state;\r\n\r\n    const { isStart } = this.props;\r\n\r\n    // If end date is shorten because of start date and\r\n    // end date is beyond range, shift back date\r\n    if (!isDateEqual(prevState.dateRangeEnd, dateRangeEnd)) {\r\n      if (dateRangeEnd < selectedEndDate) {\r\n        this.setSelectedDate(dateRangeEnd);\r\n      }\r\n    }\r\n\r\n    // Set month of end date to be not lesser than start date\r\n    if (!isStart && selectedStartDate && currDate && currDate < selectedStartDate) {\r\n      this.setNewDate(selectedStartDate);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentWillUnmount\r\n   */\r\n  componentWillUnmount() {\r\n    const { dateInner } = this.props;\r\n    // Remove Handler to handle click outside of screen\r\n    document.removeEventListener('mousedown', this.handleClickOutside);\r\n    window.removeEventListener('scroll', this.onMovement);\r\n    window.removeEventListener('resize', this.onMovement);\r\n\r\n    if (dateInner) {\r\n      dateInner.toggleDateInner(false);\r\n    }\r\n  }\r\n\r\n  onMovement() {\r\n    const { dateInnerDOM, datePickerDOM, isOpened } = this.state;\r\n    const { dateInner } = this.props;\r\n\r\n    if (isOpened && dateInnerDOM && datePickerDOM) {\r\n      const isOverHeight = datePickerDOM.getBoundingClientRect().bottom + 540 > window.outerHeight;\r\n      dateInner.setArrowUp(!isOverHeight);\r\n      const top = isOverHeight ? datePickerDOM.getBoundingClientRect().top - 450 : datePickerDOM.getBoundingClientRect().bottom + 10;\r\n      dateInnerDOM.style.left = `${datePickerDOM.getBoundingClientRect().left}px`;\r\n      dateInnerDOM.style.top = `${top}px`;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * setNewDate\r\n   *\r\n   * Set new current date and\r\n   * start and end of calender\r\n   *\r\n   * @param {date} date\r\n   */\r\n  setNewDate(date, extraState = {}, selectedCallback) {\r\n    const { isOpened } = this.state;\r\n    const { dateInner } = this.props;\r\n    const newYear = date.getFullYear();\r\n    const newMonth = date.getMonth();\r\n\r\n    // Get first and last day of visible month\r\n    const firstDay = new Date(newYear, newMonth, 1);\r\n    const lastDay = new Date(newYear, newMonth + 1, 0);\r\n\r\n    // Set new calender values\r\n    this.setState({\r\n      currDate: date,\r\n      currFirstDay: firstDay,\r\n      currLastDay: lastDay,\r\n      ...extraState,\r\n    }, () => {\r\n      if (selectedCallback) {\r\n        selectedCallback({\r\n          currDate: date,\r\n          currFirstDay: firstDay,\r\n          currLastDay: lastDay,\r\n          selectedStartDate: extraState.selectedStartDate,\r\n          selectedEndDate: extraState.selectedEndDate,\r\n        });\r\n      } else if (isOpened) {\r\n        dateInner.setNewState({\r\n          currDate: date,\r\n          currFirstDay: firstDay,\r\n          currLastDay: lastDay,\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * setCalender\r\n   *\r\n   * Set visible calender\r\n   *\r\n   * @param {number} month\r\n   * @param {number} year\r\n   */\r\n  setCalender(month, year) {\r\n    const {\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n    } = this.state;\r\n\r\n    let date = new Date(year, month);\r\n\r\n    // Cap date range\r\n    if (date < dateRangeStart) {\r\n      date = dateRangeStart;\r\n    } else if (date > dateRangeEnd) {\r\n      date = dateRangeEnd;\r\n    }\r\n\r\n    this.setNewDate(date);\r\n    this.wrapperRef.focus();\r\n  }\r\n\r\n  /**\r\n   * setSelectedDate\r\n   *\r\n   * Updated selected date to store\r\n   *\r\n   * @param {date} date\r\n   */\r\n  setSelectedDate(date, selectedCallback = () => {}) {\r\n    const { selectedStartDate, selectedEndDate } = this.state;\r\n\r\n    const {\r\n      change,\r\n      name,\r\n      isStart,\r\n      isRange,\r\n      endRef,\r\n      // dateInner,\r\n    } = this.props;\r\n\r\n    try {\r\n      let storeString = null;\r\n      let dateString = null;\r\n      if (date) {\r\n        // Get date values in string\r\n        const currDay = (`0${date.getDate().toString()}`).slice(-2);\r\n        const currMonth = (`0${(date.getMonth() + 1).toString()}`).slice(-2);\r\n        const currYear = date.getFullYear().toString();\r\n\r\n        // Get date in string\r\n        dateString = `${currDay}/${currMonth}/${currYear}`;\r\n        // String to store in store\r\n        storeString = `${currDay} ${monthTextMapping[currMonth - 1].slice(0, 3)} ${currYear}`;\r\n      }\r\n      \r\n      // Update the date in the store for the form\r\n      change(name, storeString);\r\n\r\n      let newSelectedStartDate = selectedStartDate;\r\n      let newSelectedEndDate = selectedEndDate;\r\n\r\n      // Set end and start to selected date\r\n      // Default use selectedStartDate if not range\r\n      if (isRange && !isStart) {\r\n        newSelectedEndDate = date;\r\n      } else {\r\n        newSelectedStartDate = date;\r\n        if (newSelectedEndDate < newSelectedStartDate) {\r\n          newSelectedEndDate = newSelectedStartDate;\r\n          \r\n          if (endRef && endRef.wrappedInstance) {\r\n            endRef.wrappedInstance.setSelectedDate(newSelectedStartDate);\r\n          }\r\n        }\r\n      }\r\n\r\n      // Set the new date\r\n      this.setNewDate(date, {\r\n        isOpened: false,\r\n        selectedString: dateString,\r\n        selectedEndDate: newSelectedEndDate,\r\n        selectedStartDate: newSelectedStartDate,\r\n      }, selectedCallback);\r\n\r\n      // Close the dropdown and update the selectedString\r\n      // Since is selection, there will be no error\r\n      // this.setState({\r\n      //   isOpened: false,\r\n      //   selectedString: dateString,\r\n      //   selectedEndDate: newSelectedEndDate,\r\n      //   selectedStartDate: newSelectedStartDate,\r\n      // });\r\n\r\n      this.isFromFocus = false;\r\n    } catch (error) {\r\n      // eslint-disable-next-line no-empty\r\n    }\r\n  }\r\n\r\n  /**\r\n   * End selection if click on outside\r\n   *\r\n   * @param {object} event\r\n   */\r\n  handleClickOutside(event) {\r\n    const { isOpened, dateInnerDOM } = this.state;\r\n    const { isTargetWithinDateRangePicker, dateInner } = this.props;\r\n\r\n    // If clicked outside of daterpicekr Inner or wrapper, go to exit\r\n    if (\r\n      isOpened &&\r\n      this.wrapperRef &&\r\n      !this.wrapperRef.contains(event.target) &&\r\n      dateInnerDOM &&\r\n      !dateInnerDOM.contains(event.target)\r\n    ) {\r\n      this.setState({\r\n        isOpened: false,\r\n      });\r\n\r\n      // If outside of any datepicker controls\r\n      if (!isTargetWithinDateRangePicker || (isTargetWithinDateRangePicker && !isTargetWithinDateRangePicker(event.target))) {\r\n        dateInner.toggleDateInner(false);\r\n      }\r\n\r\n      this.handleExit();\r\n\r\n      this.isFromFocus = false;\r\n      // this.handleExit();\r\n      this.doNotBlur = false;\r\n      return;\r\n    }\r\n\r\n    this.doNotBlur = true;\r\n  }\r\n\r\n  /**\r\n   * handleKeyPress\r\n   *\r\n   * Handle on enter key\r\n   *\r\n   * @param {object} target\r\n   */\r\n  handleKeyPress(target) {\r\n    const { dateInner } = this.props;\r\n\r\n    // If pressed on enter, go to exit\r\n    if (target.charCode === 13) {\r\n      target.preventDefault();\r\n      this.handleExit();\r\n      dateInner.toggleDateInner(false);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * handleSelectClick\r\n   *\r\n   * Handle toggling of datepicker\r\n   */\r\n  handleSelectClick() {\r\n    const {\r\n      isOpened,\r\n      placeHolder,\r\n      currDate,\r\n      currFirstDay,\r\n      currLastDay,\r\n      selectedStartDate,\r\n      selectedEndDate,\r\n      dateRangeStart,\r\n      dateRangeEnd,\r\n    } = this.state;\r\n\r\n    const {\r\n      change,\r\n      name,\r\n      dateInner,\r\n      isRange,\r\n      isStart,\r\n      formStore,\r\n    } = this.props;\r\n\r\n    let selectedStart = selectedStartDate || (formStore && storeStringToDate(formStore.start_date));\r\n    let selectedEnd = selectedEndDate || (formStore && storeStringToDate(formStore.end_date));\r\n    selectedStart = selectedStart === -1 ? null : selectedStart;\r\n    selectedEnd = selectedEnd === -1 ? null : selectedEnd;\r\n\r\n    const selectedCallback = (extraState = {}) => {\r\n      dateInner.toggleDateInner(!isOpened, {\r\n        setNewDate: this.setNewDate,\r\n        setSelectedDate: this.setSelectedDate,\r\n        currDate,\r\n        currFirstDay,\r\n        currLastDay,\r\n        selectedStartDate: selectedStart,\r\n        selectedEndDate: selectedEnd,\r\n        dateRangeStart,\r\n        dateRangeEnd,\r\n        isRange,\r\n        isStart,\r\n        ...extraState,\r\n      });\r\n\r\n      // ]if (!this.isFromFocus) {\r\n      this.setState({\r\n        isOpened: !isOpened,\r\n      }, () => {\r\n        if (!isOpened) {\r\n          this.onMovement();\r\n        }\r\n      });\r\n\r\n      const { selectedString } = this.state;\r\n      // Open if not opened and set the input string\r\n      // back to date form\r\n      if (!isOpened) {\r\n        if (selectedString !== placeHolder) {\r\n          change(name, selectedString);\r\n        }\r\n      } else {\r\n        this.handleExit();\r\n        if (this.inputField) {\r\n          const input = this.inputField.getRenderedComponent();\r\n          if (input) {\r\n            setTimeout(() => input.blur(), 2);\r\n          }\r\n        }\r\n      }\r\n      // }\r\n\r\n      this.isFromFocus = false;\r\n    };\r\n\r\n    if (isStart && selectedStart) {\r\n      this.setSelectedDate(selectedStart, selectedCallback);\r\n    } else if (selectedEnd) {\r\n      this.setSelectedDate(selectedEnd, selectedCallback);\r\n    } else {\r\n      selectedCallback();\r\n    }\r\n\r\n    // setTimeout(() => {\r\n    //   dateInner.toggleDateInner(!isOpened, {\r\n    //     setNewDate: this.setNewDate,\r\n    //     setSelectedDate: this.setSelectedDate,\r\n    //     currDate,\r\n    //     currFirstDay,\r\n    //     currLastDay,\r\n    //     selectedStartDate: selectedStart,\r\n    //     selectedEndDate: selectedEnd,\r\n    //     dateRangeStart,\r\n    //     dateRangeEnd,\r\n    //     isRange,\r\n    //     isStart,\r\n    //   });\r\n\r\n    //   // ]if (!this.isFromFocus) {\r\n    //   this.setState({\r\n    //     isOpened: !isOpened,\r\n    //   }, () => {\r\n    //     if (!isOpened) {\r\n    //       this.onMovement();\r\n    //     }\r\n    //   });\r\n\r\n    //   const { selectedString } = this.state;\r\n    //   // Open if not opened and set the input string\r\n    //   // back to date form\r\n    //   if (!isOpened) {\r\n    //     if (selectedString !== placeHolder) {\r\n    //       change(name, selectedString);\r\n    //     }\r\n    //   } else {\r\n    //     this.handleExit();\r\n    //     if (this.inputField) {\r\n    //       const input = this.inputField.getRenderedComponent();\r\n    //       if (input) {\r\n    //         setTimeout(() => input.blur(), 2);\r\n    //       }\r\n    //     }\r\n    //   }\r\n    //   // }\r\n\r\n    //   this.isFromFocus = false;\r\n    // }, 10);\r\n  }\r\n\r\n  /**\r\n   * Handles on input changes\r\n   *\r\n   * @param {object} event\r\n   */\r\n  async handleOnInputChange(event) {\r\n    // Wait for event to finish\r\n    await event;\r\n    // Get current input value\r\n    const value = event.target.defaultValue;\r\n\r\n    // Set new list items, height of dropdown list,\r\n    // Force open list on type, and set selected string to value\r\n    this.setState({\r\n      selectedString: value,\r\n    });\r\n  }\r\n\r\n  handleBlur(event) {\r\n    const isChildren = this.wrapperRef.contains(event.relatedTarget);\r\n    if (!isChildren && !this.doNotBlur) {\r\n      // Hackish, but to make sure this comes after setNewDate\r\n      setTimeout(() => {\r\n        this.handleExit();\r\n        this.isFromFocus = false;\r\n      }, 100);\r\n    }\r\n\r\n    this.doNotBlur = false;\r\n  }\r\n\r\n  handleFocus(event) {\r\n    const isChildren = this.wrapperRef.contains(event.relatedTarget);\r\n    if (event.relatedTarget && !isChildren && !this.isClicked) {\r\n      this.handleSelectClick();\r\n      this.isFromFocus = true;\r\n    }\r\n\r\n    this.isClicked = false;\r\n  }\r\n  /**\r\n   * handleExit\r\n   *\r\n   * Handle exit selection of entered input\r\n   */\r\n  handleExit() {\r\n    const {\r\n      selectedString,\r\n      dateRangeEnd,\r\n      dateRangeStart,\r\n      selectedStartDate,\r\n    } = this.state;\r\n\r\n    const {\r\n      change,\r\n      name,\r\n      isRange,\r\n      isStart,\r\n    } = this.props;\r\n\r\n    // Check if input string is valid date\r\n    let isError = !moment(selectedString, 'DD/MM/YYYY', true).isValid();\r\n    // The date in date form\r\n    let selectedDate = null;\r\n\r\n    // Check if date is within date range\r\n    if (!isError) {\r\n      const parts = selectedString.split('/');\r\n      selectedDate = new Date(parts[2], parts[1] - 1, parts[0]);\r\n      // isError = isStart && selectedEndDate ? selectedDate > selectedEndDate : isError;\r\n      isError = !isStart && selectedStartDate ? selectedStartDate > selectedDate : isError;\r\n      isError = selectedDate < dateRangeStart || dateRangeEnd < selectedDate ? true : isError;\r\n    }\r\n\r\n    // Close the dropdown and set any errors\r\n    this.setState({\r\n      isOpened: false,\r\n    });\r\n\r\n    // Set null to selected start or end date if error\r\n    if (isError) {\r\n      if (isRange && !isStart) {\r\n        this.setState({\r\n          selectedEndDate: null,\r\n        });\r\n      } else {\r\n        this.setState({\r\n          selectedStartDate: null,\r\n        });\r\n      }\r\n\r\n      // Null strings and store value\r\n      this.setState({\r\n        selectedString: '',\r\n      });\r\n      change(name, null);\r\n\r\n      return;\r\n    }\r\n\r\n    this.setSelectedDate(selectedDate);\r\n  }\r\n\r\n  /**\r\n   * Render component\r\n   */\r\n  render() {\r\n    const {\r\n      isOpened,\r\n      height,\r\n      placeHolder,\r\n    } = this.state;\r\n\r\n    if (height) {\r\n      const {\r\n        name,\r\n        zIndex,\r\n        maxWidth,\r\n        isRange,\r\n        isStart,\r\n        desc,\r\n        extraInfo,\r\n        errorString,\r\n        formStore,\r\n        validateForm,\r\n      } = this.props;\r\n\r\n      const mainStyle = {\r\n        height,\r\n        zIndex,\r\n        maxWidth,\r\n      };\r\n\r\n      const dropDownOpenStyle = isOpened ? 'dropdown-container-opened' : 'dropdown-container-closed';\r\n      const isErrorStyle = errorString ? 'error' : '';\r\n      const rangeIcon = isStart ? DateIn : DateOut;\r\n      const rangIconStyle = isStart ? 'date-img-in' : 'date-img-out';\r\n\r\n      const refValue = formStore ? formStore[name] : null;\r\n\r\n      return (\r\n        <FormInputWrapper\r\n          desc={desc}\r\n          ref={node => (this.formParent = node)}\r\n          extraInfo={extraInfo}\r\n          errorString={errorString}\r\n          refValue={refValue}\r\n          validateForm={validateForm}\r\n        >\r\n          <div\r\n            className=\"dropdown datepicker\"\r\n            style={mainStyle}\r\n            ref={node => (this.wrapperRef = node)}\r\n            onBlur={event => this.handleBlur(event)}\r\n            onFocus={event => this.handleFocus(event)}\r\n          >\r\n            <div\r\n              className={`dropdown-container \r\n                          ${dropDownOpenStyle} \r\n                          ${isErrorStyle}\r\n                        `}\r\n              style={{ height }}\r\n              onKeyUp={() => {}}\r\n              role=\"button\"\r\n              tabIndex={-1}\r\n            >\r\n              <div\r\n                className=\"selected-container align-items-center\"\r\n                style={{ height }}\r\n              >\r\n                {\r\n                  isRange ?\r\n                    <img\r\n                      className={`date-img ${rangIconStyle}`}\r\n                      src={rangeIcon}\r\n                      alt=\"Date Range Icon\"\r\n                    />\r\n                  :\r\n                    null\r\n                }\r\n                <div className=\"selected-text text-style\">\r\n                  <Field\r\n                    name={name}\r\n                    ref={node => this.inputField = node}\r\n                    withRef\r\n                    component=\"input\"\r\n                    type=\"text\"\r\n                    placeholder={placeHolder}\r\n                    autoComplete=\"off\"\r\n                    onChange={event => this.handleOnInputChange(event)}\r\n                    onKeyPress={this.handleKeyPress}\r\n                    onMouseDown={(e) => {\r\n                      if (window.innerWidth <= 576) {\r\n                        e.preventDefault();\r\n                      }\r\n                      this.isClicked = true;\r\n                      this.handleSelectClick();\r\n                    }}\r\n                    tabIndex={0}\r\n                  />\r\n                </div>\r\n                {\r\n                  isRange ?\r\n                    null\r\n                  :\r\n                    <div\r\n                      role=\"button\"\r\n                      className=\"selected-arrow\"\r\n                      onMouseDown={() => { this.isClicked = true; this.handleSelectClick(); }}\r\n                      tabIndex={-1}\r\n                    >\r\n                      <img\r\n                        src={Arrow}\r\n                        alt=\"arrow.svg\"\r\n                        className={`selected-arrow-style ${isOpened ? 'angle-up' : 'angle-down'}`}\r\n                      />\r\n                    </div>\r\n                }\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </FormInputWrapper>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\nDatePickerV2.defaultProps = {\r\n  maxWidth: '100%',\r\n  isStart: true,\r\n  isRange: false,\r\n  startDate: null,\r\n  endDate: null,\r\n  currDate: null,\r\n  placeholderString: placeholderStringDefault,\r\n  desc: null,\r\n  extraInfo: null,\r\n  errorString: null,\r\n  formStore: null,\r\n  validateForm: null,\r\n  isTargetWithinDateRangePicker: null,\r\n  endRef: null,\r\n};\r\n\r\nDatePickerV2.propTypes = {\r\n  formStore: PropTypes.object,\r\n  maxWidth: PropTypes.string,\r\n  size: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  zIndex: PropTypes.number.isRequired,\r\n  change: PropTypes.func.isRequired,\r\n  isStart: PropTypes.bool,\r\n  isRange: PropTypes.bool,\r\n  startDate: PropTypes.instanceOf(Date),\r\n  endDate: PropTypes.instanceOf(Date),\r\n  currDate: PropTypes.instanceOf(Date),\r\n  placeholderString: PropTypes.string,\r\n  desc: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  errorString: PropTypes.string,\r\n  validateForm: PropTypes.func,\r\n  dateInner: PropTypes.object.isRequired,\r\n  isTargetWithinDateRangePicker: PropTypes.func,\r\n  endRef: PropTypes.object,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  formStore: (getFormValues(ownProps.form)(state)),\r\n  dateInner: state.datepicker.datePickerInner,\r\n});\r\n\r\nexport default connect(mapStateToProps, null, null, { withRef: true })(DatePickerV2);\r\n","/**\r\n * Enquiry.js\r\n * Enquiry view that appears in most of the forms\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n*/\r\nimport React, { Component } from 'react';\r\nimport { Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Phone from 'assets/images/common/Phone.svg';\r\n\r\nimport './Enquiry.scss';\r\n\r\nclass Enquiry extends Component {\r\n  render() {\r\n    const { marginTop } = this.props;\r\n\r\n    return (\r\n      <Col className=\"enquiry-container\" style={{ marginTop }}>\r\n        <div className=\"upper-container\">\r\n          <p className=\"left-text\">\r\n            Need some assistance? Please contact us and one of our\r\n            Client Services Executives will be happy to guide you along.\r\n          </p>\r\n          <div className=\"right-text\">\r\n            <img src={Phone} alt=\"Phone.svg\" />\r\n            <a href=\"tel:+6531639184\">\r\n              +65 3163 9184\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <div className=\"lower-container\">\r\n          <p className=\"lower-main\">Speak to our Client Service Executives</p>\r\n          <p className=\"lower-sub\">Servicing hours:</p>\r\n          <p className=\"lower-sub\">10am - 7pm</p>\r\n          <p className=\"lower-sub\">Mondays to Fridays</p>\r\n          <p className=\"lower-sub\">(excluding public holidays)</p>\r\n        </div>\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nEnquiry.defaultProps = {\r\n  marginTop: 0,\r\n};\r\n\r\n\r\nEnquiry.propTypes = {\r\n  marginTop: PropTypes.number,\r\n};\r\n\r\nexport default Enquiry;\r\n","/**\r\n * ChangeInitialFormData.js\r\n * This is the green pencil button that appears mainly on\r\n * the compare view which will render the Edit Detail forms\r\n * of each category.\r\n *\r\n * Users will be able to change that form through this component\r\n * and will do a callback to update any changes, eg for compare view.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getFormValues, change } from 'redux-form';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport EditButton from 'assets/images/forms/EditButton.svg';\r\n\r\nimport SpeechScroll from '../SpeechScroll/SpeechScroll';\r\nimport Popup from '../Popup/Popup';\r\n\r\nimport { resetSubmitStatus } from '../../../actions/editFormActions';\r\nimport { simplifyCost } from '../../../lib/helperFunctions';\r\n\r\nimport './ChangeInitialFormData.scss';\r\n\r\nclass ChangeInitialFormData extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      toolTipData: [],\r\n    };\r\n\r\n    this.renderHeader = this.renderHeader.bind(this);\r\n    this.renderDetailLabels = this.renderDetailLabels.bind(this);\r\n    this.renderDetailValues = this.renderDetailValues.bind(this);\r\n    this.renderEditButton = this.renderEditButton.bind(this);\r\n    this.renderSpeechScrollList = this.renderSpeechScrollList.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { resetSubmit } = this.props;\r\n\r\n    resetSubmit();\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    const { closePopUp, toolTipData, speechScroll } = this.state;\r\n    const { resetSubmit } = this.props;\r\n\r\n    if (nextProps.isEditSubmitted) {\r\n      resetSubmit();\r\n    }\r\n\r\n    return nextProps.isEditSubmitted ||\r\n          closePopUp !== nextState.closePopUp ||\r\n          toolTipData !== nextState.toolTipData ||\r\n          speechScroll !== nextState.speechScroll;\r\n  }\r\n\r\n  renderHeader() {\r\n    const { headerValue, storeForm } = this.props;\r\n    if (storeForm && headerValue) {\r\n      const value = storeForm[headerValue] ? storeForm[headerValue] : '';\r\n      return <span className=\"edit-detail-header\">{value}</span>;\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderDetailLabels() {\r\n    const { valuesToListen, storeForm, conditions } = this.props;\r\n    const conditonValue = conditions ? storeForm[conditions.key] : null;\r\n    const valuesArrayToListen = conditonValue ? conditions.values[conditonValue] : null;\r\n\r\n    return (\r\n      <div className=\"edit-detail-label-container\">\r\n        {_.reduce(valuesToListen, (result, data, index) => {\r\n          if (\r\n            !valuesArrayToListen ||\r\n            (valuesArrayToListen && _.findIndex(valuesArrayToListen, value => value === data.value) !== -1)\r\n          ) {\r\n            result.push(<span key={`label-${index}`} className=\"detail-label\">{data.desc}</span>);\r\n          }\r\n          return result;\r\n        }, [])}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderDetailValues() {\r\n    const { speechScroll } = this.state;\r\n    const { storeForm, valuesToListen, conditions } = this.props;\r\n\r\n    const conditonValue = conditions ? storeForm[conditions.key] : null;\r\n    const valuesArrayToListen = conditonValue ? conditions.values[conditonValue] : null;\r\n\r\n    if (!storeForm || !speechScroll) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className=\"edit-detail-value-container\">\r\n        {\r\n          _.reduce(valuesToListen, (result, data, index) => {\r\n            if (\r\n              !valuesArrayToListen ||\r\n              (valuesArrayToListen && _.findIndex(valuesArrayToListen, value => value === data.value) !== -1)\r\n            ) {\r\n              const value = storeForm[data.value] ? storeForm[data.value] : 'None';\r\n              const isArray = value.constructor === Array;\r\n\r\n              let displayValue = isArray ? [...value] : value;\r\n              if (data.aggregateDesc && isArray && displayValue.length > 1) {\r\n                displayValue = `${displayValue.length} ${data.aggregateDesc}`;\r\n              }\r\n\r\n              if (data.extra === 'cost_simplify') {\r\n                displayValue = simplifyCost(value);\r\n              }\r\n\r\n              const jsx = (\r\n                <div key={`detail-${index}`}>\r\n                  <span className=\"detail-value\">\r\n                    {displayValue}\r\n                    {\r\n                      isArray && displayValue.length > 1 ?\r\n                        <div\r\n                          className=\"tooltip-button\"\r\n                          onMouseEnter={() => this.setState({\r\n                            toolTipData: value,\r\n                          })}\r\n                          onMouseMove={(event) => {\r\n                            speechScroll.handleInsurerHover(event);\r\n                          }}\r\n                        >\r\n                          <p>i</p>\r\n                        </div>\r\n                      :\r\n                        null\r\n                    }\r\n                  </span>\r\n                </div>\r\n              );\r\n\r\n              result.push(jsx);\r\n            }\r\n\r\n            return result;\r\n          }, [])\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderSpeechScrollList() {\r\n    const { toolTipData } = this.state;\r\n    return _.map(toolTipData, (data, index) => <p className=\"tooltip-text\" key={`tooptip-${index}`}>{data}</p>);\r\n  }\r\n\r\n  renderEditButton() {\r\n    /* if (!storeForm) {\r\n      return null;\r\n    } */\r\n\r\n    return (\r\n      <div\r\n        className=\"edit-container\"\r\n        role=\"button\"\r\n        tabIndex={-1}\r\n        onKeyDown={() => {}}\r\n        onClick={() => {\r\n          this.popupRef.openPopup();\r\n        }}\r\n      >\r\n        <img src={EditButton} alt=\"EditButton.svg\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { submitCallback } = this.props;\r\n\r\n    return (\r\n      <div className=\"change-form-container\">\r\n        <div className=\"edit-detail-container\">\r\n          {this.renderHeader()}\r\n          <div className=\"edit-detail-inner-container\">\r\n            {this.renderDetailLabels()}\r\n            {this.renderDetailValues()}\r\n          </div>\r\n          {this.renderEditButton()}\r\n        </div>\r\n        <SpeechScroll\r\n          ref={node => !this.state.speechScroll && this.setState({ speechScroll: node })}\r\n        >\r\n          {this.renderSpeechScrollList()}\r\n        </SpeechScroll>\r\n        <Popup ref={(r) => { this.popupRef = r; }}>\r\n          {React.cloneElement(this.props.children, {\r\n            submitCallback,\r\n          })}\r\n        </Popup>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nChangeInitialFormData.defaultProps = {\r\n  submitCallback: null,\r\n  conditions: null,\r\n  headerValue: null,\r\n};\r\n\r\nChangeInitialFormData.propTypes = {\r\n  valuesToListen: PropTypes.array.isRequired,\r\n  storeForm: PropTypes.object.isRequired,\r\n  isEditSubmitted: PropTypes.bool.isRequired,\r\n  resetSubmit: PropTypes.func.isRequired,\r\n  submitCallback: PropTypes.func,\r\n  conditions: PropTypes.object,\r\n  headerValue: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  storeForm: getFormValues(ownProps.form)(state),\r\n  isEditSubmitted: state.editForm.isEditSubmitted,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  undoFormChange: (form, key, value) => {\r\n    dispatch(change(form, key, value));\r\n  },\r\n  resetSubmit: () => {\r\n    dispatch(resetSubmitStatus());\r\n  },\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ChangeInitialFormData);\r\n","/**\r\n * StepProgressBar.js\r\n * Used to display the progress steps used in all categories\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { Row, Col } from 'reactstrap';\r\n\r\nimport Slider from '../../Forms/Slider/Slider';\r\n\r\nimport { setInsuranceFormState, FORMSTATES } from '../../../actions/insuranceActions';\r\n\r\nimport './StepProgressBar.scss';\r\n\r\nclass StepProgressBar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.getStateList = this.getStateList.bind(this);\r\n    this.renderDescription = this.renderDescription.bind(this);\r\n  }\r\n\r\n  getStateList() {\r\n    const {\r\n      stateList,\r\n      history,\r\n    } = this.props;\r\n\r\n    return _.map(stateList, (state, index) => ({\r\n      state: state.index,\r\n      callback: (formState) => {\r\n        const currIndex = _.findIndex(stateList, s => s.index === formState);\r\n        history.go(-(currIndex - index));\r\n      },\r\n    }));\r\n  }\r\n\r\n  renderDescription() {\r\n    const {\r\n      formState,\r\n      stateList,\r\n      stateDescriptions,\r\n      charged,\r\n      history,\r\n    } = this.props;\r\n\r\n    try {\r\n      const currIndex = _.findIndex(stateList, state => state.index === formState);\r\n      const mainDesc = charged ? 'Receipt' : stateDescriptions[currIndex].main;\r\n      const subDesc = stateDescriptions[currIndex].sub;\r\n\r\n      if (!mainDesc && !subDesc) {\r\n        return null;\r\n      }\r\n\r\n      return (\r\n        <Col className=\"step-progress-description-container\" xs={12}>\r\n          {\r\n            currIndex !== 0 ?\r\n              <button\r\n                className=\"back-button\"\r\n                onClick={() => {\r\n                  history.goBack();\r\n                }}\r\n              >\r\n                Back\r\n              </button>\r\n            :\r\n              null\r\n          }\r\n          {\r\n            mainDesc ?\r\n              <p className=\"main\">{mainDesc}</p>\r\n            :\r\n              null\r\n          }\r\n          {\r\n            subDesc ?\r\n              <p className=\"sub\">{subDesc}</p>\r\n            :\r\n              null\r\n          }\r\n        </Col>\r\n      );\r\n    } catch (error) {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      formState,\r\n      charged,\r\n      inputList,\r\n      maxWidth,\r\n    } = this.props;\r\n\r\n    if (formState !== FORMSTATES.MAIN.index && !charged) {\r\n      return (\r\n        <Row noGutters>\r\n          <Col className=\"d-none d-sm-flex mx-auto product-slider\" xs={12}>\r\n            <Slider\r\n              isProductSlider\r\n              hideWidth={576}\r\n              maxWidth={maxWidth}\r\n              inputList={inputList}\r\n              formStateList={this.getStateList()}\r\n              formState={formState}\r\n            />\r\n          </Col>\r\n          {this.renderDescription()}\r\n        </Row>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\nStepProgressBar.defaultProps = {\r\n  charged: null,\r\n  maxWidth: '400px',\r\n};\r\n\r\nStepProgressBar.propTypes = {\r\n  formState: PropTypes.number.isRequired,\r\n  // setInsurFormState: PropTypes.func.isRequired,\r\n  inputList: PropTypes.array.isRequired,\r\n  stateList: PropTypes.array.isRequired,\r\n  charged: PropTypes.bool,\r\n  stateDescriptions: PropTypes.array.isRequired,\r\n  maxWidth: PropTypes.string,\r\n  // form: PropTypes.string.isRequired,\r\n  history: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setInsurFormState: (state) => {\r\n    dispatch(setInsuranceFormState(state));\r\n  },\r\n});\r\n\r\nexport default withRouter(connect(null, mapDispatchToProps)(StepProgressBar));\r\n","/**\r\n * FormLanding.js\r\n * Wrapper that takes in the main landing form and\r\n * renders the 3 images with description, along\r\n * with the promo button\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component, Fragment } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\n\r\nimport PromoPopup from '../PromoPopup/PromoPopup';\r\n\r\nimport {\r\n  onPageInsurance,\r\n  setStateInsurance,\r\n  onPageMore,\r\n  setStateMore,\r\n  onPageBusiness,\r\n  setStateBusiness,\r\n} from '../../../actions/navActions';\r\n\r\nimport './FormLanding.scss';\r\n\r\nconst maxWidthOpaque = 1570;\r\n\r\nclass FormLanding extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // Set Insurance Page Indicator\r\n    const pageState = onPageInsurance.ACTIVE;\r\n    // Reset More Page Indicator\r\n    const resetMore = onPageMore.NONE;\r\n\r\n    // Reset Business Page Indicator\r\n    const resetBusiness = onPageBusiness.NONE;\r\n\r\n    const {\r\n      setPage,\r\n      resetIndicatorMore,\r\n      resetIndicatorBusiness,\r\n    } = this.props;\r\n    setPage(pageState);\r\n    resetIndicatorMore(resetMore);\r\n    resetIndicatorBusiness(resetBusiness);\r\n\r\n    this.state = {\r\n      opacity: 1,\r\n    };\r\n\r\n    this.updateOpacity = this.updateOpacity.bind(this);\r\n    this.handlePromoClick = this.handlePromoClick.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { promo } = this.props;\r\n    this.updateOpacity();\r\n    window.addEventListener('resize', this.updateOpacity);\r\n\r\n    if (promo && promo.main && promo.main.length > 0) {\r\n      this.promoPopup.openPopUp(promo);\r\n    }\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, prevState) {\r\n    const { opacity } = this.state;\r\n    return opacity !== prevState.opacity;\r\n  }\r\n\r\n  /**\r\n   * Lifecycle Method - componentWillUnmount\r\n   */\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.updateOpacity);\r\n  }\r\n\r\n  updateOpacity() {\r\n    const newOpacity = window.innerWidth / 1570;\r\n    this.setState({\r\n      opacity: window.innerWidth > maxWidthOpaque || window.innerWidth <= 576 ? 1 : Math.max(0.2, newOpacity * newOpacity * newOpacity),\r\n    });\r\n  }\r\n\r\n  handlePromoClick() {\r\n    this.promoPopup.popupRef.openPopup();\r\n  }\r\n\r\n  render() {\r\n    const { opacity } = this.state;\r\n    const {\r\n      img1,\r\n      img2,\r\n      img3,\r\n      promo,\r\n      desc,\r\n      imgAlt,\r\n    } = this.props;\r\n\r\n    const isPromo = promo && promo.main && promo.main.length > 0;\r\n    const promoOuterStyle = isPromo ? 'promo-outer-extra' : '';\r\n    const promoImgStyle = isPromo ? 'promo-img-extra' : '';\r\n\r\n    return (\r\n      <Fragment>\r\n        <Row noGutters>\r\n          <Col className={`landing-form-img-container ${promoImgStyle}`}>\r\n            <img className=\"img-1 align-self-end\" src={img1} alt={`${imgAlt} 1`} />\r\n            <img className=\"img-2 align-self-end\" src={img2} alt={`${imgAlt} 2`} />\r\n            <img className=\"img-3 align-self-end\" src={img3} alt={`${imgAlt} 3`} style={{ opacity }} />\r\n          </Col>\r\n        </Row>\r\n        <Row noGutters>\r\n          <Col>\r\n            <div className={`landing-form-outer-container ${promoOuterStyle}`}>\r\n              {\r\n                isPromo ?\r\n                  <button className=\"promo-button\" onClick={this.handlePromoClick}>\r\n                    {/* <img className=\"promo\" src={img3} alt=\"Promo.svg\" /> */}\r\n                  </button>\r\n                :\r\n                  null\r\n              }\r\n              <div className=\"desc\">\r\n                {desc}\r\n              </div>\r\n              {this.props.children}\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n        <PromoPopup\r\n          ref={node => this.promoPopup = node}\r\n        />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nFormLanding.defaultProps = {\r\n  promo: null,\r\n  setPage: null,\r\n  resetIndicatorMore: null,\r\n  resetIndicatorBusiness: null,\r\n  imgAlt: 'Landing',\r\n};\r\n\r\nFormLanding.propTypes = {\r\n  img1: PropTypes.string.isRequired,\r\n  img2: PropTypes.string.isRequired,\r\n  img3: PropTypes.string.isRequired,\r\n  promo: PropTypes.object,\r\n  desc: PropTypes.object.isRequired,\r\n  setPage: PropTypes.func,\r\n  resetIndicatorMore: PropTypes.func,\r\n  resetIndicatorBusiness: PropTypes.func,\r\n  imgAlt: PropTypes.string,\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setPage: (pageState) => {\r\n    dispatch(setStateInsurance(pageState));\r\n  },\r\n  resetIndicatorMore: (resetMore) => {\r\n    dispatch(setStateMore(resetMore));\r\n  },\r\n  resetIndicatorBusiness: (resetBusiness) => {\r\n    dispatch(setStateBusiness(resetBusiness));\r\n  },\r\n});\r\n\r\nexport default withRouter(connect(null, mapDispatchToProps)(FormLanding));\r\n","/**\r\n * CompareViewTableAccordion.js\r\n * Accordion view for table in compare view\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Collapse, CardBody, Card } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Arrow from 'assets/images/forms/arrow.svg';\r\n\r\nclass CompareViewTableAccordion extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isOpened: false,\r\n      height: 0,\r\n    };\r\n\r\n    this.recursiveUpdate = this.recursiveUpdate.bind(this);\r\n    this.handleResize = this.handleResize.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('resize', this.handleResize);\r\n    this.handleResize();\r\n  }\r\n\r\n  /* shouldComponentUpdate(nextProps, nextState) {\r\n    return nextState !== this.state;\r\n  } */\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.handleResize);\r\n  }\r\n\r\n  handleResize() {\r\n    this.setState({\r\n      height: this.accordion.children[2].children[0].offsetHeight,\r\n    });\r\n  }\r\n\r\n  recursiveUpdate(level, max) {\r\n    if (level < max) {\r\n      const { updateTabHeight } = this.props;\r\n      setTimeout(() => { updateTabHeight(); this.recursiveUpdate(level + 1, max); }, 200);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { isOpened, height } = this.state;\r\n    const {\r\n      bgStyle,\r\n      title,\r\n      description,\r\n      updateTabHeight,\r\n      firstStyle,\r\n      lastStyle,\r\n    } = this.props;\r\n    const rotateStyle = isOpened ? '180deg' : '0deg';\r\n\r\n    return (\r\n      <div className=\"info-accordian-container\" ref={node => this.accordion = node}>\r\n        <div\r\n          role=\"button\"\r\n          tabIndex={-1}\r\n          onKeyDown={() => {}}\r\n          className={`desc-accordion-container ${bgStyle} ${firstStyle} ${lastStyle}`}\r\n          onClick={() => {\r\n            this.setState({ isOpened: !isOpened });\r\n            if (!isOpened) {\r\n              updateTabHeight(height);\r\n            } else {\r\n              updateTabHeight(-height);\r\n            }\r\n          }}\r\n        >\r\n          <p className=\"title\">{title}</p>\r\n          <p className=\"desc\">{description}</p>\r\n          <div className=\"arrow-container\">\r\n            <img src={Arrow} alt=\"Arrow.svg\" style={{ transform: `rotate(${rotateStyle})` }} />\r\n          </div>\r\n        </div>\r\n        <Collapse isOpen={isOpened}>\r\n          <Card>\r\n            <CardBody>\r\n              {this.props.children}\r\n            </CardBody>\r\n          </Card>\r\n        </Collapse>\r\n        <div className=\"temp-container\">\r\n          <Collapse isOpen={true}>\r\n            <Card>\r\n              <CardBody>\r\n                {this.props.children}\r\n              </CardBody>\r\n            </Card>\r\n          </Collapse>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nCompareViewTableAccordion.defaultProps = {\r\n  updateTabHeight: null,\r\n  firstStyle: '',\r\n  lastStyle: '',\r\n};\r\n\r\nCompareViewTableAccordion.propTypes = {\r\n  bgStyle: PropTypes.string.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  description: PropTypes.string.isRequired,\r\n  updateTabHeight: PropTypes.func,\r\n  firstStyle: PropTypes.string,\r\n  lastStyle: PropTypes.string,\r\n};\r\n\r\n\r\nexport default CompareViewTableAccordion;\r\n","/**\r\n * CompareViewTable.js\r\n * Renders the table view in compare view.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Tick from 'assets/images/common/Tick.svg';\r\nimport Cross from 'assets/images/forms/cross.svg';\r\n\r\nimport CompareViewTableAccordion from './CompareViewTableAccordion';\r\nimport './CompareView.scss';\r\n\r\nclass CompareViewTable extends Component {\r\n  // Recursive function to handle normal rows or dropdown rows\r\n  // If dropdown, it will recursively render the contents in the dropdown using this\r\n  // same function\r\n  renderTable(data, productChangable, width, updateTabHeight, disclaimer = null) {\r\n    const itemBorderStyle = productChangable ? 'item-border' : '';\r\n    const infoContainerStyle = productChangable ? 'info-container-border' : '';\r\n\r\n    const isValidDisclaimer = disclaimer && _.reduce(disclaimer.targets, (result, target) => (\r\n      target || result\r\n    ), false);\r\n    const arrayToMap = isValidDisclaimer ? _.union(data, [disclaimer]) : data;\r\n\r\n    return _.map(arrayToMap, (content, idx) => {\r\n      const bgStyle = idx % 2 ? 'white' : 'green';\r\n\r\n      if (content.dropdown) {\r\n        return (\r\n          <CompareViewTableAccordion\r\n            key={`${content.title}${idx}`}\r\n            bgStyle={bgStyle}\r\n            title={content.title}\r\n            description={content.description}\r\n            updateTabHeight={updateTabHeight}\r\n          >\r\n            {this.renderTable(content.subContent, productChangable, width)}\r\n          </CompareViewTableAccordion>\r\n        );\r\n      }\r\n\r\n      const subTitle = content.sub_title ? <p className=\"desc title-desc\">{_.startCase(content.sub_title)}</p> : null;\r\n      return (\r\n        <div className=\"info-container\" key={`${content.title}${idx}`}>\r\n          {\r\n            content.title ?\r\n              <div className={`desc-resp-container d-flex d-md-none ${bgStyle} ${infoContainerStyle}`}>\r\n                <p className=\"title\">{content.title}</p>\r\n                {subTitle}\r\n              </div>\r\n            :\r\n              null\r\n          }\r\n          <div className={`item-container ${bgStyle} ${infoContainerStyle}`}>\r\n            <div className=\"d-none d-md-flex item-desc desc-width\">\r\n              <p className=\"title\">{content.title}</p>\r\n              {subTitle}\r\n            </div>\r\n            <div className=\"category-resp-container\">\r\n              {\r\n                _.map(content.targets, (target, index) => {\r\n                  if (!target) {\r\n                    return (\r\n                      <div\r\n                        key={`${target}${index}`}\r\n                        className={`item ${itemBorderStyle}`}\r\n                        style={{ width }}\r\n                      >\r\n                        <div className=\"item-inner\">\r\n                          N/A\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  }\r\n\r\n                  const isDisclaimer = isValidDisclaimer && idx === arrayToMap.length - 1;\r\n                  const paddingStyle = isDisclaimer ? 'no-padding' : '';\r\n\r\n                  let description = null;\r\n                  if (target.description === 'YES') {\r\n                    description = <img className=\"tick\" src={Tick} alt=\"Tick.svg\" />;\r\n                  } else if (target.description === 'NO') {\r\n                    description = <img className=\"tick\" src={Cross} alt=\"cross.svg\" />;\r\n                  }\r\n\r\n                  return (\r\n                    <div\r\n                      key={`${target.value}${index}`}\r\n                      className={`item ${itemBorderStyle} ${paddingStyle}`}\r\n                      style={{ width }}\r\n                    >\r\n                      <div className=\"item-inner\">\r\n                        {\r\n                          target.value === 'Covered' ?\r\n                            <img className=\"tick\" src={Tick} alt=\"Tick.svg\" />\r\n                          :\r\n                          target.value\r\n                        }\r\n                        {\r\n                          description || <p className=\"desc\">{target.description}</p>\r\n                        }\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      data,\r\n      disclaimer,\r\n      productChangable,\r\n      width,\r\n      updateTabHeight,\r\n    } = this.props;\r\n\r\n    if (!data) {\r\n      return null;\r\n    }\r\n\r\n    return this.renderTable(data.content, productChangable, width, updateTabHeight, disclaimer);\r\n  }\r\n}\r\n\r\nCompareViewTable.defaultProps = {\r\n  disclaimer: null,\r\n  updateTabHeight: null,\r\n};\r\n\r\nCompareViewTable.propTypes = {\r\n  data: PropTypes.object.isRequired,\r\n  productChangable: PropTypes.bool.isRequired,\r\n  width: PropTypes.string.isRequired,\r\n  disclaimer: PropTypes.object,\r\n  updateTabHeight: PropTypes.func,\r\n};\r\n\r\n\r\nexport default CompareViewTable;\r\n","/**\r\n * CompareView.js\r\n *\r\n * - The Compare view\r\n * - 2 modes, products changable or just fixed comparaison.\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport _ from 'lodash';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n// import EditButton from 'assets/images/forms/EditButton.svg';\r\nimport Logos from 'assets/images/InsurerLogos';\r\nimport TabView from '../TabView/TabView';\r\nimport Accordion from '../Accordion/Accordion';\r\nimport Button from '../../FormsV3/Button/Button';\r\nimport CompareViewTable from './CompareViewTable';\r\nimport SpeechScroll from '../SpeechScroll/SpeechScroll';\r\nimport RestrictionsPopup from '../RestrictionsPopup/RestrictionsPopup';\r\n\r\nimport { setHoveredInsurerIndex } from '../../../actions/insuranceActions';\r\nimport { setRestrictionPopup } from '../../../actions/restrictionsActions';\r\nimport { ampTag } from '../../../lib/tagFunctions';\r\nimport './CompareView.scss';\r\n\r\nclass CompareView extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const { data, currentTab } = nextProps;\r\n    if (data !== prevState.data || currentTab !== prevState.currentTab) {\r\n      return ({\r\n        data,\r\n        currentTab,\r\n      });\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { data, currentTab/* , forceFixedOnDesktop */ } = this.props;\r\n    // isFixed - Used to determine sticky headers in responsive view\r\n    // categoryWidth - Used to determine sticky headers in responsive view\r\n    this.state = {\r\n      isFixed: false, // forceFixedOnDesktop,\r\n      categoryWidth: `${100 / 3}%`,\r\n      data,\r\n      currentTab,\r\n    };\r\n\r\n    this.handleScroll = this.handleScroll.bind(this);\r\n    this.handleOnClick = this.handleOnClick.bind(this);\r\n\r\n    this.renderTable = this.renderTable.bind(this);\r\n    this.renderLists = this.renderLists.bind(this);\r\n\r\n    this.renderHeader = this.renderHeader.bind(this);\r\n    this.renderEditForm = this.renderEditForm.bind(this);\r\n    this.renderEditableHeader = this.renderEditableHeader.bind(this);\r\n    this.renderBottomHeader = this.renderBottomHeader.bind(this);\r\n\r\n    this.renderSpeechScrollList = this.renderSpeechScrollList.bind(this);\r\n    this.renderNonProductChangable = this.renderNonProductChangable.bind(this);\r\n    this.renderProductChangable = this.renderProductChangable.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    // window.addEventListener('scroll', this.handleScroll);\r\n    window.scrollTo(0, 0);\r\n\r\n    if (window.$('#intercom-container')) {\r\n      window.$('#intercom-container').hide();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (window.$('#intercom-container')) {\r\n      window.$('#intercom-container').show();\r\n    }\r\n\r\n    // window.removeEventListener('scroll', this.handleScroll);\r\n  }\r\n\r\n  handleScroll() {\r\n    const { isFixed } = this.state;\r\n    const { forceFixedOnDesktop } = this.props;\r\n    if (!forceFixedOnDesktop && window.innerWidth > 576) {\r\n      if (isFixed) {\r\n        this.setState({\r\n          isFixed: false,\r\n        });\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (this.catMarker) {\r\n      const scrollPos = this.catMarker.getBoundingClientRect().top;\r\n\r\n      let isNowFixed = false;\r\n\r\n      if (this.bottomHeader) {\r\n        const markerPosForBottom = window.innerHeight - this.bottomHeader.offsetHeight;\r\n        isNowFixed = scrollPos > markerPosForBottom;\r\n      } else {\r\n        isNowFixed = scrollPos <= 60;\r\n      }\r\n\r\n      // console.log(scrollPos);\r\n      if (isNowFixed !== isFixed) {\r\n        this.setState({\r\n          isFixed: isNowFixed,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  handleOnClick(selectedInsurer, clickCallback, doTag) {\r\n    const { category } = this.props;\r\n    if (doTag) {\r\n      doTag();\r\n    }\r\n\r\n    if (selectedInsurer.restrictions) {\r\n      ampTag(`${_.startCase(category)}RestrictionsS`);\r\n      this.props.setRestrictionPopup({\r\n        values: selectedInsurer.restrictions,\r\n        clickCallback,\r\n        doAcceptTag: () => ampTag(`${_.startCase(category)}AcceptA`),\r\n      });\r\n      return;\r\n    }\r\n\r\n    clickCallback();\r\n  }\r\n\r\n  renderHeader() {\r\n    const {\r\n      categoryWidth,\r\n      data,\r\n      currentTab,\r\n    } = this.state;\r\n\r\n    const { buttonDesc, category } = this.props;\r\n\r\n    const currPlanData = data.plans[currentTab];\r\n    if (!data.policyTypes || !currPlanData || !currPlanData.premium) {\r\n      return null;\r\n    }\r\n\r\n    let isPriceUsed = false;\r\n    return _.reduce(data.policyTypes, (result, type, index) => {\r\n      const leftStyle = index !== 0 ? 'border-left' : '';\r\n      const premiumData = currPlanData.premium[index];\r\n\r\n      if (!premiumData) {\r\n        result.push(<div key={`header-${index}`} className={`category-container ${leftStyle}`} style={{ width: categoryWidth }} />);\r\n      }\r\n\r\n      const isPrice = premiumData.price && premiumData.price !== premiumData.net_price;\r\n      const price = isPrice ? `$${premiumData.price.toFixed(2)}` : '';\r\n\r\n      isPriceUsed = isPriceUsed || isPrice;\r\n\r\n      const buttonText = buttonDesc || (premiumData.net_price ? 'Buy Now' : 'Enquire');\r\n\r\n      const selectedInsurer = 'default' in data.plans ? data.selectedInsurers[0] : data.selectedInsurers[index];\r\n\r\n      const cashbackProduct = premiumData.cashback && premiumData.cashback > 0 ? `Earn ${(premiumData.cashback * premiumData.net_price).toFixed(2)} cashback` : null;\r\n\r\n      let cashbackText = null;\r\n      if (category === 'life' || category === 'endowment' || category === 'retirement') {\r\n        cashbackText = 'Get $5 Cashback!';\r\n      } else if (category === 'travel' || category === 'motor' || category === 'pa' || category === 'pet') {\r\n        cashbackText = 'Get 5% Cashback!';\r\n      }\r\n\r\n      const cashbackJSX = cashbackProduct ? (\r\n        <p className=\"cashback\">{cashbackProduct}</p>\r\n      ) : (\r\n        <a\r\n          className=\"cashback cashback-link\"\r\n          href=\"/faq\"\r\n          target=\"__blank\"\r\n        >\r\n          {cashbackText}\r\n        </a>\r\n      );\r\n\r\n\r\n      const renderData = (\r\n        <div key={`header-${index}`} className={`category-container top-header ${leftStyle}`} style={{ width: categoryWidth }}>\r\n          <p className=\"category\">{_.startCase(type)}</p>\r\n          <p className=\"sub-category\">{premiumData.frequency}</p>\r\n          <p className=\"cost\">{`$${premiumData.net_price.toFixed(2)}`}</p>\r\n          {\r\n            isPriceUsed ?\r\n              <p className=\"bottom-discount\">{price}</p>\r\n            :\r\n              null\r\n          }\r\n          <div className=\"buy-button\">\r\n            <Button\r\n              variant=\"medium-flat-green\"\r\n              width={165}\r\n              height={48}\r\n              onClick={() => this.handleOnClick(selectedInsurer, premiumData.onClick, premiumData.doTag)}\r\n            >\r\n              <p>{buttonText}</p>\r\n            </Button>\r\n            {\r\n              cashbackProduct || cashbackText ?\r\n                cashbackJSX\r\n              :\r\n                <p className=\"cashback\" />\r\n            }\r\n          </div>\r\n        </div>\r\n      );\r\n\r\n      result.push(renderData);\r\n      return result;\r\n    }, []);\r\n  }\r\n\r\n  renderEditForm() {\r\n    const { editForm } = this.props;\r\n    if (editForm) {\r\n      return (\r\n        <div className=\"desc-width overview edit-form\">\r\n          {editForm}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return <div className=\"desc-width overview d-none d-sm-flex\" />;\r\n  }\r\n\r\n  renderEditableHeader() {\r\n    const {\r\n      categoryWidth,\r\n      speechScroll,\r\n      data,\r\n    } = this.state;\r\n\r\n    const { setHoveredIndex, hoveredIndex } = this.props;\r\n\r\n    if (!speechScroll) {\r\n      return null;\r\n    }\r\n\r\n    let policyType = 'default';\r\n    if (data.tripType) {\r\n      policyType = data.tripType === 'Single Trip' ? 'single' : 'annual';\r\n    }\r\n    const editableHeaders = _.map(data.selectedInsurers, (insurer) => {\r\n      if (!insurer) {\r\n        return null;\r\n      }\r\n\r\n      const matchedInsurer = _.find(data.validInsurers, insur => insur.insurer_slug === insurer.insurerSlug);\r\n      let discountData = null;\r\n      try {\r\n        const discountRawData = _.find(data.selectedInsurers, i => i.insurerSlug === insurer.insurerSlug);\r\n        if (discountRawData) {\r\n          discountData = discountRawData.discount[policyType];\r\n        }\r\n      } catch (error) {\r\n        // eslint-disable-next-line\r\n      }\r\n      // const discountData = matchedInsurer.discount_data ? matchedInsurer.discount_data[policyType] : null;\r\n      const discount = discountData && discountData.amount > 0 ? discountData.display : null;\r\n      // try {\r\n      //   discount = discount.toFixed(2);\r\n      // } catch (error) {\r\n      //   console.log('Discount to fixed failed!');\r\n      // }\r\n      const discountText = discount ? `UP TO ${discount} OFF` : null;\r\n\r\n      return ({\r\n        insurerSlug: matchedInsurer.insurer_slug,\r\n        insurer: matchedInsurer.insurer_name,\r\n        product: matchedInsurer.insurance_name,\r\n        discount: discountText,\r\n      });\r\n    });\r\n\r\n    return _.map(editableHeaders, (header, index) => {\r\n      const inurerLogoName = header ? `${header.insurer}Logo` : `empty-${index}`;\r\n      const noDiscountPadding = header && header.discount ? '' : 'no-discount';\r\n\r\n      return (\r\n        <div\r\n          key={inurerLogoName}\r\n          className={`category-container product-changable-category ${noDiscountPadding}`}\r\n          style={{ width: categoryWidth }}\r\n        >\r\n          <button\r\n            className=\"edit-container\"\r\n            tabIndex={-1}\r\n            onClick={() => {\r\n\r\n            }}\r\n            onMouseMove={(event) => {\r\n              if (hoveredIndex !== index) {\r\n                setHoveredIndex(index);\r\n              }\r\n              speechScroll.handleInsurerHover(event);\r\n            }}\r\n          >\r\n            More Options\r\n          </button>\r\n          {\r\n            header ?\r\n              <Fragment>\r\n                <div className=\"insurer-container\">\r\n                  <img src={Logos[header.insurerSlug]} alt={`${inurerLogoName}.png`} />\r\n                </div>\r\n                <p className=\"product-text\">{header.product}</p>\r\n                {\r\n                  header.discount ?\r\n                    <div className=\"discount\">\r\n                      <p>{header.discount}</p>\r\n                    </div>\r\n                  :\r\n                    null\r\n                }\r\n              </Fragment>\r\n            :\r\n             null\r\n          }\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  renderBottomHeader() {\r\n    const {\r\n      categoryWidth,\r\n      data,\r\n      currentTab,\r\n    } = this.state;\r\n\r\n    const {\r\n      productChangable,\r\n      buttonDesc,\r\n      category,\r\n    } = this.props;\r\n\r\n    const currPlanData = data.plans[currentTab];\r\n    if (!currPlanData) {\r\n      return null;\r\n    }\r\n    const { premium } = currPlanData;\r\n    const isPriceExists = _.reduce(\r\n      premium, (result, header) => result || (header && header.net_price && (header.net_price !== header.price)),\r\n      false,\r\n    );\r\n\r\n    const headerList = _.map(premium, (header, index) => {\r\n      const leftStyle = productChangable ? 'line-border' : '';\r\n\r\n      if (!header) {\r\n        return (\r\n          <div\r\n            key={`cashback${index}`}\r\n            className={`category-container bottom-border na ${leftStyle}`}\r\n            style={{ width: categoryWidth }}\r\n          >\r\n            <p className=\"na-text\">N/A</p>\r\n          </div>\r\n        );\r\n      }\r\n\r\n      const netPrice = header.net_price ? `$${header.net_price.toFixed(2)}` : '';\r\n      const price = header.price ? header.price.toFixed(2) : '';\r\n\r\n      const discountPrice = netPrice && netPrice.toString() !== `$${price.toString()}` ? `$${price}` : '';\r\n      const buttonText = buttonDesc || (header.net_price ? 'Buy Now' : 'Enquire');\r\n\r\n      const cashbackProduct = header.cashback && header.net_price ? `Earn ${(header.cashback * header.net_price).toFixed(2)} cashback` : null;\r\n      let cashbackText = null;\r\n      if (category === 'life' || category === 'endowment' || category === 'retirement') {\r\n        cashbackText = 'Get $5 Cashback!';\r\n      } else if (category === 'travel' || category === 'motor' || category === 'pa' || category === 'pet') {\r\n        cashbackText = 'Get 5% Cashback!';\r\n      }\r\n\r\n      const cashbackJSX = cashbackProduct ? (\r\n        <p className=\"cashback\">{cashbackProduct}</p>\r\n      ) : (\r\n        <a\r\n          className=\"cashback cashback-link\"\r\n          href=\"/faq\"\r\n          target=\"__blank\"\r\n        >\r\n          {cashbackText}\r\n        </a>\r\n      );\r\n\r\n      return (\r\n        <div\r\n          key={`cashback${index}`}\r\n          className={`category-container bottom-border ${leftStyle}`}\r\n          style={{ width: categoryWidth }}\r\n        >\r\n          {\r\n            netPrice !== '' ?\r\n              <p className=\"bottom-cost\">{netPrice}</p>\r\n            :\r\n              null\r\n          }\r\n          {\r\n            isPriceExists ?\r\n              <p className=\"bottom-discount\">{discountPrice}</p>\r\n            :\r\n              null\r\n          }\r\n          {\r\n            header.life_frequency ?\r\n              <p className=\"extra-info\">{header.life_frequency}</p>\r\n            :\r\n              null\r\n          }\r\n          <div className=\"buy-button\">\r\n            <Button\r\n              variant=\"medium-flat-green\"\r\n              width={180}\r\n              height={48}\r\n              onClick={() => this.handleOnClick(data.selectedInsurers[index], header.onClick, header.doTag)}\r\n            >\r\n              <p>{buttonText}</p>\r\n            </Button>\r\n            {\r\n              cashbackText || cashbackProduct ?\r\n                cashbackJSX\r\n              :\r\n                null\r\n            }\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div className=\"info-container\">\r\n        <div className=\"category-container-bottom\">\r\n          <div className=\"desc-width bottom-overview bottom-border d-none d-md-flex\" />\r\n          <div className=\"category-resp-container\">\r\n            {headerList}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderLists(isMultiple) {\r\n    const { categoryWidth, data, currentTab } = this.state;\r\n\r\n    const {\r\n      productChangable,\r\n    } = this.props;\r\n\r\n    const currPlanData = data.plans[currentTab];\r\n    if (!currPlanData) {\r\n      return null;\r\n    }\r\n\r\n    if (isMultiple) {\r\n      return _.map(data.coverageTypes, (type, index) => (\r\n        <CompareViewTable\r\n          data={currPlanData.coverages[type]}\r\n          disclaimer={currPlanData.coverages.disclaimer}\r\n          productChangable={productChangable}\r\n          width={categoryWidth}\r\n          key={`${type}-${index}`}\r\n        />\r\n      ));\r\n    }\r\n    return (\r\n      <CompareViewTable\r\n        data={currPlanData.coverages.default}\r\n        disclaimer={currPlanData.coverages.disclaimer}\r\n        productChangable={productChangable}\r\n        width={categoryWidth}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderTable() {\r\n    const { data } = this.state;\r\n    const {\r\n      notAccordion,\r\n    } = this.props;\r\n\r\n    const tabs = _.map(data.coverageTypesDescs, tab => ({ desc: tab }));\r\n\r\n    if (tabs.length > 1) {\r\n      return (\r\n        <TabView\r\n          style={{ marginTop: 44, marginBottom: 34 }}\r\n          tabs={tabs}\r\n          autoHeight\r\n          setTriggerHeightUpdate={() => {\r\n            if (!notAccordion) {\r\n              this.accordion.setOpenCallback();\r\n            }\r\n          }}\r\n          name=\"overview-tab\"\r\n        >\r\n          {this.renderLists(true)}\r\n        </TabView>\r\n      );\r\n    }\r\n\r\n    return this.renderLists(false);\r\n  }\r\n\r\n  renderSpeechScrollList() {\r\n    const { speechScroll, data } = this.state;\r\n    const { scrollPopUpCallback, hoveredIndex } = this.props;\r\n    if (!speechScroll) {\r\n      return null;\r\n    }\r\n\r\n    const validForSelection = _.reduce(data.validInsurers, (result, insurer) => {\r\n      const matchedCurrentIndex = _.findIndex(data.selectedInsurers, insur => insur && insur.productSlug === insurer.insurance_slug);\r\n      if (matchedCurrentIndex === -1) {\r\n        result.push(insurer);\r\n      }\r\n      return result;\r\n    }, []);\r\n\r\n    if (validForSelection.length === 0) {\r\n      return (\r\n        <button>\r\n          <p style={{ textAlign: 'center', flex: 1 }}>None</p>\r\n        </button>\r\n      );\r\n    }\r\n\r\n    let policyType = 'default';\r\n    if (data.tripType) {\r\n      policyType = data.tripType === 'Single Trip' ? 'single' : 'annual';\r\n    }\r\n    return _.map(validForSelection, (insurer, index) => {\r\n      const discountData = insurer.discount_data ? insurer.discount_data[policyType] : null;\r\n      const discount = discountData && discountData.amount > 0 ? discountData.display : null;\r\n\r\n      return (\r\n        <button\r\n          key={`data.insurer${index}`}\r\n          onClick={(event) => {\r\n            if (scrollPopUpCallback) scrollPopUpCallback(insurer, hoveredIndex);\r\n            speechScroll.handleInsurerBlur(event);\r\n          }}\r\n        >\r\n          <div className=\"insurer-container\">\r\n            <img src={Logos[insurer.insurer_slug]} alt={`${insurer.insurer_name}.png`} />\r\n          </div>\r\n          <p>{insurer.insurer_name}</p>\r\n          {\r\n            discount ?\r\n              <div className=\"popup-discount\">\r\n                <p className=\"up\">UP TO</p>\r\n                <div className=\"bottom\">\r\n                  <p className=\"bottom-left\">{discount.slice(0, discount.length - 1)}</p>\r\n                  <div className=\"bottom-right\">\r\n                    <p className=\"percent\">%</p>\r\n                    <p className=\"off\">OFF</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            :\r\n            null\r\n          }\r\n        </button>\r\n      );\r\n    });\r\n  }\r\n\r\n  renderNonProductChangable() {\r\n    const {\r\n      isFixed,\r\n    } = this.state;\r\n\r\n    const { notAccordion } = this.props;\r\n\r\n    const fixedCatStyle = isFixed ? 'category-resp-fixed-container' : 'category-resp-fixed-hidden-container';\r\n    const headerList = this.renderHeader();\r\n\r\n    return (\r\n      <Col className=\"overview-container\" xs={12}>\r\n        <Row className=\"detail-container\" noGutters>\r\n          <div className=\"desc-width overview d-none d-md-flex\">\r\n            <p className=\"overview-text\">Overview</p>\r\n          </div>\r\n          <div ref={node => (this.catMarker = node)} />\r\n          <div className={`category-resp-container ${fixedCatStyle}`}>\r\n            {headerList}\r\n          </div>\r\n          <div className=\"category-resp-container\">\r\n            {headerList}\r\n          </div>\r\n          {\r\n            notAccordion ?\r\n              <Fragment>\r\n                {this.renderTable()}\r\n              </Fragment>\r\n            :\r\n              <Accordion ref={node => this.accordion = node}>\r\n                {this.renderTable()}\r\n              </Accordion>\r\n          }\r\n        </Row>\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  renderProductChangable() {\r\n    const {\r\n      isFixed,\r\n    } = this.state;\r\n\r\n    const { notAccordion, className } = this.props;\r\n\r\n    const fixedCatStyle = isFixed ? 'category-resp-fixed-bottom-container' : 'category-resp-fixed-hidden-container';\r\n    const headerList = this.renderBottomHeader();\r\n\r\n    return (\r\n      <Col className={`overview-container  ${className}`} xs={12}>\r\n        <Row className=\"detail-not-changable-container\" noGutters>\r\n          {this.renderEditForm()}\r\n          <div className=\"category-resp-container\">\r\n            <SpeechScroll\r\n              offsetHeight={40}\r\n              ref={node => !this.state.speechScroll && this.setState({ speechScroll: node })}\r\n            >\r\n              {this.renderSpeechScrollList()}\r\n            </SpeechScroll>\r\n            {this.renderEditableHeader()}\r\n          </div>\r\n          {\r\n            notAccordion ?\r\n              <Fragment>\r\n                {this.renderTable()}\r\n                <div className=\"category-resp-container\" ref={node => this.bottomHeader = node}>\r\n                  {headerList}\r\n                  <div ref={node => (this.catMarker = node)} />\r\n                </div>\r\n              </Fragment>\r\n            :\r\n              <Accordion ref={node => this.accordion = node}>\r\n                {this.renderTable()}\r\n                <div className=\"category-resp-container\" ref={node => this.bottomHeader = node}>\r\n                  {headerList}\r\n                  <div ref={node => (this.catMarker = node)} />\r\n                </div>\r\n              </Accordion>\r\n          }\r\n          <div className={`category-resp-container ${fixedCatStyle}`}>\r\n            {headerList}\r\n          </div>\r\n        </Row>\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { productChangable } = this.props;\r\n    return (\r\n      <Fragment>\r\n        { productChangable ?\r\n          this.renderProductChangable()\r\n          :\r\n          this.renderNonProductChangable()\r\n        }\r\n        <RestrictionsPopup ref={node => this.resPopup = node} />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nCompareView.defaultProps = {\r\n  notAccordion: false,\r\n  productChangable: false,\r\n  className: '',\r\n  editForm: null,\r\n  scrollPopUpCallback: null,\r\n  currentTab: null,\r\n  hoveredIndex: 0,\r\n  buttonDesc: null,\r\n  forceFixedOnDesktop: false,\r\n  category: null,\r\n};\r\n\r\nCompareView.propTypes = {\r\n  data: PropTypes.object.isRequired,\r\n  notAccordion: PropTypes.bool,\r\n  productChangable: PropTypes.bool,\r\n  className: PropTypes.string,\r\n  editForm: PropTypes.object,\r\n  currentTab: PropTypes.string,\r\n  hoveredIndex: PropTypes.number,\r\n  scrollPopUpCallback: PropTypes.func,\r\n  setHoveredIndex: PropTypes.func.isRequired,\r\n  setRestrictionPopup: PropTypes.func.isRequired,\r\n  buttonDesc: PropTypes.string,\r\n  forceFixedOnDesktop: PropTypes.bool,\r\n  category: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  hoveredIndex: state.insurance.hoveredIndex,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setHoveredIndex: (index) => {\r\n    dispatch(setHoveredInsurerIndex(index));\r\n  },\r\n  setRestrictionPopup: (data) => {\r\n    dispatch(setRestrictionPopup(data));\r\n  },\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CompareView);\r\n","/**\r\n * PiggyFillForm.js\r\n * The piggy component in DetailForm\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n * @author [Nicolette](nicolette@policypal.com)\r\n */\r\nimport React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Google from 'assets/images/Icons/Google.png';\r\nimport Facebook from 'assets/images/Icons/Facebook.png';\r\n\r\nimport PiggySignUp from './PiggySignUp';\r\n\r\nclass PiggyFillForm extends Component {\r\n  render() {\r\n    const { onClick, category } = this.props;\r\n\r\n    const mainText = category === 'life' || category === 'endowment' || category === 'retirement' ?\r\n      'Earn extra $5 Credits instantly!' :\r\n      'Sign in to get 5% Cashback on your purchase!';\r\n\r\n    const descText = category === 'life' || category === 'endowment' || category === 'retirement' ?\r\n      'Submit the form below as a PolicyPal user to earn $5 Credits in your account.' :\r\n      'Purchase as a PolicyPal user to earn 5% Cashback in your account within 14 days.';\r\n\r\n    return (\r\n      <PiggySignUp\r\n        header={\r\n          <p className=\"main-text\">{mainText}</p>\r\n        }\r\n        subHeader={\r\n          <p className=\"desc-text\">{descText}</p>\r\n        }\r\n        buttonInner={\r\n          <Fragment>\r\n            <span>Sign in to PolicyPal account</span>\r\n            <img src={Facebook} alt=\"Facebook.png\" />\r\n            <img src={Google} alt=\"Google.png\" />\r\n          </Fragment>\r\n        }\r\n        onClick={onClick}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nPiggyFillForm.defaultProps = {\r\n  onClick: () => {},\r\n};\r\n\r\nPiggyFillForm.propTypes = {\r\n  onClick: PropTypes.func,\r\n  category: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default PiggyFillForm;\r\n","/**\r\n * DetailForm.js\r\n * Wrapper that contains the piggy login and the\r\n * right container to checkout or choose plan\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { Row, Col } from 'reactstrap';\r\n\r\n// Import Insurer Logos\r\nimport PiggyFillForm from 'components/Templates/PiggySignUp/PiggyFillForm';\r\n\r\nimport Button from 'components/FormsV3/Button/Button';\r\nimport Selection from '../../Forms/Selection/Selection';\r\nimport Enquiry from '../../Templates/Enquiry/Enquiry';\r\n\r\nimport './DetailForm.scss';\r\n\r\nclass DetailForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      rightStickyStyle: 'right-scroll',\r\n    };\r\n\r\n    this.handlePreSubmit = this.handlePreSubmit.bind(this);\r\n    this.handleScroll = this.handleScroll.bind(this);\r\n    this.renderSignUp = this.renderSignUp.bind(this);\r\n    this.renderSignUpButton = this.renderSignUpButton.bind(this);\r\n    this.renderUpperRightContainer = this.renderUpperRightContainer.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('scroll', this.handleScroll);\r\n    window.scrollTo(0, 0);\r\n    this.handleScroll();\r\n\r\n    if (window.$('#intercom-container')) {\r\n      window.$('#intercom-container').hide();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (window.$('#intercom-container')) {\r\n      window.$('#intercom-container').show();\r\n    }\r\n\r\n    window.removeEventListener('scroll', this.handleScroll);\r\n  }\r\n\r\n  handlePreSubmit(e) {\r\n    const { onSubmit, login } = this.props;\r\n    if (e.selection_checkbox && e.selection_checkbox.length === 1) {\r\n      login.loginContainer.setSuccessCallback(() => onSubmit(e));\r\n      login.loginContainer.setInitialIndex(2);\r\n      login.popup.openPopup();\r\n      return;\r\n    }\r\n    onSubmit(e);\r\n  }\r\n\r\n  handleScroll() {\r\n    if (this.upperMarker) {\r\n      const { rightStickyStyle } = this.state;\r\n      const stickyStyle = this.upperMarker.getBoundingClientRect().y < 84 ? 'right-sticky' : 'right-scroll';\r\n\r\n      if (rightStickyStyle !== stickyStyle) {\r\n        this.setState({\r\n          rightStickyStyle: stickyStyle,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  renderSignUp() {\r\n    const {\r\n      isLoggedIn,\r\n      login,\r\n      piggyCallback,\r\n      category,\r\n    } = this.props;\r\n\r\n    if (!isLoggedIn) {\r\n      return (\r\n        <Row className=\"detail-upper-container\" noGutters>\r\n          <Col xs={12}>\r\n            <PiggyFillForm\r\n              category={category}\r\n              onClick={() => {\r\n                login.loginContainer.setSuccessCallback(piggyCallback);\r\n                login.loginContainer.setInitialIndex(1);\r\n                login.popup.openPopup();\r\n              }}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderSignUpButton(isPlanTotal) {\r\n    const { isLoggedIn, form, change } = this.props;\r\n    const signUpStyle = isPlanTotal ? '' : 'no-total';\r\n\r\n    if (!isLoggedIn) {\r\n      return (\r\n        <div className={`sign-up ${signUpStyle}`}>\r\n          <Selection\r\n            form={form}\r\n            change={change}\r\n            name=\"selection_checkbox\"\r\n            type=\"checkbox\"\r\n            options={[\r\n              { key: '1', description: 'Sign Up' },\r\n            ]}\r\n            sizeInSM={12}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderUpperRightContainer() {\r\n    const { rightStickyStyle } = this.state;\r\n\r\n    const {\r\n      changePlan,\r\n      planDetails,\r\n      handleSubmit,\r\n      checkoutButtonDesc,\r\n    } = this.props;\r\n\r\n    return (\r\n      <Col\r\n        className={`upper-right-container ${rightStickyStyle}`}\r\n      >\r\n        <div ref={node => this.upperRightContainer = node} />\r\n        <div className=\"logo-container\">\r\n          <div className=\"logo-inner-container\">\r\n            <img className=\"company-logo\" src={planDetails.logo} alt={`${planDetails.logoDesc}.png`} />\r\n          </div>\r\n          <p>{planDetails.planName}</p>\r\n        </div>\r\n        <div className=\"submit-container\">\r\n          <div className=\"sign-up-container\">\r\n            {\r\n              planDetails.planTotal ?\r\n                <div className=\"cost-container\">\r\n                  <p className=\"total-text\">Total</p>\r\n                  <p className=\"cost-text\">{planDetails.planTotal}</p>\r\n                </div>\r\n              :\r\n                null\r\n            }\r\n            {this.renderSignUpButton(planDetails.planTotal)}\r\n            <Button\r\n              variant=\"medium-flat-green\"\r\n              width={130}\r\n              height={48}\r\n              onClick={handleSubmit(this.handlePreSubmit)}\r\n            >\r\n              <p>{checkoutButtonDesc}</p>\r\n            </Button>\r\n            {\r\n              changePlan ?\r\n                <Button\r\n                  variant=\"medium-grey\"\r\n                  width={130}\r\n                  height={48}\r\n                  onClick={() => changePlan()}\r\n                >\r\n                  <p>Change Plan</p>\r\n                </Button>\r\n              :\r\n                null\r\n            }\r\n          </div>\r\n        </div>\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { errorArray } = this.props;\r\n    return (\r\n      <Fragment>\r\n        <Row className=\"detail-main-container\" noGutters>\r\n          <div ref={node => this.upperMarker = node} />\r\n          <Col xs={12} className=\"detail-left-container\">\r\n            {this.renderSignUp()}\r\n            {this.props.children}\r\n            {errorArray}\r\n          </Col>\r\n          {this.renderUpperRightContainer()}\r\n          <Enquiry marginTop={30} />\r\n        </Row>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nDetailForm.defaultProps = {\r\n  errorArray: null,\r\n  checkoutButtonDesc: 'Checkout',\r\n};\r\n\r\nDetailForm.propTypes = {\r\n  handleSubmit: PropTypes.func.isRequired,\r\n  onSubmit: PropTypes.func.isRequired,\r\n  change: PropTypes.func.isRequired,\r\n  form: PropTypes.string.isRequired,\r\n  piggyCallback: PropTypes.func.isRequired,\r\n  planDetails: PropTypes.object.isRequired,\r\n  changePlan: PropTypes.func.isRequired,\r\n  isLoggedIn: PropTypes.bool.isRequired,\r\n  errorArray: PropTypes.array,\r\n  login: PropTypes.object.isRequired,\r\n  checkoutButtonDesc: PropTypes.string,\r\n  category: PropTypes.string.isRequired,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  login: state.login,\r\n});\r\n\r\nexport default connect(mapStateToProps)(DetailForm);\r\n","/**\r\n * Slider.js\r\n * Selection with dynamic content\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport React, { Component, Fragment } from 'react';\r\nimport { Field, getFormValues } from 'redux-form';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport _ from 'lodash';\r\n\r\nimport FormInputWrapper from '../FormInputWrapper/FormInputWrapper';\r\nimport DropDownV2 from '../DropDown/DropDownV2';\r\n\r\nimport './Slider.scss';\r\n\r\nconst SLIDERSTATE = {\r\n  ONIDLE: 0,\r\n  ONDOWN: 1,\r\n  ONUP: 2,\r\n};\r\n\r\n/**\r\n * Custom Selection Class\r\n */\r\nclass Slider extends Component {\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const {\r\n      storeForm,\r\n      inputList,\r\n      name,\r\n      formState,\r\n      formStateList,\r\n    } = nextProps;\r\n\r\n    const { activeIndex } = prevState;\r\n\r\n    let indexToChange = null;\r\n    if (storeForm) {\r\n      const selectedTabString = storeForm[name];\r\n      const selectedTabIndex = inputList.indexOf(selectedTabString);\r\n      if (selectedTabIndex !== -1 && selectedTabIndex !== activeIndex) {\r\n        indexToChange = selectedTabIndex;\r\n      }\r\n    }\r\n\r\n    if (formState) {\r\n      const formStateIndex = _.findIndex(formStateList, listState => listState.state === formState);\r\n      if (formStateIndex !== activeIndex) {\r\n        indexToChange = formStateIndex;\r\n      }\r\n    }\r\n\r\n    if (indexToChange !== null) {\r\n      const len = inputList.length - 1;\r\n      const newWidth = indexToChange / len * 100;\r\n\r\n      return ({\r\n        activeIndex: indexToChange,\r\n        sliderWidth: newWidth,\r\n      });\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      sliderWidth: 0,\r\n      sliderState: SLIDERSTATE.ONIDLE,\r\n      activeIndex: 0,\r\n      isUseDropDown: false,\r\n      marginTop: 60,\r\n    };\r\n\r\n    this.renderKnobs = this.renderKnobs.bind(this);\r\n    this.renderSummary = this.renderSummary.bind(this);\r\n\r\n    this.handleResize = this.handleResize.bind(this);\r\n\r\n    this.handleSliderDown = this.handleSliderDown.bind(this);\r\n    this.handleSliderMove = this.handleSliderMove.bind(this);\r\n    this.handleSliderUp = this.handleSliderUp.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('mousemove', this.handleSliderMove);\r\n    document.addEventListener('mouseup', this.handleSliderUp);\r\n    window.addEventListener('resize', this.handleResize);\r\n\r\n    const {\r\n      storeForm,\r\n      name,\r\n      change,\r\n      inputList,\r\n      isProductSlider,\r\n    } = this.props;\r\n\r\n    if (!isProductSlider && !(storeForm && storeForm[name])) {\r\n      change(name, inputList[0]);\r\n    }\r\n\r\n    this.handleResize();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('mousemove', this.handleSliderMove);\r\n    document.removeEventListener('mouseup', this.handleSliderUp);\r\n    window.removeEventListener('resize', this.handleResize);\r\n  }\r\n\r\n  handleResize() {\r\n    const { hideWidth, isProductSlider } = this.props;\r\n    if (!isProductSlider && hideWidth > 0) {\r\n      const isDrop = window.innerWidth <= hideWidth;\r\n      this.setState({\r\n        isUseDropDown: isDrop,\r\n        marginTop: isDrop ? 0 : 60,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSliderDown() {\r\n    const { sliderState } = this.state;\r\n\r\n    if (sliderState !== SLIDERSTATE.ONDOWN) {\r\n      this.setState({\r\n        sliderState: SLIDERSTATE.ONDOWN,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSliderMove(event) {\r\n    const { sliderState } = this.state;\r\n\r\n    if (sliderState === SLIDERSTATE.ONDOWN) {\r\n      const rect = this.sliderStart.getBoundingClientRect();\r\n      const position = Math.max(0, Math.min(event.clientX - rect.x - 5, rect.width)) / rect.width * 100;\r\n      this.setState({\r\n        sliderWidth: position,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSliderUp() {\r\n    this.handleClick();\r\n  }\r\n\r\n  handleClick(index = null) {\r\n    const { inputList, isProductSlider } = this.props;\r\n\r\n    const { sliderWidth } = this.state;\r\n    const len = inputList.length - 1;\r\n    const indexToUse = this.handleProductSlider(index === null ? Math.round(sliderWidth / 100 * len) : index);\r\n    const newWidth = indexToUse / len * 100;\r\n\r\n    if (!isProductSlider) {\r\n      const {\r\n        name,\r\n        change,\r\n      } = this.props;\r\n\r\n      change(name, inputList[indexToUse]);\r\n    }\r\n\r\n    this.setState({\r\n      sliderState: SLIDERSTATE.IDLE,\r\n      sliderWidth: newWidth,\r\n      activeIndex: indexToUse,\r\n    });\r\n\r\n    if (inputList[indexToUse].callback) {\r\n      inputList[indexToUse].callback();\r\n    }\r\n  }\r\n\r\n  handleProductSlider(indexToUse) {\r\n    const { formState, formStateList } = this.props;\r\n    if (!formState) {\r\n      return indexToUse;\r\n    }\r\n\r\n    const formStateIndex = _.findIndex(formStateList, listState => listState.state === formState);\r\n    const isValidSelection = indexToUse < formStateIndex;\r\n    if (isValidSelection && formStateList[indexToUse].callback) {\r\n      formStateList[indexToUse].callback(formState);\r\n    }\r\n\r\n    return isValidSelection ? indexToUse : formStateIndex;\r\n  }\r\n\r\n  renderKnobs() {\r\n    const { activeIndex } = this.state;\r\n    const { inputList, isProductSlider, displayList } = this.props;\r\n\r\n    const inputLength = inputList.length - 1;\r\n    return _.map(inputList, (data, index) => {\r\n      const leftOffset = index / inputLength * 100;\r\n      const isProductPassedPage = isProductSlider && index <= activeIndex;\r\n      let activeStyle = '';\r\n      if (isProductPassedPage || (!isProductSlider && index === activeIndex)) {\r\n        activeStyle = 'desc-active';\r\n      }\r\n      const sliderStyle = isProductPassedPage ? 'knob-done' : 'knob-default';\r\n      const indexToUse = index;\r\n      const dataToUse = displayList && displayList[index] ? displayList[index] : data;\r\n\r\n      return (\r\n        <button\r\n          key={data}\r\n          tabIndex={-1}\r\n          className={`knob ${sliderStyle}`}\r\n          style={{ left: `${leftOffset}%` }}\r\n          onClick={(e) => { e.preventDefault(); this.handleClick(indexToUse); }}\r\n          onKeyDown={() => {}}\r\n        >\r\n          <p className={`${activeStyle} desc`}>\r\n            {dataToUse}\r\n          </p>\r\n        </button>\r\n      );\r\n    });\r\n  }\r\n\r\n  renderSummary() {\r\n    const {\r\n      activeIndex,\r\n    } = this.state;\r\n\r\n    const {\r\n      inputList,\r\n      prefix,\r\n      suffix,\r\n      isProductSlider,\r\n      displayList,\r\n    } = this.props;\r\n\r\n    if (!isProductSlider) {\r\n      const value = inputList[activeIndex];\r\n      const valueToUse = displayList && displayList[activeIndex] ? displayList[activeIndex] : value;\r\n\r\n      return (\r\n        <div className=\"slider-summary-container\">\r\n          {\r\n            prefix ?\r\n              <span className=\"prefix-suffix\">{`${prefix} `}</span>\r\n            :\r\n              null\r\n          }\r\n          <span className=\"value\">{valueToUse}</span>\r\n          {\r\n            suffix ?\r\n              <span className=\"prefix-suffix\">{` ${suffix}`}</span>\r\n            :\r\n              null\r\n          }\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      sliderWidth,\r\n      isUseDropDown,\r\n      marginTop,\r\n    } = this.state;\r\n\r\n    const {\r\n      name,\r\n      desc,\r\n      form,\r\n      zIndex,\r\n      change,\r\n      inputList,\r\n      extraInfo,\r\n      isProductSlider,\r\n      maxWidth,\r\n      errorString,\r\n    } = this.props;\r\n\r\n    const knobColor1 = isProductSlider ? 'white-knob' : 'color-knob';\r\n    const knobColor2 = isProductSlider ? 'color-knob' : 'white-knob';\r\n\r\n    return (\r\n      <FormInputWrapper\r\n        desc={desc}\r\n        ref={node => (this.formParent = node)}\r\n        extraInfo={extraInfo}\r\n        errorString={errorString}\r\n      >\r\n        <Fragment>\r\n          {this.renderSummary()}\r\n          <div\r\n            className=\"slider-container\"\r\n            style={{ marginTop, maxWidth }}\r\n          >\r\n            {\r\n              isUseDropDown ?\r\n                <DropDownV2\r\n                  form={form}\r\n                  change={change}\r\n                  name={name}\r\n                  placeholderString=\"Enter or select your destinations\"\r\n                  dropList={inputList}\r\n                  size=\"medium\"\r\n                  zIndex={zIndex}\r\n                  isDisableTyping\r\n                />\r\n              :\r\n                <Fragment>\r\n                  <div\r\n                    className=\"line\"\r\n                    ref={node => this.sliderStart = node}\r\n                  />\r\n                  <div\r\n                    className=\"line-green\"\r\n                    style={{ width: `${sliderWidth}%` }}\r\n                  />\r\n                  <div\r\n                    className=\"knob-container\"\r\n                  >\r\n                    {this.renderKnobs()}\r\n                  </div>\r\n                  <div\r\n                    className=\"knob-container\"\r\n                  >\r\n                    <button\r\n                      tabIndex={0}\r\n                      className={`slider-knob ${knobColor1}`}\r\n                      ref={node => this.slider = node}\r\n                      onMouseDown={this.handleSliderDown}\r\n                      onClick={e => e.preventDefault()}\r\n                      style={{ left: `${sliderWidth}%` }}\r\n                    >\r\n                      <div className={`inner ${knobColor2}`} />\r\n                    </button>\r\n                    {\r\n                      isProductSlider ?\r\n                        null\r\n                      :\r\n                        <Field name={name} component={() => null} />\r\n                    }\r\n                  </div>\r\n                </Fragment>\r\n            }\r\n          </div>\r\n        </Fragment>\r\n      </FormInputWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nSlider.defaultProps = {\r\n  desc: null,\r\n  hideWidth: 0,\r\n  prefix: null,\r\n  suffix: null,\r\n  extraInfo: null,\r\n  isProductSlider: false,\r\n  name: null,\r\n  zIndex: 0,\r\n  change: null,\r\n  storeForm: null,\r\n  form: null,\r\n  maxWidth: '100%',\r\n  errorString: null,\r\n  formState: null,\r\n  formStateList: null,\r\n  displayList: null,\r\n};\r\n\r\nSlider.propTypes = {\r\n  isProductSlider: PropTypes.bool,\r\n  inputList: PropTypes.array.isRequired,\r\n  name: PropTypes.string,\r\n  zIndex: PropTypes.number,\r\n  change: PropTypes.func,\r\n  desc: PropTypes.string,\r\n  storeForm: PropTypes.object,\r\n  hideWidth: PropTypes.number,\r\n  form: PropTypes.string,\r\n  prefix: PropTypes.string,\r\n  suffix: PropTypes.string,\r\n  extraInfo: PropTypes.object,\r\n  maxWidth: PropTypes.string,\r\n  errorString: PropTypes.string,\r\n  formState: PropTypes.number,\r\n  formStateList: PropTypes.array,\r\n  displayList: PropTypes.array,\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  storeForm: (getFormValues(ownProps.form)(state)),\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Slider);\r\n","module.exports = __webpack_public_path__ + \"static/media/Phone.02c1235c.svg\";","/**\r\n * Accordion.js\r\n * A collapse view that is enhanced from reactstrap\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson Phoo](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Collapse, CardBody, Card } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ArrowGradient from 'assets/images/forms/ArrowGradient.svg';\r\n\r\nimport './Accordion.scss';\r\n\r\n/**\r\n * Custom Form Dropdown class\r\n */\r\nclass Accordion extends Component {\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {object} props Component props\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isOpened: false,\r\n      openCallback: null,\r\n    };\r\n\r\n    this.handleExpand = this.handleExpand.bind(this);\r\n    this.setOpenCallback = this.setOpenCallback.bind(this);\r\n  }\r\n\r\n  setOpenCallback(callback) {\r\n    this.setState({\r\n      openCallback: callback,\r\n    });\r\n  }\r\n\r\n  handleExpand() {\r\n    const { isOpened, openCallback } = this.state;\r\n    if (!isOpened && openCallback) {\r\n      setTimeout(() => openCallback(), 10);\r\n    }\r\n\r\n    this.setState({\r\n      isOpened: !isOpened,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isOpened,\r\n    } = this.state;\r\n\r\n    const {\r\n      height,\r\n      isWarning,\r\n      isFullBorder,\r\n    } = this.props;\r\n\r\n    const openStyle = isOpened ? 'accordion-opened' : 'accordion-closed';\r\n    const openText = isOpened ? 'Close Details' : 'Expand Details';\r\n    const arrowOpenStyle = isOpened ? 'arrow-opened' : 'arrow-closed';\r\n    const borderStyle = isFullBorder ? 'accordion-border' : '';\r\n\r\n    return (\r\n      <div className={`${borderStyle} accordion-container`}>\r\n        <div className=\"accordion-inner\">\r\n          <Collapse className={openStyle} isOpen={isOpened}>\r\n            <Card>\r\n              <CardBody>\r\n                {this.props.children}\r\n              </CardBody>\r\n            </Card>\r\n          </Collapse>\r\n        </div>\r\n        <div className=\"expand-container\" style={{ minHeight: height }}>\r\n          <button\r\n            className=\"control-container\"\r\n            onClick={() => this.handleExpand()}\r\n          >\r\n            <img className={`arrow ${arrowOpenStyle}`} src={ArrowGradient} alt=\"Arrow.svg\" />\r\n            <span>{openText}</span>\r\n          </button>\r\n        </div>\r\n        {\r\n          isWarning ?\r\n            <div className=\"warning-container\">\r\n              <p>Please make sure all your information is correct before making the payment</p>\r\n            </div>\r\n          :\r\n            null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nAccordion.defaultProps = {\r\n  isWarning: false,\r\n  height: 95,\r\n  isFullBorder: false,\r\n};\r\n\r\nAccordion.propTypes = {\r\n  isWarning: PropTypes.bool,\r\n  isFullBorder: PropTypes.bool,\r\n  height: PropTypes.number,\r\n};\r\n\r\nexport default Accordion;\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAsNJREFUSA3Flz1rFEEYgLOSGJB0QsRTCxtFUUHTCImS9BaR09JKLQTBQs0/uEoU0mpnFQiYCIp2CYqFogELP7CwCJ6iCAqxMEU4n+cya9Zld7KXkPjCczM779fM7nxd0lVBWq1WgtkgjMIA1AIUXZ8Dryin4VmSJC3KqBiwVEjYi/IKXIUmGPhpqJtQsRO74ATYMes3YZwOLFJ2JiStwzxMwv6q3toGH33rVf3adjg04CMc78gxY6xviNHINJdXMZ6AWdheblVNY4wQayLqgZEjNWlP1LADpbFCzOKRo/Sb+nrXPdJ8v4wZYv/7zWnsBSfDmr9pPln+2dghhytlWWgYg8n0OVZi1w9nYAqewwXYF/NJddi5Qsbaz1QS+ArRJYO+G67DJ8jLAg23wTVcKuhdauZKuvgZgrlSaxTonSB3ISu/ePiZaVikfjIWRx02czC0hbq7jTtSTK6hPBcM5ikvwhE4BKfgEdTZqZ5QribmGrUHMzBSZo2uBt9BacLBMtsq7fiPwEw3xu61zYiTnUqX2C1G9VZbnN3nj8I2HyEV2z9g9y1tyJXmqhnAidGXU/59RPcClCU4liqo+93fQZHcSe3yJcZ9sOA3VuxlmcR0PSVO/SXtNhuvZWKPt51QJuNBoe1wxmiJ+iVwNzoNNyCVB2mloDTXl7VMrgMFwYxzL7zz35SFNvqha08uR+HNwUO8UJgkvhEPdsWJ+Bjn87AXnPHDcJ92R61Mwft2rfjHXC/tQZUNZCt2+Q3ESfkDsvKGh93F+ZZb0bc3EBN3smW6p7uW8+Lr9Rzfs0rSlS1TQxw6OSR2YH8WHsJruAyHYwlTHXYrh0RI/H+OxZC8To829yKQeRUNks9C2caQmlYujRViNqJOGG3+ZS/tEckd+eZebzPJ/ebewzbkQh87AFxmG/YXJpo4M3rtBsHbygCs+0/bH+1FEN8ETvXEAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAArlJREFUSA29l79PFEEUx3f38EBFE6ONoLGwMLGUkJAQC/4DEmJCYeU/YGGirYnSmFD4X5DQ4F+ACblKiQUSQwGFl8NYkmtgXXb9fI9ZmJuws3MQ7iXfm1/vve/M7JuZd3EUIEVRxKjNgnkwBSYMKKJ9g03KNdCK47ig9IocVgqEowy+Bm9AB8jxhqmLUKJJTILnQBNTfRl8ZgJHlIMJpAvgN1gFT0KtpWtsZLsQatfTw2AJ7IGZgQwtZdkaH0tWd3UV5RXwFdyt1gobkQ/ja8VrgZJWKtJrXsUBBuXL+Dx/5Qzqm2p7L71Sd17yaXz3f3M6R4GC4cLf1CVz2/JtOHRSot5xouMt9WnC/4VrUNU+JHpHjo9nsLktP0mSbFD/UaWvfnhWKb6h90mNGPwFwUcmy7KX6B8AW975SA2xjpq44hE6dCN1mMVOnaExvkX5AWiltuR247y6OCDVRTQrYt02upGCJE3TR81m84FRTvM8f4+zX+zCzyAHJ1zz2up1MBdoFKVp8QyyHBvJPhgLtZUe+nNgPaGuu1bLr5V2u309jqMblqKC8x6Obm5vF02r31cV14Rm0AXjPk2NoaMgXGOxHcpSMto6hnts9WKdD+NnHP2uvrHE+0qdqPR+HxMg2qFSGrQfqtFoNEJfInEVItbzdh90gVfyPNrkqU0ge2oU/zH7LeoZfbte47NBcf25QHCl05DZwXXnzGd9DdvT4FLmoEc8VNzzWpttOI7F9V1RrTOssxwqbjy47To/4voi4haYZAuCr8w6z1XjhkOpUUuBoq1SjvSxysDp12TLVQ50eRiOZcPZO6PBzyKz1oXxymCRMujiQK/vWTxdDAPDTwRKdsiHn/pY5MNP9ixyrXy46a1Frm+uB+BKEvryWJR8fSWkSsyu5C+Ml7icBROQnlIk3TpT4NJ/2v4DJHsycMQfgx0AAAAASUVORK5CYII=\"","/**\r\n * PiggySignUp.js\r\n * The piggy sign up template\r\n *\r\n * @version 0.0.1\r\n * @author [Wilson](wilson@policypal.com)\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Pig from 'assets/images/Motor/Pig.svg';\r\n\r\nimport Button from 'components/FormsV3/Button/Button';\r\n\r\nimport './PiggySignUp.scss';\r\n\r\nclass PiggySignUp extends Component {\r\n  render() {\r\n    const {\r\n      header,\r\n      subHeader,\r\n      buttonInner,\r\n      onClick,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className=\"piggy-container\">\r\n        <Col className=\"d-flex d-sm-none wrap-container\" xs={12}>\r\n          <div className=\"piggy-img-container\">\r\n            <img src={Pig} alt=\"Pig.svg\" />\r\n          </div>\r\n          <div className=\"piggy-right-container\">\r\n            <div className=\"piggy-desc-container\">\r\n              {header}\r\n              {subHeader}\r\n            </div>\r\n          </div>\r\n          <div className=\"button-container\">\r\n            <Button variant=\"medium-color\" width=\"100%\" height={48} onClick={onClick}>\r\n              <p>{buttonInner}</p>\r\n            </Button>\r\n          </div>\r\n        </Col>\r\n        <Col className=\"d-none d-sm-flex wrap-container\" xs={12}>\r\n          <div className=\"piggy-img-container\">\r\n            <img src={Pig} alt=\"Pig.svg\" />\r\n          </div>\r\n          <div className=\"piggy-right-container\">\r\n            <div className=\"piggy-desc-container\">\r\n              {header}\r\n              {subHeader}\r\n            </div>\r\n            <div className=\"button-container\">\r\n              <Button variant=\"medium-color\" width=\"100%\" height={48} onClick={onClick}>\r\n                <p>{buttonInner}</p>\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nPiggySignUp.defaultProps = {\r\n  onClick: () => {},\r\n};\r\n\r\nPiggySignUp.propTypes = {\r\n  header: PropTypes.object.isRequired,\r\n  subHeader: PropTypes.object.isRequired,\r\n  buttonInner: PropTypes.object.isRequired,\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default PiggySignUp;\r\n","module.exports = __webpack_public_path__ + \"static/media/Pig.4e0854df.svg\";","module.exports = __webpack_public_path__ + \"static/media/Tick.02ce5aca.svg\";"],"sourceRoot":""}